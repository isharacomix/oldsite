{"shell":"/bin/bash","uname":"Linux beatrix 3.11.0-15-generic #25-Ubuntu SMP Thu Jan 30 17:25:07 UTC 2014 i686 athlon i686 GNU/Linux\n","private":null,"title":"Rules of War Day 24","rows":24,"description":"Day 24 of RoW Development","recorded_at":"1391655646","columns":80,"xdg_current_desktop":"XFCE","tags":"emacs, gamedev, python","term":"xterm","timing":"0.359764 96\n0.280349 1\n1.228725 1\n0.095582 1\n0.080211 1\n0.136198 1\n0.055676 1\n0.024133 2\n0.155055 42\n0.521307 196\n0.000019 56\n0.000015 2\n0.000014 58\n0.000045 127\n0.000387 96\n0.026391 6\n0.769103 4\n0.215445 2\n0.185512 24\n0.015985 7\n0.041800 8\n0.000037 36\n0.000027 24\n0.000604 7\n0.001677 188\n0.008122 63\n0.008354 43\n0.001713 87\n0.000768 43\n0.002123 73\n0.000756 57\n0.003653 106\n0.029179 124\n0.003571 68\n0.000028 276\n0.000314 12\n0.002176 54\n0.000025 104\n0.000737 130\n0.004075 5\n0.029218 123\n0.001656 334\n0.000415 103\n0.034520 35\n0.000044 188\n0.035690 1505\n0.000554 12\n0.507504 102\n0.218954 29\n0.000040 44\n0.821387 565\n0.305969 136\n0.447359 63\n0.239384 28\n0.479640 28\n0.200271 28\n0.031695 28\n0.351976 3\n0.144374 28\n0.343614 28\n0.184189 28\n0.120050 3\n0.095907 28\n0.192176 28\n0.183868 4\n0.544168 28\n0.111845 3\n0.192076 28\n0.224228 28\n0.095572 28\n0.080246 1\n0.080036 28\n0.087742 28\n0.064097 28\n0.119845 28\n0.128279 28\n0.071977 3\n0.048067 28\n0.151828 28\n0.096061 28\n0.088004 3\n0.079624 28\n0.104515 3\n0.039868 28\n0.152076 28\n0.135991 28\n0.079823 1\n0.088181 28\n0.488061 28\n0.111438 3\n0.088399 28\n0.064174 28\n0.088003 28\n0.215981 2\n0.352048 28\n2.424083 28\n0.159812 28\n0.039856 28\n0.344179 28\n0.016398 4\n0.543462 28\n0.096076 28\n0.136123 28\n0.095877 2\n0.112049 28\n0.040059 3\n0.071946 28\n0.162103 28\n0.141941 28\n0.079659 3\n0.079951 28\n0.152309 28\n0.095996 1\n0.063705 28\n0.200461 28\n0.135852 3\n0.128003 28\n0.119652 28\n0.096368 28\n0.104027 4\n0.287921 4\n0.087859 28\n0.208329 28\n0.095553 28\n0.120407 28\n0.087641 28\n0.032088 28\n0.048187 3\n0.119868 28\n0.080116 28\n0.152049 28\n0.103865 28\n0.031915 1\n0.127933 28\n0.049494 28\n0.062851 28\n0.079757 63\n0.440651 28\n0.039507 28\n0.064214 28\n0.095550 28\n0.079951 28\n0.608260 3\n0.103916 28\n0.111931 28\n0.184241 28\n0.160133 28\n0.079235 3\n0.104067 28\n0.240468 28\n0.151895 28\n0.176143 28\n0.231740 28\n0.200084 28\n0.088234 3\n0.104021 28\n0.079818 28\n0.160198 28\n0.047697 28\n0.200533 28\n0.047668 28\n0.048782 3\n0.095354 28\n0.095873 28\n0.112067 28\n0.144090 28\n0.207782 28\n0.088052 2\n0.119756 28\n0.152243 28\n0.127923 28\n0.071757 28\n0.112321 3\n0.448079 28\n0.415931 3\n0.239961 1\n0.367961 28\n0.103925 2\n0.087987 28\n0.128104 28\n0.079816 28\n0.136367 3\n0.055807 28\n0.055870 28\n0.104232 28\n0.175976 28\n1.240078 28\n0.103989 3\n0.256039 28\n1.359856 28\n0.143910 28\n0.144057 28\n0.119926 3\n0.072111 28\n0.136088 28\n0.111888 28\n0.207769 28\n0.128401 28\n0.063794 28\n0.031812 28\n0.015914 3\n0.256333 1\n0.727949 4\n0.120249 4\n0.135936 28\n0.263952 28\n0.087587 4\n0.272351 4\n0.079862 28\n0.112177 28\n0.113396 3\n0.054603 28\n0.071826 28\n0.072261 28\n0.104090 3\n0.055792 28\n0.127996 28\n0.055940 28\n0.120055 3\n0.144194 28\n0.479930 28\n0.135748 28\n0.112041 28\n0.072740 63\n0.103561 28\n0.159682 28\n0.168075 28\n0.063981 28\n0.120170 28\n0.071296 28\n0.024591 2\n0.160056 28\n0.103995 28\n0.095862 28\n0.136183 28\n0.087972 28\n0.055979 28\n0.040877 28\n0.127145 28\n0.071867 28\n0.120136 3\n0.072012 28\n0.095894 3\n0.128014 28\n0.328054 28\n0.095808 28\n0.055917 2\n0.176193 28\n1.392030 28\n0.175856 28\n0.084143 28\n0.115903 3\n0.168372 28\n0.343743 28\n0.103743 28\n0.088362 28\n0.152009 28\n0.151898 28\n0.064201 3\n0.095837 28\n0.152009 28\n0.119954 28\n0.424153 28\n0.231845 4\n0.359931 28\n0.135586 28\n0.120382 28\n0.167845 28\n0.056228 4\n0.303782 4\n0.120148 28\n0.200002 28\n0.056031 28\n0.055920 28\n0.103983 63\n0.264649 64\n0.111834 28\n0.167657 28\n0.176489 3\n0.119151 28\n0.161078 28\n0.071498 28\n0.135635 28\n0.072639 1\n0.095134 28\n0.152218 28\n0.071879 3\n0.109912 28\n0.208095 28\n0.104121 28\n0.058179 28\n0.392549 1\n0.134950 28\n0.064104 28\n0.160249 28\n0.047870 3\n0.136073 1\n0.255969 4\n0.088177 4\n0.152039 28\n0.216102 28\n0.047825 28\n0.039731 3\n0.112622 28\n0.151611 28\n0.112033 28\n0.112179 28\n0.111740 28\n0.080315 28\n0.119561 28\n0.032073 28\n0.088110 3\n0.096220 1\n0.311721 4\n0.120295 4\n0.143695 3\n0.111721 28\n0.104158 28\n0.064009 28\n0.096175 28\n0.103866 28\n0.031945 28\n0.232157 3\n0.071779 28\n0.104034 28\n0.064204 28\n0.160061 28\n0.160028 28\n0.080007 3\n0.087874 28\n0.071763 28\n0.040207 28\n0.450068 65\n0.318675 64\n0.103739 64\n0.592257 64\n0.272587 28\n0.750834 3\n0.104076 28\n0.072139 28\n0.047567 28\n0.088273 28\n0.111770 28\n0.064108 1\n0.135615 28\n0.392538 3\n0.135811 28\n0.129278 28\n0.046656 28\n0.127989 28\n0.039748 2\n0.071888 28\n0.136278 28\n0.072207 3\n0.071814 28\n0.152302 28\n0.047834 28\n0.120146 28\n0.031684 2\n0.080270 28\n0.111861 28\n0.159916 28\n0.008411 28\n0.071644 4\n0.568069 4\n0.112295 28\n0.119900 28\n0.135901 28\n0.063906 28\n0.031813 28\n0.072604 2\n0.103543 28\n0.096178 28\n0.103862 3\n0.248698 191\n0.360175 41\n0.223447 41\n0.223813 41\n0.039985 41\n0.039706 41\n0.152097 41\n0.047880 3\n0.368122 1\n0.496287 57\n0.248085 3\n0.151827 28\n0.128012 28\n0.183951 28\n0.199976 28\n0.175992 28\n0.215905 3\n0.072080 28\n0.215930 28\n0.128201 28\n0.111845 28\n0.072094 28\n0.144067 28\n0.007686 28\n0.112376 28\n0.223817 28\n0.272032 3\n0.079794 28\n0.080029 28\n0.071882 28\n0.256327 28\n0.104111 28\n0.087901 28\n0.047906 28\n0.128191 3\n0.087716 28\n0.152120 28\n0.087540 28\n0.112558 28\n0.168087 28\n0.095859 64\n0.280335 28\n0.071726 28\n0.143854 28\n0.048087 28\n0.127768 28\n0.031917 28\n0.064266 28\n0.176222 1\n0.112066 28\n0.119813 28\n0.160073 28\n0.055796 28\n0.120238 28\n0.111655 3\n0.071963 28\n0.120586 28\n0.167751 28\n0.032030 28\n0.039802 28\n0.480276 28\n0.191877 28\n0.096051 28\n0.063825 2\n0.136060 28\n0.039932 28\n0.103844 4\n0.384318 28\n0.151754 28\n0.040089 3\n0.119741 28\n0.096412 28\n0.207820 28\n0.080036 28\n0.127857 28\n0.080334 4\n0.271860 4\n0.112077 4\n0.135990 4\n0.143449 28\n0.224649 28\n0.148399 28\n0.051304 28\n0.087906 28\n0.128306 28\n0.056163 28\n0.167845 3\n0.168212 28\n0.599725 28\n0.223842 28\n0.151803 28\n0.152144 28\n0.056276 3\n0.112074 28\n0.055928 28\n0.112073 28\n0.063548 3\n0.128191 28\n0.071972 28\n0.119867 28\n0.112136 28\n0.152028 28\n0.104059 28\n0.063655 3\n0.096425 28\n0.192026 28\n0.031768 28\n0.168056 28\n0.064598 28\n0.095235 28\n0.040593 28\n0.119278 28\n0.064295 28\n0.135975 36\n0.217622 33\n0.230425 3\n4.424748 28\n0.343327 28\n0.279940 28\n0.239954 28\n0.136199 28\n0.047892 28\n0.048044 1\n0.136253 28\n0.175957 6\n0.319773 1\n0.176212 1\n0.368145 28\n0.079317 6\n0.432337 1\n0.500854 4\n0.050571 4\n0.050493 4\n0.050481 4\n0.050216 4\n0.050422 8\n0.050063 1\n0.050510 3\n0.418504 28\n0.152069 28\n0.231735 3\n0.152194 28\n0.471753 28\n0.095743 28\n0.024106 28\n0.192437 28\n0.119876 64\n0.568341 28\n0.263457 28\n0.191971 28\n0.143938 3\n0.208114 28\n0.095970 28\n0.151962 28\n0.136250 28\n0.048807 28\n0.239070 28\n0.040738 3\n0.151359 1\n0.335816 4\n0.127990 4\n0.136031 28\n0.112073 3\n0.007569 28\n0.008007 3\n0.168302 28\n0.128378 8\n0.255842 1\n0.111556 8\n0.160334 1\n0.151993 4\n0.127931 3\n0.136406 28\n0.015332 28\n0.088344 3\n0.175988 28\n0.112125 28\n0.063748 28\n0.112009 1\n0.104784 28\n0.023736 28\n0.095693 28\n2.191731 64\n0.312967 64\n0.143530 64\n0.144156 64\n0.127748 64\n0.305613 64\n0.117965 28\n0.664304 28\n0.135953 28\n0.535759 3\n0.232216 28\n0.071845 28\n0.088107 28\n0.079912 1\n0.184030 28\n0.183901 3\n0.144046 28\n0.080292 28\n0.032008 28\n0.111735 28\n0.088048 1\n0.048157 1\n0.000433 28\n0.127268 28\n0.096055 28\n0.071880 28\n0.079937 3\n0.104262 28\n0.112617 28\n0.086906 2\n0.072972 28\n0.055162 28\n0.088904 28\n0.087712 28\n0.095514 3\n0.072151 28\n0.079724 28\n0.136254 2\n0.184070 28\n0.191929 3\n0.136386 28\n0.087684 28\n0.048498 28\n0.111458 28\n0.096073 3\n0.039840 28\n0.112020 28\n0.112310 28\n0.127942 3\n0.215981 28\n0.144068 28\n0.159886 28\n0.072341 28\n0.159697 2\n0.120049 28\n0.071649 28\n0.144140 3\n0.088222 28\n0.120142 28\n0.175810 28\n0.096189 28\n0.039763 2\n0.152883 28\n0.127146 28\n0.103886 28\n0.088190 3\n0.096115 28\n0.320069 28\n0.111468 28\n0.144736 28\n0.159571 28\n0.063548 28\n0.045815 28\n0.162649 3\n0.095876 28\n0.024043 28\n0.112109 28\n0.105009 2\n0.126889 28\n0.087939 28\n0.095668 3\n0.136925 28\n0.111442 28\n0.127959 28\n0.095959 99\n0.257068 28\n1.046926 28\n0.144327 28\n0.111889 28\n0.120585 28\n0.087301 28\n0.007863 28\n0.311958 1\n0.144523 28\n0.095987 28\n0.122866 28\n0.052557 28\n0.048191 3\n0.096122 28\n0.167815 28\n0.208147 28\n0.208891 28\n0.038769 3\n0.176222 28\n0.079686 28\n0.112643 3\n0.071541 28\n0.111835 28\n0.040111 1\n0.080494 28\n0.127579 28\n0.152113 28\n0.130026 28\n0.047104 28\n0.094950 28\n0.240064 1\n2.871159 32\n1.321186 32\n0.199824 32\n0.047932 32\n0.407952 32\n0.272040 32\n0.287951 32\n0.272081 32\n0.367994 32\n0.095747 32\n0.376400 32\n0.111956 32\n0.095846 32\n0.168020 32\n0.079618 32\n0.136238 32\n0.071631 32\n0.080459 32\n0.087661 32\n0.104186 32\n0.080048 32\n0.056270 32\n0.039642 32\n0.152571 32\n0.423987 36\n0.263613 32\n0.191935 32\n0.424277 32\n0.231817 32\n0.079765 32\n0.072186 4\n5.055352 3\n0.272748 28\n0.831786 28\n0.168009 28\n0.096115 28\n0.143997 28\n0.016187 1\n0.520097 1\n0.000088 28\n0.167379 3\n0.144251 28\n0.368374 28\n0.047461 28\n0.144304 3\n0.079906 28\n0.119925 28\n0.064017 28\n0.111701 28\n0.040135 3\n0.135848 28\n0.184331 28\n0.047916 28\n0.151884 99\n0.184740 28\n0.247150 28\n0.256222 28\n0.047858 28\n0.040519 28\n0.183652 28\n0.055958 2\n0.192384 28\n0.175738 28\n0.071718 3\n0.103972 28\n0.064013 28\n0.071835 28\n0.064365 3\n0.112072 211\n0.248060 41\n0.184037 41\n0.199803 41\n0.088046 41\n0.080010 57\n0.352088 3\n0.111928 28\n0.112174 8\n0.329670 1\n0.110050 207\n0.152584 43\n0.167798 43\n0.159833 43\n0.144011 43\n0.128296 41\n0.079541 41\n0.063518 41\n0.128551 41\n0.071853 41\n0.087916 41\n0.072260 57\n0.160732 2\n0.151263 28\n0.063794 28\n0.103982 28\n0.016438 28\n0.103724 28\n0.168265 28\n0.007359 28\n0.072324 28\n0.143998 4\n0.368050 4\n0.119978 4\n0.127968 28\n0.096600 28\n0.175463 2\n7.016199 28\n0.255743 28\n0.231984 3\n0.273043 28\n1.055198 28\n0.071594 28\n0.056040 28\n0.128310 28\n0.095944 1\n0.095913 28\n0.159801 28\n0.072250 28\n0.120154 28\n0.079655 3\n0.119925 28\n0.048362 2\n0.063687 28\n0.376406 28\n0.191748 28\n0.216219 28\n0.104091 28\n0.127989 28\n0.207807 28\n0.088134 28\n0.087578 28\n0.096532 28\n0.071678 28\n0.031922 28\n0.152193 3\n0.104022 28\n0.127785 28\n0.160264 28\n0.071816 28\n0.160212 28\n0.120027 28\n0.056097 3\n13.720262 28\n0.071612 28\n0.111960 28\n0.088363 28\n0.023632 1\n0.151941 28\n0.183860 28\n0.208193 4\n0.463817 6\n0.160066 1\n0.152010 25\n0.256412 74\n0.000037 28\n0.159570 28\n0.063799 28\n0.216197 28\n0.079509 28\n0.136391 28\n0.103825 28\n0.104544 28\n0.215562 3\n0.095934 28\n0.104218 28\n0.183981 28\n0.200006 28\n0.079797 28\n0.120470 28\n0.080127 28\n0.031342 3\n0.120509 28\n1.559783 28\n0.376012 28\n0.111884 28\n0.168088 28\n0.047994 28\n0.063896 28\n4.648664 3\n0.103116 28\n0.112279 28\n0.128191 28\n0.055423 3\n0.112536 28\n0.095833 28\n0.103808 28\n0.104188 28\n0.080096 3\n0.128288 28\n0.175586 28\n0.079893 28\n0.128159 28\n0.088100 2\n0.119915 28\n0.060375 3\n0.059565 1\n1.640174 28\n0.264130 3\n0.087844 28\n0.056069 28\n0.191887 28\n0.168170 28\n0.055982 28\n0.079995 28\n0.272023 28\n0.119862 28\n0.064173 28\n0.144249 3\n0.087590 28\n0.080048 28\n0.152245 1\n0.015584 1\n0.000515 28\n0.215776 28\n0.119957 4\n0.391824 7\n0.112034 28\n0.080192 28\n0.119766 28\n0.087559 3\n0.096670 28\n0.120258 28\n0.144235 28\n0.127934 28\n0.063436 28\n0.112119 28\n0.023760 28\n0.144080 28\n0.089109 28\n0.159192 28\n0.095331 28\n0.040230 28\n0.175919 1\n0.272248 28\n0.144005 28\n0.440313 28\n0.095393 28\n0.160317 28\n0.135918 28\n0.040343 25\n0.160222 80\n0.000037 28\n0.119607 28\n0.120990 28\n0.062815 28\n0.040309 3\n0.127448 28\n0.312169 8\n0.463888 28\n0.583907 28\n0.096083 1\n0.088038 28\n0.120218 28\n0.047843 28\n0.088355 28\n0.159474 3\n0.096216 28\n0.159890 28\n0.058642 1\n0.125804 28\n0.055603 28\n0.184127 4\n0.306115 6\n0.133775 1\n0.143804 4\n0.136013 8\n0.128186 28\n0.095809 28\n0.120233 28\n0.079909 3\n0.079734 28\n0.080400 28\n0.103975 28\n0.071718 3\n0.104264 28\n0.095628 28\n0.064293 28\n0.120020 28\n0.047692 28\n0.152689 28\n0.079720 3\n0.159969 28\n0.303896 28\n0.095970 28\n0.160146 28\n0.023537 28\n0.096330 28\n0.104054 28\n0.087970 28\n0.064102 28\n0.135974 28\n0.224036 2\n0.152088 28\n0.095794 28\n0.176144 3\n0.104059 28\n0.095848 28\n0.112213 28\n0.079972 28\n0.095897 2\n0.071564 28\n0.120568 28\n0.047888 28\n0.176058 28\n0.063741 3\n0.088551 28\n0.103874 28\n0.079900 2\n0.047757 28\n0.072230 28\n0.152019 28\n0.095907 28\n0.087834 28\n0.119968 3\n0.088221 28\n0.145434 28\n0.158463 28\n0.031881 28\n0.056219 28\n0.159736 28\n0.024104 28\n0.103691 3\n0.088835 28\n0.167715 28\n0.144038 28\n0.127697 3\n0.048090 28\n0.176438 28\n0.095654 28\n0.112114 28\n0.031672 28\n0.120246 65\n0.520213 28\n0.215721 28\n0.056028 3\n0.071679 28\n0.136292 28\n0.087984 28\n0.127891 28\n0.151772 28\n0.072179 28\n0.048161 3\n0.096062 28\n0.159995 28\n0.191999 28\n0.248173 28\n0.271939 28\n0.063827 28\n0.031807 3\n0.175968 28\n0.072121 28\n0.096091 28\n0.071666 28\n0.112591 3\n0.095802 28\n1.048246 28\n0.192266 28\n0.135865 28\n0.255749 3\n0.119988 28\n0.111873 96\n0.146974 15\n1.499959 150\n0.444645 45\n0.007930 90\n0.908018 52\n0.752367 90\n0.743161 52\n0.689388 1\n0.183736 92\n0.001927 15\n0.532836 108\n0.178679 29\n0.000083 28\n0.797405 4\n0.495756 28\n0.488178 28\n0.119844 30\n0.107796 28\n0.140519 28\n0.128137 30\n0.051183 28\n0.732638 28\n0.160148 28\n0.175925 1\n0.114119 48\n0.002635 4\n0.429167 4\n0.150015 4\n0.143986 28\n0.120046 28\n0.015734 48\n0.244011 4\n0.342223 28\n0.222171 28\n0.096169 34\n0.082775 1\n0.328921 55\n0.114536 47\n0.005073 143\n0.014847 1710\n0.000175 59\n0.272759 12\n0.580200 123\n0.371999 29\n0.000036 4\n0.844396 4\n0.175906 28\n0.624268 28\n0.144007 28\n0.808113 28\n0.135724 28\n0.304034 28\n0.151845 28\n0.176157 28\n0.136346 28\n0.039587 4\n0.296084 4\n0.112245 4\n0.127620 28\n0.184138 28\n0.056112 28\n0.127925 1\n0.108657 48\n0.003610 1\n0.280815 1\n0.041368 106\n0.004429 117\n0.000337 148\n2.517180 12\n1.114997 110\n0.507528 29\n0.000209 28\n0.756729 28\n0.136157 35\n0.179939 1\n0.505981 49\n0.043617 973\n0.000541 190\n0.000033 360\n0.000357 451\n1.853310 845\n0.000047 337\n0.001133 159\n0.893907 724\n0.000109 419\n0.000752 812\n0.411164 431\n0.000043 136\n0.000083 146\n0.000566 66\n0.725647 851\n0.000049 457\n0.000669 64\n0.586950 64\n0.204068 64\n0.231828 64\n0.408687 64\n1.047037 64\n0.500297 64\n0.051896 64\n0.050408 61\n0.050996 1270\n0.055424 64\n0.046186 64\n1.269047 65\n0.255963 64\n5.448286 63\n0.500478 63\n0.050205 63\n0.050600 63\n0.050451 63\n0.050550 63\n0.050528 62\n0.049706 61\n0.051626 355\n0.053899 395\n0.000051 325\n0.000080 153\n0.000549 65\n0.378993 64\n0.207852 64\n0.175952 64\n0.206259 65\n0.457105 65\n1.460311 8\n0.332055 65\n2.226992 66\n0.149622 4\n0.447215 25\n0.462050 148\n0.000042 149\n0.131920 64\n0.241036 1\n0.121076 28\n0.317703 28\n0.192148 28\n0.120036 1\n0.111981 53\n0.000093 28\n0.071325 28\n1.496702 28\n0.175696 28\n0.087592 4\n0.304648 4\n0.111772 28\n0.089077 28\n0.150946 56\n0.001206 47\n0.001327 46\n0.109570 28\n0.128068 28\n0.048084 3\n0.264409 28\n0.103647 3\n0.087634 64\n0.673492 65\n0.497626 65\n0.049910 65\n0.051087 65\n0.050615 65\n0.050432 65\n0.297350 65\n0.160419 65\n0.152098 65\n0.167888 64\n0.160623 65\n0.167418 66\n0.159878 66\n0.351661 28\n0.625871 28\n0.352456 28\n0.096617 28\n0.143755 28\n0.063173 28\n0.063759 28\n0.200320 28\n0.191925 28\n0.255756 28\n0.232348 28\n0.087524 28\n0.144763 28\n0.087831 28\n0.047932 28\n0.296312 28\n0.295576 28\n0.224107 28\n0.175798 28\n0.087946 28\n0.760225 28\n0.247784 28\n0.200263 28\n0.232442 28\n0.136630 36\n0.426673 99\n0.676617 1\n0.121773 28\n0.238056 28\n0.207504 28\n0.080058 28\n0.231626 28\n0.600135 4\n0.246881 4\n0.097169 54\n0.111970 2\n0.207758 32\n0.000034 57\n0.552599 28\n0.215447 28\n0.753102 28\n0.159007 28\n0.168241 4\n0.895952 28\n0.200168 28\n0.079969 28\n0.184453 28\n0.159508 28\n0.127831 28\n0.200271 28\n0.135802 28\n0.151936 28\n0.032257 3\n0.352012 28\n0.152049 3\n0.079928 28\n1.688402 28\n0.111462 28\n0.167906 28\n0.176179 28\n0.088106 28\n0.039763 28\n0.048364 28\n0.351840 28\n0.120205 28\n0.200034 28\n0.120005 28\n0.136183 28\n0.079604 28\n0.064184 28\n0.512079 28\n0.256239 28\n0.247732 28\n0.311935 28\n0.304107 28\n0.328534 28\n0.343353 28\n0.240043 28\n0.143813 28\n0.160024 36\n0.420403 99\n0.356211 1\n0.154068 28\n0.253104 28\n0.175994 28\n0.096002 2\n0.088139 52\n0.000031 28\n0.103604 28\n0.080368 28\n0.087767 28\n0.152035 28\n0.103983 28\n0.160586 28\n0.007990 28\n0.183685 28\n0.111730 28\n0.184177 4\n0.328078 28\n0.111865 28\n0.128184 28\n0.199754 28\n0.175944 4\n0.288509 28\n0.087514 28\n0.136220 28\n0.095501 28\n0.192589 28\n0.063976 28\n0.048414 28\n0.311685 28\n0.951879 28\n0.200146 28\n0.136216 55\n0.111792 28\n0.088071 28\n0.408605 28\n0.127724 28\n0.111885 28\n0.095987 28\n0.280188 28\n0.167831 28\n0.536067 28\n0.120008 28\n0.055904 28\n0.168125 28\n0.033041 36\n0.330594 65\n0.541563 8\n0.284279 1\n0.167437 33\n0.323429 30\n0.056159 65\n0.671918 64\n3.365630 65\n0.231519 65\n0.208112 65\n0.207948 65\n0.192018 65\n0.167947 65\n0.472289 65\n0.280065 65\n0.151952 65\n0.152133 64\n0.167639 65\n0.176080 65\n0.160346 65\n0.391889 65\n0.423842 65\n0.207907 99\n1.818836 1\n0.137406 28\n0.197240 28\n0.178316 28\n0.197538 4\n0.352162 28\n0.216251 2\n0.087489 52\n0.000056 28\n0.120410 28\n0.111871 28\n0.143496 28\n0.152469 28\n0.071841 28\n0.128049 28\n0.040087 28\n0.128232 28\n0.192129 28\n0.119825 28\n0.176137 28\n0.104009 28\n0.279883 200\n0.384236 3\n0.103973 57\n0.096102 9\n0.243974 23\n0.000093 99\n0.348155 1\n0.136846 28\n0.166179 28\n0.392005 28\n0.080153 2\n0.168161 52\n0.000029 28\n0.119972 28\n0.088005 28\n0.192299 28\n0.151541 28\n0.079701 28\n0.264348 28\n0.304499 28\n0.167625 28\n0.176089 28\n0.055989 28\n0.136271 28\n0.023787 28\n0.360380 28\n0.199906 28\n0.111688 28\n0.448141 28\n0.119962 28\n0.296017 195\n0.344442 1\n0.399693 57\n0.128517 33\n0.260351 64\n0.532717 65\n0.497259 65\n0.049798 65\n0.050809 164\n0.052767 368\n0.058557 648\n0.000049 62\n0.040646 62\n0.049444 62\n0.049966 62\n0.049941 62\n0.369499 62\n0.399980 62\n0.959770 62\n2.680344 66\n0.207304 65\n0.200169 64\n0.224414 64\n0.775961 63\n0.367722 64\n0.840732 96\n0.882049 1\n0.241343 28\n0.221515 28\n0.199869 28\n0.120035 28\n0.103981 28\n0.143970 4\n0.304090 4\n0.103986 4\n0.120141 28\n0.272107 54\n0.111520 28\n0.096394 28\n4.640167 28\n0.055460 28\n0.456287 28\n0.055813 28\n0.448351 28\n0.343917 28\n0.056287 28\n0.215988 28\n0.079872 28\n0.119918 28\n0.048134 28\n1.119986 28\n0.136419 28\n0.063583 28\n0.150435 28\n0.233578 28\n0.168846 28\n0.447255 28\n0.112812 28\n0.183283 28\n0.048238 28\n0.048567 28\n0.280163 28\n0.351833 28\n0.143847 28\n0.079330 55\n0.096253 28\n0.104920 28\n0.079230 28\n0.055610 28\n0.112060 28\n0.096218 28\n0.184144 28\n0.208096 28\n0.167901 28\n0.071972 28\n0.152511 28\n0.032382 4\n0.519606 4\n0.127697 28\n0.223837 28\n0.064032 28\n0.023779 35\n0.267672 96\n0.605159 1\n0.129585 28\n0.492802 28\n0.247991 28\n0.200124 2\n0.152086 52\n0.000029 28\n0.103972 28\n1.016013 28\n0.143951 28\n0.128032 28\n0.175879 28\n0.160043 28\n0.176192 28\n1.103836 28\n0.200465 28\n0.151822 28\n0.103998 28\n0.128205 28\n0.063813 28\n0.056223 3\n2.576142 28\n0.127523 3\n0.136026 28\n0.176054 28\n0.111987 28\n0.113402 28\n0.118525 28\n0.056062 28\n0.056033 28\n0.167976 28\n0.216096 28\n0.144374 28\n0.183596 28\n0.143677 28\n0.088374 28\n0.063873 28\n0.048015 28\n0.440827 30\n0.083034 3\n0.857327 30\n0.707272 30\n0.207807 30\n0.208001 30\n0.056106 30\n0.312218 30\n0.151870 30\n0.103916 30\n0.344732 30\n0.671751 30\n0.111562 30\n0.120085 1\n0.749113 98\n0.347043 1\n0.314007 28\n0.221022 28\n0.192084 28\n0.103943 2\n0.088088 52\n0.000045 28\n0.111836 28\n0.472240 28\n0.047950 28\n0.144132 28\n0.095766 28\n0.672113 28\n0.184010 28\n0.104134 28\n0.231986 28\n0.103897 28\n0.136370 28\n0.055522 28\n0.128293 28\n0.136071 28\n0.032825 28\n0.151456 28\n0.311821 28\n0.136063 28\n0.215960 28\n0.176189 28\n0.039988 28\n0.063887 4\n0.480212 4\n0.127528 4\n0.144226 4\n0.119820 28\n0.208227 28\n0.095857 28\n0.112193 28\n0.056320 65\n0.055507 28\n0.264081 28\n0.608040 28\n0.175852 28\n0.072363 55\n0.095678 28\n0.103841 28\n0.152857 28\n1.367610 28\n0.872671 28\n0.199856 28\n0.087431 4\n0.280186 4\n0.119983 4\n0.136412 28\n0.071503 28\n0.063859 28\n0.160155 28\n0.087677 28\n0.320344 28\n0.160202 28\n0.103798 28\n0.096171 28\n0.112208 28\n0.047580 28\n0.048212 35\n0.219845 4\n1.001899 99\n1.274619 1\n0.217818 64\n3.853666 65\n0.497985 64\n0.050456 64\n0.049934 64\n0.051021 64\n0.347820 1\n0.518992 67\n1.037050 261\n0.191725 3\n0.168158 263\n0.168189 3\n0.175054 249\n0.160708 3\n0.160154 380\n0.168033 3\n0.175519 261\n0.167461 3\n0.175162 229\n0.552878 64\n0.871945 64\n0.181242 64\n0.143920 64\n0.167757 65\n0.151855 64\n0.216391 64\n1.695774 65\n0.500889 64\n0.050094 64\n0.050097 64\n0.051296 64\n0.050817 64\n0.049742 3\n0.792751 213\n0.160851 3\n0.143416 64\n0.489041 53\n0.000859 46\n0.001316 72\n0.139120 64\n0.143903 64\n0.160015 64\n0.152195 65\n0.271511 64\n0.144116 222\n1.170964 71\n0.575869 63\n0.498400 63\n0.050735 63\n0.051254 63\n0.049169 63\n0.051064 62\n0.050335 61\n0.056276 364\n0.053232 426\n0.000042 2\n0.000027 362\n0.000283 64\n0.046458 64\n0.481842 8\n0.336004 21\n0.563138 22\n0.000100 43\n0.166660 43\n0.136014 43\n0.500958 43\n0.073460 43\n0.027399 43\n0.050685 1\n0.050579 43\n0.049650 43\n0.051169 43\n0.299899 43\n0.152191 41\n0.111859 41\n0.064854 41\n0.167266 41\n0.112300 41\n0.127519 41\n0.055941 41\n0.152513 41\n0.055646 3\n0.264149 41\n0.127859 41\n0.112123 41\n0.072445 41\n0.033626 3\n0.117989 41\n0.104056 41\n0.111716 41\n0.128750 41\n0.047656 41\n0.055748 41\n0.096276 41\n0.048038 3\n0.119854 41\n0.103945 41\n0.095961 41\n0.103896 2\n0.088332 41\n0.080557 3\n0.175487 1\n0.344051 41\n0.056122 3\n0.151582 41\n0.048065 41\n0.096221 41\n0.056043 3\n0.136044 41\n0.047601 41\n0.144697 41\n0.111624 41\n0.055739 41\n0.104790 41\n0.039577 41\n0.047718 41\n0.152189 66\n1.672323 65\n0.498054 65\n0.050597 65\n0.050312 65\n0.050439 62\n0.050860 65\n0.050536 65\n0.050192 65\n0.051340 65\n0.050348 241\n0.058876 774\n0.000109 65\n0.041517 65\n0.051002 65\n0.050974 65\n0.428565 65\n0.136007 64\n0.207929 149\n0.441811 1\n0.090597 122\n0.453026 3\n0.175957 41\n0.079881 41\n0.160292 41\n0.103667 41\n0.136442 41\n0.055894 1\n0.168097 41\n0.071401 41\n0.056196 41\n0.056659 3\n0.103785 41\n0.407964 41\n0.135190 41\n0.064789 41\n0.056017 41\n0.055831 3\n0.119864 41\n2.056583 41\n0.143546 41\n0.248060 41\n0.127937 41\n0.040034 41\n0.119906 41\n0.071895 41\n0.056318 41\n0.143966 3\n0.063927 41\n0.088476 41\n0.071410 41\n0.112693 41\n0.191660 3\n0.183716 41\n0.048213 41\n0.072015 3\n0.176303 41\n0.255778 41\n0.095779 41\n0.088523 1\n0.103828 41\n0.208072 41\n0.111993 41\n0.095645 41\n0.064257 41\n0.800131 3\n0.095893 41\n0.128040 41\n0.160020 41\n0.079962 41\n0.080360 41\n0.119683 41\n0.071854 41\n0.152296 149\n0.448340 1\n0.114051 122\n0.445263 3\n0.128033 41\n0.127517 41\n0.087853 41\n0.136281 41\n0.064091 41\n0.104004 41\n0.032838 41\n0.119033 41\n0.192407 3\n0.175980 41\n0.071547 41\n0.128410 41\n0.039756 41\n0.120264 41\n0.080260 43\n0.215852 43\n0.104024 43\n0.143890 43\n0.152241 43\n0.151620 1\n0.160235 43\n0.119962 41\n0.535771 41\n0.191958 3\n0.143990 41\n0.168914 41\n0.383288 41\n0.127860 41\n0.056009 41\n0.080145 41\n0.495915 3\n0.127852 41\n0.064275 41\n0.039605 41\n0.328246 43\n0.336289 41\n0.079641 41\n0.136346 65\n0.480777 65\n0.497734 65\n0.051354 65\n0.049539 64\n0.050307 64\n0.050562 64\n0.050338 65\n0.050111 5\n0.060859 938\n0.000041 457\n0.000523 107\n0.794815 801\n0.000053 148\n0.000085 612\n0.000808 59\n2.543783 70\n0.005265 101\n1.003420 43\n0.208812 91\n0.014486 292\n0.000036 200\n0.000071 362\n0.000371 385\n0.000350 295\n0.000253 90\n0.072313 90\n0.151646 90\n0.048076 90\n0.072112 73\n1.736301 30\n0.004802 90\n0.000041 139\n0.474205 44\n1.093963 29\n0.003800 21\n0.000042 56\n0.001488 69\n0.248676 44\n0.008944 5\n0.015249 831\n0.000146 644\n0.000418 90\n0.091431 90\n0.151759 90\n0.048022 36\n0.066538 8\n0.000621 25\n0.004828 21\n0.000034 108\n0.255162 53\n0.000058 73\n1.417727 93\n0.002252 104\n0.000258 65\n0.240178 65\n0.239879 32\n0.397944 32\n0.124813 32\n0.167918 32\n0.135848 70\n0.159727 32\n0.120121 32\n0.136030 70\n0.015436 32\n0.296429 32\n0.096309 32\n0.136815 32\n0.039075 65\n0.960569 139\n0.729446 141\n0.536649 160\n0.208377 90\n0.143836 90\n0.144125 36\n0.041623 8\n0.000603 46\n0.005852 36\n0.065608 8\n0.001070 46\n0.006537 111\n0.254153 29\n0.000051 72\n0.336483 81\n0.004900 104\n0.000055 137\n0.442721 139\n0.480355 44\n0.123918 884\n0.013568 366\n0.000044 90\n0.141632 44\n0.125273 25\n0.003550 21\n0.000038 90\n0.062965 90\n0.056004 137\n0.254329 131\n0.000051 73\n0.482580 106\n0.002110 153\n0.000254 65\n0.272651 32\n0.404198 32\n0.117262 32\n0.144250 32\n0.135762 32\n0.144198 32\n0.144015 32\n0.087982 32\n0.055901 32\n0.224036 32\n0.071821 32\n0.112415 32\n0.033179 139\n2.256670 106\n1.387197 139\n0.557267 140\n0.368285 160\n0.200395 44\n0.204222 25\n0.003316 21\n0.000036 44\n0.128644 46\n0.024070 44\n0.059901 25\n0.004362 21\n0.000041 90\n0.055266 110\n0.253973 131\n0.000053 73\n0.254261 95\n0.004723 153\n0.000115 65\n0.161844 65\n0.199742 32\n0.373839 32\n0.125245 32\n0.143832 32\n0.143896 32\n0.135863 32\n0.128437 32\n0.087184 32\n0.048136 32\n0.224302 32\n0.072068 32\n0.087897 32\n0.064805 136\n1.153365 103\n1.537928 137\n2.054074 104\n1.053245 65\n0.125916 626\n0.190702 454\n0.000093 139\n0.677368 136\n0.305117 316\n0.253770 99\n0.000045 233\n0.000078 1\n0.000449 143\n0.000061 6\n0.004026 257\n0.000067 74\n0.000447 218\n0.000064 149\n0.000265 57\n0.000034 128\n0.002309 155\n0.000037 44\n0.030645 636\n0.029914 349\n0.000036 234\n0.000080 101\n0.000489 174\n0.000057 289\n0.000043 6\n0.004501 187\n0.000029 69\n0.000031 29\n0.000028 44\n0.048814 46\n0.000041 44\n0.147977 25\n0.004311 21\n0.000383 36\n0.057030 8\n0.000620 25\n0.005778 21\n0.000035 90\n0.063680 1\n0.255795 28\n0.000117 80\n0.000154 73\n0.752001 38\n0.005219 115\n0.000089 65\n0.701847 66\n0.500349 65\n0.050067 65\n0.050710 65\n0.050419 65\n0.051528 65\n0.344356 64\n0.224288 60\n0.296380 1\n0.286477 1\n0.499797 1\n0.050022 1\n0.050160 1\n0.049220 1\n0.050541 1\n0.050683 32\n0.437837 32\n0.151549 32\n0.128009 32\n0.159858 32\n0.151972 32\n0.136037 32\n0.111844 32\n0.057261 32\n0.302757 32\n0.071956 32\n0.128440 32\n0.063842 6\n0.468525 902\n0.000129 186\n0.000084 646\n0.000735 65\n0.183711 66\n1.607915 65\n0.160299 32\n0.308063 32\n0.142238 32\n0.143741 32\n0.152130 70\n0.144159 32\n0.127427 32\n0.071703 70\n0.056410 32\n0.256518 32\n0.087596 32\n0.120006 32\n0.071939 64\n0.490279 65\n0.171651 65\n0.160051 65\n0.143986 65\n0.160025 65\n0.159857 64\n0.351754 189\n0.157496 721\n0.000045 526\n0.000530 67\n0.594428 65\n0.183725 65\n0.184058 65\n0.160134 65\n0.287786 1\n0.295094 65\n0.260809 1\n0.106956 1\n0.500848 1\n0.050892 1\n0.051390 1\n0.050497 1\n0.050130 1\n0.050813 1\n0.051563 1\n0.498888 32\n0.258217 32\n0.499359 32\n0.050138 32\n0.050768 32\n0.049743 32\n0.050895 32\n0.050555 32\n0.050057 32\n0.108897 32\n0.144079 32\n0.135638 32\n0.096250 32\n0.040827 32\n0.207162 32\n0.095983 32\n0.119929 32\n0.064175 118\n0.608407 112\n0.042387 146\n0.011369 18\n4.616465 71\n0.039862 18\n8.328137 71\n0.040145 534\n9.076400 412\n0.000046 2\n0.000074 408\n0.000464 225\n0.000060 150\n0.000035 151\n0.422463 1104\n0.000523 415\n1.910131 302\n0.000044 254\n0.000592 103\n0.495083 588\n0.000081 359\n0.000493 266\n0.000044 180\n1.170093 767\n0.000051 149\n0.000652 389\n0.000069 3\n0.000389 239\n0.000176 92\n0.000316 5\n0.518593 902\n0.000049 2\n0.000070 309\n0.000446 232\n0.000060 176\n1.595837 1\n0.901845 1\n0.064014 1\n0.039569 15\n0.145039 2\n0.167819 36\n0.432579 7\n0.000013 33\n0.000646 1489\n0.149894 6\n0.020362 8\n0.368022 6\n0.020333 4\n0.164628 4\n0.350651 8\n0.289047 6\n0.020649 4\n0.185147 4\n0.061735 4\n0.041365 4\n0.041345 4\n0.062107 4\n0.042106 5\n0.061594 3\n0.082133 8\n0.226180 7\n0.020762 3\n0.205844 3\n0.041284 8\n0.553727 6\n0.020237 471\n0.624086 96\n0.072586 18\n0.384685 26\n0.194013 2\n0.464759 24\n0.015381 7\n0.040545 8\n0.000566 36\n0.000220 24\n0.000264 7\n0.002318 188\n0.008357 63\n0.008908 43\n0.002794 87\n0.000896 43\n0.002204 73\n0.001064 57\n0.003553 106\n0.028546 124\n0.000360 68\n0.000012 276\n0.000144 12\n0.000695 54\n0.000013 104\n0.000322 43\n0.000606 87\n0.000195 5\n0.011564 123\n0.000842 68\n0.000012 266\n0.000194 103\n0.023022 35\n0.000018 1693\n0.014498 12\n1.397636 198\n0.164986 1\n1.003262 1\n0.039112 1874\n0.132360 4\n1.295036 1\n0.000597 976\n0.000051 243\n0.000086 1\n0.000051 99\n0.000057 99\n0.487866 826\n0.000116 69\n0.000031 397\n0.000552 64\n2.153227 64\n0.495792 64\n0.049999 64\n0.049767 64\n0.050273 64\n0.049881 64\n0.050594 65\n0.050631 64\n0.049989 64\n0.050535 5\n0.783373 850\n0.000041 247\n0.000616 99\n0.000035 95\n1.030430 819\n0.000045 120\n0.000505 157\n0.000111 64\n0.722991 64\n0.447851 64\n2.432103 64\n0.287913 65\n0.415311 25\n0.510048 148\n0.001120 1\n0.157627 28\n0.448865 28\n0.268457 28\n0.592210 2\n0.071877 52\n0.000033 28\n0.104325 28\n0.127848 28\n0.160054 28\n0.087878 28\n0.127948 28\n0.015720 28\n0.240516 4\n0.311716 4\n0.136163 28\n0.352169 28\n0.071542 28\n0.520293 28\n0.160075 28\n0.128018 28\n0.120019 28\n0.136254 28\n0.055582 28\n0.049676 28\n0.206679 28\n0.415916 28\n0.240165 28\n0.207769 4\n0.224332 4\n0.095800 28\n0.216190 28\n0.072015 28\n0.183912 28\n0.223895 30\n0.043995 1\n0.361209 193\n0.699056 43\n0.079584 108\n0.064483 30\n0.367842 189\n1.712516 43\n0.367972 84\n0.191891 22\n0.000052 30\n1.647946 185\n0.471684 43\n0.280200 104\n0.507145 409\n0.000773 108\n0.340289 30\n0.279970 335\n0.507620 56\n0.001067 47\n0.001194 48\n1.362209 30\n0.159911 30\n0.095990 30\n0.087973 51\n0.071999 30\n0.112624 30\n0.247811 30\n0.170013 30\n0.173911 33\n0.671725 30\n0.344887 30\n0.075334 33\n0.375384 33\n0.093026 30\n0.575301 49\n0.072247 1\n0.404796 1\n0.499716 1\n0.050417 1\n0.051341 1\n0.050261 1\n0.051325 1\n0.050003 1\n0.050782 1\n0.050103 1\n0.050717 1\n0.049136 1\n0.050309 1\n0.050993 1\n0.050522 1\n0.051068 1\n0.050584 1\n0.049735 1\n0.050167 1\n0.050792 218\n0.380979 96\n0.119952 141\n0.143820 21\n0.000031 32\n0.495935 32\n0.176212 32\n0.120297 64\n0.080134 118\n0.670167 112\n0.046357 65\n0.012209 46\n0.211035 135\n0.001742 2\n0.229837 7\n0.105446 2\n0.231611 24\n0.017939 7\n0.038765 44\n0.000033 24\n0.000627 7\n0.001687 188\n0.007710 63\n0.007535 43\n0.001741 87\n0.000802 43\n0.002457 73\n0.000877 57\n0.003876 106\n0.028216 124\n0.001380 68\n0.000012 276\n0.000112 11\n0.000898 55\n0.000013 104\n0.000264 43\n0.000551 87\n0.000133 5\n0.010644 123\n0.000761 68\n0.000012 266\n0.000173 138\n0.006647 188\n0.011983 977\n0.000146 528\n0.000146 12\n0.989497 198\n0.116950 1\n0.674875 1\n0.071636 1\n0.047841 15\n0.040539 2\n0.216806 36\n0.423854 7\n0.000013 33\n0.000501 1489\n0.145935 6\n0.020377 4\n0.327417 8\n0.041639 6\n0.020382 4\n0.144487 3\n0.123468 3\n0.164695 3\n0.184829 4\n0.103169 8\n0.082049 6\n0.020706 4\n0.204924 3\n0.144725 8\n0.451875 6\n0.020965 8\n0.800366 6\n0.020573 7\n0.779415 52\n0.000033 36\n0.001129 199\n0.000090 177\n0.000344 96\n0.076326 18\n0.406541 26\n0.137189 2\n1.967854 24\n0.015861 7\n0.039700 44\n0.000035 24\n0.000634 7\n0.001491 188\n0.008281 63\n0.007419 43\n0.002000 87\n0.000790 43\n0.002777 73\n0.000945 57\n0.003644 106\n0.026359 124\n0.003382 344\n0.000517 12\n0.001619 54\n0.000027 104\n0.000600 43\n0.001607 87\n0.000542 5\n0.029111 123\n0.001910 334\n0.000615 103\n0.009599 35\n0.000047 188\n0.036527 1505\n0.000526 421\n0.637422 50\n0.159669 1\n0.215844 12\n1.213716 102\n0.315216 96\n0.002259 1\n0.482220 1\n0.056046 33\n0.186815 125\n0.001910 942\n0.000678 281\n0.000323 485\n0.000476 3\n1.186450 172\n0.430466 59\n0.000035 79\n0.148986 148\n0.168040 32\n0.655759 32\n0.176032 32\n0.096682 64\n0.095303 3\n0.300898 183\n0.243342 62\n0.111816 131\n0.336045 32\n0.631945 32\n0.312125 32\n0.583668 32\n0.200303 32\n0.167913 64\n0.088084 118\n0.958250 112\n0.037360 65\n0.012904 181\n5.381326 2\n0.662107 7\n0.161607 11\n0.767974 5\n0.110083 1\n0.728316 1\n0.016145 1\n1.391653 15\n0.136672 2\n0.256694 43\n0.444350 33\n0.000583 1489\n0.174314 6\n0.020260 8\n0.369533 6\n0.021183 4\n0.164481 3\n0.330063 3\n0.143965 8\n0.164241 6\n0.020837 4\n0.041297 1\n0.143702 3\n0.164578 3\n0.164842 8\n0.287358 6\n0.020259 471\n0.501799 96\n0.073293 18\n0.411978 23\n2.921789 9\n1.006705 24\n0.002143 125\n0.002033 942\n0.000482 283\n0.000386 485\n0.000351 1\n42.282902 1\n0.500099 1\n0.050712 1\n0.049427 1\n0.051089 1\n0.050499 1\n0.050607 1\n0.051078 1\n0.284527 74\n1.094507 66\n0.492859 40\n0.216198 66\n0.063749 118\n1.821978 112\n0.048135 65\n0.005263 181\n0.266326 2\n0.214013 20\n0.097557 2\n0.319442 36\n0.407004 7\n0.000013 33\n0.000610 1518\n0.148146 69\n0.184001 64\n0.329642 64\n0.124194 64\n0.144407 69\n0.433271 69\n0.165112 82\n0.165528 82\n0.557992 82\n0.041434 35\n0.062185 54\n0.164125 69\n0.495075 69\n0.041218 69\n0.062093 69\n0.041743 69\n0.062364 69\n0.041462 69\n0.061877 69\n0.041853 70\n0.061873 70\n0.041575 70\n0.041655 70\n0.062161 70\n0.041610 70\n0.062273 70\n0.041547 64\n0.061999 64\n0.041305 64\n0.062345 64\n0.041510 64\n0.041235 64\n0.062674 64\n0.328645 64\n0.267039 56\n0.471437 58\n0.452071 59\n0.512726 60\n0.041195 59\n0.042469 59\n0.061925 62\n0.041421 63\n0.062044 63\n0.041316 63\n0.062273 63\n0.041325 63\n0.062153 63\n0.041173 63\n0.041124 63\n0.061828 63\n0.041356 63\n0.062209 63\n0.041242 63\n0.061933 63\n0.041321 63\n0.061664 63\n0.041506 63\n0.041225 63\n0.061889 63\n0.041317 63\n0.061950 63\n0.061821 63\n0.041096 63\n0.062057 63\n0.041286 57\n0.103217 57\n0.493291 57\n0.061863 57\n0.041257 57\n0.061779 72\n0.143791 468\n1.253661 96\n0.076277 18\n0.273009 23\n0.137253 1872\n0.386912 65\n1.161379 65\n0.496767 65\n0.050244 65\n0.060549 65\n0.050989 62\n16.483175 65\n0.482168 65\n0.049777 65\n0.050026 65\n0.055099 66\n0.050850 64\n0.049940 65\n0.051278 65\n0.051045 65\n0.048552 65\n0.050428 170\n0.055117 682\n0.000019 410\n0.000235 65\n0.044348 64\n0.050062 64\n0.051810 65\n0.051254 65\n0.051213 65\n0.050801 65\n0.050424 65\n0.050916 65\n0.050891 65\n0.052955 342\n0.054215 1\n0.000609 202\n0.000290 1\n0.000309 428\n0.000291 146\n0.000513 201\n0.000444 1\n0.000295 151\n0.000257 65\n0.044263 65\n0.050241 66\n0.051208 65\n0.051552 65\n0.051482 62\n0.049251 64\n0.050449 65\n0.051529 65\n0.050444 65\n0.052093 25\n0.060222 511\n0.000734 357\n0.000356 65\n0.041613 66\n0.048297 65\n0.050397 65\n0.050159 65\n0.050279 65\n0.051037 65\n0.050619 65\n0.050928 63\n0.050122 64\n0.050485 254\n0.063659 742\n0.000042 807\n0.000703 64\n0.042422 65\n0.045694 65\n0.050291 65\n0.050420 65\n0.049832 65\n0.049880 65\n0.049994 65\n0.050202 65\n0.050767 63\n0.050471 5\n0.060143 1020\n0.000055 826\n0.000725 65\n0.041150 65\n0.050235 65\n0.074139 65\n0.027246 65\n0.049406 65\n0.049917 65\n0.050366 65\n0.051512 65\n0.050645 62\n0.050815 215\n0.058501 723\n0.000089 175\n0.000571 1\n0.000241 185\n0.000066 2\n0.000729 160\n0.000041 65\n0.044170 64\n0.047784 65\n0.050664 65\n0.049755 65\n0.049874 306\n0.948964 627\n0.000019 73\n0.000032 1\n0.000214 340\n0.000132 476\n0.000154 776\n0.263295 221\n0.000387 294\n0.000014 28\n0.000307 294\n0.000050 260\n0.303325 1\n0.000311 91\n0.000137 1\n0.000144 372\n0.000128 1\n0.000151 87\n0.000129 1\n0.000138 40\n0.000127 1\n0.000128 43\n0.000118 1\n0.000126 53\n0.000148 2\n0.000181 1\n0.000124 54\n0.000119 453\n0.000195 58\n1.189159 795\n0.000047 401\n0.000725 55\n25.725767 972\n0.000107 142\n0.000614 62\n2.573458 1021\n0.000129 281\n0.000044 97\n0.206641 863\n0.000052 286\n0.000084 569\n0.000764 76\n0.351572 843\n0.000052 646\n0.000844 230\n0.369909 728\n0.000050 2\n0.000076 469\n0.000716 1112\n0.424219 194\n0.353959 722\n0.000047 325\n0.000642 35\n0.326161 1643\n0.000444 1\n0.354767 263\n0.001247 535\n0.000286 243\n1.307105 699\n0.000048 811\n0.000848 6\n0.256176 982\n0.000061 403\n0.000786 161\n0.213746 734\n0.000047 347\n0.000566 145\n0.247093 757\n0.000052 244\n0.000090 80\n0.216995 908\n0.000050 562\n0.000584 9\n0.234356 886\n0.000045 48\n0.000037 721\n0.000603 165\n0.705923 754\n0.000112 640\n0.000853 8\n3.905598 934\n0.000055 714\n0.000630 4\n1.230495 1\n0.000754 49\n0.000303 57\n0.000497 1021\n0.000106 284\n0.000566 139\n0.541698 1016\n0.000167 88\n0.000723 199\n0.000068 176\n7.181025 2\n0.422249 20\n0.129551 2\n0.383305 36\n0.386237 7\n0.000013 33\n0.000526 1518\n0.145535 64\n0.327435 64\n0.494851 64\n0.062366 64\n0.041563 64\n0.041497 64\n0.062205 64\n0.041507 64\n0.061994 64\n0.041524 64\n0.062368 64\n0.041581 64\n0.041442 64\n0.061921 64\n0.041282 64\n0.062262 64\n0.041542 64\n0.041305 64\n0.061996 64\n0.041668 64\n0.062181 64\n0.041392 64\n0.062297 64\n0.041376 64\n0.062297 64\n0.041354 64\n0.041612 64\n0.062058 64\n0.041385 64\n0.062350 64\n0.041493 54\n0.062190 56\n0.041304 58\n0.041515 60\n0.061958 62\n0.041278 64\n0.061925 64\n0.041164 64\n0.061972 68\n0.041219 68\n0.061991 68\n0.041406 68\n0.061865 68\n0.041555 68\n0.041610 68\n0.061850 68\n0.041533 68\n0.061831 68\n0.041487 68\n0.061818 68\n0.041426 68\n0.062025 68\n0.041294 68\n0.062101 68\n0.041156 68\n0.041256 68\n0.061956 68\n0.041466 68\n0.062033 68\n0.041565 68\n0.061993 56\n0.041444 56\n0.041277 56\n0.061956 56\n0.041076 56\n0.062027 56\n0.041501 56\n0.061718 56\n0.041111 56\n0.061790 56\n0.042580 56\n0.041274 57\n0.082263 57\n0.185069 57\n0.164872 57\n0.164347 57\n0.164685 54\n0.102877 54\n0.512987 54\n0.041317 54\n0.061660 54\n0.041297 54\n0.061670 54\n0.041373 54\n0.061729 54\n0.041205 54\n0.061687 54\n0.041387 54\n0.041561 56\n0.062014 56\n0.041409 56\n0.061860 56\n0.041375 56\n0.061959 471\n2.945588 96\n0.074668 18\n0.254443 23\n0.137380 1858\n0.482994 100\n1.057873 29\n0.001589 45\n0.408935 47\n0.248108 46\n0.368041 48\n0.359974 46\n0.319748 1\n0.354064 39\n0.001891 21\n0.000251 1\n0.381971 98\n0.302844 46\n0.215384 47\n0.254077 45\n0.175902 3\n0.161488 44\n0.184121 83\n0.747730 10\n0.404190 107\n0.196020 29\n0.000039 4\n0.828609 4\n0.183630 4\n0.135845 4\n0.136327 4\n0.127781 28\n0.047885 28\n0.168295 34\n0.132018 28\n0.787798 28\n0.648192 35\n0.076021 1\n0.333831 49\n0.042905 1052\n0.001221 509\n0.000096 955\n0.714875 363\n0.000619 353\n0.000033 93\n0.000058 3\n0.000364 286\n0.000038 563\n0.567501 620\n0.000105 335\n0.000812 431\n0.314994 662\n0.000044 251\n0.000622 42\n0.487777 903\n0.000043 2\n0.000069 44\n0.000515 68\n0.000062 136\n0.000274 88\n0.000337 193\n0.000031 86\n0.555150 867\n0.000128 799\n0.000626 42\n0.437794 904\n0.000052 123\n0.000030 129\n0.000028 280\n0.000717 29\n7.153630 1\n0.000397 56\n0.000431 1\n0.000297 512\n0.000285 1\n0.000335 87\n0.000264 1\n0.000336 87\n0.000282 1\n0.000285 64\n0.000247 1\n0.000264 58\n0.000246 1\n0.000264 53\n0.000258 361\n0.000588 66\n0.000534 367\n0.000386 95\n9.523039 855\n0.000050 464\n0.000539 1\n16.115305 93\n0.000169 1\n0.000092 530\n0.000030 1\n0.000022 73\n0.000021 1\n0.000026 43\n0.000021 1\n0.000019 61\n0.000019 1\n0.000018 87\n0.000020 1\n0.000020 85\n0.000025 2\n0.000088 1\n0.000024 147\n0.000026 1\n0.000019 1\n0.000021 154\n0.000028 1\n0.000073 1\n0.000024 87\n0.000025 1\n0.000018 87\n0.000020 1\n0.000020 201\n0.000027 64\n0.325225 64\n9.082390 63\n0.500322 63\n0.051333 64\n0.050863 63\n0.051138 63\n0.050122 63\n0.050009 62\n0.050575 61\n0.050838 1752\n0.054901 64\n0.057517 64\n0.047894 63\n0.051386 65\n0.051016 63\n0.051576 63\n0.049511 63\n0.050007 63\n0.052190 62\n0.049993 61\n0.049769 1640\n0.054629 64\n0.045791 64\n0.718777 64\n0.192060 63\n0.160124 63\n0.159960 63\n0.287775 63\n0.153124 145\n12.532920 780\n0.000057 650\n0.000595 249\n2.538548 1\n0.000413 61\n0.000387 1\n0.000307 217\n0.000209 1\n0.000215 87\n0.000198 1\n0.000569 179\n0.000283 1\n0.000303 43\n0.000517 87\n0.000030 88\n0.000377 84\n0.000028 286\n0.000073 309\n0.000432 146\n0.978503 779\n0.000148 330\n0.000031 171\n0.000603 143\n0.000034 5\n69.908568 1044\n0.000163 196\n0.000826 337\n0.000033 183\n2.440797 783\n0.000080 252\n0.000701 121\n0.000033 201\n0.000073 311\n0.291315 617\n0.000044 770\n0.000754 64\n0.913049 64\n0.496284 66\n0.074545 64\n0.026191 64\n0.049768 64\n0.050020 64\n0.050644 64\n0.050321 64\n0.050887 64\n0.049775 64\n0.051272 64\n0.049646 64\n0.050432 63\n0.050290 63\n0.050877 63\n0.155623 63\n0.193031 7\n0.647311 24\n6.988749 146\n0.000046 46\n0.511506 7\n0.455998 2\n0.514434 28\n0.474266 28\n0.207425 28\n0.080374 2\n0.016003 52\n0.000036 104\n0.439848 28\n0.005081 104\n0.555604 7\n0.140182 28\n1.058801 28\n0.207976 28\n0.152247 4\n0.295975 4\n0.152048 11\n0.151875 28\n0.560297 28\n0.183599 28\n0.103886 28\n0.168323 28\n0.176042 28\n0.231898 28\n0.056043 28\n0.008257 28\n0.039926 3\n0.223637 58\n0.136245 49\n0.424360 1\n0.144099 4\n0.143589 4\n0.127832 4\n0.096299 28\n0.263712 28\n0.088183 28\n0.044757 3\n0.147142 58\n0.079838 1\n0.128607 28\n0.495632 28\n0.111870 28\n0.224356 28\n0.039971 28\n0.031917 28\n0.056170 96\n1.488293 7\n0.274957 64\n2.909948 64\n0.157900 64\n0.216007 45\n1.321930 45\n0.207646 315\n0.080033 427\n1.392859 32\n0.175338 32\n0.175829 45\n1.968164 45\n1.208346 315\n0.055366 64\n0.327633 1\n0.357505 3\n1.674898 432\n0.344900 235\n0.500407 12\n0.146711 12\n0.160440 6\n0.159601 7\n0.438380 134\n0.297926 1\n0.145925 28\n0.397107 5\n0.392290 28\n0.271948 51\n0.088035 3\n0.104272 28\n0.135573 28\n0.135574 53\n0.080550 2\n0.072050 28\n0.119809 28\n0.088350 28\n0.159811 28\n0.039842 28\n0.047703 28\n0.048015 28\n0.211506 134\n0.301114 7\n0.130808 28\n0.132375 28\n0.272252 28\n0.184411 28\n0.431394 28\n0.103872 28\n0.184607 28\n0.063712 28\n0.007760 28\n0.049428 3\n0.166755 2\n0.185404 1\n0.279653 1\n0.134920 4\n0.168496 4\n0.119729 4\n0.128539 28\n0.239229 28\n0.080037 28\n0.033068 3\n0.126682 58\n0.120288 1\n0.112486 28\n0.143769 28\n0.472812 28\n0.231341 28\n0.063816 28\n0.047523 28\n0.032433 134\n0.296243 7\n0.626275 28\n0.253424 11\n0.439858 2\n0.144361 4\n0.175746 1\n0.847971 7\n0.330838 2\n0.357138 28\n0.215849 28\n0.167867 28\n0.063927 54\n0.040890 104\n0.287528 28\n0.004605 142\n0.915746 7\n0.138415 28\n1.188644 28\n1.288212 64\n0.985016 64\n0.166142 1\n0.303137 1\n0.199939 31\n0.290416 31\n0.151574 31\n0.152185 31\n0.152254 45\n0.687763 7\n0.222365 1\n0.231194 1\n0.507172 1\n0.044030 1\n0.050780 1\n0.052022 1\n0.049972 40\n0.706607 40\n0.176440 16\n0.143758 22\n0.000061 64\n1.032555 64\n0.149928 1\n0.230902 1\n0.500028 1\n0.050788 1\n0.049999 1\n0.050462 1\n0.049679 102\n0.052711 17\n0.048136 1\n0.050978 1\n0.050103 1\n0.049887 1\n0.050076 1\n0.050971 32\n0.389503 32\n0.119913 32\n0.143997 45\n0.440025 45\n0.087778 45\n0.023878 64\n0.407167 64\n0.166534 7\n0.303871 1\n0.135566 1\n0.500203 1\n0.050842 1\n0.050929 1\n0.050036 1\n0.220040 43\n0.258327 43\n0.127970 43\n0.136011 40\n0.367662 40\n0.056204 16\n0.031965 22\n0.000052 64\n0.488515 64\n0.190070 4\n0.352970 11\n0.128106 28\n0.247716 28\n0.392125 28\n0.079766 28\n0.088502 28\n0.111992 28\n0.367616 3\n0.320557 1\n0.175844 4\n0.120004 28\n0.224095 28\n0.079625 94\n0.225072 28\n0.407569 28\n0.079879 28\n0.032884 28\n0.208709 28\n0.135657 28\n0.151284 4\n0.489356 28\n0.366697 28\n0.063722 28\n0.040263 28\n0.047791 1\n2.069320 1\n0.501304 1\n0.050331 1\n0.050194 1\n0.050252 1\n0.050512 1\n0.050346 1\n0.050976 1\n0.050638 1\n0.377561 32\n0.082930 3\n0.237151 32\n0.221246 3\n0.283167 135\n0.426727 7\n0.171655 28\n0.371192 28\n0.335723 4\n0.776481 11\n0.111560 64\n1.065637 3\n0.420559 64\n3.522947 64\n0.358084 45\n0.497560 2\n0.173122 1\n0.407957 45\n0.130657 3\n0.181590 3\n0.183930 45\n0.162813 3\n0.389104 3\n0.192361 45\n0.162579 64\n0.249210 28\n0.534025 28\n0.647726 28\n0.223931 28\n0.328009 28\n0.272660 28\n0.335858 28\n0.183962 28\n0.343958 28\n0.007680 4\n0.552468 28\n0.271653 28\n0.111968 28\n0.168015 1\n0.231888 99\n2.009312 3\n0.103921 28\n0.560198 28\n0.159791 28\n0.448188 28\n0.095938 28\n0.047486 28\n0.056266 66\n0.816929 1\n0.411988 3\n0.842366 134\n0.184178 3\n0.199881 118\n0.215878 64\n0.562406 4\n0.251991 100\n0.370727 8\n0.161761 28\n0.580693 28\n0.209044 28\n0.223348 28\n0.047594 28\n0.007859 28\n0.040984 3\n0.183158 55\n0.152770 47\n0.223525 1\n0.144430 4\n0.135278 4\n0.152280 4\n0.111719 28\n0.328965 28\n0.032842 4\n0.270500 4\n0.103987 28\n0.224470 28\n0.071502 28\n0.055718 3\n0.176315 55\n0.079819 3\n0.120522 28\n14.760270 28\n0.807820 53\n0.199988 28\n0.279923 28\n0.855998 28\n0.224214 28\n0.159779 28\n0.240129 28\n0.663591 9\n0.340882 23\n0.000059 1\n0.459611 29\n0.000029 28\n0.359751 28\n0.071825 53\n0.208543 28\n0.335963 28\n0.311708 28\n0.216359 4\n0.359793 28\n0.351818 28\n0.360011 28\n0.328221 28\n0.215559 35\n0.397142 36\n0.419352 28\n0.319550 28\n0.160401 53\n0.367667 28\n0.264261 28\n0.250743 28\n0.349274 28\n0.296068 28\n0.087794 28\n0.112084 35\n0.318046 36\n0.233777 28\n0.216245 28\n0.128206 53\n0.087630 28\n0.224306 28\n0.424381 28\n0.184117 66\n0.143775 28\n0.159637 28\n0.360271 35\n0.292563 1\n0.592721 39\n0.051916 118\n0.000039 122\n0.046141 25\n0.013329 222\n0.000038 181\n1.209237 2\n0.158107 20\n0.146076 2\n0.175169 36\n0.395429 7\n0.000012 33\n0.000543 1518\n0.172363 69\n0.101707 69\n0.496542 69\n0.041443 69\n0.062245 69\n0.041600 69\n0.062320 69\n0.042158 69\n0.061948 70\n0.041549 70\n0.062300 70\n0.041929 70\n0.041579 70\n0.062214 70\n0.041542 70\n0.062450 61\n0.041465 61\n0.062188 61\n0.041257 61\n0.061577 61\n0.041445 61\n0.062022 61\n0.041736 4\n0.410530 8\n0.020643 59\n0.368874 54\n0.246581 56\n0.493795 57\n0.061843 58\n0.041350 59\n0.041261 60\n0.062141 59\n0.061912 59\n0.041324 62\n0.041184 63\n0.061764 63\n0.041307 63\n0.061904 63\n0.041454 63\n0.061719 63\n0.041286 63\n0.062226 467\n0.600141 96\n0.079349 18\n0.176884 23\n0.137685 1968\n0.299783 65\n0.935927 133\n0.400770 4\n0.164718 1\n0.336005 149\n0.193316 39\n0.472413 118\n0.000038 122\n0.047210 25\n0.013424 248\n0.000035 18\n2.159284 706\n0.648326 296\n0.000039 460\n2.059632 413\n0.000546 105\n1.527937 29\n0.000585 45\n0.483146 41\n1.081207 1608\n0.906387 167\n0.590714 1011\n0.000050 2\n0.000082 312\n0.000723 80\n0.435292 859\n0.000143 63\n0.674448 63\n0.500392 63\n0.050441 63\n0.050506 63\n0.050323 63\n0.050148 63\n0.050475 64\n0.050123 64\n0.050632 64\n0.051220 65\n0.050673 64\n0.050564 64\n0.050758 53\n0.051782 1\n0.051198 1\n0.050478 146\n0.328409 64\n0.117907 64\n0.143768 64\n0.258270 128\n0.493931 3\n0.311806 41\n0.304140 41\n0.239937 41\n0.103865 41\n0.160091 41\n0.071947 41\n0.114272 41\n0.173781 21\n0.440088 22\n0.000104 41\n0.039737 41\n0.080471 41\n0.111650 41\n0.056040 41\n0.039836 41\n0.145151 64\n0.376027 64\n0.633181 4\n0.284729 41\n0.161024 1\n0.280427 41\n0.103950 41\n0.071617 41\n0.055864 3\n0.120269 41\n0.200247 41\n0.159605 41\n0.128435 41\n0.287865 41\n0.136239 41\n0.048017 41\n0.127999 41\n0.136012 41\n0.143796 41\n0.143996 41\n0.320055 1\n0.862369 5\n2.880678 1\n0.664859 41\n0.095638 41\n0.320611 41\n0.095630 21\n0.312602 22\n0.000045 21\n0.143767 22\n0.000038 41\n0.128329 41\n0.119441 41\n0.160748 41\n0.063424 41\n0.047786 41\n0.040035 1\n0.136125 41\n0.119897 41\n0.128188 41\n0.055834 41\n0.040368 3\n0.135806 41\n0.832099 41\n0.087824 41\n0.056209 3\n0.136863 41\n0.150815 41\n0.160024 41\n0.064013 41\n0.064119 41\n0.080198 41\n0.079988 41\n0.351928 3\n0.135722 41\n0.080059 41\n0.112211 41\n0.063910 41\n0.064090 3\n0.184654 41\n0.087681 1\n0.119806 41\n0.192270 41\n0.087716 41\n0.335964 41\n0.159957 41\n0.047964 41\n0.168092 41\n0.048195 1\n0.119530 41\n0.152260 41\n0.048148 64\n0.280493 101\n0.166604 27\n0.000053 3\n0.320195 41\n0.135786 41\n0.120003 41\n0.072050 41\n0.055897 41\n0.233016 64\n3.407546 28\n6.391619 28\n0.135753 28\n0.079811 28\n0.040693 54\n0.127498 3\n0.688094 41\n0.160257 41\n0.175593 41\n0.400114 41\n0.064052 41\n0.143948 41\n0.416429 41\n0.120062 41\n0.111823 41\n0.079904 41\n0.095699 41\n0.023963 41\n0.144342 28\n0.327869 30\n0.035706 3\n0.451247 30\n11.785590 30\n0.191990 30\n0.119620 30\n0.128144 30\n0.056076 30\n0.047758 30\n0.136304 30\n0.359810 30\n0.136449 30\n0.184164 30\n0.103810 30\n0.103959 30\n0.047835 30\n0.056204 3\n0.398548 28\n0.564514 61\n0.188743 7\n0.114551 28\n0.317048 28\n0.071788 53\n0.096535 1\n0.111415 49\n0.392406 49\n0.128050 49\n0.247871 49\n0.047710 49\n0.104244 49\n0.095517 49\n0.216637 49\n0.104006 28\n0.239947 28\n0.007678 28\n0.120088 4\n0.320433 4\n0.119816 4\n0.127901 28\n0.503992 28\n0.759771 28\n0.168197 28\n0.015919 28\n0.136051 4\n0.400389 4\n0.111493 4\n0.128331 28\n0.088097 28\n0.151762 55\n0.143859 28\n0.088246 2\n0.136037 28\n3.720210 28\n0.287763 3\n0.160162 28\n0.311850 28\n12.992124 3\n0.079783 28\n1.848095 28\n0.560512 1\n0.079102 28\n1.088733 28\n0.127828 28\n0.209129 190\n1.176797 41\n0.120036 57\n0.208877 28\n0.255382 186\n0.352453 17\n0.607784 1\n0.168169 28\n0.215535 28\n0.192316 28\n0.624008 182\n0.256304 41\n2.409465 41\n0.382803 43\n0.488076 57\n0.295695 28\n1.752725 1\n0.175551 1\n0.744605 4\n0.279794 181\n0.175432 57\n0.751898 10\n0.253038 21\n0.000087 3\n0.806853 30\n0.000084 64\n0.475995 1\n0.096351 114\n0.708658 108\n0.049492 143\n0.012023 68\n0.637223 627\n0.190204 67\n0.000112 65\n0.270039 64\n0.271924 66\n80.346733 28\n0.094074 28\n0.352030 28\n0.168264 2\n0.055739 53\n0.000042 28\n0.527914 30\n0.042040 3\n0.604896 30\n6.873380 30\n0.392586 30\n0.535356 30\n0.183882 30\n0.112774 30\n0.072313 30\n0.095306 30\n0.088194 30\n0.111334 30\n0.120210 30\n0.008582 30\n0.183416 30\n1.116629 30\n0.059826 30\n0.087816 30\n0.159794 30\n0.056086 35\n0.120153 22\n0.000107 3\n0.518508 28\n0.977230 28\n0.320013 28\n0.119955 28\n0.384170 28\n0.080030 4\n0.440492 4\n0.103296 28\n0.280061 28\n0.031751 28\n0.080139 28\n0.168096 28\n0.263681 28\n0.120439 28\n0.279845 28\n0.208631 28\n0.167271 28\n0.136147 4\n0.344520 4\n0.119764 4\n0.183955 30\n0.249788 8\n1.001920 64\n3.805701 1\n0.261317 189\n0.479305 3\n0.393689 3\n0.159905 1\n0.787040 117\n0.716742 111\n0.048461 64\n0.009759 17\n0.420374 105\n0.249863 29\n0.000163 45\n0.294373 1686\n0.468409 236\n0.478757 685\n0.000049 505\n0.000633 5\n0.374461 944\n0.000112 47\n0.000032 303\n0.000254 5\n0.530441 962\n0.000043 884\n0.000556 939\n1.012203 432\n0.000037 103\n1.800790 29\n0.000612 45\n0.404201 688\n1.250837 66\n2.401091 28\n0.046128 28\n0.239980 28\n0.071860 28\n0.056046 3\n0.143975 2\n0.144839 47\n0.000054 1\n0.111676 28\n0.111946 28\n0.208014 28\n0.176527 4\n0.271854 4\n0.127972 6\n0.103995 28\n0.111900 28\n0.159853 28\n0.112077 189\n3.312244 1\n0.097627 117\n0.836991 111\n0.033743 64\n0.009877 74\n1.397677 63\n0.173917 5\n0.304973 1\n0.214593 1\n0.192106 1\n0.383848 1\n0.501110 1\n0.050028 1\n0.053343 1\n0.050149 1\n0.050196 1\n0.049950 1\n0.050101 1\n0.049744 1\n0.049916 1\n0.050528 1\n0.050427 1\n0.049450 1\n0.050617 1\n0.050817 1\n0.049436 1\n0.050710 1\n0.175149 65\n0.530755 64\n0.206100 70\n0.991723 17\n16.839532 70\n0.024502 17\n9.527375 105\n0.306073 29\n0.000084 45\n0.286480 1\n0.329268 49\n0.004761 1072\n0.000414 168\n0.000348 103\n1.284085 29\n0.000040 45\n0.916491 717\n4.122823 65\n0.599594 8\n0.301833 1\n0.151562 67\n1.371792 30\n0.254170 30\n0.104192 30\n0.631953 30\n0.328401 30\n0.071912 30\n0.319773 30\n0.127880 30\n0.112046 30\n0.160183 65\n0.440950 65\n0.141658 64\n0.280508 1\n0.350757 1\n0.501180 1\n0.050347 1\n0.050011 1\n0.050582 1\n0.050505 1\n0.050306 1\n0.050476 1\n0.050567 1\n0.050289 1\n0.050451 1\n0.050253 1\n0.050376 1\n0.050254 1\n0.049882 1\n0.049866 1\n0.051471 1\n0.420526 33\n0.000888 32\n0.301441 32\n0.136546 32\n0.159874 32\n0.071784 32\n0.024239 32\n0.177391 1\n0.095910 34\n0.000579 32\n2.662262 32\n0.216092 32\n0.056093 32\n0.120056 32\n1.392098 32\n0.215816 32\n0.071719 32\n0.201742 65\n0.476969 103\n0.002809 74\n0.154845 66\n0.216287 4\n0.319651 1\n0.135261 30\n0.682314 30\n0.208098 30\n0.144017 30\n0.136032 30\n0.143974 30\n0.095785 30\n0.060441 30\n0.139552 30\n0.072239 30\n0.080016 30\n0.103974 30\n0.056081 30\n0.112107 30\n0.087800 30\n0.176057 30\n0.072928 65\n0.375921 65\n0.150164 4\n0.593261 4\n0.500164 6\n0.051211 1\n0.050501 2\n0.049582 38\n0.000033 1\n0.049855 4\n0.050645 4\n0.050236 4\n0.181048 4\n0.135948 5\n0.160839 117\n0.919455 111\n0.049033 64\n0.010591 24\n0.870067 59\n0.000043 3\n0.069873 45\n0.525563 3\n0.048081 28\n1.651101 28\n0.056517 53\n0.167532 35\n0.791823 4\n0.127968 8\n0.168034 1\n0.159959 2\n0.143468 34\n0.000033 1\n0.128192 5\n0.151832 28\n0.255863 28\n0.215801 28\n0.039925 28\n0.032112 28\n0.048426 3\n0.135978 1\n0.160100 48\n0.000099 1\n0.031753 28\n0.593273 28\n0.167104 28\n0.192036 28\n0.151966 28\n0.159786 28\n0.168282 28\n0.063946 28\n0.272220 30\n0.036532 1\n0.385140 201\n0.787301 43\n0.415519 43\n0.263782 58\n0.288545 3\n0.533493 4\n2.394493 199\n0.136057 43\n0.168688 43\n0.126757 13\n0.143904 2\n0.000054 4\n0.135903 28\n0.607861 28\n0.232090 28\n0.047974 28\n0.039740 28\n0.071979 28\n0.296176 30\n0.050346 64\n0.782423 28\n2.343263 3\n0.079518 3\n0.336514 1\n0.608156 28\n0.447667 3\n0.151773 1\n0.488189 8\n0.119945 45\n0.680474 3\n0.071994 28\n0.264308 28\n0.199640 4\n0.336915 8\n0.111788 28\n0.127512 28\n0.103996 53\n0.111708 28\n0.231878 28\n0.313060 28\n0.183440 28\n0.039855 28\n0.048253 28\n0.023594 10\n0.290794 22\n0.000083 4\n1.001604 28\n1.492787 28\n0.183289 4\n0.312377 4\n0.103687 28\n0.191795 28\n0.232077 216\n0.368126 3\n0.366808 3\n0.505115 3\n0.050954 3\n0.049060 3\n0.049625 3\n0.050736 1\n0.278699 1\n0.000448 1\n0.167664 28\n2.048117 3\n0.144448 45\n0.111804 3\n0.095920 28\n0.112314 215\n0.296412 1\n0.098153 28\n0.180715 28\n0.088307 53\n0.119699 3\n0.128178 28\n0.327959 3\n0.095741 28\n0.136209 51\n0.064191 3\n0.096272 28\n0.383715 28\n0.191948 28\n0.056761 28\n0.014994 28\n0.056309 28\n0.243087 215\n0.245763 8\n0.106864 28\n0.747945 3\n0.160057 1\n2.360353 12\n0.151993 28\n0.735646 51\n0.063984 2\n0.152169 28\n2.920013 6\n1.048444 1\n0.000031 28\n0.224321 28\n0.095352 53\n0.079885 28\n0.567784 28\n0.328155 31\n0.211193 3\n0.229786 28\n0.143041 1\n0.151909 28\n0.384118 28\n0.347713 215\n0.532528 2\n0.076329 28\n0.203140 3\n0.121280 3\n0.319010 1\n0.479946 28\n0.688167 8\n0.231962 45\n0.144572 3\n0.143659 28\n0.153006 28\n0.119126 53\n0.088257 28\n0.263827 28\n0.232324 31\n0.203509 215\n0.300543 2\n0.170576 4\n0.436996 2\n0.328024 28\n0.095567 3\n0.231632 28\n0.168112 2\n0.176827 44\n0.000030 3\n0.087819 28\n0.079602 118\n0.831154 112\n0.043303 65\n0.012575 75\n1.546434 8\n0.452868 65\n0.867837 65\n0.852387 64\n0.329217 65\n0.679151 138\n0.579503 64\n0.132439 1\n0.163812 116\n0.868572 110\n0.041123 64\n0.011898 82\n0.293417 28\n0.189245 28\n0.160045 54\n0.055961 28\n0.127918 28\n0.103963 28\n0.128112 28\n0.176206 28\n0.063827 28\n0.431808 30\n0.044332 6\n0.570325 117\n0.042060 111\n0.044228 65\n0.010862 73\n0.411375 6\n0.552162 170\n0.000034 1\n0.089381 64\n2.014497 8\n0.260029 1\n0.175406 30\n0.193849 30\n0.216451 30\n0.039128 30\n0.048334 30\n0.648056 30\n0.167986 30\n0.559587 30\n0.056411 30\n0.168160 30\n0.103853 30\n0.056208 30\n0.430752 33\n0.157890 3\n0.577571 32\n1.337709 32\n0.359623 32\n0.352370 32\n0.367898 32\n0.696829 32\n0.119160 32\n0.224020 32\n0.024001 35\n0.560179 32\n6.568062 35\n1.791830 32\n0.784030 32\n1.311884 32\n0.056223 32\n0.226519 184\n0.400721 45\n0.191082 59\n0.160847 32\n0.280072 35\n0.455317 54\n0.000768 47\n0.000632 198\n0.158691 47\n0.191914 46\n0.159970 35\n0.197868 32\n0.809698 32\n0.144195 32\n0.463738 32\n0.280197 32\n1.063846 32\n0.135954 32\n0.120471 32\n0.232021 32\n0.216435 64\n0.536836 116\n0.628168 110\n0.045986 64\n0.014923 73\n4.704943 1\n0.164590 25\n0.176384 142\n0.000043 64\n0.439394 8\n0.252556 64\n0.299921 1\n0.328862 28\n0.211532 28\n0.168254 28\n0.144678 28\n0.069662 4\n0.320837 4\n0.121461 28\n0.327651 4\n0.280319 4\n0.119844 5\n0.119583 28\n0.152050 28\n0.096198 53\n0.111877 3\n0.120036 28\n0.184930 3\n0.086994 28\n0.095938 51\n0.040161 3\n0.063817 28\n0.151953 28\n0.168328 28\n0.039909 28\n0.056036 28\n0.039926 28\n0.364101 64\n0.292044 8\n0.075992 28\n0.284097 28\n0.167730 28\n0.063933 55\n0.104285 28\n0.095685 28\n0.120349 28\n0.103719 28\n0.169725 28\n0.062365 28\n0.295973 28\n0.175593 28\n0.176302 28\n0.048124 28\n0.039945 28\n0.448430 28\n0.183585 28\n0.087983 28\n0.264009 28\n0.152043 28\n0.664035 30\n0.044407 4\n0.617971 102\n0.427544 29\n0.000040 84\n1.119669 15\n0.324733 109\n0.219871 29\n0.000083 4\n0.413497 4\n0.215158 4\n0.151873 4\n0.143641 4\n0.120428 28\n0.071661 28\n0.136209 28\n0.040086 33\n0.195822 28\n0.148508 33\n0.275973 28\n0.006260 4\n0.741180 1\n0.270157 49\n0.044817 1340\n0.000574 411\n0.939844 323\n0.000511 355\n0.000937 62\n1.408355 63\n0.500204 63\n0.050203 63\n0.051136 63\n0.050183 63\n0.049988 63\n0.049973 64\n0.050308 64\n0.050410 65\n0.050255 64\n0.050365 64\n0.050315 64\n0.356008 64\n0.256249 4\n4.168498 64\n1.514908 64\n0.372765 1\n1.319397 8\n0.535795 1\n0.500002 1\n0.050732 1\n0.050214 1\n0.050836 1\n0.050522 1\n0.050738 1\n0.050540 1\n0.052763 1\n0.050538 1\n0.050788 1\n0.050367 1\n0.049466 1\n0.050780 1\n0.050679 1\n0.051333 1\n0.050900 1\n0.051278 1\n0.051030 1\n0.049556 1\n0.049820 1\n0.050378 1\n0.050369 1\n0.049833 1\n0.050874 1\n0.050785 1\n0.050402 1\n0.050690 1\n0.050106 1\n0.050602 1\n0.049682 5\n1.757228 65\n0.229537 65\n0.247397 65\n0.288089 65\n1.119967 65\n0.184082 64\n0.168155 8\n0.216735 1\n0.117971 1\n0.500823 1\n0.050471 1\n0.050779 1\n0.050806 1\n0.049979 1\n0.050642 1\n0.049917 1\n0.051370 104\n0.053155 18\n0.049212 1\n0.049868 1\n0.050667 1\n0.050216 1\n0.050039 1\n0.050568 1\n0.049589 1\n0.050087 25\n0.828430 131\n0.000033 120\n0.000471 65\n1.490696 65\n0.220837 2\n0.311570 1\n0.151730 31\n0.253325 31\n0.151379 31\n0.175761 20\n0.175987 25\n0.000093 21\n0.152301 21\n0.000066 65\n0.375671 65\n0.188737 65\n0.391751 1\n0.270986 67\n1.169825 25\n0.273247 129\n0.000041 64\n0.649581 64\n0.180195 62\n0.152028 807\n0.155566 371\n0.000052 116\n0.820943 110\n0.039841 145\n0.036657 13\n1.410289 103\n0.290696 29\n0.000035 45\n0.221246 1444\n1.187842 1\n1.555923 99\n0.811188 29\n0.000034 41\n0.148822 1264\n0.259147 84\n1.893660 59\n0.352503 239\n0.367154 738\n0.000158 100\n3.042578 29\n0.000034 45\n0.573197 1\n1.017808 49\n0.001346 87\n0.000683 639\n0.000036 195\n0.000030 477\n0.000269 1\n1.003200 1\n0.327947 30\n0.866463 30\n0.407399 30\n0.296103 30\n0.360458 30\n0.239573 30\n0.279890 63\n1.283540 65\n0.347616 1\n0.335188 1\n0.501260 1\n0.049545 1\n0.051619 1\n0.050432 1\n0.050548 1\n0.050368 1\n0.050173 1\n0.049898 1\n0.050149 1\n0.050395 1\n0.050500 1\n0.050494 1\n0.051002 1\n0.050607 1\n0.050125 1\n0.049748 1\n0.050956 1\n0.050846 1\n0.050393 1\n0.050388 1\n0.054207 1\n0.045881 1\n0.049999 65\n0.187019 2\n0.187440 1\n0.119869 3\n0.167915 40\n0.546004 40\n0.152123 40\n0.119971 40\n0.175970 40\n0.136375 40\n0.031589 16\n0.216064 22\n0.000044 40\n0.175917 40\n0.032303 65\n1.106729 8\n0.227398 1\n0.303564 30\n1.688279 30\n0.159947 30\n0.089144 30\n0.111169 65\n3.260426 116\n0.740412 110\n0.034243 65\n0.011028 16\n0.521827 1\n0.500407 1\n0.050258 1\n0.051402 1\n0.050643 1\n0.051276 1\n0.050481 76\n0.418703 42\n0.029094 3\n0.413277 78\n0.634026 4\n0.414889 1\n0.183161 37\n0.646262 1\n0.361833 1\n0.502489 1\n0.048824 1\n0.050003 1\n0.050486 1\n0.050357 1\n0.050932 102\n0.051764 16\n0.048308 1\n0.049708 1\n0.049836 1\n0.050422 1\n0.050572 1\n0.050564 1\n0.050548 1\n0.051107 1\n0.050356 1\n0.050744 1\n0.051092 1\n0.051211 1\n0.050944 32\n0.821580 32\n0.215988 65\n0.522747 2\n0.283098 1\n0.500878 3\n0.050552 3\n0.050008 3\n0.050769 3\n0.051160 3\n0.050210 3\n0.051517 2\n0.050676 1\n0.051003 3\n0.050766 3\n0.050570 3\n0.050515 3\n0.051284 3\n0.049910 3\n0.051023 2\n0.049789 1\n0.050481 3\n0.050154 3\n0.049743 3\n0.181222 1\n1.088190 1\n0.207628 40\n0.801452 40\n0.192270 3\n0.334437 3\n0.399977 36\n0.378018 36\n0.247760 36\n0.351814 36\n0.568073 4\n0.662716 1\n0.351596 30\n3.441943 30\n0.048024 30\n0.535936 30\n0.624131 30\n0.544154 3\n1.766284 1\n0.913893 1\n0.497711 1\n0.050682 1\n0.049381 1\n0.049823 1\n0.050127 1\n0.049959 1\n0.050009 1\n0.049320 1\n0.051142 1\n0.049435 1\n0.052477 1\n0.049781 1\n0.049989 1\n0.049743 1\n0.049994 1\n0.051004 1\n1.259971 31\n0.345320 31\n0.175226 31\n0.184283 32\n0.680252 3\n0.477855 31\n2.161939 59\n3.491548 60\n0.163858 1\n0.270735 32\n0.540768 32\n0.480277 1\n0.355245 1\n0.247772 32\n0.292715 32\n0.760097 65\n0.447952 65\n0.180138 1\n0.247025 3\n0.160233 3\n0.136047 31\n0.377378 31\n2.352264 31\n0.152169 31\n0.135746 32\n0.744000 3\n0.614774 8\n1.216161 28\n1.841137 28\n0.735696 28\n0.168319 28\n1.536026 28\n0.561282 4\n0.431023 28\n0.175366 28\n0.656404 36\n0.236573 8\n0.977597 115\n0.041574 109\n0.039407 65\n0.011104 69\n0.667919 141\n0.506796 538\n0.000050 64\n0.493454 66\n0.501148 64\n0.051079 64\n0.050582 63\n0.050460 64\n0.049656 64\n0.050215 64\n0.050744 64\n0.050539 64\n0.050667 96\n0.053930 806\n0.000053 25\n0.000026 104\n0.000028 74\n0.000597 219\n0.000136 66\n0.046046 71\n0.449683 18\n4.360009 71\n0.040296 18\n1.487749 71\n0.040556 75\n0.275369 64\n0.498195 64\n0.050683 63\n0.053164 64\n0.050359 1\n0.368039 1\n0.183975 1\n0.176012 1\n0.143885 1\n0.128067 1\n0.167984 3\n0.367926 3\n0.160156 73\n0.255432 58\n0.001034 102\n0.495566 99\n0.050982 98\n0.051761 97\n0.049927 96\n0.051449 95\n0.051181 94\n0.049243 95\n0.147775 92\n0.159346 91\n0.183832 91\n0.791961 91\n0.162113 64\n0.014942 25\n0.000100 66\n0.070831 22\n0.000091 7\n0.524962 169\n0.979513 54\n0.199774 52\n0.192327 50\n0.167861 48\n0.175689 46\n0.216117 44\n0.312235 42\n0.161817 43\n0.326344 43\n0.143905 1\n0.127746 41\n1.175833 3\n0.096309 41\n0.159577 41\n0.153018 41\n0.039212 41\n0.112187 2\n0.120254 41\n0.119762 41\n0.119938 3\n0.128303 41\n0.135977 169\n0.408223 128\n0.143191 3\n0.159668 41\n0.112816 41\n0.143833 41\n0.079391 43\n0.272410 43\n0.136216 43\n0.127611 41\n0.288118 43\n0.352082 41\n0.072061 41\n0.119588 41\n0.063999 41\n0.071529 2\n0.104529 41\n0.175682 41\n0.136331 41\n0.391697 41\n0.079877 41\n0.336419 41\n0.096137 41\n0.159933 41\n0.055719 41\n0.127980 3\n0.080125 41\n0.033701 41\n0.094637 41\n0.119579 41\n0.136262 3\n0.128010 41\n0.143750 41\n0.088263 3\n0.095969 41\n0.207985 41\n0.087950 41\n0.159943 41\n0.112150 41\n0.032318 41\n0.111331 41\n0.048605 41\n0.063506 3\n0.128326 41\n0.071669 41\n0.104450 41\n0.047733 41\n0.048052 2\n0.104288 41\n0.154784 41\n0.157488 41\n0.143874 3\n0.111852 41\n0.063890 41\n0.128391 41\n0.096072 2\n0.095800 41\n0.239710 41\n0.200200 41\n0.064204 41\n0.151968 41\n0.135635 3\n0.112193 41\n0.032249 41\n0.199874 41\n0.072044 41\n0.151699 41\n0.056220 41\n0.184027 3\n0.048112 41\n0.239913 41\n0.095971 41\n0.071764 1\n0.128042 41\n0.112314 41\n0.047935 41\n0.224497 41\n0.135961 41\n0.119980 3\n0.071890 41\n0.064279 41\n0.112006 41\n0.167734 41\n0.048329 41\n0.047645 41\n0.144455 41\n0.063802 41\n0.079977 175\n0.208588 128\n0.150295 3\n0.103332 41\n0.145127 41\n0.127546 3\n0.112452 41\n0.119466 41\n0.047853 41\n0.096076 3\n0.063910 41\n0.160172 41\n0.112083 41\n0.056022 41\n0.119734 101\n28.029691 17\n4.006300 117\n0.058007 111\n0.037993 64\n0.012297 17\n0.604025 102\n0.251398 29\n0.000038 41\n0.517086 45\n0.663853 43\n0.519861 1528\n0.476054 100\n2.847376 29\n0.000039 45\n0.244606 44\n0.344066 45\n0.424085 47\n0.367577 46\n0.392738 48\n0.415726 46\n0.271912 48\n0.232006 61\n0.267316 1\n0.223708 99\n0.189059 48\n0.175685 46\n0.152110 47\n0.191786 45\n0.176222 44\n0.168048 45\n0.184105 3\n0.583609 45\n0.384045 3\n0.240092 45\n0.224252 41\n0.191867 44\n0.528081 45\n0.608087 39\n0.407596 39\n0.352258 83\n0.907116 10\n0.604574 107\n0.195643 29\n0.000040 28\n0.588921 28\n0.119830 28\n0.712045 28\n0.039745 30\n0.100264 1\n0.261822 49\n0.067852 933\n0.000334 289\n0.000169 360\n0.000375 62\n0.794184 63\n0.500215 63\n0.050880 63\n0.050213 63\n0.050133 63\n0.050639 63\n0.050280 64\n0.050217 65\n0.284942 64\n0.200350 65\n0.207405 1\n0.500207 1\n0.050686 1\n0.050922 1\n0.254052 70\n0.189034 36\n0.069205 36\n0.560157 36\n0.039814 36\n0.200298 36\n0.087905 36\n0.056152 36\n0.191899 36\n0.544013 115\n0.431544 109\n0.039339 146\n0.013305 234\n0.542210 962\n0.000052 104\n0.000088 148\n0.000520 99\n0.738768 864\n0.000053 674\n0.000704 265\n0.713379 668\n0.000099 188\n0.000543 184\n0.000038 41\n0.000335 297\n0.000069 66\n0.802007 911\n0.000043 214\n0.000868 247\n0.477474 665\n0.000122 394\n0.000034 405\n0.000572 1\n0.633555 1376\n0.000456 133\n0.508323 771\n0.000052 32\n0.000084 428\n0.000724 59\n0.690538 859\n0.000107 297\n0.000038 553\n0.623497 384\n0.000045 800\n0.000584 1483\n1.012363 99\n1.026807 833\n0.000052 313\n0.000605 103\n0.000072 123\n0.000403 124\n0.000037 155\n1.065918 780\n0.000049 1\n0.000027 227\n0.000077 90\n0.000527 48\n0.000431 202\n0.000035 61\n1.299163 284\n0.439981 765\n0.000110 3\n0.000034 124\n0.000028 199\n0.000028 371\n0.000650 65\n0.634581 259\n1.233627 671\n0.000047 99\n0.000083 470\n0.000772 68\n0.833157 1498\n0.000615 57\n1.411275 897\n0.000106 586\n0.000537 63\n0.681091 63\n0.499390 63\n0.050132 63\n0.050585 63\n0.050928 64\n0.051042 64\n0.050194 64\n0.050271 64\n0.050362 64\n0.050760 64\n0.050269 64\n0.261364 65\n0.263124 25\n0.357133 149\n0.000043 1\n1.399478 114\n0.697236 108\n0.053230 64\n0.013420 79\n2.130895 983\n0.000096 515\n0.000784 367\n0.341351 593\n0.000092 157\n0.000557 40\n0.496571 940\n0.000051 69\n0.000026 135\n0.000028 373\n0.000723 5\n0.409261 966\n0.000043 522\n0.000635 49\n0.509845 882\n0.000048 76\n0.000028 39\n0.000027 282\n0.000538 4\n1.276043 1\n0.001097 85\n0.000444 1\n0.000232 390\n0.000202 1\n0.000237 54\n0.000183 1\n0.000195 89\n0.000182 1\n0.000855 345\n0.000263 99\n0.000421 1\n0.000200 79\n0.000166 1\n0.000188 1\n0.000161 8\n0.000219 40\n0.000339 1\n0.000188 63\n0.000162 1\n0.000184 29\n0.000151 1\n0.000179 158\n0.000169 39\n0.167181 866\n0.000044 159\n0.000139 449\n0.000630 80\n0.166155 793\n0.000082 245\n0.000688 47\n0.175389 905\n0.000082 604\n0.000739 54\n0.295500 896\n0.000098 139\n0.000072 455\n0.000688 198\n0.453809 707\n0.000050 182\n0.000081 596\n0.000758 215\n0.683784 717\n0.000047 98\n0.000074 463\n0.000714 64\n0.620211 64\n0.170307 66\n0.192358 64\n0.152123 64\n0.160019 64\n0.191228 66\n0.348776 28\n0.172922 28\n0.143935 2\n0.103965 52\n0.000032 28\n0.087619 28\n0.096460 28\n0.127813 28\n0.096095 28\n0.039918 28\n0.127847 28\n0.112397 28\n1.600354 28\n0.079397 28\n0.184232 28\n0.120183 28\n0.063637 28\n0.176371 28\n0.096058 28\n0.279843 30\n0.052477 3\n0.425150 30\n0.195264 30\n0.375279 30\n0.199769 30\n0.232218 30\n0.207857 30\n0.072002 30\n0.023937 30\n0.400210 30\n0.336039 30\n0.167854 55\n0.048447 36\n0.135720 30\n0.047897 30\n0.160137 30\n0.007770 30\n0.232392 30\n0.112251 30\n0.040673 33\n0.351495 33\n0.499791 33\n0.050408 33\n0.049930 33\n0.050385 33\n0.051149 60\n0.050373 37\n0.050351 33\n0.050579 33\n0.186466 30\n0.367872 65\n0.386273 161\n0.214683 1\n0.089821 28\n0.189164 3\n0.144139 45\n0.880450 3\n0.055552 28\n0.079995 28\n0.144061 28\n0.103826 28\n0.224154 28\n0.111697 28\n0.128551 28\n0.111572 28\n0.232051 28\n0.224098 28\n0.160054 28\n0.514876 28\n0.109674 28\n0.087283 28\n0.071886 28\n0.208494 28\n0.135901 4\n0.279908 4\n0.136050 28\n0.063880 28\n0.079979 28\n0.080115 28\n0.079974 28\n0.040019 28\n0.160071 28\n0.344070 30\n0.030011 3\n0.375117 105\n4.819562 29\n0.000200 45\n0.220649 41\n0.640023 1565\n0.435642 102\n1.863408 29\n0.000040 41\n0.316706 1694\n0.724515 30\n1.590454 30\n0.223717 30\n0.200298 30\n0.135870 188\n3.826683 113\n0.069531 1\n1.412775 45\n3.218926 45\n0.152295 45\n0.271821 45\n0.087761 45\n0.432800 45\n0.319599 65\n1.122073 175\n0.326199 1\n0.114396 28\n0.701030 28\n0.031559 28\n0.040385 3\n0.167699 2\n0.104913 45\n0.000035 3\n0.103133 224\n0.456785 41\n0.399450 41\n0.183900 41\n0.216113 3\n0.112566 41\n0.319625 41\n0.255917 199\n0.507329 409\n0.000182 3\n0.076561 41\n0.232480 1\n0.103471 41\n1.607710 41\n0.272381 41\n2.327880 41\n0.223969 41\n4.015881 41\n0.456158 41\n0.191999 1\n0.063625 41\n0.344299 41\n0.144099 41\n0.032809 41\n0.079004 3\n0.104189 41\n0.160419 41\n0.183716 41\n0.047768 41\n0.240085 128\n0.216342 111\n0.507533 453\n0.000040 28\n0.556086 10\n0.320177 30\n0.000030 10\n0.044806 43\n0.000040 3\n0.415894 30\n5.163733 33\n0.575514 30\n0.079933 30\n0.056122 30\n0.188064 57\n0.051666 30\n0.552309 30\n0.191869 30\n0.072403 30\n0.615724 30\n0.344376 30\n0.200371 30\n0.039534 30\n0.200265 30\n0.055629 57\n0.127672 30\n0.063884 30\n0.192475 30\n0.152158 30\n0.127795 30\n0.072466 68\n1.216436 846\n0.000531 298\n0.000399 343\n0.000069 65\n0.213099 806\n0.000110 90\n0.000032 156\n0.000029 5\n0.248600 1043\n0.000100 509\n0.000763 5\n0.249253 966\n0.000040 99\n0.000072 80\n0.000571 38\n0.000067 2\n0.000411 138\n0.000070 165\n0.000357 49\n0.166104 882\n0.000116 115\n0.000032 41\n0.000576 144\n0.000067 97\n0.000311 72\n0.181298 873\n0.000061 89\n0.000080 63\n0.000472 104\n0.000390 151\n0.000037 98\n0.176261 793\n0.000092 81\n0.000456 824\n0.000881 4\n0.228696 1\n0.000081 118\n0.000061 1\n0.000051 30\n0.000299 1\n0.000083 116\n0.000278 1\n0.000080 42\n0.000057 1\n0.000172 52\n0.000149 1\n0.000126 41\n0.000152 1\n0.000126 41\n0.000155 1\n0.000111 134\n0.000476 360\n0.000042 140\n0.000151 197\n0.000265 147\n0.000035 1549\n0.277809 539\n1.331901 1\n0.000754 87\n0.000207 1\n0.000212 87\n0.000184 1\n0.000198 80\n0.000181 1\n0.000200 45\n0.000253 1\n0.000206 53\n0.000273 1\n0.000187 93\n0.000179 2\n0.000319 1\n0.000169 66\n0.000163 1\n0.000186 1\n0.000165 57\n0.000169 2\n0.000321 1\n0.000169 107\n0.000163 1\n0.000188 87\n0.000161 1\n0.000189 144\n0.000117 273\n0.865202 697\n0.000048 455\n0.000759 366\n0.000528 120\n0.856028 822\n0.000091 482\n0.000496 705\n1.642610 514\n0.000039 240\n0.000088 90\n0.000611 627\n0.643961 834\n0.000488 97\n0.273388 1694\n0.000718 70\n0.324198 651\n0.000070 387\n0.000422 95\n0.000090 153\n0.000277 102\n0.415057 899\n0.000080 447\n0.000698 68\n0.857662 916\n0.000165 361\n0.000736 186\n1.115407 786\n0.000049 824\n0.000838 5\n0.821156 363\n0.000036 306\n0.000689 272\n0.000043 484\n0.000371 64\n0.961477 51\n0.000767 46\n0.001001 71\n0.493255 64\n0.051334 64\n0.050412 64\n0.051679 64\n0.048933 64\n0.050912 64\n0.050195 64\n0.051633 64\n0.050051 64\n0.050134 65\n0.049366 63\n0.051389 63\n0.050419 63\n0.050545 63\n0.050410 63\n0.050875 63\n0.050559 62\n0.051113 3\n0.389909 95\n0.000636 351\n0.000034 176\n0.000028 89\n0.000029 256\n0.000043 3\n0.000622 452\n0.000034 84\n0.000376 282\n0.000067 119\n0.803098 823\n0.000105 249\n0.000747 233\n0.000107 65\n0.728666 64\n0.496774 64\n0.050245 64\n0.050203 64\n0.052098 64\n0.047358 64\n0.050314 64\n0.051214 64\n0.051041 64\n0.482653 65\n0.320873 189\n0.457746 1\n0.193260 28\n0.221438 28\n0.208250 28\n0.088193 2\n0.151542 52\n0.000033 28\n0.103886 28\n0.224878 28\n0.087201 28\n0.120073 28\n0.039898 3\n0.096004 3\n0.232014 1\n0.264449 28\n0.127857 3\n0.109699 28\n0.065936 28\n0.208190 28\n0.064095 28\n0.391989 28\n0.560328 213\n0.191777 41\n0.240506 41\n0.064743 41\n0.135286 402\n0.509271 409\n0.000041 41\n0.003241 41\n0.319154 43\n0.671697 138\n0.216159 10\n0.275592 22\n0.000090 1\n0.769827 115\n0.057269 109\n0.041623 65\n0.016126 678\n0.510472 262\n0.000110 172\n0.000034 427\n0.000032 373\n0.000612 568\n0.219336 335\n0.000050 218\n0.000031 36\n0.000029 267\n0.000681 1\n0.231061 93\n0.000230 1\n0.000100 38\n0.000073 1\n0.000048 55\n0.000049 1\n0.000046 231\n0.000052 1\n0.000078 62\n0.000051 1\n0.000051 42\n0.000047 1\n0.000048 241\n0.000069 1\n0.000050 177\n0.000061 142\n0.000186 1\n0.000062 67\n0.000051 202\n0.000201 1\n0.000058 138\n0.000055 105\n0.902718 812\n0.000108 249\n0.000031 282\n0.000536 100\n0.454510 867\n0.000052 202\n0.000027 372\n0.000726 1\n0.423219 102\n0.000153 1\n0.000108 72\n0.000085 1\n0.000101 37\n0.000081 1\n0.000096 29\n0.000133 1\n0.000116 96\n0.000088 1\n0.000115 87\n0.000097 1\n0.000110 1\n0.000092 139\n0.000353 1\n0.000238 42\n0.000186 1\n0.000198 242\n0.000180 1\n0.000214 39\n0.000176 1\n0.000196 37\n0.000171 236\n0.000351 160\n0.379460 947\n0.000048 1\n0.000026 218\n0.000027 139\n0.000088 86\n0.424809 836\n0.000055 190\n0.000086 120\n0.000567 284\n0.000383 1\n0.433490 953\n0.000050 46\n0.000914 351\n0.000095 138\n0.000443 259\n0.000040 1\n0.475337 504\n0.012034 1\n0.005670 62\n0.000088 1\n0.000055 47\n0.000054 1\n0.000061 64\n0.000050 1\n0.000049 159\n0.000054 1\n0.000078 35\n0.000053 1\n0.000051 26\n0.000064 2\n0.000225 1\n0.000063 28\n0.000062 1\n0.000051 32\n0.000053 205\n0.000244 1\n0.000062 59\n0.000078 1\n0.000052 106\n0.000059 66\n0.754037 741\n0.000050 71\n0.000076 92\n0.000543 436\n0.583660 539\n0.000048 3\n0.000085 318\n0.000356 676\n0.531298 411\n0.000044 474\n0.000816 313\n0.770292 634\n0.000047 42\n0.000079 633\n0.000732 97\n0.487732 917\n0.000691 2\n0.000167 1\n0.000168 1\n0.000275 201\n0.000081 1\n0.000071 131\n0.000062 70\n0.498170 479\n0.000053 128\n0.348417 846\n0.000049 303\n0.000808 156\n0.163257 772\n0.000052 381\n0.000616 196\n0.000291 89\n0.000037 365\n0.165343 743\n0.000044 469\n0.000621 649\n0.148924 324\n0.000045 3\n0.000076 322\n0.000873 73\n0.157073 752\n0.000048 2\n0.000073 152\n0.000452 5\n0.353428 916\n0.000110 61\n0.000038 373\n0.000541 5\n0.428752 917\n0.000054 900\n0.000584 4\n0.381075 1\n0.000722 1124\n0.000049 53\n0.000201 2\n0.000274 1\n0.000112 129\n0.000087 1\n0.003018 175\n0.000303 5\n0.402046 967\n0.000052 139\n0.000075 339\n0.000681 42\n0.523685 884\n0.000050 589\n0.000588 63\n0.585918 63\n0.500394 63\n0.050215 63\n0.050662 63\n0.050342 64\n0.051058 64\n0.050809 64\n0.051212 64\n0.051159 64\n0.049668 64\n0.050139 64\n0.051063 64\n0.414942 8\n0.191946 1\n0.167174 1\n0.263943 2\n0.312001 67\n0.584074 30\n0.131487 30\n0.199977 30\n0.312002 30\n0.088186 30\n0.175878 30\n0.194972 30\n0.005401 30\n0.152043 30\n0.111839 3\n0.573200 65\n0.412428 104\n0.301028 199\n0.424560 45\n0.152303 45\n0.143544 45\n0.152274 45\n0.152061 45\n0.144981 45\n0.143000 98\n0.127880 30\n0.616058 30\n0.072056 30\n0.023905 30\n0.088365 30\n0.607738 30\n0.168583 30\n0.119384 30\n0.144014 115\n0.870225 109\n0.037465 65\n0.011705 26\n0.908845 59\n0.000043 30\n0.796007 30\n0.103698 30\n0.288029 30\n2.560029 30\n0.167890 30\n0.112030 30\n0.216108 30\n0.071602 30\n0.104483 30\n0.167955 30\n0.120360 67\n0.071917 115\n0.542447 109\n0.040376 65\n0.013537 46\n1.799634 135\n0.001771 2\n0.350060 20\n0.129450 2\n0.783712 36\n0.267228 77\n0.000014 568\n0.000238 2\n0.000012 96\n0.016262 18\n0.859116 23\n0.129522 33\n1.409202 125\n0.001891 990\n0.000713 358\n0.000413 467\n0.000367 105\n0.807766 29\n0.000038 45\n0.282849 1514\n0.476166 800\n0.309635 267\n0.000077 51\n0.000510 287\n0.000455 156\n0.000042 339\n0.499496 613\n0.000043 3\n0.000027 115\n0.000029 315\n0.000723 938\n0.048555 316\n0.000037 7\n0.000687 275\n0.000033 1\n0.042096 55\n0.003992 1\n0.047114 1\n0.051061 1\n0.050040 1\n0.050910 1\n0.053414 1\n0.048212 1\n0.050955 69\n0.590523 65\n0.496019 64\n0.051570 64\n0.050554 64\n0.051527 64\n0.050422 64\n0.050902 64\n0.050035 64\n0.050816 64\n0.050179 64\n0.051932 65\n0.048485 63\n0.050689 63\n0.049868 63\n0.050364 64\n0.377701 65\n0.668950 3\n0.029266 28\n0.039171 28\n0.160330 28\n0.095868 28\n0.128139 28\n0.079551 28\n0.064730 28\n0.863920 117\n0.367405 111\n0.037996 64\n0.012519 181\n0.165221 2\n0.222178 20\n0.113876 2\n0.158943 83\n0.296254 6\n0.000015 28\n0.000011 540\n0.000244 4\n0.000013 49\n0.000011 205\n0.000142 96\n0.019406 18\n6.243178 23\n1.713378 1880\n0.786465 171\n0.710994 953\n0.000123 58\n0.001062 314\n0.000396 80\n0.319725 965\n0.000048 323\n0.000666 94\n0.000028 204\n0.333139 661\n0.000050 77\n0.000032 142\n1.159199 892\n0.000118 322\n0.000083 91\n0.000727 72\n0.849368 848\n0.000046 563\n0.000533 936\n0.917822 332\n0.000080 261\n0.000716 171\n0.764672 1011\n0.000070 3\n0.000079 59\n0.000463 249\n0.000062 82\n0.822089 966\n0.000047 417\n0.000474 69\n1.378778 847\n0.000049 224\n0.000029 227\n0.000707 110\n0.000068 936\n0.943632 256\n0.000071 337\n0.000738 171\n1.460640 899\n0.000036 112\n0.000068 311\n0.000688 82\n0.334093 966\n0.000177 417\n0.000640 63\n0.554676 204\n0.228326 738\n0.000050 62\n0.364433 64\n0.499335 63\n0.049561 63\n0.049851 63\n0.050002 63\n0.049761 63\n0.050647 64\n0.050738 64\n0.050686 64\n0.050265 64\n0.329826 25\n0.277828 148\n0.000043 1\n0.505222 28\n0.932762 28\n0.167802 28\n0.152064 2\n0.119967 52\n0.000033 28\n0.111972 28\n0.072275 28\n0.159857 28\n0.199890 28\n0.088115 28\n0.511951 30\n0.026909 3\n0.464479 207\n1.269208 43\n0.063915 134\n0.081351 118\n0.554907 112\n0.037909 65\n0.011368 181\n0.190326 2\n0.238642 20\n0.113290 2\n0.191415 36\n0.303733 81\n0.000014 601\n0.000322 41\n0.000012 96\n0.019398 18\n2.427672 23\n0.529092 1352\n0.434025 65\n0.720814 66\n0.389597 65\n0.647786 3\n0.246980 2\n0.500925 1\n0.050041 3\n0.049881 3\n0.050106 3\n0.050019 70\n0.336263 36\n0.052501 32\n0.128134 32\n0.184067 32\n0.047993 32\n0.080235 31\n0.480519 31\n0.143280 31\n0.127911 31\n0.135910 56\n0.001328 47\n0.001103 18\n0.284533 118\n0.024477 112\n0.040651 65\n0.010971 46\n0.179078 135\n0.001706 2\n0.310089 20\n0.137383 2\n0.169359 36\n0.305638 49\n0.000015 456\n0.000253 54\n0.000145 96\n0.019811 18\n0.887445 23\n0.369728 33\n5.377063 125\n0.001041 906\n0.001065 290\n0.000041 89\n1.469960 945\n0.000049 414\n0.000753 72\n0.528610 848\n0.000052 224\n0.000271 227\n0.000724 112\n0.000028 936\n0.237963 332\n0.000037 156\n0.000696 105\n0.000036 1\n0.470505 27\n0.003587 28\n0.000041 10\n0.602046 97\n0.275163 29\n0.000035 41\n0.445049 1\n0.762390 49\n0.003848 1273\n0.000401 356\n0.000381 65\n3.862555 1\n1.402529 139\n0.486226 33\n0.496655 33\n0.051059 33\n0.050602 33\n0.050768 33\n0.050271 33\n0.050882 33\n0.050806 33\n0.266832 30\n0.136146 115\n0.782962 109\n0.049347 65\n0.013948 181\n0.184230 2\n0.486168 20\n0.129798 23\n0.832172 5\n0.166422 2\n0.487802 1965\n0.340935 65\n0.761410 1\n0.458922 3\n0.375462 3\n0.499791 3\n0.050409 3\n0.051505 3\n0.049216 3\n0.050943 2\n0.049874 1\n0.051012 3\n0.049681 3\n0.051294 3\n0.049973 3\n0.334511 69\n0.438032 65\n0.414997 8\n0.147332 1\n0.095142 33\n0.410874 126\n0.377125 75\n0.515233 1\n0.300523 2\n0.500238 34\n0.000029 1\n0.050480 5\n0.050606 4\n0.050790 1\n0.379686 370\n0.257917 115\n0.332797 109\n0.038282 65\n0.012519 181\n0.181201 2\n0.341603 20\n0.128905 2\n0.215814 36\n0.459469 7\n0.000013 33\n0.000526 1518\n0.144632 69\n0.513683 69\n0.227177 64\n0.248082 64\n0.496256 64\n0.041480 64\n0.062494 64\n0.041546 64\n0.062163 64\n0.041651 64\n0.062238 64\n0.041619 64\n0.041498 64\n0.062298 64\n0.041497 64\n0.062182 64\n0.041519 64\n0.062385 73\n0.041438 73\n0.041630 73\n0.062072 73\n0.041588 64\n0.061940 73\n0.041544 171\n2.983472 76\n0.205278 221\n0.425581 171\n0.628038 76\n0.399374 221\n0.364862 171\n1.009560 76\n0.531754 49\n0.446502 86\n0.123988 44\n0.366882 76\n0.082725 49\n0.424792 221\n1.148742 471\n0.587816 96\n0.079870 18\n0.280973 23\n0.137545 2115\n0.251523 105\n1.447859 29\n0.000207 45\n0.243940 1597\n0.515475 170\n1.707642 1\n0.000559 801\n0.000089 99\n0.000501 111\n0.000032 3\n0.000342 308\n0.000064 61\n0.856644 520\n0.315154 964\n0.000497 65\n0.699464 66\n0.687621 173\n0.661872 1\n0.127046 28\n0.237554 28\n0.191747 28\n0.207894 2\n0.160650 52\n0.000032 28\n0.119246 28\n0.152088 28\n0.104124 28\n0.112640 28\n0.119011 28\n0.073637 28\n0.046625 28\n0.143981 28\n0.080071 28\n0.144058 28\n0.200012 28\n0.111980 28\n0.312085 30\n0.036770 3\n0.424436 200\n0.554899 43\n0.056880 125\n0.064535 118\n0.445267 112\n0.042000 65\n0.014193 181\n0.183512 2\n0.438032 20\n0.105728 2\n0.214964 36\n0.446085 7\n0.000014 33\n0.000532 1518\n0.143951 548\n1.159752 96\n0.075512 18\n0.126515 2\n1.370256 36\n0.400784 7\n0.000014 33\n0.000617 1518\n0.143923 69\n0.694364 69\n0.206551 548\n0.441470 96\n0.111042 18\n0.670266 23\n0.137531 33\n0.281112 125\n0.001253 1203\n0.000458 513\n0.000466 1\n1.211792 1\n0.501208 1\n0.049822 1\n0.050184 1\n0.051086 1\n0.050161 1\n0.050340 1\n0.050571 1\n0.050947 1\n0.393452 67\n1.021279 205\n0.533529 64\n0.416694 5\n0.157076 65\n0.676913 1\n1.138689 1\n0.499943 1\n0.051145 1\n0.050942 1\n0.050690 1\n0.051430 1\n0.050737 1\n0.050400 1\n0.050417 1\n0.050188 1\n0.051192 3\n0.449053 189\n2.613186 8\n0.355608 64\n0.452405 8\n0.213085 3\n3.050108 28\n0.192430 28\n0.231499 28\n0.039623 28\n0.048078 28\n1.120213 28\n0.079778 28\n0.184059 28\n0.263935 28\n0.112118 28\n0.392044 30\n0.044350 1\n0.417054 30\n0.755538 30\n0.215040 30\n0.832540 30\n0.216627 30\n0.310996 30\n0.271978 30\n0.416001 30\n0.335820 30\n0.320471 30\n0.095624 30\n0.319834 33\n0.224472 33\n0.096080 30\n0.168300 30\n0.199516 65\n0.408976 1\n0.380318 3\n0.239812 3\n0.510598 3\n0.041209 3\n0.050972 104\n0.052429 17\n0.048846 2\n0.049862 1\n0.134111 32\n0.194580 32\n1.040084 32\n0.088758 32\n0.135207 2\n0.080021 57\n0.000032 32\n0.256197 32\n0.119738 32\n0.104305 32\n0.135889 32\n0.047887 32\n0.056366 32\n0.640111 32\n1.744069 32\n0.199994 32\n0.223903 32\n0.064117 32\n1.535676 4\n0.510409 45\n0.000076 8\n0.002481 8\n0.899101 24\n0.001044 8\n0.840127 118\n0.049303 112\n0.053012 65\n0.011182 3\n0.511871 1\n0.000551 71\n0.000571 181\n1.086845 2\n0.230210 20\n0.129439 2\n0.167474 36\n0.446103 7\n0.000012 33\n0.000535 1518\n0.145529 568\n0.661034 96\n0.076732 18\n0.524847 23\n0.137506 1880\n2.490845 1\n1.068375 67\n0.701946 30\n1.117010 30\n0.136052 30\n0.088028 30\n0.191878 33\n0.392138 118\n0.382406 112\n0.048805 65\n0.006827 181\n0.169076 2\n0.157362 20\n0.129490 2\n0.167507 36\n0.417901 7\n0.000014 33\n0.000556 1518\n0.148833 134\n0.320937 8\n0.082588 84\n0.429058 80\n0.184671 8\n0.204199 251\n1.562330 69\n0.369855 69\n0.167740 470\n0.641068 96\n0.075893 18\n0.161564 23\n0.137287 33\n0.241284 125\n0.002315 977\n0.000455 236\n0.000181 513\n0.000666 102\n0.861739 29\n0.000096 41\n0.172539 45\n0.360058 1393\n0.411956 59\n0.551561 867\n0.000088 195\n0.000912 206\n0.000274 972\n0.558147 195\n0.000092 180\n0.000034 188\n0.000030 69\n0.276560 1\n0.000459 885\n0.000221 155\n0.000435 1\n0.000218 86\n0.000185 1\n0.000204 40\n0.000187 2\n0.000371 1\n0.000201 62\n0.000181 1\n0.000191 61\n0.000165 1\n0.000187 43\n0.000167 1\n0.000184 93\n0.000166 53\n0.178857 1220\n0.000489 62\n0.150716 1023\n0.000123 279\n0.000049 98\n0.720315 862\n0.000049 286\n0.000247 3\n0.000690 566\n0.000035 76\n1.671448 843\n0.000040 646\n0.000576 5\n0.364020 1651\n0.000756 4\n0.176901 1\n0.000090 49\n0.000056 1\n0.000051 55\n0.000322 1\n0.000083 589\n0.000306 1\n0.000126 234\n0.000081 197\n0.000477 137\n0.000032 147\n0.000029 64\n1.750480 64\n0.364487 2\n0.438762 75\n0.543266 4\n0.147270 4\n0.159909 12\n0.136003 28\n0.135761 28\n0.169802 28\n0.150713 55\n0.119323 28\n0.136151 28\n0.514185 28\n0.045655 28\n0.168701 28\n0.046988 28\n0.264630 28\n0.224071 28\n0.111947 28\n0.144022 28\n0.056065 28\n0.127951 28\n0.048134 28\n0.151892 28\n0.168158 28\n0.247939 28\n0.120220 28\n0.162540 28\n0.133584 28\n0.079845 4\n0.448334 4\n0.120024 4\n0.143836 4\n0.135927 4\n0.151869 28\n0.103972 28\n0.144423 28\n0.175518 28\n0.184021 28\n0.144844 28\n0.070723 28\n0.176602 28\n0.064060 28\n0.055933 28\n0.376201 28\n0.335905 31\n0.244202 8\n0.544529 116\n0.073730 110\n0.036587 65\n0.007067 83\n0.308032 96\n0.001131 2\n0.197001 20\n0.121516 2\n0.232015 36\n0.422797 7\n0.000012 33\n0.000517 1484\n0.160402 6\n0.020380 60\n0.433810 40\n0.020779 60\n0.166062 40\n0.020942 60\n0.165607 40\n0.020922 60\n0.166035 5\n0.020689 69\n0.124007 69\n0.165353 64\n0.206382 64\n0.145581 64\n0.144807 64\n0.165534 64\n0.165659 64\n0.144555 64\n0.145426 64\n0.166204 64\n0.165431 54\n0.165745 69\n0.269122 235\n0.934444 64\n0.268484 137\n0.259601 80\n0.204815 218\n0.375636 166\n0.027431 7\n0.020310 7\n0.456783 7\n0.020667 7\n0.485492 7\n0.020828 7\n0.468176 7\n0.020926 7\n0.483350 7\n0.020503 7\n0.465321 7\n0.020843 7\n0.485821 7\n0.020909 7\n0.467683 7\n0.020813 7\n0.484004 7\n0.020934 471\n0.234629 96\n0.071962 18\n0.141374 23\n0.113360 33\n0.241252 125\n0.001102 966\n0.000391 196\n0.000032 454\n0.000311 69\n2.212312 73\n34.237066 61\n0.496661 65\n0.050446 66\n0.050173 65\n0.050589 64\n0.050621 65\n0.051082 65\n0.051103 65\n0.049716 65\n0.050601 64\n0.050819 64\n0.050589 63\n0.050311 64\n0.050671 63\n0.049998 64\n0.051523 64\n0.182987 24\n0.556547 154\n0.000040 1\n0.119035 28\n0.285411 28\n0.199541 28\n0.524124 54\n0.068220 28\n0.087873 28\n0.192337 28\n0.143794 53\n0.103924 34\n0.088215 28\n0.112571 28\n0.271675 28\n0.183957 28\n0.087957 28\n0.120293 28\n0.064023 28\n0.032411 28\n0.143115 28\n0.056123 3\n0.136260 28\n0.111583 3\n0.048013 28\n0.472261 30\n0.042797 2\n0.490802 117\n0.057378 111\n0.036589 64\n0.013902 17\n9.779772 70\n0.072311 74\n0.545568 63\n0.191192 67\n8.310839 72\n0.322283 63\n0.499526 63\n0.050803 64\n0.052581 64\n0.049554 64\n0.050161 64\n0.050444 64\n0.051023 64\n0.053600 64\n0.050130 65\n0.051280 64\n0.050805 64\n0.049553 64\n0.115661 8\n0.287209 202\n0.270968 8\n0.142689 28\n0.237675 28\n0.199853 28\n0.039666 55\n0.248238 28\n0.128519 28\n0.215659 28\n0.319932 53\n0.127755 34\n0.104306 28\n0.088087 28\n0.071770 28\n0.104056 28\n0.087771 28\n0.096232 28\n0.039938 28\n0.047946 28\n0.136161 28\n0.095976 28\n0.136016 28\n0.080102 28\n0.176113 28\n0.104103 28\n0.063797 28\n0.112006 28\n0.095892 28\n0.152111 28\n2.364552 31\n0.488180 58\n0.836626 3\n1.370847 30\n0.768066 30\n0.059531 30\n0.152465 30\n0.103888 30\n0.208002 30\n0.095749 30\n0.056214 114\n0.613779 108\n0.039011 65\n0.012172 48\n0.544775 22\n0.001378 65\n0.495189 60\n0.050241 65\n0.050284 65\n0.050830 66\n0.050012 64\n0.050396 65\n0.049959 65\n0.051873 71\n0.352399 77\n0.820165 871\n0.000053 225\n0.000029 618\n0.000650 515\n0.232658 387\n0.000046 869\n0.000956 1416\n0.492216 98\n0.046695 621\n0.000040 148\n0.000037 222\n0.000636 327\n0.060448 541\n0.000045 378\n0.000080 143\n0.048379 783\n0.000159 352\n0.000762 294\n0.000334 136\n0.000032 179\n0.035876 707\n0.000048 79\n0.000033 1\n0.045846 24\n0.002823 25\n0.000265 1\n0.047012 1\n0.050692 1\n0.049970 1\n0.050961 70\n0.237599 65\n0.500419 63\n0.049974 63\n0.050661 63\n0.050153 63\n0.050786 63\n0.051181 64\n0.049208 64\n0.051744 64\n0.217196 64\n0.303862 8\n0.151526 7\n0.267593 183\n0.000039 8\n0.352435 2\n0.381604 1\n0.000033 4\n0.255939 2\n0.151824 28\n0.327625 28\n0.232069 53\n0.072013 3\n0.359835 28\n1.464130 56\n0.001382 47\n0.001379 18\n0.061775 28\n0.192230 51\n0.055338 3\n0.079815 28\n0.112434 28\n0.103618 28\n0.103857 55\n0.096460 28\n0.088005 28\n0.207813 28\n0.160227 53\n0.112829 34\n0.119388 28\n0.471846 28\n0.136108 28\n0.103787 28\n0.184118 28\n0.144142 28\n0.111663 28\n0.024000 28\n0.168147 28\n0.056272 28\n0.318662 155\n0.201361 8\n0.115220 28\n0.732478 28\n0.215586 28\n0.184383 28\n0.223793 28\n0.048887 28\n0.055051 28\n0.128191 28\n0.047973 28\n0.199535 30\n0.508186 3\n0.554487 118\n0.041410 112\n0.045235 65\n0.012583 18\n1.148824 71\n0.016200 79\n2.516377 952\n0.000042 845\n0.000697 145\n0.263619 1\n0.000184 1\n0.000086 89\n0.000099 1\n0.000118 1\n0.000092 113\n0.000096 1\n0.000130 1\n0.000097 17\n0.000086 1\n0.000188 1\n0.000520 72\n0.000183 1\n0.000214 1\n0.000166 129\n0.000166 1\n0.000179 1\n0.000145 43\n0.000147 1\n0.000168 1\n0.000143 304\n0.000168 261\n0.000390 1\n0.000197 196\n0.000158 244\n0.253253 1\n0.000425 1\n0.000180 27\n0.000185 1\n0.000195 1\n0.000173 93\n0.000251 1\n0.000210 1\n0.000175 69\n0.000177 1\n0.000200 1\n0.000162 31\n0.000158 1\n0.000179 1\n0.000156 329\n0.000168 1\n0.000205 1\n0.000161 38\n0.000167 312\n0.000388 75\n0.168126 880\n0.000107 208\n0.000768 407\n0.179035 1\n0.000074 1\n0.000051 1\n0.000256 70\n0.000322 1\n0.000143 1\n0.000150 1\n0.000130 46\n0.000129 1\n0.000128 49\n0.000148 1\n0.000125 83\n0.000146 1\n0.000127 57\n0.000143 1\n0.000123 140\n0.000142 1\n0.000097 58\n0.000162 135\n0.000608 375\n0.000039 31\n0.000164 111\n0.000139 65\n0.000103 96\n0.000036 226\n0.397140 689\n0.000109 153\n0.000032 577\n0.000724 57\n0.307581 1030\n0.000050 385\n0.000620 151\n1.748948 1490\n0.000537 68\n0.662635 72\n0.315438 64\n0.149542 63\n0.151740 3\n0.222902 3\n0.500428 3\n0.054281 3\n0.046570 3\n0.051149 3\n0.051237 2\n0.050181 1\n0.049730 3\n0.050356 3\n0.050209 3\n0.050563 3\n0.050603 68\n0.609627 32\n0.100218 65\n0.184633 4\n0.356670 1\n0.167543 1\n0.167957 32\n0.204231 30\n0.071174 65\n0.168056 1\n0.196632 20\n0.235028 24\n0.000051 44\n0.072209 118\n0.686286 112\n0.030563 65\n0.014508 18\n0.921335 105\n0.243898 29\n0.000038 45\n0.324405 44\n1.335974 45\n0.400030 1\n0.683364 49\n0.000798 681\n0.000500 221\n0.000029 3\n0.000383 199\n0.000067 3\n0.000438 401\n0.000127 645\n0.886172 259\n0.000083 439\n0.000797 1\n0.358240 1465\n0.000856 32\n0.305271 529\n0.000054 340\n0.322835 612\n0.000037 471\n0.000735 64\n0.492517 64\n0.495739 64\n0.050502 64\n0.050360 64\n0.049656 64\n0.049882 65\n0.051185 64\n0.050019 64\n0.050264 64\n0.139876 64\n0.176012 3\n0.422953 1\n0.199603 136\n0.680335 264\n0.149915 68\n0.150522 299\n0.136299 67\n0.159378 128\n0.591934 3\n0.208029 41\n0.160084 41\n0.223938 78\n0.104358 41\n0.096554 41\n0.095078 41\n0.039966 41\n0.160648 41\n0.055528 41\n0.144787 41\n0.047240 41\n0.024006 41\n0.144053 41\n0.087980 1\n0.120168 41\n0.047926 41\n0.056334 41\n0.048304 3\n0.103054 41\n1.488434 41\n0.160306 41\n0.151444 41\n0.200142 41\n0.200237 41\n0.079879 3\n0.151972 41\n0.151954 41\n0.128023 41\n0.040428 41\n0.039581 1\n0.128104 41\n1.176007 41\n0.071986 41\n0.178903 41\n0.156973 41\n0.200984 41\n0.071664 66\n0.135852 41\n0.034939 41\n0.084995 3\n0.079496 41\n1.984421 41\n0.112432 41\n0.103493 41\n0.087746 2\n0.120160 41\n0.081677 41\n0.078321 3\n0.072123 41\n0.063571 41\n0.096405 41\n0.111917 41\n0.080577 41\n0.103623 41\n0.064424 3\n0.103425 41\n0.160109 41\n0.088111 41\n0.119896 41\n0.064138 41\n0.024277 41\n0.215961 41\n0.039396 41\n0.152107 3\n0.168283 41\n0.103525 41\n0.112333 41\n0.080036 41\n0.112312 41\n0.087062 172\n0.369463 128\n0.110692 64\n0.127891 41\n0.096618 41\n0.119389 41\n0.127997 55\n0.001751 46\n0.003091 58\n0.083848 41\n0.127318 41\n0.039956 41\n0.099351 3\n0.092634 41\n0.080247 41\n0.079598 41\n0.064258 3\n0.120084 41\n0.063757 41\n0.312283 41\n0.175895 41\n0.144146 41\n0.079887 3\n0.152030 41\n0.096794 3\n0.151181 41\n0.111598 41\n0.072430 43\n0.472340 43\n0.119819 1\n0.151740 41\n0.136046 2\n0.144014 41\n0.023791 41\n0.103949 41\n0.056282 3\n0.144300 41\n1.463778 43\n0.575886 41\n0.752060 41\n0.193380 41\n0.190612 41\n0.384033 1\n0.135966 41\n0.144042 41\n0.048278 3\n0.103765 41\n0.064016 79\n0.136077 41\n0.111959 41\n0.088003 41\n0.087990 41\n0.023852 41\n0.064196 41\n0.896138 118\n0.556757 112\n0.033390 65\n0.011683 72\n3.772417 65\n0.246186 1\n0.718786 1\n0.499837 1\n0.051195 1\n0.050637 1\n0.050493 1\n0.051038 1\n0.050554 1\n0.050325 1\n0.050695 1\n0.050322 1\n0.051453 1\n0.050198 1\n0.050331 1\n0.050740 1\n0.050462 1\n0.050766 1\n0.050609 1\n0.050966 1\n0.050887 1\n0.053111 5\n4.446867 534\n0.000045 1\n0.674906 943\n0.000048 24\n0.000026 121\n0.000092 3\n0.000074 234\n0.000624 61\n0.526939 1012\n0.340451 64\n2.084068 65\n0.200057 64\n0.199991 64\n0.175895 64\n0.175845 65\n1.005684 2\n0.283294 4\n0.359919 28\n0.135836 28\n0.103476 32\n0.107790 21\n0.000111 1\n0.172567 28\n0.231913 21\n0.000067 28\n0.231882 21\n0.000048 28\n0.048214 21\n0.000049 28\n0.039787 21\n0.000108 28\n0.135828 21\n0.000053 28\n0.063953 21\n0.000097 28\n0.248073 28\n0.159903 28\n0.183968 28\n0.031798 34\n0.112286 21\n0.000091 34\n0.162199 36\n0.226579 64\n0.299274 1\n0.107604 28\n0.172198 28\n0.127806 28\n0.007830 2\n0.144473 52\n0.000046 65\n0.522806 64\n0.140491 97\n0.433043 2\n0.000159 1\n0.000381 83\n0.000624 8\n0.130756 2\n0.260192 4\n0.152606 1\n0.207324 8\n0.396828 2\n0.243460 4\n0.135849 125\n0.319595 3\n0.167984 41\n0.152162 41\n0.983943 41\n0.168038 41\n0.112037 41\n0.143797 43\n0.304769 43\n0.103614 41\n0.239790 41\n0.159985 43\n0.368374 43\n0.496425 41\n0.216567 41\n0.062502 41\n0.160095 41\n0.103849 41\n0.216248 64\n0.378484 65\n0.496743 65\n0.051355 66\n0.049537 65\n0.050313 64\n0.050843 65\n0.051441 64\n0.049910 64\n0.051445 64\n0.050446 64\n0.051398 64\n0.049972 117\n0.482103 111\n0.048546 64\n0.012617 74\n0.283861 65\n0.174794 64\n0.183740 353\n0.380161 616\n0.000037 161\n0.000034 249\n0.000636 71\n0.466273 18\n7.135603 71\n0.048159 75\n4.027628 3\n0.644323 2\n0.499901 1\n0.049836 3\n0.050306 3\n0.049761 3\n0.051159 65\n0.215469 70\n0.942963 32\n0.083882 32\n0.127890 32\n0.064625 32\n0.064450 32\n0.215342 31\n0.183897 31\n0.499931 31\n0.050900 31\n0.050440 56\n0.000807 47\n0.000777 49\n0.049072 31\n0.049944 64\n0.050647 58\n0.051276 44\n0.051749 42\n0.050266 40\n0.050882 38\n0.050205 36\n0.209018 67\n0.186508 118\n0.543673 112\n0.032670 65\n0.011476 75\n1.478222 65\n0.197386 66\n0.191853 65\n0.208161 65\n0.191518 65\n0.176040 65\n0.184094 65\n0.176012 7\n0.342238 242\n0.000095 1\n0.176308 28\n0.188548 28\n0.174897 28\n0.256149 4\n0.375779 28\n0.176368 2\n0.063497 52\n0.000031 28\n0.168467 28\n0.063398 28\n0.216644 28\n0.103854 28\n0.215969 28\n0.143849 28\n0.080197 3\n0.335946 28\n0.200639 3\n0.087930 65\n1.153725 164\n0.172014 900\n0.000052 92\n0.000701 102\n0.000043 65\n0.326835 65\n0.184742 28\n5.290088 28\n0.263905 28\n0.063600 28\n0.016089 28\n1.360585 28\n0.111452 28\n0.144303 28\n0.208183 28\n0.111746 28\n0.456058 30\n0.051461 1\n0.552578 30\n0.740271 30\n0.224171 30\n0.175860 30\n0.127895 33\n2.424187 33\n0.159903 33\n0.152831 33\n0.127241 30\n0.088032 30\n0.175756 30\n0.400256 30\n0.191888 30\n0.159897 30\n0.144264 30\n0.151708 65\n0.903361 1\n0.324188 64\n5.308229 5\n0.236674 1\n0.175700 30\n0.636085 30\n0.383932 30\n0.128145 33\n0.944014 33\n0.159919 30\n0.264359 30\n0.071100 30\n0.160501 30\n0.120165 30\n0.023875 65\n0.951092 1\n0.244546 64\n6.732356 8\n0.276554 1\n0.319188 118\n15.417447 112\n0.035364 65\n0.009590 18\n0.321335 105\n0.235647 29\n0.000090 45\n0.236597 44\n0.527993 45\n0.695842 1628\n0.588354 171\n0.510334 837\n0.000051 70\n0.000027 91\n0.000025 787\n0.000642 101\n0.206366 841\n0.000153 176\n0.000036 1\n0.000025 99\n0.000025 98\n0.000026 117\n0.000034 2\n0.467352 533\n0.000075 550\n0.000626 162\n0.000062 150\n0.000423 49\n0.060061 710\n0.000047 263\n0.000569 619\n0.052773 514\n0.000042 386\n0.000577 721\n0.039224 759\n0.000205 106\n0.000045 212\n0.043480 50\n0.046921 1\n0.050457 1\n0.051338 1\n0.049335 1\n0.050966 1\n0.051728 1\n0.050680 160\n0.361684 779\n0.000048 58\n0.000030 64\n0.563617 64\n0.304154 8\n0.655762 65\n0.284621 62\n1.083593 1\n0.399215 62\n0.620262 7\n0.632424 297\n0.000053 8\n0.287125 3\n0.605940 4\n0.360042 1\n0.360390 1\n0.000405 28\n0.791571 28\n0.143707 53\n0.088017 2\n0.071983 31\n0.000029 28\n0.184765 4\n0.743068 28\n0.192070 28\n0.087546 28\n0.216517 4\n0.247961 4\n0.143970 4\n0.127980 56\n0.128006 33\n0.184125 28\n0.399687 28\n0.392531 4\n0.375635 28\n0.168234 28\n0.071679 28\n0.224881 28\n0.055280 28\n0.111976 28\n0.023992 28\n0.160014 28\n0.047705 3\n0.152318 2\n0.192285 1\n0.255063 2\n0.160965 55\n0.000062 1\n0.111724 28\n0.055906 28\n0.168083 28\n0.077074 55\n0.088153 28\n0.087988 28\n0.195843 131\n0.157026 69\n0.079102 34\n0.106819 28\n0.072029 28\n0.089162 28\n0.094898 28\n0.072154 28\n0.128079 28\n0.039859 28\n0.039891 28\n0.136054 28\n0.064441 62\n1.481626 65\n0.413310 202\n0.489278 1\n0.137774 28\n0.189461 28\n0.167892 28\n0.087617 2\n0.112646 52\n0.000038 28\n0.079740 28\n0.239801 28\n0.176623 53\n0.079661 34\n0.104027 28\n0.432594 28\n0.111321 28\n0.080008 28\n0.059640 28\n0.124123 28\n0.072614 28\n0.008111 28\n0.160375 28\n0.063601 3\n0.223997 28\n0.447812 3\n0.079995 28\n0.168225 30\n0.019700 66\n0.709847 65\n1.500867 155\n0.353997 8\n0.193364 28\n0.317367 51\n0.088185 2\n0.175942 28\n0.151915 28\n0.239864 28\n1.104478 28\n0.167777 28\n0.151704 28\n0.080345 28\n0.023866 28\n0.331085 162\n0.277242 2\n0.109357 28\n0.650477 28\n0.183748 28\n0.088191 55\n0.095792 28\n0.104389 28\n6.800031 28\n0.191795 53\n0.480119 34\n0.111877 28\n0.096074 28\n0.048023 28\n0.183924 4\n0.399972 28\n0.031834 28\n0.063919 28\n0.128256 28\n0.080046 28\n0.032279 28\n0.152209 28\n0.111608 66\n0.176004 28\n0.071931 28\n0.168471 28\n0.136413 28\n0.071736 28\n0.151950 28\n0.071800 28\n1.520146 28\n0.720290 31\n0.292010 8\n0.985460 118\n0.074034 112\n0.031728 65\n0.011692 75\n1.063401 65\n0.211901 105\n0.970524 29\n0.000037 45\n0.261039 1274\n0.955333 64\n1.336051 64\n0.269804 64\n0.247719 64\n0.184078 64\n0.175812 64\n0.160111 65\n0.168208 64\n0.135995 3\n0.335773 24\n0.352410 145\n0.000043 1\n0.150150 28\n0.475978 28\n0.160004 28\n0.047867 2\n0.144405 52\n0.000030 28\n0.095487 28\n0.096239 28\n0.144024 28\n0.168069 28\n0.007695 28\n0.056327 3\n0.167965 1\n0.312165 4\n0.135858 4\n0.144229 4\n0.111891 28\n0.199896 28\n0.047824 28\n0.032025 3\n0.160714 28\n0.127795 3\n0.079779 28\n0.128147 28\n0.196345 28\n0.067711 47\n0.089175 65\n0.372954 64\n0.498857 64\n0.050882 64\n0.051164 64\n0.051031 64\n0.050851 65\n0.051728 65\n0.050096 65\n0.051650 64\n0.050385 66\n0.051625 65\n0.049873 65\n0.050450 65\n0.050776 64\n0.050768 65\n0.050294 65\n0.140171 65\n0.167824 2\n0.352852 33\n0.000029 4\n0.127272 4\n0.151981 5\n0.143988 28\n0.095948 28\n0.147148 28\n0.172967 54\n0.103814 28\n0.120276 28\n0.104139 28\n0.135914 28\n0.087968 28\n0.007463 28\n0.040214 3\n0.144548 28\n0.239668 3\n0.047930 1\n0.351954 8\n0.432101 28\n0.152002 28\n0.048566 3\n0.118971 28\n0.072465 61\n0.320096 1\n0.226594 28\n0.277080 51\n0.088046 3\n0.135937 28\n0.168287 28\n0.039765 28\n0.111809 55\n0.113102 28\n0.071678 28\n0.167816 28\n0.111659 28\n0.040070 28\n0.047645 28\n0.049195 3\n0.086740 28\n0.184552 28\n0.216084 3\n0.159780 28\n0.256348 28\n0.667470 48\n0.214598 625\n0.000055 8\n0.071491 28\n0.190113 28\n0.218460 28\n0.039191 55\n0.182597 28\n0.087852 28\n0.119857 28\n0.104212 28\n0.104079 28\n0.071963 28\n0.136864 28\n0.055509 28\n0.087554 28\n0.183931 28\n0.136016 28\n0.201273 28\n0.102807 28\n0.249687 30\n0.024483 65\n0.270001 8\n0.073519 28\n0.206229 28\n0.343987 28\n0.128012 55\n0.104050 28\n0.096664 28\n0.151144 28\n0.152135 28\n0.207845 28\n0.064063 28\n0.048374 2\n0.127617 1\n0.160383 1\n0.311971 28\n0.151844 3\n0.071720 28\n0.088475 28\n0.159801 28\n0.120125 28\n0.071780 28\n0.048117 21\n0.000033 56\n0.001218 47\n0.001013 18\n0.420577 118\n0.041428 112\n0.029599 65\n0.010462 76\n0.289708 65\n0.497981 65\n0.051089 64\n0.049149 64\n0.050340 63\n0.049853 64\n0.050706 64\n0.050756 64\n0.050726 64\n0.050623 62\n0.050443 196\n0.054556 565\n0.000075 70\n0.000462 511\n0.000550 65\n0.045460 71\n0.744190 75\n0.555549 64\n0.317312 70\n1.118940 75\n0.819726 65\n0.229233 65\n0.288295 65\n0.311909 5\n0.351563 1\n0.335621 65\n0.715469 1\n0.556336 136\n1.044541 175\n0.197181 265\n0.201182 3\n0.772587 1\n1.088391 3\n0.722369 109\n0.144211 130\n0.000031 115\n0.230911 109\n0.037510 64\n0.011209 179\n2.167370 2\n0.333600 20\n0.137685 2\n0.223679 36\n0.299089 543\n0.000286 210\n0.000148 96\n0.019321 18\n0.735738 23\n0.121500 33\n3.537477 125\n0.001292 939\n0.000435 241\n0.000180 383\n0.000190 3\n0.731686 3\n0.501070 3\n0.049984 3\n0.049959 3\n0.051066 3\n0.050621 2\n0.050369 1\n0.051053 3\n0.050322 3\n0.051065 3\n0.050604 3\n0.050544 3\n0.281266 70\n0.205301 32\n0.542462 32\n0.039119 32\n0.167982 32\n0.071912 32\n0.063900 32\n0.112057 65\n0.361175 1\n0.220365 1\n0.135627 66\n0.180245 1\n0.108310 32\n0.633215 32\n0.160356 32\n0.087934 32\n0.143966 32\n0.048405 32\n0.111684 32\n0.112175 118\n0.527272 112\n0.044056 65\n0.012409 181\n0.143038 2\n0.190149 20\n0.089739 2\n0.245549 36\n0.479539 7\n0.000349 33\n0.000798 7\n0.142965 51\n0.000035 36\n0.000610 114\n0.000013 93\n0.000012 736\n0.000170 96\n0.030074 18\n0.898401 23\n0.137563 1738\n0.762599 66\n1.096967 65\n0.196864 65\n0.464146 5\n0.247067 1\n0.151797 105\n0.835084 29\n0.000039 45\n0.220759 44\n0.599980 1759\n0.564705 105\n2.047178 29\n0.000220 45\n0.123884 1421\n0.204136 102\n0.855081 29\n0.000035 41\n0.236818 45\n0.144660 44\n0.383344 1268\n0.363883 936\n0.756637 114\n0.001472 112\n0.000714 121\n0.000036 579\n0.395508 382\n0.000047 80\n2.778531 173\n0.018969 45\n0.228312 1490\n2.004051 1\n0.835916 1\n0.501365 3\n0.722475 3\n0.120050 67\n0.766111 30\n0.236817 30\n0.104301 30\n0.184038 30\n0.098942 30\n0.012769 118\n0.550671 112\n0.030845 65\n0.013498 181\n0.291001 2\n0.302253 20\n0.145354 2\n0.191384 36\n0.470503 7\n0.000013 33\n0.000527 1484\n0.161241 6\n0.020395 53\n0.763751 35\n0.020898 53\n0.144907 35\n0.020855 60\n0.062502 40\n0.020595 60\n0.496961 40\n0.021255 60\n0.020982 40\n0.020931 60\n0.020891 5\n0.020878 69\n0.041452 69\n0.041580 69\n0.062459 471\n1.704554 96\n0.072697 18\n0.180421 23\n0.137602 33\n0.169195 125\n0.000972 959\n0.000591 241\n0.000343 386\n0.000323 71\n1.196951 75\n0.482852 64\n0.497471 64\n0.051503 64\n0.049791 64\n0.050935 64\n0.050822 64\n0.050537 65\n0.050993 64\n0.051290 349\n0.053945 1068\n0.000496 65\n0.045795 65\n0.050161 63\n0.050517 65\n0.453961 35\n0.516893 873\n0.000054 62\n0.411768 63\n0.500272 63\n0.073998 64\n0.027213 63\n0.049321 63\n0.052446 63\n0.050290 64\n0.050211 64\n0.051321 64\n0.049205 64\n0.051843 64\n0.050407 53\n0.052015 1\n0.051092 1\n0.050479 1\n0.051195 146\n0.271181 65\n0.125142 65\n0.226135 128\n0.350282 3\n0.303639 101\n28.010983 74\n37.799368 5\n0.495511 1372\n0.000482 35\n0.571998 961\n0.000050 1\n0.626357 24\n0.002363 26\n0.000265 71\n0.341296 63\n0.500043 64\n0.050838 63\n0.051066 63\n0.050331 63\n0.051054 64\n0.050802 64\n0.050006 64\n0.049534 64\n0.050480 64\n0.050260 64\n0.050679 65\n0.049606 53\n0.052795 1\n0.048365 1\n0.052879 1\n0.049840 73\n0.572318 5\n0.530009 1372\n0.000635 35\n1.676150 961\n0.000060 63\n0.426287 63\n0.500288 64\n0.050723 63\n0.050371 63\n0.049689 63\n0.050374 64\n0.050455 64\n0.050804 64\n0.050653 64\n0.050683 64\n0.050760 64\n0.049867 65\n0.050154 65\n0.303993 41\n0.585076 41\n0.215650 41\n0.040002 3\n0.168025 41\n0.503768 41\n0.256173 41\n0.216034 41\n0.049424 41\n0.038412 41\n0.104118 41\n0.056027 3\n0.384321 41\n0.943895 41\n0.168101 41\n0.079339 41\n0.104274 41\n0.087875 41\n0.088059 41\n0.088019 41\n0.127934 41\n0.096429 41\n0.047714 41\n0.016239 41\n0.184200 3\n0.119802 41\n0.103950 41\n0.128103 3\n0.063316 41\n0.160738 41\n0.128045 41\n0.015506 41\n0.216662 3\n0.279871 41\n1.112137 41\n0.103766 3\n0.168062 41\n0.299353 41\n0.044416 21\n0.600141 22\n0.000102 21\n0.167901 22\n0.000108 41\n0.615840 41\n0.151998 41\n0.160342 41\n0.143950 41\n0.063778 41\n0.135993 21\n0.248094 22\n0.000076 21\n0.104027 22\n0.000089 21\n0.119736 22\n0.000106 41\n0.191792 41\n0.056312 41\n0.064095 41\n0.023056 3\n0.080779 41\n0.200027 41\n0.032277 41\n0.183668 41\n0.224066 41\n0.080189 41\n0.167887 41\n0.040038 41\n0.351988 41\n0.023924 41\n0.136033 41\n0.232126 41\n0.160320 41\n0.151891 41\n0.167673 41\n0.208100 41\n0.047839 41\n0.143800 41\n0.048120 41\n0.104197 41\n0.071763 41\n0.064332 3\n0.135958 41\n0.232091 41\n0.223935 2\n1.032365 41\n0.343240 41\n0.064585 41\n0.199651 41\n0.087997 41\n0.072142 65\n0.144756 128\n0.166584 3\n0.120216 41\n0.120108 41\n0.087797 41\n0.039804 41\n0.136276 41\n0.202625 41\n0.014134 41\n0.135327 3\n0.087601 41\n0.080352 41\n0.103988 41\n0.199957 41\n0.056035 41\n0.168390 41\n0.103448 41\n0.200102 41\n0.047902 41\n0.087822 41\n0.144541 3\n0.063859 41\n0.063715 41\n0.048282 41\n0.208103 21\n0.880123 22\n0.000062 21\n0.119579 22\n0.000053 21\n0.127987 22\n0.000082 41\n0.464607 41\n0.159096 41\n0.184485 41\n0.039967 41\n0.143959 41\n0.032131 41\n0.087830 41\n0.168077 3\n0.071726 41\n0.064101 41\n0.032417 41\n0.191855 41\n0.127925 61\n0.888725 4\n0.584717 1\n0.000587 1119\n0.000044 66\n0.000187 1\n0.000092 1\n0.000052 46\n0.000200 1\n0.000059 21\n0.000061 1\n0.000062 126\n0.000179 35\n0.730719 1052\n0.000063 4\n0.482068 1378\n0.000680 36\n2.053313 1051\n0.000065 63\n0.409888 63\n0.499691 64\n0.049905 63\n0.050217 63\n0.049349 63\n0.050329 64\n0.050415 64\n0.050537 64\n0.051891 64\n0.050139 64\n0.051362 64\n0.050090 65\n0.050439 163\n0.052386 41\n0.333569 28\n0.295325 28\n0.064112 28\n0.047867 54\n0.120212 3\n0.175955 41\n0.128037 41\n0.175825 41\n0.184364 41\n0.047668 41\n0.023975 41\n0.088228 41\n0.080003 28\n1.807906 28\n0.712153 28\n0.192234 4\n0.303682 4\n0.095914 28\n0.360020 28\n0.167861 28\n0.384271 28\n0.063954 28\n0.041599 59\n0.166513 36\n0.259146 36\n0.223472 64\n0.253489 7\n0.106808 28\n0.532972 28\n0.159937 53\n0.071745 1\n0.184048 49\n0.127948 49\n0.112235 49\n0.232108 49\n0.032642 49\n0.071448 49\n0.127522 49\n0.216866 49\n0.103877 28\n0.191564 28\n0.144267 28\n0.151910 28\n0.040279 34\n0.119548 21\n0.000084 36\n0.111971 28\n0.167966 1\n0.087655 28\n0.064285 6\n0.232207 1\n0.111752 4\n0.136121 39\n0.120057 21\n0.000103 3\n0.279878 1\n0.335934 28\n0.143964 2\n0.048030 28\n0.072001 28\n0.040408 28\n0.319670 4\n0.424071 3\n0.121159 28\n0.183030 28\n0.271918 3\n0.071236 5\n0.570362 927\n0.000045 213\n0.000029 263\n0.000788 36\n0.571911 1216\n0.000062 63\n0.553895 63\n0.500203 64\n0.050650 63\n0.053876 63\n0.050852 63\n0.050583 64\n0.051015 64\n0.051139 64\n0.050213 64\n0.050809 64\n0.050482 64\n0.050579 65\n0.050726 64\n0.049702 64\n0.050461 8\n0.301495 28\n0.272786 28\n0.064003 28\n0.184119 28\n0.015827 28\n0.176262 28\n0.159798 28\n0.296040 4\n0.360157 3\n0.071948 28\n0.048846 28\n0.135290 28\n0.039902 5\n0.593463 1140\n0.000126 136\n0.000085 127\n0.000560 4\n0.827848 1184\n0.000779 75\n0.000030 63\n0.545347 63\n0.499670 64\n0.050468 63\n0.050295 63\n0.050515 63\n0.050643 64\n0.050560 64\n0.050391 64\n0.051226 64\n0.050170 64\n0.052106 64\n0.048691 65\n0.050500 64\n0.050032 64\n0.050809 64\n0.314938 65\n0.295498 28\n0.722201 3\n0.054811 28\n0.216452 8\n0.415723 28\n0.071746 28\n0.040054 53\n0.096466 34\n0.239828 28\n0.072272 28\n0.336530 1\n0.135588 28\n0.615715 28\n0.152195 28\n0.023932 28\n0.079933 28\n0.071871 5\n1.457342 1140\n0.000170 263\n0.000554 4\n1.371859 907\n0.000731 366\n0.000657 63\n0.432759 63\n0.499305 64\n0.050847 63\n0.050038 63\n0.050509 63\n0.050408 64\n0.050736 64\n0.050606 64\n0.049746 64\n0.050025 64\n0.051906 64\n0.049562 65\n0.051660 64\n0.048605 64\n0.230459 8\n0.190250 4\n0.339645 4\n0.140967 28\n0.562913 28\n0.152285 28\n0.183487 28\n0.064324 5\n0.657145 1140\n0.000114 114\n0.000077 149\n0.000513 35\n5.524094 1169\n0.000053 75\n0.000040 63\n0.433762 63\n0.499970 64\n0.050286 63\n0.050585 63\n0.050205 63\n0.050315 64\n0.050539 163\n0.052434 72\n0.048360 64\n0.050348 64\n0.050830 64\n0.050205 65\n0.049914 64\n0.050512 64\n0.050635 64\n0.050228 65\n0.377472 28\n0.713847 3\n0.071645 28\n0.183892 28\n0.144212 28\n0.200622 41\n0.473099 29\n0.000097 41\n0.207086 23\n0.175842 21\n0.000116 28\n0.248684 3\n0.562525 28\n0.148806 28\n0.152052 28\n0.168092 33\n0.328446 29\n0.000060 4\n0.479703 33\n0.199890 29\n0.000091 41\n0.167999 23\n0.168088 21\n0.000049 10\n0.676381 21\n0.000056 1\n0.358223 34\n0.000044 64\n0.365374 1\n0.152675 116\n0.677000 110\n0.034128 64\n0.012350 14\n0.516595 927\n0.000060 213\n0.000031 67\n0.000770 196\n0.000064 35\n0.914752 876\n0.000048 412\n0.000575 63\n0.377003 63\n0.499682 64\n0.050796 63\n0.050061 63\n0.050562 63\n0.050338 64\n0.050519 64\n0.050398 64\n0.051219 64\n0.050618 64\n0.051228 64\n0.049462 65\n0.050200 64\n0.051701 64\n0.050692 64\n0.051526 64\n0.049954 52\n0.051628 145\n0.315899 1\n0.472016 28\n0.213001 5\n0.247694 4\n0.144486 1\n0.159046 1\n0.380647 4\n0.220563 28\n0.207514 28\n0.055771 53\n0.096153 1\n0.208204 49\n0.279910 49\n0.256439 49\n0.031435 49\n0.064564 49\n0.143531 49\n0.039787 28\n0.272546 28\n0.143845 28\n0.159970 28\n0.080035 55\n0.079721 34\n0.162559 36\n0.218351 61\n0.235359 1\n0.106809 113\n0.557985 107\n0.049007 58\n0.012179 13\n0.888480 66\n0.040441 77\n0.891746 28\n0.077346 28\n0.136646 54\n0.087468 28\n0.119850 28\n0.104100 28\n0.160236 28\n0.071793 5\n1.482213 927\n0.000049 213\n0.000082 67\n0.000642 180\n0.000030 35\n1.572007 876\n0.000047 337\n0.000146 168\n0.000741 4\n1.535763 927\n0.000049 213\n0.000026 68\n0.000770 175\n0.000025 64\n0.596354 64\n0.495494 64\n0.050741 64\n0.051150 64\n0.050017 64\n0.050578 64\n0.273149 66\n0.215113 35\n0.379476 65\n0.000048 1\n0.105347 28\n0.188879 28\n0.207926 28\n0.107465 54\n0.117392 28\n0.062888 28\n0.264569 28\n0.120092 28\n0.047684 28\n0.128215 28\n0.032022 3\n0.193403 66\n0.126654 3\n0.055717 28\n1.736046 28\n0.080062 28\n0.064417 28\n0.047300 28\n0.024177 66\n0.290636 65\n0.124597 3\n0.254531 3\n0.500577 3\n0.050459 3\n0.050230 2\n0.050696 1\n0.053160 3\n0.050594 3\n0.050665 3\n0.050606 3\n0.049944 3\n0.052037 3\n0.049757 2\n0.050456 1\n0.049207 3\n0.050584 3\n0.049919 3\n0.050365 32\n0.312494 31\n0.231746 31\n0.135820 31\n0.135974 66\n0.251192 1028\n0.000122 322\n0.000038 62\n0.557480 63\n0.495231 63\n0.050557 64\n0.049645 63\n0.050125 63\n0.049970 160\n0.051326 72\n0.050934 64\n0.050731 64\n0.050120 64\n0.050172 64\n0.052398 64\n0.049229 65\n0.050148 64\n0.050348 64\n0.050861 64\n0.411103 8\n0.119473 1\n0.111285 1\n0.501146 1\n0.051321 1\n0.050412 1\n0.050842 1\n0.050697 1\n0.049794 1\n0.050641 1\n0.050986 1\n0.050872 1\n0.050860 1\n0.050086 1\n0.050351 1\n0.050704 1\n0.051287 1\n0.050867 1\n0.050084 1\n0.050285 1\n0.051182 1\n0.050558 1\n0.291262 32\n0.156068 31\n0.023844 31\n0.152108 31\n0.352024 117\n0.661520 111\n0.042641 65\n0.012113 73\n0.292825 64\n0.156202 65\n0.167418 55\n0.170355 725\n0.000053 66\n1.248057 28\n0.030297 118\n1.456253 112\n0.040448 65\n0.004018 75\n4.909253 28\n0.125809 3\n0.056101 118\n0.656771 112\n0.034407 65\n0.010660 75\n6.956394 8\n0.125933 28\n0.352016 28\n0.007647 3\n0.047878 1\n0.384471 4\n0.119739 8\n0.160465 28\n0.231443 28\n0.040045 3\n0.071753 28\n0.088196 64\n1.312644 1\n0.169909 117\n0.973860 111\n0.031906 64\n0.009899 74\n1.524054 64\n0.145345 8\n0.279500 7\n0.275818 174\n0.000039 1\n0.087859 28\n0.221154 28\n0.200530 28\n0.104445 2\n0.079775 52\n0.000040 28\n0.119241 28\n0.640465 28\n0.095473 53\n0.216602 34\n0.168186 28\n0.151661 3\n1.041163 28\n0.367083 28\n0.056097 3\n0.095615 28\n0.120053 118\n0.896031 112\n0.040608 65\n0.008579 18\n2.684976 71\n0.064306 18\n3.551624 71\n0.056564 75\n4.506941 27\n0.265305 168\n0.000055 1\n0.120005 28\n0.348919 51\n0.088150 3\n0.143938 28\n0.071565 28\n0.176347 28\n0.048419 55\n0.135655 28\n0.064046 28\n0.168064 28\n0.224387 53\n0.431825 34\n0.071718 28\n0.144285 3\n0.127749 28\n0.224060 1\n0.135981 1\n0.344067 8\n0.104027 28\n0.615797 1\n0.096795 28\n0.151524 28\n0.419048 65\n0.662042 1\n0.300864 13\n0.101263 8\n0.227274 147\n0.329426 148\n0.279962 65\n0.313299 8\n0.128449 2\n0.381611 28\n0.263887 28\n0.256132 28\n0.055928 54\n0.017035 109\n0.303656 28\n0.004233 108\n0.235276 8\n0.114781 28\n1.092811 51\n0.064037 2\n0.200111 28\n0.560363 28\n0.104083 28\n0.151695 28\n0.031864 28\n0.144173 3\n0.167859 28\n0.192087 1\n0.096002 1\n0.000382 28\n0.103362 28\n0.136216 28\n0.048130 28\n1.322840 3\n0.133299 28\n0.199939 28\n0.231733 28\n0.128235 28\n0.072072 28\n0.111841 3\n0.160008 28\n1.729184 55\n0.407391 3\n0.087663 28\n0.336006 99\n0.352461 8\n0.290873 28\n0.228229 28\n0.144188 28\n0.215766 55\n0.072071 3\n0.192044 28\n0.336016 28\n0.183911 28\n0.111948 28\n0.088281 28\n0.152147 2\n0.392034 65\n0.530496 1\n0.339661 3\n0.501140 3\n0.050119 3\n0.050022 3\n0.050181 1\n0.397254 1\n0.499727 1\n0.049775 1\n0.051035 104\n0.051981 18\n0.051649 1\n0.050149 1\n0.051115 1\n0.050316 1\n0.050893 1\n0.050686 1\n0.050285 1\n0.051376 1\n0.326629 33\n0.000397 32\n0.079622 32\n0.232282 32\n0.103578 61\n0.088349 65\n0.457463 1\n0.380667 1\n0.271537 1\n0.136100 40\n0.233464 38\n0.071980 38\n0.272974 38\n0.086922 67\n0.112880 2\n0.445994 8\n0.288239 28\n1.464784 3\n0.128118 28\n0.288153 28\n0.104011 28\n0.080041 135\n0.328790 28\n0.004725 18\n0.186374 28\n0.112029 28\n0.183918 28\n0.112158 28\n0.079823 28\n0.112224 3\n0.127959 28\n0.217243 55\n0.062849 3\n0.080182 28\n0.111973 65\n0.338614 1\n0.099732 1\n0.500193 1\n0.050216 1\n0.050846 1\n0.051258 1\n0.051059 1\n0.050726 1\n0.050166 1\n0.051331 1\n0.049499 1\n0.050916 1\n0.050212 1\n0.050644 1\n0.050780 1\n0.051270 32\n0.349748 36\n0.133435 32\n0.120052 32\n0.071717 61\n0.096200 1\n0.413384 1\n0.248135 65\n0.123864 1\n0.084352 32\n0.314599 1\n0.167045 33\n0.000030 32\n0.119873 32\n0.071862 61\n0.088356 8\n0.582512 1\n0.295524 1\n0.500235 1\n0.050548 1\n0.049899 1\n0.050809 1\n0.050367 1\n0.049953 1\n0.050077 1\n0.050665 1\n0.050560 49\n0.339037 45\n0.151736 45\n0.128361 45\n0.071638 75\n0.089322 65\n0.281535 1\n0.123236 1\n0.502928 1\n0.047994 1\n0.050174 1\n0.050906 1\n0.051138 1\n0.049458 1\n0.051072 3\n0.452218 1\n0.154964 47\n0.000090 45\n0.175972 45\n0.040091 45\n0.127878 75\n0.048026 65\n0.545475 3\n0.324087 99\n0.266029 8\n0.098326 65\n8.631944 65\n0.196309 66\n0.335815 66\n1.224104 66\n0.599913 3\n4.015518 1\n0.111330 65\n0.436200 65\n0.052627 66\n0.424327 8\n0.223942 1\n0.095316 1\n0.499679 1\n0.050534 1\n0.051667 1\n0.050575 1\n0.050435 1\n0.050513 1\n0.050892 1\n0.051165 1\n0.051206 1\n0.050994 1\n0.050092 1\n0.049786 1\n0.050925 1\n0.049749 104\n0.053074 18\n0.172939 3\n0.343986 31\n0.202446 285\n0.224014 6\n0.114967 1\n0.000034 65\n0.718354 6\n0.164611 1\n0.128395 1\n0.504352 1\n0.050369 1\n0.050901 1\n0.050361 1\n0.050667 1\n0.050889 1\n0.050785 1\n0.051102 1\n0.050112 1\n0.051200 1\n0.049295 1\n0.051336 1\n0.050343 1\n0.050659 1\n0.051119 31\n0.315561 80\n0.224324 63\n0.000057 6\n0.090879 1\n0.000030 65\n0.391065 65\n0.156545 3\n0.263350 139\n0.289912 120\n0.000102 2\n0.090822 28\n0.196421 28\n0.282872 28\n0.085266 55\n0.103746 3\n0.185521 32\n0.000033 58\n0.319064 2\n0.199257 33\n0.000049 3\n0.400556 55\n0.000058 28\n0.663631 28\n0.049458 28\n0.191065 28\n0.111393 28\n0.104612 28\n0.071611 28\n0.055558 28\n0.320583 28\n0.104051 28\n0.112144 28\n0.167833 28\n0.023508 28\n0.288522 30\n0.028332 3\n0.513649 1\n0.216061 3\n0.311965 67\n0.210344 1\n0.173518 65\n4.948706 157\n0.477939 2\n0.122306 209\n3.525149 41\n0.319611 418\n0.503970 41\n0.784601 43\n0.975600 41\n0.520164 41\n0.391596 41\n1.534134 43\n0.826612 41\n0.873376 41\n0.134792 113\n1.183902 209\n0.504915 28\n0.703021 28\n0.255837 28\n0.176119 28\n0.095540 55\n0.088504 28\n0.136458 28\n0.055616 28\n0.175462 28\n0.136466 28\n0.056141 28\n0.119986 1\n0.317627 3\n0.456515 1\n1.087548 1\n0.500602 1\n0.050308 1\n0.050174 1\n0.050774 1\n0.050079 1\n0.050362 1\n0.050452 1\n0.051142 1\n0.051014 1\n0.051198 1\n0.050571 1\n0.050280 1\n0.050221 1\n0.051369 1\n0.050371 1\n0.051174 1\n0.050753 32\n0.875708 32\n0.023625 32\n0.032089 70\n0.135938 3\n0.112425 49\n0.000055 32\n0.096240 1\n0.620827 67\n0.513679 185\n0.249907 72\n0.505461 63\n0.131705 65\n0.152344 64\n0.344730 184\n0.625460 68\n1.744183 1\n0.626441 1\n0.000046 28\n1.308205 28\n0.215007 28\n0.160142 55\n0.096232 28\n0.128056 28\n0.079668 28\n0.152154 28\n0.116974 28\n0.115053 28\n0.079958 28\n0.040170 28\n0.152106 28\n0.063726 28\n0.128593 28\n0.199650 28\n0.063460 28\n0.537428 30\n0.060743 3\n0.544784 30\n0.121620 57\n0.164639 59\n0.154922 65\n0.152005 61\n0.143765 33\n0.442631 30\n2.151421 62\n5.723500 62\n0.162912 65\n0.151907 66\n0.135748 182\n0.234195 191\n0.000050 65\n0.115543 28\n0.259927 28\n0.120412 28\n0.023651 1\n0.176253 49\n0.072296 3\n0.103647 207\n0.176449 157\n0.104269 65\n0.417037 65\n0.496386 65\n0.051036 65\n0.050786 166\n0.053015 73\n0.049446 65\n0.050465 29\n0.263599 796\n0.000087 65\n0.589076 28\n0.888635 3\n0.199935 28\n0.031739 8\n0.368477 1\n0.087703 51\n0.080391 2\n0.143591 28\n0.128004 28\n0.048008 28\n0.031831 28\n0.363407 65\n2.575032 1\n0.532445 3\n0.545317 72\n0.600419 34\n0.000049 64\n0.313978 64\n0.141483 63\n0.160142 63\n0.152227 3\n0.826026 178\n0.399573 35\n0.000083 63\n0.351754 64\n0.150075 64\n0.127772 64\n0.144325 147\n0.232607 64\n0.185328 116\n0.527061 18\n0.638192 1\n1.152162 1\n0.135391 32\n2.362040 32\n0.199840 32\n0.063788 32\n0.055729 32\n0.296544 32\n0.607775 32\n0.112049 32\n0.215890 32\n0.056259 32\n0.031936 35\n0.440153 35\n0.136083 35\n0.111524 35\n0.144365 32\n0.111622 57\n0.120187 38\n0.151779 32\n0.016209 32\n0.216206 32\n0.295821 34\n0.035170 3\n0.410953 34\n3.778063 34\n0.104276 34\n0.079823 34\n0.480017 34\n3.376085 34\n0.063633 34\n0.016135 1\n2.310461 1\n0.207854 1\n0.159904 1\n0.128127 1\n0.143817 1\n0.136004 1\n0.143963 31\n0.281921 32\n0.375651 2\n0.350861 44\n0.201700 42\n0.535849 3\n0.374160 3\n0.296077 3\n0.159823 3\n0.151837 3\n0.128507 32\n0.721749 32\n0.175466 32\n0.112205 32\n0.096042 32\n0.120055 35\n0.639924 35\n0.160222 35\n0.152037 35\n0.135625 32\n0.136679 32\n0.119288 32\n0.063857 111\n0.673416 45\n0.599166 67\n0.000039 32\n0.360567 1\n0.365483 1\n0.502976 1\n0.048136 1\n0.049381 1\n0.050405 1\n0.050720 1\n0.050966 1\n0.050079 1\n0.050618 1\n0.050361 1\n0.050555 1\n0.050608 65\n0.486653 65\n0.197479 1\n0.358964 1\n0.500460 1\n0.050534 1\n0.051273 1\n0.051008 1\n0.049877 1\n0.050476 1\n0.050651 1\n0.050659 1\n0.050519 1\n0.050294 1\n0.050035 1\n0.050379 1\n0.051189 1\n0.050542 1\n0.051541 1\n0.050001 64\n0.063553 64\n0.198011 64\n0.184050 64\n2.783961 64\n0.136577 65\n0.166991 65\n0.160190 65\n0.143817 8\n0.495706 1\n0.151515 104\n0.510437 18\n0.041120 1\n0.050654 1\n0.054676 1\n0.050248 1\n0.050564 1\n0.050145 1\n0.049890 1\n0.049896 1\n0.049791 8\n0.459129 1\n0.095499 1\n0.501199 1\n0.050376 1\n0.051209 1\n0.050611 1\n0.050515 1\n0.050029 3\n0.326364 40\n0.697963 40\n0.663564 40\n0.063955 40\n0.120353 67\n0.087865 40\n0.104361 40\n0.087876 40\n0.071745 40\n0.136529 118\n0.583060 112\n0.044178 65\n0.010935 75\n0.643360 65\n0.496821 64\n0.050493 64\n0.051371 64\n0.050714 64\n0.771918 5\n0.689564 934\n0.000044 163\n0.000030 90\n0.000580 107\n0.000067 87\n0.000265 64\n0.858773 64\n0.495693 64\n0.050156 64\n0.050235 64\n0.050255 64\n0.051825 64\n0.050020 64\n0.051119 64\n0.048371 65\n0.050059 64\n0.050010 64\n0.050349 63\n0.050879 63\n0.161486 63\n0.320019 135\n0.638188 194\n0.156955 66\n0.159415 230\n0.160851 3\n0.150686 329\n0.673978 66\n0.492362 813\n0.000120 62\n0.391971 64\n0.499833 63\n0.050440 63\n0.050772 63\n0.050808 63\n0.049083 63\n0.050599 64\n0.050407 64\n0.051233 64\n0.049979 64\n0.051353 66\n0.050720 64\n0.049690 47\n0.858465 1\n0.000704 174\n0.000036 59\n0.000034 74\n0.678538 64\n0.586113 64\n0.497473 64\n0.050738 64\n0.049887 66\n0.050908 64\n0.051351 64\n0.050593 64\n0.051034 63\n0.050482 63\n0.050562 63\n0.051518 63\n0.050311 63\n0.052229 63\n0.048348 63\n0.050182 61\n0.050284 29\n0.060792 923\n0.000084 385\n0.000695 64\n0.040584 64\n0.049133 63\n0.050523 63\n0.051707 63\n0.049336 63\n0.050659 63\n0.050536 63\n0.226487 63\n0.184427 63\n0.159877 63\n0.128327 1\n0.192201 28\n0.259431 28\n0.182433 28\n0.087565 2\n0.144429 52\n0.000033 28\n0.071797 28\n0.128114 28\n0.112198 28\n0.183784 28\n0.016091 28\n0.055979 3\n0.168082 28\n0.216112 28\n0.264268 4\n0.408147 3\n0.039524 28\n0.056211 28\n0.151855 28\n0.192004 28\n1.232128 4\n0.288216 4\n0.111791 28\n0.175734 47\n0.088000 99\n0.208451 64\n0.091371 28\n0.188053 28\n0.327769 28\n0.079728 2\n0.120540 52\n0.000031 28\n0.146577 28\n0.125092 28\n0.224705 53\n0.135759 56\n0.001175 47\n0.000973 49\n0.109561 28\n0.128110 3\n0.128065 28\n0.223933 3\n0.088152 28\n0.111922 28\n0.167921 28\n0.095928 47\n0.088389 99\n0.232241 1\n0.106915 28\n0.156348 28\n0.159695 28\n0.079915 54\n0.088249 28\n0.110092 28\n1.642336 28\n0.127799 28\n0.048008 28\n0.080173 28\n0.047535 3\n0.160557 28\n0.088033 65\n0.080028 28\n0.167836 28\n0.176391 28\n0.079383 47\n0.064408 99\n0.224094 1\n0.075950 28\n0.179193 28\n0.160050 4\n0.400362 28\n0.064266 28\n0.135665 2\n0.071852 52\n0.000032 28\n0.112233 28\n0.191736 28\n0.120437 28\n0.143843 28\n0.024002 28\n0.175916 65\n0.369496 65\n0.132427 64\n0.151927 7\n0.159754 65\n0.570983 37\n0.304537 4\n0.143904 4\n0.152303 8\n0.127705 28\n0.103913 28\n0.087885 53\n0.231983 34\n0.168226 28\n0.135858 65\n0.719699 37\n0.264197 4\n0.135803 4\n0.136091 8\n0.135990 28\n0.124127 28\n0.203585 28\n0.056155 28\n0.032864 28\n0.031475 65\n0.344465 3\n0.374651 28\n0.215908 3\n0.752419 99\n1.744374 1\n0.123097 28\n0.236096 28\n0.208222 28\n0.087661 1\n0.088797 53\n0.000760 28\n0.078367 28\n0.936328 28\n0.103705 28\n0.160397 3\n0.167704 66\n0.176948 3\n0.103533 28\n1.096327 28\n0.199815 65\n0.384987 28\n2.255360 28\n0.232012 28\n0.167805 28\n0.088048 28\n0.128029 145\n0.336190 1\n0.115518 28\n0.171675 28\n0.207974 28\n0.120208 54\n0.096152 28\n0.096039 28\n0.072123 28\n0.167832 28\n0.039737 3\n0.168572 28\n0.143838 3\n0.071995 28\n0.200425 28\n0.127644 28\n0.056145 65\n1.176079 100\n0.343697 1\n0.140430 28\n0.194995 28\n0.167922 28\n0.079602 2\n0.096300 52\n0.000032 28\n0.079747 28\n0.160326 28\n0.039928 66\n0.347083 28\n0.405120 28\n0.047486 28\n0.080581 3\n0.104906 28\n0.103313 3\n0.048214 28\n0.847645 8\n0.288449 28\n0.111800 28\n0.295984 28\n0.048081 28\n0.081464 28\n0.262628 28\n0.143800 28\n0.127928 28\n0.192583 28\n0.111520 28\n0.264366 30\n0.028575 1\n0.439043 30\n2.172675 30\n0.343471 30\n0.514039 33\n0.582075 33\n0.119989 33\n0.119887 30\n0.104890 30\n0.135653 30\n0.383611 30\n0.407878 64\n3.968764 65\n0.252054 65\n0.153414 65\n0.207330 65\n0.175393 65\n0.160766 63\n0.159637 52\n0.372018 849\n0.000052 104\n0.000085 46\n0.000725 171\n0.000117 65\n3.650661 1\n0.311103 1\n0.151985 1\n0.199927 1\n0.152047 1\n0.159831 1\n0.176160 1\n0.183894 1\n0.152246 45\n0.868587 67\n0.215325 65\n0.188890 1\n0.271111 1\n0.151874 65\n0.132600 49\n0.262333 65\n1.346159 65\n0.496735 67\n0.050819 65\n0.050176 65\n0.050514 65\n0.050655 64\n0.050276 64\n0.050837 64\n0.050735 64\n0.050731 63\n0.053298 64\n0.048423 65\n0.050295 64\n0.050955 1\n0.054536 1\n0.000075 51\n0.000056 1\n0.000053 496\n0.000070 1\n0.000063 53\n0.000050 1\n0.000047 41\n0.000047 1\n0.000046 44\n0.000050 1\n0.000048 21\n0.000051 1\n0.000048 40\n0.000051 1\n0.000052 39\n0.000051 1\n0.000059 142\n0.000060 2\n0.000115 1\n0.000066 63\n0.000054 46\n0.000201 1\n0.000051 31\n0.000049 1\n0.000062 202\n0.000055 65\n0.044190 65\n0.050244 64\n0.050334 64\n0.051302 64\n0.050741 64\n0.452677 64\n0.500612 55\n0.001038 46\n0.001209 75\n0.047996 65\n0.050618 65\n0.050236 65\n0.052115 65\n0.049583 66\n0.166368 8\n0.263456 1\n0.119447 30\n6.116209 30\n0.128729 30\n0.095258 1\n0.692623 1\n3.631316 30\n0.644316 30\n0.159754 30\n0.104049 30\n0.224229 30\n0.063908 30\n0.047914 30\n0.265030 30\n0.128131 30\n0.120010 30\n0.134138 118\n0.694124 112\n0.040811 65\n0.016080 206\n0.231324 819\n0.000048 246\n0.000548 65\n1.158793 898\n0.000053 3\n0.000079 237\n0.000503 161\n1.627340 1\n0.000078 33\n0.000052 1\n0.000051 253\n0.000076 1\n0.000050 62\n0.000048 1\n0.000047 54\n0.000048 1\n0.000048 120\n0.000083 1\n0.000049 93\n0.000049 1\n0.000065 4\n0.000050 1\n0.000090 1\n0.000054 136\n0.000063 90\n0.000149 2\n0.000190 1\n0.000059 4\n0.000046 1\n0.000062 10\n0.000056 1\n0.000048 222\n0.000060 97\n2.156850 29\n0.000038 41\n0.260348 35\n0.472117 1773\n0.540777 1\n0.915209 1\n0.501159 1\n0.049750 1\n0.050597 1\n0.050927 1\n0.051007 1\n0.050814 1\n0.050747 1\n0.050503 1\n0.050556 1\n0.050722 1\n0.050114 1\n0.050550 1\n0.050576 1\n0.049893 1\n0.051278 1\n0.049578 65\n5.167384 1\n0.574023 1\n0.375662 1\n0.936093 105\n3.403780 29\n0.000034 45\n0.196423 1\n0.297949 49\n0.003995 209\n0.000625 139\n0.000031 153\n0.000066 59\n0.000314 174\n0.000029 170\n0.000029 190\n0.000355 44\n0.000326 280\n0.000041 97\n1.899693 29\n0.000117 41\n0.244373 1773\n0.733149 69\n0.689541 35\n0.132174 31\n0.176397 31\n0.143857 105\n0.520649 29\n0.000077 45\n0.403989 1496\n0.276532 3\n0.995305 64\n0.486231 64\n0.162852 64\n0.167608 64\n0.500452 64\n0.050793 64\n0.049984 64\n0.053690 64\n0.052641 65\n0.048763 64\n0.050867 64\n0.050604 64\n0.051133 63\n0.050705 63\n0.050992 63\n1.165723 64\n0.135609 64\n0.152236 64\n0.151834 8\n0.407858 1\n0.111337 1\n0.184389 71\n0.303672 35\n0.148784 35\n0.143928 35\n0.143875 32\n0.224158 30\n0.111965 30\n0.467389 30\n0.105626 65\n0.335008 65\n0.512125 64\n0.039013 64\n0.051884 64\n0.050973 64\n0.050565 64\n0.050871 64\n0.050096 65\n0.195407 64\n0.304005 1\n0.294827 1\n0.500107 1\n0.049954 1\n0.050589 1\n0.049886 1\n0.050522 1\n0.051133 1\n0.051028 1\n0.050551 1\n0.050517 102\n0.054075 17\n0.048165 1\n0.050090 1\n0.050439 1\n0.050573 1\n0.050225 1\n0.050724 31\n0.266041 31\n0.112198 31\n0.152534 68\n0.144603 31\n0.158484 31\n0.152479 31\n0.135937 65\n0.324938 898\n0.000054 244\n0.000630 62\n0.486537 63\n0.499608 64\n0.050211 63\n0.051159 63\n0.050510 63\n0.051357 63\n0.050986 64\n0.050282 64\n0.050254 64\n0.050149 64\n0.050519 64\n0.050347 65\n0.050132 64\n0.168285 65\n0.589837 118\n0.826362 112\n0.073026 65\n0.012234 114\n0.450368 312\n0.000105 1\n0.171814 66\n1.286469 28\n0.144099 28\n0.079851 54\n0.088286 28\n0.111821 28\n0.056158 28\n0.135907 28\n0.103874 28\n0.128044 28\n0.079720 28\n0.056395 28\n0.119724 28\n0.128237 28\n0.135783 28\n0.167983 28\n0.056333 28\n0.247548 30\n0.037390 3\n0.407631 30\n0.513043 30\n0.154619 30\n0.047859 30\n0.040614 30\n0.136284 30\n0.191240 30\n0.008223 30\n0.135996 33\n0.287677 33\n0.120386 30\n0.319812 30\n0.143809 30\n0.192510 30\n0.175779 30\n0.055984 30\n0.423857 34\n0.397164 3\n1.001942 30\n0.385008 1\n0.211884 1\n0.184093 118\n4.225588 112\n0.042589 65\n0.012930 28\n14.390739 59\n0.000108 34\n0.396197 34\n0.303860 34\n0.144010 103\n28.010192 52\n3.710116 34\n0.231816 34\n0.279804 34\n2.033481 34\n0.550865 34\n0.075413 37\n2.060483 37\n0.135841 34\n0.887939 34\n0.136766 34\n0.616545 34\n0.128179 34\n0.049199 34\n1.566563 34\n0.129219 34\n0.046699 34\n0.808592 34\n0.095832 34\n0.063844 3\n0.946711 68\n1.029482 32\n0.215840 32\n0.095812 32\n0.144374 32\n0.561863 3\n0.297489 118\n0.632587 112\n0.057693 65\n0.012758 182\n6.017274 205\n0.000086 1\n1.037966 117\n0.890109 111\n0.042643 64\n0.012094 74\n0.397693 64\n0.203218 64\n0.183921 64\n0.143850 62\n0.127812 51\n0.132165 1117\n0.000530 64\n0.203639 66\n0.343828 64\n0.536981 1\n0.230310 136\n0.720343 186\n0.292316 75\n0.560607 67\n0.496415 65\n0.050633 65\n0.050810 65\n0.050689 64\n0.050326 64\n0.049981 63\n0.050001 63\n0.050443 1\n1.113304 46\n0.646215 1\n0.000070 137\n0.000254 73\n0.844722 64\n0.498376 64\n0.051418 65\n0.049991 65\n0.050862 65\n0.051134 65\n0.050985 67\n0.051674 65\n0.050428 65\n0.051669 65\n0.050447 65\n0.050699 65\n0.050000 65\n0.188196 1\n0.278456 67\n0.626870 206\n0.224548 73\n0.411050 65\n0.495652 65\n0.050729 65\n0.051144 65\n0.051372 65\n0.050706 67\n0.050819 65\n0.049985 65\n0.050711 65\n0.050206 64\n0.050571 64\n0.049938 63\n0.050280 64\n0.051013 197\n0.449559 476\n0.000044 294\n0.000083 46\n0.683376 2\n0.003083 158\n0.000036 17\n0.987488 1\n0.742917 1\n0.268424 7\n0.000052 2\n0.152291 7\n0.000032 12\n0.167828 12\n0.159720 12\n0.160201 12\n0.144015 12\n0.168019 68\n0.128053 63\n0.311188 2\n0.217647 6\n0.000036 2\n0.152405 7\n0.000031 12\n0.159817 12\n0.159858 12\n0.160043 12\n0.136394 12\n0.151601 6\n0.159891 114\n0.308162 108\n0.036590 63\n0.012206 71\n3.216486 63\n0.499280 63\n0.051175 61\n0.049856 53\n0.055765 906\n0.000052 81\n0.000077 93\n0.000500 262\n0.000361 64\n0.043866 64\n0.050720 63\n0.049876 63\n0.051378 63\n0.049696 63\n0.051403 63\n0.049312 64\n0.050746 129\n4.038995 41\n0.344305 1\n1.206075 49\n0.002832 2\n0.000377 1\n0.000064 540\n0.000072 1\n0.000050 48\n0.000049 1\n0.000049 85\n0.000052 1\n0.000053 46\n0.000066 1\n0.000047 95\n0.000050 1\n0.000106 87\n0.000056 1\n0.000164 64\n0.000058 1\n0.000061 136\n0.000053 1\n0.000049 86\n0.000066 1\n0.000052 31\n0.000056 179\n0.000218 1\n0.000060 344\n0.000061 65\n2.130945 1\n0.538020 3\n1.067259 124\n0.160068 125\n0.000053 3\n0.207057 69\n0.336428 189\n0.000033 514\n0.442552 13\n0.522235 103\n0.325004 29\n0.000082 45\n0.492033 44\n0.639285 83\n2.276101 13\n0.451647 110\n0.196929 29\n0.000038 28\n0.771384 28\n0.224380 33\n0.140976 1\n0.458849 49\n0.056812 817\n0.001352 426\n0.000043 1684\n0.506972 854\n0.279433 137\n0.000031 357\n0.000598 48\n0.497684 749\n0.000045 277\n0.000522 1\n0.892853 1071\n0.000050 83\n0.000081 67\n0.000484 111\n0.000083 1\n1.768027 916\n0.000083 446\n0.000709 1\n1.033947 1027\n0.000179 284\n0.000921 1380\n0.194148 104\n0.534384 524\n0.000047 2\n0.000028 144\n0.000025 177\n0.000576 48\n0.557138 749\n0.000107 273\n0.000310 4\n0.381627 1071\n0.000048 261\n0.000755 255\n0.390936 663\n0.000090 445\n0.000718 1402\n0.677898 242\n0.526302 667\n0.000048 408\n0.000086 170\n0.000759 1\n0.588675 354\n0.000096 1\n0.000055 116\n0.000355 1\n0.000189 47\n0.000164 1\n0.000128 67\n0.000158 1\n0.000127 40\n0.000150 1\n0.000108 54\n0.000162 1\n0.000111 59\n0.000129 1\n0.000138 87\n0.000134 1\n0.000122 87\n0.000150 1\n0.000309 204\n0.000071 6\n0.000340 1\n0.000065 87\n0.000056 1\n0.000139 87\n0.000138 1\n0.000117 149\n0.000121 95\n1.247756 894\n0.000102 397\n0.000479 1\n1.352503 1079\n0.000400 3\n0.000424 189\n0.000029 159\n0.000035 95\n0.707206 912\n0.000049 3\n0.000026 102\n0.000028 291\n0.000553 4\n0.169342 1\n0.000159 354\n0.000106 1\n0.000132 167\n0.000098 1\n0.000118 70\n0.000160 1\n0.000121 40\n0.000100 1\n0.000126 57\n0.000107 1\n0.000121 59\n0.000107 1\n0.000125 87\n0.000106 1\n0.000126 87\n0.000117 1\n0.000237 161\n0.000108 1\n0.000125 41\n0.000111 6\n0.000225 1\n0.000122 87\n0.000104 1\n0.000128 87\n0.000109 1\n0.000169 148\n0.000115 5\n0.165588 1061\n0.000051 410\n0.001165 305\n0.357502 1048\n0.000552 266\n0.544844 1121\n0.000870 5\n1.157549 1314\n0.000518 5\n0.616333 1375\n0.000473 114\n1.493832 903\n0.000136 364\n0.000044 64\n0.895444 8\n0.399639 25\n0.302530 148\n0.000300 47\n0.723080 175\n0.004306 250\n0.000036 72\n0.885818 65\n0.484585 64\n0.775984 8\n0.215001 36\n0.384575 291\n0.000690 8\n0.564368 28\n0.373554 28\n0.359880 28\n0.079890 1\n0.912205 49\n0.136166 3\n0.119720 28\n2.223778 8\n0.448423 28\n0.112177 28\n0.071539 28\n0.103970 28\n0.136079 28\n0.143839 28\n0.184340 28\n0.120206 28\n0.111894 28\n0.136064 28\n0.125328 28\n0.154779 28\n0.215951 28\n0.514119 28\n0.173832 28\n0.063890 28\n0.023907 28\n0.775909 10\n0.280321 32\n0.000028 10\n0.051779 45\n0.000038 1\n0.424216 3\n0.683577 64\n0.328504 64\n0.142313 211\n0.234117 64\n0.182916 120\n0.456668 75\n0.543541 3\n0.468422 2\n0.136038 1\n0.144080 3\n0.143964 3\n0.128145 3\n0.111763 56\n0.267695 69\n0.500752 35\n0.050364 35\n0.050345 35\n0.050614 35\n0.051171 35\n0.050477 35\n0.050524 35\n0.050740 35\n0.050416 35\n0.050289 35\n0.050301 35\n0.050757 35\n0.051662 35\n0.050188 35\n0.050926 35\n0.050948 35\n0.051114 35\n0.272512 32\n0.183179 32\n0.248400 32\n0.063961 65\n0.367977 3\n0.604515 3\n0.224514 3\n0.151547 2\n0.135932 67\n0.235135 104\n0.499921 32\n0.050549 32\n0.050872 32\n0.050868 32\n0.051086 32\n0.050656 32\n0.050959 32\n0.050662 32\n0.050073 32\n0.051145 32\n0.050135 32\n0.078584 32\n0.022254 32\n0.050985 32\n0.051514 32\n0.050208 32\n0.131209 32\n0.151904 45\n0.159998 45\n0.456066 45\n0.063892 65\n0.681219 298\n1.145227 9\n0.327438 15\n0.528348 19\n0.167648 19\n0.144145 19\n0.192117 64\n0.320482 3\n0.314972 64\n0.444507 18\n0.183855 55\n0.001285 46\n0.002904 74\n0.243392 2\n0.195821 1\n0.143995 40\n0.387695 32\n0.023834 32\n0.224640 32\n0.071867 31\n0.312020 31\n0.135878 31\n0.135708 31\n0.128290 1\n0.220092 9\n0.123871 15\n0.145356 19\n0.150584 19\n0.143770 64\n0.408984 8\n0.260520 1\n0.415132 1\n0.500579 1\n0.050556 1\n0.050497 1\n0.050376 1\n0.050685 1\n0.050011 1\n0.050719 1\n0.051448 1\n0.050093 1\n0.049985 1\n0.050075 1\n0.050162 1\n0.050447 1\n0.050385 1\n0.050574 1\n0.050262 1\n0.049648 1\n0.051329 1\n0.050628 1\n0.050078 1\n0.050147 1\n0.050283 1\n0.050589 1\n0.050256 1\n0.284501 38\n0.220596 32\n0.135765 32\n0.159812 32\n0.127891 1\n0.803413 1\n0.296397 1\n0.335897 32\n0.412369 32\n0.500449 32\n0.050093 32\n0.050823 32\n0.050134 32\n0.050343 32\n0.050722 32\n0.051162 32\n0.050563 32\n0.050244 32\n0.050523 32\n0.050958 32\n0.051039 195\n0.050542 182\n0.051265 32\n0.050573 32\n0.050062 32\n0.049924 32\n0.080813 32\n0.020551 32\n0.050862 32\n0.050476 32\n0.051712 32\n0.049819 32\n0.053371 32\n0.156643 45\n0.416050 45\n0.312155 45\n0.231727 45\n0.192065 45\n0.064079 45\n0.023669 45\n0.145425 45\n0.078617 45\n0.088335 45\n0.128033 45\n0.199720 45\n0.120375 45\n0.095565 45\n0.072193 45\n0.136263 45\n0.072221 45\n0.239368 45\n0.128318 45\n0.064228 45\n0.119800 45\n0.232186 3\n0.651713 3\n0.192440 3\n0.159408 31\n0.412592 31\n0.499996 31\n0.051545 31\n0.049056 31\n0.051008 31\n0.051976 37\n0.049522 31\n0.050567 31\n0.051033 31\n0.050891 31\n0.166133 31\n0.159824 31\n0.159663 31\n0.152226 31\n0.167698 31\n0.176219 31\n0.168039 65\n0.400061 3\n0.555838 3\n0.500206 3\n0.050493 2\n0.050336 1\n0.050634 3\n0.050917 116\n1.762955 110\n0.033533 146\n0.013334 18\n4.144359 181\n1.080429 2\n0.238506 20\n0.121320 2\n0.247808 36\n0.457928 7\n0.000012 33\n0.000563 7\n0.151257 51\n0.000276 36\n0.000364 817\n0.000134 96\n0.031618 18\n0.988462 23\n5.729594 33\n0.905248 125\n0.000632 967\n0.000443 122\n0.000105 359\n0.000035 64\n23.113089 25\n0.946989 170\n0.000086 3\n0.155039 227\n0.153850 64\n0.745045 3\n0.162466 3\n0.500103 104\n0.058100 17\n0.043135 3\n0.050348 3\n0.051154 2\n0.050820 1\n0.050057 3\n0.164220 3\n0.168052 3\n0.167908 3\n0.151982 118\n0.355808 116\n0.653804 110\n0.045235 65\n0.012383 46\n0.324475 135\n0.001674 2\n0.230046 20\n0.137623 2\n0.159330 36\n0.411807 7\n0.000013 33\n0.000569 7\n0.154301 51\n0.000014 36\n0.000548 817\n0.000134 96\n0.030716 18\n0.521257 23\n0.121327 33\n0.209327 125\n0.000884 937\n0.000385 125\n0.000106 460\n0.000035 102\n0.767898 29\n0.000081 41\n0.276657 1780\n0.716347 64\n0.986145 64\n0.178603 3\n0.278298 3\n0.499971 3\n0.050131 3\n0.051520 3\n0.050895 3\n0.050678 2\n0.050677 1\n0.050589 64\n0.160665 122\n0.335069 115\n0.629889 109\n0.041980 65\n0.014402 181\n0.142949 2\n0.189997 20\n0.129787 2\n0.206975 36\n0.443478 7\n0.000012 33\n0.000556 1518\n0.145134 470\n0.625186 96\n0.067753 18\n0.181294 23\n0.121556 2113\n0.171499 82\n1.395289 59\n0.000040 74\n0.835507 21\n0.000030 80\n0.128054 115\n0.366541 109\n0.059981 65\n0.013290 18\n0.204924 103\n0.244127 29\n0.000208 43\n0.259906 45\n0.848113 44\n0.343648 45\n0.200032 1\n1.546797 49\n0.002817 3\n0.000627 686\n0.000073 46\n0.000405 222\n0.000032 2\n0.000078 79\n0.000261 93\n0.000027 98\n0.000342 214\n0.000035 188\n1.295977 733\n0.000046 90\n0.000083 113\n0.001003 134\n0.000037 152\n0.483384 758\n0.000048 102\n0.000028 326\n0.000655 93\n0.000037 193\n1.605604 1303\n0.000430 64\n0.590138 64\n0.500775 64\n0.050320 64\n0.050500 64\n0.050341 64\n0.050934 64\n0.050164 64\n0.050923 64\n5.739875 62\n0.247913 140\n0.355835 776\n0.000043 111\n0.000029 3\n0.000569 316\n0.000033 64\n0.380076 68\n0.839151 179\n0.240725 2\n0.213790 20\n0.161876 23\n4.824147 20\n3.072049 2\n0.271263 36\n0.457986 7\n0.000013 33\n0.000534 1484\n0.164254 6\n0.020355 60\n1.051781 40\n0.020794 60\n0.208230 40\n0.020735 60\n0.144764 40\n0.020896 60\n0.145546 5\n0.020587 69\n0.146690 69\n0.206682 64\n0.062374 64\n0.207310 471\n1.618321 96\n0.069811 18\n0.155455 23\n0.137407 33\n0.225323 125\n0.001229 927\n0.000432 630\n0.000373 1\n0.982260 40\n0.004345 28\n0.000039 13\n1.648692 100\n0.259805 29\n0.000042 41\n0.228627 1740\n0.300957 71\n2.491212 181\n0.256830 2\n0.190196 20\n0.153404 2\n0.159518 36\n0.438785 7\n0.000012 33\n0.000610 1484\n0.162196 6\n0.020433 60\n0.370972 40\n0.020866 60\n0.165749 40\n0.020780 60\n0.165803 40\n0.020861 60\n0.124317 5\n0.020463 69\n0.103724 470\n0.438547 96\n0.101057 18\n0.126603 23\n0.179058 33\n0.314654 125\n0.000876 990\n0.000415 963\n0.000311 105\n3.726797 29\n0.000040 45\n0.371991 1371\n0.796398 65\n1.687273 68\n0.404865 179\n0.344420 2\n0.230076 20\n0.129490 2\n0.223651 36\n0.466342 7\n0.000012 33\n0.000625 1484\n0.164188 6\n0.020278 135\n0.632793 80\n0.430734 8\n0.143161 564\n0.191094 96\n0.078727 18\n0.671009 23\n0.169743 9\n1.350570 1706\n0.004256 100\n1.935737 29\n0.000204 41\n0.196460 1740\n0.492710 105\n1.783263 29\n0.000302 45\n0.163826 46\n0.904159 1376\n0.532227 65\n0.992240 65\n0.532102 73\n1.082782 59\n0.000133 65\n0.448491 3\n0.315612 3\n0.500046 2\n0.049734 1\n0.050339 3\n0.049744 3\n0.050297 3\n0.051381 3\n0.050985 31\n0.465369 45\n0.095990 116\n0.541865 110\n0.041897 65\n0.012887 181\n0.176784 2\n0.190482 20\n0.129212 2\n0.191102 36\n0.404266 7\n0.000014 33\n0.000914 1484\n0.163534 6\n0.020396 60\n0.969828 40\n0.020852 60\n0.124685 40\n0.020867 60\n0.124132 40\n0.020714 60\n0.103858 5\n0.020825 64\n0.227323 137\n0.302864 8\n0.102724 84\n0.369322 579\n0.209104 96\n0.077166 18\n0.643581 23\n0.129898 33\n0.897180 125\n0.001403 918\n0.000420 125\n0.000031 460\n0.000304 106\n0.806438 787\n0.000048 2\n0.000071 314\n0.000524 301\n0.499581 785\n0.000119 69\n0.000116 926\n0.050416 555\n0.000049 816\n0.048489 351\n0.000042 1\n0.045229 27\n0.002971 28\n0.000044 1\n0.047680 1\n0.050430 1\n0.050504 1\n0.051223 1\n0.050729 1\n0.050628 1\n0.049913 69\n0.763095 65\n0.497096 64\n0.049891 64\n0.050654 64\n0.050431 64\n0.050701 64\n0.050295 64\n0.049989 64\n0.051426 64\n0.049634 64\n0.051630 65\n0.049244 63\n0.050158 63\n0.050459 64\n0.254061 65\n0.684699 1\n0.053625 28\n0.368126 28\n0.127902 4\n0.471895 28\n0.208102 28\n0.039788 28\n0.280219 28\n0.144425 28\n0.073097 28\n0.278768 115\n0.446564 109\n0.052619 64\n0.012395 181\n0.318816 2\n0.197810 20\n0.137431 2\n0.153609 36\n0.445962 7\n0.000012 33\n0.000548 1484\n0.162132 6\n0.020381 60\n0.349209 40\n0.020962 60\n0.186555 40\n0.020826 60\n0.145254 40\n0.020621 60\n0.145475 5\n0.020847 64\n0.248543 64\n0.186543 69\n1.175813 137\n0.963260 8\n0.204630 84\n0.143696 206\n0.495961 116\n0.028152 6\n0.020306 7\n0.426133 6\n0.021372 7\n0.520840 6\n0.020809 64\n0.083931 64\n0.186398 7\n0.197888 70\n0.020918 64\n0.104152 64\n0.165346 7\n0.217622 70\n0.020996 69\n0.208198 69\n0.165733 7\n0.094392 6\n0.020828 7\n0.486510 6\n0.020806 7\n0.469752 6\n0.020871 7\n0.487814 6\n0.020927 7\n0.466974 6\n0.020655 7\n0.486112 6\n0.020887 7\n0.466664 6\n0.020662 7\n0.489292 6\n0.020913 7\n0.467185 6\n0.020771 7\n0.488577 6\n0.020850 7\n0.468806 6\n0.020595 7\n0.485544 6\n0.020547 7\n0.467538 6\n0.020784 7\n0.486476 6\n0.021861 7\n0.467176 6\n0.021324 7\n0.487307 6\n0.020501 7\n0.467448 6\n0.020892 471\n0.253672 96\n0.082249 18\n0.175202 23\n0.129100 1484\n0.362368 509\n0.936713 785\n0.000039 393\n0.000560 853\n0.617604 1\n0.000099 48\n0.000069 2\n0.000137 1\n0.000077 86\n0.000054 257\n0.000202 1\n0.000051 99\n0.000055 100\n0.892479 29\n0.000041 41\n0.260895 45\n1.384201 44\n0.559729 45\n0.400488 1411\n0.276066 5\n1.134044 905\n0.000056 228\n0.000103 249\n0.000095 1392\n1.225040 368\n1.051640 649\n0.000045 312\n0.000603 62\n7.641212 63\n0.207262 63\n0.240400 63\n0.263587 64\n0.415706 24\n0.973602 146\n0.000045 1\n0.104144 28\n5.804720 28\n0.064429 28\n0.207446 28\n0.064023 3\n0.207891 1\n0.392443 2\n0.151848 53\n0.000095 3\n0.151873 28\n0.167973 28\n0.200833 28\n0.087249 28\n0.127800 28\n0.080186 28\n0.145164 28\n0.103357 28\n0.047923 56\n0.151426 117\n0.427239 111\n0.080510 64\n0.013393 181\n0.116939 2\n0.174478 20\n0.129237 2\n0.127285 36\n0.417527 7\n0.000012 33\n0.000564 1484\n0.159139 6\n0.020273 53\n1.012214 35\n0.020809 60\n0.186239 40\n0.020409 60\n0.124333 40\n0.020858 60\n0.145115 40\n0.020874 53\n0.229018 35\n0.020885 7\n0.207372 464\n0.004731 96\n0.078473 18\n0.150840 23\n0.128920 1769\n0.291098 103\n1.088268 29\n0.000034 43\n0.164585 44\n0.407782 35\n0.351922 45\n0.391799 1397\n0.371831 205\n2.816849 816\n0.000050 98\n0.000076 738\n0.000821 236\n0.431674 690\n0.000046 458\n0.000594 244\n0.356933 1\n0.000501 1\n0.000185 27\n0.000186 1\n0.000198 1\n0.000177 93\n0.000178 1\n0.000201 1\n0.000176 69\n0.000176 1\n0.000199 1\n0.000162 31\n0.000166 1\n0.000188 1\n0.000057 329\n0.000063 1\n0.000066 1\n0.000046 38\n0.000090 312\n0.000227 6\n0.324282 1157\n0.000500 409\n0.354114 512\n0.000038 134\n0.000568 83\n0.000028 155\n0.000027 102\n0.000064 36\n0.000318 30\n0.000392 176\n0.000063 2\n0.000248 95\n0.000034 139\n0.346481 1\n0.000075 86\n0.000055 1\n0.000050 87\n0.000050 1\n0.000051 87\n0.000068 1\n0.000048 71\n0.000047 1\n0.000045 44\n0.000047 1\n0.000105 27\n0.000063 1\n0.000046 234\n0.000055 1\n0.000047 1\n0.000051 131\n0.000060 40\n0.000161 1\n0.000047 1\n0.000049 62\n0.000053 1\n0.000060 1\n0.000048 47\n0.000051 189\n0.000242 1\n0.000059 1\n0.000049 1\n0.000064 385\n0.000067 425\n0.622124 477\n0.000041 864\n0.000798 5\n0.164542 945\n0.000087 469\n0.000663 97\n0.158112 621\n0.000075 371\n0.000714 326\n0.142819 542\n0.000113 378\n0.000037 141\n0.153632 2\n0.000750 232\n0.000029 153\n0.000065 398\n0.000400 352\n0.000379 295\n0.000353 135\n0.000032 104\n0.356994 835\n0.000053 313\n0.000569 62\n0.635127 65\n0.499152 63\n0.049914 63\n0.051468 63\n0.050791 63\n0.050693 63\n0.049708 64\n0.050232 64\n0.050011 64\n0.050406 64\n0.050125 65\n0.142860 64\n0.183867 5\n0.183358 65\n0.268522 78\n0.359564 32\n0.117199 32\n0.160003 32\n0.145327 32\n0.142878 118\n0.239903 112\n0.039976 65\n0.012320 181\n0.178951 2\n0.230136 20\n0.129743 2\n0.151599 36\n0.434168 7\n0.000013 33\n0.000525 19\n0.020352 39\n0.000013 36\n0.000422 114\n0.000014 107\n0.000026 128\n0.000134 96\n0.031607 18\n0.591824 23\n0.129311 1684\n0.554132 105\n1.072109 29\n0.000037 45\n0.189105 1444\n0.436532 1\n1.443407 66\n0.605472 100\n0.126558 160\n0.000033 114\n0.229317 108\n0.106241 63\n0.014661 44\n0.109005 135\n0.001672 2\n0.294643 20\n0.352916 2\n0.183524 36\n0.441718 7\n0.000016 33\n0.000646 1484\n0.199081 6\n0.020433 60\n2.816000 40\n0.020890 60\n0.165855 40\n0.020864 60\n0.166007 40\n0.020868 60\n0.208381 5\n0.020810 69\n0.103550 64\n0.331584 64\n0.186912 234\n0.046187 64\n0.436464 64\n0.062283 64\n0.041577 64\n0.062368 64\n0.041504 64\n0.062750 64\n0.041569 64\n0.041545 64\n0.062342 64\n0.041588 64\n0.062001 64\n0.041620 64\n0.062376 137\n0.383735 80\n0.348237 230\n0.432135 129\n0.027000 7\n0.020402 7\n0.418477 7\n0.020748 7\n0.514908 7\n0.021041 7\n0.459209 7\n0.020982 7\n0.480318 7\n0.020984 471\n0.064017 96\n0.087897 18\n0.137381 23\n0.145468 33\n0.177186 125\n0.001150 952\n0.000428 204\n0.000291 475\n0.000042 103\n0.983557 29\n0.000927 45\n0.163449 1371\n0.939849 66\n0.840535 65\n0.497175 65\n0.050107 65\n0.050290 64\n0.050798 64\n0.051256 64\n0.049343 64\n0.051685 64\n0.050908 64\n0.050063 66\n0.050079 64\n0.050840 201\n0.055121 914\n0.000096 696\n0.000713 65\n0.045051 64\n0.050181 64\n0.050113 64\n0.049619 64\n0.050330 64\n0.050530 64\n0.050019 65\n0.051788 64\n0.049045 64\n0.050441 376\n0.055167 559\n0.000041 828\n0.000562 65\n0.045453 65\n0.051245 64\n0.050871 64\n0.050715 64\n0.050591 64\n0.050544 65\n0.050249 64\n0.050648 64\n0.050478 64\n0.050216 1\n0.053753 1414\n0.000576 65\n0.046048 65\n0.049950 64\n0.049967 64\n0.050769 105\n2.675818 29\n0.000039 45\n0.236704 46\n0.535777 45\n0.303986 1499\n0.244391 103\n1.039418 29\n0.000038 45\n0.140333 46\n0.184116 44\n0.279916 43\n0.392026 1387\n0.123397 969\n2.860081 738\n0.000581 906\n0.710899 441\n0.000098 48\n0.187945 971\n0.000521 1\n0.625076 904\n0.000112 413\n0.000541 62\n1.107561 63\n0.151545 64\n1.191875 66\n0.773471 235\n0.269734 3\n0.262836 44\n0.513385 332\n0.544983 164\n0.672000 1196\n0.000061 497\n1.059924 1\n0.000085 46\n0.000053 1\n0.000048 87\n0.000050 1\n0.000052 29\n0.000319 1\n0.000050 89\n0.000090 1\n0.000139 44\n0.000307 1\n0.000067 57\n0.000058 1\n0.000157 126\n0.000288 2\n0.000339 1\n0.000064 66\n0.000176 1\n0.000069 61\n0.000190 1\n0.000065 166\n0.000196 2\n0.000281 1\n0.000061 34\n0.000109 1\n0.000109 1\n0.000137 183\n0.000128 247\n0.725891 754\n0.000046 364\n0.000077 162\n0.000787 61\n0.560402 826\n0.000065 449\n0.000654 98\n0.671287 846\n0.000108 245\n0.000029 121\n0.000561 107\n0.000060 51\n1.231344 886\n0.000042 438\n0.000753 4\n0.723458 957\n0.000749 242\n0.000139 2\n0.000499 1\n0.000191 29\n0.000258 1\n0.000208 44\n0.000178 1\n0.000200 152\n0.000185 61\n1.393912 5\n0.175025 589\n0.000098 407\n0.000037 107\n0.000534 88\n0.000066 102\n0.000304 51\n1.893862 680\n0.000077 88\n0.000542 154\n0.000037 299\n0.000333 30\n0.000355 404\n0.000066 5\n0.635315 929\n0.000093 60\n0.000599 106\n0.000311 186\n0.000067 3\n2.171900 709\n0.000150 202\n0.000696 319\n0.000033 7\n0.000335 183\n0.000029 129\n0.000037 1\n1.502609 100\n0.000084 1\n0.000054 73\n0.000056 1\n0.000051 87\n0.000052 1\n0.000065 109\n0.000051 1\n0.000048 74\n0.000047 1\n0.000047 66\n0.000049 1\n0.000047 270\n0.000059 1\n0.000049 114\n0.000059 126\n0.000184 1\n0.000059 68\n0.000049 1\n0.000051 53\n0.000055 1\n0.000167 1\n0.000050 56\n0.000053 1\n0.000068 22\n0.000049 1\n0.000099 158\n0.000056 94\n0.731924 1452\n0.000650 106\n0.869749 799\n0.000053 196\n0.000082 287\n0.000793 51\n1.040493 898\n0.000046 278\n0.000845 319\n0.000039 105\n1.213703 800\n0.000051 483\n0.000908 127\n0.221057 1040\n0.000502 62\n1.090418 63\n0.499572 63\n0.050798 63\n0.051230 63\n0.050661 63\n0.050224 63\n0.050448 63\n0.446732 7\n0.311332 196\n0.251130 389\n0.762173 74\n0.533749 1\n0.580755 1\n0.320267 1\n0.175729 1\n0.167995 1\n0.135977 1\n0.471706 43\n0.535169 43\n0.148853 43\n0.143573 40\n0.160191 42\n0.591775 40\n0.111968 40\n0.079968 40\n0.047904 40\n0.064308 65\n0.503295 8\n0.205550 1\n0.111345 1\n0.232015 1\n0.508766 1\n0.042449 1\n0.050266 1\n0.051236 1\n0.050599 1\n0.145102 47\n0.371218 47\n0.143669 47\n0.152279 44\n0.160196 46\n0.551562 44\n0.103991 44\n0.072037 44\n0.007891 44\n0.088272 1\n0.556496 16\n1.083392 186\n0.501273 2\n0.050053 54\n0.000034 2\n0.049762 52\n0.000033 2\n0.050011 52\n0.000033 61\n0.049984 39\n0.050697 22\n0.000030 40\n0.280412 21\n0.000138 63\n0.239219 14\n0.176861 14\n0.500213 10\n0.050349 1\n0.050413 8\n0.000031 8\n0.051018 14\n0.051381 14\n0.050179 14\n0.050296 65\n0.659139 56\n0.000785 47\n0.001208 17\n0.147794 65\n0.168291 8\n0.287704 1\n0.767440 67\n1.242645 242\n0.688235 64\n0.520304 3\n0.158037 1\n0.631551 8\n0.311494 1\n0.368556 1\n0.500806 1\n0.049952 1\n0.050696 1\n0.049940 1\n0.051121 83\n0.324081 7\n0.406954 7\n0.500114 7\n0.050258 7\n0.049710 7\n0.051021 7\n0.050631 5\n0.049818 1\n0.000031 5\n0.050379 69\n0.050612 7\n0.050664 7\n0.050318 7\n0.050940 7\n0.050494 7\n0.050280 6\n0.050618 5\n0.050715 7\n0.051207 13\n0.112611 116\n1.196920 110\n0.040026 65\n0.012100 75\n0.318323 64\n0.157131 1\n0.230387 135\n1.078039 209\n0.165628 3\n0.182699 191\n0.184575 3\n0.183452 199\n0.168870 46\n0.855269 478\n0.004760 55\n0.602433 561\n0.000046 315\n0.000456 304\n0.499426 646\n0.000113 103\n0.000031 393\n0.001065 117\n1.031476 511\n0.000053 313\n0.000032 402\n0.672049 1042\n0.000496 276\n0.222400 713\n0.000121 258\n0.000033 249\n0.000585 783\n0.819782 356\n0.000042 189\n0.858558 722\n0.000049 97\n0.000029 91\n0.000033 58\n0.712609 846\n0.000055 264\n0.000126 64\n0.364382 64\n0.151472 185\n0.730211 64\n0.240367 465\n0.729825 72\n0.567201 64\n0.165403 8\n0.254600 1\n0.199843 65\n0.300489 1\n0.091020 1\n0.500127 1\n0.049829 1\n0.050155 1\n0.050984 1\n0.050880 1\n0.050099 1\n0.049578 1\n0.050673 1\n0.049682 1\n0.050332 1\n0.207751 31\n0.204298 31\n0.127453 65\n0.223949 65\n0.172930 3\n0.767093 3\n0.501206 3\n0.050222 2\n0.050011 1\n0.050981 3\n0.051058 3\n0.050428 3\n0.050241 3\n0.051337 31\n0.323275 31\n0.142191 64\n0.179490 150\n0.982859 3\n0.143668 111\n0.159967 113\n0.638781 107\n0.053969 64\n0.012608 72\n0.288757 64\n0.496682 64\n0.050015 64\n0.050752 64\n0.050993 64\n0.050666 64\n0.049973 63\n0.050371 63\n0.049744 64\n0.050595 63\n0.049760 63\n0.374365 64\n0.500521 63\n0.050904 64\n0.050534 64\n0.050443 64\n0.050970 64\n0.050565 64\n0.430217 64\n0.232225 64\n0.500721 64\n0.050248 64\n0.050760 63\n0.051106 63\n0.050015 64\n0.049695 63\n0.053852 63\n0.051805 63\n0.049686 62\n0.051861 61\n0.050070 494\n0.053564 213\n0.000035 172\n0.000028 265\n0.000041 64\n0.046746 64\n0.051270 63\n0.430611 64\n0.500685 63\n0.050341 63\n0.051632 63\n0.050034 63\n0.051275 62\n0.049621 61\n0.518463 729\n0.195826 450\n0.000043 51\n0.000027 153\n0.000037 64\n0.236227 64\n1.032007 64\n0.191786 64\n0.183731 64\n0.167939 8\n0.279635 25\n0.391911 149\n0.000085 8\n0.572808 28\n0.660973 28\n0.063845 28\n0.167979 28\n0.128100 28\n0.136124 144\n3.048753 1\n0.000075 1\n0.000059 54\n0.000051 1\n0.000051 1\n0.000049 247\n0.000133 1\n0.000066 1\n0.000049 363\n0.000074 246\n0.000179 259\n2.163672 977\n0.000089 110\n0.001179 64\n0.684123 65\n0.156363 64\n0.159303 64\n0.144410 64\n0.112580 8\n0.238546 28\n0.450229 28\n0.199966 28\n0.096679 28\n0.032026 28\n0.183169 28\n0.024071 28\n0.167827 28\n0.112335 66\n0.256383 28\n0.120001 28\n0.128730 28\n0.127051 28\n0.079858 28\n0.280049 30\n0.028379 65\n0.781606 8\n0.244262 135\n0.426921 8\n0.080915 65\n3.103439 3\n0.180292 1\n0.207544 65\n0.260602 28\n0.781889 3\n0.143983 45\n0.104005 1\n0.071967 28\n0.112137 28\n0.160145 28\n0.087275 28\n0.200306 28\n0.095767 28\n0.072490 28\n0.119875 28\n0.136224 28\n1.207808 28\n0.160209 28\n0.224003 28\n0.056180 28\n0.015702 105\n0.944993 29\n0.000034 45\n0.245179 1518\n0.452145 101\n1.151010 29\n0.000036 43\n0.372328 1563\n0.587794 28\n0.838697 28\n0.040027 28\n0.647911 28\n0.432120 28\n0.280575 28\n0.328030 28\n0.177765 105\n0.715400 29\n0.000041 45\n0.143658 1518\n0.260819 101\n1.126831 29\n0.000453 43\n0.412096 1\n6.029939 49\n0.002550 177\n0.000568 793\n0.000039 95\n0.000358 158\n0.000031 92\n0.000378 202\n0.000038 28\n2.432393 28\n0.312006 28\n0.121016 28\n0.095073 28\n0.193101 28\n0.839623 28\n3.695371 28\n1.360061 28\n0.330588 28\n0.293112 28\n0.352064 4\n0.736259 28\n1.168048 28\n0.087816 53\n0.088120 34\n0.279834 28\n0.360078 28\n0.328039 28\n0.239957 28\n0.264231 28\n0.447829 65\n0.793792 1\n0.243146 3\n0.618338 202\n0.120893 64\n0.384935 64\n0.124865 67\n0.649657 195\n0.448415 64\n0.313465 64\n0.124729 64\n0.135661 196\n0.186158 1\n0.228936 1\n0.000096 4\n0.434887 118\n0.223744 3\n0.119884 41\n0.143922 41\n0.216075 41\n0.079896 41\n0.064156 3\n0.096068 41\n0.239962 41\n0.055907 41\n0.160429 41\n0.023616 41\n0.176341 41\n0.055689 3\n0.175748 41\n0.200781 41\n0.103338 41\n0.088087 41\n0.088344 41\n0.055934 43\n0.384948 43\n0.118923 43\n0.103916 41\n0.232115 41\n0.056051 41\n0.072111 41\n0.048502 41\n0.087379 41\n0.041660 41\n0.142468 41\n0.112322 41\n0.151491 116\n0.343604 110\n0.032312 65\n0.012566 18\n0.320701 105\n0.267665 29\n0.000119 45\n0.293115 1\n0.913562 49\n0.002976 1437\n0.000813 101\n1.165858 29\n0.000037 43\n0.132152 1506\n0.219926 105\n0.799273 29\n0.000038 45\n0.157208 1487\n0.203998 101\n0.519188 29\n0.000038 43\n0.260573 1506\n0.403818 65\n0.736084 4\n0.284315 65\n1.371663 1\n0.387550 29\n0.645593 128\n0.001547 30\n0.174237 30\n0.560095 1\n0.706792 199\n2.825076 18\n0.206749 47\n0.282365 36\n0.004975 134\n0.000184 75\n1.917165 65\n0.244291 41\n1.113703 41\n0.112111 41\n0.136038 41\n0.039967 41\n0.087929 41\n0.032376 41\n0.136186 41\n0.431845 116\n0.350557 110\n0.056077 65\n0.012619 72\n0.445984 4\n0.364098 66\n9.197496 28\n0.317199 62\n2.530479 65\n1.635487 65\n0.231924 65\n0.375813 62\n0.176353 64\n5.119776 65\n0.201301 65\n0.342978 65\n0.200136 65\n0.192049 65\n0.168072 63\n0.167423 61\n0.720544 64\n0.168260 61\n0.543609 63\n0.199735 64\n0.288272 199\n0.326355 446\n0.000940 8\n0.133985 28\n0.772304 12\n0.631836 2\n0.178693 4\n0.189783 1\n0.247808 294\n0.304481 66\n0.591504 65\n0.173869 65\n0.168462 65\n0.183843 64\n0.175911 62\n0.175844 173\n0.715967 8\n0.121479 28\n0.780362 28\n0.039782 2\n0.953344 65\n0.191054 65\n0.616127 85\n0.239987 3\n0.147259 28\n0.444636 28\n0.288014 53\n0.200191 34\n0.159718 58\n0.736230 35\n0.151861 28\n0.439997 28\n0.047855 28\n0.192149 28\n0.312225 28\n0.279966 28\n0.159823 28\n0.359812 28\n2.376445 28\n1.680159 28\n0.079777 53\n0.088011 34\n0.888048 28\n0.279955 28\n0.544457 28\n0.343434 28\n0.464049 173\n0.296474 8\n0.850098 28\n0.245119 28\n0.039941 2\n0.192196 47\n0.159698 3\n0.080245 28\n0.312599 28\n0.151454 28\n0.135941 28\n0.200456 28\n0.215477 28\n0.264075 28\n0.208277 28\n0.159839 28\n0.223988 28\n0.248043 28\n0.431871 28\n0.120124 28\n0.159929 28\n0.416044 28\n0.280205 28\n0.400170 28\n0.815699 28\n0.264032 62\n0.609359 8\n0.220015 28\n0.642635 28\n0.144116 28\n0.768247 28\n0.375819 28\n0.119876 28\n0.752163 28\n2.703815 4\n0.872061 28\n0.096663 28\n0.135237 28\n0.103960 28\n2.520147 28\n2.199918 28\n0.040207 28\n0.920012 28\n0.431895 28\n0.264228 28\n0.303918 28\n0.103824 28\n0.064027 28\n0.032833 28\n0.095510 28\n0.239856 28\n0.144205 42\n0.088758 69\n0.000076 28\n0.151096 36\n0.620594 7\n0.512019 104\n0.275175 29\n0.000039 45\n0.197235 1525\n0.268057 101\n1.022961 29\n0.000038 43\n0.476774 1\n0.507424 49\n0.007570 176\n0.000202 81\n0.000282 713\n0.000037 138\n0.000147 130\n0.000129 42\n0.000342 220\n0.000039 3\n1.096534 1\n0.972012 1\n0.119583 1\n0.502562 1\n0.051304 8\n0.050515 1\n0.050253 1\n0.049809 1\n0.049674 1\n0.051940 1\n0.049341 1\n0.050465 1\n0.050322 1\n0.050874 1\n0.050541 1\n0.050804 1\n0.050769 1\n0.049961 1\n0.050352 1\n0.051065 1\n0.051129 1\n0.048927 1\n0.050111 1\n0.050347 1\n0.712452 1\n0.216070 104\n0.186031 21\n0.689253 91\n0.000040 5\n0.225301 4\n0.000097 66\n1.207642 1\n0.235204 30\n1.003784 30\n0.070501 64\n0.234936 1\n0.099214 1\n0.500333 1\n0.050428 1\n0.051130 1\n0.049910 1\n0.050196 1\n0.050225 1\n0.051076 1\n0.050525 1\n0.051120 1\n0.050616 1\n0.051890 1\n0.050567 1\n0.050950 1\n0.050544 1\n0.051593 1\n0.050296 1\n0.050196 1\n0.050869 1\n0.051502 65\n0.063542 24\n0.525310 21\n0.000080 65\n0.193272 3\n0.150116 8\n0.000096 66\n0.417872 8\n0.172250 61\n0.420573 64\n0.131584 1\n0.247784 3\n0.569567 64\n0.144713 117\n0.000041 3\n0.159198 61\n0.168122 93\n0.000040 3\n0.151398 287\n0.650395 417\n0.155431 323\n0.000047 2\n0.000103 209\n0.000531 75\n0.722367 65\n0.150445 7\n0.136241 132\n0.354382 3\n0.699994 3\n0.500207 3\n0.050929 3\n0.051072 3\n0.050055 3\n0.051689 2\n0.049231 1\n0.050742 3\n0.049834 3\n0.050235 3\n0.055079 3\n0.050390 3\n0.310644 31\n0.219905 45\n0.071154 65\n0.191958 65\n0.134307 8\n0.175146 1\n0.127567 1\n0.191855 32\n0.306663 30\n0.063916 116\n0.711347 110\n0.033745 65\n0.011840 75\n2.491925 65\n0.189869 64\n0.199908 65\n20.482216 65\n2.821758 69\n0.468569 31\n0.165041 31\n0.192338 65\n4.280086 64\n0.293981 65\n0.224252 64\n0.199727 64\n0.264260 64\n3.175797 64\n0.159650 65\n0.551808 65\n0.200376 65\n0.231723 65\n4.880465 8\n0.463506 1\n0.287645 33\n0.730815 30\n0.744332 30\n0.319931 65\n0.215472 1\n0.213373 1\n0.499812 1\n0.049972 1\n0.050843 1\n0.050339 1\n0.050232 1\n0.050477 1\n0.050530 1\n0.050341 1\n0.050414 1\n0.050876 1\n0.049904 1\n0.050218 1\n0.050636 1\n0.050325 1\n0.050753 104\n0.053481 18\n0.047694 1\n0.050686 1\n0.050708 1\n0.050263 31\n0.303925 32\n0.088211 62\n0.256503 3\n0.236927 3\n0.499884 3\n0.051629 2\n0.050464 1\n0.051434 3\n0.050116 3\n0.049979 3\n0.050485 3\n0.051058 1\n0.297163 31\n0.162994 32\n0.111551 3\n0.172862 3\n0.499992 2\n0.050529 1\n0.050684 3\n0.050603 3\n0.050341 3\n0.051209 44\n0.370560 42\n0.079301 116\n0.654652 110\n0.050752 65\n0.012673 18\n4.878868 71\n0.040926 181\n1.936181 2\n0.325968 20\n0.129624 2\n0.263561 36\n0.464649 7\n0.000048 33\n0.000482 1484\n0.160696 6\n0.020387 66\n0.970082 8\n0.020741 244\n0.883821 8\n0.020408 76\n0.267217 537\n0.180274 88\n0.021337 83\n0.124152 83\n0.145288 241\n0.254534 80\n0.021616 75\n0.020961 75\n0.124419 75\n0.124895 487\n0.198082 7\n0.020741 194\n0.132761 208\n0.380556 529\n0.477391 7\n0.071322 87\n0.423355 7\n0.020771 64\n0.268353 235\n0.066529 64\n0.169406 64\n0.103443 137\n0.467906 80\n0.286926 86\n0.627174 80\n0.507541 247\n0.469305 166\n0.056837 6\n0.020478 82\n0.101871 35\n0.020304 60\n0.145422 39\n0.020585 53\n0.322435 35\n0.020868 53\n0.145659 35\n0.020904 162\n0.384242 262\n1.192087 7\n0.054623 60\n0.102116 40\n0.020332 137\n0.362613 80\n0.164763 193\n0.551928 162\n0.069642 7\n0.020506 1\n0.405427 59\n0.021886 5\n0.020523 73\n0.268852 6\n0.210867 78\n0.020837 73\n0.166340 73\n0.145625 7\n0.170313 7\n0.021041 69\n0.186122 97\n0.152849 79\n0.048648 7\n0.119917 7\n0.021399 7\n0.473080 7\n0.020658 246\n0.566570 79\n0.073662 75\n0.143300 35\n0.020992 533\n0.266481 3\n0.021192 53\n0.062263 35\n0.020870 53\n0.145442 35\n0.020915 53\n0.124633 222\n0.127730 528\n0.494377 151\n0.031156 217\n0.507971 196\n0.273665 74\n0.069207 667\n0.167786 187\n0.380711 71\n0.730697 322\n0.697646 75\n0.051110 75\n0.061282 705\n0.379102 64\n0.020689 64\n0.145338 64\n0.144564 322\n0.199574 64\n0.020882 64\n0.062570 223\n0.258717 631\n0.168572 216\n0.433665 84\n0.412319 555\n0.326221 96\n0.078822 18\n0.826769 23\n0.209434 33\n0.960996 1421\n0.002123 65\n1.070503 3\n0.253222 3\n0.591590 67\n0.342412 30\n0.070536 65\n0.343170 65\n0.365037 1\n0.199010 35\n0.459005 32\n0.287830 65\n0.376235 64\n0.125936 62\n0.200092 1\n0.343008 3\n0.119701 30\n0.580874 30\n0.064112 65\n0.421737 1\n0.189655 65\n0.282085 31\n1.865122 32\n0.208041 32\n0.392083 3\n0.380898 3\n0.152329 32\n0.522624 32\n0.416006 32\n0.215863 116\n0.454579 110\n0.033821 65\n0.012617 181\n0.257233 2\n0.454137 20\n0.257536 2\n0.281222 36\n0.451504 7\n0.000014 33\n0.000570 1484\n0.162401 6\n0.020295 66\n0.557651 8\n0.020746 244\n0.603915 81\n0.020467 537\n0.445312 88\n0.020916 83\n0.020313 83\n0.040734 83\n0.061465 82\n0.186204 241\n0.213460 79\n0.020996 75\n0.062665 194\n0.278284 469\n0.152837 208\n0.524971 529\n0.262959 7\n0.071306 84\n0.061341 137\n0.240416 80\n0.278225 223\n0.553972 166\n0.076995 7\n0.020276 7\n0.431707 7\n0.020908 82\n0.372126 35\n0.122696 5\n0.028027 4\n0.027675 3\n0.020899 53\n0.207262 35\n0.020803 3\n0.222596 53\n0.041680 35\n0.020872 53\n0.103735 35\n0.020874 137\n0.338521 193\n1.464695 7\n0.086036 53\n0.020434 35\n0.020399 162\n0.163813 262\n1.104003 7\n0.055245 60\n0.020400 40\n0.020553 137\n0.324287 80\n0.239765 207\n0.150411 263\n0.299191 162\n0.059014 7\n0.020428 71\n0.450154 246\n0.689254 82\n0.053982 77\n0.020443 35\n0.020419 53\n0.268454 35\n0.020618 533\n0.120993 53\n0.020980 35\n0.020884 53\n0.124381 35\n0.020971 53\n0.165968 35\n0.020870 211\n0.147292 53\n0.020969 69\n0.331270 575\n0.147041 4\n0.021463 82\n0.062414 223\n0.259374 214\n0.205324 640\n0.517785 7\n0.074097 84\n0.185490 4\n0.244879 3\n0.020523 4\n0.494425 3\n0.021126 4\n0.473412 3\n0.020922 231\n0.275577 659\n0.393991 96\n0.073685 18\n0.739038 23\n0.362110 1460\n3.993881 105\n1.472087 29\n0.000038 45\n0.181182 1493\n0.572536 5\n0.629293 926\n0.000052 123\n0.000029 102\n0.000026 198\n0.000986 62\n0.566632 63\n0.500300 63\n0.050012 63\n0.050848 63\n0.051061 63\n0.050268 63\n0.050486 64\n0.049874 66\n0.050397 3\n0.121099 3\n0.500369 3\n0.050888 3\n0.051046 3\n0.050487 3\n0.049972 2\n0.050808 1\n0.049595 3\n0.051751 3\n0.049521 3\n0.050232 3\n0.050122 3\n0.049964 3\n0.050260 2\n0.050912 1\n0.052566 3\n0.050491 3\n0.051123 3\n0.050908 3\n0.050964 3\n0.051034 3\n0.050917 2\n0.049697 1\n0.049685 3\n0.051067 3\n0.049861 65\n0.065648 65\n0.172919 77\n0.486041 65\n0.173609 65\n0.140181 65\n0.151957 41\n0.154453 118\n0.366949 112\n0.057196 65\n0.012465 181\n0.218578 2\n0.389132 20\n0.129077 2\n0.466092 36\n0.465994 7\n0.000013 33\n0.000558 1484\n0.164402 6\n0.020281 66\n0.991835 8\n0.020840 244\n0.617460 81\n0.020458 537\n0.443690 88\n0.021056 83\n0.042051 83\n0.041730 83\n0.041729 82\n0.062189 241\n0.338309 79\n0.020927 75\n0.021110 613\n0.469878 208\n0.525292 529\n0.262105 88\n0.071338 137\n0.240174 80\n0.273098 223\n0.619744 166\n0.078341 7\n0.020454 82\n0.143623 35\n0.021041 60\n0.145318 46\n0.028050 7\n0.103292 53\n0.103766 35\n0.020943 53\n0.144967 35\n0.020853 3\n0.237401 53\n0.020717 35\n0.020832 53\n0.124431 35\n0.020917 53\n0.145460 4\n0.137957 3\n0.020914 64\n0.020979 75\n0.186279 73\n0.165537 35\n0.115724 162\n0.103111 262\n1.008504 7\n0.054672 57\n0.491492 37\n0.020656 53\n0.513108 35\n0.021091 53\n0.145429 4\n0.264651 3\n0.020821 73\n0.083388 35\n0.020963 57\n0.145288 37\n0.021009 283\n0.353090 75\n0.112132 75\n0.062276 75\n0.041932 69\n0.421916 137\n0.875325 80\n0.164668 262\n0.534820 162\n0.058779 6\n0.020382 60\n0.020703 5\n0.020490 69\n0.144290 7\n0.245162 79\n0.020900 246\n0.479792 82\n0.053831 77\n0.020450 35\n0.020542 53\n0.288738 35\n0.020960 533\n0.103043 53\n0.023419 35\n0.021076 53\n0.124738 35\n0.020897 53\n0.124700 35\n0.020815 211\n0.189292 53\n0.103689 530\n0.396298 223\n0.052022 188\n0.536395 88\n0.074216 59\n0.226955 34\n0.001461 2\n0.000342 85\n0.000101 2\n0.000163 35\n0.000333 2\n0.000158 97\n0.000078 2\n0.000177 56\n0.000163 2\n0.000107 90\n0.000152 2\n0.000134 31\n0.000130 2\n0.000094 92\n0.000161 2\n0.000099 29\n0.000160 2\n0.000095 29\n0.000139 2\n0.000101 2\n0.000171 96\n0.090040 18\n0.649361 23\n0.226228 1780\n0.369812 71\n1.460619 75\n1.493450 65\n0.497133 65\n0.048998 65\n0.050078 65\n0.050804 67\n0.050324 64\n0.050964 64\n0.051088 64\n0.049865 64\n0.050740 63\n0.050477 64\n0.050180 1\n0.162169 1\n0.199544 64\n0.042507 1\n0.101578 1\n0.200147 1\n0.143678 1\n0.160344 68\n0.200155 117\n0.328949 111\n0.063146 64\n0.012575 181\n0.187748 2\n0.206400 20\n0.137600 2\n0.159898 36\n0.429954 7\n0.000013 33\n0.000566 1484\n0.160155 6\n0.020404 66\n0.349793 8\n0.021321 244\n0.564668 81\n0.020494 76\n0.329263 537\n0.115189 88\n0.020930 83\n0.020931 82\n0.041654 82\n0.041902 82\n0.062006 207\n0.357051 7\n0.021043 194\n0.070797 469\n0.413901 84\n0.236506 7\n0.070799 84\n0.020400 137\n0.219002 80\n0.231595 223\n0.342651 166\n0.060943 7\n0.020373 7\n0.431578 7\n0.020753 82\n0.042059 35\n0.021016 60\n0.145872 39\n0.020889 56\n0.319978 35\n0.021091 53\n0.104381 35\n0.020984 53\n0.125473 35\n0.020761 53\n0.308781 35\n0.020654 57\n0.207581 37\n0.020939 137\n0.260987 193\n0.940377 7\n0.081745 3\n0.020330 162\n0.052472 262\n0.757427 7\n0.053939 60\n0.247186 39\n0.020922 137\n0.387313 80\n0.165156 193\n0.473152 162\n0.062886 7\n0.020328 66\n0.436552 7\n0.020923 97\n0.090252 7\n0.049868 246\n0.563397 82\n0.052963 7\n0.020374 64\n0.101966 64\n0.165485 559\n0.161504 71\n0.021109 64\n0.124479 64\n0.186834 242\n0.186867 72\n0.020879 223\n0.259479 461\n0.236959 188\n0.245661 7\n0.074341 84\n0.122515 4\n0.305717 3\n0.020896 4\n0.495178 3\n0.020992 4\n0.472965 3\n0.020964 4\n0.490152 3\n0.020910 4\n0.472644 3\n0.020836 231\n0.087786 7\n0.424838 12\n0.000029 40\n0.000030 36\n0.001480 124\n0.000034 99\n0.000032 252\n0.000248 2\n0.000027 96\n0.082019 18\n1.441210 23\n0.177325 33\n2.417442 125\n0.001496 1255\n0.000534 365\n0.000367 103\n1.391342 29\n0.000038 43\n0.172210 1095\n0.283211 212\n0.910264 889\n0.000439 2\n1.036566 773\n0.000058 214\n0.000089 64\n0.893681 64\n0.497354 65\n0.050445 64\n0.051525 64\n0.050015 64\n0.050400 64\n0.049779 64\n0.049790 64\n0.050250 64\n0.051616 64\n0.050857 63\n0.049972 64\n0.050640 63\n0.050489 63\n0.050462 63\n0.050954 63\n0.049421 62\n0.050781 61\n0.050959 813\n0.285259 311\n0.000108 257\n0.000036 64\n1.611515 64\n0.501104 64\n0.050308 63\n0.052687 63\n4.467810 65\n0.500742 64\n0.050710 64\n0.050329 64\n0.050236 64\n0.049842 64\n0.050318 64\n0.051203 64\n0.050833 64\n0.050475 64\n0.050393 65\n0.050799 64\n0.337694 8\n0.447835 1\n0.199604 1\n0.501169 1\n0.049805 1\n0.050624 1\n0.206262 1\n0.176348 1\n0.159590 76\n0.334493 72\n0.132909 49\n0.127933 45\n0.192056 45\n0.128116 42\n0.770732 42\n0.085059 42\n0.225784 42\n0.327131 42\n0.328096 43\n0.351251 43\n0.635242 113\n0.371924 107\n0.045288 65\n0.012527 15\n2.707596 102\n0.259286 29\n0.000038 45\n0.204940 1436\n0.436299 77\n1.249196 238\n0.000118 1\n0.525330 446\n0.000897 619\n0.000051 4\n0.000821 202\n0.000042 202\n0.407516 730\n0.000038 125\n0.000085 3\n0.000620 290\n0.000033 468\n0.878887 585\n0.000091 5\n0.000925 204\n0.000044 468\n0.606725 1\n0.000084 69\n0.000056 1\n0.000050 53\n0.000051 1\n0.000052 44\n0.000066 1\n0.000049 52\n0.000049 1\n0.000047 79\n0.000050 1\n0.000049 90\n0.000050 1\n0.000047 48\n0.000061 201\n0.000146 90\n0.000170 1\n0.000061 162\n0.000053 109\n0.662003 1\n0.000086 82\n0.000055 1\n0.000050 87\n0.000071 1\n0.000049 59\n0.000048 1\n0.000066 69\n0.000137 1\n0.000048 49\n0.000049 1\n0.000051 23\n0.000050 1\n0.000051 161\n0.000065 1\n0.000048 145\n0.000051 1\n0.000048 79\n0.000048 1\n0.000050 35\n0.000060 58\n0.000134 446\n0.000204 930\n0.876508 320\n0.000037 317\n0.000734 218\n0.517143 987\n0.000050 2\n0.000085 313\n0.000797 76\n0.142211 944\n0.000049 445\n0.000783 294\n0.439093 622\n0.000101 185\n0.000033 178\n0.000067 87\n0.000489 65\n1.767883 1004\n0.000092 239\n0.000713 188\n0.505722 733\n0.000050 90\n0.000029 3\n0.000967 242\n0.000035 64\n0.508946 64\n0.493600 64\n0.050483 64\n0.050809 64\n0.051078 64\n0.051028 64\n0.050475 65\n0.286837 65\n0.127787 1\n0.254634 1\n0.184166 1\n0.166863 1\n0.143405 71\n0.115819 34\n0.146310 118\n0.844865 112\n0.032659 65\n0.011815 75\n0.557002 1004\n0.000198 239\n0.000592 188\n3.366007 733\n0.000043 90\n0.000029 245\n0.000738 42\n1.771573 153\n0.002453 18\n0.783275 82\n0.221193 18\n0.754726 103\n0.323854 29\n0.000038 43\n0.308375 45\n2.240057 44\n0.471981 35\n0.440356 45\n0.311794 47\n0.320088 48\n0.359929 50\n0.384034 48\n0.295935 49\n0.143808 45\n0.122257 44\n0.181889 35\n0.327631 45\n0.392152 44\n0.440321 1797\n0.212625 65\n1.929435 67\n0.218287 65\n0.184045 65\n0.328132 67\n0.151953 65\n0.144360 8\n0.151735 1\n0.087079 1\n0.500131 1\n0.050432 1\n0.051267 1\n0.050725 1\n0.051217 1\n0.050717 1\n0.050663 1\n0.050453 1\n0.051184 1\n0.050846 1\n0.051057 1\n0.050771 1\n0.050686 1\n0.050535 69\n0.294750 32\n0.139773 115\n0.662213 109\n0.051734 65\n0.007882 46\n0.834415 135\n0.001682 2\n0.246321 20\n0.125595 2\n0.211334 36\n0.414260 7\n0.000012 33\n0.000668 1484\n0.163378 6\n0.020319 66\n1.282081 8\n0.020557 244\n0.735890 81\n0.020571 236\n0.292928 76\n0.067176 538\n0.088114 83\n0.021220 83\n0.041671 83\n0.062517 82\n0.041809 82\n0.062461 82\n0.124337 207\n0.184083 194\n0.091373 469\n0.407289 125\n0.329753 84\n0.049087 137\n0.205159 80\n0.168391 244\n0.377203 166\n0.057852 7\n0.020410 82\n0.185463 35\n0.020934 60\n0.124723 39\n0.096076 53\n0.146234 35\n0.020928 53\n0.103652 35\n0.020742 3\n0.240215 53\n0.020809 35\n0.020893 53\n0.228171 35\n0.020470 57\n0.275365 37\n0.020669 137\n0.263132 193\n0.761740 7\n0.086506 3\n0.020349 263\n0.105314 162\n0.062649 356\n0.891137 78\n0.112453 137\n0.239001 80\n0.195821 263\n0.353152 162\n0.058920 7\n0.020424 71\n0.102074 7\n0.331192 239\n0.401913 82\n0.053675 7\n0.020444 64\n0.143256 64\n0.166635 559\n0.124848 71\n0.020840 64\n0.145304 64\n0.166232 242\n0.188413 72\n0.021030 223\n0.260205 461\n0.238883 188\n0.346537 7\n0.074276 84\n0.102164 231\n0.087743 52\n0.626480 111\n0.056713 42\n0.020466 38\n0.020823 38\n0.020744 38\n0.020704 38\n0.020716 38\n0.020692 38\n0.020737 38\n0.021427 38\n0.021195 40\n0.021377 38\n0.021308 38\n0.021194 38\n0.021365 38\n0.021427 38\n0.021227 38\n0.021311 38\n0.020845 49\n0.109113 51\n0.021264 52\n0.021689 51\n0.021594 51\n0.021077 51\n0.021720 51\n0.021969 51\n0.021233 51\n0.021605 51\n0.021779 52\n0.021596 51\n0.021557 52\n0.021691 51\n0.021527 51\n0.021550 51\n0.021607 51\n0.021586 51\n0.021967 42\n0.021244 38\n0.021219 105\n0.125461 42\n0.021120 40\n0.021409 38\n0.021373 38\n0.021318 38\n0.021210 38\n0.021429 38\n0.021208 38\n0.021288 38\n0.021336 38\n0.021258 38\n0.021204 40\n0.021227 38\n0.021252 38\n0.021257 38\n0.021163 38\n0.021284 38\n0.021243 38\n0.021279 38\n0.021339 45\n0.105146 42\n0.021337 40\n0.021810 38\n0.021461 38\n0.021421 38\n0.021204 38\n0.021239 38\n0.023163 38\n0.020081 38\n0.021643 38\n0.021288 38\n0.021046 40\n0.021283 38\n0.021214 38\n0.021306 38\n0.021753 38\n0.021272 38\n0.021422 38\n0.021525 7\n0.020841 85\n0.128057 7\n0.020948 8\n0.477399 7\n0.021156 78\n0.186945 104\n0.310884 7\n0.023422 8\n0.478577 7\n0.021025 72\n0.494419 7\n0.020886 117\n0.353835 6\n0.119488 7\n0.021139 72\n0.310656 69\n0.174441 69\n0.987409 7\n0.041016 52\n0.000035 36\n0.001086 197\n0.000064 179\n0.000332 96\n0.086536 18\n0.296440 2\n0.360915 36\n0.410761 7\n0.000013 33\n0.000566 1484\n0.166441 6\n0.020289 471\n0.644092 96\n0.079372 18\n0.269596 23\n0.137747 33\n0.313294 125\n0.002462 1346\n0.000456 607\n0.000350 5\n0.828912 917\n0.000054 762\n0.000797 534\n0.668849 497\n0.000047 306\n0.000677 1421\n1.284353 328\n0.000158 5\n0.848536 1024\n0.000076 561\n0.000572 5\n0.499098 917\n0.000121 437\n0.000034 320\n0.000621 4\n0.408236 1024\n0.000049 89\n0.000078 466\n0.000718 5\n0.678189 917\n0.000052 2\n0.000663 435\n0.000034 320\n0.000347 103\n0.521101 29\n0.000037 45\n0.244071 1436\n0.500426 102\n2.535030 29\n0.000040 41\n0.228425 1805\n0.613387 103\n6.894680 29\n0.000790 45\n0.131203 46\n0.160428 45\n0.415894 1436\n0.188300 65\n1.214495 1004\n0.000052 239\n0.000659 93\n1.015570 975\n0.000476 62\n0.613732 63\n0.239364 100\n0.906032 29\n0.000038 41\n0.157045 43\n0.520593 1487\n0.547735 65\n1.480966 1\n0.314433 1\n0.500929 1\n0.050215 1\n0.050331 1\n0.050652 1\n0.050227 1\n0.050640 1\n0.050719 1\n0.050209 1\n0.049582 1\n0.051183 1\n0.051809 1\n0.049375 1\n0.051410 1\n0.050664 1\n0.050581 1\n0.050120 1\n0.050290 70\n0.882004 32\n0.035978 32\n0.455774 112\n0.543087 106\n0.035039 65\n0.012928 71\n8.708354 8\n0.242369 1\n0.223728 70\n0.385564 30\n0.369827 53\n0.000997 47\n0.001639 15\n0.617925 113\n0.033311 107\n0.029497 65\n0.019816 178\n0.646895 2\n0.238009 20\n0.121326 2\n0.231686 36\n0.436812 7\n0.000013 33\n0.000566 1484\n0.185811 6\n0.020271 66\n0.123606 8\n0.020835 244\n0.555180 81\n0.020451 537\n0.446789 88\n0.022053 83\n0.020882 83\n0.042231 82\n0.042937 82\n0.062553 82\n0.041749 88\n0.315798 119\n0.000242 194\n0.029958 529\n0.669836 90\n0.050646 7\n0.020382 137\n0.137521 80\n0.164684 342\n0.435014 166\n0.059450 7\n0.020379 7\n0.423445 7\n0.020957 82\n0.186707 35\n0.020829 60\n0.144611 39\n0.021014 53\n0.174807 35\n0.021131 53\n0.103732 35\n0.020905 53\n0.124365 35\n0.020875 53\n0.157449 35\n0.021043 137\n0.158681 193\n1.046132 263\n0.079166 162\n0.029772 356\n0.734305 78\n0.112370 137\n0.197309 80\n0.230038 263\n0.347143 162\n0.059017 7\n0.020415 71\n0.061476 246\n0.649912 82\n0.053174 7\n0.020369 64\n0.122635 75\n0.186538 35\n0.020815 533\n0.098956 53\n0.062589 35\n0.020900 53\n0.166163 35\n0.020525 53\n0.103715 35\n0.020858 211\n0.125709 53\n0.020767 530\n0.473796 223\n0.031745 188\n0.554658 88\n0.073410 231\n0.084461 52\n0.744236 111\n0.055851 42\n0.020559 38\n0.020524 38\n0.020710 38\n0.020600 38\n0.020717 38\n0.020735 38\n0.020487 38\n0.021400 38\n0.021274 40\n0.021236 38\n0.021370 38\n0.021181 38\n0.021488 38\n0.021338 38\n0.021209 38\n0.021291 38\n0.021411 45\n0.105580 42\n0.021361 40\n0.021231 38\n0.021327 38\n0.021277 38\n0.021286 38\n0.021324 38\n0.021317 38\n0.021281 38\n0.021362 38\n0.022684 38\n0.021221 40\n0.021350 38\n0.021179 38\n0.021367 38\n0.021145 38\n0.021274 38\n0.021429 38\n0.021198 38\n0.021182 105\n0.122489 42\n0.020992 40\n0.021397 38\n0.021468 38\n0.021053 38\n0.021621 38\n0.021359 38\n0.020961 38\n0.021350 38\n0.021190 38\n0.021357 38\n0.021275 40\n0.021145 38\n0.021251 38\n0.021418 38\n0.021229 38\n0.021274 38\n0.021224 38\n0.021329 38\n0.021330 45\n0.104436 42\n0.021534 40\n0.021268 38\n0.021221 38\n0.023187 38\n0.021288 38\n0.021370 38\n0.021267 38\n0.021478 38\n0.021246 38\n0.021118 38\n0.021281 40\n0.021257 38\n0.021114 38\n0.021245 38\n0.021359 38\n0.021142 38\n0.022315 38\n0.020419 46\n0.021187 111\n0.124234 38\n0.021325 38\n0.021308 38\n0.021261 38\n0.021329 38\n0.021347 38\n0.021408 38\n0.020957 38\n0.021322 40\n0.021655 38\n0.021216 38\n0.021332 38\n0.023898 38\n0.021360 38\n0.021255 38\n0.022771 38\n0.019780 7\n0.020807 8\n0.144035 7\n0.020934 85\n0.495568 7\n0.020753 8\n0.477388 7\n0.020995 85\n0.499036 7\n0.020956 8\n0.477307 7\n0.021094 78\n0.249398 148\n0.065148 81\n0.176344 78\n0.020950 69\n0.964030 7\n0.965543 12\n0.000138 40\n0.000176 36\n0.001253 505\n0.000401 96\n0.076112 18\n0.226142 23\n0.129469 2\n0.191109 1896\n0.004428 65\n1.649134 61\n0.203517 1\n0.231388 1\n0.500172 1\n0.050592 1\n0.051077 1\n0.049826 1\n0.051380 1\n0.050508 1\n0.051535 1\n0.050271 1\n0.050423 1\n0.051210 1\n0.051280 1\n0.050728 1\n0.051505 70\n0.401587 32\n0.106568 32\n0.127903 32\n0.136625 32\n0.046901 32\n0.096475 115\n0.565135 109\n0.052147 65\n0.005092 17\n9.982614 70\n0.048708 75\n13.740185 63\n0.268038 65\n0.256826 420\n0.370411 329\n0.000034 210\n0.000084 71\n0.931752 18\n6.128178 105\n0.258889 29\n0.000041 45\n0.334589 1\n1.008740 49\n0.001824 2\n0.000453 1\n0.000066 108\n0.000070 1\n0.000050 215\n0.000056 1\n0.000049 1\n0.000052 224\n0.000056 1\n0.000059 1\n0.000047 216\n0.000055 1\n0.000048 41\n0.000062 1\n0.000050 111\n0.000057 63\n0.000122 149\n0.000139 101\n1.485626 29\n0.000038 43\n0.205049 1096\n0.331413 65\n3.095203 65\n0.165835 64\n0.168306 62\n0.159887 64\n0.159679 69\n1.565635 32\n1.156944 3\n0.252644 3\n0.176023 32\n0.563324 32\n0.253736 61\n9.865178 65\n0.174797 62\n0.151899 1\n0.150740 32\n0.892672 32\n0.143417 64\n18.559130 65\n0.158070 64\n0.143941 3\n0.111021 32\n1.227425 32\n0.183831 115\n2.398511 109\n0.045541 64\n0.014668 17\n0.378347 3\n0.143893 69\n6.141721 32\n0.573381 64\n0.598976 65\n0.182527 65\n0.199982 1\n0.367346 1\n0.500952 1\n0.050199 1\n0.051806 1\n0.051312 1\n0.050525 1\n0.239126 70\n0.420262 32\n1.151741 32\n0.255357 3\n0.212819 31\n0.290952 31\n0.103901 32\n0.665089 32\n0.383277 32\n0.343754 116\n0.694144 110\n0.051979 65\n0.012149 18\n4.630533 71\n0.040344 18\n2.799703 71\n0.056434 18\n3.394408 105\n0.336411 29\n0.000038 45\n0.389063 1187\n0.587589 101\n1.719570 29\n0.000082 43\n0.180911 1\n0.249874 49\n0.001380 3\n0.000475 473\n0.000071 2\n0.000382 305\n0.000042 3\n0.000343 104\n0.000063 162\n0.000291 71\n0.491005 181\n0.784901 2\n0.318009 20\n0.137573 2\n0.215564 36\n0.462168 7\n0.000013 33\n0.000694 1484\n0.159367 6\n0.020393 66\n1.569388 8\n0.020776 244\n0.617641 81\n0.020313 236\n0.104133 538\n0.337603 83\n0.020914 83\n0.021034 83\n0.041617 82\n0.062754 82\n0.041663 82\n0.186732 207\n0.162964 194\n0.111496 469\n0.387396 125\n0.326426 84\n0.047559 137\n0.155998 80\n0.185326 244\n0.404646 166\n0.056906 7\n0.020279 7\n0.423442 84\n0.020977 35\n0.020689 60\n0.104956 39\n0.020831 53\n0.165645 35\n0.020908 53\n0.171355 35\n0.020397 53\n0.061234 35\n0.020406 53\n0.125209 35\n0.020826 53\n0.357761 35\n0.020905 53\n0.384649 64\n0.165759 5\n0.325266 283\n0.025746 73\n0.046113 162\n0.348779 356\n0.942727 78\n0.074922 137\n0.239424 80\n0.232287 263\n0.407268 162\n0.062426 7\n0.020369 137\n0.343748 80\n0.181135 193\n0.475444 166\n0.063981 56\n0.020463 39\n0.020444 196\n0.614576 4\n0.076854 57\n0.289327 37\n0.020979 374\n0.130911 57\n0.021084 37\n0.020881 57\n0.145890 37\n0.020909 57\n0.124604 37\n0.021070 199\n0.203207 60\n0.020483 5\n0.020422 69\n0.123658 373\n0.337377 232\n0.039213 206\n0.561289 7\n0.135196 239\n0.192565 75\n0.025902 19\n0.238334 40\n0.000030 36\n0.001297 474\n0.000311 96\n0.088011 18\n0.733886 23\n0.177300 1469\n0.442426 203\n1.521016 1\n0.000359 760\n0.000101 2\n0.000241 1\n0.000051 1\n0.000048 287\n0.000062 2\n0.000201 1\n0.000047 1\n0.000057 184\n0.000062 1\n0.000050 1\n0.000045 124\n0.000051 92\n1.082166 868\n0.000522 63\n0.513026 63\n0.500171 63\n0.050736 63\n0.051418 63\n0.052234 64\n0.050884 64\n0.406277 63\n0.432215 3\n0.494741 3\n0.500107 3\n0.051472 3\n0.050831 3\n0.050362 3\n0.050534 2\n0.051086 1\n0.051145 3\n0.050946 3\n0.050955 3\n0.050998 3\n0.050445 3\n0.050375 3\n0.051203 2\n0.050919 1\n0.050943 3\n0.052399 3\n0.049780 3\n0.051235 3\n0.049411 3\n0.050588 3\n0.050005 2\n0.051062 1\n0.050076 3\n0.050842 3\n0.050536 3\n0.051406 3\n0.050755 3\n0.052085 3\n0.050216 2\n0.050954 1\n0.050351 3\n0.050631 69\n1.660492 3\n0.136802 3\n0.184279 3\n0.151943 3\n0.152004 32\n0.179122 64\n0.174781 65\n0.158766 65\n0.151914 1\n0.240448 1\n0.167425 1\n0.887509 3\n0.351928 32\n0.076575 1\n0.107486 1\n0.168064 1\n0.151690 1\n0.144311 1\n0.152074 32\n0.115230 116\n0.726211 110\n0.051449 65\n0.011400 181\n0.680757 2\n0.486271 20\n0.145392 2\n0.321407 43\n0.448557 33\n0.000592 1484\n0.164867 6\n0.020387 66\n0.576784 8\n0.020835 244\n0.585116 81\n0.020342 537\n0.447561 88\n0.021136 83\n0.041648 83\n0.062349 82\n0.041812 82\n0.206489 240\n0.174378 79\n0.021110 194\n0.153684 173\n0.190836 469\n0.146600 125\n0.294447 84\n0.067990 82\n0.561256 137\n0.260626 80\n0.159758 245\n0.408622 166\n0.057038 4\n0.020329 60\n0.061190 39\n0.020531 53\n0.185724 1\n0.020921 53\n0.159450 1\n0.020568 53\n0.103663 1\n0.020839 53\n0.124072 1\n0.020775 3\n0.248723 137\n0.055802 193\n0.896655 60\n0.083580 137\n0.088850 193\n0.817189 82\n0.086062 235\n0.022359 73\n0.124369 162\n0.163062 356\n0.861385 78\n0.050786 137\n0.177608 80\n0.164694 263\n0.409609 162\n0.059032 7\n0.020307 137\n0.198601 80\n0.145164 193\n0.465737 166\n0.063456 3\n0.020424 196\n0.457949 4\n0.076677 60\n0.081853 5\n0.020342 66\n0.228183 415\n0.111090 79\n0.021110 73\n0.144969 73\n0.145840 224\n0.215489 76\n0.021023 232\n0.240846 393\n0.281978 198\n0.223594 7\n0.077343 75\n0.040974 7\n0.214027 7\n0.048604 7\n0.141055 58\n0.354220 123\n0.059434 43\n0.020525 38\n0.020611 38\n0.020682 38\n0.020984 38\n0.020730 102\n0.020781 38\n0.020734 38\n0.021292 38\n0.021294 40\n0.021469 38\n0.021147 38\n0.021269 256\n0.027462 38\n0.026539 38\n0.021239 38\n0.021387 93\n0.021310 44\n0.107121 43\n0.021225 40\n0.021260 38\n0.021313 38\n0.021312 38\n0.021353 38\n0.021215 38\n0.021242 38\n0.021236 38\n0.021171 38\n0.021348 38\n0.021250 40\n0.021133 38\n0.021238 38\n0.021241 38\n0.021208 38\n0.021203 38\n0.021245 38\n0.021198 38\n0.021150 82\n0.124332 98\n0.021474 40\n0.021236 38\n0.021338 38\n0.021267 38\n0.021262 38\n0.021153 38\n0.021255 38\n0.021304 38\n0.021136 38\n0.021230 38\n0.021109 40\n0.021216 38\n0.021329 38\n0.021074 38\n0.021328 38\n0.021255 38\n0.021193 38\n0.021206 38\n0.021318 44\n0.103391 43\n0.021155 40\n0.021250 38\n0.021300 38\n0.021105 38\n0.021334 38\n0.021075 38\n0.021250 38\n0.021191 38\n0.021248 38\n0.021236 38\n0.021325 40\n0.021113 38\n0.021236 38\n0.021356 38\n0.021155 38\n0.021271 38\n0.020861 38\n0.021370 38\n0.021230 82\n0.123382 45\n0.021222 38\n0.021313 38\n0.021236 38\n0.021238 38\n0.021287 38\n0.021227 38\n0.021269 38\n0.021395 38\n0.021261 38\n0.021243 40\n0.021219 38\n0.021268 38\n0.021244 38\n0.020879 38\n0.021354 38\n0.021249 7\n0.020472 7\n0.145294 7\n0.020602 66\n0.494532 7\n0.020815 7\n0.478123 7\n0.020894 66\n0.494771 7\n0.020881 7\n0.477313 7\n0.020865 208\n0.312339 65\n0.176895 65\n0.988129 65\n0.989132 65\n0.983957 137\n0.765181 69\n0.247331 80\n0.041926 247\n0.587661 162\n0.059268 7\n0.020368 7\n0.429561 7\n0.020876 66\n0.490888 7\n0.020999 7\n0.472772 7\n0.020814 66\n0.493778 7\n0.020867 471\n0.193891 96\n0.073082 18\n0.308372 23\n0.105333 9\n0.198417 1464\n0.003651 71\n0.941172 74\n21.410756 62\n0.498586 64\n0.051409 64\n0.050211 64\n0.050711 64\n0.051714 62\n0.049930 64\n0.050480 629\n0.054616 501\n0.000040 2\n0.000096 2\n0.000782 261\n0.000035 65\n0.045590 65\n0.050474 62\n0.050632 63\n0.049673 67\n30.294275 12\n12.015400 103\n0.261075 29\n0.000060 45\n0.315268 1165\n0.587742 5\n1.423045 910\n0.000046 2\n0.000073 419\n0.000718 188\n0.377150 733\n0.000043 90\n0.000072 247\n0.000663 152\n0.504884 860\n0.000047 326\n0.000996 93\n0.000029 70\n0.444168 918\n0.000044 494\n0.000622 930\n0.382537 343\n0.000036 95\n0.000082 188\n0.000628 217\n0.773272 1\n0.001162 739\n0.000107 196\n0.000228 1\n0.000059 51\n0.000051 2\n0.000211 1\n0.000294 56\n0.000071 1\n0.000059 61\n0.000051 1\n0.000056 66\n0.000049 1\n0.000057 126\n0.000059 4\n1.419527 911\n0.000110 105\n0.000028 445\n0.000529 101\n1.419985 29\n0.000037 43\n0.132579 44\n0.168055 1882\n0.740881 103\n1.174849 29\n0.000034 45\n0.116248 46\n0.159959 45\n0.169572 1\n0.422278 49\n0.004736 769\n0.000447 232\n0.000390 459\n0.000316 6\n1.218985 1212\n0.000685 5\n0.625061 881\n0.000040 307\n0.000565 47\n0.453729 1022\n0.000652 5\n0.132685 901\n0.000051 195\n0.000730 214\n0.000032 2\n0.191125 906\n0.000047 902\n0.000761 62\n4.250606 63\n0.239217 63\n0.207856 63\n0.192058 63\n0.167926 64\n0.184464 63\n0.183598 64\n0.879599 61\n12.644768 65\n0.347733 65\n0.215878 65\n0.240410 65\n1.304114 4\n0.391552 139\n1.622051 682\n0.000112 169\n1.771990 741\n0.000049 694\n0.001080 268\n0.000060 64\n1.419614 64\n0.493511 64\n0.050931 66\n0.049754 64\n0.050937 64\n0.050308 64\n0.050427 64\n0.279041 64\n0.224184 64\n1.296298 8\n0.327325 25\n0.696082 149\n0.000042 2\n0.309731 28\n0.452319 28\n0.192081 28\n0.160028 55\n0.111827 28\n0.096333 28\n0.223783 28\n0.144097 28\n0.047914 4\n0.513383 4\n0.118966 28\n0.165995 28\n0.097811 28\n0.039947 28\n0.312103 28\n0.207898 28\n0.128234 28\n0.055986 28\n0.064185 28\n0.271902 28\n0.143777 28\n0.095915 28\n0.256818 28\n0.375554 28\n0.039833 28\n0.216198 28\n0.112847 28\n0.183293 35\n0.301198 1\n0.439347 118\n0.017282 112\n0.032776 65\n0.013381 181\n0.289900 2\n0.197842 20\n0.137432 2\n0.169607 36\n0.393113 7\n0.000012 33\n0.000541 1484\n0.162913 6\n0.020410 408\n0.977649 96\n0.075092 18\n0.703668 23\n0.409347 33\n0.513155 125\n0.001818 921\n0.000416 662\n0.000355 530\n0.000268 1\n0.683212 1\n0.502503 1\n0.047952 1\n0.049935 1\n0.050166 1\n0.051005 1\n0.050704 1\n0.051250 1\n0.049972 1\n0.050301 1\n0.050092 1\n0.050042 1\n0.050770 1\n0.051256 1\n0.049835 1\n0.051021 3\n0.464717 73\n0.327518 32\n0.100114 32\n0.200548 32\n0.087418 32\n0.159846 32\n0.048138 32\n0.064312 118\n0.461893 112\n0.047923 65\n0.013037 181\n0.162669 2\n0.166199 20\n0.129355 2\n0.145440 36\n0.462108 7\n0.000012 33\n0.000586 1484\n0.159926 6\n0.020444 60\n0.473850 40\n0.020944 60\n0.165564 40\n0.020836 60\n0.249495 40\n0.020835 66\n0.310630 8\n0.020653 85\n0.394015 83\n0.186462 236\n0.170059 147\n0.055269 52\n0.778069 262\n7.754138 73\n0.069917 147\n0.338872 282\n1.884566 64\n0.076134 147\n0.277840 88\n0.996744 91\n0.549107 282\n0.542992 70\n0.197885 70\n0.165460 85\n0.354714 147\n0.111937 229\n1.307640 70\n0.404287 245\n0.665586 505\n0.484493 245\n0.502452 76\n0.021116 538\n0.457711 116\n0.253331 201\n0.266036 394\n0.495149 201\n0.512345 394\n0.489731 201\n0.513019 79\n0.062805 550\n0.467711 83\n0.342215 83\n0.355042 147\n0.463704 326\n1.219971 70\n0.096874 70\n0.205518 64\n0.812900 147\n0.407205 210\n0.803263 73\n0.096302 147\n1.007880 229\n1.236102 471\n1.723580 96\n0.076501 18\n0.216861 23\n0.145477 2278\n0.179455 3\n1.259969 1\n0.127362 1\n0.192101 1\n0.167940 1\n0.136074 70\n0.694761 36\n0.236834 118\n0.597934 112\n0.051945 65\n0.013174 40\n2.504860 1005\n0.000051 424\n0.000762 6\n0.182834 854\n0.000040 87\n0.000037 271\n0.000741 98\n0.318783 788\n0.000055 154\n0.000085 153\n0.000571 61\n0.263995 850\n0.000052 629\n0.000583 99\n0.469791 849\n0.000053 5\n0.000028 394\n0.000087 318\n0.000757 553\n0.281239 660\n0.000038 1\n0.000076 264\n0.000535 130\n0.000038 650\n0.509859 586\n0.000150 118\n0.000600 64\n1.034064 65\n0.179220 64\n0.160431 64\n0.160142 64\n0.143887 64\n0.152059 64\n0.135617 8\n0.183869 25\n0.254804 148\n0.000046 1\n0.221397 28\n0.229279 28\n0.192113 28\n0.087519 2\n0.105116 52\n0.000033 28\n0.096733 28\n0.071119 28\n0.055419 28\n0.207976 28\n0.112352 28\n0.119787 4\n0.352054 4\n0.120891 4\n0.127062 28\n0.064054 28\n0.119918 28\n0.160430 28\n0.120677 3\n0.135420 28\n0.199127 3\n0.056352 28\n0.135875 28\n0.181440 28\n0.111930 118\n0.578680 112\n0.060580 65\n0.012541 58\n2.863673 877\n0.000049 345\n0.000577 861\n0.410039 456\n0.000038 452\n0.000725 64\n2.128155 64\n0.495003 64\n0.050905 65\n0.050796 64\n0.051746 64\n0.049638 64\n0.050437 64\n0.050136 64\n0.050762 64\n0.050067 64\n0.049904 8\n0.364805 25\n0.262257 148\n0.000034 1\n0.102553 28\n0.268940 28\n0.184039 28\n0.128242 2\n0.128206 52\n0.000099 2\n0.175671 32\n0.000028 2\n0.568224 55\n0.000031 28\n0.231528 28\n0.103742 2\n0.416459 28\n0.119950 3\n0.111938 28\n1.776494 28\n0.199806 99\n0.311955 1\n0.130742 28\n0.332819 5\n0.447962 28\n0.079884 28\n0.144138 28\n0.056005 2\n0.128331 52\n0.000031 28\n0.063928 28\n0.351756 1\n0.312094 1\n0.000030 28\n0.079888 28\n0.200076 28\n0.096076 1\n0.621773 1\n0.127381 32\n0.146865 870\n0.180722 255\n0.000074 297\n0.000688 95\n0.609210 865\n0.000040 130\n0.000031 26\n0.000601 184\n0.000031 62\n0.631124 63\n0.159616 7\n0.271461 1\n0.191635 1\n0.192040 1\n0.151980 1\n0.103976 39\n0.316663 39\n0.120010 36\n0.215633 36\n0.224304 36\n0.103816 63\n0.112257 36\n0.119895 36\n0.208054 3\n0.315248 34\n0.252667 32\n0.128303 30\n0.144050 30\n0.167959 30\n0.128202 57\n0.079897 30\n0.159998 30\n0.272081 117\n0.556478 111\n0.043095 64\n0.012987 15\n1.424586 1140\n0.000051 2\n0.000132 56\n0.000480 214\n0.000031 1424\n1.123211 68\n2.546200 256\n1.164702 725\n0.000045 3\n0.000076 649\n0.000701 148\n0.778858 903\n0.000051 917\n0.000719 62\n1.456104 63\n0.499778 65\n0.050851 63\n0.050336 63\n0.050398 63\n0.051389 63\n0.050760 64\n0.050176 64\n0.050538 64\n0.050813 64\n0.050748 64\n0.049611 65\n0.049895 64\n0.051599 64\n0.050538 64\n0.051129 64\n0.050653 8\n0.892507 25\n0.550486 149\n0.000040 8\n0.247385 2\n0.428327 1\n0.000028 62\n0.507286 28\n0.468022 5\n0.480659 1\n0.000030 28\n0.263521 51\n0.088119 3\n0.487988 1\n1.816783 33\n0.135263 5\n0.128137 1\n0.000045 28\n0.471885 28\n0.087546 28\n0.048937 28\n0.223394 3\n0.080206 53\n0.000058 3\n0.167977 28\n0.215997 46\n0.508819 8\n0.731165 1\n0.130368 3\n0.157631 34\n0.000045 4\n0.159906 4\n0.167922 4\n0.152162 6\n0.136221 62\n0.507235 3\n2.796591 3\n0.175807 3\n0.184057 3\n0.191653 28\n0.248629 28\n0.143675 28\n0.655865 28\n0.128322 28\n0.199879 3\n0.103936 66\n0.216905 3\n0.136462 28\n0.072564 28\n0.150916 28\n0.120004 55\n0.079758 28\n0.120058 28\n0.136474 54\n0.001200 47\n0.001513 44\n0.076751 28\n0.200308 28\n0.232057 4\n0.655812 28\n0.216070 28\n0.280354 28\n0.215350 7\n0.376469 118\n0.000085 8\n0.122902 115\n0.834626 109\n0.036667 65\n0.043522 81\n1.369368 28\n0.151525 4\n3.180167 12\n0.164112 28\n1.356109 28\n0.195466 28\n0.024502 28\n0.215608 57\n0.063912 3\n0.128124 28\n0.320121 3\n0.336098 28\n8.541017 8\n0.802905 28\n0.135731 28\n0.064035 28\n0.432468 28\n0.143670 28\n0.208036 3\n3.837369 28\n0.394554 3\n0.224017 28\n0.224077 3\n0.456774 36\n0.093999 2\n0.301862 29\n0.000033 3\n0.299302 28\n1.235827 28\n0.140705 3\n0.183601 28\n0.223986 3\n0.192360 1\n0.659567 8\n0.805157 28\n1.058800 49\n0.036497 2\n0.087952 28\n0.763699 6\n0.796447 1\n0.000031 28\n0.143782 28\n0.144088 66\n0.859994 8\n0.095625 28\n0.283730 28\n0.184027 28\n0.039938 28\n0.448100 57\n0.143980 3\n0.200411 28\n0.716791 3\n0.186617 28\n6.917441 28\n0.074919 4\n0.669066 28\n0.514926 28\n0.548816 28\n0.483611 28\n0.087232 3\n0.224389 28\n0.183993 3\n0.111780 28\n0.152014 3\n0.336078 36\n0.103525 2\n0.357191 29\n0.000031 3\n0.115149 28\n0.208141 28\n0.254225 3\n0.081496 28\n0.548021 49\n0.037756 2\n0.079062 28\n0.079830 7\n0.772007 28\n0.460019 175\n0.624546 767\n0.000047 83\n0.000070 497\n0.000715 8\n0.210236 28\n0.283925 28\n0.192074 28\n0.031687 28\n0.240343 57\n0.056256 3\n0.111844 28\n0.160003 49\n0.509720 56\n0.001294 47\n0.001038 18\n0.018126 28\n0.925737 28\n0.095868 28\n5.328663 28\n1.479547 28\n0.184043 3\n0.200060 28\n0.456308 3\n0.071363 28\n1.752311 28\n0.184008 28\n0.080359 55\n0.119614 28\n0.104032 28\n0.071770 3\n0.672873 36\n0.188065 14\n0.451710 1\n0.143720 36\n0.261409 36\n0.311330 3\n0.195173 28\n0.224141 33\n0.508369 29\n0.000049 28\n0.291331 1\n0.568133 28\n0.319926 49\n0.480480 3\n0.095554 28\n0.176373 28\n0.112095 169\n0.472189 8\n0.170916 28\n0.212237 28\n0.183602 28\n0.032420 28\n0.207872 57\n0.072048 3\n0.119840 28\n0.232128 49\n0.509736 3\n0.186287 28\n0.352083 28\n1.640638 28\n2.511616 1\n0.191653 1\n0.360533 4\n0.182299 4\n0.089500 28\n0.271825 28\n0.343987 28\n0.207922 28\n0.135954 3\n0.351964 28\n0.248857 3\n0.159498 28\n0.168011 28\n0.296029 28\n0.095729 55\n0.152112 28\n0.063843 28\n0.385110 36\n0.284673 36\n0.223527 3\n0.138945 28\n0.247978 28\n0.103845 1\n0.280074 28\n0.185798 49\n0.238885 3\n0.103898 28\n0.248026 28\n0.111939 4\n0.480166 8\n0.136005 28\n0.135554 33\n0.508460 29\n0.000049 170\n0.235944 65\n0.147068 28\n0.564123 51\n0.112030 2\n0.120213 28\n0.295782 28\n0.192099 28\n0.144735 46\n0.509551 3\n0.017571 1\n0.328236 28\n0.223537 28\n0.152151 28\n0.128354 33\n0.303505 1\n0.096313 1\n0.000387 1\n0.000218 28\n0.191394 28\n0.239676 3\n0.088351 28\n0.042240 28\n0.167598 28\n0.078663 55\n0.081188 28\n0.095419 28\n0.062857 28\n0.100132 28\n0.208349 28\n0.059358 4\n0.427076 4\n0.089330 28\n0.272779 33\n0.507529 29\n0.000050 28\n0.119483 28\n0.208110 28\n0.111934 28\n0.356223 169\n3.516129 2\n0.155767 1\n0.000033 65\n0.637641 1\n0.258673 34\n0.586955 48\n0.509794 4\n0.103895 1\n0.151410 30\n0.666842 11\n0.221454 23\n0.000092 4\n0.250997 33\n0.000035 33\n0.087629 10\n0.493029 24\n0.000091 65\n0.380913 28\n0.478103 28\n0.168464 28\n0.238860 4\n0.264907 28\n0.135592 55\n0.064902 28\n0.143495 28\n0.119674 28\n0.024236 28\n0.231845 28\n0.144036 33\n0.508232 29\n0.000050 4\n0.123867 28\n0.175830 28\n0.175986 28\n0.104302 3\n1.272165 28\n0.168295 3\n0.087686 28\n0.159603 28\n0.168579 28\n0.119756 28\n0.272354 28\n0.095643 169\n0.328399 2\n0.083503 1\n0.000031 28\n0.219619 28\n0.240179 28\n0.120478 55\n0.087161 28\n0.152425 28\n1.272001 28\n0.176407 28\n0.087665 28\n0.087569 28\n0.496288 28\n0.160121 28\n0.104022 28\n0.144054 28\n0.047702 28\n0.128396 28\n0.031587 28\n0.151992 28\n0.192598 28\n0.095859 28\n0.080025 28\n0.095598 28\n0.288587 28\n0.152061 28\n0.096319 28\n0.239654 4\n0.551971 28\n0.199893 28\n0.216064 28\n0.160010 28\n0.168223 28\n0.359888 28\n0.088057 35\n0.317471 2\n0.478720 118\n0.041395 112\n0.038674 65\n0.013985 46\n0.273497 135\n0.001762 2\n0.622092 20\n0.145503 2\n0.183529 36\n0.441701 7\n0.000012 33\n0.000532 1484\n0.160124 6\n0.020363 17\n0.672245 56\n1.988938 69\n0.496542 81\n0.166070 35\n0.310932 7\n0.164102 17\n1.649961 13\n0.296241 471\n0.746009 96\n0.072903 18\n0.268112 23\n0.129482 33\n0.185442 125\n0.002576 907\n0.000688 694\n0.000543 503\n0.000420 65\n1.519178 65\n0.195656 66\n0.192006 65\n0.168121 1\n0.238587 1\n0.500381 1\n0.050861 1\n0.049852 1\n0.050720 1\n0.050415 1\n0.050529 1\n0.050291 1\n0.050595 1\n0.050367 1\n0.050932 1\n0.049386 1\n0.050545 1\n0.049936 65\n54.155853 66\n0.220200 65\n0.200111 65\n0.191734 1\n0.215278 3\n0.500445 3\n0.050310 3\n0.050206 3\n0.051125 3\n0.050172 3\n0.050282 2\n0.050808 1\n0.054980 3\n0.051038 3\n0.050167 1\n0.448614 72\n0.150683 3\n0.113202 3\n0.160013 3\n0.143848 34\n0.115915 118\n0.781724 112\n0.050111 65\n0.013819 46\n0.134141 39\n0.001383 96\n0.000855 2\n0.309462 20\n0.145362 2\n0.215676 36\n0.427321 7\n0.000012 33\n0.000562 1484\n0.188180 6\n0.020229 11\n0.457949 8\n0.061829 58\n0.593539 35\n0.020881 60\n0.144656 40\n0.020853 60\n0.207027 40\n0.020836 60\n0.433431 40\n0.021045 61\n0.165816 236\n0.025402 70\n0.189698 64\n0.165403 64\n0.164873 83\n0.186285 83\n0.124030 82\n0.186285 82\n0.165194 82\n0.165367 35\n0.144418 8\n0.163641 59\n0.429288 69\n0.144914 73\n0.186412 72\n0.165720 1945\n0.351855 60\n0.428245 64\n0.268046 82\n0.227547 35\n0.144206 8\n0.286148 60\n0.082313 69\n0.495302 69\n0.041853 69\n0.062157 70\n0.041644 70\n0.062259 70\n0.041573 70\n0.041516 70\n0.062086 70\n0.041404 70\n0.061952 70\n0.041482 70\n0.062211 70\n0.041563 70\n0.123918 70\n0.185889 65\n0.185055 65\n0.164558 65\n0.185249 65\n0.534369 65\n0.184820 65\n1.006485 65\n0.164674 83\n0.206802 64\n0.618091 64\n0.495938 64\n0.062290 64\n0.041620 64\n0.041510 73\n0.062062 73\n0.041558 64\n0.062194 64\n0.041806 64\n0.062196 64\n0.041650 64\n0.062482 73\n0.041569 54\n0.041549 64\n0.061844 64\n0.041876 64\n0.061983 64\n0.041498 64\n0.065172 64\n0.041799 64\n0.062314 64\n0.041567 64\n0.041451 64\n0.062141 64\n0.041255 64\n0.061984 64\n0.041491 64\n0.061916 64\n0.041581 54\n0.041241 56\n0.061991 58\n0.041483 60\n0.061920 62\n0.041504 64\n0.061864 64\n0.041426 64\n0.062122 70\n0.041374 70\n0.041266 70\n0.061954 70\n0.041446 70\n0.062049 70\n0.041787 70\n0.061879 70\n0.041375 70\n0.041656 70\n0.062036 70\n0.041332 70\n0.062063 309\n0.166376 70\n0.020710 70\n0.062494 70\n0.041436 70\n0.061935 70\n0.041318 70\n0.063681 57\n0.246589 57\n0.493914 57\n0.061808 57\n0.041567 57\n0.041336 57\n0.062143 57\n0.041435 57\n0.062259 57\n0.041378 57\n0.062216 57\n0.041470 57\n0.041316 57\n0.061795 57\n0.041609 57\n0.062443 57\n0.041427 57\n0.062117 57\n0.041377 57\n0.061955 57\n0.041426 57\n0.062095 57\n0.041301 57\n0.041448 57\n0.062005 57\n0.041370 57\n0.062126 57\n0.041469 57\n0.061802 73\n0.041601 73\n0.062041 73\n0.041537 73\n0.062486 73\n0.041512 73\n0.041374 73\n0.062310 73\n0.041428 73\n0.062810 73\n0.041479 73\n0.041648 73\n0.062142 73\n0.041520 73\n0.062348 73\n0.042037 56\n0.062299 75\n0.041693 73\n0.041464 73\n0.061838 73\n0.041622 73\n0.061926 73\n0.041584 75\n0.062111 75\n0.041664 73\n0.061854 73\n0.041609 73\n0.041478 73\n0.062256 72\n0.041459 1945\n0.190710 1945\n0.601846 61\n1.371488 64\n0.062850 64\n0.041343 64\n0.062496 64\n0.041457 64\n0.041537 64\n0.062839 79\n0.124182 70\n0.185484 65\n0.185605 65\n0.164995 65\n0.144443 74\n0.299437 65\n0.329243 65\n0.185661 65\n0.494446 65\n0.062128 65\n0.041546 83\n0.041863 85\n0.062449 83\n0.041566 85\n0.062242 83\n0.041720 83\n0.062274 82\n0.041756 82\n0.041820 82\n0.062216 82\n0.041560 82\n0.062382 82\n0.041578 82\n0.062488 82\n0.041501 55\n0.179518 60\n0.920738 69\n0.185606 69\n0.207240 471\n0.825604 96\n0.078155 18\n0.378609 23\n0.153264 33\n0.345330 125\n0.002625 907\n0.000437 696\n0.000286 503\n0.000269 46\n9.514381 135\n0.001237 2\n0.238030 20\n0.145045 2\n0.215775 36\n0.445509 7\n0.000013 33\n0.000774 1484\n0.163414 6\n0.020373 11\n0.338958 8\n0.163504 15\n0.575569 15\n0.289181 234\n1.047423 59\n0.249732 70\n0.041568 70\n0.062223 70\n0.041409 70\n0.041478 70\n0.061944 70\n0.041506 70\n0.061893 70\n0.041444 591\n0.159668 70\n0.020951 70\n0.020806 70\n0.062265 70\n0.041573 125\n0.180914 70\n0.021148 61\n0.061955 61\n0.041561 61\n0.061976 70\n0.177936 61\n0.020775 61\n0.041436 59\n0.432469 59\n0.205760 469\n0.314796 96\n0.073287 18\n0.419725 23\n0.409849 9\n0.262261 24\n0.003830 125\n0.000748 907\n0.000359 1199\n0.000532 9\n29.785791 774\n0.000091 61\n0.000566 61\n0.000037 4\n0.000365 237\n0.000030 126\n0.000454 430\n0.000032 57\n0.291190 1026\n0.000087 1\n0.000478 92\n0.000108 136\n0.000443 146\n0.000114 7\n0.494808 969\n0.000050 2\n0.000074 1\n0.000466 332\n0.000034 3\n0.000378 150\n0.000071 101\n0.000355 5\n80.699397 1140\n0.000101 3\n0.000660 265\n0.000034 100\n0.301537 870\n0.000047 845\n0.000643 165\n0.360080 754\n0.000048 815\n0.000694 100\n0.409052 1337\n0.000672 105\n0.402199 568\n0.000157 628\n0.000602 411\n0.357429 282\n0.000045 263\n0.000535 444\n0.273976 1\n0.000660 1\n0.000275 26\n0.000263 1\n0.000389 1\n0.000264 190\n0.000265 1\n0.000295 1\n0.000256 84\n0.000260 1\n0.000285 1\n0.000241 67\n0.000243 1\n0.000266 1\n0.000239 97\n0.000253 70\n0.000431 1\n0.000281 1\n0.000317 101\n0.000258 1\n0.000271 1\n0.000242 124\n0.000246 345\n0.000427 233\n0.352401 718\n0.000175 658\n0.000647 169\n0.487609 171\n0.000119 1\n0.644529 944\n0.000048 4\n0.000075 630\n0.000948 567\n1.410988 773\n0.000959 397\n0.000067 150\n0.181010 761\n0.000054 48\n0.000029 296\n0.000623 414\n0.174875 1\n0.000083 1\n0.000052 40\n0.000050 1\n0.000050 1\n0.000307 93\n0.000056 1\n0.000198 1\n0.000152 82\n0.000129 1\n0.000127 1\n0.000151 31\n0.000126 1\n0.000127 1\n0.000237 86\n0.000107 254\n0.000374 103\n0.181796 1226\n0.000568 88\n0.169029 874\n0.000055 90\n0.000030 675\n0.000566 102\n0.179577 1044\n0.000431 556\n0.000338 58\n0.273702 1400\n0.000481 5\n0.463308 971\n0.000051 2\n0.000071 587\n0.000696 64\n0.818533 65\n0.494398 64\n0.050651 64\n0.049828 64\n0.050630 64\n0.050903 64\n0.050276 64\n0.050269 64\n0.051552 64\n0.051244 64\n0.050299 65\n0.050829 63\n0.049972 63\n0.050497 63\n0.050405 63\n0.050656 63\n0.352646 63\n0.760092 64\n0.310782 24\n0.318624 146\n0.000436 29\n0.627479 3\n1.002368 4\n0.550918 1\n0.691727 28\n0.404220 28\n0.192607 28\n0.223734 4\n0.343695 28\n0.367588 4\n0.360557 28\n0.271744 2\n0.104064 52\n0.000036 28\n0.096001 28\n0.127984 28\n0.039854 28\n0.208242 28\n0.047885 4\n0.368148 28\n0.056035 28\n0.368101 28\n0.200043 28\n0.135806 28\n0.176114 28\n0.032513 28\n0.039157 28\n0.558807 28\n0.025691 28\n0.151588 28\n0.016875 3\n0.431531 28\n0.111788 3\n0.071974 64\n1.461895 1\n0.246722 1\n0.182948 1\n0.184223 64\n25.106656 3\n0.301785 64\n1.713454 1\n0.253856 1\n0.184267 1\n0.176328 101\n28.028935 23\n3.495310 64\n0.328447 3\n0.227225 151\n0.716906 74\n0.437184 151\n0.723239 17\n0.482835 1\n0.500151 1\n0.050521 1\n0.050202 1\n0.050680 1\n0.050462 1\n0.050423 1\n0.049971 1\n0.050393 1\n0.122867 38\n0.293213 32\n0.143437 32\n0.152388 32\n0.127495 32\n0.120022 32\n0.168224 32\n0.192303 32\n0.479823 32\n0.528774 32\n0.102864 7\n0.292126 1\n0.175668 1\n0.183435 1\n0.160195 43\n0.284915 37\n0.152043 37\n0.160126 37\n0.136182 34\n0.135437 34\n0.047916 34\n0.184268 34\n0.496930 117\n0.739652 111\n0.041667 64\n0.012787 74\n2.786470 1\n0.269570 69\n0.359964 33\n0.139948 33\n0.152449 33\n0.151878 33\n0.144242 33\n0.127697 30\n0.087994 30\n0.264167 30\n0.176065 30\n0.103570 30\n0.048270 30\n0.104021 30\n0.072088 30\n0.063830 30\n0.048224 3\n0.332189 163\n0.275311 1\n0.059263 28\n0.179982 28\n0.168208 28\n0.063669 2\n0.112564 52\n0.000030 28\n0.087766 28\n0.096305 28\n0.071654 28\n0.080163 28\n0.120244 28\n0.111675 28\n0.040031 28\n0.144152 28\n0.127932 28\n0.112044 28\n0.128119 28\n0.223940 28\n0.151969 28\n0.207994 4\n0.656204 4\n0.320219 4\n0.500369 4\n0.050495 4\n0.050616 4\n0.050377 4\n0.051280 4\n0.049779 4\n0.050219 4\n0.050236 4\n0.050564 4\n0.127770 4\n0.151880 28\n0.119833 28\n0.039904 28\n0.144084 28\n0.088080 28\n0.343989 28\n0.103873 28\n0.112105 28\n0.175947 28\n0.032097 28\n0.112050 28\n0.071888 28\n0.073318 28\n0.127033 28\n0.015893 28\n0.176039 28\n0.103934 28\n0.168262 28\n0.128040 4\n0.216070 4\n0.104021 28\n0.087734 28\n0.136280 28\n0.200024 28\n0.175759 28\n0.176245 28\n0.191900 28\n0.192143 28\n0.136078 28\n0.063989 28\n0.311517 28\n0.536466 4\n0.664491 28\n0.239621 28\n0.224066 28\n0.079896 55\n0.128042 28\n0.109437 28\n0.146605 28\n0.039827 28\n0.192165 28\n0.143993 28\n0.384067 28\n0.136086 28\n0.183928 28\n0.392028 4\n0.296146 4\n0.119987 28\n0.119728 28\n0.120348 28\n0.095725 28\n0.128097 28\n0.056022 35\n0.251912 3\n0.791646 117\n0.049232 111\n0.044204 64\n0.012604 17\n5.861971 70\n0.064121 181\n0.473034 2\n0.189822 20\n0.130335 2\n0.222695 36\n0.400977 464\n0.000274 96\n0.023488 18\n0.790334 23\n0.145563 2057\n1.539160 102\n1.735859 29\n0.000036 41\n0.324445 45\n0.624039 46\n0.784080 45\n0.471698 44\n0.152283 1823\n0.228527 4\n0.517529 890\n0.000097 134\n0.000445 2\n0.000327 119\n0.000030 99\n0.000368 335\n0.000034 69\n0.160016 954\n0.000117 88\n0.000040 223\n0.000028 133\n0.000039 190\n0.174715 777\n0.000047 230\n0.000406 5\n0.192139 949\n0.000053 637\n0.000596 75\n0.337029 859\n0.000121 315\n0.000033 204\n0.000518 142\n0.200247 1241\n0.000130 92\n0.181192 809\n0.000052 169\n0.000030 42\n0.000029 269\n0.000939 8\n0.500981 1\n0.000533 94\n0.000350 791\n0.000089 1\n0.000161 477\n0.000573 342\n0.000290 120\n0.047451 609\n0.000040 180\n0.000032 489\n0.000720 705\n0.041832 397\n0.000147 447\n0.000392 935\n0.047077 285\n0.004012 182\n0.000673 171\n0.000044 1\n0.040193 27\n0.004031 28\n0.000260 1\n0.045831 1\n0.049677 1\n0.051348 1\n0.050399 1\n0.050666 1\n0.049795 229\n0.183322 962\n0.000053 105\n0.000029 145\n0.000036 61\n1.410442 732\n0.171523 364\n0.000044 323\n0.000088 84\n10.515457 43\n0.257382 103\n0.001496 29\n0.000040 1657\n1.048998 64\n3.894773 1\n0.172384 1\n0.502745 1\n0.049195 1\n0.049736 64\n0.073401 1\n0.245582 69\n0.967389 32\n0.189111 32\n0.143826 32\n0.144345 61\n0.104357 7\n0.459376 1\n0.071135 1\n0.207713 1\n0.144278 1\n0.271943 1\n0.144230 1\n0.128170 1\n0.135715 42\n0.197216 42\n0.199948 42\n0.136014 42\n0.144002 71\n0.056108 117\n0.548282 111\n0.062499 64\n0.013295 46\n0.274002 135\n0.001747 2\n0.182228 20\n0.113827 2\n0.286741 36\n0.455756 7\n0.000012 33\n0.000602 1484\n0.216663 6\n0.020392 519\n0.708172 8\n0.634888 238\n0.824404 7\n0.024900 540\n0.322877 59\n1.164382 70\n0.041591 70\n0.062241 70\n0.041417 70\n0.062316 70\n0.041541 70\n0.062207 70\n0.041368 70\n0.041483 70\n0.062162 70\n0.041480 70\n0.062299 70\n0.041742 35\n0.041338 248\n0.183876 70\n0.021182 61\n0.062217 61\n0.041271 4\n0.061865 68\n0.172646 61\n0.020341 468\n0.846638 96\n0.081980 18\n0.179060 23\n0.105401 2109\n0.227341 64\n1.014638 64\n0.174323 64\n0.511840 24\n0.358125 146\n0.000042 1\n0.154710 28\n0.201294 28\n0.183922 28\n0.136284 2\n0.127932 52\n0.000030 28\n0.079935 28\n0.167904 28\n0.160164 28\n0.103734 28\n0.128811 28\n0.415393 4\n0.264250 28\n0.175842 28\n0.151910 28\n0.167089 28\n0.153009 28\n0.024040 28\n0.159943 28\n0.088842 28\n0.046952 28\n0.089248 28\n0.047168 28\n0.159841 28\n0.232291 28\n0.103230 28\n0.168814 28\n0.104400 28\n0.199914 204\n0.328210 3\n0.119629 124\n0.088797 33\n0.231138 7\n0.484121 117\n0.033370 111\n0.041100 64\n0.008465 181\n0.190418 2\n0.134212 20\n0.113459 2\n0.143713 36\n0.414833 7\n0.000012 33\n0.000587 1484\n0.277759 6\n0.020448 11\n0.419051 8\n0.101340 1951\n0.901076 8\n0.060751 591\n0.477750 96\n0.079323 18\n0.725830 2\n0.274859 36\n0.443514 7\n0.000012 33\n0.000605 1484\n0.278312 6\n0.020403 11\n0.549139 1951\n0.492377 8\n0.470782 61\n0.678710 243\n0.149487 64\n0.354613 64\n0.041407 64\n0.062348 64\n0.041758 150\n0.173387 5\n0.163471 261\n0.819571 70\n0.378220 70\n0.596536 70\n0.020903 70\n0.041655 70\n0.062426 70\n0.041788 70\n0.041392 64\n0.103479 64\n0.187600 64\n0.188460 70\n0.020843 175\n0.404185 187\n1.186140 85\n0.049313 83\n0.020401 85\n0.163711 150\n0.784523 88\n0.186519 331\n0.583710 176\n0.057537 8\n0.020402 7\n0.426969 8\n0.020927 7\n0.489314 8\n0.020882 7\n0.476604 88\n0.020986 7\n0.489809 88\n0.021226 83\n0.042043 83\n0.041732 83\n0.062237 83\n0.041836 66\n0.062637 35\n0.020851 60\n0.021021 39\n0.020854 60\n0.020976 39\n0.020931 242\n0.145600 8\n0.480916 32\n1.348172 32\n0.391331 61\n0.940588 70\n0.020884 70\n0.062239 70\n0.041741 70\n0.062290 60\n0.041593 70\n0.062253 70\n0.041413 35\n0.132737 564\n0.169637 70\n0.021225 70\n0.041648 79\n0.041579 35\n0.062267 261\n0.206429 70\n0.020401 65\n0.020414 65\n0.040702 12\n0.061615 71\n0.223180 65\n0.020363 65\n0.061052 65\n0.040743 12\n0.061180 71\n0.211143 65\n0.020786 65\n0.417761 65\n0.041542 65\n0.041549 65\n0.062264 65\n0.041547 65\n0.130715 65\n0.020711 65\n0.062454 65\n0.041578 83\n0.062680 84\n0.041935 82\n0.041730 84\n0.062587 82\n0.041645 82\n0.149362 82\n0.062625 82\n0.042007 82\n0.062046 554\n0.241821 65\n0.020783 82\n0.023579 82\n0.062205 82\n0.041792 55\n0.304881 60\n0.804690 69\n0.192067 73\n2.569701 73\n0.503305 73\n0.062415 73\n0.041725 73\n0.041816 73\n0.062234 73\n0.169586 35\n0.020945 8\n0.469097 1945\n0.220405 1945\n0.642078 1314\n0.573092 862\n0.663572 471\n0.563926 96\n0.084383 18\n0.180911 23\n0.129196 33\n0.201408 125\n0.002131 958\n0.000387 570\n0.000287 436\n0.000140 70\n0.947263 15\n3.488982 941\n0.000049 11\n0.000028 388\n0.000562 99\n0.551333 813\n0.000138 284\n0.000034 466\n0.000651 1\n0.915820 936\n0.000054 1095\n0.000691 62\n0.946906 64\n0.499776 63\n0.049849 63\n0.050606 63\n0.049992 63\n0.051333 63\n0.049737 64\n0.051096 64\n0.049462 64\n0.050807 64\n0.050471 64\n0.334675 64\n0.199829 64\n0.183922 63\n0.176168 64\n3.023001 64\n1.715808 64\n0.500584 64\n0.176277 65\n0.248303 65\n0.239472 65\n0.192140 65\n1.992466 8\n0.327611 25\n0.319730 149\n0.000079 8\n0.079873 28\n0.674982 51\n0.088070 1\n0.105155 1\n0.001321 28\n0.117762 28\n1.088154 3\n0.207861 28\n0.168025 3\n0.103749 1\n2.362768 3\n1.021209 307\n0.353247 64\n0.392684 64\n0.139444 63\n0.135939 7\n0.223644 372\n0.251338 8\n0.099645 28\n0.298747 51\n0.088077 2\n0.144687 28\n0.071505 3\n0.239844 1\n0.368205 6\n0.656202 1\n0.000032 28\n0.983485 28\n0.480137 28\n0.079980 3\n0.160241 58\n0.515376 29\n0.000061 28\n0.916582 3\n0.143995 1\n0.703827 8\n0.104388 28\n0.695623 3\n0.088186 28\n0.159611 66\n0.309551 2\n0.090828 149\n0.512551 29\n0.000050 28\n0.367385 6\n0.392248 28\n0.055938 28\n0.039805 3\n0.111671 47\n0.096540 3\n0.064147 28\n0.136000 163\n0.880441 8\n0.091425 28\n0.339425 51\n0.112235 2\n0.199981 28\n0.368407 56\n0.510973 29\n0.000048 65\n0.570587 4\n0.219630 1\n0.111385 1\n0.500294 1\n0.050927 1\n0.050928 1\n0.051085 1\n0.050599 1\n0.136505 28\n0.675617 1\n0.000082 1\n0.000056 1\n0.000050 1\n0.000053 21\n0.000331 65\n0.495906 28\n0.990683 28\n0.135589 3\n0.360339 28\n0.383786 3\n0.104286 28\n0.200106 33\n0.295882 2\n0.413663 29\n0.000032 3\n0.122103 28\n0.168493 28\n0.175678 3\n0.215957 3\n0.352570 149\n0.512611 29\n0.000051 49\n0.167278 17\n0.015549 24\n0.000031 49\n0.200427 17\n0.351899 24\n0.000032 1\n0.152009 47\n0.087783 3\n0.184331 28\n0.352104 163\n0.392337 8\n0.131458 28\n0.203653 51\n0.095746 2\n0.128412 28\n0.207879 56\n0.001328 47\n0.001555 46\n0.253267 28\n0.168075 3\n0.247956 28\n0.295407 53\n0.512448 34\n0.000089 8\n1.024072 28\n0.415768 3\n0.216073 65\n1.050159 65\n0.667633 1\n0.359308 28\n0.682728 3\n0.112061 28\n0.688015 28\n0.167723 28\n0.040010 55\n0.192471 28\n0.336046 28\n0.128355 28\n0.031374 28\n0.160185 28\n0.128112 28\n0.191852 28\n0.392018 3\n0.480100 1\n0.536388 11\n0.229132 22\n0.000033 36\n0.258637 3\n0.135884 28\n0.199758 8\n0.392330 28\n0.103599 28\n0.047972 2\n0.288739 47\n0.127960 3\n0.127586 28\n0.112203 28\n0.192253 28\n0.072030 55\n0.087759 28\n0.104136 28\n0.063990 28\n0.056363 28\n0.111545 28\n0.129410 28\n0.142845 28\n0.079956 28\n0.359925 28\n0.152655 163\n0.471650 8\n0.075337 28\n0.307474 51\n0.064102 2\n0.152033 28\n0.408101 30\n0.253561 65\n0.389027 1\n0.234313 108\n0.513298 69\n0.000106 3\n0.009819 200\n0.281041 157\n0.336112 84\n1.268679 246\n0.011550 73\n0.537708 3\n1.092788 312\n0.345735 65\n0.361803 8\n0.226203 1\n0.111138 1\n0.576333 35\n0.259828 32\n0.440530 1\n0.091633 1\n0.144044 1\n0.500423 1\n0.050546 1\n0.051770 1\n0.050021 1\n0.050337 1\n0.049957 1\n0.050758 1\n0.051612 1\n0.050270 1\n0.050646 1\n0.050227 1\n0.050749 1\n0.050995 31\n0.527350 45\n0.215760 1\n0.069038 1\n0.500249 1\n0.050084 1\n0.050945 1\n0.050982 1\n0.051472 1\n0.050032 1\n0.050651 1\n0.051297 1\n0.048873 1\n0.050885 1\n0.050783 1\n0.050376 1\n0.049898 1\n0.051865 1\n0.049467 1\n0.050563 1\n0.050039 1\n0.051537 1\n0.050490 1\n0.051100 31\n0.613603 32\n0.135830 118\n0.596490 112\n0.032684 65\n0.014006 46\n0.224630 135\n0.001842 2\n0.173698 20\n0.105775 2\n0.277464 36\n0.418678 7\n0.000053 33\n0.000655 1484\n0.277049 6\n0.020312 263\n2.032872 69\n0.934655 69\n0.847020 69\n0.517165 69\n0.041567 69\n0.041593 69\n0.062386 69\n0.041670 69\n0.062064 70\n0.041527 70\n0.062459 70\n0.041627 70\n0.041575 70\n0.062041 70\n0.041677 70\n0.062231 61\n0.041469 61\n0.062285 61\n0.041440 61\n0.061991 61\n0.041292 61\n0.041420 61\n0.062233 4\n0.041427 8\n0.021309 68\n0.201075 61\n0.021349 61\n0.020735 61\n0.041402 4\n0.061968 68\n0.188406 59\n0.021014 59\n0.454411 59\n0.041443 59\n0.062136 59\n0.041841 59\n0.062299 59\n0.041693 59\n0.041906 59\n0.062430 59\n0.041354 59\n0.062384 59\n0.042024 59\n0.062782 59\n0.041732 59\n0.042017 82\n0.062431 82\n0.041844 82\n0.062405 81\n0.041814 592\n0.221207 82\n0.020924 82\n0.021130 82\n0.041681 81\n0.062500 560\n0.204931 82\n0.021061 82\n0.020904 82\n0.041515 81\n0.062403 64\n0.933074 64\n0.496827 64\n0.041719 64\n0.062061 64\n0.041688 64\n0.041526 64\n0.062240 64\n0.041536 64\n0.062344 64\n0.041642 64\n0.062033 64\n0.041577 64\n0.062277 64\n0.041631 64\n0.062117 64\n0.041534 64\n0.041558 64\n0.062395 64\n0.041420 64\n0.062262 64\n0.041321 64\n0.062414 64\n0.041567 64\n0.062476 64\n0.041671 64\n0.041406 64\n0.062351 64\n0.041554 64\n0.062232 64\n0.041561 54\n0.062045 56\n0.041519 58\n0.062261 60\n0.041538 62\n0.041435 64\n0.062096 64\n0.041546 64\n0.062345 68\n0.041413 68\n0.041631 68\n0.061978 68\n0.041492 68\n0.062470 68\n0.041366 68\n0.062189 68\n0.041309 68\n0.062283 68\n0.041288 68\n0.062445 57\n0.763575 57\n0.495090 57\n0.061966 57\n0.041695 57\n0.041470 57\n0.062625 57\n0.041329 57\n0.061955 57\n0.041565 57\n0.062224 57\n0.041694 57\n0.062828 57\n0.041435 57\n0.041538 57\n0.062438 57\n0.041297 57\n0.062103 57\n0.041432 57\n0.041550 57\n0.061889 73\n0.041600 73\n0.062371 73\n0.041573 73\n0.062313 471\n1.062913 96\n0.079034 18\n0.422168 23\n0.137478 33\n0.217255 125\n0.002757 956\n0.000597 921\n0.000462 572\n0.000302 102\n4.655602 29\n0.000038 41\n0.258102 45\n0.808812 46\n0.455126 44\n0.344330 45\n0.263945 47\n0.327700 1393\n0.459068 61\n0.526255 25\n0.137405 120\n0.000101 99\n0.142306 99\n0.128020 64\n0.232936 28\n0.334698 28\n0.304019 28\n0.168016 3\n0.080063 28\n0.120374 28\n0.215578 28\n0.128125 1\n0.111655 28\n0.064212 28\n0.143811 28\n0.024172 28\n0.136206 28\n0.103933 28\n0.056366 28\n0.047544 1\n0.120415 28\n0.007434 3\n0.095872 28\n0.176302 28\n0.144133 28\n0.040713 28\n0.111190 28\n0.096399 28\n0.055389 3\n0.128175 28\n0.072131 28\n0.207921 28\n0.119959 28\n0.120209 28\n0.048008 28\n0.159791 28\n0.176015 28\n0.183944 28\n0.135970 3\n0.112244 28\n0.063461 28\n0.152334 3\n0.024034 28\n0.207949 28\n0.160057 28\n0.079603 3\n0.144661 28\n0.351729 28\n0.055984 28\n0.024281 28\n0.183071 28\n0.136630 28\n0.063970 4\n0.639905 4\n0.112346 28\n0.079486 28\n0.176363 28\n0.072151 28\n0.231776 28\n0.072002 3\n0.127988 28\n0.216040 28\n0.015935 28\n0.096059 28\n0.047957 3\n0.105497 28\n0.102594 28\n0.104053 3\n0.055997 28\n0.080074 28\n0.080012 28\n0.087639 1\n0.127966 28\n2.184424 28\n0.175391 28\n0.096688 28\n0.143869 28\n0.095628 28\n0.047989 2\n0.144383 28\n0.928225 28\n0.055782 28\n0.104779 28\n0.102736 28\n0.104406 99\n0.160329 28\n0.176654 28\n0.087155 28\n0.175647 3\n0.104334 28\n0.231818 28\n0.313267 28\n0.134901 28\n0.111952 3\n0.112140 28\n0.127759 28\n0.143871 28\n0.024289 3\n0.160116 28\n0.072022 28\n0.143821 28\n0.063708 28\n0.056068 28\n0.064063 3\n0.104191 28\n0.047542 28\n0.112298 28\n0.159847 28\n0.040074 1\n0.136109 28\n0.160087 3\n0.135692 28\n0.312364 28\n0.159762 28\n0.184161 28\n0.047982 28\n0.119857 28\n0.120114 28\n0.111991 28\n0.208061 3\n0.072093 28\n0.127651 28\n0.031894 28\n0.120170 28\n0.072372 1\n0.071789 28\n0.079646 28\n0.104339 3\n0.072137 28\n0.359841 28\n0.216220 28\n0.047775 28\n0.152081 28\n0.063863 28\n0.080201 3\n0.103815 28\n0.256242 28\n0.039915 28\n0.127845 28\n0.080499 28\n0.127943 1\n0.111643 28\n1.944225 28\n0.159659 28\n0.160349 28\n0.087853 3\n0.111904 1\n0.312121 4\n0.500835 4\n0.049662 4\n0.050509 6\n0.050950 1\n0.050262 4\n0.050930 4\n0.049503 4\n0.050321 4\n0.050817 8\n0.050777 1\n0.050186 3\n0.331131 28\n0.079994 28\n0.175975 28\n0.119863 28\n0.040080 28\n0.320843 28\n0.208174 28\n0.063155 28\n0.063674 28\n0.072367 28\n0.103988 3\n0.160010 28\n0.429472 28\n0.162541 28\n0.072002 28\n0.103651 28\n0.048313 28\n0.056654 3\n0.103473 28\n0.151844 28\n0.143945 28\n0.096146 28\n0.087726 4\n0.335952 4\n0.112040 28\n0.128111 28\n0.120007 99\n0.120488 28\n0.200381 28\n0.151109 28\n0.079989 28\n0.104064 28\n0.071944 28\n0.096329 28\n0.095886 28\n0.119778 28\n0.159684 28\n0.104475 28\n0.023873 28\n0.151983 28\n0.032188 3\n0.127761 28\n0.144057 28\n0.536586 28\n0.127477 4\n0.216051 4\n0.111906 8\n0.136078 28\n0.095666 28\n0.095972 28\n0.088200 28\n0.112033 3\n0.056236 28\n0.127894 28\n0.144053 28\n0.063961 28\n0.159661 28\n0.184219 28\n0.056232 28\n0.127578 28\n0.064324 28\n0.095681 3\n0.096225 28\n0.096346 8\n0.295678 28\n0.087819 28\n0.111975 28\n0.039974 28\n0.158631 28\n0.001715 28\n0.056094 3\n0.096639 28\n0.135580 28\n0.144713 4\n0.238869 8\n0.128096 1\n0.135562 4\n0.128002 4\n0.136018 4\n0.120281 28\n0.191824 28\n0.032190 28\n0.095984 4\n0.408059 4\n0.103926 4\n0.119838 28\n0.208309 28\n0.015861 28\n0.064134 3\n0.088145 28\n0.143855 28\n0.127834 28\n0.161071 28\n0.054924 3\n0.104086 28\n0.095409 28\n0.128514 28\n0.055861 28\n0.232300 4\n0.327882 28\n0.040608 28\n0.151377 28\n0.128439 28\n0.103628 28\n0.176557 28\n0.031450 28\n0.064011 3\n0.136615 28\n0.079047 28\n0.112124 28\n0.152145 28\n0.120191 28\n0.055691 3\n0.128198 28\n0.063988 28\n0.127904 28\n0.055963 3\n0.248204 28\n0.319995 28\n0.167966 28\n0.191966 3\n0.096063 28\n0.072097 28\n0.111852 28\n0.104344 28\n0.119449 28\n0.152120 28\n0.256383 28\n0.119539 99\n0.272351 28\n0.303836 28\n0.248612 28\n0.047041 28\n0.032038 28\n0.064096 28\n0.152097 28\n0.232021 28\n0.087842 28\n0.224226 3\n0.199871 28\n3.520096 28\n0.167944 28\n0.112029 28\n0.071777 2\n0.063824 28\n0.152227 3\n0.176189 28\n2.072109 28\n0.159954 28\n0.295863 28\n0.007632 28\n0.168457 2\n0.231802 28\n0.168201 28\n0.095790 28\n0.064080 28\n0.128023 3\n0.032915 28\n0.078976 28\n0.200178 28\n0.087900 1\n0.175819 193\n0.216603 41\n0.159743 43\n0.463940 41\n0.360127 41\n0.048664 41\n0.087270 41\n0.128147 3\n0.079774 41\n0.080114 41\n0.095994 41\n0.144130 41\n0.263836 3\n0.168152 41\n0.143810 43\n0.208086 1\n0.112830 43\n0.119268 41\n0.120043 41\n0.127958 3\n0.120061 41\n0.119777 41\n0.192258 41\n0.071508 41\n0.176256 41\n0.176148 41\n0.103941 41\n0.015627 43\n0.416487 43\n0.103887 41\n0.151836 41\n0.080168 41\n0.023526 57\n0.256476 3\n0.128103 28\n0.120094 28\n0.103825 28\n0.047551 28\n0.056332 28\n0.191823 3\n0.096189 28\n2.840176 28\n0.135740 28\n0.031926 28\n0.072245 3\n0.151782 28\n0.088122 28\n0.063562 28\n0.200632 28\n0.135816 3\n0.063713 28\n0.056701 28\n0.103914 28\n0.119713 3\n0.144072 28\n0.263665 8\n0.240310 1\n0.111759 99\n0.184548 28\n0.231844 28\n0.079657 28\n0.007871 28\n0.023705 28\n0.144217 28\n0.118406 28\n0.145865 1\n0.112374 28\n0.111688 28\n0.061465 28\n0.064113 3\n0.144172 28\n0.072071 28\n0.090206 28\n0.079942 28\n0.031782 3\n0.152328 28\n0.095988 28\n0.063918 28\n0.176051 28\n0.119774 3\n0.055883 28\n0.080351 28\n0.039785 3\n0.087920 28\n0.087917 3\n0.032009 28\n0.152495 28\n0.135961 28\n0.127758 28\n0.071811 1\n0.120365 28\n0.159938 28\n0.320055 28\n0.079826 3\n0.120155 28\n0.128224 28\n0.167695 28\n0.055886 1\n0.112087 28\n0.128563 28\n0.087410 3\n0.080287 28\n0.223764 28\n0.143797 3\n0.208385 28\n0.119631 28\n0.153198 28\n0.095213 28\n0.127770 3\n0.175848 28\n0.152382 28\n0.087660 28\n0.152111 28\n0.256072 28\n0.104074 4\n0.272098 4\n0.095938 28\n0.103672 28\n0.135938 28\n0.088260 28\n0.136634 28\n0.063323 25\n0.392218 74\n0.000108 25\n0.111879 80\n0.000040 28\n0.183423 28\n0.144003 28\n0.072883 28\n0.231493 3\n0.007637 28\n0.408517 28\n0.049553 28\n0.062037 28\n0.120193 28\n0.039847 3\n0.160127 28\n0.095992 3\n0.128036 28\n0.079762 28\n0.040133 28\n0.015927 28\n0.095992 28\n0.104201 28\n0.175597 3\n0.088309 28\n0.103806 28\n0.064484 28\n0.127976 28\n0.063841 65\n0.095935 28\n0.111919 28\n0.079737 3\n0.056261 28\n0.080012 28\n0.095951 2\n0.080737 28\n0.118988 28\n0.040102 3\n0.177104 28\n1.055056 28\n0.048190 28\n0.144009 28\n0.056007 28\n0.119874 28\n0.072056 3\n0.104370 28\n8.887726 28\n0.063881 28\n0.143774 28\n0.088019 28\n0.095855 28\n0.056565 28\n0.151432 28\n0.015990 28\n0.104448 3\n0.087720 28\n0.264079 28\n0.152137 28\n0.143678 28\n0.280301 28\n0.275428 4\n0.276608 4\n0.119954 28\n0.247940 28\n0.200162 28\n0.103886 28\n0.111983 3\n9.264038 28\n0.735869 28\n0.103942 28\n0.144066 28\n0.064191 1\n0.104325 66\n0.231764 28\n0.048052 3\n0.127930 28\n0.127860 28\n0.112381 3\n0.104380 28\n0.183220 28\n0.127783 28\n0.096310 28\n0.048097 28\n0.103808 3\n0.160182 28\n0.135615 28\n0.120392 28\n0.063732 73\n0.248331 28\n0.087513 28\n0.144147 28\n0.136295 3\n0.159641 1\n0.280342 4\n0.500745 4\n0.050070 7\n0.050933 11\n0.050182 4\n0.050726 4\n0.201304 8\n0.168083 1\n0.151446 100\n0.224889 28\n0.135550 28\n0.111654 28\n0.056118 3\n0.095938 28\n0.096251 28\n0.200018 28\n0.135894 1\n0.151922 28\n0.128286 28\n0.095600 28\n0.088328 3\n0.095790 28\n0.056000 28\n0.264316 28\n0.215898 28\n0.079862 3\n0.103903 28\n0.152226 28\n0.071886 3\n0.088172 28\n0.047793 28\n0.112225 28\n0.063654 1\n0.120227 28\n0.056368 28\n0.063335 28\n0.192198 28\n0.079812 28\n0.096548 28\n0.199766 2\n0.120067 64\n0.096012 28\n0.064587 28\n0.079211 3\n0.095923 28\n0.238543 28\n0.081473 28\n0.104211 28\n0.111721 112\n9.113626 29\n0.000044 45\n0.613948 2344\n0.653402 65\n1.840350 74\n0.001855 89\n1.180461 18\n0.307373 71\n0.056672 76\n0.692698 65\n0.496250 65\n0.051154 65\n0.050293 65\n0.051551 65\n0.050547 65\n0.050857 65\n0.050190 65\n0.050731 629\n0.059329 1\n0.000076 1\n0.000053 93\n0.000050 1\n0.000051 1\n0.000050 1\n0.000071 168\n0.000056 1\n0.000048 1\n0.000047 53\n0.000058 209\n0.000202 1\n0.000049 1\n0.000053 147\n0.000053 1\n0.000061 1\n0.000047 29\n0.000052 157\n0.000181 1\n0.000060 1\n0.000049 1\n0.000047 151\n0.000057 66\n0.040502 65\n0.049472 65\n0.049762 65\n0.279586 65\n0.500390 65\n0.050529 65\n0.049792 65\n0.051280 65\n0.051085 65\n0.050629 6\n0.058340 957\n0.000188 425\n0.000615 65\n0.042634 65\n0.384637 64\n0.499487 65\n0.050579 65\n0.051130 65\n0.049786 65\n0.051432 65\n0.050012 65\n0.050699 66\n0.050122 6\n0.305136 816\n0.000094 317\n0.000516 272\n0.000046 65\n0.336820 65\n0.287944 65\n0.500794 65\n0.050558 65\n0.049962 65\n0.051332 65\n0.050603 65\n0.050941 66\n0.050631 65\n0.049686 129\n0.061510 853\n0.000131 95\n0.000030 204\n0.000087 65\n0.041139 65\n0.048678 6\n0.956403 759\n0.000054 248\n0.000485 541\n0.492465 446\n0.000046 545\n0.000550 258\n1.177305 717\n0.000125 357\n0.000034 278\n0.000583 152\n0.995968 791\n0.000049 2\n0.000076 835\n0.000709 64\n0.493804 64\n0.051258 63\n0.050407 63\n0.050874 63\n0.049702 63\n0.049780 63\n0.050857 63\n0.050706 64\n0.050051 61\n0.051184 2\n0.054274 742\n0.000102 858\n0.000568 64\n0.046158 102\n14.458208 29\n0.000115 44\n0.212604 1280\n0.958900 1\n0.842026 28\n0.215706 28\n0.303792 4\n0.384473 28\n0.271610 28\n0.087738 3\n0.112361 28\n0.183908 28\n0.071956 28\n0.071808 28\n0.120111 28\n0.111955 28\n0.072178 28\n0.136138 3\n0.096061 28\n0.095773 28\n0.079888 2\n0.103873 28\n0.096377 28\n0.096594 28\n0.039241 28\n0.048274 3\n0.127911 28\n0.119912 3\n0.136159 28\n0.143926 28\n0.311985 28\n0.103978 28\n0.024370 3\n0.087740 28\n0.104254 28\n0.095325 28\n0.112537 28\n0.167802 28\n0.071595 3\n0.232344 28\n0.208023 28\n0.079600 28\n0.056219 66\n0.032112 64\n0.248174 28\n0.095597 3\n0.120222 28\n0.151815 28\n0.072345 28\n0.095861 28\n0.079686 2\n0.120451 28\n0.215939 28\n0.343959 28\n0.048076 28\n0.143828 28\n0.088268 28\n0.095908 3\n0.063894 28\n0.152093 28\n0.119569 3\n0.096425 28\n0.183809 28\n0.103779 28\n0.160306 3\n0.064070 28\n0.096065 28\n0.144168 28\n0.159650 28\n0.128093 28\n0.192139 28\n0.103980 3\n0.119998 28\n0.303966 28\n0.040147 28\n0.143598 28\n0.176245 28\n0.263851 28\n0.136152 28\n0.048090 28\n0.055867 3\n0.104144 28\n0.063667 28\n0.120088 28\n0.039924 3\n0.151960 28\n0.023932 28\n0.152175 28\n0.056037 28\n0.055905 28\n0.072072 66\n0.056275 28\n0.071754 28\n0.160047 3\n0.104569 28\n1.503804 28\n0.151739 28\n0.183860 28\n0.071929 28\n0.088210 1\n0.039610 28\n0.088089 28\n0.120231 28\n0.111962 28\n0.056090 3\n0.096097 28\n0.031667 28\n0.128186 28\n0.023699 28\n0.048441 28\n0.039244 3\n0.096607 28\n0.128225 3\n0.119748 28\n0.272161 28\n0.056073 28\n0.176728 28\n0.095116 28\n0.088030 28\n0.120015 28\n0.095981 28\n0.223745 61\n0.304603 28\n0.239490 28\n0.207916 28\n0.104330 3\n0.103822 28\n0.063945 3\n0.047789 28\n0.096378 28\n0.183798 28\n0.080119 28\n0.119894 28\n0.079807 28\n0.064161 3\n0.039976 28\n0.408270 28\n0.072240 1\n0.079020 28\n0.088328 28\n0.087897 28\n0.113159 66\n0.072029 3\n0.103288 28\n0.079585 28\n0.160322 28\n0.039849 28\n0.088194 3\n0.120248 28\n3.120000 28\n0.447850 28\n0.119883 28\n0.208014 28\n0.079973 28\n0.064281 28\n0.815875 3\n0.207766 28\n1.464084 3\n0.095881 28\n0.136005 28\n0.151985 4\n0.256023 8\n0.104247 28\n0.071606 28\n0.040020 28\n0.111934 28\n0.160321 28\n0.087944 3\n0.104354 28\n0.047770 28\n0.095951 28\n0.088019 28\n0.103978 28\n0.231947 1\n0.071693 1\n0.288577 4\n0.111967 4\n0.143803 4\n0.127984 4\n0.144060 28\n0.087639 28\n0.039924 28\n0.088559 28\n0.103647 28\n0.216363 3\n0.079819 28\n0.056060 28\n0.104956 28\n0.062871 3\n0.112249 28\n0.080168 28\n0.143735 28\n0.031745 28\n0.160684 3\n0.103543 28\n0.023757 28\n0.112077 28\n0.071862 28\n0.080369 2\n0.087680 28\n0.128199 28\n0.127822 28\n0.087966 3\n0.104147 28\n0.144272 28\n0.087456 28\n0.120185 28\n0.031951 28\n0.056569 3\n0.151646 1\n1.176515 25\n0.225642 120\n0.000044 28\n0.046784 28\n0.054715 28\n0.168300 28\n0.055899 28\n0.144817 28\n0.102988 2\n0.120256 28\n0.119805 28\n0.095940 28\n0.448370 28\n0.080045 28\n0.191976 28\n0.047830 28\n0.056075 28\n0.207972 28\n0.040066 28\n0.047487 28\n0.160493 28\n0.056045 4\n0.336026 4\n0.087614 28\n0.104394 28\n0.127893 28\n19.679852 4\n0.376548 3\n0.095606 28\n0.121059 28\n0.182686 28\n0.176295 28\n0.104068 28\n0.127927 3\n0.071739 28\n0.047968 28\n0.088188 28\n0.063800 3\n0.104083 28\n0.088140 28\n0.056157 28\n0.103621 28\n0.096206 3\n0.104221 28\n0.176082 28\n0.088380 28\n0.047282 28\n0.104181 28\n0.272141 28\n0.119872 3\n0.111960 28\n0.119934 28\n0.176136 4\n0.297012 28\n0.038979 28\n0.151853 28\n0.048188 28\n0.143671 28\n0.080334 28\n0.103889 28\n0.208147 3\n0.071785 28\n0.143923 28\n0.039912 28\n0.096137 28\n0.072030 28\n0.031781 3\n0.104082 28\n0.128401 28\n0.127867 28\n0.111770 28\n0.136039 28\n0.056027 2\n0.232103 28\n0.384429 28\n0.175653 28\n0.176260 28\n0.215825 28\n0.223997 28\n0.079198 3\n0.136629 28\n0.047835 28\n0.048198 3\n0.160331 28\n0.119572 28\n0.023978 28\n0.079669 28\n0.096199 28\n0.135671 99\n0.368793 28\n0.327674 28\n0.039951 3\n0.119843 28\n0.160510 28\n0.119278 28\n0.120382 28\n0.039888 28\n0.111893 28\n0.128229 3\n0.087821 28\n0.056299 28\n0.103971 28\n0.095946 28\n0.096019 2\n0.056125 28\n0.199883 28\n0.215990 28\n0.079901 28\n0.103992 28\n0.144264 4\n0.391705 4\n0.128564 4\n0.175762 4\n0.143895 7\n0.143937 28\n0.136149 28\n0.055890 3\n0.144018 28\n0.303994 8\n0.392104 28\n0.079742 28\n0.144236 28\n0.055726 28\n0.136152 28\n0.056402 28\n0.071654 3\n0.095759 28\n0.104181 28\n0.080809 28\n0.111024 28\n0.112119 28\n0.087597 28\n0.160307 1\n1.207022 1\n0.500947 1\n0.050355 1\n0.050037 1\n0.050567 1\n0.050984 1\n0.050608 1\n0.051213 1\n0.049397 1\n0.050788 1\n0.051342 1\n0.050462 1\n0.050474 1\n0.050159 1\n0.050561 1\n0.050956 1\n0.051627 1\n0.049334 1\n0.051286 1\n0.051409 1\n0.050592 1\n0.050965 36\n0.439871 32\n0.207291 32\n0.086993 36\n0.121120 32\n0.055570 32\n0.112389 32\n0.087855 32\n0.024295 4\n0.646817 1\n0.240623 28\n0.160270 28\n0.120365 28\n0.071655 3\n0.135753 28\n0.048100 28\n0.048263 28\n0.079427 28\n0.088163 28\n0.184247 28\n0.088056 3\n0.095949 28\n0.055713 28\n0.112277 4\n0.256202 8\n0.127945 1\n0.159742 4\n0.136100 4\n0.120203 3\n0.063488 28\n0.120611 28\n0.079781 3\n0.128203 28\n0.311847 28\n0.039811 28\n0.095845 28\n0.096311 28\n0.112028 28\n0.192047 3\n0.063877 28\n0.080083 28\n0.047751 28\n0.087806 2\n0.112461 28\n0.063891 28\n0.047944 28\n0.184175 28\n0.039960 3\n0.087778 28\n0.144349 28\n0.135860 28\n0.056043 28\n0.111952 28\n0.072047 3\n0.080008 28\n0.119921 99\n0.264348 100\n0.335532 28\n0.192219 99\n0.240181 28\n0.151505 28\n0.208113 28\n0.088164 3\n0.079751 28\n0.056129 28\n0.103842 28\n0.055944 28\n0.136309 28\n0.191848 3\n0.247999 28\n0.375894 3\n0.120079 28\n0.071943 28\n0.031865 28\n0.079887 28\n0.104334 28\n0.063794 28\n0.264187 99\n0.320363 99\n0.103976 28\n1.303626 28\n0.207928 28\n0.057324 28\n0.032024 28\n0.166475 28\n0.064231 2\n0.096152 28\n0.127451 28\n0.120415 28\n0.088695 3\n0.086998 28\n0.072472 3\n0.055779 28\n0.136146 28\n0.087491 28\n0.096534 3\n0.095610 1\n0.296563 4\n0.103747 28\n0.127871 3\n0.136283 28\n0.167978 28\n0.071849 28\n0.087511 28\n0.096546 4\n0.312089 28\n0.031851 28\n0.135891 28\n0.048064 28\n0.127998 3\n0.048154 28\n0.055648 28\n0.104187 28\n0.103929 28\n0.072246 28\n0.215819 2\n0.312005 28\n0.136182 28\n0.151804 28\n0.023917 28\n0.184051 3\n0.055793 28\n0.088396 28\n0.087778 28\n0.112284 1\n0.079660 28\n0.080437 28\n0.127727 28\n0.071576 28\n0.064294 3\n0.056029 28\n0.128286 28\n0.087515 1\n0.104563 28\n0.223644 28\n0.024024 28\n0.095970 28\n0.184352 28\n0.095812 3\n0.088034 28\n0.240063 28\n0.079648 28\n0.160160 3\n0.128124 1\n0.192046 4\n0.111972 4\n0.127940 8\n0.103678 28\n0.392229 28\n0.136155 28\n0.136111 28\n0.087738 3\n0.176165 28\n0.071930 28\n0.080029 28\n0.216093 4\n0.271890 4\n0.103990 8\n0.136497 28\n0.055552 28\n0.144239 28\n0.119745 28\n0.063968 28\n0.064031 28\n0.368042 28\n0.095832 4\n0.279815 4\n0.096266 28\n0.031941 28\n0.048104 3\n0.119892 28\n0.056085 8\n0.344114 28\n0.160105 28\n0.135900 28\n0.079863 28\n0.103849 1\n0.088207 28\n0.072062 28\n0.167935 99\n0.368501 28\n0.271625 28\n0.207974 4\n0.335948 28\n0.183960 28\n0.047939 28\n0.136145 3\n0.111877 28\n0.144329 28\n0.087772 28\n0.071838 3\n0.096020 28\n0.128076 8\n0.343919 28\n0.144128 28\n0.064111 3\n0.103819 28\n0.120033 3\n0.143821 28\n0.047741 28\n0.096215 28\n0.112133 28\n0.135763 28\n0.104574 28\n0.032233 3\n0.079552 28\n0.096098 28\n0.087703 1\n0.080292 28\n0.032481 28\n0.079657 28\n0.134383 28\n0.089283 28\n0.071850 28\n0.176300 28\n0.088028 28\n0.071670 3\n0.144093 28\n0.064614 28\n0.135997 28\n0.031716 28\n0.063668 3\n0.160178 28\n0.127985 28\n0.071980 28\n0.023653 28\n0.144534 28\n0.087568 3\n0.064553 28\n0.103775 28\n0.039921 2\n0.136298 28\n0.055670 28\n0.119904 28\n0.128290 28\n0.184214 28\n0.095780 3\n0.087523 28\n0.096804 28\n0.063491 1\n0.087930 28\n0.184533 28\n0.103614 28\n0.063970 28\n0.047981 3\n0.079822 28\n0.176551 28\n0.127500 28\n0.040368 28\n0.103811 3\n0.072033 28\n0.120112 28\n0.071973 3\n0.087967 28\n0.007650 2\n0.088650 28\n0.215750 28\n0.087740 28\n0.080217 28\n0.103776 28\n0.087920 28\n0.072392 28\n0.056168 28\n0.143730 25\n0.208272 74\n0.000039 28\n0.247449 28\n0.168779 28\n0.071195 3\n0.112019 28\n0.047901 28\n0.168016 28\n0.064297 28\n0.047726 4\n0.392132 4\n0.112066 28\n0.080037 4\n0.327758 28\n0.200136 28\n0.024349 28\n0.047705 3\n0.104065 28\n0.223890 28\n0.047925 3\n0.192270 1\n0.552015 4\n0.500644 8\n0.049980 1\n0.050370 4\n0.050683 4\n0.050430 4\n0.050419 4\n0.175391 28\n0.183952 28\n0.104022 28\n0.200042 28\n0.119985 28\n0.119698 3\n0.015969 28\n0.168128 3\n0.015648 28\n0.248538 28\n0.120065 28\n0.143639 28\n0.080000 28\n0.136264 28\n0.175946 4\n0.312060 3\n0.055935 1\n0.231823 4\n0.104199 3\n0.137305 28\n0.070580 28\n0.143797 28\n0.144532 28\n0.039730 2\n0.143951 28\n0.048117 28\n0.080024 28\n0.104093 3\n0.111978 28\n0.408145 28\n0.175784 28\n0.168085 4\n0.288055 28\n0.168367 28\n0.072081 28\n0.151473 4\n0.432133 1\n0.047855 28\n0.103956 28\n0.296022 28\n0.232052 28\n0.143885 28\n0.176088 28\n0.063325 2\n0.096483 28\n0.128014 28\n0.144099 28\n0.007811 28\n0.074029 3\n0.126451 28\n0.111453 28\n0.168170 28\n0.056261 28\n0.039914 3\n0.103781 28\n0.056252 28\n0.080054 28\n0.087710 3\n0.088132 28\n0.175779 28\n0.040204 4\n0.505944 8\n0.102125 28\n0.063892 28\n0.152151 28\n0.063527 28\n0.208670 28\n0.207762 28\n0.064659 3\n1.183437 28\n0.103934 28\n0.087554 2\n0.064373 28\n0.048052 28\n0.063560 28\n0.072183 3\n0.129316 28\n0.175184 28\n0.175710 28\n0.304056 28\n0.135744 28\n0.072146 28\n0.032263 28\n0.151673 28\n0.207900 25\n0.336745 80\n0.000077 28\n0.071360 28\n0.119846 28\n0.040016 3\n0.136144 28\n0.048297 28\n0.079794 28\n0.115349 1\n0.060707 28\n0.104138 28\n0.159377 28\n0.144605 28\n0.143920 28\n0.071758 28\n0.039723 28\n0.144963 1\n0.047207 28\n0.047731 28\n0.112402 28\n0.160063 28\n0.143905 28\n0.176997 28\n0.062821 2\n0.096241 28\n0.088121 28\n0.103705 28\n0.216126 28\n0.135901 28\n0.112036 62\n0.047889 3\n0.127903 28\n0.088216 28\n0.120118 28\n0.088190 28\n0.031728 28\n0.103982 3\n0.072029 28\n0.135945 28\n0.063708 2\n0.096432 28\n0.056096 28\n0.200061 28\n0.104015 28\n0.096119 28\n0.039546 3\n0.056051 28\n0.352326 28\n0.094860 28\n0.073019 3\n0.103829 28\n0.071561 28\n0.136660 28\n0.215715 28\n0.176184 28\n0.087894 28\n0.200075 1\n0.192219 28\n0.127936 28\n0.103702 3\n0.064279 28\n0.071964 28\n0.144068 28\n0.184167 2\n5.487926 28\n0.247607 28\n0.608202 28\n0.055794 28\n0.032334 28\n0.103819 28\n0.111925 28\n0.088121 2\n0.095609 28\n0.136664 28\n0.135997 3\n0.135432 66\n0.024138 28\n0.047991 28\n0.143924 28\n0.048150 28\n0.095984 25\n0.130108 50\n0.000171 24\n0.525725 4\n0.152076 4\n0.175996 4\n0.152068 4\n0.143958 70\n0.143915 1\n0.128586 25\n0.255908 74\n0.000042 65\n0.071161 28\n0.072390 28\n0.136022 28\n0.048055 28\n0.071940 28\n0.167682 1\n0.055678 1\n0.000758 28\n0.063559 28\n0.048008 3\n0.087906 28\n0.081445 28\n0.270743 28\n0.111921 28\n0.128244 28\n0.191764 28\n0.071996 3\n0.120118 28\n0.215836 28\n0.064154 28\n0.080833 28\n0.087313 28\n0.039873 28\n0.056139 1\n0.111991 28\n0.055700 28\n0.064329 3\n0.088240 28\n0.191703 28\n0.152075 28\n0.152084 28\n0.111603 28\n0.191832 28\n0.064197 28\n0.136352 28\n0.055641 28\n0.088019 3\n0.112030 28\n0.056037 28\n0.039906 1\n0.120651 28\n0.719404 28\n0.401077 28\n0.207340 3\n0.111643 28\n0.288235 28\n0.079773 28\n0.111659 66\n0.488345 28\n0.096126 28\n0.271783 3\n0.152378 28\n0.207855 28\n0.136002 3\n0.096126 28\n0.407646 28\n0.096449 28\n0.143843 3\n0.120063 28\n0.127695 28\n0.120117 3\n0.071776 28\n0.080275 28\n0.112010 28\n0.063680 28\n0.056357 28\n0.239864 3\n0.112019 28\n0.112413 28\n0.199681 3\n0.136142 28\n0.047690 28\n0.136237 28\n0.112207 28\n0.183653 28\n0.088063 64\n0.272300 28\n0.071423 28\n0.112005 3\n0.087758 28\n0.128205 28\n0.071752 3\n0.112555 28\n0.055772 28\n0.112275 28\n0.055764 3\n0.095864 28\n0.063988 28\n0.104256 28\n0.088009 3\n0.120076 28\n0.111913 28\n0.136122 28\n0.031887 28\n0.072066 28\n0.263846 3\n0.096234 66\n0.071626 28\n0.120060 2\n0.096134 28\n0.040001 28\n0.055493 28\n0.128552 28\n0.056019 28\n0.079865 28\n0.128524 3\n0.063688 28\n0.079474 28\n0.056139 3\n0.080086 28\n0.072443 28\n0.103821 3\n0.072615 28\n0.167402 28\n0.247833 2\n0.112171 28\n0.104006 28\n0.063928 28\n0.095870 3\n0.096214 28\n6.160403 28\n0.087272 28\n0.072207 2\n0.104009 28\n7.232260 28\n0.167932 28\n0.055978 28\n0.135901 28\n0.152069 4\n0.351566 28\n0.072429 28\n0.111943 28\n0.057160 28\n0.062434 28\n0.112706 29\n0.064098 28\n0.135897 28\n0.111672 28\n0.192116 111\n1.385402 29\n0.000039 45\n0.501795 1984\n0.580487 4\n0.787925 1\n0.000859 933\n0.000084 286\n0.000861 5\n0.207923 771\n0.000136 269\n0.000040 5\n0.255861 603\n0.000038 161\n0.000028 682\n0.000676 5\n0.946790 897\n0.000049 899\n0.000549 349\n0.425196 1344\n0.000513 4\n0.739434 1\n0.000426 52\n0.000184 1\n0.000219 591\n0.000200 1\n0.000255 332\n0.000197 101\n0.000337 1\n0.000286 92\n0.000202 135\n0.000315 1\n0.000201 146\n0.000168 64\n0.486154 64\n0.164104 64\n0.559785 65\n0.168026 3\n0.262911 3\n0.501169 3\n0.049177 3\n0.051089 3\n0.050842 3\n0.050568 2\n0.050901 1\n0.051275 3\n0.050866 3\n0.050509 3\n0.197683 3\n0.167807 3\n0.602269 70\n0.308905 32\n0.156126 32\n0.119895 32\n0.096053 66\n1.121198 65\n0.332415 8\n0.311577 70\n1.396510 8\n0.201060 28\n1.137186 51\n0.123582 1\n0.088036 1\n0.000087 28\n0.248019 28\n0.143738 28\n0.056435 3\n0.151626 49\n0.168047 38\n0.415693 3\n0.160056 203\n0.147068 41\n0.229688 41\n0.119852 41\n0.104447 41\n0.063275 41\n0.080455 41\n0.080065 57\n0.204094 197\n2.479593 43\n0.164804 43\n0.167548 43\n0.160147 43\n0.151939 43\n0.145189 43\n0.134887 18\n0.127594 28\n0.263772 28\n0.184258 28\n0.103626 47\n0.047916 28\n0.291004 62\n1.055596 806\n0.245712 358\n0.000094 423\n0.000716 64\n0.516930 65\n0.312392 99\n1.026196 2\n0.106728 118\n0.883654 112\n0.039187 65\n0.012756 25\n0.608731 59\n0.000040 28\n0.060162 28\n0.024068 55\n0.087677 3\n0.168207 109\n0.256354 41\n0.231872 41\n0.544908 43\n0.305016 43\n0.102615 8\n0.151589 28\n0.039749 28\n0.072205 28\n0.127649 4\n0.256455 4\n0.111986 8\n0.120074 109\n0.127746 41\n0.232004 41\n0.088090 41\n0.127779 41\n0.136371 41\n0.079975 41\n0.064204 99\n0.168453 65\n0.531445 4\n0.323750 28\n0.719762 28\n0.192107 28\n0.063912 55\n0.015798 98\n0.328491 28\n0.004844 107\n0.235103 2\n0.099628 103\n28.007829 75\n2.310147 65\n0.148388 65\n0.200267 8\n0.279994 1\n0.191149 39\n0.450718 33\n0.152081 33\n0.151855 33\n0.128017 203\n0.592143 43\n0.143733 43\n0.184777 43\n0.167358 43\n0.063767 43\n0.088062 43\n0.071808 171\n0.176493 65\n1.088229 65\n0.182077 1\n2.302814 39\n0.570688 33\n0.168356 30\n0.655579 57\n0.103994 30\n0.128078 30\n0.559912 30\n0.167923 30\n0.103933 30\n0.448366 51\n0.279963 40\n0.182319 30\n0.290074 201\n0.135590 483\n0.509774 422\n0.000106 65\n0.187346 65\n0.180911 64\n0.192407 7\n0.295868 65\n0.698101 65\n0.165592 65\n0.368031 1\n0.272633 43\n1.329845 43\n0.468021 58\n0.300002 374\n0.510184 274\n0.000090 1\n0.734517 1\n0.175449 50\n0.283624 47\n0.424024 4\n0.525183 99\n0.738531 2\n0.531119 4\n0.478462 28\n0.286433 28\n0.119696 28\n0.183934 55\n0.088092 3\n0.063937 28\n0.168112 28\n0.127902 28\n0.024071 3\n0.136291 49\n0.143743 38\n0.136052 1\n0.120001 201\n0.184185 388\n0.508900 422\n0.000045 41\n0.107357 43\n0.343653 41\n0.207992 41\n0.056174 57\n0.232000 297\n0.509204 308\n0.000039 28\n0.210621 100\n0.016114 28\n0.005913 21\n0.458225 4\n0.103600 100\n0.184285 28\n0.005042 107\n0.275224 1\n0.122718 1\n0.000121 28\n0.220115 28\n0.080084 4\n0.240300 5\n0.144060 1\n0.000028 4\n0.152426 2\n0.143615 1\n0.371317 4\n0.356621 28\n0.247688 28\n0.112170 28\n0.199288 55\n0.048627 3\n0.119937 28\n0.168521 28\n0.127923 28\n0.071940 3\n0.159779 49\n0.168362 38\n0.095653 1\n0.176329 201\n0.271922 41\n0.361315 41\n0.238865 57\n0.391930 100\n0.191943 28\n0.004970 107\n0.468123 1\n0.098052 1\n0.000063 28\n0.236176 5\n0.280052 1\n0.000031 4\n0.112349 28\n0.335851 28\n0.144156 28\n0.167914 55\n0.087603 36\n0.248415 60\n0.360253 3\n0.079395 28\n0.120407 28\n0.128022 28\n0.023757 3\n0.224251 49\n1.440034 38\n0.135987 1\n0.055933 201\n0.216221 41\n0.216097 41\n0.095880 41\n0.007769 57\n0.344403 198\n0.288025 43\n0.112246 57\n0.239858 100\n0.120061 28\n0.004881 75\n26.997114 65\n0.156262 65\n0.167718 65\n0.152011 65\n0.168188 64\n0.151570 7\n0.231122 399\n0.268704 8\n0.169392 28\n0.309674 28\n0.351297 28\n0.256424 1\n0.119539 62\n0.208406 45\n0.506687 3\n0.092853 28\n0.072562 28\n0.231811 28\n0.159781 118\n0.502444 112\n0.038856 65\n0.012884 14\n102.735269 1\n0.000083 334\n0.000068 1\n0.000054 343\n0.000060 1\n0.000290 1\n0.000050 317\n0.000067 398\n0.000549 2\n0.000332 1\n0.000063 89\n0.000238 1\n0.000100 78\n0.000159 1\n0.000146 62\n0.000138 1\n0.000160 139\n0.000145 1\n0.497371 68\n0.000082 1\n0.000055 80\n0.000056 1\n0.000050 67\n0.000054 1\n0.000269 67\n0.000051 1\n0.000049 323\n0.000071 1\n0.000158 1\n0.000237 129\n0.000846 1\n0.000065 1\n0.000047 72\n0.000050 1\n0.000046 1\n0.000048 69\n0.000047 1\n0.000051 1\n0.000047 66\n0.000187 2\n0.000416 1\n0.000064 1\n0.000176 270\n0.000215 1\n0.000060 1\n0.000051 1\n0.000170 45\n0.000123 1\n0.000113 1\n0.000122 1\n0.000117 59\n0.000119 1\n0.000089 1\n0.000130 53\n0.000123 206\n0.000414 1\n0.000070 1\n0.000052 207\n0.000063 1407\n0.040921 2\n0.049835 1342\n0.000667 2\n0.056031 759\n0.000048 248\n0.000540 515\n0.043379 472\n0.000036 173\n0.000548 372\n0.000036 258\n0.060247 717\n0.000095 216\n0.000077 1\n0.000557 49\n0.000421 91\n0.000030 28\n0.000455 250\n0.000063 1\n0.030220 55\n0.000091 1\n0.000058 161\n0.000054 1\n0.000061 89\n0.000076 78\n0.000181 1\n0.047433 24\n0.002244 25\n0.000179 1\n0.048125 1\n0.050198 1\n0.048648 1\n0.051951 1\n0.050710 1\n0.050324 12\n0.441176 59\n0.000151 685\n0.000729 254\n0.000043 3\n0.000601 345\n0.000035 25\n0.000495 239\n0.000041 64\n5.274738 64\n0.494472 64\n0.050821 64\n0.051663 64\n0.051373 64\n0.050350 65\n0.050378 64\n0.049680 64\n0.050425 64\n0.050219 64\n0.051364 63\n0.050276 63\n0.050641 63\n0.049623 63\n0.051129 63\n0.545823 63\n2.255716 3\n0.831391 3\n0.500526 3\n0.050048 3\n0.050574 3\n0.050048 3\n0.050758 2\n0.050312 1\n0.050189 3\n0.050841 3\n0.050939 3\n0.050075 3\n0.050245 3\n0.050401 3\n0.051385 2\n0.050277 1\n0.051716 3\n0.050305 3\n0.050462 3\n0.051172 3\n0.050704 3\n0.050489 3\n0.050656 2\n0.050422 1\n0.049650 3\n0.050891 3\n0.050985 72\n0.540094 32\n0.213030 32\n0.167981 32\n0.032054 32\n0.063573 32\n0.096278 32\n0.024131 32\n0.088143 32\n0.034676 31\n0.597374 31\n0.159730 31\n0.159930 31\n0.168184 31\n0.159895 31\n0.167845 117\n0.246600 111\n0.040595 64\n0.013761 74\n0.202492 65\n0.166498 65\n0.327791 7\n0.127567 1\n0.152384 1\n0.515091 633\n0.335247 297\n0.000034 245\n0.000092 529\n0.000731 219\n0.303703 718\n0.000092 350\n0.000728 6\n0.318476 774\n0.000143 219\n0.000038 6\n0.320005 526\n0.000080 847\n0.000773 150\n0.338848 842\n0.000046 2\n0.000077 105\n0.000428 226\n0.000059 1\n0.000060 58\n0.000243 135\n0.000427 297\n0.000032 88\n0.398928 851\n0.000048 3\n0.000628 117\n0.000068 205\n0.000389 64\n0.000030 358\n0.000483 735\n0.806712 353\n0.000042 2\n0.000079 263\n0.000538 117\n0.000030 279\n0.970430 673\n0.000088 2\n0.000581 57\n0.000088 3\n0.000279 200\n0.000065 108\n0.000362 64\n0.436979 8\n0.335383 25\n0.246976 85\n0.000033 133\n0.000559 1\n0.334173 33\n0.509111 28\n0.000039 28\n0.004012 28\n0.171637 4\n0.679932 5\n0.144165 28\n0.184070 28\n0.199529 28\n0.144119 28\n0.216553 28\n0.471606 3\n0.152594 1\n1.023612 61\n0.000807 1\n0.096150 28\n0.031704 28\n0.159367 28\n0.096106 55\n0.088283 56\n0.001312 47\n0.001471 46\n0.117029 28\n0.184003 28\n0.047765 28\n0.192516 28\n0.039770 4\n0.376005 4\n0.136984 28\n0.326991 28\n0.087838 28\n0.440225 28\n0.112914 884\n0.455162 808\n0.000520 297\n0.000257 24\n0.514327 25\n0.000052 2\n0.052963 1196\n0.000453 246\n0.000423 62\n1.285497 63\n0.150858 63\n0.168166 63\n0.191885 66\n0.818457 278\n0.129605 46\n0.514333 27\n0.000050 245\n4.253281 12\n0.498856 149\n0.197107 71\n0.446373 63\n0.498963 62\n0.050086 61\n0.050150 110\n0.055360 833\n0.000050 272\n0.000933 81\n0.000031 365\n0.002803 64\n0.041311 64\n0.051494 64\n0.423133 63\n0.176503 63\n0.175787 63\n0.487711 47\n0.506684 63\n0.085209 63\n0.432245 63\n0.175501 63\n0.184287 63\n0.128098 65\n0.151691 64\n0.151851 3\n0.850945 278\n0.232500 6\n0.688756 1419\n0.000412 1\n0.211393 1\n0.000606 158\n0.000280 1\n0.000350 1\n0.000282 112\n0.001171 1\n0.000424 1\n0.000272 46\n0.000331 1\n0.000287 1\n0.000262 21\n0.000246 1\n0.000261 1\n0.000286 89\n0.000267 1\n0.000275 1\n0.000241 89\n0.000239 1\n0.000268 1\n0.000241 39\n0.000241 1\n0.000266 1\n0.000240 112\n0.000245 636\n0.004336 2\n0.436639 759\n0.000112 248\n0.000037 514\n0.344062 421\n0.000039 70\n0.000069 2\n0.000577 99\n0.000040 4\n0.000423 370\n0.000036 258\n0.342290 720\n0.000049 2\n0.000074 2\n0.000927 353\n0.000072 28\n0.000629 250\n0.000032 57\n0.393185 329\n0.000049 177\n0.657118 748\n0.000040 288\n0.000679 64\n0.587067 64\n0.500695 63\n0.050454 63\n0.050889 63\n0.050090 64\n0.050727 63\n0.049743 63\n0.050221 62\n0.049980 61\n0.050483 260\n0.055091 696\n0.000044 2\n0.000025 74\n0.000078 255\n0.000603 51\n0.001896 388\n0.009239 64\n0.034452 64\n0.050217 63\n0.050748 63\n0.050307 64\n0.050774 64\n5.521346 63\n0.183700 64\n0.343298 1\n0.183662 1\n0.502311 1\n0.049207 1\n0.248492 36\n2.571912 36\n0.095709 36\n0.160305 3\n0.588136 3\n0.226965 3\n0.293218 30\n0.555801 30\n0.104053 30\n0.312420 33\n0.455397 30\n0.672078 117\n1.030382 111\n0.041902 64\n0.013135 74\n3.242097 5\n0.800263 898\n0.000056 216\n0.000032 459\n0.000790 6\n0.382673 919\n0.000051 135\n0.000556 151\n0.000066 5\n0.318638 771\n0.000150 243\n0.000040 1490\n0.417139 1504\n0.499229 392\n0.000044 9\n0.375632 783\n0.000110 124\n0.000039 766\n0.000619 677\n1.129325 836\n0.000778 64\n0.716612 66\n0.495532 64\n0.049880 64\n0.051416 64\n0.050124 64\n0.050554 64\n0.050066 64\n0.050370 64\n0.050392 64\n0.049680 3\n0.447802 3\n0.500099 3\n0.050647 3\n0.049932 3\n0.050004 3\n0.050397 2\n0.051754 1\n0.050203 3\n0.050021 3\n0.049805 3\n0.050892 3\n0.050399 3\n0.050117 3\n0.050959 2\n0.050819 1\n0.051442 3\n0.050512 3\n0.050354 3\n0.049901 3\n0.050310 3\n0.049625 3\n0.050242 2\n0.050670 69\n0.360645 31\n0.131923 31\n0.159579 31\n0.144278 31\n0.136130 32\n0.611760 32\n0.248790 32\n0.115561 32\n0.176151 32\n0.207823 32\n0.024869 32\n0.151148 32\n0.055680 118\n0.614035 112\n0.053368 65\n0.012911 18\n3.652067 71\n0.080313 181\n0.537105 2\n0.278003 20\n0.129849 2\n0.199626 36\n0.277351 364\n0.000017 96\n0.015455 18\n0.777678 23\n0.209754 33\n0.529168 125\n0.001675 935\n0.000462 446\n0.000299 356\n0.000144 65\n0.542954 65\n0.197190 1\n0.391113 3\n0.383859 3\n0.500537 3\n0.055297 3\n0.047297 3\n0.051695 3\n0.049538 2\n0.049879 1\n0.051234 3\n0.051135 3\n0.051055 3\n0.053037 3\n0.759306 89\n0.110794 59\n0.000077 65\n0.205718 1\n0.029202 65\n0.170554 1\n0.155820 65\n0.013142 118\n0.134291 65\n0.146424 1\n0.002636 118\n0.177491 65\n0.115094 1\n0.002910 89\n0.155670 29\n0.000072 1\n0.108139 65\n0.016995 118\n0.106490 117\n0.580748 111\n0.039889 65\n0.013847 180\n0.147630 2\n0.454049 20\n0.129289 2\n0.297335 36\n0.467507 7\n0.000013 33\n0.000607 7\n0.020267 51\n0.000171 36\n0.000240 310\n0.000082 96\n0.036016 18\n0.584282 23\n0.161212 9\n0.478918 2018\n0.004785 65\n0.545504 65\n0.495708 65\n0.051003 65\n0.051508 65\n0.050285 65\n0.050364 65\n0.050296 65\n0.050715 66\n0.049794 69\n1.032416 31\n0.139823 31\n0.151729 31\n0.128370 118\n0.269810 112\n0.030161 65\n0.013745 46\n0.218023 135\n0.001762 2\n0.286061 20\n0.137597 2\n0.403455 36\n0.447855 7\n0.000013 33\n0.000588 1484\n0.267840 56\n0.020441 69\n0.865353 53\n0.020534 69\n0.145119 53\n0.020505 69\n0.145339 53\n0.020723 69\n0.145195 64\n0.186147 64\n0.207760 64\n0.186199 236\n0.089218 64\n0.072033 65\n1.057148 65\n0.206905 82\n0.166196 141\n0.567651 8\n0.430634 84\n0.082779 82\n0.205615 8\n0.531082 87\n0.327583 8\n0.491397 87\n0.145652 259\n0.464906 82\n0.070410 69\n1.225491 69\n0.500513 69\n0.041692 59\n0.128203 59\n0.020927 69\n0.062491 69\n0.041599 69\n0.041496 70\n0.062385 70\n0.041666 70\n0.062325 70\n0.041594 70\n0.127531 70\n0.041762 70\n0.041734 64\n0.062544 64\n0.041443 64\n0.041465 64\n0.062181 64\n0.041335 64\n0.209872 64\n0.205885 8\n0.231764 8\n0.472979 70\n0.270901 590\n0.623256 96\n0.086007 18\n0.966916 23\n0.201814 2023\n0.426800 66\n57.888041 65\n0.173026 3\n0.239149 2\n0.500674 1\n0.051125 3\n0.050573 3\n0.050454 3\n0.050258 3\n0.050704 3\n0.049435 3\n0.212679 2\n0.152141 70\n0.152477 32\n0.099387 32\n0.087772 32\n0.560267 32\n0.151932 32\n0.248171 32\n0.063631 32\n0.144370 32\n0.032609 31\n0.279947 31\n0.135590 31\n0.159828 31\n0.151982 31\n0.159982 31\n0.143493 31\n0.128428 31\n0.136012 118\n0.333721 112\n0.033197 65\n0.013874 181\n0.152590 2\n0.189755 20\n0.113623 2\n0.159501 36\n0.425944 7\n0.000013 33\n0.000560 1484\n0.276804 6\n0.020410 60\n0.600508 40\n0.020783 60\n0.186628 40\n0.020949 60\n0.165896 40\n0.020862 60\n0.145413 5\n0.020666 69\n0.145067 470\n0.503534 96\n0.081164 18\n0.164025 23\n0.145341 2020\n0.179412 70\n1.138422 32\n0.140859 32\n0.184435 32\n0.111647 32\n0.128243 32\n0.384108 32\n1.039851 32\n0.343975 32\n0.153000 32\n0.062792 32\n0.320903 32\n0.103126 32\n0.200052 32\n0.056043 32\n0.039933 32\n0.104283 32\n0.039921 32\n0.207701 32\n0.064751 118\n0.485218 112\n0.039690 65\n0.013072 181\n0.178892 2\n0.318207 20\n0.121602 2\n0.207137 36\n0.415173 7\n0.000013 33\n0.000564 1484\n0.272265 56\n0.020325 69\n1.073285 53\n0.021186 69\n0.124544 53\n0.020915 69\n0.124272 53\n0.020729 64\n0.186195 53\n0.020900 229\n0.440767 64\n0.051661 64\n0.041621 64\n0.041588 54\n0.062384 64\n0.041652 64\n0.062165 64\n0.041662 64\n0.062624 64\n0.041467 64\n0.041671 64\n0.062495 471\n115.682056 96\n0.081062 18\n1.255959 23\n0.697380 2023\n1.419401 65\n23.304782 2\n0.395834 25\n1.150751 156\n0.000475 8\n0.638572 28\n0.764747 28\n0.384754 28\n0.103563 28\n0.168185 28\n0.200429 28\n0.231547 28\n0.064166 28\n0.063714 28\n0.248023 28\n0.199874 28\n0.071995 28\n0.202670 28\n0.046188 28\n0.031762 3\n0.159753 64\n0.128076 3\n0.143129 28\n0.433775 28\n0.079054 28\n0.136063 118\n0.541520 112\n0.041206 65\n0.014480 181\n0.167967 2\n0.182352 20\n0.161232 2\n0.809560 36\n0.463284 7\n0.000012 33\n0.000933 1484\n0.269195 56\n0.020308 69\n0.475000 53\n0.020728 7\n0.621280 12\n0.000035 39\n0.000028 36\n0.001386 197\n0.000067 36\n0.000365 122\n0.000065 19\n0.000272 2\n0.000026 96\n0.085715 18\n0.134548 23\n0.129380 1976\n0.195079 1\n1.299597 67\n0.631053 276\n0.117508 115\n0.173574 109\n0.048487 64\n0.008127 72\n87.426348 64\n0.148673 64\n0.151922 64\n49.320432 3\n0.198134 3\n0.499943 3\n0.049986 3\n0.050128 3\n0.049941 3\n0.050086 2\n0.050668 1\n0.050303 3\n0.050372 3\n0.051652 3\n0.050164 3\n0.239018 62\n0.678048 59\n0.000038 65\n0.398148 86\n0.504046 65\n0.248419 89\n0.134703 65\n0.169966 89\n0.118297 65\n0.137610 60\n0.087195 29\n0.000067 65\n0.216660 89\n0.150275 65\n0.346147 65\n0.163253 65\n0.168064 65\n0.144439 8\n0.399281 65\n1.348852 2\n0.203028 65\n5.516944 65\n0.163802 32\n0.539709 32\n0.499254 32\n0.050777 32\n0.050781 32\n0.050620 32\n0.051766 32\n0.050332 32\n0.049885 32\n0.051106 32\n0.567982 32\n0.127750 32\n0.152413 32\n0.111999 32\n0.088083 32\n0.047681 65\n0.624667 65\n0.300957 65\n0.415919 1\n1.694902 64\n0.389252 64\n0.164214 64\n0.160047 64\n0.143921 65\n0.120203 3\n0.222332 3\n0.499770 3\n0.050577 3\n0.050674 3\n0.051021 3\n0.050953 2\n0.049558 1\n0.050741 3\n0.050259 3\n0.050576 3\n0.052348 3\n0.050899 3\n0.051022 32\n0.825671 32\n0.135812 32\n0.144131 32\n0.079925 118\n0.469899 112\n0.040549 65\n0.006367 76\n0.747448 65\n0.140813 65\n0.160156 65\n0.167888 65\n0.216358 8\n0.399289 65\n0.324529 3\n0.251644 65\n1.031769 65\n3.268527 65\n0.155964 65\n0.192064 3\n0.386755 28\n0.143342 28\n0.479867 28\n0.159873 28\n0.176181 28\n0.376198 28\n0.335684 28\n0.231960 25\n0.249244 74\n0.000225 8\n0.129415 28\n1.716622 28\n0.440392 28\n0.145345 28\n0.126542 28\n0.127986 28\n0.112049 28\n0.071998 28\n0.056103 28\n0.135839 28\n0.215945 28\n0.112185 28\n0.104405 28\n0.279752 28\n0.095480 4\n0.256897 4\n0.127548 28\n0.071908 28\n0.199958 28\n0.143664 28\n0.112199 28\n0.232362 28\n0.687524 28\n0.288286 28\n7.104305 33\n0.374447 65\n0.500908 64\n1.722533 62\n0.159916 62\n0.167938 131\n0.220251 901\n0.000186 357\n0.001169 65\n0.538569 65\n0.168149 65\n0.175901 1\n0.310773 3\n0.742474 107\n0.173974 153\n0.000033 3\n0.111497 80\n0.409043 134\n0.000033 64\n0.423713 64\n0.497363 64\n0.050368 53\n0.000935 46\n0.001145 72\n0.047816 64\n0.050527 65\n0.050798 63\n0.050661 63\n0.050063 63\n0.051313 63\n0.050918 63\n0.051175 62\n0.050251 61\n0.051039 248\n0.338609 693\n0.000045 2\n0.000078 63\n0.000525 459\n0.000965 64\n0.178145 64\n0.432213 64\n0.167795 65\n0.184332 37\n0.218513 227\n0.000075 65\n0.231264 47\n0.550683 106\n0.003985 1\n0.000095 238\n0.000080 13\n0.529485 115\n0.065681 109\n0.034071 64\n0.015660 72\n0.321037 64\n0.452807 64\n0.499758 64\n0.049935 64\n0.050059 64\n0.050043 64\n0.050896 64\n0.050332 66\n0.050543 61\n0.606054 181\n0.704836 757\n0.000082 87\n0.000506 367\n0.000551 64\n0.318411 8\n0.631537 1\n1.424223 1\n0.159159 1\n0.168242 1\n0.183700 1\n0.175748 1\n0.168099 1\n0.416137 1\n0.967023 73\n0.000932 18\n0.435455 22\n0.000090 42\n0.632115 18\n0.608090 2\n0.000640 23\n0.000040 45\n0.135196 17\n1.231946 23\n0.000092 42\n0.296088 42\n0.168112 63\n0.184737 42\n0.127467 44\n0.816004 43\n0.568277 42\n0.088347 3\n0.259484 2\n0.160756 1\n0.143241 3\n0.144461 34\n0.331312 65\n0.336160 1\n0.491943 1\n0.559963 32\n1.203587 1\n0.132376 1\n0.167946 1\n0.144300 38\n0.131609 65\n0.520484 65\n0.165209 3\n1.018699 28\n1.419793 28\n0.979803 3\n0.440107 1\n0.352019 28\n0.591802 3\n0.096127 49\n0.232311 3\n0.104001 28\n3.432024 28\n0.071764 28\n1.111973 28\n1.799979 28\n0.336051 28\n0.175970 28\n0.832273 28\n0.343822 28\n0.232004 28\n1.408013 28\n0.328153 66\n0.415865 3\n0.375590 22\n0.508979 32\n0.000031 28\n0.971182 28\n0.216398 28\n0.423511 3\n0.287913 49\n0.152088 3\n0.136262 28\n0.632108 28\n0.111716 4\n0.464016 8\n0.128295 28\n0.079454 28\n0.064192 28\n0.264104 28\n0.224099 28\n0.239779 28\n0.256041 28\n0.200032 28\n2.287952 28\n1.927825 28\n0.312076 28\n0.272274 64\n0.456273 2\n0.280024 1\n0.351674 28\n1.207809 28\n0.144251 28\n0.351618 3\n0.136164 49\n0.232077 3\n0.112550 28\n0.231420 28\n0.120072 28\n0.367983 28\n0.272092 28\n0.231801 28\n0.328195 28\n0.160104 28\n0.368049 28\n0.303754 117\n0.781687 111\n0.033796 64\n0.015184 17\n1.797395 70\n0.032289 17\n6.007343 70\n0.032580 17\n1.303681 70\n0.040530 74\n1.883627 64\n0.653693 64\n0.733151 61\n0.513238 28\n0.299212 28\n0.200056 4\n0.376286 28\n0.255314 28\n0.224512 3\n0.783870 49\n0.088130 3\n0.168003 28\n1.616010 28\n0.047897 28\n2.761173 28\n0.127572 28\n0.159552 4\n0.680461 28\n0.047390 28\n1.928241 28\n8.720163 28\n0.279630 28\n0.576154 55\n0.112813 28\n0.471068 28\n0.256241 28\n0.055773 28\n0.232099 28\n0.095977 28\n0.281027 28\n0.118989 28\n1.015921 28\n0.111861 28\n1.632307 28\n1.312129 28\n0.439875 28\n0.816417 28\n0.327694 28\n0.440172 28\n3.231697 1\n0.996251 1\n0.500400 1\n0.050783 1\n0.050658 1\n0.050140 1\n0.050655 102\n0.052456 17\n0.047794 1\n0.050930 1\n0.050190 1\n0.050343 1\n0.050441 1\n0.050240 1\n0.050908 1\n0.050081 1\n0.050705 1\n0.050225 1\n0.049943 1\n0.050385 1\n0.049747 1\n0.050603 1\n0.051125 1\n0.051093 1\n0.050959 1\n0.049691 1\n0.050771 32\n0.702414 7\n0.435458 23\n0.518217 42\n0.000105 64\n0.571597 1\n0.357198 3\n0.787505 64\n0.610500 3\n0.181892 4\n0.463515 64\n0.280039 4\n0.215935 4\n0.232119 3\n0.191797 4\n0.194486 2\n0.165456 4\n0.328082 1\n0.353301 64\n0.310855 28\n0.728376 28\n0.247966 28\n0.488125 28\n0.831587 28\n0.130251 28\n1.405549 28\n0.456468 28\n0.168262 28\n0.111450 55\n0.103959 28\n0.120657 28\n0.247632 28\n0.112282 28\n0.127924 28\n0.088014 28\n0.256068 4\n0.864157 28\n0.319856 28\n0.240163 28\n0.408051 28\n0.119578 64\n0.351972 1\n0.172360 43\n0.691919 7\n0.261013 1\n0.199236 1\n0.247568 32\n0.659718 64\n0.279297 28\n0.368938 28\n0.792192 28\n0.247692 28\n0.296319 28\n0.239940 28\n0.327724 28\n0.096139 28\n0.152314 28\n0.611548 58\n0.000036 64\n0.840238 117\n0.065613 108\n0.032371 64\n0.015172 59\n0.512484 55\n0.000136 17\n0.789826 104\n0.291989 29\n0.000888 44\n0.211397 44\n0.520142 1536\n0.979489 106\n0.918921 933\n0.000050 343\n0.000691 73\n0.474664 791\n0.000075 480\n0.000664 91\n0.000068 287\n0.000405 236\n0.527831 1234\n0.000955 2\n1.053952 888\n0.000106 177\n0.000042 276\n0.000030 1\n0.840008 975\n0.000054 262\n0.000032 250\n0.000597 1\n0.351815 1\n0.000361 53\n0.000177 1\n0.000195 63\n0.000164 1\n0.000195 29\n0.000164 1\n0.000186 375\n0.000202 1\n0.000239 238\n0.000184 1\n0.000204 29\n0.000162 1\n0.000180 107\n0.000174 206\n0.000302 68\n0.000352 1\n0.000143 202\n0.000096 106\n0.451196 1\n0.000084 43\n0.000052 1\n0.000050 96\n0.000052 1\n0.000058 72\n0.000089 1\n0.000054 37\n0.000049 1\n0.000051 29\n0.000048 1\n0.000048 96\n0.000051 1\n0.000089 87\n0.000118 1\n0.000067 1\n0.000050 139\n0.000051 1\n0.000050 42\n0.000050 1\n0.000068 140\n0.000063 102\n0.000202 1\n0.000064 39\n0.000053 1\n0.000073 135\n0.000764 1\n0.437491 1070\n0.000047 60\n0.000604 324\n0.000061 1\n0.400177 965\n0.000087 265\n0.000610 59\n0.000030 140\n0.000416 282\n0.000037 62\n1.281839 63\n0.499950 63\n0.049878 63\n0.050519 63\n0.051327 63\n0.051255 63\n0.050492 64\n0.050436 64\n0.050046 65\n0.051498 64\n0.050361 64\n0.050917 64\n0.050121 64\n0.051407 64\n0.050178 64\n0.050644 64\n0.050297 64\n0.051078 8\n0.960868 1\n0.111363 1\n0.500545 1\n0.050436 1\n0.050761 1\n0.051072 1\n0.050459 1\n0.050781 1\n0.054430 1\n0.050196 1\n0.050209 1\n0.050786 1\n0.050101 1\n0.051725 1\n0.050159 1\n0.049867 1\n0.050291 1\n0.051141 1\n0.050814 1\n0.049899 1\n0.050043 1\n0.049921 1\n0.208276 1\n0.408492 69\n0.167964 31\n0.202914 31\n0.255854 31\n0.240100 65\n0.410994 1\n0.241788 65\n0.142594 2\n0.425339 1\n0.184201 3\n0.500613 3\n0.050615 3\n0.051247 3\n0.050324 3\n0.050582 3\n0.050097 2\n0.050906 1\n0.050179 3\n0.050658 3\n0.051245 3\n0.049989 3\n0.050123 3\n0.050152 3\n0.050858 1\n0.210216 1\n0.183754 1\n0.303995 32\n2.491228 8\n0.605594 1\n0.167438 30\n0.867672 157\n0.231704 43\n0.312049 43\n0.160305 43\n0.127801 43\n0.095559 43\n0.080079 43\n0.072291 133\n0.505620 94\n0.126625 145\n0.505690 113\n0.491820 107\n0.053662 65\n0.010291 16\n3.175630 66\n1.145254 8\n0.958099 113\n0.033415 107\n0.039667 65\n0.014549 16\n3.008154 103\n0.308298 29\n0.000041 45\n0.139636 47\n0.384485 45\n0.319536 46\n0.391978 1550\n0.612320 262\n2.205952 373\n0.000037 408\n0.000740 368\n0.637174 535\n0.000045 257\n0.000031 265\n0.000554 64\n0.828266 65\n0.251724 64\n0.216198 3\n0.366721 3\n0.500544 3\n0.051138 3\n0.050196 3\n0.051291 3\n0.050832 2\n0.050545 1\n0.051123 3\n0.050434 3\n0.050582 3\n0.051264 3\n0.050280 3\n0.050668 3\n0.050844 2\n0.051272 1\n0.050729 3\n0.050396 3\n0.050457 3\n0.051195 3\n0.050704 3\n0.050152 3\n0.050654 2\n0.050308 1\n0.050720 3\n0.050838 3\n0.051450 3\n0.050504 3\n0.051032 3\n0.050691 3\n0.050442 2\n0.051347 1\n0.051033 3\n0.312641 65\n0.444868 65\n0.164155 1\n0.303034 1\n0.129485 1\n0.798529 3\n0.151938 1\n0.351746 1\n0.160307 79\n0.654125 3\n0.409463 3\n0.152136 30\n0.684326 190\n0.223409 133\n0.507551 43\n0.212477 43\n0.200017 123\n0.256155 101\n0.507741 60\n1.201466 43\n0.620416 21\n0.000034 60\n0.163496 451\n0.347124 512\n0.000053 39\n0.509497 1\n0.000081 1\n0.000051 50\n0.000063 1\n0.030233 30\n0.947240 191\n0.215552 484\n0.507236 409\n0.000817 43\n0.204069 43\n0.199850 58\n0.265376 276\n0.508049 224\n0.000118 38\n0.446754 4\n0.329318 1\n0.500402 104\n0.052822 18\n0.048221 1\n0.051313 1\n0.050353 1\n0.050508 1\n0.050963 32\n0.702196 65\n0.424670 65\n0.173113 64\n0.160107 65\n0.168033 64\n0.143604 3\n0.263617 31\n0.267738 31\n0.143648 31\n0.500623 31\n0.050706 31\n0.051324 31\n0.050567 31\n0.051138 31\n0.143561 31\n0.160069 31\n0.167866 64\n0.406600 65\n0.166651 65\n0.592033 31\n0.275218 31\n0.151519 31\n0.184286 31\n0.168328 31\n0.167464 31\n0.159813 31\n0.159909 31\n0.176362 31\n0.175830 31\n0.135907 116\n0.854062 110\n0.032526 65\n0.012038 16\n0.436818 889\n0.000048 209\n0.000080 62\n0.678181 63\n0.500024 63\n0.050033 63\n0.050012 63\n0.050452 63\n0.050474 63\n0.051303 65\n0.051122 64\n0.050790 64\n0.050256 64\n0.050521 64\n0.620802 8\n0.583394 65\n0.459268 1\n0.212799 67\n0.667328 124\n0.449696 29\n0.000053 21\n0.256023 22\n0.000088 21\n0.089701 22\n0.000132 21\n0.260347 22\n0.000050 21\n0.169587 22\n0.000089 45\n0.381460 21\n0.138807 22\n0.000095 24\n0.103745 22\n0.000054 25\n0.072107 163\n0.000482 29\n0.391419 27\n0.000099 3\n1.446921 71\n0.918736 188\n0.327845 16\n0.239983 15\n0.500481 16\n0.049956 16\n0.051342 16\n0.050072 16\n0.051663 16\n0.050444 16\n0.049501 16\n0.051851 2\n0.048598 12\n0.000090 16\n0.049885 8\n0.979353 66\n0.768104 8\n0.411684 1\n0.139896 1\n0.510425 1\n0.041272 1\n0.050149 1\n0.049670 1\n0.050399 1\n0.050472 1\n0.051364 1\n0.050027 1\n0.051482 1\n0.050562 1\n0.050924 1\n0.050054 1\n0.052099 1\n0.050319 1\n0.051262 1\n0.049760 104\n0.053576 18\n0.049795 1\n0.049615 1\n0.050260 1\n0.050477 1\n0.050615 1\n0.051751 1\n0.050441 1\n0.050828 1\n0.050088 1\n0.050876 1\n0.049591 1\n0.050749 1\n0.050782 35\n0.713898 65\n0.472201 8\n0.279400 5\n0.000059 5\n0.461136 804\n0.000048 87\n0.000069 130\n0.000687 110\n0.640479 104\n0.038212 61\n0.012418 209\n0.271647 1051\n0.000094 3\n0.000730 311\n0.000033 462\n0.821613 608\n0.000043 4\n0.000620 312\n0.000103 296\n0.804988 349\n0.000038 7\n0.000029 174\n0.000032 8\n0.904787 910\n0.000043 246\n0.000541 64\n0.907368 64\n0.496412 40\n0.296593 577\n0.000044 7\n0.000027 171\n0.000032 410\n0.159106 948\n0.000560 508\n0.167619 459\n0.000037 643\n0.000668 907\n0.175187 82\n0.000030 36\n0.465503 867\n0.000047 209\n0.000028 62\n0.610348 63\n0.500580 63\n0.049690 63\n0.050577 63\n0.050394 63\n0.050681 63\n0.050943 65\n0.050284 64\n0.050851 64\n0.049842 64\n0.050606 64\n0.049852 64\n0.283044 65\n0.215599 1\n0.500336 1\n0.050063 1\n0.050654 1\n0.050440 1\n0.050526 1\n0.050103 1\n0.050694 1\n0.050974 1\n0.050853 1\n0.050612 1\n0.049815 1\n0.050906 69\n0.311235 31\n0.163671 31\n0.175893 46\n0.176110 6\n2.110564 803\n0.000051 217\n0.000169 204\n0.288861 764\n0.000088 287\n0.000551 3\n0.000359 311\n0.000071 91\n0.843673 1\n0.001018 698\n0.000130 2\n0.000074 192\n0.000417 204\n3.472670 763\n0.000096 1\n0.000477 287\n0.000210 4\n0.000424 304\n0.000031 462\n0.519048 608\n0.000084 3\n0.000661 313\n0.000037 247\n0.573445 579\n0.001062 8\n0.472119 1\n0.000533 909\n0.000396 39\n0.000460 1\n0.000062 206\n0.000062 64\n0.977999 64\n0.495848 64\n0.050765 64\n0.050080 64\n0.050692 64\n0.050562 64\n0.050900 65\n0.049870 65\n0.428423 1\n0.499588 1\n0.049976 1\n0.050750 1\n0.050017 1\n0.050147 1\n0.052205 1\n0.049546 1\n0.050556 1\n0.049872 1\n0.051043 1\n0.050076 1\n0.172632 31\n0.252428 31\n0.190027 31\n0.175819 46\n0.193536 65\n0.326336 8\n0.189474 104\n0.194087 26\n1.810373 22\n0.000048 173\n0.469777 13\n0.351874 1\n0.471610 6\n0.000102 8\n0.311993 6\n0.328123 8\n0.248782 5\n0.334855 13\n0.352051 7\n0.481017 7\n0.531702 5\n0.018699 1\n0.000029 5\n0.050790 7\n0.050574 7\n0.049098 7\n0.050355 7\n0.050776 7\n0.050252 7\n0.050862 5\n0.049874 1\n0.000027 4\n0.051270 1\n0.000086 7\n0.050132 7\n0.050647 7\n0.050783 7\n0.051258 7\n0.050472 7\n0.049975 4\n0.050681 1\n0.000082 1\n0.000063 4\n0.050679 1\n0.000681 7\n0.050405 7\n0.050698 7\n0.049674 7\n0.050592 7\n0.050841 7\n0.050288 6\n0.051793 4\n0.048978 1\n0.000087 7\n0.051946 7\n0.050124 7\n0.051314 7\n0.050706 7\n0.051351 7\n0.050839 6\n0.051341 5\n0.050258 7\n0.050967 7\n0.050980 7\n0.050078 7\n0.050335 7\n0.051041 66\n0.326739 65\n0.364787 1\n0.326778 3\n0.304520 3\n0.500463 3\n0.050013 3\n0.051018 3\n0.050331 3\n0.050594 2\n0.050122 1\n0.049631 3\n0.050999 3\n0.050700 3\n0.050677 3\n0.050605 3\n0.050446 3\n0.049886 2\n0.050326 1\n0.051258 3\n0.050269 3\n0.051120 3\n0.050996 3\n0.050198 3\n0.051015 3\n0.052677 2\n0.050437 1\n0.049883 3\n0.051506 3\n0.050268 3\n0.050523 3\n0.049833 3\n0.050469 3\n0.050431 2\n0.050851 1\n0.050434 3\n0.049938 3\n0.050601 3\n0.050686 3\n0.051125 3\n0.050260 3\n0.051251 2\n0.050214 32\n0.774665 65\n0.463966 66\n0.374094 30\n0.195825 29\n0.000110 8\n0.485610 8\n0.191491 8\n0.162069 8\n0.182167 3\n0.168546 4\n0.000053 8\n0.311294 1\n0.199855 5\n0.000086 8\n0.216143 5\n0.343829 13\n0.319944 6\n0.507932 82\n0.000061 7\n0.102197 7\n0.500661 5\n0.050179 1\n0.000033 5\n0.050607 7\n0.051170 7\n0.049774 7\n0.050075 7\n0.050744 7\n0.050436 7\n0.050464 4\n0.050826 1\n0.000925 1\n0.000315 5\n0.048617 7\n0.051173 7\n0.049205 7\n0.050919 7\n0.051914 7\n0.048816 7\n0.050745 5\n0.050934 1\n0.000032 5\n0.050939 7\n0.049501 7\n0.237031 7\n0.136141 7\n0.160040 136\n1.327978 29\n0.000081 43\n0.304328 21\n0.071524 22\n0.000116 21\n0.135622 22\n0.000038 21\n0.097469 22\n0.000109 21\n0.086658 22\n0.000052 21\n0.056287 22\n0.000051 77\n0.199386 29\n0.000056 3\n1.220523 35\n0.757189 60\n0.000040 66\n1.002293 5\n0.508936 135\n0.000051 56\n0.001399 47\n0.001901 18\n0.418507 116\n1.054436 110\n0.031223 65\n0.012658 92\n5.147491 1\n0.000632 871\n0.000041 1\n0.000072 235\n0.000061 2\n0.000417 1\n0.000064 68\n0.000081 1\n0.000157 57\n0.000150 1\n0.000126 114\n0.000152 267\n0.865195 668\n0.000052 336\n0.000087 239\n0.000769 171\n0.549396 735\n0.000124 416\n0.000040 60\n0.432212 704\n0.000038 175\n0.000033 541\n0.000757 54\n0.569318 896\n0.000048 683\n0.000566 5\n0.494169 912\n0.000098 93\n0.000031 99\n0.000028 251\n0.000479 69\n0.437072 856\n0.000050 40\n0.000028 227\n0.000620 9\n0.842173 1107\n0.000052 395\n0.000276 97\n0.896207 980\n0.000044 252\n0.000738 68\n0.814213 596\n0.000049 248\n0.000551 170\n0.000032 102\n0.507378 710\n0.000045 123\n0.000077 160\n0.000545 63\n1.169684 63\n0.499830 64\n0.050218 63\n0.051506 63\n0.050716 63\n0.051074 64\n0.050948 64\n0.050413 64\n0.051424 64\n0.050717 64\n0.050459 64\n0.050126 65\n0.051651 64\n0.050718 8\n0.864158 1\n0.143916 67\n0.791637 150\n0.211981 43\n0.184182 46\n0.135743 98\n0.088138 124\n0.000083 21\n0.097175 22\n0.000074 43\n0.078905 43\n0.071785 335\n0.509157 24\n0.082823 83\n0.000093 160\n0.507929 39\n0.177424 7\n0.364539 3\n0.314436 2\n0.500840 1\n0.050778 3\n0.051292 3\n0.050022 3\n0.050083 3\n0.049991 3\n0.050177 3\n0.050236 2\n0.050639 1\n0.050522 3\n0.050433 3\n0.050639 3\n0.050559 3\n0.050923 3\n0.051213 3\n0.050509 2\n0.050239 1\n0.049801 3\n0.050067 3\n0.049965 3\n0.051311 3\n0.049101 3\n0.050920 3\n0.405981 91\n0.651138 29\n0.000104 4\n0.453670 1\n0.175020 1\n0.500708 1\n0.050747 1\n0.051179 1\n0.051237 1\n0.049870 1\n0.051404 8\n0.049975 1\n0.050467 1\n0.050549 1\n0.050386 3\n0.411596 34\n0.227759 58\n0.000034 6\n0.361499 3\n0.000094 116\n1.019724 110\n0.034483 65\n0.013291 75\n0.588296 65\n0.495382 66\n0.050532 65\n0.058610 65\n0.048795 65\n0.051235 65\n0.050997 65\n0.051014 65\n1.540761 65\n0.501200 65\n0.050488 65\n0.050192 65\n0.050636 66\n0.049913 65\n0.050437 3\n0.254109 3\n0.500335 3\n0.050631 3\n0.050612 3\n0.050309 3\n0.051368 2\n0.050161 1\n0.050438 3\n0.052168 3\n0.049795 3\n0.051351 3\n0.050429 3\n0.050670 3\n0.050210 2\n0.050904 1\n0.050736 3\n0.050395 3\n0.050816 3\n0.050829 3\n0.051341 3\n0.050706 69\n0.430685 31\n0.164411 31\n0.160226 31\n0.136948 116\n0.413397 110\n0.042081 65\n0.013728 18\n0.326238 102\n0.211743 29\n0.000037 41\n0.180457 45\n0.360043 47\n0.375949 45\n0.440062 1\n0.541920 49\n0.004445 74\n0.000526 834\n0.000038 105\n0.000027 510\n0.000436 63\n1.221755 63\n0.500134 63\n0.054125 63\n0.049952 63\n0.050962 63\n0.050833 63\n0.050489 64\n0.049668 64\n0.050252 64\n0.049964 65\n0.050355 64\n0.049750 64\n0.050268 64\n0.050235 64\n0.050927 64\n0.049714 64\n0.051682 64\n0.049854 64\n0.050787 3\n0.070819 3\n0.499597 3\n0.050135 3\n0.050193 3\n0.050061 3\n0.050875 2\n0.049950 1\n0.051026 3\n0.050292 3\n0.050678 3\n0.051409 3\n0.050321 3\n0.050587 3\n0.050881 2\n0.049763 1\n0.050936 3\n0.049998 3\n0.050590 3\n0.050908 3\n0.049970 3\n0.051019 3\n0.050241 31\n0.357516 31\n0.151905 31\n0.160511 69\n0.159532 31\n0.151980 31\n0.136336 65\n0.338812 193\n0.175107 738\n0.000040 210\n0.000096 193\n0.000081 157\n0.000561 65\n0.866827 65\n0.320204 65\n0.304585 65\n0.499540 65\n0.051026 65\n0.051004 65\n0.050593 65\n0.051365 65\n0.053304 66\n0.050516 117\n0.066922 799\n0.000044 111\n0.000079 320\n0.000662 64\n0.276256 65\n0.456206 118\n0.889472 112\n0.029242 65\n0.013311 75\n4.495112 66\n0.148882 64\n0.175964 2\n0.542833 1\n0.500089 3\n0.050840 3\n0.051423 3\n0.050809 3\n0.051172 3\n0.050345 3\n0.050642 2\n0.051413 1\n0.050615 3\n0.050164 1\n0.314524 68\n0.151824 31\n0.173129 31\n0.143367 32\n0.696128 36\n0.201362 32\n0.127875 62\n0.549841 63\n0.497555 62\n0.050915 64\n0.050362 65\n0.050351 65\n0.052065 65\n0.050247 65\n0.050027 65\n0.050724 65\n0.050249 64\n0.049944 63\n0.049752 56\n0.051131 198\n0.066535 1\n0.000077 38\n0.000053 1\n0.000048 109\n0.000054 1\n0.000052 560\n0.000326 113\n0.000439 38\n0.000027 340\n0.000134 62\n0.035398 1\n0.432163 1\n0.500215 1\n0.050995 1\n0.049735 1\n0.051479 1\n0.050747 1\n0.050733 1\n0.050278 1\n0.050541 1\n0.050335 1\n0.050886 1\n0.347980 31\n0.141312 31\n0.176951 31\n0.134944 31\n0.159917 31\n0.143946 31\n0.144402 65\n0.262804 65\n0.497461 65\n0.049877 65\n0.051119 65\n0.050167 65\n0.050746 66\n0.050371 65\n0.049767 65\n0.309034 1\n0.183133 3\n0.545898 3\n0.005007 3\n0.051463 3\n0.051418 3\n0.050461 3\n0.049151 2\n0.050383 1\n0.050589 32\n0.738762 32\n0.214340 32\n0.128084 31\n0.472055 31\n0.167761 31\n0.160217 116\n1.185718 110\n0.099278 65\n0.013842 44\n0.293170 135\n0.001674 2\n0.158178 20\n0.137209 2\n0.199583 36\n0.436791 7\n0.000013 33\n0.000520 439\n0.028617 96\n0.024939 18\n0.716234 23\n0.793457 33\n1.417372 125\n0.001526 946\n0.000606 204\n0.000032 478\n0.000310 101\n1.863248 29\n0.000036 43\n0.292228 44\n2.272061 45\n0.960246 1616\n1.164410 64\n1.294988 1\n0.100234 1\n0.499988 1\n0.050463 1\n0.055573 1\n0.051370 1\n0.050715 1\n0.050840 1\n0.051665 3\n2.453403 3\n0.175972 64\n1.267288 64\n0.173989 24\n0.471367 146\n0.000048 7\n0.093791 88\n0.514995 28\n0.524071 28\n0.101498 2\n0.096328 47\n0.136251 3\n0.079686 28\n0.720271 28\n0.240136 28\n0.087573 28\n0.152279 28\n0.095507 28\n0.128391 28\n0.047844 28\n0.056104 64\n0.470718 64\n0.142743 7\n0.231871 1\n0.094817 1\n0.500553 1\n0.050553 1\n0.050925 1\n0.050473 1\n0.050541 40\n0.301555 64\n0.207831 1\n0.052532 40\n0.156372 102\n0.133222 22\n0.541414 53\n0.000029 17\n0.001265 1\n0.006006 1\n0.050989 1\n0.050049 1\n0.049719 1\n0.051101 1\n0.051069 1\n0.050210 1\n0.050502 1\n0.049913 1\n0.050431 1\n0.050108 1\n0.050622 1\n0.050367 1\n0.050501 1\n0.050260 1\n0.050008 1\n0.050025 1\n0.050222 64\n1.156648 1\n0.276549 1\n0.175954 1\n0.201270 67\n0.266145 1\n0.156759 3\n0.183636 3\n0.168064 3\n0.183865 3\n0.176278 3\n0.407940 32\n0.740176 65\n0.200037 1\n0.019336 1\n0.280545 1\n0.151891 1\n0.184026 1\n0.167994 1\n0.263818 49\n0.508826 65\n0.376212 66\n1.996599 3\n0.190271 3\n0.343953 3\n0.192234 3\n0.192046 3\n0.232008 4\n0.852170 28\n0.712682 28\n0.079171 28\n0.168136 28\n0.479910 4\n0.913313 28\n1.094775 1\n0.451772 1\n0.500765 1\n0.050089 1\n0.050315 1\n0.051073 1\n0.054722 1\n0.049632 1\n0.050280 1\n0.049685 1\n0.367385 43\n0.196395 43\n0.199964 43\n0.160051 67\n0.367736 65\n0.181035 1\n0.318850 1\n0.224259 1\n0.176495 42\n0.147678 81\n0.510169 56\n0.001732 47\n0.002318 18\n1.097348 118\n0.049754 112\n0.037731 65\n0.013532 181\n2.732095 2\n0.302345 20\n0.105274 2\n0.329471 36\n0.449330 7\n0.000014 33\n0.000536 1484\n0.273479 6\n0.020403 60\n1.137717 40\n0.020944 60\n0.476976 40\n0.020961 60\n0.041643 40\n0.021015 60\n0.020955 5\n0.020803 69\n0.041784 69\n0.041676 69\n0.041763 69\n0.062478 70\n0.041621 234\n0.046365 70\n0.025664 64\n0.041533 64\n0.496439 64\n0.062313 64\n0.041717 64\n0.041498 64\n0.062294 64\n0.041493 64\n0.062426 64\n0.041567 64\n0.061994 64\n0.041603 64\n0.062213 64\n0.041530 70\n0.186030 70\n0.186682 70\n0.393211 245\n0.504161 76\n0.020617 538\n0.436990 83\n0.020710 83\n0.041903 83\n0.041985 83\n0.041635 82\n0.062521 82\n0.041780 240\n0.255234 75\n0.104024 208\n0.151516 611\n0.230851 84\n0.523110 145\n0.085501 86\n0.266418 299\n0.088268 52\n0.336899 165\n0.055454 7\n0.020474 60\n0.956876 4\n0.020891 82\n0.083584 7\n0.369127 71\n0.020846 64\n0.124476 73\n0.166473 7\n0.197467 80\n0.021618 73\n0.144778 73\n0.187025 7\n0.137941 7\n0.025262 505\n0.025411 145\n1.032387 326\n0.413672 85\n3.015708 94\n0.375814 89\n0.578061 121\n0.398331 471\n0.748267 96\n0.091442 18\n0.293033 23\n0.145553 33\n0.241233 125\n0.002240 1320\n0.000639 427\n0.000075 5\n0.986682 1116\n0.000052 71\n0.000085 734\n0.000645 1\n0.198507 923\n0.000052 784\n0.000813 507\n0.442181 458\n0.000046 3\n0.000028 155\n0.000028 49\n0.000028 287\n0.000769 29\n0.434802 604\n0.000111 435\n0.000692 351\n0.350682 482\n0.000045 302\n0.001102 363\n0.363648 614\n0.000049 712\n0.000819 300\n0.820285 688\n0.000045 427\n0.000536 1\n0.643570 115\n0.000394 74\n0.000338 370\n0.548098 600\n0.000109 226\n0.000078 197\n0.000698 453\n0.452419 469\n0.000050 945\n0.000913 64\n0.697791 64\n0.153021 3\n0.878801 3\n0.500197 3\n0.050917 3\n0.050829 3\n0.050706 3\n0.051219 2\n0.050345 1\n0.050548 3\n0.051299 3\n0.051064 3\n0.050089 3\n0.049833 3\n0.050610 3\n0.051166 65\n0.057034 2\n0.097810 1\n0.501355 3\n0.049672 3\n0.050923 3\n0.050868 3\n0.051005 3\n0.050009 3\n0.051006 2\n0.050213 1\n0.050172 3\n0.050253 3\n0.236677 3\n1.799912 65\n0.838463 1\n0.257513 73\n0.590896 32\n0.076590 32\n0.192052 32\n0.087736 32\n0.104313 32\n0.039895 31\n0.359260 31\n0.469623 31\n0.049861 31\n0.050572 31\n0.050407 31\n0.050876 31\n0.049952 67\n0.159233 31\n0.159969 8\n0.557493 1\n0.119437 1\n0.501161 1\n0.049979 1\n0.050903 1\n0.050141 1\n0.051073 1\n0.050502 1\n0.050301 1\n0.050535 1\n0.050503 1\n0.050421 1\n0.050705 1\n0.050355 1\n0.050480 65\n0.043698 1\n0.162371 1\n0.199136 31\n0.203947 46\n0.159535 44\n0.264419 1\n0.436303 1\n0.151467 1\n0.271950 8\n0.008235 1\n0.343796 1\n0.157959 1\n0.161933 1\n0.183990 36\n0.227996 34\n0.151712 32\n0.144154 117\n0.430375 111\n0.045553 65\n0.013090 45\n0.994663 135\n0.001775 2\n0.414381 20\n0.152957 2\n0.359712 36\n0.448051 7\n0.000013 33\n0.000613 1484\n0.281243 6\n0.020430 60\n0.847245 40\n0.021040 60\n0.476619 40\n0.020902 60\n0.041674 40\n0.020641 60\n0.020852 5\n0.020861 69\n0.041627 69\n0.041573 69\n0.041739 69\n0.062111 70\n0.041680 70\n0.062341 234\n0.274027 72\n0.273741 85\n0.828548 150\n0.174132 88\n0.368660 8\n0.022122 177\n0.481851 128\n0.024648 8\n0.020419 61\n0.668212 4\n0.020856 8\n0.233605 88\n0.021078 83\n0.124857 83\n0.206783 8\n0.129091 7\n0.020686 82\n0.020885 82\n0.186300 8\n0.273114 7\n0.020684 147\n0.071044 86\n0.434928 316\n0.593857 133\n0.055630 7\n0.020378 471\n0.796772 96\n0.095962 18\n0.168735 23\n0.153907 33\n0.345334 125\n0.002469 984\n0.000450 1195\n0.000431 256\n0.765098 653\n0.000120 100\n0.000031 284\n0.000084 1077\n0.448605 6\n0.367261 657\n0.000043 259\n0.000041 294\n0.000541 784\n0.226310 150\n0.000207 845\n0.000734 5\n0.458253 849\n0.000043 209\n0.000040 158\n0.000642 160\n0.000033 68\n0.000411 348\n0.000034 5\n0.499586 1469\n0.000525 61\n0.677438 1092\n0.000052 291\n0.000692 5\n0.532119 1159\n0.000106 354\n0.000704 63\n0.558256 63\n0.177553 63\n0.165492 3\n0.239505 3\n0.501826 3\n0.052993 3\n0.047666 3\n0.051799 3\n0.050181 2\n0.049906 1\n0.050273 3\n0.050648 3\n0.050676 3\n0.050311 3\n0.049831 3\n0.050472 3\n0.050226 2\n0.050395 1\n0.050615 64\n0.044629 3\n0.117182 3\n0.500736 3\n0.050838 3\n0.050055 3\n0.051232 3\n0.049538 2\n0.050635 1\n0.050095 3\n0.050648 3\n0.050271 3\n0.050401 3\n0.050582 3\n0.050332 3\n0.050414 2\n0.050798 1\n0.050970 3\n0.050246 3\n0.050605 3\n0.051068 3\n0.051010 3\n0.050697 3\n0.052985 2\n0.050264 68\n0.443295 31\n0.171648 31\n0.151920 64\n0.215810 31\n0.160530 31\n0.167780 31\n0.161330 1\n0.267092 22\n0.514096 53\n0.000063 3\n0.001666 3\n0.036010 117\n0.738175 111\n0.030518 64\n0.014278 181\n2.338688 2\n0.366116 20\n0.113523 2\n0.199623 36\n0.482277 7\n0.000012 33\n0.000534 1484\n0.274341 6\n0.020399 138\n0.507654 82\n0.205694 8\n0.491135 87\n0.082830 213\n0.380784 112\n0.026978 6\n0.020430 94\n0.645731 6\n0.027206 60\n0.020631 40\n0.020965 60\n0.253344 40\n0.020910 60\n0.083003 5\n0.020683 69\n0.166301 7\n0.173083 74\n0.021175 64\n0.166147 64\n0.186385 7\n0.128112 6\n0.020819 471\n0.194178 96\n0.086853 18\n0.094483 23\n0.145524 33\n0.225189 125\n0.002078 1314\n0.000459 413\n0.000395 7\n6.475612 1\n0.143253 69\n1.119267 30\n0.142764 33\n0.685325 30\n0.098350 117\n0.812460 111\n0.047213 64\n0.013468 17\n27.296788 105\n0.324495 29\n0.000041 45\n0.260122 46\n0.624057 1\n0.513886 49\n0.002680 94\n0.000472 845\n0.000243 121\n0.000031 258\n0.000385 68\n0.565069 596\n0.000121 418\n0.000041 592\n0.459641 663\n0.000042 191\n0.000565 916\n0.505947 375\n0.000043 24\n0.430116 558\n0.000439 508\n0.414348 1176\n0.001218 857\n0.349360 137\n0.000035 258\n0.000030 99\n0.000032 48\n0.400633 749\n0.000053 111\n0.000069 111\n0.000564 853\n0.823598 455\n0.000057 149\n0.863743 1\n0.000561 65\n0.000106 1\n0.000169 247\n0.000186 1\n0.000155 1\n0.000462 206\n0.000066 1\n0.000185 55\n0.000175 1\n0.000114 191\n0.000175 66\n0.000318 1\n0.000059 65\n0.000058 1\n0.000145 43\n0.000143 2\n0.000299 1\n0.000060 16\n0.000178 1\n0.000101 203\n0.000142 103\n1.689753 29\n0.000068 45\n0.332559 41\n0.264383 44\n0.551866 1816\n0.436983 1\n7.994792 1\n0.499793 1\n0.049994 1\n0.049908 1\n0.050500 1\n0.049623 1\n0.050365 1\n0.050061 1\n0.050301 1\n0.050149 1\n0.054679 1\n0.050599 1\n0.050715 1\n0.050182 1\n0.051524 1\n0.049445 1\n0.049955 1\n0.050692 1\n0.050254 1\n0.050047 1\n0.050615 1\n0.050502 1\n0.049396 1\n0.050757 1\n0.050555 1\n0.050675 1\n0.050802 1\n0.049286 1\n0.051033 1\n0.050477 1\n0.050917 1\n0.050874 1\n0.049906 1\n0.050292 1\n0.051314 1\n0.052860 1\n0.050967 1\n0.050108 1\n0.050429 1\n0.049978 1\n0.050623 1\n0.050995 1\n0.051191 1\n0.050871 1\n0.050879 1\n0.050827 1\n0.049402 1\n0.050604 1\n0.050245 1\n0.051349 179\n1.857469 2\n0.374223 20\n0.145400 2\n0.303141 36\n0.523885 7\n0.000012 33\n0.000556 1484\n0.275476 6\n0.020432 60\n0.020448 40\n0.020474 60\n0.496686 40\n0.021059 60\n0.020824 40\n0.020874 60\n0.020730 5\n0.020853 69\n0.041412 64\n0.082875 64\n0.496126 64\n0.062343 64\n0.041695 64\n0.062344 64\n0.041561 64\n0.041654 64\n0.062559 64\n0.041487 64\n0.062246 146\n0.257814 236\n0.107695 7\n0.025187 86\n0.225401 8\n0.573237 309\n0.473449 126\n0.024883 7\n0.020376 60\n0.606031 4\n0.020632 7\n0.300136 149\n0.029721 86\n0.164818 191\n0.542746 172\n0.056456 7\n0.020409 7\n1.411648 12\n0.000121 40\n0.000177 34\n0.001643 2\n0.000070 85\n0.000054 2\n0.000064 25\n0.000049 2\n0.000048 91\n0.000052 2\n0.000059 27\n0.000053 2\n0.000050 95\n0.000053 2\n0.000060 25\n0.000047 2\n0.000049 95\n0.000059 2\n0.000066 25\n0.000050 2\n0.000117 95\n0.000053 2\n0.000049 25\n0.000048 2\n0.000049 95\n0.000061 2\n0.000061 44\n0.000050 2\n0.000048 89\n0.000050 2\n0.000057 38\n0.000065 2\n0.000047 95\n0.000053 2\n0.000057 24\n0.000051 2\n0.000062 97\n0.000095 2\n0.000070 41\n0.000060 2\n0.000072 17\n0.000056 2\n0.000054 2\n0.000103 96\n0.092620 18\n0.303381 23\n0.121353 33\n0.570204 125\n0.002134 910\n0.000468 489\n0.000352 597\n0.000614 101\n2.085779 29\n0.000034 43\n0.619522 1415\n0.468070 548\n4.365176 440\n0.000035 472\n0.000579 491\n0.974467 471\n0.000110 388\n0.000820 111\n0.426545 786\n0.000050 2\n0.000082 383\n0.000716 216\n1.107413 836\n0.000091 262\n0.000751 100\n0.802634 29\n0.000038 41\n0.348714 45\n0.184149 1553\n1.076343 70\n11.532353 74\n11.514639 67\n0.133670 65\n0.161130 65\n0.310875 65\n0.143762 1\n0.167390 1\n0.327571 1\n0.175997 70\n0.263355 1\n0.176634 1\n0.168015 1\n0.135720 38\n0.228077 34\n0.506904 1\n0.000075 54\n0.000064 118\n0.115348 112\n0.029591 65\n0.018686 46\n0.221279 135\n0.001802 2\n0.302017 20\n0.177361 2\n0.223368 36\n0.447113 7\n0.000012 33\n0.000580 1518\n0.272176 69\n0.742119 69\n0.186726 64\n0.248418 64\n0.496310 64\n0.062157 64\n0.041608 64\n0.062558 64\n0.041505 64\n0.041564 64\n0.062089 64\n0.041579 64\n0.047392 64\n0.061970 64\n0.041446 64\n0.062287 69\n0.041408 69\n0.206391 145\n2.097307 86\n0.553699 308\n0.440473 471\n1.154966 96\n0.087737 18\n0.417504 23\n0.129648 1897\n0.308110 65\n4.039818 65\n0.496440 65\n0.049879 66\n0.049953 64\n0.049703 64\n0.050938 3\n0.178266 2\n0.502030 1\n0.049647 3\n0.049573 3\n0.051177 3\n0.049782 3\n0.050168 3\n0.053006 3\n0.050894 2\n0.050852 1\n0.051918 3\n0.050121 3\n0.051058 3\n0.050511 3\n0.050511 3\n0.050796 3\n0.212288 2\n0.167443 68\n0.271038 56\n0.164604 33\n0.160708 31\n0.134836 21\n0.512450 33\n0.000133 31\n0.016188 64\n0.295502 31\n0.224032 56\n0.151977 33\n0.144015 31\n0.152089 31\n0.127909 117\n0.358220 111\n0.032406 64\n0.013338 181\n0.193972 2\n0.182149 20\n0.113203 2\n0.183656 36\n0.466557 7\n0.000013 33\n0.000595 1629\n0.302855 3\n0.020642 69\n0.723792 69\n0.145019 69\n0.207106 64\n0.144800 64\n0.496260 64\n0.041631 64\n0.062192 54\n0.041468 64\n0.062311 64\n0.041712 64\n0.067164 256\n0.024195 64\n0.020830 64\n0.041771 64\n0.062332 64\n0.041555 64\n0.041680 64\n0.062087 64\n0.041650 64\n0.062455 69\n0.124662 69\n0.248549 69\n0.702228 69\n0.495650 69\n0.062340 70\n0.041564 70\n0.062306 70\n0.041525 70\n0.041661 70\n0.062419 73\n0.186768 73\n0.166863 56\n0.124184 245\n0.586321 76\n0.020506 76\n0.142937 76\n0.145245 538\n0.149781 83\n0.020707 83\n0.144633 82\n0.103729 241\n0.238585 75\n0.083471 487\n0.401050 208\n0.026269 203\n0.494866 611\n0.322433 84\n0.089509 82\n0.226920 64\n0.313823 64\n0.165748 145\n0.465062 86\n0.245282 312\n0.338532 176\n0.054905 86\n0.020497 73\n0.226628 8\n0.200863 80\n0.021200 73\n0.062738 170\n0.304761 442\n0.964431 7\n0.074187 78\n0.102917 145\n0.352095 86\n0.123843 251\n0.482936 172\n0.061419 7\n0.020310 31\n0.155323 7\n0.020864 82\n0.124847 8\n0.142098 7\n0.020900 78\n0.291032 8\n0.206426 7\n0.020918 69\n0.270004 69\n0.041896 8\n0.167813 79\n0.021004 146\n0.360078 86\n0.196899 245\n0.441623 234\n0.059450 7\n0.020366 82\n0.102337 86\n0.158150 7\n0.021111 8\n0.163542 80\n0.020886 260\n0.629617 83\n0.057900 7\n0.020765 69\n0.061260 66\n0.228884 521\n0.112125 7\n0.020521 73\n0.040971 73\n0.143197 73\n0.165571 259\n0.149238 72\n0.021287 213\n0.172578 283\n0.322756 322\n0.089814 7\n0.082582 78\n0.144698 257\n0.050760 52\n0.414510 119\n0.055565 43\n0.020518 38\n0.020538 38\n0.020649 38\n0.020667 38\n0.020728 38\n0.020672 38\n0.020737 38\n0.020710 38\n0.020638 40\n0.021552 38\n0.021625 38\n0.021229 38\n0.021251 38\n0.021198 38\n0.021217 38\n0.021515 38\n0.021283 44\n0.107002 103\n0.022254 40\n0.021369 38\n0.021377 38\n0.021133 38\n0.021284 38\n0.021249 38\n0.021512 38\n0.021111 92\n0.021152 38\n0.021380 38\n0.021214 40\n0.021261 38\n0.021235 38\n0.021283 38\n0.021223 38\n0.021369 38\n0.020782 38\n0.021325 38\n0.021659 86\n0.130010 43\n0.021290 40\n0.021227 38\n0.021361 38\n0.021157 38\n0.021276 38\n0.021100 38\n0.021227 38\n0.021357 38\n0.021149 38\n0.021312 38\n0.021243 40\n0.021151 38\n0.021234 38\n0.021398 38\n0.021143 38\n0.021215 38\n0.021092 38\n0.021379 38\n0.021287 44\n0.105935 43\n0.021482 40\n0.021201 38\n0.021278 38\n0.021060 38\n0.021428 38\n0.021279 38\n0.021688 38\n0.020823 38\n0.021356 38\n0.021200 38\n0.021347 40\n0.021359 38\n0.021222 38\n0.021380 38\n0.021236 38\n0.021324 38\n0.021332 38\n0.021252 38\n0.021556 86\n0.123518 45\n0.021039 38\n0.021386 38\n0.021289 38\n0.020817 38\n0.021399 38\n0.021397 38\n0.020876 38\n0.021473 38\n0.021308 38\n0.021173 40\n0.022028 38\n0.020497 38\n0.021226 38\n0.021205 38\n0.021251 38\n0.021269 7\n0.020912 7\n0.147302 7\n0.020863 74\n0.500463 7\n0.020652 7\n0.477655 7\n0.020593 74\n0.498362 7\n0.021188 7\n0.478135 7\n0.020983 242\n0.336457 70\n0.156180 70\n0.988344 70\n1.000242 70\n0.985833 70\n0.993268 70\n0.990628 70\n0.995146 70\n0.990888 471\n0.758697 96\n0.092077 18\n0.185070 23\n0.161409 1860\n0.251983 61\n0.516352 103\n0.714746 29\n0.000038 43\n0.260176 44\n0.432082 45\n1.248020 44\n0.543930 43\n0.151832 1421\n0.340245 551\n0.449576 567\n0.000040 3\n0.000591 342\n0.000098 2\n0.420717 1204\n0.000177 350\n0.001452 102\n0.467436 825\n0.000044 359\n0.000855 144\n0.146497 846\n0.000114 218\n0.000030 1\n0.000077 28\n0.000485 172\n0.000062 51\n0.500317 887\n0.000044 46\n0.000668 237\n0.000029 103\n0.000034 92\n0.058289 893\n0.000041 2\n0.000074 540\n0.002133 74\n0.041276 831\n0.000097 122\n0.000029 301\n0.000535 91\n0.047310 838\n0.000050 6\n0.000026 179\n0.000027 67\n0.048368 746\n0.000041 172\n0.000503 34\n0.055890 895\n0.000124 189\n0.000030 2\n0.000081 275\n0.000516 1\n0.091898 1\n0.000078 93\n0.000059 1\n0.000048 79\n0.000072 1\n0.000049 418\n0.000062 1\n0.000050 1\n0.000047 75\n0.000079 1\n0.000048 1\n0.000048 183\n0.000052 1\n0.000048 87\n0.000061 207\n0.000175 266\n0.000236 187\n0.013231 1\n0.000071 1\n0.000051 19\n0.000048 1\n0.000049 1\n0.000067 86\n0.000051 1\n0.000047 1\n0.000045 81\n0.000047 1\n0.000046 1\n0.000090 28\n0.000047 1\n0.000055 1\n0.000049 173\n0.000060 1\n0.000048 1\n0.000050 93\n0.000081 214\n0.000212 1\n0.000068 1\n0.000051 151\n0.000055 2\n0.049711 945\n0.000048 3\n0.000024 232\n0.000609 51\n0.046726 923\n0.000046 405\n0.000587 1\n0.046314 23\n0.000393 1\n0.000198 44\n0.000168 1\n0.000190 95\n0.000167 1\n0.000258 285\n0.000175 1\n0.000210 26\n0.000194 1\n0.000183 185\n0.000170 1\n0.000182 48\n0.000149 1\n0.000171 42\n0.000144 1\n0.000166 79\n0.000144 1\n0.000170 52\n0.000157 2\n0.000351 1\n0.000158 144\n0.000163 1\n0.000190 219\n0.000162 176\n0.038775 546\n0.000188 1\n0.043036 49\n0.003022 1\n0.048464 1\n0.050269 1\n0.050304 1\n0.050788 1\n0.050562 1\n0.050160 118\n0.180498 755\n0.000116 354\n0.000551 4\n0.547091 1\n0.000558 46\n0.000275 1\n0.000290 37\n0.000265 1\n0.000281 54\n0.000260 1\n0.000284 39\n0.000259 1\n0.000369 325\n0.000289 1\n0.000303 363\n0.000253 1\n0.000291 111\n0.000253 2\n0.000414 1\n0.000252 123\n0.000249 1\n0.000276 66\n0.000245 2\n0.000392 1\n0.000251 39\n0.000245 1\n0.000298 182\n0.000268 4\n0.706681 1\n0.000608 51\n0.000183 1\n0.000283 171\n0.000188 1\n0.000218 130\n0.000180 1\n0.000241 31\n0.000342 798\n0.003488 6\n0.840620 747\n0.000045 2\n0.000073 101\n0.000560 261\n0.000038 6\n1.723391 945\n0.000051 94\n0.000085 136\n0.000711 61\n0.721291 2\n0.446206 747\n0.000050 2\n0.000076 359\n0.000684 64\n0.612424 64\n0.496609 64\n0.050616 65\n0.050334 64\n0.050452 64\n0.059739 64\n0.050090 64\n0.050280 64\n0.050802 64\n0.050506 64\n0.051269 63\n0.050389 63\n0.050918 64\n0.050303 63\n0.051563 63\n0.049426 63\n0.050517 62\n0.051522 61\n0.050319 1\n0.054798 916\n0.000116 212\n0.000033 64\n0.047041 64\n0.050637 63\n0.050808 64\n0.051664 64\n0.367367 66\n3.231395 194\n0.242537 3\n0.223660 224\n0.200740 66\n0.183030 185\n0.528620 413\n1.674506 14\n1.278096 1065\n0.000049 251\n0.001212 243\n0.000034 9\n0.428794 891\n0.000137 222\n0.000083 1\n0.000486 117\n0.000257 45\n0.525731 633\n0.000047 75\n0.000079 114\n0.000452 68\n0.160974 840\n0.000048 304\n0.000457 129\n0.500794 870\n0.000100 117\n0.000031 310\n0.000550 319\n0.051211 652\n0.000045 630\n0.000592 265\n0.047332 638\n0.000047 407\n0.000505 5\n0.051516 965\n0.000186 602\n0.000477 98\n0.051060 940\n0.000049 671\n0.000587 8\n0.049928 1\n0.000675 93\n0.000284 1\n0.000301 29\n0.000265 1\n0.000288 694\n0.000283 1\n0.000349 1\n0.000264 59\n0.000261 1\n0.000285 33\n0.000260 88\n0.000377 103\n0.000398 1\n0.000318 87\n0.000248 1\n0.000273 102\n0.000255 187\n0.041749 856\n0.000091 239\n0.000672 57\n0.052278 1002\n0.000049 454\n0.000627 209\n0.050593 1074\n0.000537 68\n0.051100 596\n0.000125 418\n0.000040 592\n0.048020 663\n0.000037 124\n0.000077 67\n0.000533 916\n0.050416 375\n0.000044 24\n0.049289 497\n0.000113 61\n0.000036 1\n0.043363 27\n0.003463 28\n0.000119 1\n0.049488 1\n0.048998 1\n0.050290 53\n0.004142 56\n0.051469 1\n0.046340 950\n0.167136 349\n0.000035 390\n0.000582 857\n0.286624 137\n0.000033 257\n0.000076 100\n0.000604 48\n0.367663 749\n0.000172 222\n0.000045 1\n0.440000 933\n0.000051 2\n0.000026 28\n0.000026 344\n0.000039 150\n0.655534 769\n0.000053 133\n0.000026 43\n0.000027 223\n0.000646 548\n0.479054 440\n0.000077 299\n0.000598 173\n0.000108 2\n0.911858 1554\n0.000743 101\n0.566953 1\n0.000827 348\n0.000308 1\n0.000333 116\n0.000276 1\n0.000299 47\n0.000272 1\n0.000297 67\n0.000273 1\n0.000299 40\n0.000265 1\n0.000267 54\n0.000239 1\n0.000309 59\n0.000249 1\n0.000264 87\n0.000251 1\n0.000475 87\n0.000264 1\n0.000274 270\n0.000256 51\n1.933636 941\n0.000049 521\n0.000704 102\n0.502191 825\n0.000048 353\n0.000738 109\n0.407819 883\n0.000049 521\n0.000701 451\n1.646337 476\n0.000141 353\n0.000040 144\n0.708974 846\n0.000044 419\n0.000580 62\n0.970868 63\n0.499528 63\n0.050060 63\n0.053195 63\n0.051635 63\n0.050371 63\n0.049618 65\n0.050640 64\n0.178922 64\n0.192043 64\n0.655869 65\n0.255476 153\n0.298831 373\n0.745268 72\n0.976739 64\n0.148023 64\n0.167721 64\n0.161993 8\n0.421072 65\n0.379633 65\n0.173102 65\n0.144064 64\n0.152303 2\n0.191189 37\n0.365000 484\n0.000168 7\n0.567484 28\n0.437352 28\n0.375722 28\n0.312174 28\n0.104297 28\n0.191819 3\n3.743986 53\n0.175973 3\n0.152088 28\n3.168436 28\n0.127627 53\n0.079998 24\n0.328001 21\n0.000028 46\n0.512687 28\n0.000055 28\n0.032951 28\n0.189940 28\n0.584923 28\n0.247510 28\n0.240214 28\n0.303712 28\n0.415930 28\n0.200136 28\n0.192101 28\n0.224569 28\n0.191871 33\n0.243193 26\n0.000857 7\n1.001837 85\n0.508672 28\n0.000052 63\n0.429190 62\n0.173852 62\n0.192052 65\n0.175907 62\n0.208050 3\n0.966991 3\n0.176077 31\n0.284625 31\n0.174526 31\n0.184636 31\n0.183424 2\n0.373106 31\n0.682959 31\n0.151742 46\n0.168818 44\n0.167491 42\n0.487900 40\n0.999953 40\n0.095597 65\n3.337439 1\n0.404015 1\n0.168135 1\n0.423709 32\n0.587018 32\n0.152177 32\n0.152247 32\n0.135574 32\n0.191877 32\n0.943975 32\n0.144167 32\n0.223926 32\n0.216151 32\n0.215858 32\n0.296065 32\n0.567842 32\n0.376172 78\n0.256147 36\n0.455898 32\n0.047929 32\n0.049154 32\n0.151036 3\n1.148744 3\n0.160181 2\n0.135837 1\n0.151946 3\n0.136202 31\n0.283129 31\n0.143867 31\n0.152238 31\n0.127986 116\n0.325987 110\n0.037135 65\n0.012867 46\n9.268116 135\n0.001710 2\n0.342348 20\n0.137490 2\n0.193230 36\n0.477298 7\n0.000012 33\n0.000565 1629\n0.277461 3\n0.020535 72\n0.434098 75\n0.309604 73\n0.497787 73\n0.041653 73\n0.062412 73\n0.041437 73\n0.041684 171\n0.283248 52\n0.332104 250\n0.024199 184\n0.671162 73\n0.309566 150\n0.372017 88\n0.332686 193\n1.162745 176\n0.058082 7\n0.020312 73\n0.225985 8\n0.247002 7\n0.020459 235\n0.323927 78\n0.053843 7\n0.020434 387\n0.432133 7\n0.020815 8\n0.441752 7\n0.111152 150\n0.023872 88\n0.204968 140\n0.380697 172\n0.059521 7\n0.020384 73\n0.205803 8\n0.235992 237\n0.387823 78\n0.057688 7\n0.020419 64\n0.041080 31\n0.238676 8\n0.020776 64\n0.041792 405\n0.101055 8\n0.020868 64\n0.041677 212\n0.296718 198\n0.187510 297\n0.507120 136\n0.300845 88\n0.053540 8\n0.020337 64\n0.061786 245\n0.648288 323\n0.053519 66\n0.021791 548\n0.249449 96\n0.094954 18\n0.674203 23\n0.169357 9\n0.534762 24\n0.006510 1298\n0.000971 597\n0.000084 3\n1.560748 70\n0.158150 116\n0.682481 110\n0.042596 65\n0.012296 46\n0.168024 135\n0.001804 2\n0.174246 20\n0.129347 2\n0.151167 36\n0.443140 7\n0.000012 33\n0.000572 1629\n0.276364 3\n0.020431 72\n0.350446 245\n0.783498 73\n0.020468 66\n0.040961 66\n0.164192 66\n0.125003 541\n0.120211 8\n0.020840 73\n0.062365 245\n0.430293 175\n0.027725 440\n0.480120 7\n0.046474 366\n0.310187 75\n0.049445 171\n0.096734 184\n0.883233 85\n0.051366 146\n0.213162 88\n0.277285 204\n0.346525 176\n0.057625 4\n0.020432 146\n0.234552 88\n0.244882 204\n0.359252 172\n0.060036 74\n0.020424 235\n0.582675 78\n0.057412 7\n0.020427 368\n0.301711 73\n0.058024 5\n0.020337 3\n0.446815 5\n0.020873 73\n0.042016 64\n0.145422 5\n0.318850 8\n0.020835 5\n0.485632 8\n0.026285 31\n0.026781 8\n0.020964 5\n0.443468 8\n0.020399 258\n0.064441 5\n0.404047 8\n0.022115 117\n0.022011 471\n1.692370 96\n0.086747 18\n3.074537 23\n0.153366 33\n0.329340 125\n0.001373 923\n0.000602 251\n0.000031 597\n0.000456 71\n1.147410 181\n2.952963 1\n0.838366 1\n0.111769 1\n0.088097 1\n0.104133 1\n0.135974 1\n0.015427 1\n0.136378 1\n0.144416 1\n0.079829 2\n0.193862 96\n0.015507 1\n0.230401 1\n0.135816 1\n0.064334 1\n0.127881 1\n0.088097 1\n0.104056 1\n0.175976 1\n0.087760 1\n0.136239 1\n0.136088 1\n0.055759 1\n0.184146 4\n0.279941 4\n0.120128 4\n0.120005 1\n0.055874 1\n0.104795 1\n0.071155 1\n0.232227 1\n0.057288 4\n0.302526 4\n0.096186 1\n0.111636 1\n0.104274 2\n0.217299 34\n0.005440 2\n0.000029 124\n0.000380 58\n0.000034 24\n0.000032 110\n0.000225 127\n0.000299 122\n0.000039 11\n0.000026 63\n0.000031 11\n0.000025 9\n0.000029 171\n0.000366 118\n0.000217 14\n0.000035 9\n0.000028 264\n0.000315 259\n0.000325 150\n0.000319 2\n0.000201 4\n0.000569 156\n0.000175 47\n0.000031 10\n0.000028 54\n0.000031 6\n0.000064 284\n0.000334 96\n0.002365 14\n1.154629 4\n0.792121 2\n0.208817 42\n0.068999 21\n0.000541 1017\n0.005613 57\n0.558772 3\n0.229238 1\n0.911766 1\n0.167934 1\n0.160347 1\n0.095799 1\n0.056157 1\n0.143865 1\n0.232187 1\n0.167646 1\n0.160278 3\n0.311853 3\n0.112346 1\n0.319772 3\n0.256156 3\n0.096006 1\n0.423825 3\n0.311867 1\n0.176223 1\n0.143785 1\n0.088055 1\n0.080191 1\n0.111952 1\n0.079626 17\n0.352490 1\n0.055914 1\n0.135669 1\n0.072397 1\n0.039755 1\n0.143857 1\n0.064333 31\n0.186337 1\n0.149566 1\n0.680050 1\n0.111674 1\n0.128377 1\n0.159825 1\n0.088122 1\n0.072023 1\n0.104091 1\n0.047641 1\n0.112340 1\n0.072085 1\n0.159838 1\n0.072016 1\n0.039857 1\n0.168356 1\n0.096212 1\n0.391668 1\n0.783928 1\n0.167954 1\n0.031827 1\n0.104281 1\n0.216270 1\n0.064187 1\n0.167344 1\n0.095785 1\n0.072530 1\n0.119765 1\n0.071890 1\n0.023799 1\n0.144311 1\n0.096125 1\n0.135965 1\n0.064682 1\n0.062994 1\n0.072215 1\n0.088014 1\n0.104222 1\n0.143917 1\n0.055729 1\n0.040174 1\n0.128015 1\n0.056097 1\n0.112100 1\n0.079804 1\n0.039880 1\n0.096002 3\n0.360169 1\n0.240206 1\n0.151889 1\n0.071631 1\n0.104134 1\n0.144382 1\n0.031624 1\n0.184427 1\n0.031710 1\n0.160106 1\n0.063656 1\n0.152120 1\n1.416422 1\n0.063826 1\n0.112044 1\n0.087858 31\n0.178426 1\n0.133234 1\n0.304273 1\n0.151639 1\n0.136268 1\n0.160033 1\n0.112013 1\n0.071398 1\n0.112719 1\n0.079357 1\n0.080129 1\n0.072142 1\n0.064423 1\n0.087817 1\n0.087716 1\n0.080317 1\n0.095811 1\n0.080062 1\n0.064204 1\n0.177404 1\n0.064411 1\n0.142092 1\n0.127774 1\n0.040106 1\n0.103930 1\n1.248608 1\n0.383783 1\n0.151963 1\n0.007632 1\n0.104012 1\n0.112071 1\n0.072902 1\n0.047096 3\n0.343909 3\n0.112267 3\n0.143788 3\n0.143980 3\n0.128097 3\n0.128070 1\n0.183850 1\n0.087994 1\n0.031897 1\n0.128074 1\n0.056085 1\n0.032175 1\n0.159798 1\n0.112068 3\n0.487990 1\n0.272169 1\n0.023747 1\n0.216146 1\n0.063908 1\n0.064055 1\n0.056261 1\n1.151806 1\n0.167923 1\n0.192025 1\n0.095939 1\n0.087915 1\n0.064514 1\n0.111797 1\n0.048062 1\n0.135709 1\n0.080159 1\n0.088108 1\n0.199967 1\n0.064107 3\n0.895770 3\n0.144332 3\n0.558200 1\n0.241595 1\n0.215817 1\n0.240074 1\n0.200184 1\n0.071737 1\n0.088371 1\n0.127791 1\n0.264139 1\n0.079750 1\n0.039938 1\n0.048554 1\n0.207726 1\n0.192072 31\n0.322515 1\n0.133271 1\n0.791795 1\n0.096039 1\n2.104092 1\n0.159968 1\n0.064253 1\n0.119741 1\n0.495870 1\n0.167904 1\n0.200013 1\n0.064081 1\n0.151898 1\n0.040632 1\n0.031451 1\n0.183957 1\n0.272063 1\n0.111978 1\n0.135925 1\n0.087761 1\n0.112273 1\n0.055929 1\n0.040042 1\n0.039962 1\n0.103784 1\n0.096326 1\n0.071913 1\n0.080150 1\n0.071918 1\n0.191990 1\n0.184090 1\n0.023984 1\n0.032262 1\n0.271694 1\n0.168079 1\n0.271933 1\n0.072803 1\n0.079266 1\n0.071946 1\n0.079784 1\n0.096046 1\n0.121740 1\n0.414694 1\n0.023883 1\n0.160245 1\n0.079357 31\n2.667502 1\n0.164753 1\n0.559981 1\n0.056002 1\n0.056229 1\n0.112113 1\n0.103633 1\n0.040182 1\n0.319817 1\n0.104014 1\n0.679884 1\n0.056160 1\n0.047907 1\n0.192075 1\n0.080134 1\n0.152624 1\n0.063264 1\n0.129231 1\n0.238883 1\n0.184047 1\n0.080190 1\n0.087799 1\n0.136112 1\n0.023878 1\n0.135920 1\n0.072081 1\n0.463997 1\n0.112183 1\n0.055512 1\n0.168341 1\n0.063769 1\n0.120344 1\n0.007818 1\n0.200313 1\n0.127753 1\n0.056153 3\n0.264186 3\n0.127752 3\n0.144016 1\n0.144021 3\n0.127978 1\n0.120031 1\n0.095719 1\n0.048281 1\n0.103672 1\n0.040163 1\n0.112252 1\n0.112371 1\n0.311246 1\n0.224157 1\n0.144200 1\n0.119738 1\n0.056348 1\n0.111966 1\n0.055730 1\n0.192277 1\n0.071309 1\n0.104585 1\n0.136406 1\n0.111707 1\n0.079593 1\n0.120008 1\n0.064196 1\n0.120266 1\n0.047584 1\n0.079985 1\n0.104360 31\n0.858916 1\n0.165052 1\n0.647707 1\n0.087825 3\n7.944524 3\n0.191588 7\n0.232221 1\n0.944093 1\n0.071746 1\n0.144136 1\n0.135861 1\n0.135935 1\n0.048086 1\n0.296309 1\n0.072053 1\n0.063480 1\n0.072145 1\n0.186758 1\n0.133233 1\n0.055825 1\n0.024112 7\n1.136342 6\n0.175785 1\n0.879970 1\n0.151727 1\n0.111717 1\n0.200750 1\n0.159731 1\n0.424387 1\n0.191694 1\n0.111943 1\n0.687903 1\n0.224058 1\n0.071867 1\n0.152409 1\n0.055538 1\n0.088119 1\n0.432147 1\n0.127756 1\n0.127808 1\n0.152526 1\n0.039909 1\n0.216058 1\n0.040037 1\n0.143922 1\n0.103873 1\n0.136050 1\n0.072119 1\n0.064104 1\n0.103636 1\n0.072342 1\n0.139122 1\n0.036569 1\n0.152415 1\n0.127934 1\n0.055834 1\n0.088320 1\n0.047408 1\n0.120331 1\n0.712054 3\n0.400130 1\n0.023856 1\n0.111512 1\n0.040251 1\n0.096431 1\n0.215627 1\n0.296125 1\n0.151931 1\n0.047841 1\n0.136357 1\n0.087835 1\n0.103910 1\n0.103818 1\n0.176256 1\n0.056236 1\n0.128065 1\n0.287957 3\n0.544107 1\n0.271874 3\n8.727898 3\n0.288059 3\n0.975980 3\n0.328090 31\n0.450710 1\n0.069162 1\n0.975957 1\n0.063987 1\n1.983942 1\n0.183923 1\n0.063855 1\n0.104191 1\n0.104050 1\n0.152041 1\n0.135819 1\n0.120157 1\n0.112096 1\n0.143563 1\n0.176362 1\n0.136040 1\n0.201376 1\n0.102677 1\n0.263955 1\n1.095884 1\n0.063968 1\n0.072106 1\n0.055963 1\n0.063789 1\n0.088139 1\n0.096072 1\n0.192055 1\n0.087580 1\n0.072046 188\n0.784506 305\n0.288065 110\n0.314476 23\n0.000033 360\n0.009620 2\n0.000089 150\n0.006402 1\n0.212916 1\n0.199742 1\n0.104127 4\n0.464311 1\n0.431601 4\n0.359942 4\n0.104159 1\n0.200292 1\n0.071659 1\n0.088294 1\n0.184139 1\n0.192762 1\n0.102962 1\n0.048127 2\n1.024406 29\n0.598689 42\n0.001523 108\n0.002075 36\n0.000253 36\n0.001507 36\n0.001258 36\n0.001013 36\n0.000113 36\n0.000202 37\n0.000026 37\n0.000217 42\n0.000304 32\n0.001012 32\n0.000283 32\n0.000347 64\n0.001510 194\n0.004204 100\n0.001571 87\n0.640553 96\n0.003613 8\n3.339556 13\n0.473269 1\n0.382320 19\n0.297697 14\n0.415776 33\n0.425531 125\n0.001817 923\n0.000464 251\n0.000076 597\n0.000465 105\n1.862428 29\n0.000103 45\n0.500462 84\n2.619418 112\n0.639250 829\n0.000052 363\n0.000608 51\n0.440439 678\n0.000087 263\n0.000468 176\n0.000550 348\n0.000042 498\n0.461685 619\n0.000113 337\n0.000508 491\n1.423126 468\n0.000037 394\n0.000525 111\n0.593569 786\n0.000048 385\n0.000513 5\n0.470096 1318\n0.000530 103\n1.015361 1\n0.001127 337\n0.000271 1\n0.000248 1\n0.000181 14\n0.000183 1\n0.000203 40\n0.000183 1\n0.000200 53\n0.000176 1\n0.000252 28\n0.000177 1\n0.000183 46\n0.000173 2\n0.000398 1\n0.000170 142\n0.000169 1\n0.000195 49\n0.000151 1\n0.000175 124\n0.000163 973\n0.714263 351\n0.000036 389\n0.000951 906\n0.876994 89\n0.000039 353\n0.000595 63\n1.080789 63\n0.499822 63\n0.050069 63\n0.050073 63\n0.050287 63\n0.050901 64\n0.050464 64\n0.051542 64\n0.050746 65\n0.049970 64\n0.051112 64\n0.050093 64\n0.049949 64\n0.050510 64\n0.050639 64\n0.049821 64\n0.050210 64\n0.239047 61\n0.199943 64\n0.376050 64\n0.176136 3\n0.318776 64\n0.292881 3\n0.075018 3\n0.500417 3\n0.050736 3\n0.050304 3\n0.050697 2\n0.049940 1\n0.050241 3\n0.051081 3\n0.050170 3\n0.050793 3\n0.050432 73\n0.491615 32\n0.125189 35\n0.175909 32\n0.088021 32\n0.176040 32\n0.400029 32\n0.263874 78\n0.080602 115\n0.581699 109\n0.051087 65\n0.013024 180\n0.783234 2\n0.310412 10\n0.161584 13\n0.552042 1\n1.542483 1\n0.103657 1\n0.312410 1\n0.287642 1\n0.168320 1\n0.071663 1\n0.136410 1\n0.167900 1\n0.079521 1\n0.112164 1\n0.112090 1\n0.112183 1\n0.152090 1\n0.071578 1\n0.120169 1\n0.080145 1\n0.097722 1\n0.070397 1\n0.095912 1\n0.063693 3\n0.136542 1\n0.111600 1\n0.079771 1\n0.232010 1\n0.072292 1\n0.143575 1\n0.056136 1\n0.176220 1\n0.119871 1\n0.136003 1\n0.104008 1\n0.128032 1\n0.144186 1\n0.111965 1\n0.095939 1\n0.104031 1\n0.031861 1\n0.104125 1\n0.200014 1\n0.071807 1\n0.056174 1\n0.152044 1\n0.263998 2\n0.321101 56\n0.015940 2\n0.000088 46\n0.001074 2\n0.000083 96\n0.002702 1\n0.226991 1\n0.103871 1\n0.096201 1\n0.071884 1\n0.175952 1\n0.167967 1\n0.144012 1\n0.023999 2\n0.224966 28\n0.405571 42\n0.000590 175\n0.002047 40\n0.001856 31\n0.000341 31\n0.000558 31\n0.000413 31\n0.000373 31\n0.000366 59\n0.000482 39\n0.000028 48\n0.606290 21\n0.000113 16\n0.001170 2\n0.000032 96\n0.004805 1\n0.390120 1\n0.031742 1\n0.047814 15\n0.120855 2\n0.136566 36\n0.475465 7\n0.000013 33\n0.000532 1629\n0.305941 3\n0.020414 69\n0.392205 69\n0.518109 69\n0.041708 69\n0.041775 69\n0.062401 69\n0.041719 69\n0.062313 69\n0.041888 70\n0.041645 70\n0.062198 70\n0.041651 70\n0.062685 70\n0.041612 70\n0.062325 70\n0.041621 146\n0.091541 8\n0.393197 250\n0.024240 19\n0.787849 7\n0.984325 12\n0.001837 39\n0.000431 36\n0.001178 234\n0.000075 395\n0.000389 96\n0.086228 1\n1.341391 1\n0.039873 1690\n0.340569 104\n0.887891 29\n0.000035 45\n0.172818 44\n0.487699 45\n0.384226 47\n0.440121 44\n0.439996 44\n0.223640 1\n0.178235 58\n0.001994 956\n0.000958 158\n0.000131 379\n0.000546 61\n0.739736 25\n0.129561 120\n0.000040 99\n0.142269 99\n0.136004 64\n0.216603 28\n0.486888 28\n0.128284 28\n0.112647 3\n0.039491 28\n0.063790 28\n0.119892 28\n0.071978 28\n0.088174 28\n0.264760 3\n0.046685 1\n0.312277 4\n0.104193 28\n0.143811 28\n0.184436 3\n0.071643 28\n0.047678 28\n0.177131 28\n0.079327 28\n0.007645 1\n0.128647 28\n0.143537 28\n0.071742 28\n0.096126 28\n0.080136 28\n0.016371 3\n0.080538 28\n0.151255 28\n0.064094 3\n0.103745 28\n0.087712 28\n0.064677 28\n0.111627 28\n0.168302 3\n0.111720 28\n0.040022 1\n0.104084 28\n0.167958 28\n0.160204 28\n0.055757 28\n0.120150 28\n0.071588 28\n0.072321 2\n0.112082 28\n0.087715 28\n0.119788 4\n0.320378 28\n0.072480 28\n0.199348 28\n0.144259 28\n0.087991 28\n0.064535 28\n0.127378 2\n0.088105 28\n0.192135 28\n0.127957 3\n0.095959 28\n0.104174 28\n0.079743 28\n0.135997 28\n0.184324 28\n0.111696 1\n0.056926 28\n0.199410 6\n0.351696 28\n0.055727 28\n0.048187 28\n0.144059 28\n0.120347 28\n0.079963 3\n0.079606 28\n0.152326 28\n0.135844 28\n0.159853 28\n0.208069 28\n0.168087 4\n0.359845 28\n0.216017 3\n0.144013 1\n0.223885 4\n0.112067 4\n0.127701 28\n0.032055 3\n0.168368 28\n0.071921 28\n0.168203 28\n0.207798 28\n0.224072 28\n0.335847 28\n0.184208 4\n0.271696 4\n0.104082 28\n0.088117 28\n0.167896 28\n0.096102 4\n0.392105 4\n0.119667 28\n0.320201 28\n0.111981 28\n0.031825 28\n0.152194 28\n0.055888 28\n0.048129 28\n0.192127 75\n0.135853 57\n0.703985 4\n0.500474 4\n0.050338 4\n0.050408 4\n0.050719 4\n0.051013 4\n0.049673 4\n0.050222 4\n0.050505 4\n0.049688 4\n0.051157 4\n0.050115 8\n0.050548 28\n0.305181 28\n0.167824 28\n0.359898 28\n0.063998 99\n0.184378 100\n0.400007 4\n0.103780 4\n0.128107 28\n0.087782 28\n0.096034 28\n0.071889 99\n0.112125 28\n0.175950 28\n0.136218 28\n0.203074 28\n0.132992 28\n0.439785 28\n0.152148 28\n0.056120 28\n0.087826 28\n0.104176 28\n0.055749 28\n0.039908 28\n0.144289 28\n0.071684 3\n0.080327 28\n0.143927 28\n0.071963 28\n0.104078 28\n0.168008 3\n0.104220 28\n0.056690 28\n0.079142 3\n0.047858 28\n0.088702 28\n0.071270 3\n0.039973 28\n0.159923 28\n0.087956 28\n0.272261 28\n0.079879 3\n0.063682 28\n0.152392 28\n0.047906 28\n0.064121 28\n0.047821 3\n0.096235 28\n0.144574 28\n0.215122 28\n0.095897 28\n0.264374 28\n0.104358 28\n0.111680 3\n0.111940 28\n0.144209 28\n0.119746 28\n0.144032 28\n0.119848 2\n0.104202 28\n0.031618 28\n0.071975 28\n0.088260 28\n0.063841 3\n0.072234 28\n0.079978 28\n0.112018 28\n0.096192 28\n0.111989 28\n0.071681 28\n0.088725 28\n0.095959 28\n0.071352 28\n0.184032 3\n0.063938 28\n0.080292 28\n0.080464 28\n0.063495 28\n0.128007 3\n0.128213 28\n0.167743 3\n0.063917 28\n0.072077 28\n0.080243 28\n0.127748 28\n0.192111 28\n0.055715 99\n0.480663 28\n0.207311 28\n0.208186 28\n0.135901 28\n0.072169 3\n0.111869 28\n0.200102 28\n0.135934 28\n0.064950 3\n0.102952 28\n40.408171 28\n0.183799 28\n0.120177 28\n0.103908 3\n0.135992 28\n0.015908 28\n0.152468 28\n0.031806 3\n0.137024 28\n0.078529 28\n0.032168 28\n0.136119 28\n0.192368 28\n0.111515 1\n0.063750 28\n0.072541 28\n0.143635 28\n0.096015 28\n0.080207 3\n0.096148 28\n0.119589 28\n0.144324 28\n0.127814 28\n0.152149 28\n0.184223 28\n0.071660 28\n0.128129 28\n0.071997 28\n0.119631 2\n0.144538 28\n0.215764 28\n0.079804 28\n0.216922 28\n0.431367 28\n0.063879 28\n0.088037 28\n0.487949 2\n0.127914 28\n1.504555 28\n0.335150 28\n0.050486 28\n0.557430 28\n0.112260 28\n0.031789 28\n0.160459 28\n0.175834 1\n0.143941 1\n0.543913 4\n0.500895 4\n0.049164 4\n0.051193 4\n0.050902 4\n0.051177 4\n0.049925 4\n0.051019 7\n0.172469 28\n0.295392 3\n0.087523 28\n0.064198 28\n0.063906 28\n0.152073 28\n0.216018 3\n0.120128 28\n0.199980 28\n0.175952 28\n0.143980 28\n0.080009 3\n0.079974 28\n0.162048 28\n0.045866 28\n0.048149 28\n0.088191 28\n0.040400 28\n0.063896 3\n0.111348 28\n0.032146 3\n0.071961 28\n0.071559 28\n0.120627 28\n0.119959 28\n0.040015 28\n0.071640 28\n0.120238 4\n0.960036 4\n0.503433 4\n0.050235 4\n0.050215 4\n0.051137 8\n0.050238 1\n0.050296 8\n0.082012 1\n0.019197 4\n0.050741 4\n0.050557 4\n0.049371 4\n0.050188 4\n0.050542 8\n0.049797 1\n0.050051 4\n0.051529 4\n0.051197 4\n0.050321 8\n0.051613 1\n0.054246 4\n0.050736 4\n0.050362 4\n0.050447 8\n0.049970 1\n0.050240 7\n0.050262 1\n0.240045 28\n0.207038 4\n0.296319 2\n0.064387 28\n0.063444 28\n0.144305 28\n0.055158 28\n0.032001 28\n0.104370 28\n0.088530 28\n0.287649 2\n0.087636 28\n0.152294 28\n0.144109 3\n0.120028 28\n0.215909 28\n0.015803 28\n0.335958 3\n0.296161 28\n0.043103 28\n0.156946 3\n0.097893 28\n0.037973 28\n0.143960 28\n0.024504 3\n0.319695 28\n0.063703 28\n0.024214 28\n0.151893 28\n0.144847 28\n0.047245 28\n0.040352 99\n0.208024 28\n0.159472 28\n0.071704 3\n0.096250 28\n0.088087 28\n0.072329 28\n0.175669 28\n0.071912 28\n0.088586 28\n0.103424 28\n0.256454 3\n0.079545 28\n0.296999 28\n0.110930 28\n0.072149 28\n0.063792 1\n0.104083 28\n0.008114 28\n0.184053 28\n0.064086 28\n0.103943 28\n0.063719 28\n0.104061 2\n0.048325 28\n0.168040 28\n0.119834 28\n0.095774 28\n0.016456 3\n0.071716 28\n0.152169 28\n0.063559 28\n0.112696 28\n0.071780 3\n0.063891 28\n0.104103 28\n0.055830 3\n0.104395 28\n0.079676 28\n0.104189 28\n0.127764 28\n0.063874 28\n0.031894 28\n0.088273 28\n0.168572 3\n0.119432 28\n0.928161 28\n0.191702 28\n0.064330 28\n0.335732 3\n0.320278 28\n0.143781 8\n0.350105 28\n0.032057 28\n0.154902 28\n0.061208 28\n0.047752 28\n0.170701 28\n0.063135 28\n0.008428 28\n0.063658 28\n0.984068 3\n0.087958 28\n0.272217 28\n0.191616 28\n0.095948 28\n0.112396 28\n0.128017 3\n0.127954 28\n1.328203 28\n0.183789 28\n0.064028 28\n0.144226 28\n0.087563 28\n0.072233 28\n0.087676 28\n0.104280 28\n0.136136 28\n0.047832 28\n0.048983 28\n0.134943 28\n0.104155 28\n0.103942 99\n0.152475 28\n0.111979 28\n0.023371 28\n0.184180 28\n0.135923 3\n0.328066 28\n0.503589 2\n0.120437 28\n0.095779 28\n0.112097 28\n0.039878 28\n0.048049 3\n0.105022 28\n0.094849 28\n0.087983 28\n0.184385 4\n0.375812 28\n0.063539 28\n0.136661 3\n0.055775 28\n0.079987 3\n0.113575 28\n0.062334 28\n0.119955 28\n0.144193 28\n0.167896 28\n0.064703 3\n0.102952 28\n0.048556 28\n0.079643 28\n0.064524 28\n0.071727 3\n0.096235 28\n0.079632 28\n0.072463 28\n0.079813 28\n0.063303 3\n0.080708 28\n0.135742 28\n0.095979 3\n0.056320 28\n0.088086 28\n0.087554 28\n0.071304 28\n0.008912 3\n0.112061 28\n0.159827 28\n0.152195 28\n0.080088 2\n0.111756 28\n0.168203 28\n0.087804 3\n0.064272 28\n0.071533 28\n0.088152 28\n0.080042 3\n0.096150 28\n0.279964 28\n0.064314 28\n0.207810 28\n0.023841 28\n0.039679 28\n0.168355 3\n0.464098 28\n0.159598 28\n0.023991 28\n0.079999 3\n0.136145 28\n0.063831 28\n0.096211 28\n0.063722 3\n0.120711 28\n0.064541 28\n0.110836 28\n0.200162 28\n0.008031 28\n0.048682 4\n0.703492 4\n0.143984 28\n0.296056 4\n0.087975 28\n0.223857 4\n0.192428 4\n0.143408 28\n0.095995 28\n0.063983 28\n0.040230 25\n0.200764 80\n0.000041 28\n0.151083 28\n0.136055 28\n0.111974 28\n0.272038 3\n0.176064 28\n0.312105 28\n0.063574 28\n0.160307 28\n0.143872 3\n0.104029 28\n0.055961 3\n0.063897 28\n0.152315 28\n0.248552 28\n0.071528 1\n0.151938 28\n0.071602 28\n0.096544 3\n0.063299 28\n0.128676 28\n0.008199 28\n0.271429 66\n0.103911 28\n0.176295 28\n0.063913 28\n0.072007 3\n0.136109 28\n0.191906 28\n0.047768 28\n0.064133 28\n0.119964 28\n0.048112 28\n0.128086 28\n0.008104 28\n0.055527 28\n0.128163 28\n0.064197 28\n0.135718 4\n0.272102 4\n0.119992 4\n0.144107 4\n0.135886 4\n0.127867 4\n0.088236 28\n0.232132 28\n0.103952 28\n0.024109 28\n0.095988 28\n0.047973 28\n0.152632 2\n0.047277 28\n0.104090 28\n0.152192 28\n0.047833 28\n0.095812 3\n0.112060 28\n0.096169 28\n0.024224 2\n0.103511 28\n0.047933 28\n0.024112 28\n0.071585 3\n0.128614 28\n0.391878 28\n0.160133 28\n0.047830 28\n0.216208 28\n0.007541 28\n0.033130 28\n0.383212 3\n2.167794 28\n0.247950 28\n0.128096 28\n0.072626 28\n0.055445 28\n0.096048 66\n0.103825 28\n0.352002 3\n0.176040 28\n0.200262 28\n0.159925 28\n0.112023 4\n0.600361 3\n0.119587 28\n0.135686 28\n0.168282 28\n0.031826 28\n0.136122 28\n0.136547 28\n0.039114 28\n0.072371 99\n0.176268 28\n0.063693 28\n0.023913 28\n0.136268 28\n0.175913 28\n0.080931 28\n0.118958 2\n0.151974 28\n0.119875 28\n0.080222 28\n0.144150 99\n0.208320 64\n0.127737 61\n0.119931 64\n0.442567 28\n0.309296 28\n0.135890 28\n0.088071 28\n0.159851 3\n0.015948 28\n0.128322 28\n0.088096 1\n0.072615 28\n0.119191 28\n0.079974 28\n0.144047 3\n0.080059 28\n0.143984 28\n0.207701 28\n0.136349 1\n0.055621 28\n0.248106 66\n0.200271 28\n0.175980 28\n0.063783 28\n0.152200 28\n0.111818 28\n0.104091 28\n0.168147 4\n0.631269 28\n0.001492 28\n0.118945 3\n0.103879 28\n0.104248 28\n0.031867 3\n0.144597 28\n0.031151 28\n0.128502 28\n0.015757 28\n0.048076 3\n0.127650 28\n0.136479 28\n0.336000 3\n0.095611 1\n0.384275 4\n0.135757 3\n0.288422 28\n0.063828 28\n0.392061 28\n0.271576 28\n0.152611 28\n0.039261 4\n0.992618 4\n0.112024 91\n0.272234 41\n0.127846 43\n0.512128 4\n0.127752 28\n0.559830 28\n0.064083 3\n557.176338 1\n0.695548 3\n0.392054 28\n0.264025 8\n0.505156 1\n0.127014 28\n0.215941 28\n0.136211 28\n0.112105 3\n0.303438 28\n0.272087 28\n0.128035 28\n0.056112 28\n0.248130 3\n6.263966 28\n0.319815 28\n0.184060 28\n0.056042 28\n0.111954 28\n0.080539 1\n0.135448 28\n0.023728 28\n0.127862 28\n0.096423 28\n0.071833 3\n0.088047 28\n0.120221 66\n0.192070 28\n0.143953 3\n0.071535 28\n0.264419 28\n0.080037 28\n0.159933 28\n0.143873 28\n0.072072 28\n0.072111 1\n0.080089 28\n0.224258 28\n0.111454 28\n0.240421 61\n0.159913 3\n0.327664 28\n0.063948 7\n0.296093 1\n0.103881 28\n0.176035 3\n0.104136 28\n0.095719 28\n0.016337 28\n0.127720 28\n0.184022 28\n0.063913 1\n0.104110 28\n0.072185 28\n0.048114 28\n0.103977 28\n0.128253 3\n0.047395 28\n0.088626 28\n0.103185 28\n0.120429 3\n0.055987 28\n0.184445 28\n0.039401 3\n0.288293 28\n0.215744 28\n0.088550 4\n0.231396 8\n0.080058 28\n0.112237 28\n0.103709 2\n0.087921 28\n0.112181 28\n0.063840 28\n0.080237 28\n0.072026 3\n0.103370 28\n0.096527 28\n0.103948 2\n0.096091 28\n0.047830 28\n0.136294 64\n0.080006 28\n0.151972 3\n0.087837 28\n0.087861 28\n0.104433 28\n0.071789 28\n0.103867 28\n0.072733 28\n0.031482 28\n0.136364 3\n0.023456 28\n0.039863 28\n0.088002 28\n0.056064 1\n0.120124 28\n0.087954 28\n0.048107 28\n0.095788 28\n0.112327 28\n0.183618 3\n0.120515 28\n0.663812 28\n0.079916 28\n0.160584 28\n0.103169 28\n0.080110 28\n0.104077 28\n0.039798 28\n0.168117 2\n0.080371 28\n0.103911 28\n0.072071 28\n0.095791 3\n0.056129 28\n0.183924 28\n0.063765 28\n0.136323 28\n0.104105 28\n0.072590 28\n0.079184 28\n0.111868 28\n0.176360 28\n0.103587 28\n0.064507 25\n0.241953 120\n0.000039 100\n0.485647 4\n0.152144 4\n0.143997 4\n0.127887 3\n0.087972 28\n0.072400 28\n0.111304 28\n0.088527 99\n0.216131 28\n0.199727 28\n0.247799 28\n0.160122 4\n0.272083 4\n0.096007 3\n0.095865 28\n0.072089 28\n0.088002 28\n0.104135 28\n0.119953 28\n0.167954 1\n0.120163 28\n0.160103 28\n0.191817 28\n0.039986 28\n0.024048 3\n0.112535 28\n0.143452 28\n0.007374 28\n0.120360 28\n0.080733 3\n0.096000 28\n0.135277 28\n0.071706 3\n0.104306 28\n0.248122 8\n0.303900 28\n0.024384 28\n0.151471 28\n0.048331 28\n0.047874 3\n0.152073 28\n0.176227 28\n0.087795 28\n0.184013 28\n0.063612 28\n0.056550 28\n0.136968 3\n0.030979 28\n0.047681 28\n0.103942 3\n0.071994 28\n0.087978 28\n0.112039 28\n0.192348 4\n0.464030 4\n0.103930 8\n0.135909 28\n0.304152 28\n0.071815 28\n0.079952 28\n0.168135 28\n0.063683 28\n0.048114 28\n0.095878 3\n8.440348 28\n0.351819 28\n0.104867 28\n0.127209 28\n0.071787 3\n0.096476 28\n0.167706 28\n0.127968 28\n0.007981 28\n0.064062 3\n0.128008 28\n0.056316 28\n0.191595 28\n0.144112 28\n0.087587 28\n0.056422 28\n0.143770 28\n0.040047 28\n0.120222 28\n0.103748 28\n0.024030 28\n0.088575 28\n0.159254 3\n0.104535 28\n0.351767 28\n0.168165 28\n0.175705 28\n0.144289 28\n0.015592 28\n0.007758 4\n0.552379 4\n0.112371 28\n0.087863 28\n0.151841 28\n0.256249 99\n0.144607 28\n0.191147 28\n0.208214 28\n0.095662 28\n0.031770 4\n0.503893 4\n0.096512 28\n0.239952 28\n0.080035 3\n0.128054 28\n0.039878 28\n0.224211 28\n0.103653 28\n0.176331 28\n0.103964 3\n0.120058 28\n0.071818 28\n0.136127 28\n0.024178 28\n0.159983 28\n0.056019 4\n0.431806 4\n0.103949 2\n0.071848 28\n0.040144 28\n0.064432 3\n0.079220 28\n0.120834 28\n0.151383 28\n0.047966 3\n0.112079 28\n0.111883 28\n0.023899 3\n0.104223 28\n0.152211 28\n0.087949 3\n0.072421 28\n0.143706 28\n0.071958 28\n0.055861 28\n0.160382 3\n0.063561 28\n0.111890 28\n0.056113 3\n0.048023 28\n0.111878 28\n0.048746 28\n0.079273 1\n0.655995 28\n0.184009 28\n0.152034 28\n0.039877 3\n0.136141 28\n0.071953 28\n0.144158 28\n0.079912 28\n0.088038 28\n0.079762 28\n0.056087 3\n0.168111 28\n0.128421 28\n0.040270 28\n0.143223 28\n0.087836 28\n0.096128 28\n0.071921 28\n0.047871 28\n0.032369 28\n0.095827 3\n0.080087 28\n0.079910 28\n0.160336 28\n0.127810 28\n0.064199 28\n0.055914 28\n0.055916 3\n0.136058 28\n0.096030 28\n0.087520 28\n0.120538 28\n0.175978 28\n0.096009 99\n0.256230 28\n0.183750 28\n0.055838 28\n0.023877 28\n0.184044 28\n0.128017 28\n0.119830 28\n0.246974 28\n0.065021 3\n0.088409 28\n0.087945 28\n0.072295 28\n0.063418 3\n0.104147 28\n0.159931 28\n0.088097 28\n0.096108 28\n0.104590 3\n0.063492 28\n0.079913 28\n0.127906 28\n0.048212 28\n0.119581 28\n0.071959 28\n0.040533 28\n0.063839 3\n0.095991 28\n0.087854 28\n0.119915 28\n0.064805 28\n0.047182 28\n0.088928 28\n0.118814 3\n0.136235 28\n0.399953 28\n0.216176 28\n0.112037 3\n0.080430 28\n0.607981 28\n0.071476 28\n0.152450 28\n0.535788 28\n0.071543 28\n0.152531 28\n0.039976 28\n0.127733 28\n0.056062 28\n0.112074 4\n0.319916 4\n0.112486 4\n0.127465 28\n0.048199 28\n0.047887 2\n0.120097 28\n0.104108 28\n0.111964 3\n0.063918 28\n0.039690 28\n0.088209 28\n0.064108 28\n0.127985 2\n0.071572 28\n0.120473 28\n0.096132 28\n0.079554 3\n0.112232 28\n0.095847 28\n0.080558 28\n0.087507 28\n0.039957 1\n0.088199 28\n0.063933 28\n0.024274 28\n0.111659 3\n0.224439 28\n0.127697 28\n0.184002 28\n0.184080 28\n0.215786 28\n0.247808 28\n0.048237 28\n0.096150 99\n0.184427 28\n0.071189 28\n0.136245 28\n0.072242 28\n0.127566 28\n0.063795 28\n0.048106 28\n0.024110 1\n0.072244 28\n0.176222 28\n0.135867 28\n0.055896 3\n0.151996 28\n0.192099 28\n0.048230 28\n0.183747 28\n0.063835 28\n0.104221 28\n0.063847 28\n0.079546 28\n0.064420 28\n0.063967 3\n0.095963 28\n0.104041 28\n0.096159 28\n0.087940 28\n0.128160 28\n0.104026 28\n0.103725 28\n0.151889 28\n0.073315 28\n0.174852 28\n0.240807 3\n24.103316 28\n0.255768 28\n0.208062 28\n0.232046 3\n0.120192 28\n0.111762 28\n0.095920 28\n0.103777 28\n0.015922 3\n0.112447 28\n0.168160 28\n0.063912 28\n0.087952 28\n0.055956 28\n0.015570 1\n0.096194 28\n0.071819 28\n0.168515 28\n0.136042 28\n0.039675 28\n0.040077 28\n0.136231 2\n0.191568 28\n0.248140 3\n0.064150 28\n0.096122 28\n0.055948 28\n0.064029 28\n0.168062 3\n0.071605 28\n0.144391 1\n0.071754 1\n0.264251 8\n0.128077 1\n0.135785 4\n0.120038 28\n0.200056 28\n0.055944 2\n0.056043 28\n0.159564 3\n0.040075 28\n0.128018 28\n0.120316 28\n0.055987 3\n0.064051 28\n0.119977 28\n0.071629 28\n0.160367 3\n0.344230 28\n0.151820 28\n0.559980 99\n0.200329 28\n0.167697 28\n0.071668 28\n0.088238 3\n0.111973 28\n0.215944 28\n0.183984 4\n0.383923 8\n0.104178 28\n0.063701 28\n0.120356 28\n0.129125 28\n0.078483 28\n0.144345 28\n0.055987 28\n0.064196 3\n0.111842 28\n0.224786 8\n0.159170 1\n0.120010 28\n0.094531 3\n0.137512 28\n0.007579 28\n0.136000 28\n0.031915 28\n0.120460 28\n0.231945 28\n0.096084 3\n0.071924 28\n0.120051 28\n0.224505 28\n0.055334 28\n0.072021 28\n0.144318 28\n0.183840 28\n0.144103 3\n0.111814 28\n0.088171 28\n0.111844 28\n0.048079 4\n0.303955 4\n0.120171 8\n0.136137 1\n0.135714 4\n0.127861 4\n0.136261 28\n0.543920 28\n0.063918 28\n0.080131 3\n0.087918 28\n0.071878 28\n0.082754 28\n0.317400 28\n0.080055 28\n0.103752 28\n0.056212 28\n0.031918 3\n0.095654 28\n0.072051 28\n0.080473 28\n0.079611 28\n0.063983 3\n0.080056 28\n0.088243 28\n0.096099 28\n0.111857 28\n0.184347 28\n0.063716 1\n0.087721 28\n0.072475 28\n0.159726 28\n0.112212 3\n0.119823 28\n0.103886 28\n0.168064 28\n0.087578 28\n0.040175 28\n0.096217 3\n0.103604 28\n0.088334 28\n0.088307 3\n0.063348 28\n0.120442 28\n0.207941 28\n0.031854 28\n0.088026 28\n0.120322 28\n0.039759 28\n0.200090 112\n0.856940 29\n0.000247 43\n0.310006 1475\n0.739931 973\n1.917489 351\n0.000037 295\n0.000086 94\n0.000636 857\n1.797158 138\n0.000039 380\n0.000642 48\n0.403002 751\n0.000099 1\n0.000485 108\n0.000061 1\n0.000062 110\n0.000234 1\n0.401973 920\n0.000053 2\n0.000595 41\n0.000029 344\n0.000031 102\n4.860658 29\n0.000055 44\n0.148283 45\n0.248251 44\n0.789118 45\n0.915667 44\n0.408429 45\n0.359045 1495\n0.451973 5\n0.410478 1315\n0.001185 125\n0.519394 813\n0.000047 3\n0.000559 136\n0.000075 82\n0.000358 232\n0.000032 160\n0.000346 100\n0.000033 78\n0.692026 837\n0.000114 326\n0.000033 66\n0.001386 374\n0.000047 1\n0.958141 902\n0.000090 171\n0.000662 231\n0.000032 3\n0.000310 147\n0.000071 1\n0.000295 120\n0.000041 51\n0.549878 894\n0.000051 658\n0.000577 436\n0.905252 487\n0.000047 1106\n0.000629 443\n0.704487 1072\n0.000860 101\n0.389275 1008\n0.000112 90\n0.000082 222\n0.000736 231\n1.020420 432\n0.000044 3\n0.000579 341\n0.000033 211\n0.732282 759\n0.000095 82\n0.000808 335\n0.000034 79\n0.000449 156\n0.416169 805\n0.000107 411\n0.000570 5\n0.193238 765\n0.000048 2\n0.000120 241\n0.000482 191\n0.281208 721\n0.000050 668\n0.000822 437\n1.153577 474\n0.000045 3\n0.001000 386\n0.000142 183\n0.000035 441\n0.000371 374\n0.276885 812\n0.000096 468\n0.000721 67\n0.429830 853\n0.000052 722\n0.000644 5\n0.591692 977\n0.000051 177\n0.000076 442\n0.000707 5\n1.685285 969\n0.000049 710\n0.000547 64\n0.973792 64\n0.500455 64\n0.050250 64\n0.051471 64\n0.050493 65\n0.051487 64\n0.049449 64\n0.050377 64\n0.050759 61\n0.051354 1327\n0.055202 64\n0.238448 64\n0.535935 64\n0.176225 64\n0.208189 63\n7.071937 63\n0.207596 63\n0.176190 7\n0.391404 64\n3.513873 64\n0.206343 65\n0.744038 64\n0.616811 64\n0.175450 64\n0.208206 64\n2.663546 24\n0.293044 147\n0.000076 2\n0.159041 28\n1.141588 28\n0.526929 4\n0.336919 28\n0.360973 4\n0.286968 28\n0.175916 28\n0.095796 28\n0.043280 28\n0.181111 28\n0.072116 2\n0.119955 28\n0.263874 3\n0.320478 86\n0.000089 3\n0.095313 28\n0.656285 28\n0.183780 28\n0.312344 28\n0.095769 53\n0.136099 34\n0.128050 28\n0.095579 39\n0.513499 117\n0.000036 121\n0.032601 25\n0.013507 257\n0.000470 17\n10.333530 70\n0.024472 181\n1.072871 2\n0.399671 20\n0.144081 2\n0.991297 36\n0.468635 7\n0.000012 33\n0.000562 1629\n0.342631 3\n0.020250 69\n0.495869 69\n0.227520 64\n0.269690 64\n0.496697 64\n0.041744 64\n0.062434 64\n0.041991 64\n0.042508 64\n0.062143 471\n0.277618 96\n0.078137 18\n0.302862 23\n0.137687 33\n0.361259 125\n0.001609 994\n0.000636 219\n0.000166 421\n0.000515 103\n0.742066 29\n0.000055 43\n0.188876 44\n0.223765 45\n0.488095 1532\n0.476987 64\n2.551605 64\n0.164965 64\n4.423810 64\n0.223687 64\n0.207985 64\n0.327739 1\n0.223275 1\n0.500185 1\n0.050817 1\n0.051539 1\n0.050200 1\n0.050350 1\n0.050368 1\n0.051089 1\n0.050467 1\n0.050419 1\n0.050569 1\n0.049584 1\n0.050520 1\n0.051057 1\n0.050762 1\n0.051808 1\n0.049819 1\n0.049654 1\n0.050184 69\n0.520494 32\n0.139660 32\n0.168072 32\n0.175827 32\n0.152058 32\n0.352434 32\n0.503604 32\n0.151945 32\n0.160018 32\n0.071864 32\n0.104143 32\n0.072050 32\n0.047798 32\n0.080482 32\n0.039895 117\n0.533436 111\n0.031193 64\n0.013128 35\n0.514503 53\n0.000032 74\n6.482128 64\n0.198980 64\n0.191864 1\n0.318853 3\n0.208075 3\n0.160719 3\n0.167319 3\n0.152066 3\n0.151764 3\n0.152331 2\n0.151966 70\n1.296052 181\n0.392581 2\n0.366546 20\n0.129843 2\n0.257021 36\n0.437529 7\n0.000012 33\n0.000545 1629\n0.332579 3\n0.020260 69\n0.433327 69\n0.497802 69\n0.063344 69\n0.041626 69\n0.041675 69\n0.062701 69\n0.041981 69\n0.062370 70\n0.041763 70\n0.041667 64\n0.041599 64\n0.496052 64\n0.041642 64\n0.062438 64\n0.041533 310\n0.057467 64\n0.041667 64\n0.062505 64\n0.041348 64\n0.041602 64\n0.061985 64\n0.041490 64\n0.061982 64\n0.041505 64\n0.062232 54\n0.041472 64\n0.062044 64\n0.041687 64\n0.041637 64\n0.062438 64\n0.041476 64\n0.062591 64\n0.041446 64\n0.062410 64\n0.041726 150\n0.318233 8\n0.368129 88\n0.041949 253\n0.398344 175\n0.026468 61\n0.020318 64\n0.330391 302\n0.087234 64\n0.145064 150\n0.648520 88\n0.244523 239\n0.663925 247\n0.087799 61\n0.020280 73\n0.102324 53\n0.021133 301\n0.293823 170\n0.104221 80\n0.020658 53\n0.021023 299\n0.391740 73\n0.166236 73\n0.315289 73\n0.207303 7\n8.387080 52\n0.000035 36\n0.001396 233\n0.000038 120\n0.000030 21\n0.000075 2\n0.000353 96\n0.089969 18\n0.481992 23\n0.121722 9\n0.390441 1880\n0.005011 128\n2.612690 59\n0.936008 17\n0.558721 46\n0.332125 149\n0.004361 17\n0.215409 78\n0.156185 17\n1.955808 46\n0.466471 32\n0.002389 17\n0.363223 46\n0.113598 32\n0.003898 17\n0.234421 46\n0.112832 32\n0.004118 17\n0.195163 78\n0.124594 17\n0.163366 78\n0.156468 17\n0.187538 122\n0.140409 17\n0.307544 79\n0.148658 17\n0.314991 46\n0.147849 77\n0.002503 17\n0.330141 46\n0.134219 37\n0.032108 17\n0.217292 79\n0.132400 17\n0.211436 46\n0.120855 72\n0.004821 17\n0.194753 79\n0.148206 17\n0.140186 46\n0.144924 77\n0.003890 17\n0.138786 83\n0.148509 17\n0.163821 79\n0.140108 17\n0.187397 126\n0.156581 56\n1.640229 65\n0.256728 65\n0.140196 65\n0.128034 66\n0.159728 64\n0.143920 3\n0.191011 2\n0.499579 1\n0.050157 3\n0.050226 3\n0.051855 3\n0.050204 3\n0.050150 3\n0.050972 3\n0.051339 2\n0.050320 1\n0.051279 3\n0.050323 3\n0.337554 3\n0.272160 3\n0.239917 3\n0.192004 3\n0.167922 2\n0.176028 31\n0.956035 56\n0.151615 33\n0.160181 31\n0.159708 31\n0.143924 64\n0.216482 31\n0.183509 56\n0.144130 33\n0.160063 31\n0.144169 31\n0.151713 117\n0.277906 111\n0.042790 145\n0.018940 22\n0.513043 32\n0.000031 17\n0.959353 105\n0.292474 29\n0.000033 45\n0.220114 1452\n0.403624 1\n15.204074 135\n0.469052 134\n0.125608 175\n0.000086 39\n0.328952 114\n0.000037 118\n0.057629 25\n0.019991 233\n0.000042 12\n107.486432 103\n0.315115 29\n0.000780 45\n2.404610 1511\n0.556693 63\n5.959370 17\n0.739201 105\n0.244702 29\n0.000087 45\n0.155761 46\n0.312091 44\n0.319912 1260\n0.443160 105\n0.637956 25\n0.399819 74\n0.000038 28\n0.263943 28\n0.271803 28\n0.103955 3\n0.079568 28\n0.016235 28\n0.136119 28\n0.071999 28\n0.104044 28\n0.071966 28\n0.168059 3\n0.087899 28\n0.072049 28\n0.095841 28\n0.144351 28\n0.008546 28\n0.095507 28\n0.103990 3\n0.104474 28\n0.072129 28\n0.103248 28\n0.176154 28\n0.023529 28\n0.104168 28\n0.104112 3\n0.127786 28\n0.024307 28\n0.119937 3\n0.151953 28\n0.079958 28\n0.119932 28\n0.064155 28\n0.007583 3\n0.128364 67\n0.096075 28\n0.103933 28\n0.088024 3\n0.375842 28\n0.151898 28\n0.136421 28\n0.231874 28\n0.040004 3\n0.583730 28\n0.232406 28\n0.207913 28\n0.125536 3\n0.095981 28\n0.178154 28\n0.064339 28\n0.055856 28\n0.112232 28\n0.183648 28\n0.047873 28\n0.031946 3\n0.120644 28\n0.143867 28\n0.040211 3\n0.103864 28\n0.039333 3\n0.064491 28\n0.176116 28\n0.127764 28\n0.208271 4\n0.392485 28\n0.103407 28\n0.072028 28\n0.080384 28\n0.127633 3\n2.288028 28\n1.256194 28\n0.191425 28\n0.232170 28\n0.448253 28\n0.095824 28\n0.255973 28\n0.184072 28\n0.048019 28\n0.095829 28\n0.032493 28\n0.151625 4\n0.543924 4\n0.135882 4\n0.152285 28\n0.127993 28\n0.055812 28\n0.047900 28\n0.119993 28\n0.240222 75\n0.327964 25\n0.192274 74\n0.000035 64\n0.703691 55\n0.152083 4\n0.135820 28\n0.608080 99\n0.296696 28\n0.167148 3\n0.136376 65\n0.048607 28\n0.032380 28\n0.135325 28\n0.175746 28\n0.063825 1\n0.088035 28\n0.112034 28\n0.079787 28\n0.136027 28\n0.105394 3\n0.118882 28\n0.199905 8\n0.368033 28\n0.143970 8\n0.440267 28\n0.087629 8\n0.775925 28\n0.167855 28\n0.015805 4\n0.560480 8\n0.103933 28\n0.151846 2\n0.208295 1\n0.375707 28\n0.128350 1\n0.063728 28\n0.120136 28\n0.208291 28\n0.143845 28\n0.127724 3\n0.047965 28\n0.112180 28\n0.055965 1\n0.103890 28\n0.167949 6\n0.305294 28\n0.095005 28\n0.016814 28\n0.102916 28\n0.104712 3\n0.095027 28\n0.079866 28\n0.128445 1\n0.064061 28\n0.039854 28\n0.055968 28\n0.103981 28\n0.080275 28\n0.055964 3\n0.064028 28\n0.088023 1\n0.023898 28\n0.192135 28\n0.080503 28\n0.151358 28\n0.071842 28\n0.104022 3\n0.144434 28\n0.511596 28\n0.095927 3\n0.128353 28\n0.152101 28\n0.079820 28\n0.071664 28\n0.160464 66\n0.152127 69\n0.303762 4\n0.104104 28\n0.184019 66\n0.095599 28\n0.128714 28\n0.103421 28\n0.111825 3\n0.192167 28\n0.536090 28\n0.103904 28\n0.095737 28\n0.120266 28\n0.056139 1\n0.231920 28\n0.832022 28\n0.080115 3\n0.072093 28\n0.160272 28\n0.119785 28\n0.060263 28\n0.043276 1\n0.144401 28\n0.175967 28\n0.095863 28\n0.071930 25\n0.471960 74\n0.000076 28\n0.096112 28\n0.224164 28\n0.135775 4\n0.351775 4\n0.136398 4\n0.135829 28\n0.112328 28\n0.143828 28\n0.151857 4\n0.352160 4\n0.159742 4\n0.144254 28\n0.087231 28\n0.224643 28\n0.351847 4\n0.288018 28\n0.032005 28\n0.208049 28\n0.128073 28\n0.223961 28\n0.039983 28\n0.127886 3\n0.136305 28\n0.071792 28\n0.184072 28\n0.119940 4\n0.295899 4\n0.127989 8\n0.136155 28\n0.095438 28\n0.120814 28\n0.119518 28\n0.104318 28\n0.015879 28\n0.095959 28\n0.281149 3\n0.110786 28\n0.126896 3\n0.081671 28\n0.167686 8\n0.431755 1\n0.111847 28\n0.056696 3\n0.167563 28\n0.015726 28\n0.120167 2\n0.079945 28\n0.007863 28\n0.144412 28\n0.223966 4\n0.463824 4\n0.119892 7\n0.135935 1\n0.112407 28\n0.071602 1\n0.080297 28\n0.087878 28\n0.168018 3\n0.055954 28\n0.087690 28\n0.128251 59\n0.120439 28\n0.111797 1\n0.120052 28\n0.039910 28\n0.128255 28\n0.007724 28\n0.039897 3\n0.128299 28\n0.176247 8\n0.431528 1\n0.135975 4\n0.144060 4\n0.119804 4\n0.088224 28\n0.279824 28\n0.015766 28\n0.048442 3\n0.247769 28\n0.191972 28\n0.208307 28\n0.239795 3\n0.152023 28\n0.056170 28\n0.063908 3\n0.103875 28\n0.095947 28\n0.088105 28\n0.088074 28\n0.088019 3\n0.091242 28\n0.036811 28\n0.128244 3\n0.095430 28\n0.160314 28\n0.391965 28\n0.079689 1\n0.120293 28\n0.048312 28\n0.135706 28\n0.087971 28\n0.104026 28\n0.055967 28\n0.135632 28\n0.088682 4\n0.703822 4\n0.143873 28\n0.239967 28\n0.039989 28\n0.016224 3\n0.159951 28\n0.023717 3\n0.095665 28\n0.168160 28\n0.103959 28\n0.088416 28\n0.112104 1\n0.023963 28\n0.119872 28\n0.064195 28\n0.071723 28\n0.047948 64\n0.232557 28\n0.199770 28\n0.015829 28\n0.175933 4\n0.384361 4\n0.095435 4\n0.128135 28\n0.128140 28\n0.087678 28\n0.159903 28\n0.176284 28\n0.063848 3\n0.080176 65\n0.152392 28\n0.151782 28\n0.007482 4\n0.560533 4\n0.095616 28\n0.160250 28\n0.103896 28\n0.135950 3\n0.488052 1\n0.552328 4\n0.499906 4\n0.050454 4\n0.050155 69\n0.051176 65\n0.316124 28\n0.080005 3\n0.135997 28\n0.343930 28\n0.160041 28\n0.088254 28\n0.159612 28\n0.200100 28\n0.080050 28\n0.127976 28\n0.079755 28\n1.472554 28\n0.215439 28\n0.096109 28\n0.096133 28\n0.232058 2\n0.063520 28\n0.120412 28\n0.112027 28\n0.016064 3\n0.215958 28\n0.319865 3\n0.088060 28\n0.072436 28\n0.127380 28\n0.120334 28\n0.191917 4\n0.207961 4\n0.111894 4\n0.128237 28\n0.391880 28\n0.239845 28\n0.168048 28\n0.071852 3\n0.080473 28\n0.167865 28\n0.072064 28\n0.031950 28\n0.063970 1\n0.208123 28\n0.312074 28\n0.095760 28\n0.168210 28\n0.040130 28\n0.087287 28\n0.112721 2\n0.079783 28\n0.103932 28\n0.112206 28\n0.023699 28\n0.119754 28\n0.224282 3\n0.104091 28\n0.119702 28\n0.136306 28\n0.087824 28\n0.111817 28\n0.024109 3\n0.088295 28\n0.159835 28\n0.040053 66\n0.200215 28\n0.143866 28\n0.151864 28\n0.055900 28\n0.088185 4\n0.271876 4\n0.096171 4\n0.135918 1\n0.087862 28\n0.032125 28\n0.151984 28\n0.120039 28\n0.208121 4\n0.376661 4\n0.071130 28\n0.216195 28\n0.152052 28\n0.191759 3\n0.080167 28\n0.143986 1\n0.079062 28\n0.513171 28\n0.071628 28\n0.143936 28\n0.031827 3\n0.112139 28\n0.104051 28\n0.127823 61\n0.241292 28\n1.503062 28\n0.104185 28\n0.207642 28\n0.080398 28\n0.063421 3\n0.072443 28\n0.079848 28\n0.135749 28\n0.040048 28\n0.047912 3\n0.136322 28\n0.128056 28\n0.071773 28\n0.063773 4\n0.272095 4\n0.104041 8\n0.127903 28\n0.224128 28\n0.048065 28\n0.127835 28\n0.100404 1\n0.075668 28\n0.103947 28\n0.072932 28\n0.439412 28\n0.055781 28\n0.112228 28\n0.183972 2\n0.112076 28\n0.119874 28\n0.096078 28\n0.095876 28\n0.096278 3\n0.103777 28\n0.144060 28\n0.344200 2\n0.103907 28\n0.231869 28\n0.128139 28\n0.303944 3\n0.071159 28\n1.849171 28\n0.223595 28\n0.119863 63\n0.448481 28\n0.207668 28\n0.079803 28\n0.096248 28\n0.063381 3\n0.080369 28\n0.152528 28\n0.159400 2\n0.072041 28\n0.111800 28\n0.071829 28\n0.120703 28\n0.063863 3\n0.071949 28\n0.096078 3\n0.015925 28\n0.184175 28\n0.111867 28\n0.095948 3\n0.087965 28\n0.159798 28\n0.040262 28\n0.071727 28\n0.047955 2\n0.088835 28\n0.223372 28\n0.079972 28\n0.184076 28\n0.048474 28\n0.207673 28\n0.015607 28\n0.168165 25\n27.149398 120\n0.000047 64\n0.178301 99\n3.017142 64\n0.256754 99\n1.142359 100\n0.112194 64\n0.567182 64\n0.018199 64\n0.294067 64\n0.143871 65\n0.360250 64\n0.159723 53\n0.169477 72\n0.574612 65\n0.151878 64\n0.160383 64\n0.175586 64\n0.168015 64\n0.352922 64\n0.144753 64\n0.272370 28\n0.574779 28\n0.191697 3\n0.055591 28\n0.040487 28\n0.080180 28\n0.095645 2\n0.096153 28\n0.144177 28\n0.143879 28\n0.159958 28\n0.063968 28\n0.352197 28\n0.087633 28\n0.216465 2\n0.111951 28\n0.024058 28\n0.095329 28\n0.064431 3\n0.064055 28\n0.119866 28\n0.096002 28\n0.072062 28\n0.376331 1\n0.135837 28\n0.127755 28\n0.112306 28\n0.103896 28\n0.079676 3\n0.103789 28\n0.040389 28\n0.144049 28\n0.064261 28\n0.096059 28\n0.047787 28\n0.032290 28\n0.191740 3\n0.151903 28\n0.231756 2\n0.568789 28\n0.143594 28\n0.071503 28\n0.056055 28\n0.192367 28\n0.103984 3\n0.063925 28\n0.111849 28\n0.176253 28\n0.143938 28\n0.071761 3\n0.080293 28\n0.087855 28\n0.063895 28\n0.112445 28\n0.047382 28\n0.064241 1\n0.112263 28\n0.047911 28\n0.056096 28\n0.119659 4\n0.439869 28\n0.120173 28\n0.088028 3\n0.095668 28\n0.072093 28\n0.104344 1\n0.096479 28\n0.103488 28\n0.071924 28\n0.184156 28\n0.215916 28\n0.152002 28\n0.111932 28\n0.112102 28\n0.199915 28\n0.088035 3\n0.096389 28\n0.135646 28\n0.064330 64\n0.223941 28\n0.135394 28\n0.152217 4\n0.383835 28\n0.048380 28\n0.072015 28\n0.231919 28\n0.119934 28\n0.384167 2\n0.135842 28\n0.032062 28\n0.127189 28\n0.040472 3\n0.456433 28\n0.264160 28\n0.167993 28\n0.143832 2\n0.031755 28\n0.128296 28\n0.143896 28\n0.072122 28\n0.015679 28\n0.088318 28\n0.087339 28\n0.192651 2\n0.087961 28\n0.160116 28\n0.151807 28\n0.112002 28\n0.168322 28\n0.040000 28\n0.063317 28\n0.160509 2\n0.111915 28\n0.127712 28\n0.056924 3\n0.111565 28\n0.039595 28\n0.056424 28\n0.095574 3\n0.088249 28\n0.263666 28\n0.088108 4\n0.944331 8\n0.519814 28\n2.511654 28\n1.080459 28\n0.119991 28\n0.199972 28\n0.079557 28\n0.056477 3\n0.383837 28\n0.039918 28\n0.168202 28\n0.112140 28\n0.031596 28\n0.072143 28\n0.096105 28\n0.175907 28\n0.360035 4\n0.368795 4\n0.095194 28\n0.328040 28\n0.144201 4\n0.359339 4\n0.112632 28\n0.285478 28\n0.112230 3\n0.136284 28\n0.153939 28\n0.063988 28\n0.152018 28\n0.111688 28\n0.048469 28\n0.159501 28\n0.063924 28\n0.177323 2\n0.055114 28\n0.343975 28\n0.111566 28\n0.040050 28\n0.168452 28\n0.071845 28\n0.120049 28\n0.112039 28\n0.160054 28\n0.111970 28\n0.071718 28\n0.040065 28\n0.136165 64\n0.264198 28\n0.231675 3\n0.160020 28\n0.064136 28\n0.015369 28\n0.056384 28\n0.144103 28\n0.033819 1\n0.558328 28\n0.071692 28\n0.088090 28\n0.104176 28\n0.032425 3\n0.103343 28\n0.120003 2\n0.135944 28\n0.152042 28\n0.151905 28\n0.160174 28\n0.111874 28\n0.063947 3\n0.184349 28\n0.167793 28\n0.144030 1\n0.143952 28\n0.368073 28\n0.096663 3\n0.135444 28\n0.136073 28\n0.281451 28\n0.013820 4\n3.024515 4\n0.500004 8\n0.049887 1\n0.050066 4\n0.050017 6\n0.050455 1\n0.051548 4\n0.050182 8\n0.050236 1\n0.050738 4\n0.050654 4\n0.050023 4\n0.050816 4\n0.050353 6\n0.050118 1\n0.000029 1\n0.049500 8\n0.050175 1\n0.050257 4\n0.050427 4\n0.050569 4\n0.050295 6\n0.050350 1\n0.050711 4\n0.050676 28\n0.712300 1\n0.103842 28\n0.191833 28\n0.087773 28\n0.112217 28\n0.031803 3\n0.088138 28\n0.135914 2\n0.144210 28\n0.143987 28\n0.143950 28\n0.031845 28\n0.155524 28\n0.060441 3\n0.168194 28\n0.192047 28\n0.103704 1\n0.096231 28\n0.088097 28\n0.088131 3\n0.135862 28\n0.136064 28\n0.127913 28\n0.064010 28\n0.127993 28\n0.047817 28\n0.080177 28\n0.064941 28\n0.055133 28\n0.112000 28\n0.168037 3\n0.063388 28\n0.120434 28\n0.039937 28\n0.079722 28\n0.032088 3\n0.504659 28\n0.335558 3\n0.144184 28\n0.239927 28\n0.071625 28\n0.048954 28\n0.071591 3\n0.135744 28\n0.071697 28\n0.248430 4\n0.423939 28\n0.096088 28\n0.119815 28\n0.112224 28\n0.136340 4\n0.367525 4\n0.104018 28\n0.095589 28\n0.168327 28\n0.056202 3\n0.168009 28\n0.024036 28\n0.039852 28\n0.128138 3\n0.071869 28\n0.088391 28\n0.079549 28\n0.089651 3\n0.102441 65\n0.192151 41\n0.096244 41\n0.015383 41\n0.047871 41\n0.096523 44\n0.224107 1\n0.119791 28\n0.095672 28\n0.032106 28\n0.088198 28\n0.087747 65\n0.312633 28\n0.095299 28\n0.144163 28\n0.047896 28\n0.063986 28\n0.080131 3\n0.031738 28\n0.144142 28\n0.208658 28\n0.071441 3\n0.040004 28\n0.120018 28\n0.055931 28\n0.217236 3\n0.087044 28\n0.135765 28\n0.080151 3\n0.087650 28\n0.104382 28\n0.191831 28\n0.208102 28\n0.159959 28\n0.055703 28\n0.144759 28\n0.151591 3\n0.111703 105\n0.264467 41\n0.183617 41\n0.072545 41\n0.207616 41\n0.120651 41\n0.119236 41\n0.104328 41\n0.135979 44\n0.247860 3\n0.096351 28\n0.295606 28\n0.047906 28\n0.152074 28\n0.087996 28\n0.047883 28\n0.143994 28\n0.160244 28\n0.096206 28\n0.079547 28\n0.063885 28\n0.064132 28\n0.071979 28\n0.039842 28\n0.152372 3\n0.391903 28\n0.808275 28\n0.103751 28\n0.079604 3\n0.104300 76\n0.967954 41\n0.271915 41\n0.160226 41\n0.112024 41\n0.168110 41\n0.096210 23\n0.320700 21\n0.000121 3\n0.102704 28\n0.127846 28\n0.416322 28\n0.184000 28\n0.063808 28\n0.024193 28\n0.183931 28\n0.167994 28\n0.127838 28\n0.072531 28\n0.087683 28\n0.064837 28\n0.070778 28\n0.024192 28\n0.160544 28\n0.479929 64\n1.192221 28\n0.223898 28\n0.136560 28\n0.054874 3\n0.144301 28\n0.167757 28\n0.064232 28\n0.063787 28\n0.023651 3\n0.088350 28\n0.135883 28\n0.048057 28\n0.168024 28\n0.159929 28\n0.032011 28\n0.063956 28\n0.103978 28\n0.088174 28\n0.079831 3\n0.088182 28\n0.096084 28\n0.119806 28\n0.079903 28\n0.160286 4\n0.375790 28\n0.088464 28\n0.119739 28\n0.049075 28\n0.110812 28\n0.007903 28\n0.168168 28\n0.023885 3\n0.111769 28\n0.128479 28\n0.088051 28\n0.144010 28\n0.079784 28\n0.120528 28\n0.383442 28\n0.104070 3\n0.119997 28\n0.023881 28\n0.080041 28\n0.055884 3\n0.152213 28\n0.095794 28\n0.048301 28\n0.175985 28\n0.071985 28\n0.039906 28\n0.136137 28\n0.176069 28\n0.071714 28\n0.071746 28\n0.080254 28\n0.064365 28\n0.055969 28\n0.047485 28\n0.128421 28\n0.079689 3\n0.080967 28\n0.127292 28\n0.080093 3\n0.071959 28\n0.063916 28\n0.119923 28\n0.023969 28\n0.047735 3\n0.105324 28\n0.127045 28\n0.079729 3\n0.088198 28\n0.167789 28\n0.136527 28\n0.127760 28\n0.184955 3\n0.191266 28\n0.159813 8\n0.367581 1\n0.104249 64\n0.256519 28\n0.047581 28\n0.159887 28\n0.096112 28\n0.151966 28\n0.167938 28\n0.248860 28\n0.038973 1\n0.168286 28\n0.055604 28\n0.120444 3\n0.071596 28\n0.120184 28\n0.031915 28\n0.135708 2\n0.104450 28\n0.312028 28\n0.178669 28\n0.093156 28\n0.152362 3\n0.423770 28\n0.112070 28\n0.167923 28\n0.103755 28\n0.080389 28\n0.127948 3\n0.120436 28\n0.015534 28\n0.087644 28\n0.048308 28\n0.064159 28\n0.055888 1\n0.088106 28\n3.007877 28\n0.152109 28\n0.055500 3\n0.152395 28\n0.208089 28\n0.135904 28\n0.160119 28\n0.335853 28\n0.199769 28\n0.080394 3\n0.119722 28\n0.047919 28\n0.120244 28\n0.079882 2\n0.106288 28\n0.069715 28\n0.095978 28\n0.104280 28\n0.103762 28\n0.112066 3\n0.103681 28\n0.128253 28\n0.063702 1\n0.048626 28\n0.167957 6\n0.279610 1\n0.112104 4\n0.144048 8\n0.119873 28\n0.048116 28\n0.064134 28\n0.023529 3\n0.104601 28\n0.143697 28\n0.144070 3\n0.224001 28\n0.088333 28\n0.136830 28\n0.158987 28\n0.048069 28\n0.079891 28\n0.064734 3\n0.071398 28\n0.167941 28\n0.104324 28\n0.167483 28\n0.048711 28\n0.055424 3\n0.119790 28\n0.088158 28\n0.096120 64\n0.552900 28\n0.102726 28\n0.104115 28\n0.055802 3\n0.096135 28\n0.176271 8\n0.607869 28\n0.503989 28\n0.047853 28\n0.568332 4\n0.375813 28\n0.112140 28\n0.112092 4\n0.344141 4\n0.119299 4\n0.120428 28\n0.071977 28\n0.407966 28\n0.143911 3\n0.376163 1\n0.215895 28\n0.159970 3\n0.056058 28\n0.128243 28\n0.071634 28\n0.096277 28\n0.119682 2\n0.136083 28\n0.047958 28\n0.056102 28\n0.176199 28\n0.160202 28\n0.135619 28\n0.064361 28\n0.167584 28\n0.127737 28\n0.072474 28\n0.039822 28\n0.135915 28\n0.192095 3\n0.055958 28\n0.087810 28\n0.104093 28\n0.095989 28\n0.015668 28\n0.112454 28\n0.071615 3\n0.096590 28\n0.143676 28\n0.160001 3\n0.096106 28\n0.039886 28\n0.104034 28\n0.128205 28\n0.103571 28\n0.080523 28\n0.087923 28\n0.056023 28\n0.056284 2\n0.055567 28\n0.200054 28\n0.064129 28\n0.040316 28\n0.151623 3\n0.079341 28\n0.096316 28\n0.072013 28\n0.072712 28\n0.159650 28\n0.031806 3\n0.136092 28\n0.111942 28\n0.056649 28\n0.159455 4\n0.239973 4\n0.087986 8\n0.144445 28\n0.135609 28\n0.103909 28\n0.023754 28\n0.064083 28\n0.111943 28\n0.048214 28\n0.072182 3\n0.088031 28\n0.095902 28\n0.103954 28\n0.096145 3\n0.119972 28\n0.159935 28\n0.079661 28\n0.095566 28\n0.112642 4\n0.391767 4\n0.123586 4\n0.156633 8\n0.128076 1\n0.119897 64\n0.256649 28\n0.055865 28\n0.103557 28\n0.047561 28\n0.112328 28\n0.119831 28\n0.071978 28\n0.072371 28\n0.135693 28\n0.192196 3\n0.240128 28\n0.175956 28\n0.144058 28\n0.104034 3\n0.103971 28\n1.888019 28\n0.096578 28\n0.111361 3\n0.119969 28\n0.040027 28\n0.055903 28\n0.055610 28\n0.072836 2\n0.087601 28\n0.120055 28\n0.047779 28\n0.072015 3\n0.152243 28\n0.071926 28\n0.047837 28\n0.248146 28\n0.120074 28\n0.104038 3\n2.431957 28\n0.344947 28\n0.174905 28\n0.160138 28\n0.071601 28\n0.128433 28\n0.152081 28\n0.015798 28\n0.119977 3\n0.080036 28\n0.104115 28\n0.095692 28\n0.088271 3\n0.088303 28\n0.279997 28\n0.136441 28\n0.135389 28\n0.088066 28\n0.063861 28\n0.055606 3\n0.071945 28\n0.153056 28\n0.223392 28\n0.112431 3\n0.111547 28\n0.080039 28\n0.039886 3\n0.056101 28\n0.047461 28\n0.080164 28\n0.064106 1\n0.120273 28\n0.087838 28\n0.128189 28\n0.063845 28\n0.080050 28\n0.136125 28\n0.047762 28\n0.088201 28\n0.103506 28\n0.176451 64\n0.304223 28\n0.359368 28\n0.048121 28\n0.136299 3\n0.119757 28\n0.175933 28\n0.136263 28\n0.135955 28\n0.063889 28\n0.064215 28\n0.064168 3\n0.087441 28\n0.128378 3\n0.127978 28\n0.079688 28\n0.064214 28\n0.056031 3\n0.104062 28\n0.039791 28\n0.143893 28\n0.144362 28\n0.039700 28\n0.111892 28\n0.120105 28\n0.192349 114\n2.289834 29\n0.000038 4\n0.901400 4\n0.501731 4\n0.048861 4\n0.050756 4\n0.050475 4\n0.050974 4\n0.049625 4\n0.050823 4\n0.050475 4\n0.050508 4\n0.050469 4\n0.049911 4\n0.050449 4\n0.050260 4\n0.050193 4\n0.051086 4\n0.050214 4\n0.050549 4\n0.050465 4\n0.050955 4\n0.050375 4\n0.050681 4\n0.121967 28\n0.264072 28\n0.015626 28\n0.320087 28\n0.127981 28\n0.048175 1\n0.557999 217\n0.063568 15\n1.810176 104\n0.209365 96\n0.021905 1\n2.864251 1\n0.071780 1\n0.176166 1\n0.543592 1\n0.128166 1\n0.296172 1\n0.159986 1\n0.144830 4\n0.391044 4\n0.127752 1\n0.247915 1\n0.128335 1\n0.080006 1\n0.063784 1\n0.080146 1\n0.215972 1\n0.104107 1\n0.120107 2\n0.225037 34\n0.005283 2\n0.000031 118\n0.000416 17\n0.000030 227\n0.000352 212\n0.000326 368\n0.000322 10\n0.000031 271\n0.000337 95\n0.000221 123\n0.000313 47\n0.000033 6\n0.000031 9\n0.000026 210\n0.000304 50\n0.000029 257\n0.000304 52\n0.000033 6\n0.000028 19\n0.000027 9\n0.000030 101\n0.000301 96\n0.002001 14\n2.468300 1\n0.136075 1\n0.151672 1\n0.519989 1\n0.104126 2\n0.209229 18\n0.008195 2\n0.000030 44\n0.000406 96\n0.002534 6\n","typescript":"Script started on Wed 05 Feb 2014 10:00:50 PM EST\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ emacsa\r\nNo command 'emacsa' found, did you mean:\r\n Command 'emacs' from package 'e3' (universe)\r\n Command 'emacs' from package 'emacs24' (main)\r\n Command 'emacs' from package 'emacs23-nox' (main)\r\n Command 'emacs' from package 'jove' (universe)\r\n Command 'emacs' from package 'emacs23-lucid' (universe)\r\n Command 'emacs' from package 'emacs24-lucid' (universe)\r\n Command 'emacs' from package 'emacs23' (main)\r\n Command 'emacs' from package 'emacs24-nox' (main)\r\nemacsa: command not found\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ emacsa\b\u001b[K\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[H\u001b[2J\u001b[24d\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[H\u001b[2J\u001b[23d\u001b[?25l\u001b[7m-UUU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1m*scratch*   \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   All L1     (Fundamental) ---------------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[2d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lLoading 00debian-vars...\u001b[K\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;25H\u001b[?25ldone\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;9H\u001b[?25l/etc/emacs/site-start.d/50autoconf.el (source)...\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;58H\u001b[?25ldone\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;35H\u001b[?25ldictionaries-common.el (source)...\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;9H\u001b[?25ldebian-ispell...\u001b[K\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;9H\u001b[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25le\u001b[K\u001b[H\u001b[7mFile Edit Options Buffers Tools Help                                            \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[7m-UUU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1m*scratch*   \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   All L1     (Fundamental) ---------------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\nLoading /var/cache/dictionaries-common/emacsen-ispell-default.el (source)...don\\\r\n\u001b[A\u001b[2d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[A\t\u001b[?25ldebian-ispell...done\u001b[K\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;9H\u001b[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;75H\u001b[?25ldone\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;10H\u001b[?25letc/emacs/site-start.d/50dictionaries-common\u001b[6P\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[>0c\u001b[24d\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Lisp-Interaction Help                           \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[7m-UUU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1m*scratch*   \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   All L1     (Lisp Interaction) ----------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\nLoading /etc/emacs/site-start.d/50dictionaries-common.el (source)...done\u001b[K\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;23r\u001b[22;1H\u001b[1L\u001b[1;24r\u001b[24;1H\u001b[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.\u001b[22;1H\u001b[K\u001b[2d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.\u001b[K\u001b[H\u001b[7mFile Edit Options Buffers Tools Help                                            \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\nWelcome to GNU Emacs, one component of the GNU/Linux operating system.\u001b[K\r\n\u001b[K\nGet help           C-h  (Hold down CTRL and press h)\u001b[K\r\n\u001b[4m\u001b[34mEmacs manual\u001b[0m\u001b[39;49m       C-h r        \u001b[4m\u001b[34mBrowse manuals\u001b[0m\u001b[39;49m     C-h i\u001b[K\r\n\u001b[4m\u001b[34mEmacs tutorial\u001b[0m\u001b[39;49m     C-h t        Undo changes       C-x u\u001b[K\r\n\u001b[4m\u001b[34mBuy manuals\u001b[0m\u001b[39;49m        C-h RET      Exit Emacs         C-x C-c\u001b[K\r\n\u001b[4m\u001b[34mActivate menubar\u001b[0m\u001b[39;49m   M-`\u001b[K\r\n(`C-' means use the CTRL key.  `M-' means use the Meta (or Alt) key.\u001b[K\r\nIf you have no Meta key, you may instead type ESC followed by the character.)\u001b[K\r\nUseful tasks:\u001b[K\r\n\u001b[4m\u001b[34mVisit New File\u001b[0m\u001b[39;49m                  \u001b[4m\u001b[34mOpen Home Directory\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[4m\u001b[34mCustomize Startup\u001b[0m\u001b[39;49m               \u001b[4m\u001b[34mOpen *scratch* buffer\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\nGNU Emacs 24.3.1 (i686-pc-linux-gnu)\u001b[K\r\n of 2013-07-26 on komainu, modified by Debian\u001b[K\r\nCopyright (C) 2013 Free Software Foundation, Inc.\u001b[K\r\n\u001b[K\nGNU Emacs comes with ABSOLUTELY NO WARRANTY; type C-h C-w for \u001b[4m\u001b[34mfull details\u001b[0m\u001b[39;49m.\u001b[K\r\nEmacs is Free Software--Free as in Freedom--so you can redistribute copies\u001b[K\r\nof Emacs and modify it; type C-h C-c to see \u001b[4m\u001b[34mthe conditions\u001b[0m\u001b[39;49m.\u001b[K\r\nType C-h C-o for information on \u001b[4m\u001b[34mgetting the latest version\u001b[0m\u001b[39;49m.\u001b[K\r\n\u001b[7m-UUU:%%--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1m*GNU Emacs* \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Top L1     (Fundamental) ---------------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[2d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[2d\u001b[24d\u001b[?25l\u001b[34mSwitch to buffer (default *scratch*): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l*scratch*\u001b[24;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mLisp-Interaction Help\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[31m;; This buffer is for notes you don't want to save, and for Lisp evaluation.    \u001b[39;49m\r\n\u001b[31m;; If you want to create a file, visit that file with C-x C-f,                  \u001b[39;49m\r\n\u001b[31m;; then enter the text in that file's own buffer.                               \u001b[39;49m\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\n\u001b[K\n\u001b[K\n\u001b[K\n\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;6H\u001b[7m----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1m*scratch*   \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   All L5     (Lisp Interaction) \u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1m*scratch*   \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   All L6\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lD\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l2\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l5\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25l4\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l!\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lT\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lU\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\u001b[K\b\u001b[K\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lW\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\u001b[K\b\u001b[K\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\u001b[K\b\u001b[K\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l!\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m10\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32m\"                                             \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[12;36H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mu\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mp\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[12;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lN\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lS\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\u001b[13;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\t\b\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lE\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\t\b\t\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\t\b\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[C\b\u001b[C\u001b[?25lS\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\u001b[K\b\u001b[K\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\u001b[C\b\b\b\u001b[K\u001b[C\b\b\u001b[K\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lT\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[18;1H\u001b[1L\u001b[1;24r\u001b[18;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[?25l\u001b[1@p\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@o\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@p\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@u\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@p\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@ \u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@n\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@ \u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@o\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@i\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@f\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@i\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@c\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@a\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@i\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@o\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@-\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[1@s\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@y\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@l\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@e\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@ \u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\t\u001b[C\u001b[?25lM\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[19;1H\u001b[1L\u001b[1;24r\u001b[19;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32m\"                                                                 \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[18;16H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mw\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[18;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\u001b[C\b\b\u001b[?25l\u001b[32m                                                             \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[18;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[18;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lS\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lN\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\b\u001b[K\t\b\u001b[1;22r\u001b[20;1H\u001b[1L\u001b[1;24r\u001b[20;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lS\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\b\u001b[K\t\b\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[21;1H\u001b[1L\u001b[1;24r\u001b[21;1H\u001b[K\u001b[23;29H\u001b[?25l\u001b[7mTop L19\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\b\u001b[K\t\b\b\u001b[K\b\b\u001b[K\u001b[C\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lW\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m20\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\u001b[?25lNo matching parenthesis found\u001b[21;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\u001b[K\u001b[21;30H\r\n\n\n\u001b[?25l\u001b[34mList directory (brief): \u001b[39;49m~/Documents/rules-of-war/\u001b[1;33H\u001b[7mMinibuf Help         \u001b[0m\u001b[39;49m\u001b[27m\u001b[24;50H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\r\u001b[?25lEnd of buffer\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[?25l\u001b[34mList directory (brief): \u001b[39;49m~/Documents/rules-of-war/\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\r\u001b[?25lC-x C-g is undefined\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[?25l\u001b[34mList directory (brief): \u001b[39;49m~/Documents/rules-of-war/\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\r\u001b[?25lC-x C-g is undefined\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\r\u001b[?25lQuit\u001b[K\u001b[1;33H\u001b[7mLisp-Interaction Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\u001b[K\u001b[21;30H\r\n\n\n\u001b[?25l\u001b[34mFind file: \u001b[39;49m~/Documents/rules-of-war/\u001b[1;33H\u001b[7mMinibuf Help         \u001b[0m\u001b[39;49m\u001b[27m\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lde/\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lre/\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lW\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u001b[C\u001b[?25l[No match]\u001b[24;50H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u001b[C\u001b[?25l[No match]\r\t\t\t\t\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgets.py\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[?25lLoading vc-git...\u001b[K\u001b[21;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;18H\u001b[?25ldone\u001b[21;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\u001b[?25lLoading vc-git...done\u001b[K\u001b[H\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n\u001b[31m# Widgets are GUI elements that can be interacted with and drawn on the         \u001b[39;49m\r\n\u001b[A\n\u001b[31m# screen. When a widget is created, its sprite should be added to the           \u001b[39;49m\r\n\u001b[A\n\u001b[31m# appropriate sprite for rendering.                                             \u001b[39;49m\r\n\u001b[A\n\u001b[K\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m graphics \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m draw\u001b[K\r\n\u001b[K\n\u001b[31m# Menus are the prime example of a widget. They capture input - pressing        \u001b[39;49m\r\n\u001b[A\n\u001b[31m# an arrow key moves the highlighted line of text, and pressing enter           \u001b[39;49m\r\n\u001b[A\n\u001b[31m# will cause the interaction to return the string of the menu. Keyboard         \u001b[39;49m\r\n\u001b[A\n\u001b[31m# shortcuts will automatically be assigned based on the first letter of         \u001b[39;49m\r\n\u001b[A\n\u001b[31m# an option.                                                                    \u001b[39;49m\r\n\u001b[A\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mMenu\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, items):\u001b[K\r\n        \u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(items)\u001b[K\r\n        \u001b[33mw\u001b[39;49m = 0\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m items:\u001b[K\r\n            \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(s),w)\u001b[K\r\n\u001b[K\n        \u001b[31m# Set up the window.                                                    \u001b[39;49m\r\n\u001b[A\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.border(0,0,w+2,h+2)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.layer = 200\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Top L1    Git-master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[2d\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u001b[24d\u001b[?25lBeginning of buffer\u001b[K\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[2d\u001b[24d\u001b[?25l\u001b[34mList directory (brief): \u001b[39;49m~/Documents/rules-of-war/code/core/\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;60H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l/\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u001b[C\u001b[?25l[No match]\u001b[24;67H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u0007\u001b[1;23r\u001b[22;1H\u001b[1M\u001b[1;24r\u001b[24;1H\u001b[?25l-of-war/code/core/session\u001b[K\u001b[1;33H\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[23;1HReading directory: no such file or directory, /home/isharacomix/Documents/rules\\\r\n\u001b[A\u001b[2d\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u001b[1;23r\u001b[22;1H\u001b[1L\u001b[1;24r\u001b[24;1H\u001b[?25lBeginning of buffer\u001b[K\u001b[22;1H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.layer = 200\u001b[K\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[2d\u001b[24d\u001b[?25l\u001b[34mFind file: \u001b[39;49m~/Documents/rules-of-war/code/core/\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lssion.py\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[2;3H\u001b[31mA session is an interactive match of Rules of War between 2 or more teams.\u001b[39;49m\u001b[3;3H\u001b[31mA session consists of multiple TEAMS each playing on a single MAP governed by\u001b[39;49m\u001b[K\u001b[4;3H\u001b[31mset of RULES. The RULES and MAP are usually provided in the form of a JSON\u001b[39;49m\r\n\u001b[31m# data file.                                                                    \u001b[39;49m\r\n\u001b[K\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m . \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m grid, rules, widgets\r\n\u001b[K\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m graphics \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m sprites, draw\u001b[K\r\n\u001b[K\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m copy\u001b[K\r\n\u001b[K\n\u001b[31m# In theory, the game engine should be able to handle multiple sessions         \u001b[39;49m\r\n\u001b[31m# simultaneously. The session should be provided with a Dict generated from the\u001b[39;49m\r\n\u001b[31m# JSON of a map in the following format.                                        \u001b[39;49m\r\n\u001b[31m#   rules: a dict containing the unit and terrain definitions                   \u001b[39;49m\r\n\u001b[31m#   grid: a dict containing all of the tiles and other map variables (w,h,etc)  \u001b[39;49m\r\n\u001b[31m#   players: a list of the players, mapped to the teams in the grid             \u001b[39;49m\r\n\u001b[31m#   history: (optional) list of moves that have been played so far              \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mSession\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data):\u001b[K\u001b[22;14Hdata = data\u001b[K\u001b[23;14H\u001b[7m\u001b[1msession\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data):\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data = data\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = grid.Grid(data[\u001b[32m\"grid\"\u001b[39;49m], data[\u001b[32m\"rules\"\u001b[39;49m])\u001b[K\r\n\u001b[K\n\t\u001b[31m# Load the players. If a team does not have a respective player,        \u001b[39;49m\r\n        \u001b[31m# destroy that team.                                                    \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\r\n            \u001b[33mt.active\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m p \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data[\u001b[32m\"players\"\u001b[39;49m]:\r\n            \u001b[33mpdata\u001b[39;49m = data[\u001b[32m\"players\"\u001b[39;49m][p]\u001b[12;13H\u001b[33mpteam\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams[pdata[\u001b[32m\"team\"\u001b[39;49m]]\r\n            \u001b[33mpteam.active\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n            \u001b[33mpteam.name\u001b[39;49m = p\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t.active]:\u001b[K\r\n            \u001b[33mt.name\u001b[39;49m = \u001b[32m\"---\"\u001b[39;49m\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.purge(t,\u001b[35mTrue\u001b[39;49m)\u001b[K\r\n\u001b[K\n        \u001b[31m# Create the state machine widgets. These contain the ability to        \u001b[39;49m\r\n        \u001b[31m# undo actions and whatnot.                                             \u001b[39;49m\r\n\u001b[21;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.end_turn()\u001b[K\u001b[22;14Haction = rules.Begin()\u001b[23;29H\u001b[7m10% L20\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.end_turn()\u001b[K\u001b[3;14Haction = rules.Begin()\u001b[4;14Hstartover = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs = []\u001b[K\r\n\t\u001b[33mreplay\u001b[39;49m = data.pop(\u001b[32m\"history\"\u001b[39;49m,[])\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m] = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab = 0\u001b[K\r\n\u001b[K\n\t\u001b[31m# Create the grid sprite.                                               \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0,0\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed = 0.05\u001b[K\r\n\t\u001b[4P\t\u001b[C_sprite = sprites.Sprite(0,0,60,24)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_sprite.fill(\u001b[32m' '\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_sprite.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite = sprites.Sprite(0,0,1,1,100)\u001b[K\u001b[21;14Hcursor_sprite.putc(\u001b[35mNone\u001b[39;49m,0,0,\u001b[32m\"w\"\u001b[39;49m,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[22;14Hgrid_sprite.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite)\u001b[23;30H\u001b[7m8% L39\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;14H\u001b[?25lcursor_sprite.putc(\u001b[35mNone\u001b[39;49m,0,0,\u001b[32m\"w\"\u001b[39;49m,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[3;14Hgrid_sprite.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite)\r\n\u001b[K\u001b[5;14Hhighlight = sprites.Sprite(0,0,1,1)\u001b[K\u001b[6;14Hhighlight.hide()\r\n\u001b[K\u001b[8;5H\u001b[31m# This exports our data as a dictionary to be JSONified. If history is      \u001b[39;49m\r\n\u001b[9;5H\u001b[31m# included, it's like saving a snapshot of the game to be continued later.  \u001b[39;49m\r\n\u001b[10;5H\u001b[31m# If griddata is included, it's like using the current snapshot as a new    \u001b[39;49m\r\n\u001b[11;5H\u001b[31m# map.                                                                      \u001b[39;49m\r\n\u001b[12;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, history=\u001b[35mTrue\u001b[39;49m, griddata=\u001b[35mFalse\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\r\n\u001b[K\u001b[15;5H\u001b[31m# This function takes the character that was most recently entered by the   \u001b[39;49m\r\n\u001b[16;5H\u001b[31m# player and handles it. Even if no player is playing, this function        \u001b[39;49m\r\n\u001b[17;5H\u001b[31m# essentially serves as the step function for the AI.                       \u001b[39;49m\r\n\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m a \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\u001b[K\r\n\t    \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\u001b[23;29H\u001b[7m26% L58\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;14H\u001b[?25lgrid.end_turn()\u001b[K\u001b[3;14Haction = rules.Begin()\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[5;14Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[6;14Hinputs = []\u001b[K\r\n\t\u001b[33mreplay\u001b[39;49m = data.pop(\u001b[32m\"history\"\u001b[39;49m,[])\u001b[8;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m] = []\u001b[K\u001b[9;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[K\u001b[10;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab = 0\u001b[K\r\n\u001b[K\u001b[12;5H    \u001b[31m# Create the grid sprite.                                               \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0,0\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[15;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[16;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed = 0.05\u001b[K\u001b[17;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_sprite = sprites.Sprite(0,0,60,24)\u001b[K\u001b[18;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_sprite.fill(\u001b[32m' '\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_sprite.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite = sprites.Sprite(0,0,1,1,100)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.putc(\u001b[35mNone\u001b[39;49m,0,0,\u001b[32m\"w\"\u001b[39;49m,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_sprite.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite)\u001b[K\u001b[23;29H\u001b[7m18\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;14H\u001b[?25lcursor = 0,0\u001b[K\u001b[3;15Hnimation = 0.0\u001b[K\u001b[4;14Hmenu = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[5;14Hspeed = 0.05\u001b[K\u001b[6;14Hgrid_sprite = sprites.Sprite(0,0,60,24)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_sprite.fill(\u001b[32m' '\u001b[39;49m)\u001b[K\u001b[8;14Hgrid_sprite.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[9;14Hcursor_sprite = sprites.Sprite(0,0,1,1,100)\u001b[10;14Hcursor_sprite.putc(\u001b[35mNone\u001b[39;49m,0,0,\u001b[32m\"w\"\u001b[39;49m,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_sprite.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite)\r\n\u001b[K\u001b[13;14Hhighlight = sprites.Sprite(0,0,1,1)\u001b[14;14Hhighlight.hide()\r\n\u001b[K\u001b[16;5H\u001b[31m# This exports our data as a dictionary to be JSONified. If history is      \u001b[39;49m\r\n\u001b[17;5H\u001b[31m# included, it's like saving a snapshot of the game to be continued later.  \u001b[39;49m\r\n\u001b[18;5H\u001b[31m# If griddata is included, it's like using the current snapshot as a new    \u001b[39;49m\r\n\u001b[19;5H\u001b[31m# map.                                                                      \u001b[39;49m\r\n\u001b[20;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, history=\u001b[35mTrue\u001b[39;49m, griddata=\u001b[35mFalse\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\r\n\u001b[K\u001b[23;29H\u001b[7m22% L60\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m59\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;14H\u001b[?25lgrid.end_turn()\u001b[3;15Hction = rules.Begin()\u001b[4;14Hstartover = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[5;14Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[6;14Hinputs = []\u001b[K\r\n\t\u001b[33mreplay\u001b[39;49m = data.pop(\u001b[32m\"history\"\u001b[39;49m,[])\u001b[8;14Hdata[\u001b[32m\"history\"\u001b[39;49m] = []\u001b[K\u001b[9;14Hhistory = []\u001b[K\u001b[10;14Htab = 0\u001b[K\r\n\u001b[K\n\t\u001b[31m# Create the grid sprite.                                               \u001b[39;49m\r\n\u001b[13;14Hcursor = 0,0\u001b[K\u001b[14;14Hanimation = 0.0\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[16;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed = 0.05\u001b[K\u001b[17;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_sprite = sprites.Sprite(0,0,60,24)\u001b[K\u001b[18;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_sprite.fill(\u001b[32m' '\u001b[39;49m)\u001b[K\u001b[19;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_sprite.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[K\u001b[20;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite = sprites.Sprite(0,0,1,1,100)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.putc(\u001b[35mNone\u001b[39;49m,0,0,\u001b[32m\"w\"\u001b[39;49m,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_sprite.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite)\u001b[23;29H\u001b[7m18% L49\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m50\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[14;29H\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m49\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[C\u001b[1;22r\u001b[13;1H\u001b[1L\u001b[1;24r\u001b[13;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   18% L50\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[15;1H\u001b[1L\u001b[1;24r\u001b[14;1H\u001b[K\n\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0,0\u001b[K\u001b[23;35H\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lAuto-saving...\u001b[13;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[13;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[13;17H\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m49\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m50\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lS\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l8\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l2\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l4\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\u001b[13;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[15;1H\u001b[1L\u001b[1;24r\u001b[15;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25lselfl\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lS\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l6\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l2\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l4\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\u001b[14;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[16;1H\u001b[1L\u001b[1;24r\u001b[16;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\u001b[15;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;49H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[14;53H\b\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l3)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;49H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;49H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;49H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[17;1H\u001b[1L\u001b[1;24r\u001b[17;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m'                                                      \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[16;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32m'\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[16;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\r\t\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[18;1H\u001b[1L\u001b[1;24r\u001b[18;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m'                                                 \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[17;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[32m'\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[17;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[22;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25lAuto-saving...\u001b[22;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[22;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[K\u001b[2;14H\u001b[?25lcanvas = sprites.Sprite(0,0,80,24)\u001b[3;14Hgrid_canvas = sprites.Sprite(0,0,60,23)\u001b[4;14Hcanvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas)\u001b[K\u001b[5;15Hanvas.fill(\u001b[32m' '\u001b[39;49m)\u001b[K\u001b[6;14Hgrid_canvas.fill(\u001b[32m' '\u001b[39;49m)\r\n\u001b[K\u001b[8;14Hcursor = 0,0\u001b[K\u001b[9;14Hanimation = 0.0\u001b[10;14Hmenu = \u001b[35mNone\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed = 0.05\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_sprite = sprites.Sprite(0,0,60,24)\u001b[K\u001b[13;14Hgrid_sprite.fill(\u001b[32m' '\u001b[39;49m)\u001b[K\u001b[14;19Hsprite.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[15;15Hursor_sprite = sprites.Sprite(0,0,1,1,100)\u001b[16;15Hursor_sprite.putc(\u001b[35mNone\u001b[39;49m,0,0,\u001b[32m\"w\"\u001b[39;49m,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[17;19Hsprite.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite)\u001b[19;14Hhighlight = sprites.Sprite(0,0,1,1)\u001b[20;14Hhighlight.hide()\r\n\u001b[K\u001b[22;5H\u001b[31m# This exports our data as a dictionary to be JSONified. If history is      \u001b[39;49m\r\n\u001b[23;29H\u001b[7m22% L60\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23d\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23d\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23d\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23d\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23d\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23d\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23d\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23d\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m59\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[8;1H\u001b[1L\u001b[1;24r\u001b[8;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l;\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l/\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\u001b[7;36H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[9;1H\u001b[1L\u001b[1;24r\u001b[9;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lS\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l0)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l1)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l1)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l1)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[1;22r\u001b[10;1H\u001b[1L\u001b[1;24r\u001b[10;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[23;30H\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;36H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\u001b[9;36H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\b\u001b[1;22r\u001b[11;1H\u001b[1L\u001b[1;24r\u001b[11;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m60\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[23;30H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[18;1H\u001b[1M\u001b[1;24r\u001b[16;9H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_sprite.fill(\u001b[32m' '\u001b[39;49m)\u001b[17;26Hadd_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\r\n\n\n\n\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight = sprites.Sprite(0,0,1,1)\u001b[K\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[1;22r\u001b[18;1H\u001b[1M\u001b[1;24r\u001b[16;9H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_sprite.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[17;14Hcursor_sprite = sprites.Sprite(0,0,1,1,100)\r\n\n\n\n\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[K\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[1;22r\u001b[18;1H\u001b[1M\u001b[1;24r\u001b[16;9H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite = sprites.Sprite(0,0,1,1,100)\u001b[17;27H.putc(\u001b[35mNone\u001b[39;49m,0,0,\u001b[32m\"w\"\u001b[39;49m,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\r\n\n\n\n\n\u001b[K\u001b[16d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[1;22r\u001b[18;1H\u001b[1M\u001b[1;24r\u001b[16;9H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.putc(\u001b[35mNone\u001b[39;49m,0,0,\u001b[32m\"w\"\u001b[39;49m,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[17;14Hgrid_sprite.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite)\u001b[K\r\n\n\n\n\n    \u001b[31m# This exports our data as a dictionary to be JSONified. If history is      \u001b[39;49m\r\n\u001b[A\u001b[16d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[1;22r\u001b[18;1H\u001b[1M\u001b[1;24r\u001b[16;9H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_sprite.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite)\r\n\u001b[K\u001b[22d    \u001b[31m# included, it's like saving a snapshot of the game to be continued later.  \u001b[39;49m\r\n\u001b[A\u001b[16d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[1;22r\u001b[18;1H\u001b[1M\u001b[1;24r\u001b[17;9H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight = sprites.Sprite(0,0,1,1)\r\n\n\n\n\n    \u001b[31m# If griddata is included, it's like using the current snapshot as a new    \u001b[39;49m\r\n\u001b[A\u001b[16d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m59\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m60\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[1;22r\u001b[19;1H\u001b[1M\u001b[1;24r\u001b[17;9H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\r\n\u001b[K\n\n\n\n    \u001b[31m# map.                                                                      \u001b[39;49m\r\n\u001b[A\u001b[17d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lAuto-saving...\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m59\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lMark set\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[12;1H\u001b[1L\u001b[1;24r\u001b[10;9H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight = sprites.Sprite(0,0,1,1)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\r\n\u001b[K\u001b[10d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;14H\u001b[?25lgrid.end_turn()\u001b[K\u001b[3;14Haction = rules.Begin()\u001b[K\u001b[4;14Hstartover = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[5;15Hheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[6;14Hinputs = []\u001b[K\r\n\t\u001b[33mreplay\u001b[39;49m = data.pop(\u001b[32m\"history\"\u001b[39;49m,[])\u001b[K\u001b[8;14Hdata[\u001b[32m\"history\"\u001b[39;49m] = []\u001b[K\u001b[9;14Hhistory = []\u001b[K\u001b[10;14Htab = 0\u001b[K\r\n\u001b[K\n\t\u001b[31m# Create the grid sprite.                                               \u001b[39;49m\r\n\t\t\b\banvas = sprites.Sprite(0,0,80,24)\u001b[14;14Hgrid_canvas = sprites.Sprite(0,0,60,23)\u001b[15;14Hcanvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas)\u001b[16;14Hcanvas.fill(\u001b[32m' '\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.fill(\u001b[32m' '\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite = sprites.Sprite(0,0,1,1,100)\u001b[20;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite)\u001b[K\u001b[21;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight = sprites.Sprite(0,0,1,1)\u001b[K\u001b[22;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[K\n\b\u001b[7m18% L49\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;34H\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mc\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mv\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mh\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mc\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ml\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ml\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\u001b[?25l\u001b[31mf\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mh\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mp\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m.\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m50\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;53H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;49H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23d\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;54H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;57H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;56H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;49H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[22;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;14H\u001b[?25lcanvas = sprites.Sprite(0,0,80,24)\u001b[3;14Hgrid_canvas = sprites.Sprite(0,0,60,23)\u001b[4;14Hcanvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas)\u001b[K\u001b[5;15Hanvas.fill(\u001b[32m' '\u001b[39;49m)\u001b[K\u001b[6;14Hgrid_canvas.fill(\u001b[32m' '\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[8;14Hcursor_sprite = sprites.Sprite(0,0,1,1,100)\u001b[9;14Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite)\u001b[10;14Hhighlight = sprites.Sprite(0,0,1,1)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\r\n\u001b[K\n\t\t\b\bursor = 0,0\u001b[K\u001b[14;14Hanimation = 0.0\u001b[K\u001b[15;14Hmenu = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[16;14Hspeed = 0.05\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\u001b[20;5H\u001b[31m# This exports our data as a dictionary to be JSONified. If history is      \u001b[39;49m\r\n\u001b[21;5H\u001b[31m# included, it's like saving a snapshot of the game to be continued later.  \u001b[39;49m\r\n\u001b[22;5H\u001b[31m# If griddata is included, it's like using the current snapshot as a new    \u001b[39;49m\r\n\u001b[23;29H\u001b[7m22% L60\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[14;1H\u001b[1L\u001b[1;24r\u001b[13;1H\u001b[K\n\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0,0\u001b[K\u001b[23;35H\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[31m#                                                                       \u001b[39;49m\r\n\u001b[13;10H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mT\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mh\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mh\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ml\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mm\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m,\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mu\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mc\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mh\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mh\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[31mm\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mu\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m,\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mc\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mu\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m,\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[15;1H\u001b[1L\u001b[1;24r\u001b[14;1H\u001b[K\n\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0,0\u001b[K\u001b[23;35H\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[31m#                                                                       \u001b[39;49m\r\n\u001b[14;10H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mm\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mm\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mm\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m,\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m.\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mc\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m.\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[A\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[31m# These are other elements, such as the menu, cursor,                   \u001b[39;49m\r\n\t\u001b[31m# animation timer, etc.                                                 \u001b[39;49m\r\n\t\t\b\bursor = 0,0\u001b[K\u001b[5;14Hanimation = 0.0\u001b[K\u001b[6;14Hmenu = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[7;14Hspeed = 0.05\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\u001b[11;5H\u001b[31m# This exports our data as a dictionary to be JSONified. If history is      \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# included, it's like saving a snapshot of the game to be continued later.  \u001b[39;49m\r\n\u001b[13;5H\u001b[31m# If griddata is included, it's like using the current snapshot as a new    \u001b[39;49m\r\n\u001b[14;5H\u001b[4P\t\b\b\u001b[31mmap.                 \u001b[39;49m\u001b[4@\u001b[31m    \u001b[39;49m\u001b[15;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, history=\u001b[35mTrue\u001b[39;49m, griddata=\u001b[35mFalse\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\r\n\u001b[K\u001b[18;5H\u001b[31m# This function takes the character that was most recently entered by the   \u001b[39;49m\r\n\u001b[19;5H\u001b[31m# player and handles it. Even if no player is playing, this function        \u001b[39;49m\r\n\u001b[20;5H\u001b[31m# essentially serves as the step function for the AI.                       \u001b[39;49m\r\n\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[22;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m a \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\u001b[K\n\b\b\b\b\b\u001b[7m8% L71\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m a \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\u001b[K\r\n\t    \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\r\n\t\u001b[31m# If control does not belong to the human, then the control simply      \u001b[39;49m\r\n\t\u001b[31m# allows the player to move the map around.                             \u001b[39;49m\r\n\t\u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\r\n\t\u001b[33mresult\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[11;5H    \u001b[33minfo\u001b[39;49m = {}\u001b[K\u001b[12;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().control == \u001b[32m\"human\"\u001b[39;49m:\u001b[K\u001b[13;5H        result = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[14;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\u001b[K\u001b[15;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"left\"\u001b[39;49m: cx -=1\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"right\"\u001b[39;49m: cx +=1\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: cy -= 1\u001b[18;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: cy += 1\u001b[K\u001b[19;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"\\t\"\u001b[39;49m:\u001b[K\u001b[20;5H                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab += 1\u001b[K\u001b[21;5H                tabbables = [u \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.ready\r\n\t                         \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[23;29H\u001b[7m36% L80\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l\u001b[34mI-search: \u001b[39;49m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;58H\u001b[?25l\u001b[7m Isearch) \u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;11H\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\u001b[2;22H\u001b[?25l\u001b[1m\u001b[36m\u001b[45ms\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;12H\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;23H\u001b[2;5H\u001b[?25l                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables):\r\n\t                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab %= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables)\u001b[4;13H            \u001b[33mu\u001b[39;49m = tabbables[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab]\r\n\t\t\t\u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = u.x,u.y\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor != (cx,cy)):\u001b[K\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = cx,cy\u001b[K\r\n\t            \u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\r\n\t            result = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_\u001b[36m\u001b[45msp\u001b[39;49mrite.move_to(cx,cy)\u001b[K\u001b[13;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[14;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c:\u001b[K\r\n\t\t    val = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\r\n\t\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m val:\u001b[K\r\n\t\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(val)\r\n\t\t        result = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(val, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[20;21H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b\b    info = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.info(), \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\u001b[K\u001b[23;29H\u001b[7m47% L112\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;13H\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;31H\u001b[?25l\u001b[36m\u001b[45mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;14H\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;32H\u001b[?25l\u001b[36m\u001b[45mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;33H\u001b[?25l\u001b[36m\u001b[45mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;16H\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;34H\u001b[?25l\u001b[36m\u001b[45me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lMark saved where search started\u001b[12;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[12;29H\u001b[?25lsprite\u001b[23;36H\u001b[7m3  Git-master  (Python) --------\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mI-search: \u001b[39;49m\u001b[13;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;58H\u001b[?25l\u001b[7m Isearch) \u001b[0m\u001b[39;49m\u001b[27m\u001b[13;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;11H\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[13;35H\t\u001b[C\u001b[?25l\u001b[36m\u001b[45ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lAuto-saving...\u001b[13;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mI-search: \u001b[39;49ms\u001b[K\u001b[13;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;12H\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[13;43H\u001b[H\n\t\u001b[?25l\u001b[31m# either an order or a new action to perform. The orders tell us that   \u001b[39;49m\r\n\t\u001b[31m# the action was complete and that we either need to commit it or       \u001b[39;49m\r\n\t\u001b[31m# undo our mess.                                                        \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result:\u001b[K\u001b[6;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result == rules.ACT_COMMIT:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.append((copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint),\u001b[8;21H                 \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs))\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[K\u001b[11;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_TRASH:\u001b[K\u001b[12;22Hgrid.\u001b[36m\u001b[45msp\u001b[39;49mrite.kill()\u001b[K\u001b[13;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs = []\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_sprite.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info()\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[K\u001b[18;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_UNDO:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite.kill()\u001b[K\r\n\t\tcp = \u001b[35mNone\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history) > 0:\u001b[K\u001b[22;21H\u001b[33mcp\u001b[39;49m, acts = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.pop()\u001b[23;29H\u001b[7m58% L135\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;13H\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;29H\u001b[?25l\u001b[36m\u001b[45mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;14H\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;30H\u001b[?25l\u001b[36m\u001b[45mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;31H\u001b[?25l\u001b[36m\u001b[45mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;16H\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;32H\u001b[?25l\u001b[36m\u001b[45me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[15;27H\u001b[?25l\u001b[46msprite\u001b[39;49m.add_\u001b[46msprite\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.\u001b[46msprite\u001b[39;49m\u001b[19;27H\u001b[46msprite\u001b[39;49m\u001b[12d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lMark saved where search started\u001b[12;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[12;27H\u001b[?25lsprite\u001b[15;27Hsprite.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite\u001b[19;27Hsprite\u001b[23;36H\u001b[7m6  Git-master  (Python) --------\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[23;30H\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@c\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@a\u001b[23;30H\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@v\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@a\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@s\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mI-search: \u001b[39;49m\u001b[16;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;58H\u001b[?25l\u001b[7m Isearch) \u001b[0m\u001b[39;49m\u001b[27m\u001b[16;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;11H\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[16;33H\r\n\t\t\u001b[?25l\u001b[1m\u001b[36m\u001b[45ms\u001b[0m\u001b[39;49m\u001b[23;35H\u001b[7m40\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;12H\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[17;18H\b\u001b[?25l\u001b[1m\u001b[36ms\u001b[0m\u001b[39;49m\u001b[19;27H\u001b[36m\u001b[45msp\u001b[39;49m\u001b[23;36H\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;13H\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[19;29H\u001b[?25l\u001b[36m\u001b[45mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;14H\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[19;30H\u001b[?25l\u001b[36m\u001b[45mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[19;31H\u001b[?25l\u001b[36m\u001b[45mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;16H\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[19;32H\u001b[?25l\u001b[36m\u001b[45me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;27H\u001b[?25l\u001b[46msprite\u001b[39;49m\u001b[15;38H\u001b[46msprite\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.\u001b[46msprite\u001b[39;49m\u001b[19;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[?25lMark saved where search started\u001b[19;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[K\u001b[12;27H\u001b[?25lsprite\u001b[15;38Hsprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite\u001b[19;27Hsprite\u001b[23;36H\u001b[7m3  Git-master  (Python) --------\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\u001b[?25l\u001b[34mI-search: \u001b[39;49m\u001b[20;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;58H\u001b[?25l\u001b[7m Isearch) \u001b[0m\u001b[39;49m\u001b[27m\u001b[20;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;11H\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[20;26H\n\b\b\u001b[?25l\u001b[1m\u001b[36m\u001b[45ms\u001b[0m\u001b[39;49m\u001b[23;36H\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;12H\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[21;25H\u001b[H\n\t\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[K\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_UNDO:\u001b[K\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite.kill()\u001b[K\r\n\t        cp = \u001b[35mNone\u001b[39;49m\u001b[6;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history) > 0:\u001b[K\r\n\t\t    \u001b[33mcp\u001b[39;49m, acts = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.pop()\u001b[K\r\n\t\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t\t    cp = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint\u001b[K\u001b[10;22Hgrid = copy.deepcopy(cp)\u001b[11;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(cp)\u001b[12;26H_\u001b[36m\u001b[45msp\u001b[39;49mrite.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[13;22Hgrid.info()\u001b[14;22Haction = rules.Begin()\u001b[K\u001b[15;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_RESTART:\u001b[K\u001b[16;22Hhistory = []\u001b[17;22Hinputs = []\u001b[K\u001b[18;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite.kill()\u001b[K\u001b[19;26H = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_sprite.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[K\u001b[23;29H\u001b[7m67% L150\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;13H\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;29H\u001b[?25l\u001b[36m\u001b[45mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;14H\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;30H\u001b[?25l\u001b[36m\u001b[45mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;31H\u001b[?25l\u001b[36m\u001b[45mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;16H\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;32H\u001b[?25l\u001b[36m\u001b[45me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[4;27H\u001b[?25l\u001b[46msprite\u001b[39;49m\u001b[12;38H\u001b[46msprite\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.\u001b[46msprite\u001b[39;49m\u001b[18;27H\u001b[46msprite\u001b[39;49m\u001b[21;27H\u001b[46msprite\u001b[39;49m.add_\u001b[46msprite\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.\u001b[46msprite\u001b[39;49m\u001b[12;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lMark saved where search started\u001b[12;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[4;27H\u001b[?25lsprite\u001b[12;27Hsprite.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite\u001b[18;27Hsprite\u001b[21;27Hsprite.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite\u001b[23;36H\u001b[7m1  Git-master  (Python) --------\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@c\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@a\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@v\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@a\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@s\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mI-search: \u001b[39;49m\u001b[12;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;58H\u001b[?25l\u001b[7m Isearch) \u001b[0m\u001b[39;49m\u001b[27m\u001b[12;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;36H\u001b[?25l\u001b[7m1  Git-master  (Python) --------\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mI-search: \u001b[39;49m\u001b[13;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;58H\u001b[?25l\u001b[7m Isearch) \u001b[0m\u001b[39;49m\u001b[27m\u001b[13;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;11H\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[13;33H\r\n\t\t\u001b[?25l\u001b[1m\u001b[36m\u001b[45ms\u001b[0m\u001b[39;49m\u001b[23;36H\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;12H\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[14;18H\b\u001b[?25l\u001b[1m\u001b[36ms\u001b[0m\u001b[39;49m\u001b[18;27H\u001b[36m\u001b[45msp\u001b[39;49m\u001b[23;36H\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;13H\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[18;29H\u001b[?25l\u001b[36m\u001b[45mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;14H\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[18;30H\u001b[?25l\u001b[36m\u001b[45mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[18;31H\u001b[?25l\u001b[36m\u001b[45mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;16H\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[18;32H\u001b[?25l\u001b[36m\u001b[45me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[4;27H\u001b[?25l\u001b[46msprite\u001b[39;49m\u001b[12;38H\u001b[46msprite\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.\u001b[46msprite\u001b[39;49m\u001b[21;27H\u001b[46msprite\u001b[39;49m.add_\u001b[46msprite\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.\u001b[46msprite\u001b[39;49m\u001b[18;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lMark saved where search started\u001b[18;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[4;27H\u001b[?25lsprite\u001b[12;38Hsprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite\u001b[18;27Hsprite\u001b[21;27Hsprite.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite\u001b[23;36H\u001b[7m7  Git-master  (Python) --------\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@c\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@a\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@v\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@a\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@s\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\u001b[?25l\u001b[34mI-search: \u001b[39;49m\u001b[21;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;58H\u001b[?25l\u001b[7m Isearch) \u001b[0m\u001b[39;49m\u001b[27m\u001b[21;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\u001b[K\u001b[23;36H\u001b[?25l\u001b[7m8  Git-master  (Python) --------\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\u001b[?25l\u001b[34mI-search: \u001b[39;49m\u001b[20;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;58H\u001b[?25l\u001b[7m Isearch) \u001b[0m\u001b[39;49m\u001b[27m\u001b[20;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\u001b[K\u001b[23;36H\u001b[?25l\u001b[7m9  Git-master  (Python) --------\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m60\u001b[0m\u001b[39;49m\u001b[27m\u001b[A\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;22H\u001b[?25lgrid.info()\u001b[K\u001b[3;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[4;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_RESTART:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs = []\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite.kill()\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[10;26H_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[11;22Haction = rules.Begin()\u001b[K\u001b[12;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_END:\u001b[K\r\n\t\thistory = []\u001b[K\u001b[14;22Hdata[\u001b[32m\"history\"\u001b[39;49m].append(history)\u001b[15;13H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (cp,acts) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history:\r\n\t\t    history.append(acts)\u001b[17;22Hhistory = []\u001b[18;27Hend_turn()\u001b[K\u001b[19;22Hstartover = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid\n\b\b\bgrid)\u001b[K\u001b[21;22Haction = rules.Begin()\u001b[K\u001b[22;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[23;29H\u001b[7m72% L161\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mI-search: \u001b[39;49m\u001b[12;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;58H\u001b[?25l\u001b[7m Isearch) \u001b[0m\u001b[39;49m\u001b[27m\u001b[12;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;11H\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;33H\u001b[13;19H\u001b[?25l\u001b[36m\u001b[45ms\u001b[39;49m\u001b[23;36H\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\b\b\b\u001b[?25l\u001b[1m\u001b[36m\u001b[46ms\u001b[0m\u001b[39;49m\u001b[1m\u001b[36melf\u001b[0m\u001b[39;49m.data[\u001b[32m\"hi\u001b[39;49m\u001b[32m\u001b[46ms\u001b[39;49m\u001b[32mtory\"\u001b[39;49m].append(hi\u001b[46ms\u001b[39;49m\u001b[15;28H\u001b[46ms\u001b[39;49m) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36m\u001b[46ms\u001b[0m\u001b[39;49m\u001b[1m\u001b[36melf\u001b[0m\u001b[39;49m.hi\u001b[46ms\u001b[39;49m\u001b[16;23H\u001b[46ms\u001b[39;49mtory.append(act\u001b[46ms\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36m\u001b[46ms\u001b[0m\u001b[39;49m\u001b[1m\u001b[36melf\u001b[0m\u001b[39;49m.hi\u001b[46ms\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36m\u001b[46ms\u001b[0m\u001b[39;49m\n\b\u001b[1m\u001b[36m\u001b[46ms\u001b[0m\u001b[39;49m\u001b[1m\u001b[36melf\u001b[0m\u001b[39;49m.\u001b[46ms\u001b[39;49mtartover = copy.deepcopy(\u001b[1m\u001b[36m\u001b[46ms\u001b[0m\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36m\u001b[46ms\u001b[0m\u001b[39;49m\u001b[1m\u001b[36melf\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36m\u001b[46ms\u001b[0m\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36m\u001b[46ms\u001b[0m\u001b[39;49m\u001b[1m\u001b[36melf\u001b[0m\u001b[39;49m.action = rule\u001b[46ms\u001b[39;49m\u001b[22;15H\u001b[1m\u001b[36m\u001b[46ms\u001b[0m\u001b[39;49m\u001b[13;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\t\u001b[?25l\u001b[1m\u001b[36m\u001b[46ms\u001b[0m\u001b[39;49m\n\b\u001b[1m\u001b[36m\u001b[46ms\u001b[0m\u001b[39;49m\u001b[1m\u001b[36melf\u001b[0m\u001b[39;49m.action = rule\u001b[46ms\u001b[39;49m\u001b[4;20H\u001b[46ms\u001b[39;49mult == rule\u001b[46ms\u001b[39;49m.ACT_RE\u001b[46mS\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36m\u001b[46ms\u001b[0m\u001b[39;49m\u001b[1m\u001b[36melf\u001b[0m\u001b[39;49m.hi\u001b[46ms\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36m\u001b[46ms\u001b[0m\u001b[39;49m\u001b[1m\u001b[36melf\u001b[0m\u001b[39;49m.input\u001b[46ms\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36m\u001b[46ms\u001b[0m\u001b[39;49m\u001b[1m\u001b[36melf\u001b[0m\u001b[39;49m.grid.\u001b[46ms\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36m\u001b[46ms\u001b[0m\u001b[39;49m\u001b[1m\u001b[36melf\u001b[0m\u001b[39;49m.grid = copy.deepcopy(\u001b[1m\u001b[36m\u001b[46ms\u001b[0m\u001b[39;49m\u001b[1m\u001b[36melf\u001b[0m\u001b[39;49m.\u001b[46ms\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36m\u001b[46ms\u001b[0m\u001b[39;49m\u001b[1m\u001b[36melf\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36m\u001b[46ms\u001b[0m\u001b[39;49m\u001b[1m\u001b[36melf\u001b[0m\u001b[39;49m.\u001b[46ms\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36m\u001b[46ms\u001b[0m\u001b[39;49m\u001b[13;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[10;32H\u001b[?25l\u001b[46ms\u001b[39;49m.add_\u001b[46ms\u001b[39;49mprite(\u001b[1m\u001b[36m\u001b[46ms\u001b[0m\u001b[39;49m\u001b[1m\u001b[36melf\u001b[0m\u001b[39;49m.grid.\u001b[46ms\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36m\u001b[46ms\u001b[0m\u001b[39;49m\u001b[1m\u001b[36melf\u001b[0m\u001b[39;49m.action = rule\u001b[46ms\u001b[39;49m\u001b[12;20H\u001b[46ms\u001b[39;49mult == rule\u001b[46ms\u001b[39;49m\u001b[13;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;12H\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[13;20H\u001b[2;27H\u001b[?25lend_turn()\u001b[3;22H\u001b[46ms\u001b[39;49mtartover = copy.deepcopy(\u001b[1m\u001b[36m\u001b[46ms\u001b[0m\u001b[39;49m\u001b[1m\u001b[36melf\u001b[0m\u001b[39;49m.grid)\u001b[4;13H    \u001b[1m\u001b[36m\u001b[46ms\u001b[0m\u001b[39;49m\u001b[1m\u001b[36melf\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36m\u001b[46ms\u001b[0m\u001b[39;49m\u001b[1m\u001b[36melf\u001b[0m\u001b[39;49m.grid)\u001b[5;22Haction = rule\u001b[46ms\u001b[39;49m.Begin()\u001b[6;13H\u001b[1m\u001b[36mel\u001b[0m\u001b[39;49m\u001b[1m\u001b[36m\u001b[46ms\u001b[0m\u001b[39;49m\u001b[1m\u001b[36me\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = result\u001b[K\r\n\u001b[K\u001b[9;13H\u001b[31m# Set up various UI candy.                                          \u001b[39;49m\r\n\u001b[10;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.kill()\u001b[K\u001b[12;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight = \u001b[36m\u001b[45msp\u001b[39;49mrites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h,50)\r\n\t\t\u001b[33mc\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices:\u001b[K\r\n\t\t    \u001b[33mt1\u001b[39;49m,\u001b[33mu1\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(x,y)\u001b[16;21H\u001b[33mt2\u001b[39;49m,\u001b[33mu2\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(cx,cy)\r\n\t\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u1: \u001b[33mc\u001b[39;49m = u1.team.color\r\n\t\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m t1 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t1.team: \u001b[33mc\u001b[39;49m = t1.team.color\r\n\t\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u2: \u001b[33mc\u001b[39;49m = u2.team.color\u001b[K\r\n\t\t    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m: \u001b[33mc\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().color\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.putc(\u001b[35mNone\u001b[39;49m,x,y,c,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[22;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_sprite.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight)\u001b[23;29H\u001b[7m80% L177\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;36H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\t\u001b[?25l\u001b[1m\u001b[36ms\u001b[0m\u001b[39;49m\n\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover = copy.deepcopy(\u001b[1m\u001b[36ms\u001b[0m\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36ms\u001b[0m\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules\u001b[6;15H\u001b[1m\u001b[36ms\u001b[0m\u001b[39;49m\u001b[12;36H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;13H\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;36H\u001b[?25l\u001b[36m\u001b[45mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;14H\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;37H\u001b[?25l\u001b[36m\u001b[45mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;38H\u001b[?25l\u001b[36m\u001b[45mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;16H\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;39H\u001b[?25l\u001b[36m\u001b[45me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[C\u001b[?25l\u001b[46mSprite\u001b[39;49m\u001b[22;27H\u001b[46msprite\u001b[39;49m.add_\u001b[46msprite\u001b[39;49m\u001b[12;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lMark saved where search started\u001b[12;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[12;34H\u001b[?25lsprites.Sprite\u001b[22;27Hsprite.add_sprite\u001b[23;36H\u001b[7m8  Git-master  (Python) --------\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m80\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\b\b\b\b\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\b\b\b\b\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[A\t\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@c\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@a\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@v\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@a\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@s\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\t\u001b[?25l\u001b[33mc\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices:\u001b[K\r\n\t\t    \u001b[33mt1\u001b[39;49m,\u001b[33mu1\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(x,y)\u001b[K\r\n\t\t    \u001b[33mt2\u001b[39;49m,\u001b[33mu2\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(cx,cy)\u001b[6;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u1: \u001b[33mc\u001b[39;49m = u1.team.color\r\n\t\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m t1 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t1.team: \u001b[33mc\u001b[39;49m = t1.team.color\u001b[8;21H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u2: \u001b[33mc\u001b[39;49m = u2.team.color\u001b[9;13H        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m: \u001b[33mc\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().color\u001b[K\u001b[10;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.putc(\u001b[35mNone\u001b[39;49m,x,y,c,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[11;22Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight)\u001b[12;22Hanimation = 0.0\u001b[K\u001b[13;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = widgets.Menu(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_sprite.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.sprite)\r\n\u001b[K\u001b[17;5H\u001b[31m# The session has multiple sprites that need to be rendered, from the       \u001b[39;49m\r\n\u001b[18;5H\u001b[31m# view of the grid to the mutliple popups that need to appear.              \u001b[39;49m\r\n\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrender\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation >= 1.0:\u001b[K\u001b[22;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[K\n\b\b\b\u001b[7m5% L188\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m90\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[23;30H\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@c\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@a\u001b[23;30H\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@v\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@a\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@s\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[A\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = widgets.Menu(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.sprite)\r\n\u001b[K\u001b[6;5H\u001b[31m# The session has multiple sprites that need to be rendered, from the       \u001b[39;49m\r\n\u001b[7;5H\u001b[31m# view of the grid to the mutliple popups that need to appear.              \u001b[39;49m\r\n\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrender\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation >= 1.0:\u001b[K\u001b[11;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[K\u001b[12;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\u001b[13;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[K\u001b[14;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\u001b[15;22Hhighlight.show()\u001b[K\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units:\u001b[17;5H                u.cycle_anim()\u001b[K\u001b[18;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_sprite.render(0,0)\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7m92% L199\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m200\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\t\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@c\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@a\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@v\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@a\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@s\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[18;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[18;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   92% L205  Git:\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[18;20H\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[18;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[18;20H\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[18;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[2;13H\u001b[?25l    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[K\u001b[3;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[4;22Haction = result\u001b[K\u001b[6;5H        \u001b[31m# Set up various UI candy.                                          \u001b[39;49m\r\n\u001b[7;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\u001b[K\u001b[8;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.kill()\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight = sprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h,50)\r\n\t        \u001b[33mc\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[11;13H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices:\u001b[12;13H        \u001b[33mt1\u001b[39;49m,\u001b[33mu1\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(x,y)\u001b[K\r\n\t\t    \u001b[33mt2\u001b[39;49m,\u001b[33mu2\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(cx,cy)\u001b[14;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u1: \u001b[33mc\u001b[39;49m = u1.team.color\u001b[K\r\n\t\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m t1 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t1.team: \u001b[33mc\u001b[39;49m = t1.team.color\r\n\t\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u2: \u001b[33mc\u001b[39;49m = u2.team.color\u001b[17;21H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m: \u001b[33mc\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().color\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.putc(\u001b[35mNone\u001b[39;49m,x,y,c,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[21;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = widgets.Menu(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices)\u001b[23;29H\u001b[7m82% L190\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;22H\u001b[?25lgrid.info()\u001b[K\u001b[3;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[4;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_RESTART:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[6;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs = []\u001b[K\u001b[7;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite.kill()\u001b[K\u001b[8;22Hgrid = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[9;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[K\u001b[12;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_END:\u001b[K\r\n\t\thistory = []\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m].append(history)\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (cp,acts) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history:\u001b[K\u001b[16;21Hhistory.append(acts)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.end_turn()\u001b[K\u001b[19;22Hstartover = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\u001b[20;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[21;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[K\u001b[22;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[23;29H\u001b[7m72% L171\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;22H\u001b[?25lcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[4;38HTRASH:\u001b[K\u001b[5;22Hgrid.sprite.kill()\u001b[7;26H = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint)\u001b[8;26H_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[9;22Hgrid.info()\u001b[K\u001b[10;22Haction = rules.Begin()\u001b[K\u001b[11;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_UNDO:\u001b[K\u001b[12;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite.kill()\u001b[K\r\n\t\tcp = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history) > 0:\u001b[K\r\n\t\t    \u001b[33mcp\u001b[39;49m, acts = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.pop()\r\n\t\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t\t    cp = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint\u001b[18;26H = copy.deepcopy(cp)\u001b[19;22Hcheckpoint = copy.deepcopy(cp)\u001b[K\u001b[20;22Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[21;22Hgrid.info()\u001b[K\u001b[22;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[23;29H\u001b[7m63% L152\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c:\u001b[K\u001b[4;13H        val = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\r\n\t\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m val:\u001b[K\r\n\t\t\u001b[8@\u001b[6;36H.append(val)\r\n\t\t        result = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(val, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\t    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t\t        info = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.info(), \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\u001b[K\n\u001b[K\n\t\u001b[31m# If we got a result from performing an action, we will be given        \u001b[39;49m\r\n\t\u001b[31m# either an order or a new action to perform. The orders tell us that   \u001b[39;49m\r\n\t\u001b[31m# the action was complete and that we either need to commit it or       \u001b[39;49m\r\n\t\u001b[31m# undo our mess.                                                        \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result:\u001b[K\n\b\b\b\b\b\b\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result == rules.ACT_COMMIT:\u001b[K\u001b[19;22Hhistory.append((copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint),\r\n\t\t                     \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs))\u001b[K\u001b[21;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[23;29H\u001b[7m53% L133\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"right\"\u001b[39;49m: cx +=1\u001b[K\u001b[3;21H == \u001b[32m\"up\"\u001b[39;49m: cy -= 1\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: cy += 1\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"\\t\"\u001b[39;49m:\u001b[6;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab += 1\u001b[K\u001b[7;21Htabbables = [u \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.ready\r\n\t\t\t         \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[9;21H             \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.x \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.y \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m]\u001b[10;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables):\u001b[K\r\n\t\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab %= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables)\r\n\t\t\t\u001b[33mu\u001b[39;49m = tabbables[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab]\r\n\t                \u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = u.x,u.y\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor != (cx,cy)):\u001b[K\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = cx,cy\u001b[K\r\n\t            \u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[18;13H        result = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.move_to(cx,cy)\u001b[K\u001b[21;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c:\u001b[K\u001b[23;29H\u001b[7m42% L114\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\r\n\u001b[K\u001b[4;5H\u001b[31m# This function takes the character that was most recently entered by the   \u001b[39;49m\r\n\u001b[5;5H\u001b[31m# player and handles it. Even if no player is playing, this function        \u001b[39;49m\r\n\u001b[6;5H\u001b[31m# essentially serves as the step function for the AI.                       \u001b[39;49m\r\n\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m a \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\u001b[K\u001b[9;13H\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\r\n\t\u001b[31m# If control does not belong to the human, then the control simply      \u001b[39;49m\r\n\t\u001b[31m# allows the player to move the map around.                             \u001b[39;49m\r\n\t\u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[K\r\n\t\u001b[33mresult\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[33minfo\u001b[39;49m = {}\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().control == \u001b[32m\"human\"\u001b[39;49m:\u001b[18;13H\u001b[8P\u001b[18;22H\u001b[35mNone\u001b[39;49m\u001b[K\u001b[19;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"left\"\u001b[39;49m: cx -=1\u001b[K\u001b[21;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"right\"\u001b[39;49m: cx +=1\u001b[K\u001b[22;21H == \u001b[32m\"up\"\u001b[39;49m: cy -= 1\u001b[23;29H\u001b[7m33% L95 \u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[32m\u001b[40m........................\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[32m\u001b[40m............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[32m\u001b[40m...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....................\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[14;15H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[C\u001b[14;15H\u001b[H\u001b[C\u001b[2d\u001b[3d\u001b[14;15H\u001b[3;2H\u001b[4d\u001b[5d\u001b[6d\u001b[7d\u001b[8d\u001b[9d\u001b[10d\u001b[C\u001b[14;15H\u001b[10;4H\u001b[C\u001b[A\u001b[14;15H\u001b[9;5H\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 95, in run\r\n    gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 88, in refresh\r\n    if gfx: return gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 105, in refresh\r\n    curses.napms(20)\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bemacs\u001b[K\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[H\u001b[2J\u001b[24d\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[H\u001b[2J\u001b[23d\u001b[?25l\u001b[7m-UUU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1m*scratch*   \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   All L1     (Fundamental) ---------------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[2d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lLoading 00debian-vars...\u001b[K\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;25H\u001b[?25ldone\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;9H\u001b[?25l/etc/emacs/site-start.d/50autoconf.el (source)...\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;58H\u001b[?25ldone\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;35H\u001b[?25ldictionaries-common.el (source)...\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;9H\u001b[?25ldebian-ispell...\u001b[K\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;9H\u001b[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25le\u001b[K\u001b[H\u001b[7mFile Edit Options Buffers Tools Help                                            \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[7m-UUU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1m*scratch*   \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   All L1     (Fundamental) ---------------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\nLoading /var/cache/dictionaries-common/emacsen-ispell-default.el (source)...don\\\r\n\u001b[A\u001b[2d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[A\t\u001b[?25ldebian-ispell...done\u001b[K\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;9H\u001b[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;75H\u001b[?25ldone\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;10H\u001b[?25letc/emacs/site-start.d/50dictionaries-common\u001b[6P\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[>0c\u001b[24d\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Lisp-Interaction Help                           \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[7m-UUU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1m*scratch*   \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   All L1     (Lisp Interaction) ----------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\nLoading /etc/emacs/site-start.d/50dictionaries-common.el (source)...done\u001b[K\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;23r\u001b[22;1H\u001b[1L\u001b[1;24r\u001b[24;1H\u001b[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.\u001b[22;1H\u001b[K\u001b[2d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.\u001b[K\u001b[H\u001b[7mFile Edit Options Buffers Tools Help                                            \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\nWelcome to GNU Emacs, one component of the GNU/Linux operating system.\u001b[K\r\n\u001b[K\nGet help           C-h  (Hold down CTRL and press h)\u001b[K\r\n\u001b[4m\u001b[34mEmacs manual\u001b[0m\u001b[39;49m       C-h r        \u001b[4m\u001b[34mBrowse manuals\u001b[0m\u001b[39;49m     C-h i\u001b[K\r\n\u001b[4m\u001b[34mEmacs tutorial\u001b[0m\u001b[39;49m     C-h t        Undo changes       C-x u\u001b[K\r\n\u001b[4m\u001b[34mBuy manuals\u001b[0m\u001b[39;49m        C-h RET      Exit Emacs         C-x C-c\u001b[K\r\n\u001b[4m\u001b[34mActivate menubar\u001b[0m\u001b[39;49m   M-`\u001b[K\r\n(`C-' means use the CTRL key.  `M-' means use the Meta (or Alt) key.\u001b[K\r\nIf you have no Meta key, you may instead type ESC followed by the character.)\u001b[K\r\nUseful tasks:\u001b[K\r\n\u001b[4m\u001b[34mVisit New File\u001b[0m\u001b[39;49m                  \u001b[4m\u001b[34mOpen Home Directory\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[4m\u001b[34mCustomize Startup\u001b[0m\u001b[39;49m               \u001b[4m\u001b[34mOpen *scratch* buffer\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\nGNU Emacs 24.3.1 (i686-pc-linux-gnu)\u001b[K\r\n of 2013-07-26 on komainu, modified by Debian\u001b[K\r\nCopyright (C) 2013 Free Software Foundation, Inc.\u001b[K\r\n\u001b[K\nGNU Emacs comes with ABSOLUTELY NO WARRANTY; type C-h C-w for \u001b[4m\u001b[34mfull details\u001b[0m\u001b[39;49m.\u001b[K\r\nEmacs is Free Software--Free as in Freedom--so you can redistribute copies\u001b[K\r\nof Emacs and modify it; type C-h C-c to see \u001b[4m\u001b[34mthe conditions\u001b[0m\u001b[39;49m.\u001b[K\r\nType C-h C-o for information on \u001b[4m\u001b[34mgetting the latest version\u001b[0m\u001b[39;49m.\u001b[K\r\n\u001b[7m-UUU:%%--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1m*GNU Emacs* \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Top L1     (Fundamental) ---------------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[2d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[2d\u001b[24d\u001b[?25l(No files need saving)\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\r\n\u001b[K\n    \u001b[31m# This function takes the character that was most recently entered by the   \u001b[39;49m\r\n\u001b[A\n    \u001b[31m# player and handles it. Even if no player is playing, this function        \u001b[39;49m\r\n\u001b[A\n    \u001b[31m# essentially serves as the step function for the AI.                       \u001b[39;49m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m a \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\u001b[K\r\n            \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n        \u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\u001b[K\r\n        \u001b[31m# If control does not belong to the human, then the control simply      \u001b[39;49m\r\n\u001b[A\n        \u001b[31m# allows the player to move the map around.                             \u001b[39;49m\r\n\u001b[A\n        \u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[K\r\n        \u001b[33mresult\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n        \u001b[33minfo\u001b[39;49m = {}\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().control == \u001b[32m\"human\"\u001b[39;49m:\u001b[K\r\n            result = \u001b[35mNone\u001b[39;49m\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"left\"\u001b[39;49m: cx -=1\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"right\"\u001b[39;49m: cx +=1\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: cy -= 1\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   33% L95   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite = sprites.Sprite(0,0,1,1,100)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite)\u001b[4;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight = sprites.Sprite(0,0,1,1)\u001b[K\u001b[5;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[K\r\n\u001b[K\u001b[7;5H    \u001b[31m# These are other elements, such as the menu, cursor,                   \u001b[39;49m\r\n\t\u001b[31m# animation timer, etc.                                                 \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0,0\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed = 0.05\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\u001b[16;5H\u001b[31m# This exports our data as a dictionary to be JSONified. If history is      \u001b[39;49m\r\n\u001b[17;5H\u001b[31m# included, it's like saving a snapshot of the game to be continued later.  \u001b[39;49m\r\n\u001b[18;5H\u001b[31m# If griddata is included, it's like using the current snapshot as a new    \u001b[39;49m\r\n\u001b[19;5H\u001b[31m# map.                                                                      \u001b[39;49m\r\n\u001b[20;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, history=\u001b[35mTrue\u001b[39;49m, griddata=\u001b[35mFalse\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\r\n\u001b[K\u001b[23;29H\u001b[7m25% L76\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[31m# Create the state machine widgets. These contain the ability to        \u001b[39;49m\r\n\t\u001b[31m# undo actions and whatnot.                                             \u001b[39;49m\r\n\u001b[4;14Hgrid.end_turn()\u001b[K\u001b[5;14Haction = rules.Begin()\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs = []\u001b[K\r\n\t\u001b[33mreplay\u001b[39;49m = data.pop(\u001b[32m\"history\"\u001b[39;49m,[])\u001b[10;14Hdata[\u001b[32m\"history\"\u001b[39;49m] = []\u001b[11;14Hhistory = []\u001b[12;14Htab = 0\u001b[K\r\n\n\t\u001b[31m# Create the canvases that contain all of the sprites.                  \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas = sprites.Sprite(0,0,80,24)\u001b[16;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas = sprites.Sprite(0,0,60,23)\u001b[K\u001b[17;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas)\u001b[K\u001b[18;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.fill(\u001b[32m' '\u001b[39;49m)\u001b[K\u001b[19;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.fill(\u001b[32m' '\u001b[39;49m)\u001b[K\u001b[20;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite = sprites.Sprite(0,0,1,1,100)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite)\u001b[23;29H\u001b[7m17% L57\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m49\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite = sprites.Sprite(0,0,1,1,100)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite)\u001b[K\u001b[4;14Hhighlight = sprites.Sprite(0,0,1,1)\u001b[5;14Hhighlight.hide()\u001b[K\r\n\u001b[K\n\t\u001b[31m# These are other elements, such as the menu, cursor,                   \u001b[39;49m\r\n\t\u001b[31m# animation timer, etc.                                                 \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0,0\u001b[K\u001b[10;14Hanimation = 0.0\u001b[K\u001b[11;14Hmenu = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[12;14Hspeed = 0.05\r\n\n\u001b[K\n\u001b[K\u001b[16;5H\u001b[31m# This exports our data as a dictionary to be JSONified. If history is      \u001b[39;49m\r\n\u001b[17;5H\u001b[31m# included, it's like saving a snapshot of the game to be continued later.  \u001b[39;49m\r\n\u001b[18;5H\u001b[31m# If griddata is included, it's like using the current snapshot as a new    \u001b[39;49m\r\n\u001b[19;5H\u001b[31m# map.                                                                      \u001b[39;49m\r\n\u001b[20;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, history=\u001b[35mTrue\u001b[39;49m, griddata=\u001b[35mFalse\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\r\n\u001b[K\u001b[23;29H\u001b[7m25% L56\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;14H\u001b[?25ldata[\u001b[32m\"history\"\u001b[39;49m] = []\u001b[K\u001b[3;14Hhistory = []\u001b[K\u001b[4;14Htab = 0\u001b[K\r\n\u001b[K\n\t\u001b[31m# Create the canvases that contain all of the sprites.                  \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas = sprites.Sprite(0,0,80,24)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas = sprites.Sprite(0,0,60,23)\u001b[K\u001b[9;15Hanvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas)\u001b[10;14Hcanvas.fill(\u001b[32m' '\u001b[39;49m)\u001b[11;14Hgrid_canvas.fill(\u001b[32m' '\u001b[39;49m)\u001b[12;14Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite = sprites.Sprite(0,0,1,1,100)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight = sprites.Sprite(0,0,1,1)\u001b[16;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[K\r\n\u001b[K\u001b[18;5H    \u001b[31m# These are other elements, such as the menu, cursor,                   \u001b[39;49m\r\n\u001b[19;28H\u001b[4P\u001b[19;5H\u001b[4@\u001b[19;11H\u001b[31manimation timer, etc.\u001b[39;49m\u001b[20;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0,0\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[23;30H\u001b[7m0% L55\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;49H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[16;1H\u001b[1L\u001b[1;24r\u001b[16;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   20% L59\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[32m')                                              \u001b[39;49m\r\n\u001b[32m        self.highlight.hide()                                                   \u001b[39;49m\r\n\u001b[16;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m )\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m'\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[K\u001b[16;36H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m')                                          \u001b[39;49m\r\n\u001b[32m        self.highlight.hide()                                                   \u001b[39;49m\r\n\u001b[16;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mw)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m'\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[K\u001b[A\t\t\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m')                                      \u001b[39;49m\r\n\u001b[32m        self.highlight.hide()                                                   \u001b[39;49m\r\n\u001b[16;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mX)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[32m        # These are other elements, such as the menu, cursor,                   \u001b[39;49m\r\n\u001b[32m        # animation timer, etc.                                                 \u001b[39;49m\r\n\u001b[32m        self.cursor = 0,0                                                       \u001b[39;49m\r\n\u001b[32m        self.animation = 0.0                                                    \u001b[39;49m\r\n\u001b[16;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m'\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[K\u001b[16;44H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[K\n\u001b[?25l        \u001b[31m# These are other elements, such as the menu, cursor,                   \u001b[39;49m\r\n        \u001b[31m# animation timer, etc.                                                 \u001b[39;49m\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0,0\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[K\u001b[16;45H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lAuto-saving...\u001b[16;45H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[16;45H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[16;45H\u001b[?25lF)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25l\u001b[35mFalse\u001b[39;49m)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lT)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[35mTrue\u001b[39;49m)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[?25l\u001b[32m,'\u001b[39;49mw\u001b[32m','\u001b[39;49mX\u001b[32m',False,True)                          \u001b[39;49m\r\n\u001b[32m        self.highlight.hide()                                                   \u001b[39;49m\r\n\u001b[16;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m,'\u001b[39;49mw\u001b[32m','\u001b[39;49mX\u001b[32m',False,True) \u001b[39;49m\u001b[16;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l,\u001b[32m'w'\u001b[39;49m,\u001b[32m'X'\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[K\u001b[A\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@N\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@o\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@n\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[35mNon\u001b[39;49m\u001b[1@\u001b[35me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[16;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[16;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\bemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[H\u001b[2J\u001b[24d\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[H\u001b[2J\u001b[23d\u001b[?25l\u001b[7m-UUU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1m*scratch*   \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   All L1     (Fundamental) ---------------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[2d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lLoading 00debian-vars...\u001b[K\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;25H\u001b[?25ldone\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;9H\u001b[?25l/etc/emacs/site-start.d/50autoconf.el (source)...\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;58H\u001b[?25ldone\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;35H\u001b[?25ldictionaries-common.el (source)...\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;9H\u001b[?25ldebian-ispell...\u001b[K\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;9H\u001b[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25le\u001b[K\u001b[H\u001b[7mFile Edit Options Buffers Tools Help                                            \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[7m-UUU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1m*scratch*   \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   All L1     (Fundamental) ---------------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\nLoading /var/cache/dictionaries-common/emacsen-ispell-default.el (source)...don\\\r\n\u001b[A\u001b[2d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[A\t\u001b[?25ldebian-ispell...done\u001b[K\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;9H\u001b[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;75H\u001b[?25ldone\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;10H\u001b[?25letc/emacs/site-start.d/50dictionaries-common\u001b[6P\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[>0c\u001b[24d\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Lisp-Interaction Help                           \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[7m-UUU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1m*scratch*   \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   All L1     (Lisp Interaction) ----------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\nLoading /etc/emacs/site-start.d/50dictionaries-common.el (source)...done\u001b[K\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;23r\u001b[22;1H\u001b[1L\u001b[1;24r\u001b[24;1H\u001b[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.\u001b[22;1H\u001b[K\u001b[2d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.\u001b[K\u001b[H\u001b[7mFile Edit Options Buffers Tools Help                                            \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\nWelcome to GNU Emacs, one component of the GNU/Linux operating system.\u001b[K\r\n\u001b[K\nGet help           C-h  (Hold down CTRL and press h)\u001b[K\r\n\u001b[4m\u001b[34mEmacs manual\u001b[0m\u001b[39;49m       C-h r        \u001b[4m\u001b[34mBrowse manuals\u001b[0m\u001b[39;49m     C-h i\u001b[K\r\n\u001b[4m\u001b[34mEmacs tutorial\u001b[0m\u001b[39;49m     C-h t        Undo changes       C-x u\u001b[K\r\n\u001b[4m\u001b[34mBuy manuals\u001b[0m\u001b[39;49m        C-h RET      Exit Emacs         C-x C-c\u001b[K\r\n\u001b[4m\u001b[34mActivate menubar\u001b[0m\u001b[39;49m   M-`\u001b[K\r\n(`C-' means use the CTRL key.  `M-' means use the Meta (or Alt) key.\u001b[K\r\nIf you have no Meta key, you may instead type ESC followed by the character.)\u001b[K\r\nUseful tasks:\u001b[K\r\n\u001b[4m\u001b[34mVisit New File\u001b[0m\u001b[39;49m                  \u001b[4m\u001b[34mOpen Home Directory\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[4m\u001b[34mCustomize Startup\u001b[0m\u001b[39;49m               \u001b[4m\u001b[34mOpen *scratch* buffer\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\nGNU Emacs 24.3.1 (i686-pc-linux-gnu)\u001b[K\r\n of 2013-07-26 on komainu, modified by Debian\u001b[K\r\nCopyright (C) 2013 Free Software Foundation, Inc.\u001b[K\r\n\u001b[K\nGNU Emacs comes with ABSOLUTELY NO WARRANTY; type C-h C-w for \u001b[4m\u001b[34mfull details\u001b[0m\u001b[39;49m.\u001b[K\r\nEmacs is Free Software--Free as in Freedom--so you can redistribute copies\u001b[K\r\nof Emacs and modify it; type C-h C-c to see \u001b[4m\u001b[34mthe conditions\u001b[0m\u001b[39;49m.\u001b[K\r\nType C-h C-o for information on \u001b[4m\u001b[34mgetting the latest version\u001b[0m\u001b[39;49m.\u001b[K\r\n\u001b[7m-UUU:%%--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1m*GNU Emacs* \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Top L1     (Fundamental) ---------------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[2d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[2d\u001b[24d\u001b[?25l(No files need saving)\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[32m\u001b[40m........................\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[32m\u001b[40m............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[32m\u001b[40m...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....................\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[14;15H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[C\u001b[2d\u001b[14;15H\u001b[2;2H\u001b[3d\u001b[C\u001b[C\u001b[C\u001b[4d\u001b[14;15H\u001b[4;6H\u001b[5d\u001b[C\u001b[14;15H\u001b[5;7H\u001b[14;15H\u001b[5;7H\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 95, in run\r\n    gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 88, in refresh\r\n    if gfx: return gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 105, in refresh\r\n    curses.napms(20)\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bemacs\u001b[K\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[H\u001b[2J\u001b[24d\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[H\u001b[2J\u001b[23d\u001b[?25l\u001b[7m-UUU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1m*scratch*   \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   All L1     (Fundamental) ---------------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[2d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lLoading 00debian-vars...\u001b[K\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;25H\u001b[?25ldone\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;9H\u001b[?25l/etc/emacs/site-start.d/50autoconf.el (source)...\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;58H\u001b[?25ldone\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;35H\u001b[?25ldictionaries-common.el (source)...\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;9H\u001b[?25ldebian-ispell...\u001b[K\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;9H\u001b[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25le\u001b[K\u001b[H\u001b[7mFile Edit Options Buffers Tools Help                                            \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[7m-UUU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1m*scratch*   \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   All L1     (Fundamental) ---------------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\nLoading /var/cache/dictionaries-common/emacsen-ispell-default.el (source)...don\\\r\n\u001b[A\u001b[2d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[A\t\u001b[?25ldebian-ispell...done\u001b[K\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;9H\u001b[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;75H\u001b[?25ldone\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;10H\u001b[?25letc/emacs/site-start.d/50dictionaries-common\u001b[6P\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[>0c\u001b[24d\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Lisp-Interaction Help                           \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[7m-UUU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1m*scratch*   \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   All L1     (Lisp Interaction) ----------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\nLoading /etc/emacs/site-start.d/50dictionaries-common.el (source)...done\u001b[K\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;23r\u001b[22;1H\u001b[1L\u001b[1;24r\u001b[24;1H\u001b[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.\u001b[22;1H\u001b[K\u001b[2d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.\u001b[K\u001b[H\u001b[7mFile Edit Options Buffers Tools Help                                            \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\nWelcome to GNU Emacs, one component of the GNU/Linux operating system.\u001b[K\r\n\u001b[K\nGet help           C-h  (Hold down CTRL and press h)\u001b[K\r\n\u001b[4m\u001b[34mEmacs manual\u001b[0m\u001b[39;49m       C-h r        \u001b[4m\u001b[34mBrowse manuals\u001b[0m\u001b[39;49m     C-h i\u001b[K\r\n\u001b[4m\u001b[34mEmacs tutorial\u001b[0m\u001b[39;49m     C-h t        Undo changes       C-x u\u001b[K\r\n\u001b[4m\u001b[34mBuy manuals\u001b[0m\u001b[39;49m        C-h RET      Exit Emacs         C-x C-c\u001b[K\r\n\u001b[4m\u001b[34mActivate menubar\u001b[0m\u001b[39;49m   M-`\u001b[K\r\n(`C-' means use the CTRL key.  `M-' means use the Meta (or Alt) key.\u001b[K\r\nIf you have no Meta key, you may instead type ESC followed by the character.)\u001b[K\r\nUseful tasks:\u001b[K\r\n\u001b[4m\u001b[34mVisit New File\u001b[0m\u001b[39;49m                  \u001b[4m\u001b[34mOpen Home Directory\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[4m\u001b[34mCustomize Startup\u001b[0m\u001b[39;49m               \u001b[4m\u001b[34mOpen *scratch* buffer\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\nGNU Emacs 24.3.1 (i686-pc-linux-gnu)\u001b[K\r\n of 2013-07-26 on komainu, modified by Debian\u001b[K\r\nCopyright (C) 2013 Free Software Foundation, Inc.\u001b[K\r\n\u001b[K\nGNU Emacs comes with ABSOLUTELY NO WARRANTY; type C-h C-w for \u001b[4m\u001b[34mfull details\u001b[0m\u001b[39;49m.\u001b[K\r\nEmacs is Free Software--Free as in Freedom--so you can redistribute copies\u001b[K\r\nof Emacs and modify it; type C-h C-c to see \u001b[4m\u001b[34mthe conditions\u001b[0m\u001b[39;49m.\u001b[K\r\nType C-h C-o for information on \u001b[4m\u001b[34mgetting the latest version\u001b[0m\u001b[39;49m.\u001b[K\r\n\u001b[7m-UUU:%%--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1m*GNU Emacs* \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Top L1     (Fundamental) ---------------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[2d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[2d\u001b[?25lof Emacs and modify it; type C-h C-c to see \u001b[4m\u001b[34mthe conditions\u001b[0m\u001b[39;49m.\u001b[K\r\nType C-h C-o for information on \u001b[4m\u001b[34mgetting the latest version\u001b[0m\u001b[39;49m.\r\n\u001b[K\nIf an Emacs session crashed recently, type Meta-x recover-session RET\r\nto recover the files you were editing.\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\n\u001b[K\n\u001b[K\n\u001b[K\n\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L20\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u001b[24d\u001b[?25lEnd of buffer\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u001b[24d\u001b[K\u001b[2d\u001b[24d\u001b[?25l(No files need saving)\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m] = []\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab = 0\u001b[K\r\n\u001b[K\n        \u001b[31m# Create the canvases that contain all of the sprites.                  \u001b[39;49m\r\n\u001b[A\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas = sprites.Sprite(0,0,80,24)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas = sprites.Sprite(0,0,60,23)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.fill(\u001b[32m' '\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.fill(\u001b[32m' '\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite = sprites.Sprite(0,0,1,1,100)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight = sprites.Sprite(0,0,1,1)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.putc(\u001b[35mNone\u001b[39;49m,\u001b[32m'w'\u001b[39;49m,\u001b[32m'X'\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[K\r\n\u001b[K\n        \u001b[31m# These are other elements, such as the menu, cursor,                   \u001b[39;49m\r\n\u001b[A\n        \u001b[31m# animation timer, etc.                                                 \u001b[39;49m\r\n\u001b[A\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0,0\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   20% L59   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[16;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[32m','\u001b[39;49mX\u001b[32m',False,True)                         \u001b[39;49m\r\n\u001b[32m        self.highlight.hide()                                                   \u001b[39;49m\r\n\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m','\u001b[39;49mX\u001b[32m',False,True) \u001b[39;49m\u001b[16;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[32m'X'\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[K\u001b[16;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@N\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@o\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@n\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[35mNon\u001b[39;49m\u001b[1@\u001b[35me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lX\u001b[32m',False,True)                        \u001b[39;49m\r\n\u001b[32m        self.highlight.hide()                                                   \u001b[39;49m\r\n\u001b[16;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m',False,True) \u001b[39;49m\u001b[16;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[K\u001b[16;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@N\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@n\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@o\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@n\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[35mNon\u001b[39;49m\u001b[1@\u001b[35me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[16;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[16;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\bemacs\b\b\b\b\b\u001b[3Pfg\b\b\u001b[K./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[32m\u001b[40m........................\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[32m\u001b[40m............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[32m\u001b[40m...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....................\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[14;15H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[C\u001b[14;15H\u001b[2;2H\u001b[3d\u001b[C\u001b[C\u001b[14;15H\u001b[3;5H\u001b[4d#\u001b[C\u001b[C\u001b[14;15H\u001b[4;8H\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 95, in run\r\n    gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 88, in refresh\r\n    if gfx: return gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 105, in refresh\r\n    curses.napms(20)\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m] = []\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab = 0\u001b[K\r\n\u001b[K\n        \u001b[31m# Create the canvases that contain all of the sprites.                  \u001b[39;49m\r\n\u001b[A\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas = sprites.Sprite(0,0,80,24)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas = sprites.Sprite(0,0,60,23)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.fill(\u001b[32m' '\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.fill(\u001b[32m' '\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite = sprites.Sprite(0,0,1,1,100)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight = sprites.Sprite(0,0,1,1)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.putc(\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[K\r\n\u001b[K\n        \u001b[31m# These are other elements, such as the menu, cursor,                   \u001b[39;49m\r\n\u001b[A\n        \u001b[31m# animation timer, etc.                                                 \u001b[39;49m\r\n\u001b[A\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0,0\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   20% L59   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[16;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\u001b[?25l0Non\u001b[1@e\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[35mNon\u001b[39;49m\u001b[1@\u001b[35me\u001b[39;49m\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0Non\u001b[1@e\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[35mNon\u001b[39;49m\u001b[1@\u001b[35me\u001b[39;49m\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[16;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[16;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.......................\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[32m\u001b[40m............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[32m\u001b[40m...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....................\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[2d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[3d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[4d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[3d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[2d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[2d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[3d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[5d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[6d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[7d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[8d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[9d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[10d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[11d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[12d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[13d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[14d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[15d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[16d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[K\u001b[17;4H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[K\u001b[18;4H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[K\u001b[19;4H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[K\u001b[20;4H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[K\u001b[21;4H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[K\u001b[22;4H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[K\u001b[23;4H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[K\u001b[24;4H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r    \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r     \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r      \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[7G \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[8G \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[23;9H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[23;10H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[23;11H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[23;12H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[23;13H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[23;14H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[23;15H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[23;16H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[23;17H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[23;18H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[23;19H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[23;20H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[23;21H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[23;22H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[23;23H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[23;24H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[23;25H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[23;26H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[23;27H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[23;28H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[23;29H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[23;30H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[23;31H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[23;32H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \r\u001b[23d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[22;28H\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\n\n\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 95, in run\r\n    gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 88, in refresh\r\n    if gfx: return gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 105, in refresh\r\n    curses.napms(20)\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m] = []\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab = 0\u001b[K\r\n\u001b[K\n        \u001b[31m# Create the canvases that contain all of the sprites.                  \u001b[39;49m\r\n\u001b[A\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas = sprites.Sprite(0,0,80,24)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas = sprites.Sprite(0,0,60,23)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.fill(\u001b[32m' '\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.fill(\u001b[32m' '\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite = sprites.Sprite(0,0,1,1,100)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight = sprites.Sprite(0,0,1,1)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.putc(\u001b[35mNone\u001b[39;49m,0,0,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[K\r\n\u001b[K\n        \u001b[31m# These are other elements, such as the menu, cursor,                   \u001b[39;49m\r\n\u001b[A\n        \u001b[31m# animation timer, etc.                                                 \u001b[39;49m\r\n\u001b[A\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0,0\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   20% L59   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[16;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23d\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m60\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[22;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;14H\u001b[?25lcursor_sprite = sprites.Sprite(0,0,1,1,100)\u001b[3;14Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite)\u001b[4;14Hhighlight = sprites.Sprite(0,0,1,1)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.putc(\u001b[35mNone\u001b[39;49m,0,0,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[K\r\n\u001b[K\n\t\u001b[31m# These are other elements, such as the menu, cursor,                   \u001b[39;49m\r\n\t\u001b[31m# animation timer, etc.                                                 \u001b[39;49m\r\n\t\t\b\bursor = 0,0\u001b[K\u001b[11;14Hanimation = 0.0\u001b[K\u001b[12;14Hmenu = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[13;14Hspeed = 0.05\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\u001b[17;5H\u001b[31m# This exports our data as a dictionary to be JSONified. If history is      \u001b[39;49m\r\n\u001b[18;5H\u001b[31m# included, it's like saving a snapshot of the game to be continued later.  \u001b[39;49m\r\n\u001b[19;5H\u001b[31m# If griddata is included, it's like using the current snapshot as a new    \u001b[39;49m\r\n\u001b[20;5H\u001b[4P\t\b\b\u001b[31mmap.                 \u001b[39;49m\u001b[4@\u001b[31m    \u001b[39;49m\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, history=\u001b[35mTrue\u001b[39;49m, griddata=\u001b[35mFalse\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\u001b[23;30H\u001b[7m5% L66\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;11H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[22;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;14H\u001b[?25lspeed = 0.05\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\u001b[6;5H\u001b[31m# This exports our data as a dictionary to be JSONified. If history is      \u001b[39;49m\r\n\u001b[7;5H\u001b[31m# included, it's like saving a snapshot of the game to be continued later.  \u001b[39;49m\r\n\u001b[8;5H\u001b[31m# If griddata is included, it's like using the current snapshot as a new    \u001b[39;49m\r\n\u001b[9;5H\u001b[4P\t\b\b\u001b[31mmap.                 \u001b[39;49m\u001b[4@\u001b[31m    \u001b[39;49m\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, history=\u001b[35mTrue\u001b[39;49m, griddata=\u001b[35mFalse\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\r\n\u001b[K\u001b[13;5H\u001b[31m# This function takes the character that was most recently entered by the   \u001b[39;49m\r\n\u001b[14;5H\u001b[31m# player and handles it. Even if no player is playing, this function        \u001b[39;49m\r\n\u001b[15;5H\u001b[31m# essentially serves as the step function for the AI.                       \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[17;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m a \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\u001b[K\u001b[18;5H        \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[20;5H    \u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\u001b[K\u001b[21;5H    \u001b[31m# If control does not belong to the human, then the control simply      \u001b[39;49m\r\n\t\u001b[31m# allows the player to move the map around.                             \u001b[39;49m\r\n\u001b[23;29H\u001b[7m30% L77\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;5H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m80\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23d\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[22;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[2;1H\u001b[11M\u001b[1;24r\u001b[12;1H\u001b[?25l        \u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[K\r\n        \u001b[33mresult\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n        \u001b[33minfo\u001b[39;49m = {}\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().control == \u001b[32m\"human\"\u001b[39;49m:\u001b[K\r\n            result = \u001b[35mNone\u001b[39;49m\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"left\"\u001b[39;49m: cx -=1\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"right\"\u001b[39;49m: cx +=1\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: cy -= 1\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: cy += 1\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"\\t\"\u001b[39;49m:\u001b[K\n\u001b[7m4% L88\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m90\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\b\b\b\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\b\b\b\b\b\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[22;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[33mresult\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[3;5H    \u001b[33minfo\u001b[39;49m = {}\u001b[K\u001b[4;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().control == \u001b[32m\"human\"\u001b[39;49m:\u001b[K\u001b[5;5H        result = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\u001b[7;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"left\"\u001b[39;49m: cx -=1\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"right\"\u001b[39;49m: cx +=1\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: cy -= 1\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: cy += 1\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"\\t\"\u001b[39;49m:\u001b[K\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab += 1\r\n\t            tabbables = [u \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.ready\r\n\t                         \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\r\n\t                         \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.x \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.y \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m]\u001b[16;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables):\u001b[17;13H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab %= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables)\u001b[K\r\n\t\t        \u001b[33mu\u001b[39;49m = tabbables[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab]\r\n\t\t        \u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = u.x,u.y\u001b[20;20H(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor != (cx,cy)):\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = cx,cy\r\n\t\t    \u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[23;29H\u001b[7m40% L99\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23d\u001b[?25l\u001b[7m100\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\b\b\b\b\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[22;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l            tabbables = [u \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.ready\r\n\t                         \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\r\n\t                         \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.x \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.y \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m]\u001b[5;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables):\u001b[6;13H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab %= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables)\u001b[K\r\n\t\t        \u001b[33mu\u001b[39;49m = tabbables[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab]\r\n\t\t        \u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = u.x,u.y\u001b[9;20H(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor != (cx,cy)):\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = cx,cy\r\n\t\t    \u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\u001b[13;21Hresult = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[14;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.move_to(cx,cy)\u001b[K\u001b[16;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c:\u001b[K\n\bval = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\u001b[19;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m val:\u001b[K\r\n\t\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(val)\u001b[21;21H    result = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(val, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[22;21H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[23;30H\u001b[7m5% L110\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m20\u001b[0m\u001b[39;49m\u001b[27m\u001b[A\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;21H\u001b[?25lresult = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[3;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.move_to(cx,cy)\u001b[K\u001b[5;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c:\u001b[K\n\bval = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\u001b[8;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m val:\u001b[K\r\n\t\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(val)\u001b[10;21H    result = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(val, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[11;21H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\t    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b\b    info = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.in\u001b[4@fo()\r\n\u001b[K\n\u001b[K\n\t\u001b[31m# If we got a result from performing an action, we will be given        \u001b[39;49m\r\n\t\u001b[31m# either an order or a new action to perform. The orders tell us that   \u001b[39;49m\r\n\t\u001b[31m# the action was complete and that we either need to commit it or       \u001b[39;49m\r\n\t\u001b[31m# undo our mess.                                                        \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result:\u001b[K\n\b\b\b\b\b\b\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result == rules.ACT_COMMIT:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.append((copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint),\u001b[23;29H\u001b[7m51% L121\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[8P\u001b[2;22H\u001b[?25l\u001b[35mNone\u001b[39;49m\u001b[K\u001b[3;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"left\"\u001b[39;49m: cx -=1\u001b[K\u001b[5;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"right\"\u001b[39;49m: cx +=1\u001b[K\u001b[6;21H == \u001b[32m\"up\"\u001b[39;49m: cy -= 1\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: cy += 1\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"\\t\"\u001b[39;49m:\u001b[9;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab += 1\u001b[K\u001b[10;21Htabbables = [u \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.ready\r\n\t\t\t         \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[12;21H             \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.x \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.y \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m]\u001b[13;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables):\u001b[K\r\n\t\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab %= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables)\r\n\t\t\t\u001b[33mu\u001b[39;49m = tabbables[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab]\r\n\t                \u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = u.x,u.y\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor != (cx,cy)):\u001b[K\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = cx,cy\u001b[K\r\n\t            \u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[21;13H        result = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\u001b[K\u001b[23;29H\u001b[7m41% L112\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m# If griddata is included, it's like using the current snapshot as a new    \u001b[39;49m\r\n\u001b[3;5H\u001b[31m# map.                                                                      \u001b[39;49m\r\n\u001b[4;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, history=\u001b[35mTrue\u001b[39;49m, griddata=\u001b[35mFalse\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\r\n\u001b[K\u001b[7;5H\u001b[31m# This function takes the character that was most recently entered by the   \u001b[39;49m\r\n\u001b[8;5H\u001b[31m# player and handles it. Even if no player is playing, this function        \u001b[39;49m\r\n\u001b[9;5H\u001b[31m# essentially serves as the step function for the AI.                       \u001b[39;49m\r\n\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m a \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\u001b[K\u001b[12;13H\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\r\n\t\u001b[31m# If control does not belong to the human, then the control simply      \u001b[39;49m\r\n\t\u001b[31m# allows the player to move the map around.                             \u001b[39;49m\r\n\t\u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[K\r\n\t\u001b[33mresult\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[33minfo\u001b[39;49m = {}\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().control == \u001b[32m\"human\"\u001b[39;49m:\u001b[21;13H\u001b[8P\u001b[21;22H\u001b[35mNone\u001b[39;49m\u001b[K\u001b[22;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\u001b[23;29H\u001b[7m32% L93 \u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.fill(\u001b[32m' '\u001b[39;49m)\u001b[K\u001b[3;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[K\u001b[4;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite = sprites.Sprite(0,0,1,1,100)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight = sprites.Sprite(0,0,1,1)\u001b[7;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.putc(\u001b[35mNone\u001b[39;49m,0,0,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[K\u001b[8;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[K\r\n\u001b[K\u001b[10;5H    \u001b[31m# These are other elements, such as the menu, cursor,                   \u001b[39;49m\r\n\t\u001b[31m# animation timer, etc.                                                 \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0,0\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed = 0.05\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\u001b[19;5H\u001b[31m# This exports our data as a dictionary to be JSONified. If history is      \u001b[39;49m\r\n\u001b[20;5H\u001b[31m# included, it's like saving a snapshot of the game to be continued later.  \u001b[39;49m\r\n\u001b[21;5H\u001b[31m# If griddata is included, it's like using the current snapshot as a new    \u001b[39;49m\r\n\u001b[22;5H\u001b[31m# map.                                                                      \u001b[39;49m\r\n\u001b[23;29H\u001b[7m24% L74\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[4@\u001b[2;22H\u001b[?25l.purge(t,\u001b[35mTrue\u001b[39;49m)\u001b[K\r\n\u001b[K\n\t\u001b[31m# Create the state machine widgets. These contain the ability to        \u001b[39;49m\r\n\t\u001b[31m# undo actions and whatnot.                                             \u001b[39;49m\r\n\u001b[6;14Hgrid.end_turn()\u001b[K\u001b[7;14Haction = rules.Begin()\u001b[K\u001b[8;14Hstartover = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs = []\u001b[K\r\n\t\u001b[33mreplay\u001b[39;49m = data.pop(\u001b[32m\"history\"\u001b[39;49m,[])\u001b[K\u001b[12;14Hdata[\u001b[32m\"history\"\u001b[39;49m] = []\u001b[13;14Hhistory = []\u001b[K\u001b[14;14Htab = 0\u001b[K\r\n\u001b[K\n\t\u001b[31m# Create the canvases that contain all of the sprites.                  \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas = sprites.Sprite(0,0,80,24)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas = sprites.Sprite(0,0,60,23)\u001b[19;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas)\u001b[K\u001b[20;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.fill(\u001b[32m' '\u001b[39;49m)\u001b[K\u001b[21;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.fill(\u001b[32m' '\u001b[39;49m)\u001b[K\u001b[22;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[K\u001b[23;29H\u001b[7m16% L55\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab = 0\r\n\u001b[K\u001b[5;11H\u001b[31mCreate the canvases that contain all of the sprites.\u001b[39;49m\u001b[6;14Hcanvas = sprites.Sprite(0,0,80,24)\u001b[7;14Hgrid_canvas = sprites.Sprite(0,0,60,23)\u001b[8;14Hcanvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas)\u001b[K\u001b[9;15Hanvas.fill(\u001b[32m' '\u001b[39;49m)\u001b[K\u001b[10;14Hgrid_canvas.fill(\u001b[32m' '\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[12;14Hcursor_sprite = sprites.Sprite(0,0,1,1,100)\u001b[13;14Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite)\u001b[14;14Hhighlight = sprites.Sprite(0,0,1,1)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.putc(\u001b[35mNone\u001b[39;49m,0,0,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[K\r\n\u001b[K\n\t\u001b[31m# These are other elements, such as the menu, cursor,                   \u001b[39;49m\r\n\t\u001b[31m# animation timer, etc.                                                 \u001b[39;49m\r\n\t\t\b\bursor = 0,0\u001b[K\u001b[21;14Hanimation = 0.0\u001b[K\u001b[22;14Hmenu = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[23;29H\u001b[7m21% L56\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;14H\u001b[?25lanimation = 0.0\u001b[3;14Hmenu = \u001b[35mNone\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed = 0.05\r\n\u001b[K\n\u001b[K\n\u001b[K\u001b[8;5H\u001b[31m# This exports our data as a dictionary to be JSONified. If history is      \u001b[39;49m\r\n\u001b[9;5H\u001b[31m# included, it's like saving a snapshot of the game to be continued later.  \u001b[39;49m\r\n\u001b[10;5H\u001b[31m# If griddata is included, it's like using the current snapshot as a new    \u001b[39;49m\r\n\u001b[11;5H\u001b[31m# map.                                                                      \u001b[39;49m\r\n\u001b[12;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, history=\u001b[35mTrue\u001b[39;49m, griddata=\u001b[35mFalse\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\r\n\u001b[K\u001b[15;5H\u001b[31m# This function takes the character that was most recently entered by the   \u001b[39;49m\r\n\u001b[16;5H\u001b[31m# player and handles it. Even if no player is playing, this function        \u001b[39;49m\r\n\u001b[17;5H\u001b[31m# essentially serves as the step function for the AI.                       \u001b[39;49m\r\n\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m a \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\u001b[K\r\n\t    \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\u001b[23;30H\u001b[7m9% L65\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\n\t\u001b[?25l\u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\r\n\t\u001b[31m# If control does not belong to the human, then the control simply      \u001b[39;49m\r\n\t\u001b[31m# allows the player to move the map around.                             \u001b[39;49m\r\n\t\u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\r\n\t\u001b[33mresult\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[8;5H    \u001b[33minfo\u001b[39;49m = {}\u001b[K\u001b[9;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().control == \u001b[32m\"human\"\u001b[39;49m:\u001b[K\u001b[10;5H        result = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[11;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\u001b[K\u001b[12;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"left\"\u001b[39;49m: cx -=1\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"right\"\u001b[39;49m: cx +=1\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: cy -= 1\u001b[15;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: cy += 1\u001b[K\u001b[16;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"\\t\"\u001b[39;49m:\u001b[K\u001b[17;5H                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab += 1\u001b[K\u001b[18;5H                tabbables = [u \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.ready\r\n\t                         \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[20;13H                     \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.x \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.y \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m]\u001b[21;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables):\r\n\t                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab %= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables)\u001b[K\u001b[23;29H\u001b[7m37% L84\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;21H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables):\r\n\t                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab %= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables)\u001b[K\r\n\t                \u001b[33mu\u001b[39;49m = tabbables[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab]\u001b[K\r\n\t                \u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = u.x,u.y\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor != (cx,cy)):\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = cx,cy\r\n\t            \u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\u001b[10;13H\u001b[8@\u001b[10;30H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[11;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.move_to(cx,cy)\u001b[13;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[14;21H:\u001b[K\r\n\t\t    val = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\r\n\t\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m val:\u001b[K\u001b[17;21H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(val)\u001b[18;21H    result = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(val, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\r\n\t\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[20;21H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b\b    info = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.info(), \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\u001b[K\u001b[23;29H\u001b[7m47% L103\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;21H\u001b[?25l    info = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.info(), \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\u001b[K\n\u001b[K\n\t\u001b[31m# If we got a result from performing an action, we will be given        \u001b[39;49m\r\n\t\u001b[31m# either an order or a new action to perform. The orders tell us that   \u001b[39;49m\r\n\t\u001b[31m# the action was complete and that we either need to commit it or       \u001b[39;49m\r\n\t\u001b[31m# undo our mess.                                                        \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result:\u001b[K\n\b\b\b\b\b\b\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result == rules.ACT_COMMIT:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.append((copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint),\r\n\t\t                     \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs))\u001b[13;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[15;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_TRASH:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite.kill()\r\n\t\t\u001b[8P\u001b[17;28H = []\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info()\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[K\u001b[22;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_UNDO:\u001b[23;29H\u001b[7m57% L122\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[K\u001b[3;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_UNDO:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite.kill()\r\n\t        cp = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history) > 0:\u001b[K\r\n\t            \u001b[33mcp\u001b[39;49m, \u001b[33macts\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.pop()\u001b[K\r\n\t        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t            \u001b[33mcp\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint\u001b[10;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = copy.deepcopy(cp)\u001b[11;22Hcheckpoint = copy.deepcopy(cp)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[13;22Hgrid.info()\u001b[K\u001b[15;38HRESTART:\u001b[16;22Hhistory = []\u001b[K\u001b[18;26H.sprite.kill()\u001b[K\u001b[19;26H = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[K\u001b[20;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[21;22Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[22;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[23;29H\u001b[7m67% L141\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;22H\u001b[?25lgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[3;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[4;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_END:\r\n\t\thistory = []\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m].append(history)\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (cp,acts) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history:\u001b[K\r\n\t\t    history.append(acts)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[K\u001b[10;26H.end_turn()\u001b[K\u001b[11;22Hstartover = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[12;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\u001b[13;22Haction = rules.Begin()\u001b[14;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b\b    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = result\u001b[K\r\n\u001b[K\u001b[17;13H\u001b[31m# Set up various UI candy.                                          \u001b[39;49m\r\n\u001b[18;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\u001b[19;22Hhighlight.kill()\u001b[K\u001b[20;22Hhighlight = sprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h,50)\r\n\t\tc = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices:\u001b[23;29H\u001b[7m76% L160\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25lc = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices:\u001b[4;13H        \u001b[33mt1\u001b[39;49m,\u001b[33mu1\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(x,y)\r\n\t\t    \u001b[33mt2\u001b[39;49m,\u001b[33mu2\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(cx,cy)\r\n\t\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u1: \u001b[33mc\u001b[39;49m = u1.team.color\u001b[K\r\n\t\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m t1 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t1.team: \u001b[33mc\u001b[39;49m = t1.team.color\u001b[8;21H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u2: \u001b[33mc\u001b[39;49m = u2.team.color\r\n\t\t    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m: \u001b[33mc\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().color\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.putc(\u001b[35mNone\u001b[39;49m,x,y,c,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[11;22Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight)\u001b[12;22Hanimation = 0.0\u001b[K\u001b[13;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[14;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = widgets.Menu(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices)\u001b[15;22Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.sprite)\u001b[17;5H\u001b[31m# The session has multiple sprites that need to be rendered, from the       \u001b[39;49m\r\n\u001b[18;5H\u001b[31m# view of the grid to the mutliple popups that need to appear.              \u001b[39;49m\r\n\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrender\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation >= 1.0:\u001b[22;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[K\n\b\b\b\b\u001b[7m86% L179\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation >= 1.0:\u001b[3;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[K\u001b[4;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[K\u001b[6;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.show()\u001b[K\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units:\u001b[K\u001b[9;21Hu.cycle_anim()\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.render(0,0)\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L198\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l        c = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[3;13H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices:\u001b[4;13H        \u001b[33mt1\u001b[39;49m,\u001b[33mu1\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(x,y)\u001b[K\r\n\t\t    \u001b[33mt2\u001b[39;49m,\u001b[33mu2\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(cx,cy)\u001b[6;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u1: \u001b[33mc\u001b[39;49m = u1.team.color\u001b[K\r\n\t\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m t1 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t1.team: \u001b[33mc\u001b[39;49m = t1.team.color\r\n\t\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u2: \u001b[33mc\u001b[39;49m = u2.team.color\u001b[9;21H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m: \u001b[33mc\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().color\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.putc(\u001b[35mNone\u001b[39;49m,x,y,c,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[13;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = widgets.Menu(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.sprite)\u001b[17;5H\u001b[31m# The session has multiple sprites that need to be rendered, from the       \u001b[39;49m\r\n\u001b[18;5H\u001b[31m# view of the grid to the mutliple popups that need to appear.              \u001b[39;49m\r\n\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrender\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation >= 1.0:\u001b[22;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\n\b\b\b\b\u001b[7m86%\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[K\u001b[4;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_END:\u001b[K\r\n\t\thistory = []\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m].append(history)\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (cp,acts) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history:\u001b[K\u001b[8;21Hhistory.append(acts)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.end_turn()\u001b[K\u001b[11;22Hstartover = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\u001b[12;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[13;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[K\u001b[14;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[15;22Haction = result\u001b[K\u001b[17;5H        \u001b[31m# Set up various UI candy.                                          \u001b[39;49m\r\n\u001b[18;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\u001b[K\u001b[19;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.kill()\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight = sprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h,50)\r\n\t        c = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[22;13H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices:\u001b[23;29H\u001b[7m76% L180\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;22H\u001b[?25laction = rules.Begin()\u001b[K\u001b[3;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_UNDO:\u001b[K\u001b[4;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite.kill()\u001b[K\r\n\t\tcp = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history) > 0:\u001b[K\r\n\t\t    \u001b[33mcp\u001b[39;49m, \u001b[33macts\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.pop()\r\n\t\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t\t    \u001b[33mcp\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint\u001b[10;26H = copy.deepcopy(cp)\u001b[11;22Hcheckpoint = copy.deepcopy(cp)\u001b[K\u001b[12;22Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[13;22Hgrid.info()\u001b[K\u001b[14;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[15;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_RESTART:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[17;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs = []\u001b[K\u001b[18;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite.kill()\u001b[K\u001b[19;22Hgrid = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[20;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[K\u001b[23;29H\u001b[7m67% L161\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\t\u001b[?25l        info = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.info(), \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\u001b[K\n\u001b[K\n\t\u001b[31m# If we got a result from performing an action, we will be given        \u001b[39;49m\r\n\t\u001b[31m# either an order or a new action to perform. The orders tell us that   \u001b[39;49m\r\n\t\u001b[31m# the action was complete and that we either need to commit it or       \u001b[39;49m\r\n\t\u001b[31m# undo our mess.                                                        \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result:\u001b[K\n\b\b\b\b\b\b\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result == rules.ACT_COMMIT:\u001b[K\u001b[11;22Hhistory.append((copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint),\r\n\t\t                     \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs))\u001b[K\u001b[13;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[15;38HTRASH:\u001b[K\u001b[16;22Hgrid.sprite.kill()\u001b[18;26H = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint)\u001b[19;26H_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[20;22Hgrid.info()\u001b[K\u001b[21;22Haction = rules.Begin()\u001b[K\u001b[22;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_UNDO:\u001b[K\u001b[23;29H\u001b[7m57% L142\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;21H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables):\u001b[K\r\n\t\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab %= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables)\r\n\t\t\t\u001b[33mu\u001b[39;49m = tabbables[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab]\r\n\t                \u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = u.x,u.y\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor != (cx,cy)):\u001b[K\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = cx,cy\u001b[K\r\n\t            \u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[10;13H        result = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.move_to(cx,cy)\u001b[K\u001b[13;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c:\u001b[K\u001b[15;13H        val = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\r\n\t\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m val:\u001b[K\r\n\t\t\u001b[8@\u001b[17;36H.append(val)\r\n\t\t        result = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(val, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\t    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t\t        info = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.info(), \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\u001b[K\u001b[23;29H\u001b[7m47% L123\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\n\t\u001b[?25l\u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\r\n\t\u001b[31m# If control does not belong to the human, then the control simply      \u001b[39;49m\r\n\t\u001b[31m# allows the player to move the map around.                             \u001b[39;49m\r\n\t\u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[K\r\n\t\u001b[33mresult\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[33minfo\u001b[39;49m = {}\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().control == \u001b[32m\"human\"\u001b[39;49m:\u001b[10;13H\u001b[8P\u001b[10;22H\u001b[35mNone\u001b[39;49m\u001b[K\u001b[11;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"left\"\u001b[39;49m: cx -=1\u001b[K\u001b[13;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"right\"\u001b[39;49m: cx +=1\u001b[K\u001b[14;21H == \u001b[32m\"up\"\u001b[39;49m: cy -= 1\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: cy += 1\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"\\t\"\u001b[39;49m:\u001b[17;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab += 1\u001b[K\u001b[18;21Htabbables = [u \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.ready\r\n\t\t\t         \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[20;21H             \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.x \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.y \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m]\u001b[21;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables):\u001b[K\r\n\t\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab %= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables)\u001b[23;29H\u001b[7m37% L104\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;21H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables):\r\n\t                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab %= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables)\u001b[K\r\n\t                \u001b[33mu\u001b[39;49m = tabbables[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab]\u001b[K\r\n\t                \u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = u.x,u.y\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor != (cx,cy)):\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = cx,cy\r\n\t            \u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\u001b[10;13H\u001b[8@\u001b[10;30H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[11;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.move_to(cx,cy)\u001b[13;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[14;21H:\u001b[K\r\n\t\t    val = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\r\n\t\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m val:\u001b[K\u001b[17;21H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(val)\u001b[18;21H    result = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(val, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\r\n\t\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[20;21H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b\b    info = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.info(), \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\u001b[K\u001b[23;29H\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[A\u001b[K\n\t\u001b[?25l\u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\r\n\t\u001b[31m# If control does not belong to the human, then the control simply      \u001b[39;49m\r\n\t\u001b[31m# allows the player to move the map around.                             \u001b[39;49m\r\n\t\u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[K\r\n\t\u001b[33mresult\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[33minfo\u001b[39;49m = {}\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().control == \u001b[32m\"human\"\u001b[39;49m:\u001b[10;13H\u001b[8P\u001b[10;22H\u001b[35mNone\u001b[39;49m\u001b[K\u001b[11;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"left\"\u001b[39;49m: cx -=1\u001b[K\u001b[13;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"right\"\u001b[39;49m: cx +=1\u001b[K\u001b[14;21H == \u001b[32m\"up\"\u001b[39;49m: cy -= 1\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: cy += 1\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"\\t\"\u001b[39;49m:\u001b[17;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab += 1\u001b[K\u001b[18;21Htabbables = [u \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.ready\r\n\t\t\t         \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[20;21H             \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.x \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.y \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m]\u001b[21;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables):\u001b[K\r\n\t\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab %= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables)\u001b[23;29H\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed = 0.05\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\u001b[8;5H\u001b[31m# This exports our data as a dictionary to be JSONified. If history is      \u001b[39;49m\r\n\u001b[9;5H\u001b[31m# included, it's like saving a snapshot of the game to be continued later.  \u001b[39;49m\r\n\u001b[10;5H\u001b[31m# If griddata is included, it's like using the current snapshot as a new    \u001b[39;49m\r\n\u001b[11;5H\u001b[31m# map.                                                                      \u001b[39;49m\r\n\u001b[12;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, history=\u001b[35mTrue\u001b[39;49m, griddata=\u001b[35mFalse\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\r\n\u001b[K\u001b[15;5H\u001b[31m# This function takes the character that was most recently entered by the   \u001b[39;49m\r\n\u001b[16;5H\u001b[31m# player and handles it. Even if no player is playing, this function        \u001b[39;49m\r\n\u001b[17;5H\u001b[31m# essentially serves as the step function for the AI.                       \u001b[39;49m\r\n\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m a \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\u001b[K\u001b[20;13H\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\u001b[23;29H\u001b[7m29% L85 \u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;14H\u001b[?25lhistory = []\u001b[K\u001b[3;14Htab = 0\u001b[K\r\n\u001b[K\n\t\u001b[31m# Create the canvases that contain all of the sprites.                  \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas = sprites.Sprite(0,0,80,24)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas = sprites.Sprite(0,0,60,23)\u001b[8;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas)\u001b[K\u001b[9;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.fill(\u001b[32m' '\u001b[39;49m)\u001b[K\u001b[10;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.fill(\u001b[32m' '\u001b[39;49m)\u001b[K\u001b[11;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[K\u001b[12;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite = sprites.Sprite(0,0,1,1,100)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight = sprites.Sprite(0,0,1,1)\u001b[15;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.putc(\u001b[35mNone\u001b[39;49m,0,0,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[K\u001b[16;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[K\r\n\u001b[K\u001b[18;5H    \u001b[31m# These are other elements, such as the menu, cursor,                   \u001b[39;49m\r\n\t\u001b[31m# animation timer, etc.                                                 \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0,0\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[23;30H\u001b[7m1% L66\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.......................\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[32m\u001b[40m............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[32m\u001b[40m...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....................\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b  \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b   \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\b    \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\b\b     \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[31G      \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[31G\u001b[37G \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[31G\u001b[38G \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;31H\u001b[1;39H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;31H\u001b[1;40H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;31H\u001b[1;41H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;31H\u001b[1;42H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;31H\u001b[1;43H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;31H\u001b[1;44H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;31H\u001b[1;45H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;31H\u001b[1;46H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;31H\u001b[1;47H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;31H\u001b[1;48H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;31H\u001b[1;49H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;31H\u001b[1;50H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;31H\u001b[1;51H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;31H\u001b[1;52H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;31H\u001b[1;53H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;31H\u001b[1;54H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;31H\u001b[1;55H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;31H\u001b[1;56H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;31H\u001b[1;57H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;31H\u001b[1;58H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;31H\u001b[1;59H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;31H\u001b[1;60H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[C\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[C\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[C\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[C\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[C\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[C\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[C\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[C\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[C\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[C\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[C\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2d\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3d\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4d\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5d\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6d\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m \b\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m \b\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m \b\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m \b\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m \b\b\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 95, in run\r\n    gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 88, in refresh\r\n    if gfx: return gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 105, in refresh\r\n    curses.napms(20)\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab = 0\u001b[K\r\n\u001b[K\n        \u001b[31m# Create the canvases that contain all of the sprites.                  \u001b[39;49m\r\n\u001b[A\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas = sprites.Sprite(0,0,80,24)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas = sprites.Sprite(0,0,60,23)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.fill(\u001b[32m' '\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.fill(\u001b[32m' '\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite = sprites.Sprite(0,0,1,1,100)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight = sprites.Sprite(0,0,1,1)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.putc(\u001b[35mNone\u001b[39;49m,0,0,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[K\r\n\u001b[K\n        \u001b[31m# These are other elements, such as the menu, cursor,                   \u001b[39;49m\r\n\u001b[A\n        \u001b[31m# animation timer, etc.                                                 \u001b[39;49m\r\n\u001b[A\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0,0\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   21% L66   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\u001b[?25l\u001b[34mSwitch to buffer (default widgets.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l*scratch*\u001b[K\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lGNU Emacs*\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lMessages*\u001b[K\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lDirectory*\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\r\u001b[?25lEnd of defaults; no next item\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\r\u001b[?25l\u001b[34mSwitch to buffer (default widgets.py): \u001b[39;49m*Messages*\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lGNU Emacs*\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lscratch*\u001b[K\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[?25l*scratch*\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\r\u001b[?25lQuit\u001b[K\u001b[1;33H\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[22;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\u001b[K\u001b[22d\n\n\u001b[?25l\u001b[34mFind file: \u001b[39;49m~/Documents/rules-of-war/code/core/\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25laphics/\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrites.py\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[31m# The sprite engine makes it possible to draw things efficiently. The way       \u001b[39;49m\r\n\u001b[31m# sprites work is that a sprite contains a list of subsprites. When you call    \u001b[39;49m\r\n\u001b[31m# the \"render\" method, all of the subsprites.                                   \u001b[39;49m\r\n\u001b[K\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m . \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m gfx\u001b[K\r\n\u001b[K\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m core \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m log\u001b[K\r\n\u001b[K\n\u001b[31m# This is a glyph that is stored in the system. A glyph is a character with     \u001b[39;49m\r\n\u001b[31m# color information, etc.                                                       \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mGlyph\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, icon=\u001b[35mNone\u001b[39;49m, fg=\u001b[35mNone\u001b[39;49m, bg=\u001b[35mNone\u001b[39;49m, bold=\u001b[35mFalse\u001b[39;49m, invert=\u001b[35mFalse\u001b[39;49m):\u001b[14;14Hicon = icon\u001b[K\u001b[15;14Hfg = fg\u001b[K\u001b[16;14Hbg = bg\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.bold = bold\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.invert = invert\u001b[K\r\n\u001b[K\u001b[20;5H\u001b[31m# This mixes in another glyph into this one.                                \u001b[39;49m\r\n\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mmix\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, other=\u001b[35mNone\u001b[39;49m):\r\n\t\u001b[33mnewglyph\u001b[39;49m = Glyph(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.icon, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.fg, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.bg, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.bold, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.invert)\u001b[23;15H\u001b[7m\u001b[1mprites.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Top L1    Git-\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mmix\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, other=\u001b[35mNone\u001b[39;49m):\u001b[K\r\n        \u001b[33mnewglyph\u001b[39;49m = Glyph(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.icon, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.fg, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.bg, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.bold, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.invert)\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m other:\u001b[K\n\b\b\b\b\b\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m other.icon \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m: \u001b[33mnewglyph.icon\u001b[39;49m = other.icon\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m other.fg \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m: \u001b[33mnewglyph.fg\u001b[39;49m = other.fg\u001b[7;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m other.bg \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m: \u001b[33mnewglyph.bg\u001b[39;49m = other.bg\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m other.bold \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m: \u001b[33mnewglyph.bold\u001b[39;49m = other.bold\u001b[9;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m other.invert \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m: \u001b[33mnewglyph.invert\u001b[39;49m = other.bold\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m newglyph\u001b[K\r\n\u001b[K\n    \u001b[31m# Returns the color string needed for gfx.draw()                            \u001b[39;49m\r\n\t\u001b[1m\u001b[34mcolor\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33ms\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.fg: \u001b[33ms\u001b[39;49m += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.fg.lower()\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.bg: \u001b[33ms\u001b[39;49m += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.bg.upper()\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.bold: \u001b[33ms\u001b[39;49m += \u001b[32m\"!\"\u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.invert: \u001b[33ms\u001b[39;49m += \u001b[32m\"?\"\u001b[39;49m\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m s\r\n\u001b[K\n\u001b[31m# Sprites are drawables that are smart enough to know when to spend time        \u001b[39;49m\r\n\u001b[31m# drawing and when to not. Sprites can contain subsprites in layers allowing    \u001b[39;49m\r\n\u001b[23;29H\u001b[7m 8% L20\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m# Sprites are drawables that are smart enough to know when to spend time        \u001b[39;49m\r\n\u001b[31m# drawing and when to not. Sprites can contain subsprites in layers allowing    \u001b[39;49m\r\n\u001b[31m# them to serve as sprite managers.                                             \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mSprite\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, w, h, layer=0, timer=\u001b[35mNone\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.reset(x, y, w, h, layer)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer = timer\u001b[K\r\n\u001b[K\u001b[10;5H\u001b[31m# Sprites handle input and                                                  \u001b[39;49m\r\n\u001b[11;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[12;5H    \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[14;5H\u001b[31m# Resize deletes the image and changes the dimensions.                      \u001b[39;49m\r\n\u001b[15;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mreset\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, w, h, layer=\u001b[35mNone\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x = x\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y = y\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w = w\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h = h\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.oldx = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.oldy = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m layer \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\u001b[K\n\b\u001b[7m17% L39\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.oldy = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m layer \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.layer = layer\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites = []\u001b[6;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.surface = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(h):\u001b[K\r\n\t    \u001b[33mnewarray\u001b[39;49m = []\u001b[K\u001b[9;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m j \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(w):\u001b[10;5H            newarray.append(\u001b[35mNone\u001b[39;49m)\u001b[K\u001b[11;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.surface.append(newarray)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.dirty = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.moved = \u001b[35mTrue\u001b[39;49m\u001b[14;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[15;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.visible = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[17;5H\u001b[31m# This will return all glyphs in the surface.                               \u001b[39;49m\r\n\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mall_glyphs\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[33mreport\u001b[39;49m = []\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m row \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.surface:\r\n\t    \u001b[33mreport\u001b[39;49m += row\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m row\u001b[K\u001b[23;29H\u001b[7m24% L58\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l    \u001b[33mreport\u001b[39;49m += row\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m row\u001b[K\r\n\u001b[K\u001b[5;5H\u001b[31m# This renders a sprite on the actual terminal screen starting at x,y.      \u001b[39;49m\r\n\u001b[6;5H\u001b[31m# This will pass back up a dictionary of transparent cells to the parent    \u001b[39;49m\r\n\u001b[7;5H\u001b[31m# to be drawn over.                                                         \u001b[39;49m\r\n\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrender\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, bounds=\u001b[35mNone\u001b[39;49m, update=\u001b[35mNone\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m bounds:\u001b[K\u001b[10;13H\u001b[33mbounds\u001b[39;49m = ( x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x, y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y, x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w, y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h )\r\n\u001b[K\n\t\u001b[31m# If the timer is exhausted, kill the sprite.                           \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer == 0:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.kill()\r\n\u001b[K\u001b[18;5H    \u001b[31m# If any of the sprites have moved, figure out which cells need to be   \u001b[39;49m\r\n\t\u001b[31m# redrawn.                                                              \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m update:\u001b[K\u001b[21;13Hupdate = []\u001b[K\r\n\t\u001b[33mupdate\u001b[39;49m += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.dirty\n\u001b[7m31% L77\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25lupdate = []\u001b[K\r\n\t\u001b[33mupdate\u001b[39;49m += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.dirty\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [s \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m s.moved \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m s.alive]:\u001b[5;5H        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(s.oldx,s.oldx+s.w):\u001b[K\u001b[6;5H            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m j \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(s.oldy,s.oldy+s.h):\u001b[K\u001b[7;5H                update.append((i,j))\u001b[K\r\n\u001b[K\n\t\u001b[31m# Now redraw the cells. This is usually a NOP since update is usually   \u001b[39;49m\r\n\t\u001b[31m# empty.                                                                \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (i,j) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m update:\r\n\t    \u001b[33mdx\u001b[39;49m = i+x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x\u001b[K\r\n\t    \u001b[33mdy\u001b[39;49m = j+y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y\u001b[14;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (dx >= bounds[0] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m dy >= bounds[1] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m i<\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m i >= 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m\u001b[15;13H         j < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m dx<bounds[2] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m dy<bounds[3] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m j >= 0):\r\n\t\t\u001b[33mglyph\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.surface[j][i]\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m glyph:\r\n\t            gfx.draw(dx,dy,glyph.icon,glyph.color())\u001b[K\r\n\u001b[K\n\t\u001b[31m# Set all the sprites as no longer having been moved.                   \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites:\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m s.visible:\u001b[K\u001b[23;30H\u001b[7m9% L96\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[33mreport\u001b[39;49m += row\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m row\u001b[K\r\n\u001b[K\u001b[5;5H\u001b[31m# This renders a sprite on the actual terminal screen starting at x,y.      \u001b[39;49m\r\n\u001b[6;5H\u001b[31m# This will pass back up a dictionary of transparent cells to the parent    \u001b[39;49m\r\n\u001b[7;5H\u001b[31m# to be drawn over.                                                         \u001b[39;49m\r\n\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrender\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, bounds=\u001b[35mNone\u001b[39;49m, update=\u001b[35mNone\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m bounds:\u001b[K\r\n\t    \u001b[33mbounds\u001b[39;49m = ( x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x, y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y, x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w, y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h )\u001b[K\r\n\u001b[K\n\t\u001b[31m# If the timer is exhausted, kill the sprite.                           \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer:\u001b[K\u001b[14;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\u001b[15;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer == 0:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.kill()\u001b[K\r\n\u001b[K\n\t\u001b[31m# If any of the sprites have moved, figure out which cells need to be   \u001b[39;49m\r\n\t\u001b[31m# redrawn.                                                              \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m update:\u001b[K\r\n\t    update = []\u001b[K\r\n\t\u001b[33mupdate\u001b[39;49m += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.dirty\n\u001b[C\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25lupdate = []\u001b[K\r\n\t\u001b[33mupdate\u001b[39;49m += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.dirty\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [s \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m s.moved \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m s.alive]:\u001b[5;5H        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(s.oldx,s.oldx+s.w):\u001b[K\u001b[6;5H            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m j \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(s.oldy,s.oldy+s.h):\u001b[K\u001b[7;5H                update.append((i,j))\u001b[K\r\n\u001b[K\n\t\u001b[31m# Now redraw the cells. This is usually a NOP since update is usually   \u001b[39;49m\r\n\t\u001b[31m# empty.                                                                \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (i,j) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m update:\r\n\t    \u001b[33mdx\u001b[39;49m = i+x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x\u001b[K\r\n\t    \u001b[33mdy\u001b[39;49m = j+y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y\u001b[14;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (dx >= bounds[0] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m dy >= bounds[1] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m i<\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m i >= 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m\u001b[15;13H         j < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m dx<bounds[2] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m dy<bounds[3] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m j >= 0):\r\n\t\t\u001b[33mglyph\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.surface[j][i]\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m glyph:\r\n\t            gfx.draw(dx,dy,glyph.icon,glyph.color())\u001b[K\r\n\u001b[K\n\t\u001b[31m# Set all the sprites as no longer having been moved.                   \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites:\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m s.visible:\u001b[K\u001b[23;30H\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites:\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m s.visible:\u001b[K\r\n\t        s.render(x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x,y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y, bounds, [(i-s.x,j-s.y)\u001b[K\u001b[5;13H                                         \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (i,j) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m update])\u001b[6;13H\u001b[33ms.moved\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[31m# Set this sprite as no longer dirty. If any children died due to the   \u001b[39;49m\r\n\u001b[9;11H\u001b[31mtimer clock running out, store their information in self.dirty so  \u001b[39;49m\u001b[10;11H\u001b[31mthat the next pass overwrites them.\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.dirty = []\u001b[K\r\n\t\u001b[33moldsprites\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m oldsprites:\u001b[K\u001b[15;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m s.alive:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites.append(s)\u001b[K\u001b[17;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(s.x,s.x+s.w):\u001b[K\u001b[19;21H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m j \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(s.y,s.y+s.h):\r\n\t                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.dirty.append((i,j))\u001b[K\r\n\u001b[K\u001b[22;5H\u001b[31m# This puts a character at x,y on the sprite. Returns True if it works,     \u001b[39;49m\r\n\u001b[23;29H\u001b[7m49% L115\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[31m# empty.                                                                \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (i,j) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m update:\u001b[4;13H\u001b[33mdx\u001b[39;49m = i+x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x\u001b[K\u001b[5;13H\u001b[33mdy\u001b[39;49m = j+y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y\u001b[K\u001b[6;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (dx >= bounds[0] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m dy >= bounds[1] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m i<\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m i >= 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m\u001b[7;22Hj < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m dx<bounds[2] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m dy<bounds[3] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m j >= 0):\r\n\t        \u001b[33mglyph\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.surface[j][i]\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m glyph:\u001b[K\r\n\t            gfx.draw(dx,dy,glyph.icon,glyph.color())\u001b[K\r\n\u001b[K\n\t\u001b[31m# Set all the sprites as no longer having been moved.                   \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites:\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m s.visible:\u001b[K\u001b[15;13H    s.render(x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x,y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y, bounds, [(i-s.x,j-s.y)\r\n\t\t                                     \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (i,j) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m update])\u001b[17;13H\u001b[33ms.moved\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\u001b[K\n\t\u001b[31m# Set this sprite as no longer dirty. If any children died due to the   \u001b[39;49m\r\n\t\u001b[31m# timer clock running out, store their information in self.dirty so     \u001b[39;49m\r\n\t\u001b[31m# that the next pass overwrites them.                                   \u001b[39;49m\r\n\u001b[22;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.dirty = []\u001b[K\u001b[23;30H\u001b[7m3% L114\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m09\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;11H\u001b[?25l\u001b[31mIf any of the sprites have moved, figure out which cells need to be\u001b[39;49m\r\n\t\u001b[31m# redrawn.                                                              \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m update:\u001b[K\u001b[5;13Hupdate = []\u001b[K\r\n\t\u001b[33mupdate\u001b[39;49m += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.dirty\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [s \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m s.moved \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m s.alive]:\u001b[K\u001b[8;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(s.oldx,s.oldx+s.w):\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m j \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(s.oldy,s.oldy+s.h):\u001b[10;21Hupdate.append((i,j))\u001b[K\u001b[12;11H\u001b[31mNow redraw the cells. This is usually a NOP since update is usually\u001b[39;49m\r\n\t\u001b[31m# empty.                                                                \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (i,j) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m update:\u001b[15;13H\u001b[33mdx\u001b[39;49m = i+x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x\u001b[K\u001b[16;13H\u001b[33mdy\u001b[39;49m = j+y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y\u001b[K\u001b[17;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (dx >= bounds[0] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m dy >= bounds[1] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m i<\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m i >= 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m\u001b[18;22Hj < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m dx<bounds[2] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m dy<bounds[3] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m j >= 0):\r\n\t        \u001b[33mglyph\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.surface[j][i]\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m glyph:\u001b[K\r\n\t            gfx.draw(dx,dy,glyph.icon,glyph.color())\u001b[K\r\n\u001b[K\u001b[23;29H\u001b[7m38% L103\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m99 \u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m# to be drawn over.                                                         \u001b[39;49m\r\n\u001b[3;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrender\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, bounds=\u001b[35mNone\u001b[39;49m, update=\u001b[35mNone\u001b[39;49m):\u001b[K\r\n\t\t\bbounds\u001b[5;13H\u001b[33mbounds\u001b[39;49m = ( x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x, y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y, x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w, y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h )\r\n\u001b[K\n\t\u001b[31m# If the timer is exhausted, kill the sprite.                           \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer:\u001b[K\u001b[9;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\u001b[10;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer == 0:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.kill()\r\n\u001b[K\u001b[13;11H\u001b[31mIf any of the sprites have moved, figure out which cells need to be\u001b[39;49m\r\n\t\u001b[31m# redrawn.                                                              \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m update:\u001b[K\u001b[16;13Hupdate = []\u001b[K\r\n\t\u001b[33mupdate\u001b[39;49m += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.dirty\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [s \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m s.moved \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m s.alive]:\u001b[K\u001b[19;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(s.oldx,s.oldx+s.w):\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m j \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(s.oldy,s.oldy+s.h):\u001b[21;21Hupdate.append((i,j))\u001b[K\u001b[23;30H\u001b[7m3% L92\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m89\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l                update.append((i,j))\u001b[K\r\n\u001b[K\n\t\u001b[31m# Now redraw the cells. This is usually a NOP since update is usually   \u001b[39;49m\r\n\t\u001b[31m# empty.                                                                \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (i,j) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m update:\r\n\t    \u001b[33mdx\u001b[39;49m = i+x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x\u001b[K\r\n\t    \u001b[33mdy\u001b[39;49m = j+y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y\u001b[9;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (dx >= bounds[0] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m dy >= bounds[1] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m i<\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m i >= 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m\u001b[10;13H         j < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m dx<bounds[2] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m dy<bounds[3] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m j >= 0):\r\n\t\t\u001b[33mglyph\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.surface[j][i]\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m glyph:\r\n\t            gfx.draw(dx,dy,glyph.icon,glyph.color())\u001b[K\r\n\u001b[K\n\t\u001b[31m# Set all the sprites as no longer having been moved.                   \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites:\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m s.visible:\u001b[K\r\n\t        s.render(x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x,y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y, bounds, [(i-s.x,j-s.y)\u001b[K\u001b[19;13H                                         \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (i,j) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m update])\u001b[20;13H\u001b[33ms.moved\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[31m# Set this sprite as no longer dirty. If any children died due to the   \u001b[39;49m\r\n\u001b[23;29H\u001b[7m42% L101\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m# to be drawn over.                                                         \u001b[39;49m\r\n\u001b[3;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrender\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, bounds=\u001b[35mNone\u001b[39;49m, update=\u001b[35mNone\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m bounds:\u001b[K\r\n\t    \u001b[33mbounds\u001b[39;49m = ( x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x, y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y, x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w, y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h )\u001b[K\r\n\u001b[K\n\t\u001b[31m# If the timer is exhausted, kill the sprite.                           \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer:\u001b[K\u001b[9;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\u001b[10;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer == 0:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.kill()\u001b[K\r\n\u001b[K\n\t\u001b[31m# If any of the sprites have moved, figure out which cells need to be   \u001b[39;49m\r\n\t\u001b[31m# redrawn.                                                              \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m update:\u001b[K\r\n\t    update = []\u001b[K\r\n\t\u001b[33mupdate\u001b[39;49m += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.dirty\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [s \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m s.moved \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m s.alive]:\u001b[19;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(s.oldx,s.oldx+s.w):\u001b[K\u001b[20;13H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m j \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(s.oldy,s.oldy+s.h):\u001b[21;21Hupdate.append((i,j))\r\n\u001b[K\u001b[23;29H\u001b[7m33\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l                update.append((i,j))\u001b[K\r\n\u001b[K\n\t\u001b[31m# Now redraw the cells. This is usually a NOP since update is usually   \u001b[39;49m\r\n\t\u001b[31m# empty.                                                                \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (i,j) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m update:\r\n\t    \u001b[33mdx\u001b[39;49m = i+x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x\u001b[K\r\n\t    \u001b[33mdy\u001b[39;49m = j+y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y\u001b[9;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (dx >= bounds[0] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m dy >= bounds[1] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m i<\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m i >= 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m\u001b[10;13H         j < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m dx<bounds[2] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m dy<bounds[3] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m j >= 0):\r\n\t\t\u001b[33mglyph\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.surface[j][i]\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m glyph:\r\n\t            gfx.draw(dx,dy,glyph.icon,glyph.color())\u001b[K\r\n\u001b[K\n\t\u001b[31m# Set all the sprites as no longer having been moved.                   \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites:\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m s.visible:\u001b[K\r\n\t        s.render(x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x,y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y, bounds, [(i-s.x,j-s.y)\u001b[K\u001b[19;13H                                         \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (i,j) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m update])\u001b[20;13H\u001b[33ms.moved\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[31m# Set this sprite as no longer dirty. If any children died due to the   \u001b[39;49m\r\n\u001b[23;29H\u001b[7m42\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\n\t\u001b[?25l\u001b[31m# Set this sprite as no longer dirty. If any children died due to the   \u001b[39;49m\r\n\u001b[4;11H\u001b[31mtimer clock running out, store their information in self.dirty so  \u001b[39;49m\u001b[5;11H\u001b[31mthat the next pass overwrites them.\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.dirty = []\u001b[K\r\n\t\u001b[33moldsprites\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m oldsprites:\u001b[K\u001b[10;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m s.alive:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites.append(s)\u001b[K\u001b[12;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(s.x,s.x+s.w):\u001b[K\u001b[14;21H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m j \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(s.y,s.y+s.h):\r\n\t                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.dirty.append((i,j))\u001b[K\r\n\u001b[K\u001b[17;5H\u001b[31m# This puts a character at x,y on the sprite. Returns True if it works,     \u001b[39;49m\r\n\u001b[18;5H\u001b[31m# False if the x,y was out of bounds.                                       \u001b[39;49m\r\n\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mputc\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c, x, y, fg=\u001b[35mNone\u001b[39;49m, bg=\u001b[35mNone\u001b[39;49m, bold=\u001b[35mFalse\u001b[39;49m, invert=\u001b[35mFalse\u001b[39;49m):\u001b[K\r\n\t\u001b[33mg\u001b[39;49m = Glyph(c,fg,bg,bold,invert)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m x >= 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m x < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m y >= 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m y < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.surface[y][x] = g\u001b[K\n\b\b\b\b\b\b\u001b[7m52% L120\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;21H\u001b[?25lupdate.append((i,j))\r\n\u001b[K\u001b[4;11H\u001b[31mNow redraw the cells. This is usually a NOP since update is usually\u001b[39;49m\u001b[5;11H\u001b[31mempty.                             \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (i,j) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m update:\r\n\t    \u001b[33mdx\u001b[39;49m = i+x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x\u001b[K\r\n\t    \u001b[33mdy\u001b[39;49m = j+y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (dx >= bounds[0] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m dy >= bounds[1] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m i<\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m i >= 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m\u001b[10;13H         j < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m dx<bounds[2] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m dy<bounds[3] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m j >= 0):\r\n\t\t\u001b[33mglyph\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.surface[j][i]\u001b[12;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m glyph:\r\n\t\t    gfx.draw(dx,dy,glyph.icon,glyph.color())\r\n\u001b[K\n\t\u001b[31m# Set all the sprites as no longer having been moved.                   \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites:\u001b[17;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m s.visible:\u001b[K\u001b[18;5H            s.render(x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x,y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y, bounds, [(i-s.x,j-s.y)\u001b[K\u001b[19;5H                                                 \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (i,j) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m update])\r\n\t    \u001b[33ms.moved\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[31m# Set this sprite as no longer dirty. If any children died due to the   \u001b[39;49m\r\n\u001b[23;29H\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m# to be drawn over.                                                         \u001b[39;49m\r\n\u001b[3;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrender\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, bounds=\u001b[35mNone\u001b[39;49m, update=\u001b[35mNone\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m bounds:\u001b[K\r\n\t    \u001b[33mbounds\u001b[39;49m = ( x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x, y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y, x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w, y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h )\u001b[K\r\n\u001b[K\n\t\u001b[31m# If the timer is exhausted, kill the sprite.                           \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer:\u001b[K\u001b[9;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\u001b[10;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer == 0:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.kill()\u001b[K\r\n\u001b[K\n\t\u001b[31m# If any of the sprites have moved, figure out which cells need to be   \u001b[39;49m\r\n\t\u001b[31m# redrawn.                                                              \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m update:\u001b[K\r\n\t    update = []\u001b[K\r\n\t\u001b[33mupdate\u001b[39;49m += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.dirty\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [s \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m s.moved \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m s.alive]:\u001b[19;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(s.oldx,s.oldx+s.w):\u001b[K\u001b[20;13H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m j \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(s.oldy,s.oldy+s.h):\u001b[21;21Hupdate.append((i,j))\r\n\u001b[K\u001b[23;29H\u001b[7m33% L102\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m99 \u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m89\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[5;78H\u001b[1;22r\u001b[7;1H\u001b[1L\u001b[1;24r\u001b[7;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msprites.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   33% L86\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[18;9H\u001b[?25lupdate\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[6;13H\r\t\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lCloses \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m bounds:\u001b[6;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[8;1H\u001b[1L\u001b[1;24r\u001b[24;1H\u001b[K\u001b[8d\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[7;13H\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\r\u001b[K\u001b[7;13H\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[7;13H\u001b[?25l\u001b[33moldboudns\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[7;13H\u001b[?25loldboudns\u001b[K\u001b[C\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[7;13H\u001b[?25l\u001b[33moldbounds\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[9;1H\u001b[1L\u001b[1;24r\u001b[9;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[8;13H\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[33mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[33ml\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[7;1H\u001b[1L\u001b[1;24r\u001b[5;15H\u001b[?25l\u001b[33mdbounds\u001b[39;49m = ( x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x, y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y, x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w, y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h \\\r\n)\u001b[K\n\b        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[5;16H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[7;1H\u001b[1M\u001b[1;24r\u001b[5;15H\u001b[?25l\u001b[33mbounds\u001b[39;49m = ( x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x, y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y, x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w, y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h )\u001b[K\r\n        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[22;1H            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(s.oldx,s.oldx+s.w):\u001b[K\u001b[5;15H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[33mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[33ml\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[7;1H\u001b[1L\u001b[1;24r\u001b[5;15H\u001b[?25l\u001b[33mdbounds\u001b[39;49m = ( x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x, y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y, x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w, y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h \\\r\n)\u001b[K\n\b        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[5;16H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;16H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;22r\u001b[7;1H\u001b[1M\u001b[1;24r\u001b[4;13H\u001b[?25l\u001b[33moldbounds\u001b[39;49m = ( x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x, y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y, x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w, y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h \\\r\n)\u001b[K\n\b        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[22;1H            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(s.oldx,s.oldx+s.w):\u001b[K\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[6;1H\u001b[1M\u001b[1;24r\u001b[4;12H\u001b[1P\u001b[4;79H\u001b[?25l)\r\n        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[22;1H                \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m j \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(s.oldy,s.oldy+s.h):\u001b[K\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[4;11H\u001b[1P\r\u001b[4;10H\u001b[1P\r\t\u001b[1P\r\u001b[4;77H\u001b[1;22r\u001b[6;1H\u001b[1L\u001b[1;24r\u001b[5;1H\u001b[K\n\u001b[?25l        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[23;35H\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\t\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[7;1H\u001b[1L\u001b[1;24r\u001b[6;1H\u001b[K\n\u001b[?25l        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[23;35H\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[6;13H\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\t\b\b\b\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[6;13H\u001b[?25l\u001b[33moldbounds\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[8;1H\u001b[1L\u001b[1;24r\u001b[7;1H\u001b[K\n\u001b[?25l        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[23;35H\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[7;13H\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[7;13H\r\t\b\b\b\b\r\u001b[7;13H\r\t\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lCloses \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m bounds:\u001b[7;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[9;1H\u001b[1L\u001b[1;24r\u001b[24;1H\u001b[K\u001b[8d\u001b[K\n\u001b[?25l        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[23;35H\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[8;13H\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;15H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[33mb\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[6;28H\b\b\b\b\b\b\u001b[?25lobounds\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25llbounds\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ldbounds\r\t\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\u001b[24;1H\u001b[?25lAuto-saving...\u001b[4;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[4;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[4;17H\b\b\b\b\b\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[33mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[33me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[33mw\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;12H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;12H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[6;31H\b\b\b\b\b\b\b\u001b[?25lbounds\u001b[K\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25lbounds\u001b[K\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25lbounds\u001b[K\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lnbounds\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lebounds\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwbounds\r\t\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;15H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\r\u001b[K\u001b[8;13H\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\u001b[K\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[8;13H\u001b[?25l\u001b[33ma\u001b[39;49m,\u001b[33mb\u001b[39;49m,\u001b[33mc\u001b[39;49m,\u001b[33md\u001b[39;49m=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\b\u001b[?25l\u001b[1@ \u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[1@ \u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\b\u001b[1;22r\u001b[10;1H\u001b[1L\u001b[1;24r\u001b[9;1H\u001b[K\n\u001b[?25l        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[23;35H\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[9;13H\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\r\u001b[K\u001b[9;13H\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[33m1\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\t\u001b[?25l\u001b[1@\u001b[33m1\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[?25l\u001b[1@\u001b[33m1\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[?25l\u001b[1@\u001b[33m1\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l2\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l2\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l2\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l3\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l2\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[9;13H\u001b[?25l\u001b[33ma2\u001b[39;49m,\u001b[33mb2\u001b[39;49m,\u001b[33mc2\u001b[39;49m,\u001b[33md2\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m90\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;22r\u001b[12;1H\u001b[1M\u001b[1;24r\u001b[10;13H\u001b[?25l\u001b[33moldbounds\u001b[39;49m = bounds\r\n\u001b[K\u001b[22d            update = []\u001b[K\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[1;22r\u001b[12;1H\u001b[1M\u001b[1;24r\u001b[22;1H\u001b[?25l        update += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.dirty\u001b[K\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m89\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\t\u001b[1;22r\u001b[11;1H\u001b[1L\u001b[1;24r\u001b[11;1H\u001b[K\u001b[23;34H\u001b[?25l\u001b[7m90\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[10;13H\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\b\b\b\b\b\u001b[?25l\u001b[33mboudns\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[10;13H\u001b[?25lboudns\u001b[K\u001b[C\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\b\b\b\b\b\u001b[?25l\u001b[33mbounds\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l1\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l2\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\r\t\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25l1\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l2\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[10;43H\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l1\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l2\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[10;54H\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l1\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[23;30H\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;62H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l2\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[1;23r\u001b[22;1H\u001b[1M\u001b[1;24r\u001b[24;1H\u001b[?25l.\u001b[A\bSaving file /home/isharacomix/Documents/rules-of-war/code/graphics/sprites.py..\\\r\n\u001b[A\u001b[10;65H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[A\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/graphics/sprites.py\u001b[K\u001b[10;65H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;24r\u001b[23;1H\u001b[1L\u001b[1;24r\u001b[22;1H\u001b[?25l            update = []\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msprites.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   32% L90   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[10;65H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.......................\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[32m\u001b[40m............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[32m\u001b[40m...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....................\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[2d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[3d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[5d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[6d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[7d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b[8d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b[9d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b[10d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b[11d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[12d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[13d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[14d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[15d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[16d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[17d\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[18d\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[19d\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[20d\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[21d\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[22d\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[23d\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[J \u001b[14;15H\r\u001b[23d\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b  \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r   \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r    \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r     \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r      \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[7G \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[8G \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[23;9H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[23;10H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[23;11H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[23;12H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[23;13H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[23;14H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[23;15H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[23;16H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\n\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 95, in run\r\n    gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 88, in refresh\r\n    if gfx: return gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 105, in refresh\r\n    curses.napms(20)\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n    \u001b[31m# to be drawn over.                                                         \u001b[39;49m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrender\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, bounds=\u001b[35mNone\u001b[39;49m, update=\u001b[35mNone\u001b[39;49m):\u001b[K\r\n        \u001b[33mnewbounds\u001b[39;49m = ( x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x, y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y, x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w, y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h )\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m bounds:\u001b[K\r\n            \u001b[33mbounds\u001b[39;49m = newbounds\u001b[K\r\n        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n            \u001b[33ma1\u001b[39;49m,\u001b[33mb1\u001b[39;49m,\u001b[33mc1\u001b[39;49m,\u001b[33md1\u001b[39;49m = newbounds\u001b[K\r\n            \u001b[33ma2\u001b[39;49m,\u001b[33mb2\u001b[39;49m,\u001b[33mc2\u001b[39;49m,\u001b[33md2\u001b[39;49m = bounds\u001b[K\r\n            \u001b[33mbounds\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(a1,a2),\u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(b1,b2),\u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(c1,c2),\u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(d1,d2)\u001b[K\r\n\u001b[K\n\u001b[K\n        \u001b[31m# If the timer is exhausted, kill the sprite.                           \u001b[39;49m\r\n\u001b[A\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer == 0:\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.kill()\u001b[K\r\n\u001b[K\n        \u001b[31m# If any of the sprites have moved, figure out which cells need to be   \u001b[39;49m\r\n\u001b[A\n        \u001b[31m# redrawn.                                                              \u001b[39;49m\r\n\u001b[A\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m update:\u001b[K\r\n            update = []\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msprites.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   32% L90   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[10;65H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msprites.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   33\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\r\u001b[1;22r\u001b[12;1H\u001b[1M\u001b[1;24r\u001b[22;1H\u001b[?25l        update += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.dirty\u001b[K\u001b[23;35H\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;65H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;23r\u001b[22;1H\u001b[1M\u001b[1;24r\u001b[24;1H\u001b[?25l.\u001b[A\bSaving file /home/isharacomix/Documents/rules-of-war/code/graphics/sprites.py..\\\r\n\u001b[A\u001b[10;65H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[A\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/graphics/sprites.py\u001b[K\u001b[10;65H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;24r\u001b[23;1H\u001b[1L\u001b[1;24r\u001b[22;1H\u001b[?25l        update += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.dirty\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msprites.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   33% L90   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[10;65H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[10;65H\r\n\n\u001b[?25l\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msprites.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   33% L90   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[4mCRM\u001b[0m\u001b[4m \u001b[0m\u001b[4mBuffer\u001b[0m\u001b[4m              \u001b[0m\u001b[4m   Size\u001b[0m\u001b[4m \u001b[0m\u001b[4mMode\u001b[0m\u001b[4m             \u001b[0m\u001b[4mFile                           \u001b[0m\r\n.   \u001b[1msprites.py\u001b[0m             8409 Python           ~/Documents/rules-of-war/code/$\r\n\u001b[15;5H\u001b[1msession.py\u001b[0m             8880 Python           ~/Documents/rules-of-war/code/$\r\n\u001b[16;5H\u001b[1mwidgets.py\u001b[0m             1749 Python           ~/Documents/rules-of-war/code/$\r\n\u001b[C\u001b[C* \u001b[1m*scratch*\u001b[0m              1021 Lisp Interaction\r\n\u001b[C%  \u001b[1m*GNU Emacs*\u001b[0m            1033 Fundamental\u001b[K\u001b[19;3H* \u001b[1m*Messages*\u001b[0m             1977 Fundamental\u001b[K\u001b[20;3H* \u001b[1m*Directory*\u001b[0m              69 Help\r\n\u001b[K\n\u001b[K\n\u001b[7m-UUU:%%--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1m*Buffer List*\u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   All L1     (Buffer Menu) --------------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[10;65H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l        \u001b[31m# If the timer is exhausted, kill the sprite.                           \u001b[39;49m\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\u001b[15;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer == 0:\u001b[K\u001b[16;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.kill()\u001b[K\r\n\u001b[K\n\u001b[C       \u001b[31m# If any of the sprites have moved, figure out which cells need to be   \u001b[39;49m\r\n\u001b[C\u001b[C      \u001b[31m# redrawn.                                                              \u001b[39;49m\r\n\u001b[C\u001b[C      \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m update:\u001b[K\u001b[21;13Hupdate = []\r\n\tupdate += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.dirty\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msprites.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   33% L90   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[10;65H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default session.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lsession.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[4P\u001b[2;3H\u001b[31mWidgets are GUI elements that can be interacted with and drawn on\u001b[39;49m\u001b[4@\u001b[31m the\u001b[39;49m\r\n\u001b[31m# screen. When a widget is created, its sprite should be added to the           \u001b[39;49m\r\n\u001b[31m# appropriate sprite for rendering.                                             \u001b[39;49m\r\n\u001b[K\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m graphics \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m draw\u001b[K\r\n\u001b[K\n\u001b[31m# Menus are the prime example of a widget. They capture input - pressing        \u001b[39;49m\r\n\u001b[31m# an arrow key moves the highlighted line of text, and pressing enter           \u001b[39;49m\r\n\u001b[31m# will cause the interaction to return the string of the menu. Keyboard         \u001b[39;49m\r\n\u001b[31m# shortcuts will automatically be assigned based on the first letter of         \u001b[39;49m\r\n\u001b[8P\u001b[C\u001b[C\u001b[31man option.                                 \u001b[39;49m\u001b[8@\u001b[31m        \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mMenu\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, items):\r\n\t\u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(items)\u001b[K\r\n\t\u001b[33mw\u001b[39;49m = 0\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m items:\r\n\t    \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(s),w)\u001b[K\r\n\u001b[K\n\t\u001b[31m# Set up the window.                                                    \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.border(0,0,w+2,h+2)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.layer = 200\u001b[23;14H\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Top L1    Git-\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.border(0,0,w+2,h+2)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.layer = 200\u001b[K\r\n        \u001b[33mi\u001b[39;49m = 1\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m items:\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,s),1,i)\u001b[7;13H\u001b[33mi\u001b[39;49m += 1\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = draw.fill(1,1,w,1,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index = 0\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items = items\u001b[K\r\n\u001b[K\n    \u001b[31m# This method takes the return value of gfx.get_input and handles           \u001b[39;49m\r\n\u001b[14;5H\u001b[31m# it. If a menu item is selected via Enter or keyboard shortcut,            \u001b[39;49m\r\n\u001b[15;5H\u001b[31m# that option is returned.                                                  \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\r\n\t\u001b[33mi\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: i -= 1\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: i += 1\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i != \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index:\u001b[K\r\n\t    i = i%\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items)\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor.move_to(1,i+1)\u001b[23;29H\u001b[7m39% L20\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l    i = i%\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items)\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor.move_to(1,i+1)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index = i\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[6;13Hreport = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\u001b[K\u001b[7;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[11;5H\u001b[31m# This function just reports what value is being hovered over.              \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# This can be used for tooltips.                                            \u001b[39;49m\r\n\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\u001b[14;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L39\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m40\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m50\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u001b[24d\u001b[?25lEnd of buffer\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u0007\u001b[24d\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L53\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m#                                                                               \u001b[39;49m\r\n\u001b[A\u001b[C\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mN\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mf\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mc\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\b\b\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ml\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ml\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31my\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\t\t\t\b\t\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mp\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mp\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mh\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mc\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mw\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mh\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[31mm\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mg\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m#                                                                               \u001b[39;49m\r\n\u001b[A\u001b[C\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mm\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m.\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[?25l\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32mN\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mf\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mc\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lS)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\n\b\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[20;5H\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[34m_\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34m_\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mi\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mn\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mi\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mt\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34m_\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34m_\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l*\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"                                            \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[20;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mw\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[20;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m'                                        \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[20;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\r\n\u001b[K\u001b[20;40H\t\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"                                    \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[20;45H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mX\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m'\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[20;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\b\u001b[K\b\u001b[?25l\u001b[32m                                   \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[20;46H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[20;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\r\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\t\b\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\r\n\n\n\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/widgets.py...\u001b[21;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/widgets.py\u001b[K\u001b[21;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\b\b\b\u001b[?25l\u001b[7m----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L58   Git:\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# Notifications are essentially sprites that are created with a message in      \u001b[39;49m\r\n\u001b[31m# mind.                                                                         \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mNotification\u001b[39;49m(sprites.Sprite):\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\n\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;34H\u001b[7m60\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m59\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;10H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lN)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l )\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25l)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[10;45H\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;45H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[1;22r\u001b[11;1H\u001b[1L\u001b[1;24r\u001b[10;1H\u001b[K\n\u001b[?25l        \u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Notification, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__()\u001b[K\u001b[23;35H\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\t\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/widgets.py...\u001b[10;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/widgets.py\u001b[K\u001b[10;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[10;9H\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default sprites.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lsprites.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[2;5H\u001b[31m# to be drawn over.                                                         \u001b[39;49m\r\n\u001b[3;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrender\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, bounds=\u001b[35mNone\u001b[39;49m, update=\u001b[35mNone\u001b[39;49m):\r\n\t\u001b[33mnewbounds\u001b[39;49m = ( x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x, y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y, x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w, y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h )\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m bounds:\r\n            \u001b[33mbounds\u001b[39;49m = newbounds\u001b[K\r\n        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n            \u001b[33ma1\u001b[39;49m,\u001b[33mb1\u001b[39;49m,\u001b[33mc1\u001b[39;49m,\u001b[33md1\u001b[39;49m = newbounds\u001b[9;5H        \u001b[33ma2\u001b[39;49m,\u001b[33mb2\u001b[39;49m,\u001b[33mc2\u001b[39;49m,\u001b[33md2\u001b[39;49m = bounds\u001b[K\u001b[10;13H\u001b[33mbounds\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(a1,a2),\u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(b1,b2),\u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(c1,c2),\u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(d1,d2)\r\n\u001b[K\n\t\u001b[31m# If the timer is exhausted, kill the sprite.                           \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer:\u001b[14;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[15;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer == 0:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.kill()\r\n\n\t\u001b[31m# If any of the sprites have moved, figure out which cells need to be   \u001b[39;49m\r\n\t\u001b[31m# redrawn.                                                              \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m update:\u001b[21;13Hupdate = []\r\n\tupdate += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.dirty\u001b[23;14H\u001b[7m\u001b[1msprites.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   33% L90\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;65H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(h):\u001b[K\u001b[3;5H        \u001b[33mnewarray\u001b[39;49m = []\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m j \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(w):\u001b[K\r\n\t        newarray.append(\u001b[35mNone\u001b[39;49m)\u001b[6;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.surface.append(newarray)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.dirty = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.moved = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.visible = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[12;5H\u001b[4P\t\b\b\u001b[31mThis will return all glyphs in the surface.\u001b[39;49m\u001b[4@\u001b[31m    \u001b[39;49m\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mall_glyphs\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[33mreport\u001b[39;49m = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m row \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.surface:\u001b[16;13H\u001b[33mreport\u001b[39;49m += row\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m row\r\n\u001b[K\u001b[19;5H\u001b[31m# This renders a sprite on the actual terminal screen starting at x,y.      \u001b[39;49m\r\n\u001b[20;5H\u001b[31m# This will pass back up a dictionary of transparent cells to the parent    \u001b[39;49m\r\n\u001b[21;5H\u001b[31m# to be drawn over.                                                         \u001b[39;49m\r\n\u001b[22;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrender\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, bounds=\u001b[35mNone\u001b[39;49m, update=\u001b[35mNone\u001b[39;49m):\u001b[23;29H\u001b[7m25% L83\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.reset(x, y, w, h, layer)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer = timer\r\n\u001b[K\u001b[5;5H\u001b[31m# Sprites handle input and                                                  \u001b[39;49m\r\n\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n\t\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[9;5H\u001b[31m# Resize deletes the image and changes the dimensions.                      \u001b[39;49m\r\n\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mreset\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, w, h, layer=\u001b[35mNone\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x = x\u001b[12;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y = y\u001b[K\u001b[13;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w = w\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h = h\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.oldx = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.oldy = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m layer \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\u001b[18;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.layer = layer\u001b[19;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites = []\u001b[K\u001b[20;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.surface = []\u001b[K\u001b[21;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(h):\u001b[K\u001b[22;5H        \u001b[33mnewarray\u001b[39;49m = []\u001b[K\u001b[23;30H\u001b[7m0% L64\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m other.bg \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m: \u001b[33mnewglyph.bg\u001b[39;49m = other.bg\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m other.bold \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m: \u001b[33mnewglyph.bold\u001b[39;49m = other.bold\u001b[4;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m other.invert \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m: \u001b[33mnewglyph.invert\u001b[39;49m = other.bold\u001b[5;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m newglyph\u001b[K\r\n\u001b[K\u001b[7;5H\u001b[31m# Returns the color string needed for gfx.draw()                            \u001b[39;49m\r\n\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mcolor\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[9;5H    \u001b[33ms\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\u001b[10;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.fg: \u001b[33ms\u001b[39;49m += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.fg.lower()\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.bg: \u001b[33ms\u001b[39;49m += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.bg.upper()\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.bold: \u001b[33ms\u001b[39;49m += \u001b[32m\"!\"\u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.invert: \u001b[33ms\u001b[39;49m += \u001b[32m\"?\"\u001b[39;49m\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m s\u001b[K\r\n\u001b[K\n\u001b[31m# Sprites are drawables that are smart enough to know when to spend time        \u001b[39;49m\r\n\u001b[31m# drawing and when to not. Sprites can contain subsprites in layers allowing    \u001b[39;49m\r\n\u001b[31m# them to serve as sprite managers.                                             \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mSprite\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[20;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, w, h, layer=0, timer=\u001b[35mNone\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.reset(x, y, w, h, layer)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer = timer\u001b[23;29H\u001b[7m11% L45\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.invert: \u001b[33ms\u001b[39;49m += \u001b[32m\"?\"\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m s\u001b[K\r\n\u001b[K\n\u001b[31m# Sprites are drawables that are smart enough to know when to spend time        \u001b[39;49m\r\n\u001b[31m# drawing and when to not. Sprites can contain subsprites in layers allowing    \u001b[39;49m\r\n\u001b[4P\u001b[7;3H\u001b[31mthem to serve as sprite managers.             \u001b[39;49m\u001b[4@\u001b[31m    \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mSprite\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, w, h, layer=0, timer=\u001b[35mNone\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.reset(x, y, w, h, layer)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer = timer\u001b[K\r\n\u001b[K\u001b[13;5H\u001b[31m# Sprites handle input and                                                  \u001b[39;49m\r\n\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\r\n\t\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\r\n\u001b[K\n    \u001b[31m# Resize deletes the image and changes the dimensions.                      \u001b[39;49m\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mreset\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, w, h, layer=\u001b[35mNone\u001b[39;49m):\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x = x\u001b[K\u001b[20;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y = y\u001b[K\n\b\b\b\b\bw = w\u001b[K\n\b\b\b\b\bh = h\u001b[K\u001b[23;30H\u001b[7m6% L46\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l\u001b[34mSwitch to buffer (default widgets.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[2;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\n\b\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\r\n\n\u001b[K\u001b[6;3H\u001b[31mNotifications are essentially sprites that are created with a message in  \u001b[39;49m\u001b[7;3H\u001b[31mmind.                            \u001b[39;49m\u001b[8;7H\u001b[32mNotification\u001b[39;49m(sprites.Sprite):\u001b[9;30Hs, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Notification, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__()\r\n\n\u001b[K\n\u001b[K\n\u001b[K\n\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;14H\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L58\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;10H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\r\t\u001b[?25l\u001b[33mlayer\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l1\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\b\u001b[K\t\u001b[?25l2\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[12;1H\u001b[1L\u001b[1;24r\u001b[11;1H\u001b[K\n\u001b[?25l        \u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Notification, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__()\u001b[K\u001b[23;35H\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/widgets.py...\u001b[11;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/widgets.py\u001b[K\u001b[11;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\t\t\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[11;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[11;9H\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[11;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[11;9H\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default sprites.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lsprites.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[2;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.invert: \u001b[33ms\u001b[39;49m += \u001b[32m\"?\"\u001b[39;49m\r\n\t\t\bs\u001b[K\r\n\n\u001b[31m# Sprites are drawables that are smart enough to know when to spend time        \u001b[39;49m\r\n\u001b[6;3H\u001b[31mdrawing and when to not. Sprites can contain subsprites in layers allowing\u001b[39;49m\u001b[7;3H\u001b[31mthem to serve as sprite managers.\u001b[39;49m\u001b[8;7H\u001b[32mSprite\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[9;30Hw, h, layer=0, timer=\u001b[35mNone\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.reset(x, y, w, h, layer)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer = timer\r\n\u001b[K\u001b[13;5H\u001b[31m# Sprites handle input and                                                  \u001b[39;49m\r\n\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\r\n\t\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[17;5H\u001b[31m# Resize deletes the image and changes the dimensions.                      \u001b[39;49m\r\n\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mreset\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, w, h, layer=\u001b[35mNone\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x = x\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y = y\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w = w\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h = h\n\b\b\b\b\b\u001b[7m\u001b[1msprites.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   16% L46\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l\u001b[34mSwitch to buffer (default widgets.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[2;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\n\b\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\r\n\n\u001b[K\u001b[6;3H\u001b[31mNotifications are essentially sprites that are created with a message in  \u001b[39;49m\u001b[7;3H\u001b[31mmind.                            \u001b[39;49m\u001b[8;7H\u001b[32mNotification\u001b[39;49m(sprites.Sprite):\u001b[9;30Hs, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\u001b[K\r\n\t\u001b[33mlayer\u001b[39;49m = 200\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Notification, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__()\r\n\u001b[K\n\u001b[K\n\u001b[K\n\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;14H\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L59\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m60\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;45H\b\u001b[?25lx)\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;45H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l )\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l )\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l )\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m59\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;49H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\t\u001b[?25l\u001b[1@ \b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@l\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@a\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@y\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@e\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@r\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@,\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l\u001b[1@ \b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@i\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@e\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@o\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@u\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lAuto-saving...\u001b[10;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[10;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m60\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\b\b\b\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l )\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l )\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m59\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\b\u001b[K\t\b\r\t\u001b[?25llayer\u001b[K\u001b[C\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\r\u001b[K\t\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/widgets.py...\u001b[10;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/widgets.py\u001b[K\u001b[10;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[10;9H\u001b[?25lh\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;10H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\u001b[?25l\u001b[33mh\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25lle\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\b\u001b[K\u001b[C\b\r\t\u001b[?25lh\u001b[K\u001b[C\u001b[?12l\u001b[?25h\u001b[?12;25h\b\r\u001b[K\t\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\r\t\u001b[?25l\u001b[33mlines\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[32m')                                                      \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[10;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\\)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mn)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m'\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[10;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\u001b[K\b\u001b[?25l\u001b[32m                                                     \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[10;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\r\n\u001b[K\u001b[A\t\t\t\b\u001b[K\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\b\u001b[?25l-\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\b\u001b[K\u001b[C\b\b\u001b[?25l\u001b[33mh\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\b\u001b[K\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\r\t\t\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\b\b\u001b[?25l|\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l2\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25l+\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l2\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[13;1H\u001b[1L\u001b[1;24r\u001b[12;1H\u001b[K\n\u001b[?25l        \u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Notification, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(x, y, w, h, layer, timeout)\u001b[K\u001b[23;34H\u001b[7m60\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\u001b[?25l\u001b[33mw\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[14;1H\u001b[1L\u001b[1;24r\u001b[13;1H\u001b[K\n\u001b[?25l        \u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Notification, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(x, y, w, h, layer, timeout)\u001b[K\u001b[23;35H\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36min\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[15;1H\u001b[1L\u001b[1;24r\u001b[14;1H\u001b[K\n\u001b[?25l        \u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Notification, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(x, y, w, h, layer, timeout)\u001b[K\u001b[23;35H\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[14;13H\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\r\u001b[K\u001b[14;13H\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\t\b\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\b\u001b[?25l>\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[16;1H\u001b[1L\u001b[1;24r\u001b[15;1H\u001b[K\n\u001b[?25l        \u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Notification, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(x, y, w, h, layer, timeout)\u001b[K\u001b[23;35H\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\b\u001b[?25l-\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\u001b[C\b\b\u001b[?25l\u001b[33mw\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[17;1H\u001b[1L\u001b[1;24r\u001b[16;1H\u001b[K\n\u001b[?25l        \u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Notification, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(x, y, w, h, layer, timeout)\u001b[K\u001b[23;35H\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\b\b\b\b\r\t\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l+\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[33mw\u001b[39;49m +=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l2\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/widgets.py...\u001b[16;15H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/widgets.py\u001b[K\u001b[16;15H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;15H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;15H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[17;71H\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;15H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;71H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;71H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L66\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\r\n\n\n\n\n\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/widgets.py...\u001b[19;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/widgets.py\u001b[K\u001b[19;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[K\u001b[19;9H\u001b[?25ls\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;10H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\r\n\n\n\n\n\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/widgets.py...\u001b[19;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/widgets.py\u001b[K\u001b[19;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\u001b[K\n\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.blit()\u001b[23;6H\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L67\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[20;20H\b\u001b[?25ld)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l()\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l)\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lx))\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,))\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly))\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,))\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw))\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,))\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh))\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg))\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l))\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,))\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l))\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,))\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf))\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg))\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l=))\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"))                                    \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[20;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mw))\u001b[39;49m\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m))\u001b[K\r\n\u001b[K\u001b[20;45H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,))\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l))\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\u001b[?25lAuto-saving...\u001b[20;45H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[20;45H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\u001b[K\u001b[20;44H\u001b[?25l\u001b[32m))                                   \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[20;44H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m)) \u001b[39;49m\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l))\u001b[K\r\n\u001b[K\u001b[20;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l))\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l=))\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf))\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg))\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,))\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb))\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg))\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l=))\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb))\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg))\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/widgets.py...\u001b[19;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/widgets.py\u001b[K\u001b[19;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;5H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[1;22r\u001b[20;1H\u001b[1M\u001b[1;24r\u001b[19;9H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.blit(draw.border(x,y,w,h,fg=fg,bg=bg))\r\n\n\n\u001b[K\u001b[23;35H\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[19;52H\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l;\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\r\u001b[K\t\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36min\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[21;13H\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[C\r\n\n\n\u001b[?25l\u001b[34mSwitch to buffer (default sprites.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\r\u001b[?25lQuit\u001b[K\u001b[1;33H\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[21;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\u001b[K\u001b[21;34H\r\n\n\n\u001b[?25l\u001b[34mFind file: \u001b[39;49m~/Documents/rules-of-war/code/core/\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lphics/\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lraw.py\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[31m# This module contains fancy actions that create new sprite objects that can    \u001b[39;49m\r\n\u001b[31m# be drawn on the screen or blitted to another sprite.                          \u001b[39;49m\r\n\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m . \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m sprites\r\n\u001b[K\n\u001b[K\n\u001b[31m# This gives you a sprite that is a single character.                           \u001b[39;49m\r\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mchar\u001b[0m\u001b[39;49m(x,y,c,fg=\u001b[32m\"w\"\u001b[39;49m,bg=\u001b[32m\"X\"\u001b[39;49m,bold=\u001b[35mFalse\u001b[39;49m,invert=\u001b[35mFalse\u001b[39;49m,layer=0):\u001b[K\u001b[10;5H\u001b[33mreport\u001b[39;49m = sprites.Sprite(x,y,1,1,layer)\u001b[11;5Hreport.putc(c,0,0,fg,bg,bold,invert)\u001b[12;5H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\r\n\u001b[K\n\u001b[K\n\u001b[31m# This creates a sprite for a string.                                           \u001b[39;49m\r\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mstring\u001b[0m\u001b[39;49m(x,y,s,fg=\u001b[32m\"w\"\u001b[39;49m,bg=\u001b[32m\"X\"\u001b[39;49m,bold=\u001b[35mFalse\u001b[39;49m,invert=\u001b[35mFalse\u001b[39;49m,layer=0):\u001b[17;5H\u001b[33mreport\u001b[39;49m = sprites.Sprite(x,y,\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(s),1,layer)\u001b[K\u001b[18;5H\u001b[33mi\u001b[39;49m = 0\n\b\b\b\b\b\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m c \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m s:\u001b[K\r\n\treport.putc(c,i,0,fg,bg,bold,invert)\r\n\t\u001b[33mi\u001b[39;49m += 1\u001b[K\u001b[22;5H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[23;6H\u001b[7m----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mdraw.py     \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Top L1    Git-\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l        \u001b[33mi\u001b[39;49m += 1\u001b[K\r\n    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\n\u001b[K\n\u001b[31m# This fills a rectangle from x,y to x+w,y+h with the character c in the given  \u001b[39;49m\r\n\u001b[31m# style. If the character isn't given, space is used (so it basically clears    \u001b[39;49m\r\n\u001b[8;3H\u001b[31mthe area).                                         \u001b[39;49m\u001b[9;5H\u001b[1m\u001b[34mfill\u001b[0m\u001b[39;49m(x,y,w\u001b[8@,h,c=\u001b[32m\" \"\u001b[39;49m\n\t\tw,h\u001b[11;12Hfill(c\u001b[4P\u001b[15;8H\u001b[31mdraws a border around the box defined by x,y,w,h.\u001b[39;49m\u001b[16;5H\u001b[1m\u001b[34mborder\u001b[0m\u001b[39;49m(x,y,w,h,code=\u001b[32m\"--||+ \"\u001b[39;49m,fg=\u001b[32m\"w\"\u001b[39;49m,bg=\u001b[32m\"X\"\u001b[39;49m,bold=\u001b[35mFalse\u001b[39;49m,invert=\u001b[35mFalse\u001b[39;49m,layer=0)\\\r\n:\u001b[K\u001b[18;5H\u001b[33mreport\u001b[39;49m = sprites.Sprite(x,y,w,h,layer)\u001b[19;5H\u001b[33mtop\u001b[39;49m,\u001b[33mbottom\u001b[39;49m,\u001b[33mleft\u001b[39;49m,\u001b[33mright\u001b[39;49m,\u001b[33mcorner\u001b[39;49m,\u001b[33mfill\u001b[39;49m = code\u001b[20;5H\u001b[4P\u001b[20;12Hfill(fill\u001b[1P\u001b[21;5H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(w):\u001b[22;5H    report.putc(top,i,0,fg,bg,bold,invert)\u001b[23;29H\u001b[7m36% L20\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m30\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\u001b[C\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;2H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;2H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[16;79H\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\r\n\u001b[C\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;45H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;45H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;2H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[16;49H\b\b\b\b\b\b\b\b\b\b\u001b[24;1H\u001b[?25lAuto-saving...\u001b[16;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[16;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[16;38H\b\b\b\b\b\b\b\u001b[1;22r\u001b[17;1H\u001b[1M\u001b[1;24r\u001b[16;31H\u001b[?25l\u001b[32m\"\u001b[39;49m,fg=\u001b[32m\"w\"\u001b[39;49m,bg=\u001b[32m\"X\"\u001b[39;49m,bold=\u001b[35mFalse\u001b[39;49m,invert=\u001b[35mFalse\u001b[39;49m,layer=0):\u001b[K\u001b[22;1H        report.putc(bottom,i,h-1,fg,bg,bold,invert)\u001b[K\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\t\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l = code\u001b[K\r\t\t\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l = code\u001b[K\r\t\t\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[23;30H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[19;1H\u001b[1M\u001b[1;24r\u001b[22;1H\u001b[?25l    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m j \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(h):\u001b[K\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m40\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\n\u001b[K\n\u001b[?25l\u001b[31m# This draws a border around the box defined by x,y,w,h.                        \u001b[39;49m\r\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mborder\u001b[0m\u001b[39;49m(x,y,w,h,code=\u001b[32m\"--||+\"\u001b[39;49m,fg=\u001b[32m\"w\"\u001b[39;49m,bg=\u001b[32m\"X\"\u001b[39;49m,bold=\u001b[35mFalse\u001b[39;49m,invert=\u001b[35mFalse\u001b[39;49m,layer=0):\r\n    \u001b[33mreport\u001b[39;49m = sprites.Sprite(x,y,w,h,layer)\u001b[K\r\n    \u001b[33mtop\u001b[39;49m,\u001b[33mbottom\u001b[39;49m,\u001b[33mleft\u001b[39;49m,\u001b[33mright\u001b[39;49m,\u001b[33mcorner\u001b[39;49m = code\u001b[K\r\n    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(w):\u001b[K\r\n        report.putc(top,i,0,fg,bg,bold,invert)\u001b[K\u001b[10;5H    report.putc(bottom,i,h-1,fg,bg,bold,invert)\u001b[11;5H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m j \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(h):\u001b[K\u001b[12;5H    report.putc(left,0,j,fg,bg,bold,invert)\r\n\treport.putc(right,w-1,j,fg,bg,bold,invert)\u001b[14;5Hreport.putc(corner,0,0,fg,bg,bold,invert)\r\n    report.putc(corner,0,h-1,fg,bg,bold,invert)\u001b[K\r\n    report.putc(corner,w-1,0,fg,bg,bold,invert)\u001b[K\u001b[17;5Hreport.putc(corner,w-1,h-1,fg,bg,bold,invert)\u001b[18;5H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L41\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/graphics/draw.py...\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/graphics/draw.py\u001b[K\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mdraw.py     \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L41   Git:\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[12d\u001b[24d\u001b[?25l\u001b[34mSwitch to buffer (default widgets.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[2;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\r\n\u001b[K\n\u001b[K\n\u001b[31m# Notifications are essentially sprites that are created with a message in      \u001b[39;49m\r\n\u001b[31m# mind.                                                                         \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mNotification\u001b[39;49m(sprites.Sprite):\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, layer, timeout, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[K\u001b[11;5H    \u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\r\n\t\u001b[33mw\u001b[39;49m = 0\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[K\u001b[14;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\u001b[K\u001b[15;5H            \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\u001b[K\u001b[16;5H    \u001b[33mw\u001b[39;49m += 2\u001b[K\u001b[17;5H    \u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Notification, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(x, y, w, h, layer, timeout)\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.blit(draw.border(x,y,w,h,fg=fg,bg=bg))\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[21;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.blit(draw.text()\u001b[23;6H\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L69\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\r\n\n\n\u001b[?25l\u001b[34mSwitch to buffer (default draw.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ldraw.py\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[K\n\u001b[K\n\u001b[31m# This draws a border around the box defined by x,y,w,h.                        \u001b[39;49m\r\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mborder\u001b[0m\u001b[39;49m(x,y,w,h,code=\u001b[32m\"--||+\"\u001b[39;49m,fg=\u001b[32m\"w\"\u001b[39;49m,bg=\u001b[32m\"X\"\u001b[39;49m,bold=\u001b[35mFalse\u001b[39;49m,invert=\u001b[35mFalse\u001b[39;49m,layer=0):\r\n    \u001b[33mreport\u001b[39;49m = sprites.Sprite(x,y,w,h,layer)\u001b[K\r\n    \u001b[33mtop\u001b[39;49m,\u001b[33mbottom\u001b[39;49m,\u001b[33mleft\u001b[39;49m,\u001b[33mright\u001b[39;49m,\u001b[33mcorner\u001b[39;49m = code\u001b[K\r\n    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(w):\u001b[K\u001b[9;5H    report.putc(top,i,0,fg,bg,bold,invert)\u001b[K\r\n\treport.putc(bottom,i,h-1,fg,bg,bold,invert)\u001b[11;5H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m j \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(h):\u001b[K\r\n\treport.putc(left,0,j,fg,bg,bold,invert)\r\n\treport.putc(right,w-1,j,fg,bg,bold,invert)\u001b[14;5Hreport.putc(corner,0,0,fg,bg,bold,invert)\u001b[15;5Hreport.putc(corner,0,h-1,fg,bg,bold,invert)\u001b[16;5Hreport.putc(corner,w-1,0,fg,bg,bold,invert)\u001b[17;5Hreport.putc(corner,w-1,h-1,fg,bg,bold,invert)\u001b[K\u001b[18;5H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\r\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;6H\u001b[7m----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mdraw.py     \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L41\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lC-x\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;4H\u001b[?25l-\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u001b[24;4H\u001b[?25l C-g is undefined\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[4;8H\u001b[?25l\u001b[31mcreates a sprite for a string.                   \u001b[39;49m\u001b[5;5H\u001b[1m\u001b[34mstring\u001b[0m\u001b[39;49m(x,y,s\u001b[15P\n\t\t\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(s),1,layer)\u001b[7;5H\u001b[33mi\u001b[39;49m = 0\u001b[K\n\bc \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m s:\u001b[K\u001b[9;21Hc\u001b[2P\r\n\t\u001b[33mi\u001b[39;49m += 1\u001b[K\u001b[11;5H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# This fills a rectangle from x,y to x+w,y+h with the character c in the given  \u001b[39;49m\r\n\u001b[31m# style. If the character isn't given, space is used (so it basically clears    \u001b[39;49m\r\n\u001b[31m# the area).                                                                    \u001b[39;49m\r\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mfill\u001b[0m\u001b[39;49m(x,y,w,h,c=\u001b[32m\" \"\u001b[39;49m,fg=\u001b[32m\"w\"\u001b[39;49m,bg=\u001b[32m\"X\"\u001b[39;49m,bold=\u001b[35mFalse\u001b[39;49m,invert=\u001b[35mFalse\u001b[39;49m,layer=0):\u001b[18;5H\u001b[33mreport\u001b[39;49m = sprites.Sprite(x,y,w,h,layer)\u001b[19;5Hreport.fill(c,fg,bg,bold,invert)\u001b[20;5H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[23;29H\u001b[7m23% L32\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\u001b[?25l\u001b[34mSwitch to buffer (default widgets.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[2;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\r\n\u001b[K\n\u001b[K\n\u001b[31m# Notifications are essentially sprites that are created with a message in      \u001b[39;49m\r\n\u001b[31m# mind.                                                                         \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mNotification\u001b[39;49m(sprites.Sprite):\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, layer, timeout, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[11;5H    \u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\r\n\t\u001b[33mw\u001b[39;49m = 0\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\u001b[K\r\n                \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\u001b[K\r\n        \u001b[33mw\u001b[39;49m += 2\u001b[K\r\n        \u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Notification, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(x, y, w, h, layer, timeout)\r\n\u001b[K\u001b[19;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.blit(draw.border(x,y,w,h,fg=fg,bg=bg))\u001b[20;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[21;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.blit(draw.text()\u001b[23;6H\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L69\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\t\u001b[?25lx)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\b\b\b\b\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;15H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\t\u001b[C\u001b[?25lelines:\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lnlines:\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lulines:\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lmlines:\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lelines:\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrlines:\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lalines:\r\t\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lglines:\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lelines:\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[19;52H\b\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/widgets.py...\u001b[20;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/widgets.py\u001b[K\u001b[20;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\u001b[K\u001b[20;32H\b\b\b\b\b\b\b\u001b[?25lelines:\u001b[K\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ltelines:\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[20;18H\u001b[?25l\u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines:\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[C\b\u001b[?25l):\u001b[20;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\b\b\b\b\b\b\r\n\n\n\n\u001b[?25lAuto-saving...\u001b[20;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[20;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\u001b[K\u001b[20;25H\b\b\b\b\b\b\b\b\b\b\b\b\u001b[?25l\u001b[1@i\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;15H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\b\b\u001b[?25l+,y,l,)\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l1,y,l,)\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[?25l+,l,)\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l1,l,)\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l+,l,)\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li,l,)\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\b\b\b\u001b[?25lf)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@0\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[C\u001b[C\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[21;45H\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l1\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l1\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25l+\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\u001b[21;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[21;52H\r\n\n\n\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/widgets.py...\u001b[21;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/widgets.py\u001b[K\u001b[21;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\u001b[K\u001b[23;34H\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\u001b[K\r\n\t\t\u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\r\n\t\u001b[33mw\u001b[39;49m += 2\r\n        \u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Notification, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(x, y, w, h, layer, timeout)\u001b[K\r\n\u001b[K\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\u001b[9;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.blit(draw.text(0,0,l,fg,bg),1,1+i)\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;35H\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m69\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;15H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[3;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[2;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\r\n\u001b[K\n\u001b[K\n\u001b[31m# Notifications are essentially sprites that are created with a message in      \u001b[39;49m\r\n\u001b[31m# mind.                                                                         \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mNotification\u001b[39;49m(sprites.Sprite):\u001b[K\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, layer, timeout, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[K\r\n\t\u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\r\n\t\u001b[33mw\u001b[39;49m = 0\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[14;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\r\n\t\t\u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\r\n\t\u001b[33mw\u001b[39;49m += 2\r\n\t\u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Notification, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(x, y, w, h, layer, timeout)\r\n\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\u001b[21;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.blit(draw.text(0,0,l,fg,bg),1,1+i)\u001b[23;35H\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m59\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[11;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[11;25H\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[11;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[11;25H\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[11;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;8H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\u001b[C\u001b[C\u001b[?25l\u001b[31mssentially sprites that are created with a message in \u001b[39;49m\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mentially sprites that are created with a message in \u001b[39;49m\u001b[6;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mentially sprites that are created with a message in \u001b[39;49m\u001b[6;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mntially sprites that are created with a message in \u001b[39;49m\u001b[6;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mtially sprites that are created with a message in \u001b[39;49m\u001b[6;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mially sprites that are created with a message in \u001b[39;49m\u001b[6;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mally sprites that are created with a message in \u001b[39;49m\u001b[6;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mlly sprites that are created with a message in \u001b[39;49m\u001b[6;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31my sprites that are created with a message in \u001b[39;49m\u001b[6;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31my sprites that are created with a message in \u001b[39;49m\u001b[6;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m sprites that are created with a message in \u001b[39;49m\u001b[6;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mj sprites that are created with a message in\u001b[39;49m\u001b[6;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mu sprites that are created with a message in\u001b[39;49m\u001b[6;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ms sprites that are created with a message in\u001b[39;49m\r\t\t\t\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt sprites that are created with a message in\u001b[39;49m\r\t\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[6;68H\u001b[1;22r\u001b[8;1H\u001b[1M\u001b[1;24r\u001b[6;68H\u001b[?25l\u001b[31m# mind.\u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mNotification\u001b[39;49m(sprites.Sprite):\u001b[K\u001b[22;1H\u001b[K\u001b[6;68H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m mind. \u001b[39;49m\u001b[6;68H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mmind. \u001b[39;49m\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mind. \u001b[39;49m\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mnd. \u001b[39;49m\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31md. \u001b[39;49m\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m. \u001b[39;49m\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m.\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mT\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mh\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[8;1H\u001b[1L\u001b[1;24r\u001b[7;1H\u001b[K\n\u001b[?25l\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mNotification\u001b[39;49m(sprites.Sprite):\u001b[K\u001b[23;35H\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m#                                                                               \u001b[39;49m\r\n\u001b[7;2H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mv\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31my\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l\u001b[31ml\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mw\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m-\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ml\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mv\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ml\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mf\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mb\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mh\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mv\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mh\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l\u001b[31mI\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m'\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mm\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l\u001b[31mc\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mz\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31my\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mb\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mu\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m,\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mb\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mu\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[31mw\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m'\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ml\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ml\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ml\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[9;1H\u001b[1L\u001b[1;24r\u001b[8;1H\u001b[K\n\u001b[?25l\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mNotification\u001b[39;49m(sprites.Sprite):\u001b[K\u001b[23;29H\u001b[7m71% L56\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m#                                                                               \u001b[39;49m\r\n\u001b[8;2H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mf\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mw\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m.\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lAuto-saving...\u001b[8;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[8;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[8;14H\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/widgets.py...\u001b[8;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/widgets.py\u001b[K\u001b[8;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[8;14H\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default draw.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ldraw.py\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lsprites.py\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lession\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[2;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab = 0\u001b[K\r\n\n\t\u001b[31m# Create the canvases that contain all of the sprites.                  \u001b[39;49m\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas = sprites.Sprite(0,0,80,24)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas = sprites.Sprite(0,0,60,23)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.fill(\u001b[32m' '\u001b[39;49m)\u001b[K\u001b[10;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.fill(\u001b[32m' '\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite = sprites.Sprite(0,0,1,1,100)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight = sprites.Sprite(0,0,1,1)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.putc(\u001b[35mNone\u001b[39;49m,0,0,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\r\n\u001b[K\n\t\u001b[31m# These are other elements, such as the menu, cursor,                   \u001b[39;49m\r\n\t\u001b[31m# animation timer, etc.                                                 \u001b[39;49m\r\n\u001b[20;14Hcursor = 0,0\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[23;14H\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   21% L6\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\u001b[?25l\u001b[34mSwitch to buffer (default widgets.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ldraw.py\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lsprites.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l*scratch*\u001b[K\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lGNU Emacs*\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lMessages*\u001b[K\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lDirectory*\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lBuffer List*\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\r\u001b[?25lEnd of defaults; no next item\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\r\u001b[?25l\u001b[34mSwitch to buffer (default widgets.py): \u001b[39;49m*Directory*\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lMessages*\u001b[K\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lGNU Emacs*\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lscratch*\u001b[K\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lsprites.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ldraw.py\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[?25lsession.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[?25lsession.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ldraw.py\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lsprite\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidget\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\r\u001b[?25lQuit\u001b[K\u001b[1;33H\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[22;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\u001b[K\u001b[22d\n\n\u001b[?25l\u001b[34mFind file: \u001b[39;49m~/Documents/rules-of-war/code/core/\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.py\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[31m# The Grid is the \"map\" of the field. We use \"grid\" instead of \"map\" in order   \u001b[39;49m\r\n\u001b[31m# to avoid using the reserved keyword function \"map\". A grid is made up of      \u001b[39;49m\r\n\u001b[31m# TILES and UNITS. A tile has a terrain and may contain zero or one UNITS.      \u001b[39;49m\r\n\u001b[8P\u001b[5;3H\u001b[31mThe grid also manages all of the sprites for the uni\u001b[39;49m\u001b[8@\u001b[31mts.     \u001b[39;49m\r\n\u001b[K\n\u001b[31m# The grid needs to be a very stable data structure, as undoing moves relies on\u001b[39;49m\r\n\u001b[31m# deep copies of the grid. Whenever a move is undo, a previous deepcopy is      \u001b[39;49m\r\n\u001b[31m# popped from the action stack. Sprites must follow the same rules.             \u001b[39;49m\r\n\u001b[K\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m . \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m entities, log\u001b[K\r\n\u001b[K\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m graphics \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m sprites\u001b[K\r\n\u001b[K\n\u001b[31m# The grid is made up tiles that can hold units. It's essentially a data        \u001b[39;49m\r\n\u001b[31m# storage class that also has mutator methods for interacting with units.       \u001b[39;49m\r\n\u001b[31m# The grid keeps a copy of the rules cached so that new units and tiles         \u001b[39;49m\r\n\u001b[8P\u001b[C\u001b[C\u001b[31mcan be created using just their names.             \u001b[39;49m\u001b[8@\u001b[31m        \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mGrid\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[20;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data, rules):\u001b[21;14Hw = data[\u001b[32m\"w\"\u001b[39;49m]\u001b[K\u001b[22;14Hh = data[\u001b[32m\"h\"\u001b[39;49m]\u001b[23;14H\u001b[7m\u001b[1mgrid.py     \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Top L1    Git-\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m10\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\t\u001b[?25l log\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw log\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li log\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld log\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg log\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le log\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt log\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls log\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l, log\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/grid.py...\u001b[11;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/grid.py\u001b[K\u001b[11;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mgrid.py     \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Top L10   Git:\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[2d\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w = data[\u001b[32m\"w\"\u001b[39;49m]\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h = data[\u001b[32m\"h\"\u001b[39;49m]\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rules = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(rules)\u001b[K\r\n\u001b[K\n\t\u001b[31m# Create the main sprite. This sprite will be added to the sprite       \u001b[39;49m\r\n        \u001b[31m# manager in the session object. When a deepcopy is made, this sprite   \u001b[39;49m\r\n        \u001b[31m# will be duplicated and the old one will be killed.                    \u001b[39;49m\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = sprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h)\u001b[K\r\n\n        \u001b[31m# Create the grid from data                                             \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tiles = []\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h):\u001b[14;13H\u001b[33mrow\u001b[39;49m = []\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w):\u001b[K\r\n                row.append(\u001b[35mNone\u001b[39;49m)\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tiles.append(row)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units = []\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams = []\u001b[20;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.winners = []\u001b[K\r\n\u001b[K\n\t\u001b[31m# Load the teams first, since cells and units reference them.           \u001b[39;49m\r\n\u001b[23;29H\u001b[7m 8% L2\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\n\t\u001b[?25l\u001b[31m# Load the teams first, since cells and units reference them.           \u001b[39;49m\r\n\t\u001b[31m# Then set up the alliances.                                            \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data[\u001b[32m\"teams\"\u001b[39;49m]:\r\n\t    \u001b[33mthis\u001b[39;49m = entities.Team(t)\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams.append(this)\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m alist \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data.get(\u001b[32m\"allies\"\u001b[39;49m,[]):\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m a \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m alist:\u001b[K\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m alist:\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[a].allies.append( \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[b] )\u001b[K\r\n\u001b[K\n\t\u001b[31m# Load the terrain cells. The units are embedded in these elements      \u001b[39;49m\r\n\t\u001b[31m# of the dictionary. Note that when units are loaded in other units     \u001b[39;49m\r\n\t\u001b[31m# we, have to recursively dig them out.                                 \u001b[39;49m\r\n\t\u001b[31m#   x: (int) x position                                                 \u001b[39;49m\r\n\t\u001b[31m#   y: (int) y position                                                 \u001b[39;49m\r\n\t\u001b[31m#   name: (string) the name of the terrain                              \u001b[39;49m\r\n\t\u001b[31m#   unit: the unit on this terrain, if one                              \u001b[39;49m\r\n\t\u001b[31m#   team: (int) the team that owns the terrain, if any                  \u001b[39;49m\r\n\t\u001b[31m# We also make the sprite information for the units here. Note that     \u001b[39;49m\r\n\u001b[22;11H\u001b[31mthis code is duplicated from the load_unit and add_unit methods.\u001b[39;49m\u001b[23;29H\u001b[7m13% L39\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[31m# We also make the sprite information for the units here. Note that     \u001b[39;49m\r\n\u001b[3;11H\u001b[31mthis code is duplicated from the load_unit and add_unit methods.\u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m c \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data[\u001b[32m\"tiles\"\u001b[39;49m]:\u001b[K\r\n\t    \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = c[\u001b[32m\"x\"\u001b[39;49m], c[\u001b[32m\"y\"\u001b[39;49m]\u001b[6;14H\u001b[33merrain\u001b[39;49m = c[\u001b[32m\"terrain\"\u001b[39;49m]\u001b[K\u001b[7;13H\u001b[33mthis\u001b[39;49m = entities.Tile(terrain,rules[\u001b[32m\"terrain\"\u001b[39;49m][terrain])\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"team\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m c:\u001b[K\u001b[9;13H    \u001b[33mthis.team\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[c[\u001b[32m\"team\"\u001b[39;49m]]\u001b[10;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.change_tile(this, x, y)\u001b[11;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"unit\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m c:\u001b[K\r\n\t\t\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m_process_units\u001b[0m\u001b[39;49m(udata):\r\n\t            \u001b[33mname\u001b[39;49m = udata[\u001b[32m\"name\"\u001b[39;49m]\u001b[K\r\n\t            \u001b[33mu\u001b[39;49m = entities.Unit(name, rules[\u001b[32m\"units\"\u001b[39;49m][name])\u001b[K\r\n\t            \u001b[33mu.team\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[udata[\u001b[32m\"team\"\u001b[39;49m]]\u001b[K\r\n\t            \u001b[33mu.x\u001b[39;49m = x\u001b[K\r\n\t            \u001b[33mu.y\u001b[39;49m = y\u001b[K\r\n\t            u.sprite.putc(u.icon,0,0,u.team.color,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mFalse\u001b[39;49m)\u001b[K\r\n\t            u.sprite.move_to(x,y)\u001b[K\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.add_sprite(u.sprite)\u001b[K\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units.append(u)\u001b[K\r\n\t            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m uc \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m udata.get(\u001b[32m\"carrying\"\u001b[39;49m,[]):\u001b[K\u001b[23;29H\u001b[7m20% L58\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units.append(u)\u001b[K\r\n\t            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m uc \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m udata.get(\u001b[32m\"carrying\"\u001b[39;49m,[]):\u001b[K\r\n\t                \u001b[33mcarriee\u001b[39;49m = _process_units(uc)\u001b[5;13H            u.carrying.append(carriee)\u001b[6;13H            \u001b[33mcarriee.x\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[7;13H            \u001b[33mcarriee.y\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[8;13H            carriee.sprite.hide()\r\n\t\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m u\u001b[K\u001b[10;13H    \u001b[33mthis.unit\u001b[39;49m = _process_units(c[\u001b[32m\"unit\"\u001b[39;49m])\r\n\u001b[K\n\t\u001b[31m# To start the game, end the turn. It will proceed to player 0.         \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day = 1\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = []\u001b[K\r\n\u001b[K\u001b[17;5H\u001b[31m# Pump the alerts from the grid.                                            \u001b[39;49m\r\n\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33moldalerts\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = []\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m oldalerts\u001b[K\r\n\u001b[K\u001b[23;30H\u001b[7m8% L77\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m oldalerts\u001b[K\r\n\u001b[K\u001b[4;5H\u001b[31m# Get the tile and unit at X,Y                                              \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mget_at\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m x >= 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m x < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m y >= 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m y < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h:\u001b[7;13H\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tiles[y][x]\u001b[K\u001b[8;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m t, t.unit\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m, \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[11;5H\u001b[31m# Get the tile at X,Y                                                       \u001b[39;49m\r\n\u001b[12;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtile_at\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[33mtile\u001b[39;49m, \u001b[33munit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_at(x, y)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m tile\u001b[K\r\n\u001b[K\u001b[16;5H\u001b[31m# Get the tile of a unit                                                    \u001b[39;49m\r\n\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mutile\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, unit):\u001b[K\u001b[18;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m unit.x \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m unit.y \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[33mtile\u001b[39;49m, \u001b[33mtest\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_at(unit.x, unit.y)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m test \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m unit:\u001b[22;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Unit mismatch at %d,%d\"\u001b[39;49m%(unit.x,unit.y ))\u001b[23;29H\u001b[7m34% L96\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m test \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m unit:\u001b[3;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Unit mismatch at %d,%d\"\u001b[39;49m%(unit.x,unit.y ))\u001b[4;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m tile\u001b[K\r\n\u001b[K\u001b[6;5H\u001b[31m# Get the unit at X,Y                                                       \u001b[39;49m\r\n\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34munit_at\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[33mtile\u001b[39;49m, \u001b[33munit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_at(x, y)\r\n\t\t\bunit\u001b[K\u001b[11;11H\u001b[31mall tile objects.\u001b[39;49m\r\n\t\u001b[1m\u001b[34mall_tiles\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w):\u001b[15;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h):\u001b[16;5H            \u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_at(x,y)\u001b[K\u001b[17;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t: report.append(t)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\u001b[K\u001b[20;5H\u001b[31m# Get an iterable range of all legal tile coordinates.                      \u001b[39;49m\r\n\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mall_tiles_xy\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m = []\u001b[K\u001b[23;30H\u001b[7m8% L115\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mall_tiles_xy\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w):\u001b[5;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h):\u001b[6;5H            \u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_at(x,y)\u001b[K\u001b[7;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t: report.append((x,y))\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\u001b[K\u001b[10;5H\u001b[31m# Get a range of coordinates, usually for an attack range. Coordinates      \u001b[39;49m\r\n\t\b\b\u001b[31mmay not actually be cells.\u001b[39;49m\r\n\t\u001b[1m\u001b[34mget_range\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, start, end=\u001b[35mNone\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m end \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\r\n\t    \u001b[33mend\u001b[39;49m = start\u001b[K\r\n\u001b[K\n\t\u001b[33mreport\u001b[39;49m = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m r \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(start,end+1):\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(r):\r\n\t\treport.append((x+(r-i),y+i    ))\u001b[20;5H            report.append((x-i    ,y+(r-i)))\u001b[K\u001b[21;5H            report.append((x-(r-i),y-i    ))\r\n\t        report.append((x+i    ,y-(r-i)))\u001b[23;29H\u001b[7m43% L134\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l            report.append((x-(r-i),y-i    ))\r\n\t        report.append((x+i    ,y-(r-i)))\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\u001b[K\u001b[6;5H\u001b[31m# Return distance (zero norm) between two points.                           \u001b[39;49m\r\n\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdist\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, start, end):\u001b[K\r\n\t\u001b[33mx1\u001b[39;49m,\u001b[33my1\u001b[39;49m = sta\r\n\t\u001b[33mx2\u001b[39;49m,\u001b[33my2\u001b[39;49m = end\u001b[10;5H    \u001b[33mdx\u001b[39;49m = x1-x2\u001b[K\u001b[11;5H    \u001b[33mdy\u001b[39;49m = y1-y2\u001b[K\u001b[12;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (dx < 0): \u001b[33mdx\u001b[39;49m *= -1\u001b[K\u001b[13;12H(dy < 0): \u001b[33mdy\u001b[39;49m *= -1\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m dx+dy\u001b[K\u001b[16;5H\u001b[31m# Return the current team.                                                  \u001b[39;49m\r\n\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mcurrent_team\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn]\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m t\u001b[K\r\n\u001b[K\u001b[21;5H\u001b[31m# This ends the turn and passes play to the next player. All units are set  \u001b[39;49m\r\n\u001b[22;5H\u001b[31m# to acive. If a player has won the game at this point, set the winner      \u001b[39;49m\r\n\u001b[23;30H\u001b[7m8% L153\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m# This ends the turn and passes play to the next player. All units are set  \u001b[39;49m\r\n\u001b[3;5H\u001b[31m# to acive. If a player has won the game at this point, set the winner      \u001b[39;49m\r\n\u001b[4;5H\u001b[31m# variable.                                                                 \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mend_turn\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[6;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\u001b[K\u001b[7;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = -1\u001b[K\r\n\u001b[K\n\t\u001b[31m# Select the next active player in the roster.                          \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m([t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]) == 0:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day += 1\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[33mflag\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m flag \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn].active:\r\n\t\t\u001b[33mflag\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[16;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn += 1\u001b[K\u001b[17;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams):\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = 0\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day += 1\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units:\u001b[21;5H        \u001b[33mu.ready\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[22;5H        u.sprite.colorize(u.team.color,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mFalse\u001b[39;49m)\u001b[K\u001b[23;29H\u001b[7m52% L172\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l        \u001b[33mu.ready\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[3;5H        u.sprite.colorize(u.team.color,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mFalse\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[5;5H    \u001b[31m# Repair units and draw income.                                         \u001b[39;49m\r\n\t\u001b[33mcur\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.current_team()\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cur:\u001b[K\n\b\b\b\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tile \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.all_tiles():\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur:\u001b[K\r\n\t            \u001b[33mu\u001b[39;49m = tile.unit\u001b[K\u001b[11;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair):\r\n\t                \u001b[33mu.fuel\u001b[39;49m = u.max_fuel\u001b[13;13H            \u001b[33mu.ammo\u001b[39;49m = u.max_ammo\r\n\u001b[K\n\t\t    \u001b[31m# Repairing a unit forfeits that tile's income.             \u001b[39;49m\r\n\t\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.hp < 100\r\n\t\t          \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair):\u001b[18;21H    \u001b[33mu.hp\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(100,u.hp+tile.repair[u.unit])\u001b[19;21H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t                \u001b[33mcur.cash\u001b[39;49m += tile.income\r\n\u001b[K\n\t\u001b[31m# Determine the winning team (if one exists).                           \u001b[39;49m\r\n\u001b[23;30H\u001b[7m8% L191\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\n\t\u001b[?25l\u001b[31m# Determine the winning team (if one exists).                           \u001b[39;49m\r\n\t\u001b[33mwinner\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m at \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]:\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m ot \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]:\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m at.is_allied(ot):\u001b[8;13H        \u001b[33mwinner\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m winner:\u001b[K\n\b\b\b\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.winners = [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]\r\n\u001b[K\u001b[12;5H\u001b[31m# Moves a unit from the old tile to the new tile. Will                      \u001b[39;49m\r\n\u001b[13;5H\u001b[31m# throw exception if move is illegal. CHECK FIRST.                          \u001b[39;49m\r\n\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mmove_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, unit, x, y):\r\n\t\u001b[33mtile\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.utile(unit)\u001b[K\r\n\t\u001b[33mtile.unit\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[33mtile\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tile_at(x, y)\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.unit:\u001b[K\u001b[19;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Tried to add unit to occupied tile %d,%d\"\u001b[39;49m%(x,y))\r\n\t\u001b[33mtile.unit\u001b[39;49m = unit\u001b[K\r\n\n\t\u001b[33munit.x\u001b[39;49m = x\u001b[K\u001b[23;29H\u001b[7m64% L210\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[33mu.ready\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t    u.sprite.colorize(u.team.color,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mFalse\u001b[39;49m)\u001b[K\r\n\u001b[K\n\t\u001b[31m# Repair units and draw income.                                         \u001b[39;49m\r\n\t\u001b[33mcur\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.current_team()\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cur:\u001b[K\n\b\b\b\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tile \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.all_tiles():\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur:\u001b[10;13H        \u001b[33mu\u001b[39;49m = tile.unit\u001b[K\u001b[11;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair):\u001b[12;5H                    \u001b[33mu.fuel\u001b[39;49m = u.max_fuel\u001b[K\u001b[13;5H                    \u001b[33mu.ammo\u001b[39;49m = u.max_ammo\u001b[K\r\n\u001b[K\n\t            \u001b[31m# Repairing a unit forfeits that tile's income.             \u001b[39;49m\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.hp < 100\r\n\t                  \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair):\r\n\t                \u001b[33mu.hp\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(100,u.hp+tile.repair[u.unit])\u001b[19;13H        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t                \u001b[33mcur.cash\u001b[39;49m += tile.income\r\n\n\t\u001b[31m# Determine the winning team (if one exists).                           \u001b[39;49m\r\n\u001b[23;29H\u001b[7m58\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l            \u001b[33mu.ammo\u001b[39;49m = u.max_ammo\r\n\u001b[K\u001b[4;21H\u001b[31m# Repairing a unit forfeits that tile's income.             \u001b[39;49m\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.hp < 100\u001b[K\r\n\t                  \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair):\r\n\t                \u001b[33mu.hp\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(100,u.hp+tile.repair[u.unit])\u001b[8;13H        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t\t        \u001b[33mcur.cash\u001b[39;49m += tile.income\r\n\u001b[K\n\t\u001b[31m# Determine the winning team (if one exists).                           \u001b[39;49m\r\n\t\u001b[33mwinner\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m at \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]:\u001b[14;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m ot \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]:\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m at.is_allied(ot):\u001b[K\u001b[16;21H\u001b[33mwinner\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m winner:\u001b[K\n\b\b\b\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.winners = [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]\u001b[K\r\n\u001b[K\u001b[20;5H\u001b[31m# Moves a unit from the old tile to the new tile. Will                      \u001b[39;49m\r\n\u001b[21;5H\u001b[31m# throw exception if move is illegal. CHECK FIRST.                          \u001b[39;49m\r\n\u001b[22;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mmove_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, unit, x, y):\u001b[K\u001b[23;29H\u001b[7m61% L212\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;54H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[33mflag\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[3;13H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m flag \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn].active:\r\n\t\t\u001b[33mflag\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn += 1\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams):\u001b[K\u001b[7;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = 0\u001b[K\u001b[8;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day += 1\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units:\u001b[K\u001b[10;13H\u001b[33mu.ready\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t    u.sprite.colorize(u.team.color,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mFalse\u001b[39;49m)\u001b[K\r\n\u001b[K\n\t\u001b[31m# Repair units and draw income.                                         \u001b[39;49m\r\n\t\u001b[33mcur\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.current_team()\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cur:\u001b[K\n\b\b\b\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tile \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.all_tiles():\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur:\u001b[18;13H        \u001b[33mu\u001b[39;49m = tile.unit\u001b[K\u001b[19;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair):\u001b[20;5H                    \u001b[33mu.fuel\u001b[39;49m = u.max_fuel\u001b[K\u001b[21;5H                    \u001b[33mu.ammo\u001b[39;49m = u.max_ammo\u001b[K\r\n\u001b[K\u001b[23;29H\u001b[7m55% L203\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (dy < 0): \u001b[33mdy\u001b[39;49m *= -1\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m dx+dy\u001b[K\r\n\u001b[K\u001b[5;5H\u001b[31m# Return the current team.                                                  \u001b[39;49m\r\n\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mcurrent_team\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn]\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m t\u001b[K\r\n\u001b[K\u001b[10;5H\u001b[31m# This ends the turn and passes play to the next player. All units are set  \u001b[39;49m\r\n\u001b[11;5H\u001b[31m# to acive. If a player has won the game at this point, set the winner      \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# variable.                                                                 \u001b[39;49m\r\n\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mend_turn\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = -1\r\n\u001b[K\n\t\u001b[31m# Select the next active player in the roster.                          \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m([t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]) == 0:\u001b[19;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day += 1\u001b[K\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[33mflag\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[22;13H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m flag \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn].active:\u001b[23;30H\u001b[7m0% L184\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l    \u001b[33mflag\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m flag \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn].active:\r\n\t\t\u001b[33mflag\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[5;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn += 1\u001b[K\u001b[6;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams):\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = 0\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day += 1\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units:\u001b[10;5H        \u001b[33mu.ready\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[11;5H        u.sprite.colorize(u.team.color,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mFalse\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[13;5H    \u001b[31m# Repair units and draw income.                                         \u001b[39;49m\r\n\t\u001b[33mcur\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.current_team()\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cur:\u001b[K\n\b\b\b\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tile \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.all_tiles():\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur:\u001b[K\r\n\t            \u001b[33mu\u001b[39;49m = tile.unit\u001b[K\u001b[19;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair):\r\n\t                \u001b[33mu.fuel\u001b[39;49m = u.max_fuel\u001b[21;13H            \u001b[33mu.ammo\u001b[39;49m = u.max_ammo\r\n\u001b[K\u001b[23;30H\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m90\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[15;1H\u001b[1L\u001b[1;24r\u001b[15;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mgrid.py     \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   55% L196\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/grid.py...\u001b[15;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/grid.py\u001b[K\u001b[15;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (dy < 0): \u001b[33mdy\u001b[39;49m *= -1\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m dx+dy\u001b[K\r\n\u001b[K\u001b[5;5H\u001b[31m# Return the current team.                                                  \u001b[39;49m\r\n\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mcurrent_team\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn]\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m t\u001b[K\r\n\u001b[K\u001b[10;5H\u001b[31m# This ends the turn and passes play to the next player. All units are set  \u001b[39;49m\r\n\u001b[11;5H\u001b[31m# to acive. If a player has won the game at this point, set the winner      \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# variable.                                                                 \u001b[39;49m\r\n\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mend_turn\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\u001b[K\u001b[15;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = -1\r\n\u001b[K\n\t\u001b[31m# Select the next active player in the roster.                          \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m([t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]) == 0:\u001b[19;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day += 1\u001b[K\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[33mflag\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[22;13H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m flag \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn].active:\u001b[23;30H\u001b[7m0% L184\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;12H\u001b[?25lend \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\u001b[K\r\n\t    \u001b[33mend\u001b[39;49m = start\u001b[5;5H    \u001b[33mreport\u001b[39;49m = []\u001b[K\u001b[6;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m r \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(start,end+1):\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(r):\u001b[K\r\n\t        report.append((x+(r-i),y+i    ))\r\n\t\treport.append((x-i    ,y+(r-i)))\u001b[10;5H            report.append((x-(r-i),y-i    ))\u001b[K\u001b[11;5H            report.append((x+i    ,y-(r-i)))\u001b[K\u001b[12;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\u001b[K\u001b[14;5H\u001b[31m# Return distance (zero norm) between two points.                           \u001b[39;49m\r\n\u001b[15;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdist\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, start, end):\r\n\t\u001b[33mx1\u001b[39;49m,\u001b[33my1\u001b[39;49m = start\r\n\t\u001b[33mx2\u001b[39;49m,\u001b[33my2\u001b[39;49m = end\u001b[K\r\n\t\u001b[33mdx\u001b[39;49m = x1-x2\u001b[K\r\n\t\u001b[33mdy\u001b[39;49m = y1-y2\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (dx < 0): \u001b[33mdx\u001b[39;49m *= -1\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (dy < 0): \u001b[33mdy\u001b[39;49m *= -1\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m dx+dy\u001b[K\u001b[23;29H\u001b[7m46% L165\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[33mreport\u001b[39;49m = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w):\u001b[4;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h):\r\n\t        \u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_at(x,y)\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t: report.append(t)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\u001b[K\u001b[9;5H\u001b[31m# Get an iterable range of all legal tile coordinates.                      \u001b[39;49m\r\n\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mall_tiles_xy\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w):\u001b[13;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h):\u001b[14;5H            \u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_at(x,y)\u001b[K\u001b[15;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t: report.append((x,y))\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m repo\r\n\u001b[K\u001b[18;5H\u001b[31m# Get a range of coordinates, usually for an attack range. Coordinates      \u001b[39;49m\r\n\u001b[19;5H\u001b[31m# may not actually be cells.                                                \u001b[39;49m\r\n\u001b[20;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mget_range\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, start, end=\u001b[35mNone\u001b[39;49m):\u001b[21;12Hend \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\u001b[K\r\n\t    \u001b[33mend\u001b[39;49m = start\u001b[23;30H\u001b[7m1% L146\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[33mtile\u001b[39;49m, \u001b[33munit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_at(x, y)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m tile\u001b[K\r\n\u001b[K\u001b[5;5H\u001b[31m# Get the tile of a unit                                                    \u001b[39;49m\r\n\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mutile\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, unit):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m unit.x \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m unit.y \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\u001b[8;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[9;5H    \u001b[33mtile\u001b[39;49m, \u001b[33mtest\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_at(unit.x, unit.y)\u001b[K\u001b[10;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m test \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m unit:\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Unit mismatch at %d,%d\"\u001b[39;49m%(unit.x,unit.y ))\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m tile\u001b[K\r\n\u001b[K\u001b[14;5H\u001b[31m# Get the unit at X,Y                                                       \u001b[39;49m\r\n\u001b[15;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34munit_at\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[33mtile\u001b[39;49m, \u001b[33munit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_at(x, y)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m unit\r\n\u001b[K\n\t\b\b\u001b[31mGet all tile objects.     \u001b[39;49m\r\n\t\u001b[1m\u001b[34mall_tiles\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w):\n\b\b\b\u001b[7m36% L127\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day = 1\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = \u001b[35mNone\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = []\r\n\u001b[K\u001b[6;5H\u001b[31m# Pump the alerts from the grid.                                            \u001b[39;49m\r\n\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33moldalerts\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = []\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m oldalerts\u001b[K\r\n\u001b[K\u001b[12;5H\u001b[31m# Get the tile and unit at X,Y                                              \u001b[39;49m\r\n\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mget_at\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[14;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m x >= 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m x < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m y >= 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m y < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h:\u001b[K\u001b[15;5H        \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tiles[y][x]\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m t, t.unit\u001b[K\r\n\t\t\b\u001b[35mNone\u001b[39;49m, \u001b[35mNone\u001b[39;49m\u001b[19;11H\u001b[31mthe tile at X,Y  \u001b[39;49m\r\n\t\u001b[1m\u001b[34mtile_at\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\t\u001b[33mtile\u001b[39;49m, \u001b[33munit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_at(x, y)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m tile\u001b[K\u001b[23;30H\u001b[7m2% L108\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[33mtile\u001b[39;49m, \u001b[33munit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_at(x, y)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m tile\u001b[K\r\n\u001b[K\u001b[5;5H\u001b[31m# Get the tile of a unit                                                    \u001b[39;49m\r\n\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mutile\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, unit):\u001b[K\u001b[7;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m unit.x \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m unit.y \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[33mtile\u001b[39;49m, \u001b[33mtest\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_at(unit.x, unit.y)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m test \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m unit:\u001b[11;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Unit mismatch at %d,%d\"\u001b[39;49m%(unit.x,unit.y ))\u001b[12;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m tile\u001b[K\r\n\u001b[K\u001b[14;5H\u001b[31m# Get the unit at X,Y                                                       \u001b[39;49m\r\n\u001b[15;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34munit_at\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[33mtile\u001b[39;49m, \u001b[33munit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_at(x, y)\r\n\t\t\bunit\u001b[K\u001b[19;11H\u001b[31mall tile objects.\u001b[39;49m\r\n\t\u001b[1m\u001b[34mall_tiles\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w):\n\b\b\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[A\t\u001b[?25l\u001b[33mreport\u001b[39;49m = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w):\u001b[4;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h):\u001b[5;5H            \u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_at(x,y)\u001b[K\u001b[6;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t: report.append(t)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\u001b[K\u001b[9;5H\u001b[31m# Get an iterable range of all legal tile coordinates.                      \u001b[39;49m\r\n\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mall_tiles_xy\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w):\u001b[13;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h):\u001b[14;5H            \u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_at(x,y)\u001b[K\u001b[15;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t: report.append((x,y))\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\u001b[K\u001b[18;5H\u001b[31m# Get a range of coordinates, usually for an attack range. Coordinates      \u001b[39;49m\r\n\t\b\b\u001b[31mmay not actually be cells.\u001b[39;49m\r\n\t\u001b[1m\u001b[34mget_range\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, start, end=\u001b[35mNone\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m end \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\r\n\t    \u001b[33mend\u001b[39;49m = start\u001b[K\u001b[23;29H\u001b[7m41% L126\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m end \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\r\n\t    \u001b[33mend\u001b[39;49m = start\u001b[K\r\n\u001b[K\n\t\u001b[33mreport\u001b[39;49m = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m r \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(start,end+1):\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(r):\r\n\t\treport.append((x+(r-i),y+i    ))\u001b[9;5H            report.append((x-i    ,y+(r-i)))\u001b[K\u001b[10;5H            report.append((x-(r-i),y-i    ))\r\n\t        report.append((x+i    ,y-(r-i)))\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\u001b[K\u001b[14;5H\u001b[31m# Return distance (zero norm) between two points.                           \u001b[39;49m\r\n\u001b[15;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdist\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, start, end):\u001b[K\r\n\t\u001b[33mx1\u001b[39;49m,\u001b[33my1\u001b[39;49m = sta\r\n\t\u001b[33mx2\u001b[39;49m,\u001b[33my2\u001b[39;49m = end\u001b[18;5H    \u001b[33mdx\u001b[39;49m = x1-x2\u001b[K\u001b[19;5H    \u001b[33mdy\u001b[39;49m = y1-y2\u001b[K\u001b[20;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (dx < 0): \u001b[33mdx\u001b[39;49m *= -1\u001b[K\u001b[21;12H(dy < 0): \u001b[33mdy\u001b[39;49m *= -1\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m dx+dy\u001b[K\u001b[23;30H\u001b[7m6% L145\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;12H\u001b[?25l(dy < 0): \u001b[33mdy\u001b[39;49m *= -1\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m dx+dy\u001b[K\u001b[5;5H\u001b[31m# Return the current team.                                                  \u001b[39;49m\r\n\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mcurrent_team\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn]\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m t\u001b[K\r\n\u001b[K\u001b[10;5H\u001b[31m# This ends the turn and passes play to the next player. All units are set  \u001b[39;49m\r\n\u001b[11;5H\u001b[31m# to acive. If a player has won the game at this point, set the winner      \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# variable.                                                                 \u001b[39;49m\r\n\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mend_turn\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[14;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\u001b[K\u001b[15;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = -1\u001b[K\r\n\u001b[K\n\t\u001b[31m# Select the next active player in the roster.                          \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m([t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]) == 0:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day += 1\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[33mflag\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m flag \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn].active:\u001b[23;29H\u001b[7m50% L164\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l    \u001b[33mflag\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m flag \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn].active:\r\n\t\t\u001b[33mflag\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[5;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn += 1\u001b[K\u001b[6;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams):\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = 0\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day += 1\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units:\u001b[10;5H        \u001b[33mu.ready\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[11;5H        u.sprite.colorize(u.team.color,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mFalse\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[13;5H    \u001b[31m# Repair units and draw income.                                         \u001b[39;49m\r\n\t\u001b[33mcur\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.current_team()\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cur:\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tile \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.all_tiles():\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur:\u001b[K\u001b[19;13H        \u001b[33mu\u001b[39;49m = tile.unit\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair):\u001b[21;13H            \u001b[33mu.fuel\u001b[39;49m = u.max_fuel\u001b[22;13H            \u001b[33mu.ammo\u001b[39;49m = u.max_ammo\u001b[K\u001b[23;30H\u001b[7m5% L183\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l            \u001b[33mu.fuel\u001b[39;49m = u.max_fuel\u001b[3;13H            \u001b[33mu.ammo\u001b[39;49m = u.max_ammo\u001b[K\r\n\u001b[K\n\t\t    \u001b[31m# Repairing a unit forfeits that tile's income.             \u001b[39;49m\r\n\t\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.hp < 100\u001b[7;21H      \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair):\u001b[8;21H    \u001b[33mu.hp\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(100,u.hp+tile.repair[u.unit])\r\n\t            \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[10;13H            \u001b[33mcur.cash\u001b[39;49m += tile.income\r\n\u001b[K\n\t\u001b[31m# Determine the winning team (if one exists).                           \u001b[39;49m\r\n\t\u001b[33mwinner\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m at \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]:\u001b[15;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m ot \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]:\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m at.is_allied(ot):\u001b[17;13H        \u001b[33mwinner\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m winner:\u001b[K\n\b\b\b\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.winners = [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]\r\n\u001b[K\u001b[21;5H\u001b[31m# Moves a unit from the old tile to the new tile. Will                      \u001b[39;49m\r\n\u001b[22;5H\u001b[31m# throw exception if move is illegal. CHECK FIRST.                          \u001b[39;49m\r\n\u001b[23;29H\u001b[7m61% L202\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[33mflag\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[3;13H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m flag \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn].active:\r\n\t\t\u001b[33mflag\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn += 1\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams):\u001b[K\u001b[7;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = 0\u001b[K\u001b[8;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day += 1\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units:\u001b[10;13H\u001b[33mu.ready\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[11;13Hu.sprite.colorize(u.team.color,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mFalse\u001b[39;49m)\r\n\u001b[K\n\t\u001b[31m# Repair units and draw income.                                         \u001b[39;49m\r\n\t\u001b[33mcur\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.current_team()\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cur:\u001b[K\n\b\b\b\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tile \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.all_tiles():\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur:\u001b[19;13H        \u001b[33mu\u001b[39;49m = tile.unit\u001b[K\u001b[20;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair):\u001b[21;5H                    \u001b[33mu.fuel\u001b[39;49m = u.max_fuel\u001b[K\u001b[22;5H                    \u001b[33mu.ammo\u001b[39;49m = u.max_ammo\u001b[K\u001b[23;29H\u001b[7m55\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m199\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;10H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25lnoti)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25l\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25lno)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lN)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[16;1H\u001b[1L\u001b[1;24r\u001b[15;1H\u001b[K\n\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append(widgets.N)\u001b[K\u001b[23;36H\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\u001b[?25l\u001b[33mw\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lN\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default session.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lsession.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[2;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# Notifications are just sprites that are created with a message. This is a     \u001b[39;49m\r\n\u001b[31m# very low-level sort of behavior that I'm not crazy about, but we'll tolerate  \u001b[39;49m\r\n\u001b[31m# it for now.                                                                   \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mNotification\u001b[39;49m(sprites.Sprite):\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, layer, timeout, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[K\r\n\t\u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\r\n\t\u001b[33mw\u001b[39;49m = 0\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\u001b[K\r\n\t        \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\u001b[K\r\n\t\u001b[33mw\u001b[39;49m += 2\u001b[K\r\n\t\u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Notification, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(x, y, w, h, layer, timeout)\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\u001b[K\u001b[22;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.blit(draw.text(0,0,l,fg,bg),1,1+i)\u001b[23;6H\u001b[7m----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   71% L56 \u001b[0m\u001b[39;49m\u001b[27m\u001b[8;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default grid.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[2;5H        \u001b[33mflag\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m flag \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn].active:\r\n\t\t\u001b[33mflag\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn += 1\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams):\u001b[K\r\n                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = 0\u001b[K\r\n                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day += 1\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units:\u001b[K\u001b[10;5H        \u001b[33mu.ready\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t    u.sprite.colorize(u.team.color,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mFalse\u001b[39;49m)\r\n\u001b[K\n\t\u001b[31m# Repair units and draw income.                                         \u001b[39;49m\r\n\t\u001b[33mcur\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.current_team()\r\n\t\u001b[33mw\u001b[39;49m = widgets.Notification()\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append(widgets.N)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cur:\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tile \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.all_tiles():\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur:\r\n\t            \u001b[33mu\u001b[39;49m = tile.unit\u001b[K\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair):\u001b[22;13H            \u001b[33mu.fuel\u001b[39;49m = u.max_fuel\u001b[K\u001b[23;6H\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mgrid.py     \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   55% L196\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\")                                         \u001b[39;49m\r\n\u001b[32m        self.alerts.append(widgets.N)                                           \u001b[39;49m\r\n\u001b[15;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append(widgets.N)\u001b[K\u001b[A\t\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32mD\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ma\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32my\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m \"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m%\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32md\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[16;1H\u001b[1L\u001b[1;24r\u001b[15;1H\u001b[K\n\u001b[?25l        \u001b[33mw\u001b[39;49m = widgets.Notification(0,0,\u001b[32m\"Day %d\"\u001b[39;49m)\u001b[K\u001b[23;36H\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\r\t\u001b[?25l\u001b[33mmsg\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32m\"                                                                 \u001b[39;49m\r\n\u001b[32m        w = widgets.Notification(0,0,\"\u001b[39;49mDay %d\u001b[32m\")                                  \u001b[39;49m\r\n\u001b[15;16H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mD\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32my\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32m%\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l\u001b[32m        self.alerts.append(widgets.N)                                           \u001b[39;49m\r\n\u001b[32m        if cur:                                                                 \u001b[39;49m\r\n\u001b[32m            for tile in self.all_tiles():                                       \u001b[39;49m\r\n\u001b[32m                if tile.team is cur:                                            \u001b[39;49m\r\n\u001b[32m                    u = tile.unit                                               \u001b[39;49m\r\n\u001b[32m                    if (u and u.team is cur and u.unit in tile.repair):         \u001b[39;49m\r\n\u001b[15;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32m-\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[32m%\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\\\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m%\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m,\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[32mm\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mv\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mu\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m!\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n        \u001b[33mw\u001b[39;49m = widgets.Notification(0,0,\u001b[32m\"Day %d\"\u001b[39;49m)\u001b[K\u001b[A\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append(widgets.N)\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cur:\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tile \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.all_tiles():\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur:\u001b[K\r\n                    \u001b[33mu\u001b[39;49m = tile.unit\u001b[K\r\n                    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair):\u001b[K\u001b[15;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l%\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\r\n\tw\u001b[15;45H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\r\n\t\u001b[33mw\u001b[39;49m\u001b[15;44H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25le)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l )\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (dy < 0): \u001b[33mdy\u001b[39;49m *= -1\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m dx+dy\u001b[K\r\n\u001b[K\u001b[5;5H\u001b[31m# Return the current team.                                                  \u001b[39;49m\r\n\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mcurrent_team\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn]\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m t\u001b[K\r\n\u001b[K\u001b[10;5H\u001b[31m# This ends the turn and passes play to the next player. All units are set  \u001b[39;49m\r\n\u001b[11;5H\u001b[31m# to acive. If a player has won the game at this point, set the winner      \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# variable.                                                                 \u001b[39;49m\r\n\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mend_turn\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = -1\u001b[K\r\n\u001b[K\n\t\u001b[31m# Select the next active player in the roster.                          \u001b[39;49m\r\n\u001b[18;12H\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m([t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]) == 0:\u001b[19;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day += 1\u001b[K\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[33mflag\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[22;13H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m flag \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn].active:\u001b[K\u001b[23;30H\u001b[7m0% L184\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;12H\u001b[?25lend \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\u001b[K\r\n\t    \u001b[33mend\u001b[39;49m = start\u001b[5;5H    \u001b[33mreport\u001b[39;49m = []\u001b[K\u001b[6;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m r \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(start,end+1):\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(r):\u001b[K\r\n\t        report.append((x+(r-i),y+i    ))\r\n\t\treport.append((x-i    ,y+(r-i)))\u001b[10;5H            report.append((x-(r-i),y-i    ))\u001b[K\u001b[11;5H            report.append((x+i    ,y-(r-i)))\u001b[K\u001b[12;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\u001b[K\u001b[14;5H\u001b[31m# Return distance (zero norm) between two points.                           \u001b[39;49m\r\n\u001b[15;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdist\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, start, end):\r\n\t\u001b[33mx1\u001b[39;49m,\u001b[33my1\u001b[39;49m = start\r\n\t\u001b[33mx2\u001b[39;49m,\u001b[33my2\u001b[39;49m = end\u001b[K\r\n\t\u001b[33mdx\u001b[39;49m = x1-x2\u001b[K\r\n\t\u001b[33mdy\u001b[39;49m = y1-y2\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (dx < 0): \u001b[33mdx\u001b[39;49m *= -1\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (dy < 0): \u001b[33mdy\u001b[39;49m *= -1\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m dx+dy\u001b[K\u001b[23;29H\u001b[7m45% L165\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[33mreport\u001b[39;49m = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w):\u001b[4;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h):\r\n\t        \u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_at(x,y)\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t: report.append(t)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\u001b[K\u001b[9;5H\u001b[31m# Get an iterable range of all legal tile coordinates.                      \u001b[39;49m\r\n\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mall_tiles_xy\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w):\u001b[13;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h):\u001b[14;5H            \u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_at(x,y)\u001b[K\u001b[15;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t: report.append((x,y))\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m repo\r\n\u001b[K\u001b[18;5H\u001b[31m# Get a range of coordinates, usually for an attack range. Coordinates      \u001b[39;49m\r\n\u001b[19;5H\u001b[31m# may not actually be cells.                                                \u001b[39;49m\r\n\u001b[20;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mget_range\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, start, end=\u001b[35mNone\u001b[39;49m):\u001b[21;12Hend \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\u001b[K\r\n\t    \u001b[33mend\u001b[39;49m = start\u001b[23;30H\u001b[7m0% L146\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[33mtile\u001b[39;49m, \u001b[33munit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_at(x, y)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m tile\u001b[K\r\n\u001b[K\u001b[5;5H\u001b[31m# Get the tile of a unit                                                    \u001b[39;49m\r\n\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mutile\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, unit):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m unit.x \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m unit.y \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\u001b[8;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[9;5H    \u001b[33mtile\u001b[39;49m, \u001b[33mtest\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_at(unit.x, unit.y)\u001b[K\u001b[10;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m test \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m unit:\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Unit mismatch at %d,%d\"\u001b[39;49m%(unit.x,unit.y ))\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m tile\u001b[K\r\n\u001b[K\u001b[14;5H\u001b[31m# Get the unit at X,Y                                                       \u001b[39;49m\r\n\u001b[15;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34munit_at\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[33mtile\u001b[39;49m, \u001b[33munit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_at(x, y)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m unit\r\n\u001b[K\n\t\b\b\u001b[31mGet all tile objects.     \u001b[39;49m\r\n\t\u001b[1m\u001b[34mall_tiles\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w):\n\b\b\b\u001b[7m36% L127\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day = 1\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = \u001b[35mNone\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = []\r\n\u001b[K\u001b[6;5H\u001b[31m# Pump the alerts from the grid.                                            \u001b[39;49m\r\n\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33moldalerts\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = []\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m oldalerts\u001b[K\r\n\u001b[K\u001b[12;5H\u001b[31m# Get the tile and unit at X,Y                                              \u001b[39;49m\r\n\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mget_at\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[14;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m x >= 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m x < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m y >= 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m y < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h:\u001b[K\u001b[15;5H        \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tiles[y][x]\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m t, t.unit\u001b[K\r\n\t\t\b\u001b[35mNone\u001b[39;49m, \u001b[35mNone\u001b[39;49m\u001b[19;11H\u001b[31mthe tile at X,Y  \u001b[39;49m\r\n\t\u001b[1m\u001b[34mtile_at\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\t\u001b[33mtile\u001b[39;49m, \u001b[33munit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_at(x, y)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m tile\u001b[K\u001b[23;30H\u001b[7m2% L108\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l            \u001b[33mname\u001b[39;49m = udata[\u001b[32m\"name\"\u001b[39;49m]\r\n\t            \u001b[33mu\u001b[39;49m = entities.Unit(name, rules[\u001b[32m\"units\"\u001b[39;49m][name])\r\n\t            \u001b[33mu.team\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[udata[\u001b[32m\"team\"\u001b[39;49m]]\u001b[5;21H\u001b[33mu.x\u001b[39;49m = x\u001b[6;5H                \u001b[33mu.y\u001b[39;49m = y\u001b[K\u001b[7;5H                u.sprite.putc(u.icon,0,0,u.team.color,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mFalse\u001b[39;49m)\r\n\t            u.sprite.move_to(x,y)\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.add_sprite(u.sprite)\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units.append(u)\u001b[11;21H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m uc \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m udata.get(\u001b[32m\"carrying\"\u001b[39;49m,[]):\u001b[12;5H                    \u001b[33mcarriee\u001b[39;49m = _process_units(uc)\u001b[K\u001b[13;5H                    u.carrying.append(carriee)\r\n\t                \u001b[33mcarriee.x\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[15;13H            \u001b[33mcarriee.y\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[16;13H            carriee.sprite.hide()\r\n\t            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m u\r\n\t\t\u001b[33mthis.unit\u001b[39;49m = _process_units(c[\u001b[32m\"unit\"\u001b[39;49m])\r\n\u001b[K\u001b[20;5H    \u001b[31m# To start the game, end the turn. It will proceed to player 0.         \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day = 1\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = \u001b[35mNone\u001b[39;49m\u001b[23;29H\u001b[7m24% L89 \u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[31m# Load the terrain cells. The units are embedded in these elements      \u001b[39;49m\r\n\t\u001b[31m# of the dictionary. Note that when units are loaded in other units     \u001b[39;49m\r\n\t\u001b[31m# we, have to recursively dig them out.                                 \u001b[39;49m\r\n\t\u001b[31m#   x: (int) x position                                                 \u001b[39;49m\r\n\t\u001b[31m#   y: (int) y position                                                 \u001b[39;49m\r\n\t\u001b[31m#   name: (string) the name of the terrain                              \u001b[39;49m\r\n\t\u001b[31m#   unit: the unit on this terrain, if one                              \u001b[39;49m\r\n\t\u001b[31m#   team: (int) the team that owns the terrain, if any                  \u001b[39;49m\r\n\t\u001b[31m# We also make the sprite information for the units here. Note that     \u001b[39;49m\r\n\t\u001b[31m# this code is duplicated from the load_unit and add_unit methods.      \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m c \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data[\u001b[32m\"tiles\"\u001b[39;49m]:\u001b[K\u001b[13;13H\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = c[\u001b[32m\"x\"\u001b[39;49m], c[\u001b[32m\"y\"\u001b[39;49m]\u001b[K\u001b[14;13H\u001b[33mterrain\u001b[39;49m = c[\u001b[32m\"terrain\"\u001b[39;49m]\u001b[K\u001b[15;13H\u001b[33mthis\u001b[39;49m = entities.Tile(terrain,rules[\u001b[32m\"terrain\"\u001b[39;49m][terrain])\u001b[16;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"team\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m c:\u001b[K\r\n\t\t\u001b[33mthis.team\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[c[\u001b[32m\"team\"\u001b[39;49m]]\u001b[18;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.change_tile(this, x, y)\u001b[K\u001b[19;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"unit\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m c:\r\n\t        \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m_process_units\u001b[0m\u001b[39;49m(udata):\u001b[K\r\n\t            \u001b[33mname\u001b[39;49m = udata[\u001b[32m\"name\"\u001b[39;49m]\r\n\t            \u001b[33mu\u001b[39;49m = entities.Unit(name, rules[\u001b[32m\"units\"\u001b[39;49m][name])\u001b[23;29H\u001b[7m17% L70\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h):\u001b[K\r\n\t    \u001b[33mrow\u001b[39;49m = []\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w):\u001b[K\r\n\t        row.append(\u001b[35mNone\u001b[39;49m)\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tiles.append(row)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.winners = []\u001b[K\r\n\u001b[K\u001b[11;11H\u001b[31mLoad the teams first, since cells and units reference them.     \u001b[39;49m\r\n\t\u001b[31m# Then set up the alliances.                                            \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data[\u001b[32m\"teams\"\u001b[39;49m]:\u001b[K\u001b[14;14H\u001b[33mhis\u001b[39;49m = entities.Team(t)\u001b[15;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams.append(this)\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m alist \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data.get(\u001b[32m\"allies\"\u001b[39;49m,[]):\u001b[17;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m a \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m alist:\u001b[K\u001b[18;13H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m alist:\u001b[K\u001b[19;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[a].allies.append( \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[b] )\r\n\u001b[K\n\t\u001b[31m# Load the terrain cells. The units are embedded in these elements      \u001b[39;49m\r\n\t\u001b[31m# of the dictionary. Note that when units are loaded in other units     \u001b[39;49m\r\n\u001b[23;30H\u001b[7m1% L51\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m graphics \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m sprites\u001b[K\r\n\u001b[K\n\u001b[31m# The grid is made up tiles that can hold units. It's essentially a data        \u001b[39;49m\r\n\u001b[31m# storage class that also has mutator methods for interacting with units.       \u001b[39;49m\r\n\u001b[31m# The grid keeps a copy of the rules cached so that new units and tiles         \u001b[39;49m\r\n\u001b[31m# can be created using just their names.                                        \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mGrid\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data, rules):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w = data[\u001b[32m\"w\"\u001b[39;49m]\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h = data[\u001b[32m\"h\"\u001b[39;49m]\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rules = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(rules)\u001b[K\r\n\u001b[K\n\t\u001b[31m# Create the main sprite. This sprite will be added to the sprite       \u001b[39;49m\r\n\t\u001b[31m# manager in the session object. When a deepcopy is made, this sprite   \u001b[39;49m\r\n\t\u001b[31m# will be duplicated and the old one will be killed.                    \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = sprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h)\r\n\u001b[K\n\t\u001b[31m# Create the grid from data                                             \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tiles = []\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h):\u001b[K\r\n\t    \u001b[33mrow\u001b[39;49m = []\u001b[K\u001b[23;29H\u001b[7m 5% L32\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h):\u001b[3;13H\u001b[33mrow\u001b[39;49m = []\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w):\u001b[K\r\n                row.append(\u001b[35mNone\u001b[39;49m)\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tiles.append(row)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units = []\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams = []\u001b[9;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.winners = []\u001b[K\r\n\u001b[K\n\t\u001b[31m# Load the teams first, since cells and units reference them.           \u001b[39;49m\r\n\t\u001b[31m# Then set up the alliances.                                            \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data[\u001b[32m\"teams\"\u001b[39;49m]:\r\n\t    \u001b[33mthis\u001b[39;49m = entities.Team(t)\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams.append(this)\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m alist \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data.get(\u001b[32m\"allies\"\u001b[39;49m,[]):\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m a \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m alist:\u001b[K\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m alist:\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[a].allies.append( \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[b] )\u001b[K\r\n\u001b[K\n\t\u001b[31m# Load the terrain cells. The units are embedded in these elements      \u001b[39;49m\r\n\t\u001b[31m# of the dictionary. Note that when units are loaded in other units     \u001b[39;49m\r\n\u001b[23;29H\u001b[7m11\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[A\t\u001b[?25l\u001b[31m# Load the terrain cells. The units are embedded in these elements      \u001b[39;49m\r\n\t\u001b[31m# of the dictionary. Note that when units are loaded in other units     \u001b[39;49m\r\n\t\u001b[31m# we, have to recursively dig them out.                                 \u001b[39;49m\r\n\t\u001b[31m#   x: (int) x position                                                 \u001b[39;49m\r\n\t\u001b[31m#   y: (int) y position                                                 \u001b[39;49m\r\n\t\u001b[31m#   name: (string) the name of the terrain                              \u001b[39;49m\r\n\t\u001b[31m#   unit: the unit on this terrain, if one                              \u001b[39;49m\r\n\t\u001b[31m#   team: (int) the team that owns the terrain, if any                  \u001b[39;49m\r\n\t\u001b[31m# We also make the sprite information for the units here. Note that     \u001b[39;49m\r\n\u001b[11;11H\u001b[31mthis code is duplicated from the load_unit and add_unit methods.\u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m c \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data[\u001b[32m\"tiles\"\u001b[39;49m]:\u001b[K\r\n\t    \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = c[\u001b[32m\"x\"\u001b[39;49m], c[\u001b[32m\"y\"\u001b[39;49m]\u001b[14;14H\u001b[33merrain\u001b[39;49m = c[\u001b[32m\"terrain\"\u001b[39;49m]\u001b[K\u001b[15;13H\u001b[33mthis\u001b[39;49m = entities.Tile(terrain,rules[\u001b[32m\"terrain\"\u001b[39;49m][terrain])\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"team\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m c:\u001b[K\u001b[17;13H    \u001b[33mthis.team\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[c[\u001b[32m\"team\"\u001b[39;49m]]\u001b[18;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.change_tile(this, x, y)\u001b[19;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"unit\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m c:\u001b[K\r\n\t\t\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m_process_units\u001b[0m\u001b[39;49m(udata):\r\n\t            \u001b[33mname\u001b[39;49m = udata[\u001b[32m\"name\"\u001b[39;49m]\u001b[K\r\n\t            \u001b[33mu\u001b[39;49m = entities.Unit(name, rules[\u001b[32m\"units\"\u001b[39;49m][name])\u001b[K\u001b[23;30H\u001b[7m7% L50\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h):\u001b[K\r\n\t    \u001b[33mrow\u001b[39;49m = []\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w):\u001b[K\r\n\t        row.append(\u001b[35mNone\u001b[39;49m)\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tiles.append(row)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.winners = []\u001b[K\r\n\u001b[K\u001b[11;11H\u001b[31mLoad the teams first, since cells and units reference them.     \u001b[39;49m\r\n\t\u001b[31m# Then set up the alliances.                                            \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data[\u001b[32m\"teams\"\u001b[39;49m]:\u001b[K\u001b[14;14H\u001b[33mhis\u001b[39;49m = entities.Team(t)\u001b[15;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams.append(this)\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m alist \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data.get(\u001b[32m\"allies\"\u001b[39;49m,[]):\u001b[17;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m a \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m alist:\u001b[K\u001b[18;13H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m alist:\u001b[K\u001b[19;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[a].allies.append( \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[b] )\r\n\u001b[K\n\t\u001b[31m# Load the terrain cells. The units are embedded in these elements      \u001b[39;49m\r\n\t\u001b[31m# of the dictionary. Note that when units are loaded in other units     \u001b[39;49m\r\n\u001b[23;30H\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m graphics \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m sprites\u001b[K\r\n\u001b[K\n\u001b[31m# The grid is made up tiles that can hold units. It's essentially a data        \u001b[39;49m\r\n\u001b[31m# storage class that also has mutator methods for interacting with units.       \u001b[39;49m\r\n\u001b[31m# The grid keeps a copy of the rules cached so that new units and tiles         \u001b[39;49m\r\n\u001b[31m# can be created using just their names.                                        \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mGrid\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data, rules):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w = data[\u001b[32m\"w\"\u001b[39;49m]\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h = data[\u001b[32m\"h\"\u001b[39;49m]\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rules = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(rules)\u001b[K\r\n\u001b[K\n\t\u001b[31m# Create the main sprite. This sprite will be added to the sprite       \u001b[39;49m\r\n\t\u001b[31m# manager in the session object. When a deepcopy is made, this sprite   \u001b[39;49m\r\n\t\u001b[31m# will be duplicated and the old one will be killed.                    \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = sprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h)\r\n\u001b[K\n\t\u001b[31m# Create the grid from data                                             \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tiles = []\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h):\u001b[K\r\n\t    \u001b[33mrow\u001b[39;49m = []\u001b[K\u001b[23;29H\u001b[7m 5% L32\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h):\u001b[3;13H\u001b[33mrow\u001b[39;49m = []\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w):\u001b[K\r\n                row.append(\u001b[35mNone\u001b[39;49m)\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tiles.append(row)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units = []\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams = []\u001b[9;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.winners = []\u001b[K\r\n\u001b[K\n\t\u001b[31m# Load the teams first, since cells and units reference them.           \u001b[39;49m\r\n\t\u001b[31m# Then set up the alliances.                                            \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data[\u001b[32m\"teams\"\u001b[39;49m]:\r\n\t    \u001b[33mthis\u001b[39;49m = entities.Team(t)\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams.append(this)\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m alist \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data.get(\u001b[32m\"allies\"\u001b[39;49m,[]):\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m a \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m alist:\u001b[K\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m alist:\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[a].allies.append( \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[b] )\u001b[K\r\n\u001b[K\n\t\u001b[31m# Load the terrain cells. The units are embedded in these elements      \u001b[39;49m\r\n\t\u001b[31m# of the dictionary. Note that when units are loaded in other units     \u001b[39;49m\r\n\u001b[23;29H\u001b[7m11\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[A\t\u001b[?25l\u001b[31m# Load the terrain cells. The units are embedded in these elements      \u001b[39;49m\r\n\t\u001b[31m# of the dictionary. Note that when units are loaded in other units     \u001b[39;49m\r\n\t\u001b[31m# we, have to recursively dig them out.                                 \u001b[39;49m\r\n\t\u001b[31m#   x: (int) x position                                                 \u001b[39;49m\r\n\t\u001b[31m#   y: (int) y position                                                 \u001b[39;49m\r\n\t\u001b[31m#   name: (string) the name of the terrain                              \u001b[39;49m\r\n\t\u001b[31m#   unit: the unit on this terrain, if one                              \u001b[39;49m\r\n\t\u001b[31m#   team: (int) the team that owns the terrain, if any                  \u001b[39;49m\r\n\t\u001b[31m# We also make the sprite information for the units here. Note that     \u001b[39;49m\r\n\u001b[11;11H\u001b[31mthis code is duplicated from the load_unit and add_unit methods.\u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m c \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data[\u001b[32m\"tiles\"\u001b[39;49m]:\u001b[K\r\n\t    \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = c[\u001b[32m\"x\"\u001b[39;49m], c[\u001b[32m\"y\"\u001b[39;49m]\u001b[14;14H\u001b[33merrain\u001b[39;49m = c[\u001b[32m\"terrain\"\u001b[39;49m]\u001b[K\u001b[15;13H\u001b[33mthis\u001b[39;49m = entities.Tile(terrain,rules[\u001b[32m\"terrain\"\u001b[39;49m][terrain])\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"team\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m c:\u001b[K\u001b[17;13H    \u001b[33mthis.team\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[c[\u001b[32m\"team\"\u001b[39;49m]]\u001b[18;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.change_tile(this, x, y)\u001b[19;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"unit\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m c:\u001b[K\r\n\t\t\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m_process_units\u001b[0m\u001b[39;49m(udata):\r\n\t            \u001b[33mname\u001b[39;49m = udata[\u001b[32m\"name\"\u001b[39;49m]\u001b[K\r\n\t            \u001b[33mu\u001b[39;49m = entities.Unit(name, rules[\u001b[32m\"units\"\u001b[39;49m][name])\u001b[K\u001b[23;30H\u001b[7m7% L50\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l            \u001b[33mname\u001b[39;49m = udata[\u001b[32m\"name\"\u001b[39;49m]\u001b[K\r\n\t            \u001b[33mu\u001b[39;49m = entities.Unit(name, rules[\u001b[32m\"units\"\u001b[39;49m][name])\u001b[K\r\n\t            \u001b[33mu.team\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[udata[\u001b[32m\"team\"\u001b[39;49m]]\u001b[K\r\n\t            \u001b[33mu.x\u001b[39;49m = x\u001b[K\r\n\t            \u001b[33mu.y\u001b[39;49m = y\u001b[K\r\n\t            u.sprite.putc(u.icon,0,0,u.team.color,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mFalse\u001b[39;49m)\u001b[K\r\n\t            u.sprite.move_to(x,y)\u001b[K\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.add_sprite(u.sprite)\u001b[K\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units.append(u)\u001b[K\r\n\t            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m uc \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m udata.get(\u001b[32m\"carrying\"\u001b[39;49m,[]):\u001b[K\r\n\t                \u001b[33mcarriee\u001b[39;49m = _process_units(uc)\u001b[13;13H            u.carrying.append(carriee)\u001b[14;13H            \u001b[33mcarriee.x\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[15;13H            \u001b[33mcarriee.y\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[16;13H            carriee.sprite.hide()\r\n\t\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m u\u001b[K\u001b[18;13H    \u001b[33mthis.unit\u001b[39;49m = _process_units(c[\u001b[32m\"unit\"\u001b[39;49m])\r\n\u001b[K\n\t\u001b[31m# To start the game, end the turn. It will proceed to player 0.         \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day = 1\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[23;29H\u001b[7m24% L69\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day = 1\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = []\u001b[K\r\n\u001b[K\u001b[6;5H\u001b[31m# Pump the alerts from the grid.                                            \u001b[39;49m\r\n\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33moldalerts\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = []\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m oldalerts\u001b[K\r\n\u001b[K\u001b[12;5H\u001b[31m# Get the tile and unit at X,Y                                              \u001b[39;49m\r\n\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mget_at\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m x >= 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m x < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m y >= 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m y < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h:\u001b[15;13H\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tiles[y][x]\u001b[K\u001b[16;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m t, t.unit\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m, \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[19;5H\u001b[31m# Get the tile at X,Y                                                       \u001b[39;49m\r\n\u001b[20;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtile_at\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[33mtile\u001b[39;49m, \u001b[33munit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_at(x, y)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m tile\u001b[K\u001b[23;29H\u001b[7m32% L88\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l            \u001b[33mname\u001b[39;49m = udata[\u001b[32m\"name\"\u001b[39;49m]\r\n\t            \u001b[33mu\u001b[39;49m = entities.Unit(name, rules[\u001b[32m\"units\"\u001b[39;49m][name])\r\n\t            \u001b[33mu.team\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[udata[\u001b[32m\"team\"\u001b[39;49m]]\u001b[5;21H\u001b[33mu.x\u001b[39;49m = x\u001b[6;5H                \u001b[33mu.y\u001b[39;49m = y\u001b[K\u001b[7;5H                u.sprite.putc(u.icon,0,0,u.team.color,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mFalse\u001b[39;49m)\r\n\t            u.sprite.move_to(x,y)\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.add_sprite(u.sprite)\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units.append(u)\u001b[11;21H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m uc \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m udata.get(\u001b[32m\"carrying\"\u001b[39;49m,[]):\u001b[12;5H                    \u001b[33mcarriee\u001b[39;49m = _process_units(uc)\u001b[K\u001b[13;5H                    u.carrying.append(carriee)\r\n\t                \u001b[33mcarriee.x\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[15;13H            \u001b[33mcarriee.y\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[16;13H            carriee.sprite.hide()\r\n\t            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m u\r\n\t\t\u001b[33mthis.unit\u001b[39;49m = _process_units(c[\u001b[32m\"unit\"\u001b[39;49m])\r\n\u001b[K\u001b[20;5H    \u001b[31m# To start the game, end the turn. It will proceed to player 0.         \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day = 1\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = \u001b[35mNone\u001b[39;49m\u001b[23;29H\u001b[7m24\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[31m# Load the terrain cells. The units are embedded in these elements      \u001b[39;49m\r\n\t\u001b[31m# of the dictionary. Note that when units are loaded in other units     \u001b[39;49m\r\n\t\u001b[31m# we, have to recursively dig them out.                                 \u001b[39;49m\r\n\t\u001b[31m#   x: (int) x position                                                 \u001b[39;49m\r\n\t\u001b[31m#   y: (int) y position                                                 \u001b[39;49m\r\n\t\u001b[31m#   name: (string) the name of the terrain                              \u001b[39;49m\r\n\t\u001b[31m#   unit: the unit on this terrain, if one                              \u001b[39;49m\r\n\t\u001b[31m#   team: (int) the team that owns the terrain, if any                  \u001b[39;49m\r\n\t\u001b[31m# We also make the sprite information for the units here. Note that     \u001b[39;49m\r\n\t\u001b[31m# this code is duplicated from the load_unit and add_unit methods.      \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m c \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data[\u001b[32m\"tiles\"\u001b[39;49m]:\u001b[K\u001b[13;13H\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = c[\u001b[32m\"x\"\u001b[39;49m], c[\u001b[32m\"y\"\u001b[39;49m]\u001b[K\u001b[14;13H\u001b[33mterrain\u001b[39;49m = c[\u001b[32m\"terrain\"\u001b[39;49m]\u001b[K\u001b[15;13H\u001b[33mthis\u001b[39;49m = entities.Tile(terrain,rules[\u001b[32m\"terrain\"\u001b[39;49m][terrain])\u001b[16;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"team\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m c:\u001b[K\r\n\t\t\u001b[33mthis.team\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[c[\u001b[32m\"team\"\u001b[39;49m]]\u001b[18;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.change_tile(this, x, y)\u001b[K\u001b[19;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"unit\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m c:\r\n\t        \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m_process_units\u001b[0m\u001b[39;49m(udata):\u001b[K\r\n\t            \u001b[33mname\u001b[39;49m = udata[\u001b[32m\"name\"\u001b[39;49m]\r\n\t            \u001b[33mu\u001b[39;49m = entities.Unit(name, rules[\u001b[32m\"units\"\u001b[39;49m][name])\u001b[23;29H\u001b[7m17% L70\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h):\u001b[K\r\n\t    \u001b[33mrow\u001b[39;49m = []\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w):\u001b[K\r\n\t        row.append(\u001b[35mNone\u001b[39;49m)\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tiles.append(row)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.winners = []\u001b[K\r\n\u001b[K\u001b[11;11H\u001b[31mLoad the teams first, since cells and units reference them.     \u001b[39;49m\r\n\t\u001b[31m# Then set up the alliances.                                            \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data[\u001b[32m\"teams\"\u001b[39;49m]:\u001b[K\u001b[14;14H\u001b[33mhis\u001b[39;49m = entities.Team(t)\u001b[15;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams.append(this)\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m alist \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data.get(\u001b[32m\"allies\"\u001b[39;49m,[]):\u001b[17;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m a \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m alist:\u001b[K\u001b[18;13H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m alist:\u001b[K\u001b[19;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[a].allies.append( \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[b] )\r\n\u001b[K\n\t\u001b[31m# Load the terrain cells. The units are embedded in these elements      \u001b[39;49m\r\n\t\u001b[31m# of the dictionary. Note that when units are loaded in other units     \u001b[39;49m\r\n\u001b[23;30H\u001b[7m1% L51\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\u001b[?25lAuto-saving...\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\u001b[K\u001b[23;34H\u001b[?25l\u001b[7m49\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m39\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[A\t\u001b[?25l\u001b[31m# Load the terrain cells. The units are embedded in these elements      \u001b[39;49m\r\n\t\u001b[31m# of the dictionary. Note that when units are loaded in other units     \u001b[39;49m\r\n\t\u001b[31m# we, have to recursively dig them out.                                 \u001b[39;49m\r\n\t\u001b[31m#   x: (int) x position                                                 \u001b[39;49m\r\n\t\u001b[31m#   y: (int) y position                                                 \u001b[39;49m\r\n\t\u001b[31m#   name: (string) the name of the terrain                              \u001b[39;49m\r\n\t\u001b[31m#   unit: the unit on this terrain, if one                              \u001b[39;49m\r\n\t\u001b[31m#   team: (int) the team that owns the terrain, if any                  \u001b[39;49m\r\n\t\u001b[31m# We also make the sprite information for the units here. Note that     \u001b[39;49m\r\n\u001b[11;11H\u001b[31mthis code is duplicated from the load_unit and add_unit methods.\u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m c \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data[\u001b[32m\"tiles\"\u001b[39;49m]:\u001b[K\r\n\t    \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = c[\u001b[32m\"x\"\u001b[39;49m], c[\u001b[32m\"y\"\u001b[39;49m]\u001b[14;14H\u001b[33merrain\u001b[39;49m = c[\u001b[32m\"terrain\"\u001b[39;49m]\u001b[K\u001b[15;13H\u001b[33mthis\u001b[39;49m = entities.Tile(terrain,rules[\u001b[32m\"terrain\"\u001b[39;49m][terrain])\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"team\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m c:\u001b[K\u001b[17;13H    \u001b[33mthis.team\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[c[\u001b[32m\"team\"\u001b[39;49m]]\u001b[18;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.change_tile(this, x, y)\u001b[19;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"unit\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m c:\u001b[K\r\n\t\t\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m_process_units\u001b[0m\u001b[39;49m(udata):\r\n\t            \u001b[33mname\u001b[39;49m = udata[\u001b[32m\"name\"\u001b[39;49m]\u001b[K\r\n\t            \u001b[33mu\u001b[39;49m = entities.Unit(name, rules[\u001b[32m\"units\"\u001b[39;49m][name])\u001b[K\u001b[23;30H\u001b[7m7% L50\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h):\u001b[K\r\n\t    \u001b[33mrow\u001b[39;49m = []\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w):\u001b[K\r\n\t        row.append(\u001b[35mNone\u001b[39;49m)\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tiles.append(row)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.winners = []\u001b[K\r\n\u001b[K\u001b[11;11H\u001b[31mLoad the teams first, since cells and units reference them.     \u001b[39;49m\r\n\t\u001b[31m# Then set up the alliances.                                            \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data[\u001b[32m\"teams\"\u001b[39;49m]:\u001b[K\u001b[14;14H\u001b[33mhis\u001b[39;49m = entities.Team(t)\u001b[15;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams.append(this)\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m alist \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data.get(\u001b[32m\"allies\"\u001b[39;49m,[]):\u001b[17;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m a \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m alist:\u001b[K\u001b[18;13H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m alist:\u001b[K\u001b[19;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[a].allies.append( \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[b] )\r\n\u001b[K\n\t\u001b[31m# Load the terrain cells. The units are embedded in these elements      \u001b[39;49m\r\n\t\u001b[31m# of the dictionary. Note that when units are loaded in other units     \u001b[39;49m\r\n\u001b[23;30H\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m49\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[14;1H\u001b[1L\u001b[1;24r\u001b[13;1H\u001b[K\n\u001b[?25l        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data[\u001b[32m\"teams\"\u001b[39;49m]:\u001b[K\u001b[23;35H\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\b\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l[\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"                                                      \u001b[39;49m\r\n\u001b[32m        for t in data[\"\u001b[39;49mteams\u001b[32m\"]:                                                 \u001b[39;49m\r\n\u001b[13;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mm\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l\u001b[32m            this = entities.Team(t)                                             \u001b[39;49m\r\n\u001b[32m            self.teams.append(this)                                             \u001b[39;49m\r\n\u001b[32m        for alist in data.get(\"\u001b[39;49mallies\u001b[32m\",[]):                                     \u001b[39;49m\r\n\u001b[32m            for a in alist:                                                     \u001b[39;49m\r\n\u001b[32m                for b in alist:                                                 \u001b[39;49m\r\n\u001b[32m                    self.teams[a].allies.append( self.teams[b] )                \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[32m        # Load the terrain cells. The units are embedded in these elements      \u001b[39;49m\r\n\u001b[13;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m'\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data[\u001b[32m\"teams\"\u001b[39;49m]:\u001b[K\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l]\r\t\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/grid.py...\u001b[13;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/grid.py\u001b[K\u001b[13;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[2d\u001b[?25l\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[32m        # Load the terrain cells. The units are embedded in these elements      \u001b[39;49m\r\n\u001b[32m        # of the dictionary. Note that when units are loaded in other units     \u001b[39;49m\r\n\u001b[32m        # we, have to recursively dig them out.                                 \u001b[39;49m\r\n\u001b[32m        #   x: (int) x position                                                 \u001b[39;49m\r\n\u001b[32m        #   y: (int) y position                                                 \u001b[39;49m\r\n\t\u001b[31m#   name: (string) the name of the terrain                              \u001b[39;49m\r\n\t\u001b[31m#   unit: the unit on this terrain, if one                              \u001b[39;49m\r\n\t\u001b[31m#   team: (int) the team that owns the terrain, if any                  \u001b[39;49m\r\n\u001b[11;11H\u001b[31mWe also make the sprite information for the units here. Note that\u001b[39;49m\u001b[12;11H\u001b[31mthis code is duplicated from the load_unit and add_unit methods.\u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m c \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data[\u001b[32m\"tiles\"\u001b[39;49m]:\u001b[K\r\n\t    \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = c[\u001b[32m\"x\"\u001b[39;49m], c[\u001b[32m\"y\"\u001b[39;49m]\r\n            \u001b[33mterrain\u001b[39;49m = c[\u001b[32m\"terrain\"\u001b[39;49m]\u001b[K\r\n            \u001b[33mthis\u001b[39;49m = entities.Tile(terrain,rules[\u001b[32m\"terrain\"\u001b[39;49m][terrain])\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"team\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m c:\u001b[K\r\n                \u001b[33mthis.team\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[c[\u001b[32m\"team\"\u001b[39;49m]]\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.change_tile(this, x, y)\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"unit\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m c:\u001b[K\r\n                \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m_process_units\u001b[0m\u001b[39;49m(udata):\u001b[K\r\n                    \u001b[33mname\u001b[39;49m = udata[\u001b[32m\"name\"\u001b[39;49m]\u001b[K\u001b[23;30H\u001b[7m7% L50\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l                \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m_process_units\u001b[0m\u001b[39;49m(udata):\u001b[K\r\n                    \u001b[33mname\u001b[39;49m = udata[\u001b[32m\"name\"\u001b[39;49m]\u001b[K\r\n                    \u001b[33mu\u001b[39;49m = entities.Unit(name, rules[\u001b[32m\"units\"\u001b[39;49m][name])\u001b[K\r\n                    \u001b[33mu.team\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[udata[\u001b[32m\"team\"\u001b[39;49m]]\u001b[K\r\n                    \u001b[33mu.x\u001b[39;49m = x\u001b[K\r\n                    \u001b[33mu.y\u001b[39;49m = y\u001b[K\r\n\t            u.sprite.putc(u.icon,0,0,u.team.color,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mFalse\u001b[39;49m)\u001b[K\r\n\t            u.sprite.move_to(x,y)\u001b[K\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.add_sprite(u.sprite)\u001b[K\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units.append(u)\u001b[K\r\n\t            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m uc \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m udata.get(\u001b[32m\"carrying\"\u001b[39;49m,[]):\u001b[K\r\n\t                \u001b[33mcarriee\u001b[39;49m = _process_units(uc)\u001b[14;13H            u.carrying.append(carriee)\u001b[15;13H            \u001b[33mcarriee.x\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[16;13H            \u001b[33mcarriee.y\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[17;13H            carriee.sprite.hide()\r\n\t\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m u\u001b[K\u001b[19;13H    \u001b[33mthis.unit\u001b[39;49m = _process_units(c[\u001b[32m\"unit\"\u001b[39;49m])\r\n\u001b[K\n\t\u001b[31m# To start the game, end the turn. It will proceed to player 0.         \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day = 1\u001b[K\u001b[23;29H\u001b[7m24% L69\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[31m# To start the game, end the turn. It will proceed to player 0.         \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day = 1\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = []\u001b[K\r\n\u001b[K\u001b[7;5H\u001b[31m# Pump the alerts from the grid.                                            \u001b[39;49m\r\n\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33moldalerts\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = []\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m oldalerts\u001b[K\r\n\u001b[K\u001b[13;5H\u001b[31m# Get the tile and unit at X,Y                                              \u001b[39;49m\r\n\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mget_at\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m x >= 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m x < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m y >= 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m y < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h:\u001b[16;13H\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tiles[y][x]\u001b[K\u001b[17;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m t, t.unit\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m, \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[20;5H\u001b[31m# Get the tile at X,Y                                                       \u001b[39;49m\r\n\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtile_at\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[33mtile\u001b[39;49m, \u001b[33munit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_at(x, y)\u001b[23;29H\u001b[7m31% L88\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtile_at\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[33mtile\u001b[39;49m, \u001b[33munit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_at(x, y)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m tile\u001b[K\r\n\u001b[K\u001b[6;5H\u001b[31m# Get the tile of a unit                                                    \u001b[39;49m\r\n\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mutile\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, unit):\u001b[K\u001b[8;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m unit.x \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m unit.y \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[33mtile\u001b[39;49m, \u001b[33mtest\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_at(unit.x, unit.y)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m test \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m unit:\u001b[12;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Unit mismatch at %d,%d\"\u001b[39;49m%(unit.x,unit.y ))\u001b[13;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m tile\u001b[K\r\n\u001b[K\u001b[15;5H\u001b[31m# Get the unit at X,Y                                                       \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34munit_at\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[33mtile\u001b[39;49m, \u001b[33munit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_at(x, y)\r\n\t\t\bunit\u001b[K\u001b[20;11H\u001b[31mall tile objects.\u001b[39;49m\r\n\t\u001b[1m\u001b[34mall_tiles\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m = []\u001b[K\u001b[23;30H\u001b[7m6% L107\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[34mall_tiles\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w):\u001b[5;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h):\u001b[6;5H            \u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_at(x,y)\u001b[K\u001b[7;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t: report.append(t)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\u001b[K\u001b[10;5H\u001b[31m# Get an iterable range of all legal tile coordinates.                      \u001b[39;49m\r\n\u001b[11;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mall_tiles_xy\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w):\u001b[14;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h):\u001b[15;5H            \u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_at(x,y)\u001b[K\u001b[16;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t: report.append((x,y))\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\u001b[K\u001b[19;5H\u001b[31m# Get a range of coordinates, usually for an attack range. Coordinates      \u001b[39;49m\r\n\t\b\b\u001b[31mmay not actually be cells.\u001b[39;49m\r\n\t\u001b[1m\u001b[34mget_range\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, start, end=\u001b[35mNone\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m end \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\u001b[23;29H\u001b[7m40% L126\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[34mget_range\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, start, end=\u001b[35mNone\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m end \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\r\n\t    \u001b[33mend\u001b[39;49m = start\u001b[K\r\n\u001b[K\n\t\u001b[33mreport\u001b[39;49m = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m r \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(start,end+1):\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(r):\r\n\t\treport.append((x+(r-i),y+i    ))\u001b[10;5H            report.append((x-i    ,y+(r-i)))\u001b[K\u001b[11;5H            report.append((x-(r-i),y-i    ))\r\n\t        report.append((x+i    ,y-(r-i)))\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\u001b[K\u001b[15;5H\u001b[31m# Return distance (zero norm) between two points.                           \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdist\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, start, end):\u001b[K\r\n\t\u001b[33mx1\u001b[39;49m,\u001b[33my1\u001b[39;49m = sta\r\n\t\u001b[33mx2\u001b[39;49m,\u001b[33my2\u001b[39;49m = end\u001b[19;5H    \u001b[33mdx\u001b[39;49m = x1-x2\u001b[K\u001b[20;5H    \u001b[33mdy\u001b[39;49m = y1-y2\u001b[K\u001b[21;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (dx < 0): \u001b[33mdx\u001b[39;49m *= -1\u001b[K\u001b[22;12H(dy < 0): \u001b[33mdy\u001b[39;49m *= -1\n\u001b[7m5% L145\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (dx < 0): \u001b[33mdx\u001b[39;49m *= -1\u001b[K\u001b[3;12H(dy < 0): \u001b[33mdy\u001b[39;49m *= -1\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m dx+dy\u001b[K\u001b[6;5H\u001b[31m# Return the current team.                                                  \u001b[39;49m\r\n\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mcurrent_team\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn]\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m t\u001b[K\r\n\u001b[K\u001b[11;5H\u001b[31m# This ends the turn and passes play to the next player. All units are set  \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# to acive. If a player has won the game at this point, set the winner      \u001b[39;49m\r\n\u001b[13;5H\u001b[31m# variable.                                                                 \u001b[39;49m\r\n\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mend_turn\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[15;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\u001b[K\u001b[16;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = -1\u001b[K\r\n\u001b[K\n\t\u001b[31m# Select the next active player in the roster.                          \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m([t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]) == 0:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day += 1\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[33mflag\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[23;29H\u001b[7m50% L164\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[33mflag\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m flag \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn].active:\r\n\t\t\u001b[33mflag\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[6;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn += 1\u001b[K\u001b[7;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams):\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = 0\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day += 1\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units:\u001b[11;5H        \u001b[33mu.ready\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[12;5H        u.sprite.colorize(u.team.color,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mFalse\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[14;5H    \u001b[31m# Repair units and draw income.                                         \u001b[39;49m\r\n\t\u001b[33mcur\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.current_team()\r\n\t\u001b[33mmsg\u001b[39;49m = \u001b[32m\"Day %d - %s\\n%s, move out!\"\u001b[39;49m%(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name)\r\n\t\u001b[33mw\u001b[39;49m = widgets.Notification(0,0,\u001b[32m\"Day %d\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append(widgets.N)\u001b[K\u001b[19;12Hcur:\u001b[K\n\b\b\b\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tile \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.all_tiles():\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur:\u001b[22;13H        \u001b[33mu\u001b[39;49m = tile.unit\n\b\b\b\b\u001b[7m5% L183\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur:\u001b[3;13H        \u001b[33mu\u001b[39;49m = tile.unit\u001b[4;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair):\r\n\t\t        \u001b[33mu.fuel\u001b[39;49m = u.max_fuel\r\n\t\t        \u001b[33mu.ammo\u001b[39;49m = u.max_ammo\r\n\u001b[K\u001b[8;21H\u001b[31m# Repairing a unit forfeits that tile's income.             \u001b[39;49m\r\n\u001b[9;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.hp < 100\r\n\t                  \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair):\u001b[11;13H            \u001b[33mu.hp\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(100,u.hp+tile.repair[u.unit])\u001b[12;13H        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[33mcur.cash\u001b[39;49m += tile.income\r\n\u001b[K\n\t\u001b[31m# Determine the winning team (if one exists).                           \u001b[39;49m\r\n\t\u001b[33mwinner\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m at \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]:\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m ot \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]:\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m at.is_allied(ot):\u001b[20;13H        \u001b[33mwinner\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m winner:\u001b[K\n\b\b\b\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.winners = [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]\u001b[23;29H\u001b[7m60% L202\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m winner:\u001b[K\u001b[3;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.winners = [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]\r\n\u001b[K\u001b[5;5H\u001b[31m# Moves a unit from the old tile to the new tile. Will                      \u001b[39;49m\r\n\u001b[6;5H\u001b[31m# throw exception if move is illegal. CHECK FIRST.                          \u001b[39;49m\r\n\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mmove_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, unit, x, y):\r\n\t\u001b[33mtile\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.utile(unit)\u001b[K\r\n\t\u001b[33mtile.unit\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[33mtile\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tile_at(x, y)\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.unit:\u001b[K\u001b[12;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Tried to add unit to occupied tile %d,%d\"\u001b[39;49m%(x,y))\r\n\t\u001b[33mtile.unit\u001b[39;49m = unit\u001b[K\r\n\n\t\u001b[33munit.x\u001b[39;49m = x\u001b[K\r\n\t\u001b[33munit.y\u001b[39;49m = y\u001b[K\r\n\tunit.sprite.move_to(x,y)\u001b[K\r\n\u001b[K\u001b[19;5H\u001b[31m# This loads a unit into the other.                                         \u001b[39;49m\r\n\u001b[20;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mload_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, unit, carrier):\r\n\t\u001b[33mtile\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.utile(unit)\r\n\t\u001b[33mtile.unit\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[23;30H\u001b[7m7% L221\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[33mtile\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.utile(unit)\r\n\t\u001b[33mtile.unit\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\tcarrier.carrying.append(unit)\r\n\u001b[K\u001b[6;5H    \u001b[33munit.x\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[7;5H    \u001b[33munit.y\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\tunit.sprite.hide()\u001b[K\r\n\u001b[K\u001b[10;5H\u001b[31m# This unloads a unit onto a tile                                           \u001b[39;49m\r\n\u001b[11;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34munload_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, carrier, i, x, y):\r\n\t\u001b[33munit\u001b[39;49m = carrier.carrying.pop(i)\u001b[K\u001b[13;13H = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tile_at(x, y)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.unit:\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Tried to add unit to occupied tile %d,%d\"\u001b[39;49m%(x,y))\r\n\t\u001b[33mtile.unit\u001b[39;49m = unit\r\n\u001b[K\n\t\u001b[33munit.x\u001b[39;49m = x\u001b[19;5H    \u001b[33munit.y\u001b[39;49m = y\u001b[K\u001b[20;5H    unit.sprite.show()\u001b[K\r\n\tunit.sprite.move_to(x,y)\r\n\u001b[K\u001b[23;29H\u001b[7m72% L240\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lunit.sprite.move_to(x,y)\r\n\u001b[K\u001b[4;5H\u001b[31m# Add a unit to the game. Throws an exception if the tile                   \u001b[39;49m\r\n\u001b[5;5H\u001b[31m# does not exist or if the tile is occupied.                                \u001b[39;49m\r\n\u001b[6;5H\u001b[31m# This should be the ONLY WAY units are added to the game.                  \u001b[39;49m\r\n\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34madd_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, unit, team, x, y):\r\n\t\u001b[33mtile\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tile_at(x,y)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.unit:\u001b[10;5H        \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Tried to add unit to occupied tile %d,%d\"\u001b[39;49m%(x,y))\u001b[K\u001b[11;5H    \u001b[33mtile.unit\u001b[39;49m = unit\u001b[K\u001b[12;13H\u001b[33m.team\u001b[39;49m = team\u001b[K\r\n\t\u001b[33munit.x\u001b[39;49m = x\u001b[K\r\n\t\u001b[33munit.y\u001b[39;49m = y\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units.append(unit)\r\n\tunit.sprite.putc(unit.icon,0,0,team.color,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mFalse\u001b[39;49m)\r\n\tunit.sprite.move_to(x,y)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.add_sprite(unit.sprite)\r\n\u001b[K\u001b[21;5H\u001b[31m# Remove a unit from the game. This will not only remove the                \u001b[39;49m\r\n\u001b[22;5H\u001b[31m# unit, but all units that it is carrying.                                  \u001b[39;49m\r\n\u001b[23;30H\u001b[7m7% L259\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m# Remove a unit from the game. This will not only remove the                \u001b[39;49m\r\n\u001b[3;5H\u001b[31m# unit, but all units that it is carrying.                                  \u001b[39;49m\r\n\u001b[4;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mremove_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, unit):\u001b[K\u001b[5;5H    \u001b[33mtile\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.utile(unit)\u001b[K\u001b[6;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile:\u001b[K\u001b[7;5H        \u001b[33mtile.unit\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[9;12Hunit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units:\u001b[10;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units.remove(unit)\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m unit.get_carrying():\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units.remove(u)\r\n\t        u.sprite.kill()\r\n\tunit.sprite.kill()\r\n\u001b[K\u001b[17;5H\u001b[31m# This removes all entities from a team (done when the team is defeated).   \u001b[39;49m\r\n\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mpurge\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, team, structures=\u001b[35mFalse\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [u \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m team]:\u001b[20;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.remove_unit(u)\u001b[21;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m structures:\u001b[K\u001b[22;5H        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.all_tiles_xy():\u001b[K\u001b[23;29H\u001b[7m82% L278\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m structures:\u001b[K\u001b[3;5H        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.all_tiles_xy():\u001b[K\u001b[4;5H            \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tile_at(x,y)\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m team:\r\n\t            \u001b[33mt.team\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[7;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.change_tile(t,x,y)\u001b[9;5H\u001b[31m# Change a tile on the map.                                                 \u001b[39;49m\r\n\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mchange_tile\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, tile, x, y):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m x >= 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m x < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m y >= 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m y < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h:\u001b[12;13H\u001b[33moldtile\u001b[39;49m, \u001b[33munit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_at(x,y)\u001b[13;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tiles[y][x] = tile\u001b[K\u001b[14;13H\u001b[33mtile.unit\u001b[39;49m = unit\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.team:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.putc(tile.icon,x,y,tile.team.color,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mFalse\u001b[39;49m)\u001b[17;5H        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[18;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.putc(tile.icon,x,y,tile.color,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mFalse\u001b[39;49m)\r\n\u001b[K\u001b[20;5H\u001b[31m# TODO MAY NEED TO BE FIXED ITS POSSIBLE SO POSSIBLE                        \u001b[39;49m\r\n\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m = {}\u001b[K\u001b[23;30H\u001b[7m8% L297\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m = {}\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m[\u001b[32m\"name\"\u001b[39;49m] = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m[\u001b[32m\"allies\"\u001b[39;49m] = []\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m[\u001b[32m\"cells\"\u001b[39;49m] = []\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m[\u001b[32m\"teams\"\u001b[39;49m] = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams:\u001b[9;5H        \u001b[33mteam\u001b[39;49m = {}\u001b[K\u001b[10;5H        \u001b[33mteam\u001b[39;49m[\u001b[32m\"name\"\u001b[39;49m] = t.name\u001b[K\r\n\t    \u001b[33mteam\u001b[39;49m[\u001b[32m\"color\"\u001b[39;49m] = t.color\u001b[K\u001b[12;13Hreport[\u001b[32m\"teams\"\u001b[39;49m].append(team)\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m c \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid:\u001b[K\u001b[14;13H\u001b[33mcell\u001b[39;49m = {}\u001b[K\u001b[15;13Hcell[\u001b[32m\"x\"\u001b[39;49m],\u001b[33mcell\u001b[39;49m[\u001b[32m\"y\"\u001b[39;49m] = c\u001b[16;13H\u001b[33mcd\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid[c]\u001b[K\u001b[17;13H\u001b[33mcell\u001b[39;49m[\u001b[32m\"name\"\u001b[39;49m] = cd.name\u001b[18;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cd.team:\u001b[K\r\n\t\t\u001b[33mcell\u001b[39;49m[\u001b[32m\"team\"\u001b[39;49m] = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams.index(cd.team)\u001b[20;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cd.unit:\u001b[K\u001b[21;5H            \u001b[33mcell\u001b[39;49m[\u001b[32m\"unit\"\u001b[39;49m] = {}\r\n\t        cell[\u001b[32m\"unit\"\u001b[39;49m][\u001b[32m\"name\"\u001b[39;49m] = cd.unit.name\u001b[23;29H\u001b[7m94% L316\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l            \u001b[33mcell\u001b[39;49m[\u001b[32m\"unit\"\u001b[39;49m] = {}\r\n\t        cell[\u001b[32m\"unit\"\u001b[39;49m][\u001b[32m\"name\"\u001b[39;49m] = cd.unit.name\r\n\t        cell[\u001b[32m\"unit\"\u001b[39;49m][\u001b[32m\"team\"\u001b[39;49m] = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams.index(cd.unit.team)\r\n\t        \u001b[31m# TODO fix carrying!                                            \u001b[39;49m\r\n\t    report[\u001b[32m\"cells\"\u001b[39;49m].append(cell)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L335\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m = {}\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m[\u001b[32m\"name\"\u001b[39;49m] = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m[\u001b[32m\"allies\"\u001b[39;49m] = []\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m[\u001b[32m\"cells\"\u001b[39;49m] = []\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m[\u001b[32m\"teams\"\u001b[39;49m] = []\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams:\u001b[9;13H\u001b[33mteam\u001b[39;49m = {}\u001b[10;13H\u001b[33mteam\u001b[39;49m[\u001b[32m\"name\"\u001b[39;49m] = t.name\u001b[11;13H\u001b[33mteam\u001b[39;49m[\u001b[32m\"color\"\u001b[39;49m] = t.color\u001b[12;13Hreport[\u001b[32m\"teams\"\u001b[39;49m].append(team)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m c \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid:\u001b[14;13H\u001b[33mcell\u001b[39;49m = {}\u001b[15;13Hcell[\u001b[32m\"x\"\u001b[39;49m],\u001b[33mcell\u001b[39;49m[\u001b[32m\"y\"\u001b[39;49m] = c\u001b[16;13H\u001b[33mcd\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid[c]\u001b[17;13H\u001b[33mcell\u001b[39;49m[\u001b[32m\"name\"\u001b[39;49m] = cd.name\u001b[18;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cd.team:\r\n\t\t\u001b[33mcell\u001b[39;49m[\u001b[32m\"team\"\u001b[39;49m] = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams.index(cd.team)\u001b[20;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cd.unit:\r\n\t\t\u001b[33mcell\u001b[39;49m[\u001b[32m\"unit\"\u001b[39;49m] = {}\r\n\t\tcell[\u001b[32m\"unit\"\u001b[39;49m][\u001b[32m\"name\"\u001b[39;49m] = cd.unit.name\u001b[23;29H\u001b[7m94%\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m structures:\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.all_tiles_xy():\r\n\t        \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tile_at(x,y)\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m team:\r\n\t            \u001b[33mt.team\u001b[39;49m = \u001b[35mNone\u001b[39;49m\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.change_tile(t,x,y)\r\n\u001b[K\u001b[9;5H\u001b[31m# Change a tile on the map.                                                 \u001b[39;49m\r\n\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mchange_tile\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, tile, x, y):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m x >= 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m x < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m y >= 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m y < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h:\u001b[12;13H\u001b[33moldtile\u001b[39;49m, \u001b[33munit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_at(x,y)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tiles[y][x] = tile\u001b[14;13H\u001b[33mtile.unit\u001b[39;49m = unit\u001b[15;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.team:\u001b[K\u001b[16;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.putc(tile.icon,x,y,tile.team.color,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mFalse\u001b[39;49m)\u001b[17;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b\b    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.putc(tile.icon,x,y,tile.color,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mFalse\u001b[39;49m)\r\n\u001b[K\u001b[20;5H\u001b[31m# TODO MAY NEED TO BE FIXED ITS POSSIBLE SO POSSIBLE                        \u001b[39;49m\r\n\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m = {}\u001b[K\u001b[23;29H\u001b[7m88% L317\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m# Remove a unit from the game. This will not only remove the                \u001b[39;49m\r\n\u001b[3;5H\u001b[31m# unit, but all units that it is carrying.                                  \u001b[39;49m\r\n\u001b[4;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mremove_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, unit):\u001b[K\r\n\t\u001b[33mtile\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.utile(unit)\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile:\u001b[K\n\b\b\b\b\u001b[33mtile.unit\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[9;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units:\u001b[K\u001b[10;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units.remove(unit)\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m unit.get_carrying():\u001b[K\u001b[12;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units:\u001b[K\u001b[13;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units.remove(u)\u001b[14;13H    u.sprite.kill()\r\n\tunit.sprite.kill()\r\n\u001b[K\u001b[17;5H\u001b[31m# This removes all entities from a team (done when the team is defeated).   \u001b[39;49m\r\n\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mpurge\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, team, structures=\u001b[35mFalse\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [u \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m team]:\u001b[20;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.remove_unit(u)\u001b[K\u001b[21;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m structures:\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.all_tiles_xy():\u001b[23;30H\u001b[7m2% L298\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    unit.sprite.move_to(x,y)\u001b[K\r\n\u001b[K\u001b[4;5H\u001b[31m# Add a unit to the game. Throws an exception if the tile                   \u001b[39;49m\r\n\u001b[5;5H\u001b[31m# does not exist or if the tile is occupied.                                \u001b[39;49m\r\n\u001b[6;5H\u001b[31m# This should be the ONLY WAY units are added to the game.                  \u001b[39;49m\r\n\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34madd_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, unit, team, x, y):\r\n\t\u001b[33mtile\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tile_at(x,y)\u001b[9;12Htile.unit:\u001b[K\u001b[10;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Tried to add unit to occupied tile %d,%d\"\u001b[39;49m%(x,y))\r\n\t\u001b[33mtile.unit\u001b[39;49m = unit\u001b[K\r\n\t\u001b[33munit.team\u001b[39;49m = team\u001b[K\r\n\t\u001b[33munit.x\u001b[39;49m = x\u001b[K\r\n\t\u001b[33munit.y\u001b[39;49m = y\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units.append(unit)\u001b[17;5H    unit.sprite.putc(unit.icon,0,0,team.color,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mFalse\u001b[39;49m)\u001b[K\u001b[18;5H    unit.sprite.move_to(x,y)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.add_sprite(unit.sprite)\u001b[K\r\n\u001b[K\u001b[21;5H\u001b[31m# Remove a unit from the game. This will not only remove the                \u001b[39;49m\r\n\u001b[22;5H\u001b[31m# unit, but all units that it is carrying.                                  \u001b[39;49m\r\n\u001b[23;29H\u001b[7m77% L279\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[33mtile\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.utile(unit)\u001b[K\r\n\t\u001b[33mtile.unit\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[4;5H    carrier.carrying.append(unit)\u001b[K\r\n\u001b[K\u001b[6;5H    \u001b[33munit.x\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[7;5H    \u001b[33munit.y\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\tunit.sprite.hide()\u001b[K\r\n\u001b[K\u001b[10;5H\u001b[31m# This unloads a unit onto a tile                                           \u001b[39;49m\r\n\u001b[11;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34munload_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, carrier, i, x, y):\u001b[12;13H = carrier.carrying.pop(i)\r\n\t\u001b[33mtile\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tile_at(x, y)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.unit:\u001b[15;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Tried to add unit to occupied tile %d,%d\"\u001b[39;49m%(x,y))\r\n\t\u001b[33mtile.unit\u001b[39;49m = unit\u001b[K\r\n\u001b[K\n\t\u001b[33munit.x\u001b[39;49m = x\u001b[K\r\n\t\u001b[33munit.y\u001b[39;49m = y\u001b[K\r\n\tunit.sprite.show()\u001b[21;5H    unit.sprite.move_to(x,y)\u001b[K\r\n\u001b[K\u001b[23;30H\u001b[7m2% L260\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m winner:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.winners = [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]\r\n\u001b[K\u001b[5;5H\u001b[31m# Moves a unit from the old tile to the new tile. Will                      \u001b[39;49m\r\n\u001b[6;5H\u001b[31m# throw exception if move is illegal. CHECK FIRST.                          \u001b[39;49m\r\n\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mmove_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, unit, x, y):\r\n\t\u001b[33mtile\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.utile(unit)\r\n\t\u001b[33mtile.unit\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[10;5H    \u001b[33mtile\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tile_at(x, y)\u001b[K\u001b[11;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.unit:\u001b[K\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Tried to add unit to occupied tile %d,%d\"\u001b[39;49m%(x,y))\u001b[13;13H\u001b[33m.unit\u001b[39;49m = unit\u001b[K\r\n\u001b[K\n\t\u001b[33munit.x\u001b[39;49m = x\u001b[K\r\n\t\u001b[33munit.y\u001b[39;49m = y\u001b[K\r\n\tunit.sprite.move_to(x,y)\r\n\u001b[K\u001b[19;5H\u001b[31m# This loads a unit into the other.                                         \u001b[39;49m\r\n\u001b[20;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mload_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, unit, carrier):\r\n\t\u001b[33mtile\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.utile(unit)\u001b[K\r\n\t\u001b[33mtile.unit\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[23;29H\u001b[7m67% L241\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur:\u001b[3;13H        \u001b[33mu\u001b[39;49m = tile.unit\u001b[K\u001b[4;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair):\u001b[5;5H                    \u001b[33mu.fuel\u001b[39;49m = u.max_fuel\u001b[K\u001b[6;5H                    \u001b[33mu.ammo\u001b[39;49m = u.max_ammo\u001b[K\r\n\u001b[K\n\t            \u001b[31m# Repairing a unit forfeits that tile's income.             \u001b[39;49m\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.hp < 100\r\n\t                  \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair):\r\n\t                \u001b[33mu.hp\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(100,u.hp+tile.repair[u.unit])\u001b[12;13H        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t                \u001b[33mcur.cash\u001b[39;49m += tile.income\r\n\n\t\u001b[31m# Determine the winning team (if one exists).                           \u001b[39;49m\r\n\t\u001b[33mwinner\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m at \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]:\u001b[18;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m ot \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]:\u001b[19;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m at.is_allied(ot):\u001b[K\u001b[20;5H                \u001b[33mwinner\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m winner:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.winners = [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]\u001b[23;30H\u001b[7m0% L222\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[33mflag\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[4;13H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m flag \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn].active:\u001b[K\r\n\t\t\u001b[33mflag\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn += 1\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams):\u001b[8;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = 0\u001b[K\u001b[9;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day += 1\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units:\u001b[K\u001b[11;13H\u001b[33mu.ready\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[12;13Hu.sprite.colorize(u.team.color,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mFalse\u001b[39;49m)\r\n\u001b[K\n\t\u001b[31m# Repair units and draw income.                                         \u001b[39;49m\r\n\t\u001b[33mcur\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.current_team()\u001b[K\r\n\t\u001b[33mmsg\u001b[39;49m = \u001b[32m\"Day %d - %s\\n%s, move out!\"\u001b[39;49m%(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name)\r\n\t\u001b[33mw\u001b[39;49m = widgets.Notification(0,0,\u001b[32m\"Day %d\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append(widgets.N)\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cur:\u001b[K\n\b\b\b\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tile \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.all_tiles():\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur:\u001b[22;13H        \u001b[33mu\u001b[39;49m = tile.unit\u001b[K\n\b\b\b\b\b\u001b[7m55% L203\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (dx < 0): \u001b[33mdx\u001b[39;49m *= -1\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (dy < 0): \u001b[33mdy\u001b[39;49m *= -1\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m dx+dy\u001b[K\r\n\u001b[K\u001b[6;5H\u001b[31m# Return the current team.                                                  \u001b[39;49m\r\n\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mcurrent_team\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn]\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m t\u001b[K\r\n\u001b[K\u001b[11;5H\u001b[31m# This ends the turn and passes play to the next player. All units are set  \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# to acive. If a player has won the game at this point, set the winner      \u001b[39;49m\r\n\u001b[13;5H\u001b[31m# variable.                                                                 \u001b[39;49m\r\n\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mend_turn\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = -1\u001b[K\r\n\u001b[K\n\t\u001b[31m# Select the next active player in the roster.                          \u001b[39;49m\r\n\u001b[19;12H\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m([t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]) == 0:\u001b[20;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day += 1\u001b[K\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[33mflag\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[23;30H\u001b[7m0% L184\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[33mflag\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m flag \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn].active:\r\n\t\t\u001b[33mflag\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[6;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn += 1\u001b[K\u001b[7;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams):\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = 0\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day += 1\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units:\u001b[11;5H        \u001b[33mu.ready\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[12;5H        u.sprite.colorize(u.team.color,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mFalse\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[14;5H    \u001b[31m# Repair units and draw income.                                         \u001b[39;49m\r\n\t\u001b[33mcur\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.current_team()\r\n\t\u001b[33mmsg\u001b[39;49m = \u001b[32m\"Day %d - %s\\n%s, move out!\"\u001b[39;49m%(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name)\r\n\t\u001b[33mw\u001b[39;49m = widgets.Notification(0,0,\u001b[32m\"Day %d\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append(widgets.N)\u001b[K\u001b[19;12Hcur:\u001b[K\n\b\b\b\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tile \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.all_tiles():\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur:\u001b[22;13H        \u001b[33mu\u001b[39;49m = tile.unit\n\b\b\b\b\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m90\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[16;65H\b\b\t\b\u001b[?25l,)\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;65H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l )\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[24;1H\u001b[?25lAuto-saving...\u001b[17;46H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[17;46H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[17;45H\u001b[?25l\u001b[32m)                                   \u001b[39;49m\r\n\u001b[32m        self.alerts.append(widgets.N)                                           \u001b[39;49m\r\n\u001b[17;45H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m) \u001b[39;49m\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m) \u001b[39;49m\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m) \u001b[39;49m\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m) \u001b[39;49m\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m) \u001b[39;49m\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m) \u001b[39;49m\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append(widgets.N)\u001b[K\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l2)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/grid.py...\u001b[17;46H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/grid.py\u001b[K\u001b[17;46H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;46H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[17;46H\u001b[?25l2)\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr)\u001b[23;30H\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;59H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/grid.py...\u001b[17;59H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/grid.py\u001b[K\u001b[17;59H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;59H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\nTraceback (most recent call last):\r\n  File \"./rules-of-war.py\", line 6, in <module>\r\n    from core import shell\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 9, in <module>\r\n    from . import storage, session\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/session.py\", line 6, in <module>\r\n    from . import grid, rules, widgets\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/grid.py\", line 10, in <module>\r\n    from . import entities, widgets, log\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/widgets.py\", line 57, in <module>\r\n    class Notification(sprites.Sprite):\r\nNameError: name 'sprites' is not defined\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n            \u001b[33mflag\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n            \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m flag \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn].active:\u001b[K\r\n                \u001b[33mflag\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn += 1\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams):\u001b[K\r\n                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = 0\u001b[K\r\n                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day += 1\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units:\u001b[K\r\n            \u001b[33mu.ready\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n            u.sprite.colorize(u.team.color,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mFalse\u001b[39;49m)\u001b[K\r\n\u001b[K\n        \u001b[31m# Repair units and draw income.                                         \u001b[39;49m\r\n\u001b[A\n        \u001b[33mcur\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.current_team()\u001b[K\r\n        \u001b[33mmsg\u001b[39;49m = \u001b[32m\"Day %d - %s\\n%s, move out!\"\u001b[39;49m%(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name, cur.name)\u001b[K\r\n        \u001b[33mw\u001b[39;49m = widgets.Notification(0,0,msg,200,200,cur.color)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append(widgets.N)\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cur:\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tile \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.all_tiles():\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur:\u001b[K\r\n                    \u001b[33mu\u001b[39;49m = tile.unit\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mgrid.py     \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   54% L198  Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[17;59H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default widgets.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[2;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\r\n\u001b[K\n\u001b[K\n\u001b[31m# Notifications are just sprites that are created with a message. This is a     \u001b[39;49m\r\n\u001b[31m# very low-level sort of behavior that I'm not crazy about, but we'll tolerate  \u001b[39;49m\r\n\u001b[31m# it for now.                                                                   \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mNotification\u001b[39;49m(sprites.Sprite):\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, layer, timeout, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[33mlines\u001b[39;49m = s.splitlines()\r\n\t\u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\u001b[K\r\n\t\u001b[33mw\u001b[39;49m = 0\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\u001b[K\r\n\t        \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\u001b[K\u001b[17;11H+= 2\u001b[K\r\n\t\u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Notification, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(x, y, w, h, layer, timeout)\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines)\u001b[22;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.blit(draw.text(0,0,l,fg,bg),1,1+i)\u001b[23;14H\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   71% L56 \u001b[0m\u001b[39;49m\u001b[27m\u001b[8;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m# This method takes the return value of gfx.get_input and handles           \u001b[39;49m\r\n\u001b[3;5H\u001b[31m# it. If a menu item is selected via Enter or keyboard shortcut,            \u001b[39;49m\r\n\u001b[4;5H\u001b[31m# that option is returned.                                                  \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\r\n        \u001b[33mi\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: i -= 1\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: i += 1\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i != \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index:\u001b[K\u001b[10;5H        i = i%\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items)\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor.move_to(1,i+1)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index = i\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\r\n\t    report = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\u001b[15;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[16;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\r\n\u001b[K\u001b[19;5H\u001b[31m# This function just reports what value is being hovered over.              \u001b[39;49m\r\n\u001b[20;5H\u001b[31m# This can be used for tooltips.                                            \u001b[39;49m\r\n\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\u001b[K\u001b[23;29H\u001b[7m43% L51\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mMenu\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[3;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, items):\u001b[K\u001b[4;5H    \u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(items)\u001b[K\u001b[5;5H    \u001b[33mw\u001b[39;49m = 0\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m items:\r\n\t    \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(s),w)\r\n\u001b[K\n\t\u001b[31m# Set up the window.                                                    \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.border(0,0,w+2,h+2)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.layer = 200\u001b[K\r\n\t\u001b[33mi\u001b[39;49m = 1\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m items:\u001b[K\u001b[14;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,s),1,i)\u001b[15;13H\u001b[33mi\u001b[39;49m += 1\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = draw.fill(1,1,w,1,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index = 0\u001b[19;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items = items\u001b[K\r\n\u001b[K\u001b[21;5H\u001b[31m# This method takes the return value of gfx.get_input and handles           \u001b[39;49m\r\n\u001b[22;5H\u001b[31m# it. If a menu item is selected via Enter or keyboard shortcut,            \u001b[39;49m\r\n\u001b[23;29H\u001b[7m22% L32\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l\u001b[31m# Widgets are GUI elements that can be interacted with and drawn on the         \u001b[39;49m\r\n\u001b[31m# screen. When a widget is created, its sprite should be added to the           \u001b[39;49m\r\n\u001b[31m# appropriate sprite for rendering.                                             \u001b[39;49m\r\n\u001b[K\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m graphics \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m draw\r\n\u001b[K\n\u001b[31m# Menus are the prime example of a widget. They capture input - pressing        \u001b[39;49m\r\n\u001b[8P\u001b[9;3H\u001b[31man arrow key moves the highlighted line of text, and pressi\u001b[39;49m\u001b[8@\u001b[31mng enter\u001b[39;49m\r\n\u001b[31m# will cause the interaction to return the string of the menu. Keyboard         \u001b[39;49m\r\n\u001b[31m# shortcuts will automatically be assigned based on the first letter of         \u001b[39;49m\r\n\u001b[31m# an option.                                                                    \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mMenu\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, items):\u001b[K\r\n\t\u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(items)\r\n\t\u001b[33mw\u001b[39;49m = 0\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m items:\u001b[K\r\n\t    \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(s),w)\r\n\u001b[K\n\t\u001b[31m# Set up the window.                                                    \u001b[39;49m\r\n\u001b[21;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.border(0,0,w+2,h+2)\u001b[K\u001b[22;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.layer = 200\u001b[K\n\b\b\b\u001b[7mTop L21\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\n\n\u001b[?25lBeginning of buffer\u001b[22;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u0007\u0007\u0007\u0007\u0007\u0007\n\n\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m19\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m9 \u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/widgets.py...\u001b[6;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/widgets.py\u001b[K\u001b[6;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\nTraceback (most recent call last):\r\n  File \"./rules-of-war.py\", line 8, in <module>\r\n    S = shell.Shell(*sys.argv)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 31, in __init__\r\n    self.game = session.Session(json.loads(storage.read_data(\"maps\",\"Intro.json\")))\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/session.py\", line 39, in __init__\r\n    self.grid.end_turn()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/grid.py\", line 198, in end_turn\r\n    w = widgets.Notification(0,0,msg,200,200,cur.color)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/widgets.py\", line 68, in __init__\r\n    self.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/sprites.py\", line 241, in blit\r\n    self.surface[b][a] = other.surface[j][i].mix()\r\nAttributeError: 'NoneType' object has no attribute 'mix'\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n\u001b[31m# Widgets are GUI elements that can be interacted with and drawn on the         \u001b[39;49m\r\n\u001b[A\n\u001b[31m# screen. When a widget is created, its sprite should be added to the           \u001b[39;49m\r\n\u001b[A\n\u001b[31m# appropriate sprite for rendering.                                             \u001b[39;49m\r\n\u001b[A\n\u001b[K\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m graphics \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m draw, sprites\u001b[K\r\n\u001b[K\n\u001b[31m# Menus are the prime example of a widget. They capture input - pressing        \u001b[39;49m\r\n\u001b[A\n\u001b[31m# an arrow key moves the highlighted line of text, and pressing enter           \u001b[39;49m\r\n\u001b[A\n\u001b[31m# will cause the interaction to return the string of the menu. Keyboard         \u001b[39;49m\r\n\u001b[A\n\u001b[31m# shortcuts will automatically be assigned based on the first letter of         \u001b[39;49m\r\n\u001b[A\n\u001b[31m# an option.                                                                    \u001b[39;49m\r\n\u001b[A\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mMenu\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, items):\u001b[K\r\n        \u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(items)\u001b[K\r\n        \u001b[33mw\u001b[39;49m = 0\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m items:\u001b[K\r\n            \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(s),w)\u001b[K\r\n\u001b[K\n        \u001b[31m# Set up the window.                                                    \u001b[39;49m\r\n\u001b[A\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.border(0,0,w+2,h+2)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.layer = 200\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Top L5    Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[6;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.border(0,0,w+2,h+2)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.layer = 200\u001b[K\r\n        \u001b[33mi\u001b[39;49m = 1\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m items:\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,s),1,i)\u001b[7;13H\u001b[33mi\u001b[39;49m += 1\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = draw.fill(1,1,w,1,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index = 0\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items = items\u001b[K\r\n\u001b[K\n    \u001b[31m# This method takes the return value of gfx.get_input and handles           \u001b[39;49m\r\n\u001b[14;5H\u001b[31m# it. If a menu item is selected via Enter or keyboard shortcut,            \u001b[39;49m\r\n\u001b[15;5H\u001b[31m# that option is returned.                                                  \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\r\n\t\u001b[33mi\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: i -= 1\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: i += 1\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i != \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index:\u001b[K\r\n\t    i = i%\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items)\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor.move_to(1,i+1)\u001b[23;29H\u001b[7m29% L20\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l    i = i%\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items)\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor.move_to(1,i+1)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index = i\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[6;13Hreport = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\u001b[K\u001b[7;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[11;5H\u001b[31m# This function just reports what value is being hovered over.              \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# This can be used for tooltips.                                            \u001b[39;49m\r\n\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\u001b[14;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# Notifications are just sprites that are created with a message. This is a     \u001b[39;49m\r\n\u001b[31m# very low-level sort of behavior that I'm not crazy about, but we'll tolerate  \u001b[39;49m\r\n\u001b[31m# it for now.                                                                   \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mNotification\u001b[39;49m(sprites.Sprite):\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, layer, timeout, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[K\n\b\b\u001b[7m56% L39\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, layer, timeout, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[K\r\n\t\u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\u001b[K\r\n\t\u001b[33mw\u001b[39;49m = 0\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[K\u001b[7;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\u001b[K\u001b[8;13H    \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\r\n\t\u001b[33mw\u001b[39;49m += 2\u001b[K\r\n\t\u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Notification, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(x, y, w, h, layer, timeout)\r\n\u001b[K\u001b[12;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\u001b[K\u001b[13;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.blit(draw.text(0,0,l,fg,bg),1,1+i)\r\n\n\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L58\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l        i = i%\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items)\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor.move_to(1,i+1)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index = i\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\r\n\t    report = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\u001b[7;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[8;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\r\n\u001b[K\u001b[11;5H\u001b[31m# This function just reports what value is being hovered over.              \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# This can be used for tooltips.                                            \u001b[39;49m\r\n\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\u001b[K\r\n\n\n\u001b[31m# Notifications are just sprites that are created with a message. This is a     \u001b[39;49m\r\n\u001b[31m# very low-level sort of behavior that I'm not crazy about, but we'll tolerate  \u001b[39;49m\r\n\u001b[31m# it for now.                                                                   \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mNotification\u001b[39;49m(sprites.Sprite):\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, layer, timeout, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[33mlines\u001b[39;49m = s.splitlines()\n\b\b\u001b[7m56%\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.border(0,0,w+2,h+2)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.layer = 200\u001b[K\r\n\t\u001b[33mi\u001b[39;49m = 1\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m items:\u001b[K\u001b[6;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,s),1,i)\u001b[7;13H\u001b[33mi\u001b[39;49m += 1\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = draw.fill(1,1,w,1,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index = 0\u001b[11;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items = items\u001b[K\r\n\u001b[K\u001b[13;5H\u001b[31m# This method takes the return value of gfx.get_input and handles           \u001b[39;49m\r\n\u001b[14;5H\u001b[31m# it. If a menu item is selected via Enter or keyboard shortcut,            \u001b[39;49m\r\n\u001b[15;5H\u001b[31m# that option is returned.                                                  \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\r\n        \u001b[33mi\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: i -= 1\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: i += 1\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i != \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index:\u001b[K\u001b[21;5H        i = i%\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items)\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor.move_to(1,i+1)\u001b[23;29H\u001b[7m29% L40\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l\u001b[31m# Widgets are GUI elements that can be interacted with and drawn on the         \u001b[39;49m\r\n\u001b[31m# screen. When a widget is created, its sprite should be added to the           \u001b[39;49m\r\n\u001b[31m# appropriate sprite for rendering.                                             \u001b[39;49m\r\n\u001b[K\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m graphics \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m draw, sprites\u001b[K\r\n\u001b[K\n\u001b[31m# Menus are the prime example of a widget. They capture input - pressing        \u001b[39;49m\r\n\u001b[31m# an arrow key moves the highlighted line of text, and pressing enter           \u001b[39;49m\r\n\u001b[31m# will cause the interaction to return the string of the menu. Keyboard         \u001b[39;49m\r\n\u001b[31m# shortcuts will automatically be assigned based on the first letter of         \u001b[39;49m\r\n\u001b[31m# an option.                                                                    \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mMenu\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, items):\u001b[K\u001b[15;5H    \u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(items)\u001b[K\u001b[16;5H    \u001b[33mw\u001b[39;49m = 0\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m items:\r\n\t    \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(s),w)\r\n\u001b[K\n\t\u001b[31m# Set up the window.                                                    \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.border(0,0,w+2,h+2)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.layer = 200\u001b[K\n\b\b\b\u001b[7mTop L21\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.border(0,0,w+2,h+2)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.layer = 200\u001b[K\r\n        \u001b[33mi\u001b[39;49m = 1\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m items:\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,s),1,i)\u001b[7;13H\u001b[33mi\u001b[39;49m += 1\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = draw.fill(1,1,w,1,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index = 0\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items = items\u001b[K\r\n\u001b[K\n    \u001b[31m# This method takes the return value of gfx.get_input and handles           \u001b[39;49m\r\n\u001b[14;5H\u001b[31m# it. If a menu item is selected via Enter or keyboard shortcut,            \u001b[39;49m\r\n\u001b[15;5H\u001b[31m# that option is returned.                                                  \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\r\n\t\u001b[33mi\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: i -= 1\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: i += 1\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i != \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index:\u001b[K\r\n\t    i = i%\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items)\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor.move_to(1,i+1)\u001b[23;29H\u001b[7m29%\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[A\t\u001b[?25l    i = i%\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items)\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor.move_to(1,i+1)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index = i\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[6;13Hreport = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\u001b[K\u001b[7;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[11;5H\u001b[31m# This function just reports what value is being hovered over.              \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# This can be used for tooltips.                                            \u001b[39;49m\r\n\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\u001b[14;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# Notifications are just sprites that are created with a message. This is a     \u001b[39;49m\r\n\u001b[31m# very low-level sort of behavior that I'm not crazy about, but we'll tolerate  \u001b[39;49m\r\n\u001b[31m# it for now.                                                                   \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mNotification\u001b[39;49m(sprites.Sprite):\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, layer, timeout, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[K\n\b\b\u001b[7m56% L39\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.border(0,0,w+2,h+2)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.layer = 200\u001b[K\r\n\t\u001b[33mi\u001b[39;49m = 1\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m items:\u001b[K\u001b[6;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,s),1,i)\u001b[7;13H\u001b[33mi\u001b[39;49m += 1\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = draw.fill(1,1,w,1,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index = 0\u001b[11;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items = items\u001b[K\r\n\u001b[K\u001b[13;5H\u001b[31m# This method takes the return value of gfx.get_input and handles           \u001b[39;49m\r\n\u001b[14;5H\u001b[31m# it. If a menu item is selected via Enter or keyboard shortcut,            \u001b[39;49m\r\n\u001b[15;5H\u001b[31m# that option is returned.                                                  \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\r\n        \u001b[33mi\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: i -= 1\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: i += 1\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i != \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index:\u001b[K\u001b[21;5H        i = i%\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items)\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor.move_to(1,i+1)\u001b[23;29H\u001b[7m29\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l\u001b[31m# Widgets are GUI elements that can be interacted with and drawn on the         \u001b[39;49m\r\n\u001b[31m# screen. When a widget is created, its sprite should be added to the           \u001b[39;49m\r\n\u001b[31m# appropriate sprite for rendering.                                             \u001b[39;49m\r\n\u001b[K\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m graphics \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m draw, sprites\u001b[K\r\n\u001b[K\n\u001b[31m# Menus are the prime example of a widget. They capture input - pressing        \u001b[39;49m\r\n\u001b[31m# an arrow key moves the highlighted line of text, and pressing enter           \u001b[39;49m\r\n\u001b[31m# will cause the interaction to return the string of the menu. Keyboard         \u001b[39;49m\r\n\u001b[31m# shortcuts will automatically be assigned based on the first letter of         \u001b[39;49m\r\n\u001b[31m# an option.                                                                    \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mMenu\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, items):\u001b[K\u001b[15;5H    \u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(items)\u001b[K\u001b[16;5H    \u001b[33mw\u001b[39;49m = 0\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m items:\r\n\t    \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(s),w)\r\n\u001b[K\n\t\u001b[31m# Set up the window.                                                    \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.border(0,0,w+2,h+2)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.layer = 200\u001b[K\n\b\b\b\u001b[7mTop L21\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.border(0,0,w+2,h+2)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.layer = 200\u001b[K\r\n        \u001b[33mi\u001b[39;49m = 1\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m items:\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,s),1,i)\u001b[7;13H\u001b[33mi\u001b[39;49m += 1\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = draw.fill(1,1,w,1,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index = 0\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items = items\u001b[K\r\n\u001b[K\n    \u001b[31m# This method takes the return value of gfx.get_input and handles           \u001b[39;49m\r\n\u001b[14;5H\u001b[31m# it. If a menu item is selected via Enter or keyboard shortcut,            \u001b[39;49m\r\n\u001b[15;5H\u001b[31m# that option is returned.                                                  \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\r\n\t\u001b[33mi\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: i -= 1\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: i += 1\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i != \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index:\u001b[K\r\n\t    i = i%\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items)\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor.move_to(1,i+1)\u001b[23;29H\u001b[7m29%\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[A\t\u001b[?25l    i = i%\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items)\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor.move_to(1,i+1)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index = i\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[6;13Hreport = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\u001b[K\u001b[7;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[11;5H\u001b[31m# This function just reports what value is being hovered over.              \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# This can be used for tooltips.                                            \u001b[39;49m\r\n\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\u001b[14;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# Notifications are just sprites that are created with a message. This is a     \u001b[39;49m\r\n\u001b[31m# very low-level sort of behavior that I'm not crazy about, but we'll tolerate  \u001b[39;49m\r\n\u001b[31m# it for now.                                                                   \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mNotification\u001b[39;49m(sprites.Sprite):\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, layer, timeout, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[K\n\b\b\u001b[7m56% L39\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m40\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, layer, timeout, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[K\r\n\t\u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\u001b[K\r\n\t\u001b[33mw\u001b[39;49m = 0\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[K\u001b[7;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\u001b[K\u001b[8;13H    \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\r\n\t\u001b[33mw\u001b[39;49m += 2\u001b[K\r\n\t\u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Notification, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(x, y, w, h, layer, timeout)\r\n\u001b[K\u001b[12;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\u001b[K\u001b[13;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.blit(draw.text(0,0,l,fg,bg),1,1+i)\r\n\n\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L58\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m60\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;15r\u001b[12;1H\u001b[1L\u001b[1;24r\u001b[12;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L68\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32m')                                                            \u001b[39;49m\r\n\u001b[32m        self.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)                         \u001b[39;49m\r\n\u001b[12;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m )\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m'\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\u001b[K\u001b[12;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/widgets.py...\u001b[12;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/widgets.py\u001b[K\u001b[12;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\nTraceback (most recent call last):\r\n  File \"./rules-of-war.py\", line 8, in <module>\r\n    S = shell.Shell(*sys.argv)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 31, in __init__\r\n    self.game = session.Session(json.loads(storage.read_data(\"maps\",\"Intro.json\")))\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/session.py\", line 39, in __init__\r\n    self.grid.end_turn()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/grid.py\", line 198, in end_turn\r\n    w = widgets.Notification(0,0,msg,200,200,cur.color)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/widgets.py\", line 71, in __init__\r\n    self.blit(draw.text(0,0,l,fg,bg),1,1+i)\r\nAttributeError: 'module' object has no attribute 'text'\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, layer, timeout, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\u001b[K\r\n        \u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[K\r\n        \u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\u001b[K\r\n        \u001b[33mw\u001b[39;49m = 0\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\u001b[K\r\n                \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\u001b[K\r\n        \u001b[33mw\u001b[39;49m += 2\u001b[K\r\n        \u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Notification, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(x, y, w, h, layer, timeout)\u001b[K\r\n\u001b[K\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.fill(\u001b[32m' '\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.blit(draw.text(0,0,l,fg,bg),1,1+i)\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L68   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[12;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[?25l\u001b[1@s\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[1@t\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@r\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@i\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@g\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lAuto-saving...\u001b[15;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[15;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[15;34H\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/widgets.py...\u001b[15;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/widgets.py\u001b[K\u001b[15;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\nTraceback (most recent call last):\r\n  File \"./rules-of-war.py\", line 8, in <module>\r\n    S = shell.Shell(*sys.argv)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 31, in __init__\r\n    self.game = session.Session(json.loads(storage.read_data(\"maps\",\"Intro.json\")))\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/session.py\", line 39, in __init__\r\n    self.grid.end_turn()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/grid.py\", line 199, in end_turn\r\n    self.alerts.append(widgets.N)\r\nAttributeError: 'module' object has no attribute 'N'\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, layer, timeout, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\u001b[K\r\n        \u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[K\r\n        \u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\u001b[K\r\n        \u001b[33mw\u001b[39;49m = 0\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\u001b[K\r\n                \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\u001b[K\r\n        \u001b[33mw\u001b[39;49m += 2\u001b[K\r\n        \u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Notification, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(x, y, w, h, layer, timeout)\u001b[K\r\n\u001b[K\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.fill(\u001b[32m' '\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.blit(draw.string(0,0,l,fg,bg),1,1+i)\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L71   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[15;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l        i = i%\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items)\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor.move_to(1,i+1)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index = i\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\r\n\t    report = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\u001b[7;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[8;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\r\n\u001b[K\u001b[11;5H\u001b[31m# This function just reports what value is being hovered over.              \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# This can be used for tooltips.                                            \u001b[39;49m\r\n\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\r\n\u001b[K\n\n\u001b[31m# Notifications are just sprites that are created with a message. This is a     \u001b[39;49m\r\n\u001b[31m# very low-level sort of behavior that I'm not crazy about, but we'll tolerate  \u001b[39;49m\r\n\u001b[31m# it for now.                                                                   \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mNotification\u001b[39;49m(sprites.Sprite):\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, layer, timeout, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[33mlines\u001b[39;49m = s.splitlines()\n\b\b\u001b[7m56% L59\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.border(0,0,w+2,h+2)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.layer = 200\u001b[K\r\n\t\u001b[33mi\u001b[39;49m = 1\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m items:\u001b[K\u001b[6;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,s),1,i)\u001b[7;13H\u001b[33mi\u001b[39;49m += 1\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = draw.fill(1,1,w,1,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index = 0\u001b[11;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items = items\u001b[K\r\n\u001b[K\u001b[13;5H\u001b[31m# This method takes the return value of gfx.get_input and handles           \u001b[39;49m\r\n\u001b[14;5H\u001b[31m# it. If a menu item is selected via Enter or keyboard shortcut,            \u001b[39;49m\r\n\u001b[15;5H\u001b[31m# that option is returned.                                                  \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\r\n        \u001b[33mi\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: i -= 1\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: i += 1\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i != \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index:\u001b[K\u001b[21;5H        i = i%\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items)\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor.move_to(1,i+1)\u001b[23;29H\u001b[7m29% L40\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l\u001b[31m# Widgets are GUI elements that can be interacted with and drawn on the         \u001b[39;49m\r\n\u001b[31m# screen. When a widget is created, its sprite should be added to the           \u001b[39;49m\r\n\u001b[31m# appropriate sprite for rendering.                                             \u001b[39;49m\r\n\u001b[K\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m graphics \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m draw, sprites\u001b[K\r\n\u001b[K\n\u001b[31m# Menus are the prime example of a widget. They capture input - pressing        \u001b[39;49m\r\n\u001b[31m# an arrow key moves the highlighted line of text, and pressing enter           \u001b[39;49m\r\n\u001b[31m# will cause the interaction to return the string of the menu. Keyboard         \u001b[39;49m\r\n\u001b[31m# shortcuts will automatically be assigned based on the first letter of         \u001b[39;49m\r\n\u001b[31m# an option.                                                                    \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mMenu\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, items):\u001b[K\u001b[15;5H    \u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(items)\u001b[K\u001b[16;5H    \u001b[33mw\u001b[39;49m = 0\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m items:\r\n\t    \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(s),w)\r\n\u001b[K\n\t\u001b[31m# Set up the window.                                                    \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.border(0,0,w+2,h+2)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.layer = 200\u001b[K\n\b\b\b\u001b[7mTop L21\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\n\n\u001b[?25lBeginning of buffer\u001b[22;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\u001b[K\u001b[22d\n\n\u001b[?25l\u001b[34mSwitch to buffer (default grid.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n            \u001b[33mflag\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n            \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m flag \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn].active:\u001b[K\r\n\t\t\u001b[33mflag\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn += 1\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams):\r\n                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = 0\u001b[K\r\n                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day += 1\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units:\u001b[K\r\n            \u001b[33mu.ready\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n            u.sprite.colorize(u.team.color,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mFalse\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[14;5H    \u001b[31m# Repair units and draw income.                                         \u001b[39;49m\r\n\t\u001b[33mcur\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.current_team()\r\n\t\u001b[33mmsg\u001b[39;49m = \u001b[32m\"Day %d - %s\\n%s, move out!\"\u001b[39;49m%(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name, cur.name)\r\n\t\u001b[33mw\u001b[39;49m = widgets.Notification(0,0,msg,200,200,cur.color)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append(widgets.N)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cur:\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tile \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.all_tiles():\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur:\u001b[K\r\n\t            \u001b[33mu\u001b[39;49m = tile.unit\u001b[23;14H\u001b[7m\u001b[1mgrid.py     \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   54% L198\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;59H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l)\u001b[K\u001b[23;6H\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mgrid.py     \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   55\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;36H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/grid.py...\u001b[18;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/grid.py\u001b[K\u001b[18;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\b\b\u001b[Kfg\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n            \u001b[33mflag\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n            \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m flag \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn].active:\u001b[K\r\n                \u001b[33mflag\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn += 1\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams):\u001b[K\r\n                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = 0\u001b[K\r\n                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day += 1\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units:\u001b[K\r\n            \u001b[33mu.ready\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n            u.sprite.colorize(u.team.color,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mFalse\u001b[39;49m)\u001b[K\r\n\u001b[K\n        \u001b[31m# Repair units and draw income.                                         \u001b[39;49m\r\n\u001b[A\n        \u001b[33mcur\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.current_team()\u001b[K\r\n        \u001b[33mmsg\u001b[39;49m = \u001b[32m\"Day %d - %s\\n%s, move out!\"\u001b[39;49m%(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name, cur.name)\u001b[K\r\n        \u001b[33mw\u001b[39;49m = widgets.Notification(0,0,msg,200,200,cur.color)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append(w)\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cur:\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tile \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.all_tiles():\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur:\u001b[K\r\n                    \u001b[33mu\u001b[39;49m = tile.unit\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mgrid.py     \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   55% L199  Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[18;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\b\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[18;30H\b\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lMark set\u001b[18;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.Notification(0,0,msg,200,200,cur.color))\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\r\t\u001b[?25lw\u001b[K\u001b[C\u001b[?12l\u001b[?25h\u001b[?12;25h\b\r\u001b[K\t\b\b\b\b\r\u001b[1;22r\u001b[18;1H\u001b[1M\u001b[1;24r\u001b[17;9H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append(widgets.Notification(0,0,msg,200,200,cur.color))\r\n\n\n\n\n                    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair):\u001b[K\u001b[23;36H\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;75H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/grid.py...\u001b[16;75H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/grid.py\u001b[K\u001b[16;75H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;75H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.......................\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[32m\u001b[40m............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[32m\u001b[40m...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....................\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[2d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[3d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;1m\u001b[34m\u001b[40m#\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;1m\u001b[34m\u001b[40m#\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;1m\u001b[34m\u001b[40m#\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m$\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;1m\u001b[34m\u001b[40m$\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m!\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+---------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Surrender|\r\u001b[4d|End Turn\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[5d+---------+\u001b[2d\b\b\r|Close\r\u001b[4d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[32m\u001b[40m...........\r\u001b[2d...........\r\u001b[3d...........\r\u001b[4d....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\r\u001b[5d....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[3;22H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+---------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Surrender|\r\u001b[4d|End Turn\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[5d+---------+\u001b[2d\b\b\r|Close\r\u001b[4d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[32m\u001b[40m...........\r\u001b[2d...........\r\u001b[3d...........\r\u001b[4d....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\r\u001b[5d....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[3;22H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+---------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Surrender|\r\u001b[4d|End Turn\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[5d+---------+\u001b[2d\b\b\r|Close\r\u001b[4d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2;7H\u001b[32m\u001b[40m....\u001b[4d\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose....\u001b[4;2H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn\u001b[2d\u001b[4d\u001b[32m\u001b[40m.\u001b[2d\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r|Close\r\u001b[4d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2;7H\u001b[32m\u001b[40m....\u001b[4d\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[32m\u001b[40m...........\r\u001b[2d...........\r\u001b[3d...........\r\u001b[4d....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\r\u001b[5d....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[3;22H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 95, in run\r\n    gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 88, in refresh\r\n    if gfx: return gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 105, in refresh\r\n    curses.napms(20)\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n            \u001b[33mflag\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n            \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m flag \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn].active:\u001b[K\r\n                \u001b[33mflag\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn += 1\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams):\u001b[K\r\n                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = 0\u001b[K\r\n                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day += 1\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units:\u001b[K\r\n            \u001b[33mu.ready\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n            u.sprite.colorize(u.team.color,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mFalse\u001b[39;49m)\u001b[K\r\n\u001b[K\n        \u001b[31m# Repair units and draw income.                                         \u001b[39;49m\r\n\u001b[A\n        \u001b[33mcur\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.current_team()\u001b[K\r\n        \u001b[33mmsg\u001b[39;49m = \u001b[32m\"Day %d - %s\\n%s, move out!\"\u001b[39;49m%(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name, cur.name)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append(widgets.Notification(0,0,msg,200,200,cur.color))\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cur:\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tile \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.all_tiles():\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur:\u001b[K\r\n                    \u001b[33mu\u001b[39;49m = tile.unit\u001b[K\r\n                    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair):\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mgrid.py     \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   55% L197  Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[16;75H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default widgets.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[31m# Widgets are GUI elements that can be interacted with and drawn on the         \u001b[39;49m\r\n\u001b[31m# screen. When a widget is created, its sprite should be added to the           \u001b[39;49m\r\n\u001b[31m# appropriate sprite for rendering.                                             \u001b[39;49m\r\n\u001b[K\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m graphics \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m draw, sprites\r\n\u001b[K\n\u001b[31m# Menus are the prime example of a widget. They capture input - pressing        \u001b[39;49m\r\n\u001b[31m# an arrow key moves the highlighted line of text, and pressing enter           \u001b[39;49m\r\n\u001b[31m# will cause the interaction to return the string of the menu. Keyboard         \u001b[39;49m\r\n\u001b[31m# shortcuts will automatically be assigned based on the first letter of         \u001b[39;49m\r\n\u001b[31m# an option.                                                                    \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mMenu\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, items):\u001b[K\r\n\t\u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(items)\u001b[K\r\n\t\u001b[33mw\u001b[39;49m = 0\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m items:\u001b[K\r\n\t    \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(s),w)\r\n\u001b[K\n\t\u001b[31m# Set up the window.                                                    \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.border(0,0,w+2,h+2)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.layer = 200\u001b[K\u001b[23;14H\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Top L21 \u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.border(0,0,w+2,h+2)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.layer = 200\u001b[K\r\n        \u001b[33mi\u001b[39;49m = 1\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m items:\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,s),1,i)\u001b[7;13H\u001b[33mi\u001b[39;49m += 1\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = draw.fill(1,1,w,1,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index = 0\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items = items\u001b[K\r\n\u001b[K\n    \u001b[31m# This method takes the return value of gfx.get_input and handles           \u001b[39;49m\r\n\u001b[14;5H\u001b[31m# it. If a menu item is selected via Enter or keyboard shortcut,            \u001b[39;49m\r\n\u001b[15;5H\u001b[31m# that option is returned.                                                  \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\r\n\t\u001b[33mi\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: i -= 1\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: i += 1\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i != \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index:\u001b[K\r\n\t    i = i%\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items)\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor.move_to(1,i+1)\u001b[23;29H\u001b[7m29%\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m# will cause the interaction to return the string of the menu. Keyboard         \u001b[39;49m\r\n\u001b[31m# shortcuts will automatically be assigned based on the first letter of         \u001b[39;49m\r\n\u001b[31m# an option.                                                                    \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mMenu\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, items):\u001b[K\r\n\t\u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(items)\r\n\t\u001b[33mw\u001b[39;49m = 0\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m items:\u001b[K\r\n\t    \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(s),w)\r\n\u001b[K\n\t\u001b[31m# Set up the window.                                                    \u001b[39;49m\r\n\u001b[13;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.border(0,0,w+2,h+2)\u001b[K\u001b[14;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.layer = 200\u001b[K\u001b[15;5H    \u001b[33mi\u001b[39;49m = 1\u001b[K\u001b[16;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m items:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,s),1,i)\r\n\t    \u001b[33mi\u001b[39;49m += 1\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = draw.fill(1,1,w,1,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index = 0\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items = items\u001b[K\u001b[23;29H\u001b[7m15% L19\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m20\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m19\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[13;1H\u001b[1L\u001b[1;24r\u001b[13;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   15% L20\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32m')                                                     \u001b[39;49m\r\n\u001b[32m        self.sprite = draw.border(0,0,w+2,h+2)                                  \u001b[39;49m\r\n\u001b[13;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m )\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m'\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.border(0,0,w+2,h+2)\u001b[K\u001b[13;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/widgets.py...\u001b[13;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/widgets.py\u001b[K\u001b[13;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.......................\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[32m\u001b[40m............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[32m\u001b[40m...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....................\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 81, in run\r\n    res = self.game.handle_input(c)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/session.py\", line 191, in handle_input\r\n    self.menu = widgets.Menu(self.action.choices)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/widgets.py\", line 20, in __init__\r\n    self.sprite.fill(' ')\r\nAttributeError: 'Menu' object has no attribute 'sprite'\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.......................\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[32m\u001b[40m............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[32m\u001b[40m...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....................\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[2d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[3d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 81, in run\r\n    res = self.game.handle_input(c)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/session.py\", line 191, in handle_input\r\n    self.menu = widgets.Menu(self.action.choices)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/widgets.py\", line 20, in __init__\r\n    self.sprite.fill(' ')\r\nAttributeError: 'Menu' object has no attribute 'sprite'\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n\u001b[31m# will cause the interaction to return the string of the menu. Keyboard         \u001b[39;49m\r\n\u001b[A\n\u001b[31m# shortcuts will automatically be assigned based on the first letter of         \u001b[39;49m\r\n\u001b[A\n\u001b[31m# an option.                                                                    \u001b[39;49m\r\n\u001b[A\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mMenu\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, items):\u001b[K\r\n        \u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(items)\u001b[K\r\n        \u001b[33mw\u001b[39;49m = 0\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m items:\u001b[K\r\n            \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(s),w)\u001b[K\r\n\u001b[K\n        \u001b[31m# Set up the window.                                                    \u001b[39;49m\r\n\u001b[A\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.fill(\u001b[32m' '\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.border(0,0,w+2,h+2)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.layer = 200\u001b[K\r\n        \u001b[33mi\u001b[39;49m = 1\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m items:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,s),1,i)\u001b[K\r\n            \u001b[33mi\u001b[39;49m += 1\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = draw.fill(1,1,w,1,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index = 0\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   15% L20   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[13;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\r\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[15;1H\u001b[1M\u001b[1;24r\u001b[13;9H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.border(0,0,w+2,h+2)\u001b[14;20H.layer = 200\u001b[K\u001b[22;1H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items = items\u001b[K\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\t\b\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\b\b\u001b[C\u001b[1;22r\u001b[15;1H\u001b[1L\u001b[1;24r\u001b[13;22H\u001b[K\r\n\u001b[C\u001b[?25ldraw.border(0,0,w+2,h+2)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.layer = 200\u001b[K\u001b[23;35H\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[7@\t\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[13;22H\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l0)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l+)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l2)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l2)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l+)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l+)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l2)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[24;1H\u001b[?25lAuto-saving...\u001b[14;6H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[14;6H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[14;7H\t\b\t\u001b[?25l\u001b[1@s\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@e\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@l\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@f\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[1@.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@s\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@p\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@r\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@i\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@e\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@l\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@i\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@(\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\t\u001b[?25li\u001b[19;13Hi\u001b[14;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[14;50H\u001b[?25l)\r\t\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[14;51H\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/widgets.py...\u001b[14;51H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/widgets.py\u001b[K\u001b[14;51H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;51H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\t\u001b[?25l\u001b[33mi\u001b[39;49m\u001b[19;13H\u001b[33mi\u001b[39;49m\u001b[14;51H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.......................\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[32m\u001b[40m............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[32m\u001b[40m...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....................\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 81, in run\r\n    res = self.game.handle_input(c)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/session.py\", line 191, in handle_input\r\n    self.menu = widgets.Menu(self.action.choices)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/widgets.py\", line 21, in __init__\r\n    self.sprite.blit(draw.border(0,0,w+2,h+2))\r\nTypeError: blit() takes at least 4 arguments (2 given)\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n\u001b[31m# will cause the interaction to return the string of the menu. Keyboard         \u001b[39;49m\r\n\u001b[A\n\u001b[31m# shortcuts will automatically be assigned based on the first letter of         \u001b[39;49m\r\n\u001b[A\n\u001b[31m# an option.                                                                    \u001b[39;49m\r\n\u001b[A\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mMenu\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, items):\u001b[K\r\n        \u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(items)\u001b[K\r\n        \u001b[33mw\u001b[39;49m = 0\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m items:\u001b[K\r\n            \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(s),w)\u001b[K\r\n\u001b[K\n        \u001b[31m# Set up the window.                                                    \u001b[39;49m\r\n\u001b[A\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(0,0,w+2,h+2)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,w+2,h+2))\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.layer = 200\u001b[K\r\n        \u001b[33mi\u001b[39;49m = 1\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m items:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,s),1,i)\u001b[K\r\n            \u001b[33mi\u001b[39;49m += 1\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = draw.fill(1,1,w,1,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index = 0\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   15% L21   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[14;51H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l,)\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;51H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/widgets.py...\u001b[14;54H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/widgets.py\u001b[K\u001b[14;54H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;54H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.......................\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[32m\u001b[40m............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[32m\u001b[40m...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....................\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+---------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Surrender|\r\u001b[4d|End Turn |\r\u001b[5d+---------+\u001b[2d\b\b\u001b[14;15H\r\u001b[2d|Close    \r\u001b[3d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mSurrender\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r|Surrender\r\u001b[4d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;15H\u001b[H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\r\u001b[2d...........\r\u001b[3d...........\r\u001b[4d....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\r\u001b[5d....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[2d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[3d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 95, in run\r\n    gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 88, in refresh\r\n    if gfx: return gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 105, in refresh\r\n    curses.napms(20)\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n\u001b[31m# will cause the interaction to return the string of the menu. Keyboard         \u001b[39;49m\r\n\u001b[A\n\u001b[31m# shortcuts will automatically be assigned based on the first letter of         \u001b[39;49m\r\n\u001b[A\n\u001b[31m# an option.                                                                    \u001b[39;49m\r\n\u001b[A\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mMenu\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, items):\u001b[K\r\n        \u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(items)\u001b[K\r\n        \u001b[33mw\u001b[39;49m = 0\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m items:\u001b[K\r\n            \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(s),w)\u001b[K\r\n\u001b[K\n        \u001b[31m# Set up the window.                                                    \u001b[39;49m\r\n\u001b[A\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(0,0,w+2,h+2)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,w+2,h+2),0,0)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.layer = 200\u001b[K\r\n        \u001b[33mi\u001b[39;49m = 1\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m items:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,s),1,i)\u001b[K\r\n            \u001b[33mi\u001b[39;49m += 1\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = draw.fill(1,1,w,1,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index = 0\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   15% L21   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[14;54H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default grid.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lsession.py\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab = 0\u001b[K\r\n\u001b[K\n        \u001b[31m# Create the canvases that contain all of the sprites.                  \u001b[39;49m\r\n\u001b[6;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas = sprites.Sprite(0,0,80,24)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas = sprites.Sprite(0,0,60,23)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.fill(\u001b[32m' '\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.fill(\u001b[32m' '\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite = sprites.Sprite(0,0,1,1,100)\u001b[K\u001b[13;14Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite)\u001b[14;14Hhighlight = sprites.Sprite(0,0,1,1)\u001b[K\u001b[15;14Hcursor_sprite.putc(\u001b[35mNone\u001b[39;49m,0,0,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\r\n\u001b[K\n\t\u001b[31m# These are other elements, such as the menu, cursor,                   \u001b[39;49m\r\n\t\u001b[31m# animation timer, etc.                                                 \u001b[39;49m\r\n\t\t\t\b\b0,0\u001b[K\u001b[21;14Hanimation = 0.0\u001b[K\u001b[22;14Hmenu = \u001b[35mNone\u001b[39;49m\u001b[23;14H\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   21% L66\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l    \u001b[33mt.active\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m p \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data[\u001b[32m\"players\"\u001b[39;49m]:\u001b[4;13H\u001b[33mpdata\u001b[39;49m = data[\u001b[32m\"players\"\u001b[39;49m][p]\r\n\t    \u001b[33mpteam\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams[pdata[\u001b[32m\"team\"\u001b[39;49m]]\u001b[K\r\n\t    \u001b[33mpteam.active\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t    \u001b[33mpteam.name\u001b[39;49m = p\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t.active]:\r\n\t    \u001b[33mt.name\u001b[39;49m = \u001b[32m\"---\"\u001b[39;49m\u001b[K\r\n\t\u001b[4@\u001b[10;22H.purge(t,\u001b[35mTrue\u001b[39;49m)\u001b[K\r\n\u001b[K\n\t\u001b[31m# Create the state machine widgets. These contain the ability to        \u001b[39;49m\r\n\t\u001b[31m# undo actions and whatnot.                                             \u001b[39;49m\r\n\u001b[14;14Hgrid.end_turn()\u001b[K\u001b[15;14Haction = rules.Begin()\u001b[K\u001b[16;14Hstartover = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs = []\u001b[K\r\n\t\u001b[33mreplay\u001b[39;49m = data.pop(\u001b[32m\"history\"\u001b[39;49m,[])\u001b[K\u001b[20;14Hdata[\u001b[32m\"history\"\u001b[39;49m] = []\u001b[21;14Hhistory = []\u001b[K\u001b[22;14Htab = 0\u001b[K\u001b[23;29H\u001b[7m13% L47\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m graphics \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m sprites, draw\r\n\u001b[K\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m copy\u001b[K\r\n\u001b[K\n\u001b[31m# In theory, the game engine should be able to handle multiple sessions         \u001b[39;49m\r\n\u001b[31m# simultaneously. The session should be provided with a Dict generated from the\u001b[39;49m\r\n\u001b[31m# JSON of a map in the following format.                                        \u001b[39;49m\r\n\u001b[31m#   rules: a dict containing the unit and terrain definitions                   \u001b[39;49m\r\n\u001b[31m#   grid: a dict containing all of the tiles and other map variables (w,h,etc)  \u001b[39;49m\r\n\u001b[31m#   players: a list of the players, mapped to the teams in the grid             \u001b[39;49m\r\n\u001b[31m#   history: (optional) list of moves that have been played so far              \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mSession\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data):\u001b[15;14Hdata = data\u001b[K\u001b[16;14Hgrid = grid.Grid(data[\u001b[32m\"grid\"\u001b[39;49m], data[\u001b[32m\"rules\"\u001b[39;49m])\r\n\u001b[K\n\t\u001b[31m# Load the players. If a team does not have a respective player,        \u001b[39;49m\r\n\t\u001b[31m# destroy that team.                                                    \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\r\n\t    \u001b[33mt.active\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m p \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data[\u001b[32m\"players\"\u001b[39;49m]:\n\b\b\b\b\b\u001b[7m 4% L28\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l            \u001b[33mt.active\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m p \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data[\u001b[32m\"players\"\u001b[39;49m]:\r\n            \u001b[33mpdata\u001b[39;49m = data[\u001b[32m\"players\"\u001b[39;49m][p]\u001b[5;13H\u001b[33mpteam\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams[pdata[\u001b[32m\"team\"\u001b[39;49m]]\r\n            \u001b[33mpteam.active\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n            \u001b[33mpteam.name\u001b[39;49m = p\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t.active]:\u001b[K\r\n            \u001b[33mt.name\u001b[39;49m = \u001b[32m\"---\"\u001b[39;49m\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.purge(t,\u001b[35mTrue\u001b[39;49m)\u001b[K\r\n\u001b[K\n        \u001b[31m# Create the state machine widgets. These contain the ability to        \u001b[39;49m\r\n        \u001b[31m# undo actions and whatnot.                                             \u001b[39;49m\r\n\u001b[14;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.end_turn()\u001b[K\u001b[15;14Haction = rules.Begin()\u001b[16;14Hstartover = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs = []\u001b[K\r\n\t\u001b[33mreplay\u001b[39;49m = data.pop(\u001b[32m\"history\"\u001b[39;49m,[])\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m] = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab = 0\u001b[K\u001b[23;29H\u001b[7m13\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[A\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab = 0\u001b[K\r\n\u001b[K\n\t\u001b[31m# Create the canvases that contain all of the sprites.                  \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas = sprites.Sprite(0,0,80,24)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas = sprites.Sprite(0,0,60,23)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.fill(\u001b[32m' '\u001b[39;49m)\r\n\t\u001b[4P\t\u001b[C_canvas.fill(\u001b[32m' '\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite = sprites.Sprite(0,0,1,1,100)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite)\u001b[K\u001b[14;14Hhighlight = sprites.Sprite(0,0,1,1)\u001b[15;14Hcursor_sprite.putc(\u001b[35mNone\u001b[39;49m,0,0,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[16;14Hhighlight.hide()\u001b[K\r\n\u001b[K\n\t\u001b[31m# These are other elements, such as the menu, cursor,                   \u001b[39;49m\r\n\t\u001b[31m# animation timer, etc.                                                 \u001b[39;49m\r\n\u001b[20;14Hcursor = 0,0\u001b[K\u001b[21;14Hanimation = 0.0\u001b[22;14Hmenu = \u001b[35mNone\u001b[39;49m\u001b[23;29H\u001b[7m21% L46\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;14H\u001b[?25lanimation = 0.0\u001b[3;14Hmenu = \u001b[35mNone\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed = 0.05\r\n\u001b[K\n\u001b[K\n\u001b[K\u001b[8;5H\u001b[31m# This exports our data as a dictionary to be JSONified. If history is      \u001b[39;49m\r\n\u001b[9;5H\u001b[31m# included, it's like saving a snapshot of the game to be continued later.  \u001b[39;49m\r\n\u001b[10;5H\u001b[31m# If griddata is included, it's like using the current snapshot as a new    \u001b[39;49m\r\n\u001b[11;5H\u001b[31m# map.                                                                      \u001b[39;49m\r\n\u001b[12;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, history=\u001b[35mTrue\u001b[39;49m, griddata=\u001b[35mFalse\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\r\n\u001b[K\u001b[15;5H\u001b[31m# This function takes the character that was most recently entered by the   \u001b[39;49m\r\n\u001b[16;5H\u001b[31m# player and handles it. Even if no player is playing, this function        \u001b[39;49m\r\n\u001b[17;5H\u001b[31m# essentially serves as the step function for the AI.                       \u001b[39;49m\r\n\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m a \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\u001b[K\r\n\t    \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\u001b[23;30H\u001b[7m9% L65\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\n\t\u001b[?25l\u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\r\n\t\u001b[31m# If control does not belong to the human, then the control simply      \u001b[39;49m\r\n\t\u001b[31m# allows the player to move the map around.                             \u001b[39;49m\r\n\t\u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\r\n\t\u001b[33mresult\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[8;5H    \u001b[33minfo\u001b[39;49m = {}\u001b[K\u001b[9;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().control == \u001b[32m\"human\"\u001b[39;49m:\u001b[K\u001b[10;5H        result = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[11;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\u001b[K\u001b[12;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"left\"\u001b[39;49m: cx -=1\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"right\"\u001b[39;49m: cx +=1\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: cy -= 1\u001b[15;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: cy += 1\u001b[K\u001b[16;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"\\t\"\u001b[39;49m:\u001b[K\u001b[17;5H                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab += 1\u001b[K\u001b[18;5H                tabbables = [u \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.ready\r\n\t                         \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[20;13H                     \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.x \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.y \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m]\u001b[21;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables):\r\n\t                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab %= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables)\u001b[K\u001b[23;29H\u001b[7m37% L84\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;21H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables):\r\n\t                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab %= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables)\u001b[K\r\n\t                \u001b[33mu\u001b[39;49m = tabbables[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab]\u001b[K\r\n\t                \u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = u.x,u.y\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor != (cx,cy)):\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = cx,cy\r\n\t            \u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\u001b[10;13H\u001b[8@\u001b[10;30H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[11;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.move_to(cx,cy)\u001b[13;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[14;21H:\u001b[K\r\n\t\t    val = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\r\n\t\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m val:\u001b[K\u001b[17;21H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(val)\u001b[18;21H    result = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(val, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\r\n\t\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[20;21H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b\b    info = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.info(), \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\u001b[K\u001b[23;29H\u001b[7m47% L103\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\n\t\u001b[?25l\u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\r\n\t\u001b[31m# If control does not belong to the human, then the control simply      \u001b[39;49m\r\n\t\u001b[31m# allows the player to move the map around.                             \u001b[39;49m\r\n\t\u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[K\r\n\t\u001b[33mresult\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[33minfo\u001b[39;49m = {}\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().control == \u001b[32m\"human\"\u001b[39;49m:\u001b[10;13H\u001b[8P\u001b[10;22H\u001b[35mNone\u001b[39;49m\u001b[K\u001b[11;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"left\"\u001b[39;49m: cx -=1\u001b[K\u001b[13;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"right\"\u001b[39;49m: cx +=1\u001b[K\u001b[14;21H == \u001b[32m\"up\"\u001b[39;49m: cy -= 1\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: cy += 1\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"\\t\"\u001b[39;49m:\u001b[17;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab += 1\u001b[K\u001b[18;21Htabbables = [u \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.ready\r\n\t\t\t         \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[20;21H             \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.x \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.y \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m]\u001b[21;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables):\u001b[K\r\n\t\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab %= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables)\u001b[23;29H\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed = 0.05\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\u001b[8;5H\u001b[31m# This exports our data as a dictionary to be JSONified. If history is      \u001b[39;49m\r\n\u001b[9;5H\u001b[31m# included, it's like saving a snapshot of the game to be continued later.  \u001b[39;49m\r\n\u001b[10;5H\u001b[31m# If griddata is included, it's like using the current snapshot as a new    \u001b[39;49m\r\n\u001b[11;5H\u001b[31m# map.                                                                      \u001b[39;49m\r\n\u001b[12;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, history=\u001b[35mTrue\u001b[39;49m, griddata=\u001b[35mFalse\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\r\n\u001b[K\u001b[15;5H\u001b[31m# This function takes the character that was most recently entered by the   \u001b[39;49m\r\n\u001b[16;5H\u001b[31m# player and handles it. Even if no player is playing, this function        \u001b[39;49m\r\n\u001b[17;5H\u001b[31m# essentially serves as the step function for the AI.                       \u001b[39;49m\r\n\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m a \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\u001b[K\u001b[20;13H\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\u001b[23;29H\u001b[7m29% L85 \u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\b\b\b\b\u001b[?25lpas\u001b[K\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;16H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\r\u001b[K\u001b[20;13H\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[20;43H\r\n\n\n\n\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[20;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[20;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[31m\u001b[40m|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[31m\u001b[40m|Ramen, move out!|\u001b(B\u001b[0;1m\u001b[34m\u001b[40m$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m........\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[3;18H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[C\u001b[2d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2d\b\u001b[31m\u001b[40m|\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3d\b\u001b[31m\u001b[40m|\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m+\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4d\b\u001b[31m\u001b[40m+\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5d\b\u001b[32m\u001b[40m.\u001b[6d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[7d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m$\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[8d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[32m\u001b[40m..................\r\u001b[2d............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\r\u001b[3d...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###\r\u001b[4d\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.............\u001b[8;11H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+---------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Surrender|\r\u001b[4d|End Turn |\r\u001b[5d+---------+\u001b[2d\b\b\r|Close    \r\u001b[4d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[32m\u001b[40m...........\r\u001b[2d...........\r\u001b[3d...........\r\u001b[4d....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\r\u001b[5d....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[8d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[34m\u001b[40m+-----------------+\r\u001b[2d|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m    \u001b[34m\u001b[40m|\r\u001b[3d|Ishara, move out!|\r\u001b[4d+-----------------+\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[8;12H\u001b[4;20H\u001b[8;12H\u001b[4;20H\u001b[8;12H\u001b[4;20H\u001b[8;12H\u001b[4;20H\u001b[8;12H\u001b[4;20H\u001b[8;12H\u001b[4;20H\u001b[8;12H\u001b[4;20H\u001b[8;12H\u001b[4;20H\u001b[8;12H\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 95, in run\r\n    gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 88, in refresh\r\n    if gfx: return gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 105, in refresh\r\n    curses.napms(20)\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed = 0.05\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\n    \u001b[31m# This exports our data as a dictionary to be JSONified. If history is      \u001b[39;49m\r\n\u001b[A\n    \u001b[31m# included, it's like saving a snapshot of the game to be continued later.  \u001b[39;49m\r\n\u001b[A\n    \u001b[31m# If griddata is included, it's like using the current snapshot as a new    \u001b[39;49m\r\n\u001b[A\n    \u001b[31m# map.                                                                      \u001b[39;49m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, history=\u001b[35mTrue\u001b[39;49m, griddata=\u001b[35mFalse\u001b[39;49m):\u001b[K\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\r\n\u001b[K\n    \u001b[31m# This function takes the character that was most recently entered by the   \u001b[39;49m\r\n\u001b[A\n    \u001b[31m# player and handles it. Even if no player is playing, this function        \u001b[39;49m\r\n\u001b[A\n    \u001b[31m# essentially serves as the step function for the AI.                       \u001b[39;49m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m a \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(a)\u001b[K\r\n\u001b[K\n        \u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   29% L83   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[20;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\u001b[?25l(No changes need to be saved)\u001b[20;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\n\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m79\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;5H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;11H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m69\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[3;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;21r\u001b[4;1H\u001b[1L\u001b[1;24r\u001b[4;1H\u001b[K\u001b[22d\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   29% L67\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25lnoti\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l[\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l]\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[4;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[4;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[4;32H\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[4;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l(No changes need to be saved)\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;34H\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m80\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[20;35H\r\n\u001b[K\u001b[22;13H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(a)\u001b[23;6H\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   29% L84\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[21;13H\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25lnoti\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\b\b\b\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[A\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l.)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[22;49H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[22;49H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[22;49H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[A\u001b[A\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;49H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;49H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m79\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;49H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;5H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;49H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[13;49H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[H\n\t\u001b[?25l    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications.append(a)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(a.sprite)\r\n\u001b[K\n\t\u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\r\n\t\u001b[31m# If control does not belong to the human, then the control simply      \u001b[39;49m\r\n\t\u001b[31m# allows the player to move the map around.                             \u001b[39;49m\r\n\t\u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[9;5H    \u001b[33mresult\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[10;5H    \u001b[33minfo\u001b[39;49m = {}\u001b[K\u001b[11;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().control == \u001b[32m\"human\"\u001b[39;49m:\u001b[K\u001b[12;5H        result = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[13;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"left\"\u001b[39;49m: cx -=1\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"right\"\u001b[39;49m: cx +=1\u001b[16;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: cy -= 1\u001b[K\u001b[17;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: cy += 1\u001b[K\u001b[18;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"\\t\"\u001b[39;49m:\u001b[K\u001b[19;5H                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab += 1\r\n\t            tabbables = [u \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.ready\u001b[21;13H                     \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[22;13H                     \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.x \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.y \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m]\u001b[23;29H\u001b[7m37% L84\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l                     \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[3;13H                     \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.x \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.y \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m]\u001b[4;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables):\r\n\t                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab %= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables)\u001b[K\r\n\t                u = tabbables[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab]\u001b[K\r\n\t                \u001b[33mcx\u001b[39;49m,cy = u.x,u.y\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor != (cx,cy)):\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = cx,cy\r\n\t            \u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\u001b[12;13H\u001b[8@\u001b[12;30H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[13;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.move_to(cx,cy)\u001b[15;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[16;21H:\u001b[K\r\n\t\t    val = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\r\n\t\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m val:\u001b[K\u001b[19;21H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(val)\u001b[20;21H    \u001b[33mresult\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(val, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\r\n\t\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[22;21H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[23;29H\u001b[7m46% L103\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[3;21H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b\b    \u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.info(), \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\u001b[K\n\u001b[K\n\t\u001b[31m# If we got a result from performing an action, we will be given        \u001b[39;49m\r\n\t\u001b[31m# either an order or a new action to perform. The orders tell us that   \u001b[39;49m\r\n\t\u001b[31m# the action was complete and that we either need to commit it or       \u001b[39;49m\r\n\t\u001b[31m# undo our mess.                                                        \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result:\u001b[K\n\b\b\b\b\b\b\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result == rules.ACT_COMMIT:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.append((copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint),\r\n\t\t                     \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs))\u001b[15;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[17;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_TRASH:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite.kill()\r\n\t\t\u001b[8P\u001b[19;28H = []\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info()\n\b\b\b\b\u001b[7m57% L122\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info()\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[K\u001b[5;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_UNDO:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite.kill()\r\n\t        cp = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history) > 0:\u001b[K\r\n\t            \u001b[33mcp\u001b[39;49m, acts = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.pop()\u001b[K\r\n\t        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t            cp = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint\u001b[12;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = copy.deepcopy(cp)\u001b[13;22Hcheckpoint = copy.deepcopy(cp)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[15;22Hgrid.info()\u001b[K\u001b[17;38HRESTART:\u001b[18;22Hhistory = []\u001b[K\u001b[20;26H.sprite.kill()\u001b[K\u001b[21;26H = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[K\u001b[22;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[23;29H\u001b[7m66% L141\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;26H\u001b[?25l = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[K\u001b[3;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[4;22Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[5;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[6;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_END:\r\n\t\thistory = []\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m].append(history)\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (cp,acts) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history:\u001b[K\r\n\t\t    history.append(acts)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[K\u001b[12;26H.end_turn()\u001b[K\u001b[13;22Hstartover = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[14;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\u001b[15;22Haction = rules.Begin()\u001b[16;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b\b    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = result\u001b[K\r\n\u001b[K\u001b[19;13H\u001b[31m# Set up various UI candy.                                          \u001b[39;49m\r\n\u001b[20;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\u001b[21;22Hhighlight.kill()\u001b[K\u001b[22;22Hhighlight = sprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h,50)\u001b[23;29H\u001b[7m75% L160\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;22H\u001b[?25lhighlight.kill()\u001b[K\u001b[3;22Hhighlight = sprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h,50)\r\n\t\t\u001b[33mc\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices:\u001b[6;13H        \u001b[33mt1\u001b[39;49m,\u001b[33mu1\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(x,y)\r\n\t\t    \u001b[33mt2\u001b[39;49m,\u001b[33mu2\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(cx,cy)\r\n\t\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u1: \u001b[33mc\u001b[39;49m = u1.team.color\u001b[K\r\n\t\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m t1 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t1.team: \u001b[33mc\u001b[39;49m = t1.team.color\u001b[10;21H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u2: \u001b[33mc\u001b[39;49m = u2.team.color\r\n\t\t    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m: \u001b[33mc\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().color\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.putc(\u001b[35mNone\u001b[39;49m,x,y,c,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[13;22Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight)\u001b[14;22Hanimation = 0.0\u001b[K\u001b[15;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[16;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = widgets.Menu(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices)\u001b[17;22Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.sprite)\u001b[19;5H\u001b[31m# The session has multiple sprites that need to be rendered, from the       \u001b[39;49m\r\n\u001b[20;5H\u001b[31m# view of the grid to the mutliple popups that need to appear.              \u001b[39;49m\r\n\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrender\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed\u001b[K\u001b[23;29H\u001b[7m84% L179\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrender\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation >= 1.0:\u001b[5;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[K\u001b[6;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[K\u001b[8;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.show()\u001b[K\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units:\u001b[K\u001b[11;21Hu.cycle_anim()\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.render(0,0)\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L198\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u001b[24d\u001b[?25lEnd of buffer\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u0007\u0007\u0007\u001b[24d\u001b[K\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m200\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[11;35H\r\n\u001b[K\n\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.render(0,0)\u001b[23;6H\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L208\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;21H\r\t\t\b\b\b\b\r\t\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lAuto-saving...\u001b[12;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[12;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[12;15H\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36min\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25lnoti\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[14;1H\u001b[1L\u001b[1;24r\u001b[13;1H\u001b[K\n\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.render(0,0)\u001b[K\u001b[23;36H\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[13;13H\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\b\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[13;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[13;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[13;23H\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[13;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[2;5H\u001b[?25l            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.kill()\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight = sprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h,50)\r\n\t        \u001b[33mc\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[5;13H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices:\u001b[6;13H        \u001b[33mt1\u001b[39;49m,\u001b[33mu1\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(x,y)\u001b[K\r\n\t\t    \u001b[33mt2\u001b[39;49m,\u001b[33mu2\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(cx,cy)\u001b[8;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u1: \u001b[33mc\u001b[39;49m = u1.team.color\u001b[K\r\n\t\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m t1 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t1.team: \u001b[33mc\u001b[39;49m = t1.team.color\r\n\t\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u2: \u001b[33mc\u001b[39;49m = u2.team.color\u001b[11;21H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m: \u001b[33mc\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().color\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.putc(\u001b[35mNone\u001b[39;49m,x,y,c,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[13;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight)\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[15;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = widgets.Menu(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.sprite)\u001b[19;5H\u001b[31m# The session has multiple sprites that need to be rendered, from the       \u001b[39;49m\r\n\u001b[20;5H\u001b[31m# view of the grid to the mutliple popups that need to appear.              \u001b[39;49m\r\n\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrender\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed\u001b[23;29H\u001b[7m84% L19\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;22H\u001b[?25lgrid = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[3;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[K\u001b[6;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_END:\u001b[K\r\n\t\thistory = []\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m].append(history)\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (cp,acts) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history:\u001b[K\u001b[10;21Hhistory.append(acts)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.end_turn()\u001b[K\u001b[13;22Hstartover = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\u001b[14;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[15;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[K\u001b[16;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[17;22Haction = result\u001b[K\u001b[19;5H        \u001b[31m# Set up various UI candy.                                          \u001b[39;49m\r\n\u001b[20;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\u001b[K\u001b[21;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.kill()\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight = sprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h,50)\u001b[23;29H\u001b[7m75% L180\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;26H\u001b[?25l_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[3;22Hgrid.info()\u001b[K\u001b[4;22Haction = rules.Begin()\u001b[K\u001b[5;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_UNDO:\u001b[K\u001b[6;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite.kill()\u001b[K\r\n\t\tcp = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history) > 0:\u001b[K\r\n\t\t    \u001b[33mcp\u001b[39;49m, acts = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.pop()\r\n\t\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t\t    cp = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint\u001b[12;26H = copy.deepcopy(cp)\u001b[13;22Hcheckpoint = copy.deepcopy(cp)\u001b[K\u001b[14;22Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[15;22Hgrid.info()\u001b[K\u001b[16;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[17;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_RESTART:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[19;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs = []\u001b[K\u001b[20;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite.kill()\u001b[K\u001b[21;22Hgrid = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[22;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[K\u001b[23;29H\u001b[7m66% L161\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\t\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\t    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t\t        \u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.info(), \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\u001b[K\n\u001b[K\n\t\u001b[31m# If we got a result from performing an action, we will be given        \u001b[39;49m\r\n\t\u001b[31m# either an order or a new action to perform. The orders tell us that   \u001b[39;49m\r\n\t\u001b[31m# the action was complete and that we either need to commit it or       \u001b[39;49m\r\n\t\u001b[31m# undo our mess.                                                        \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result:\u001b[K\n\b\b\b\b\b\b\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result == rules.ACT_COMMIT:\u001b[K\u001b[13;22Hhistory.append((copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint),\r\n\t\t                     \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs))\u001b[K\u001b[15;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[17;38HTRASH:\u001b[K\u001b[18;22Hgrid.sprite.kill()\u001b[20;26H = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint)\u001b[21;26H_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[22;22Hgrid.info()\u001b[K\n\b\b\b\b\u001b[7m56% L142\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;25H\u001b[?25l         \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[3;21H             \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.x \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.y \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m]\u001b[4;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables):\u001b[K\r\n\t\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab %= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables)\r\n\t\t\tu = tabbables[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab]\r\n\t                \u001b[33mcx\u001b[39;49m,cy = u.x,u.y\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor != (cx,cy)):\u001b[K\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = cx,cy\u001b[K\r\n\t            \u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[12;13H        result = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.move_to(cx,cy)\u001b[K\u001b[15;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c:\u001b[K\u001b[17;13H        val = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\r\n\t\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m val:\u001b[K\r\n\t\t\u001b[8@\u001b[19;36H.append(val)\r\n\t\t        \u001b[33mresult\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(val, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\t    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[23;29H\u001b[7m46% L123\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications.append(a)\u001b[K\u001b[3;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(a.sprite)\u001b[K\r\n\u001b[K\n\t\u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\r\n\t\u001b[31m# If control does not belong to the human, then the control simply      \u001b[39;49m\r\n\t\u001b[31m# allows the player to move the map around.                             \u001b[39;49m\r\n\t\u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[K\r\n\t\u001b[33mresult\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[33minfo\u001b[39;49m = {}\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().control == \u001b[32m\"human\"\u001b[39;49m:\u001b[12;13H\u001b[8P\u001b[12;22H\u001b[35mNone\u001b[39;49m\u001b[K\u001b[13;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"left\"\u001b[39;49m: cx -=1\u001b[K\u001b[15;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"right\"\u001b[39;49m: cx +=1\u001b[K\u001b[16;21H == \u001b[32m\"up\"\u001b[39;49m: cy -= 1\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: cy += 1\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"\\t\"\u001b[39;49m:\u001b[19;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab += 1\u001b[K\u001b[20;21Htabbables = [u \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.ready\r\n\t\t\t         \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[22;21H             \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.x \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.y \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m]\u001b[23;29H\u001b[7m37% L104\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed = 0.05\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\u001b[9;5H\u001b[31m# This exports our data as a dictionary to be JSONified. If history is      \u001b[39;49m\r\n\u001b[10;5H\u001b[31m# included, it's like saving a snapshot of the game to be continued later.  \u001b[39;49m\r\n\u001b[11;5H\u001b[31m# If griddata is included, it's like using the current snapshot as a new    \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# map.                                                                      \u001b[39;49m\r\n\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, history=\u001b[35mTrue\u001b[39;49m, griddata=\u001b[35mFalse\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\r\n\u001b[K\u001b[16;5H\u001b[31m# This function takes the character that was most recently entered by the   \u001b[39;49m\r\n\u001b[17;5H\u001b[31m# player and handles it. Even if no player is playing, this function        \u001b[39;49m\r\n\u001b[18;5H\u001b[31m# essentially serves as the step function for the AI.                       \u001b[39;49m\r\n\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m a \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\u001b[K\u001b[21;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications.append(a)\u001b[K\u001b[22;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(a.sprite)\u001b[K\u001b[23;29H\u001b[7m29% L85 \u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, history=\u001b[35mTrue\u001b[39;49m, griddata=\u001b[35mFalse\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\r\n\u001b[K\u001b[5;5H\u001b[31m# This function takes the character that was most recently entered by the   \u001b[39;49m\r\n\u001b[6;5H\u001b[31m# player and handles it. Even if no player is playing, this function        \u001b[39;49m\r\n\u001b[7;5H\u001b[31m# essentially serves as the step function for the AI.                       \u001b[39;49m\r\n\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[9;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m a \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\u001b[K\u001b[10;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications.append(a)\u001b[K\u001b[11;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(a.sprite)\u001b[K\r\n\u001b[K\u001b[13;5H    \u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\r\n\t\u001b[31m# If control does not belong to the human, then the control simply      \u001b[39;49m\r\n\t\u001b[31m# allows the player to move the map around.                             \u001b[39;49m\r\n\u001b[16;5H    \u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[K\u001b[17;5H    \u001b[33mresult\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[18;5H    \u001b[33minfo\u001b[39;49m = {}\u001b[K\u001b[19;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().control == \u001b[32m\"human\"\u001b[39;49m:\r\n\t    result = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[21;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\u001b[22;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"left\"\u001b[39;49m: cx -=1\u001b[K\u001b[23;29H\u001b[7m33% L86\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l(No changes need to be saved)\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[?25l\u001b[1P\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\t\b\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l.sprite)\u001b[K\r\t\t\t\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln.sprite)\u001b[11;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[11;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[11;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[11;42H\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default widgets.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[31m# will cause the interaction to return the string of the menu. Keyboard         \u001b[39;49m\r\n\u001b[31m# shortcuts will automatically be assigned based on the first letter of         \u001b[39;49m\r\n\u001b[31m# an option.                                                                    \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mMenu\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, items):\u001b[K\u001b[7;5H    \u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(items)\u001b[K\u001b[8;5H    \u001b[33mw\u001b[39;49m = 0\u001b[K\n\bs \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m items:\u001b[K\u001b[10;13H\u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(s),w)\u001b[K\r\n\u001b[K\n\t\u001b[31m# Set up the window.                                                    \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(0,0,w+2,h+2)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,w+2,h+2),0,0)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.layer = 200\u001b[K\r\n\t\u001b[33mi\u001b[39;49m = 1\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m items:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,s),1,i)\r\n\t    \u001b[33mi\u001b[39;49m += 1\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = draw.fill(1,1,w,1,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index = 0\u001b[K\u001b[23;14H\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   15% L21\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;54H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index = 0\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items = items\u001b[K\r\n\u001b[K\u001b[6;5H\u001b[31m# This method takes the return value of gfx.get_input and handles           \u001b[39;49m\r\n\u001b[7;5H\u001b[31m# it. If a menu item is selected via Enter or keyboard shortcut,            \u001b[39;49m\r\n\u001b[8;5H\u001b[31m# that option is returned.                                                  \u001b[39;49m\r\n\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\r\n\t\u001b[33mi\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: i -= 1\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: i += 1\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i != \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index:\u001b[K\r\n\t    i = i%\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items)\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor.move_to(1,i+1)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index = i\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[18;13Hreport = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\u001b[K\u001b[19;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[23;29H\u001b[7m40% L28\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[4;5H\u001b[31m# This function just reports what value is being hovered over.              \u001b[39;49m\r\n\u001b[5;5H\u001b[31m# This can be used for tooltips.                                            \u001b[39;49m\r\n\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\u001b[7;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# Notifications are just sprites that are created with a message. This is a     \u001b[39;49m\r\n\u001b[31m# very low-level sort of behavior that I'm not crazy about, but we'll tolerate  \u001b[39;49m\r\n\u001b[31m# it for now.                                                                   \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mNotification\u001b[39;49m(sprites.Sprite):\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, layer, timeout, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[K\r\n\t\u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\u001b[K\r\n\t\u001b[33mw\u001b[39;49m = 0\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[K\u001b[19;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\u001b[K\u001b[20;13H    \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\r\n\t\u001b[33mw\u001b[39;49m += 2\u001b[K\r\n\t\u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Notification, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(x, y, w, h, layer, timeout)\u001b[23;29H\u001b[7m66% L47\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[33mw\u001b[39;49m += 2\u001b[K\r\n\t\u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Notification, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(x, y, w, h, layer, timeout)\r\n\u001b[K\u001b[5;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.fill(\u001b[32m' '\u001b[39;49m)\u001b[K\u001b[6;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\u001b[K\u001b[8;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.blit(draw.string(0,0,l,fg,bg),1,1+i)\r\n\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L66\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\r\n\u001b[K\u001b[4;5H\u001b[31m# This function just reports what value is being hovered over.              \u001b[39;49m\r\n\u001b[5;5H\u001b[31m# This can be used for tooltips.                                            \u001b[39;49m\r\n\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\r\n\u001b[K\n\n\u001b[31m# Notifications are just sprites that are created with a message. This is a     \u001b[39;49m\r\n\u001b[31m# very low-level sort of behavior that I'm not crazy about, but we'll tolerate  \u001b[39;49m\r\n\u001b[31m# it for now.                                                                   \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mNotification\u001b[39;49m(sprites.Sprite):\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, layer, timeout, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[33mlines\u001b[39;49m = s.splitlines()\r\n\t\u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\r\n\t\u001b[33mw\u001b[39;49m = 0\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[19;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\r\n\t\t\u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\r\n\t\u001b[33mw\u001b[39;49m += 2\r\n\t\u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Notification, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(x, y, w, h, layer, timeout)\u001b[23;29H\u001b[7m66%\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m59\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   68\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[12;1H\u001b[1M\u001b[1;24r\u001b[10;1H\u001b[?25l\u001b[31m# very low-level sort of behavior that I'm not crazy about, but we'll tolerate  \u001b[39;49m\r\n\u001b[C\u001b[C\u001b[31mit for now.                                                                 \u001b[39;49m\u001b[22;1H\u001b[K\u001b[10d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[23;29H\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[12;1H\u001b[1M\u001b[1;24r\u001b[10;1H\u001b[?25l\u001b[31m# it for now.                                                                   \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mNotification\u001b[39;49m(sprites.Sprite):\u001b[K\u001b[22;1H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.fill(\u001b[32m' '\u001b[39;49m)\u001b[K\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[23;30H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m#                                                                               \u001b[39;49m\r\n\u001b[A\u001b[C\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mN\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[23;30H\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;6H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mf\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mc\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mp\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mp\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mu\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mp\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mh\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mh\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mu\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ml\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;29H\u001b[?25l\u001b[7m69\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mb\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mp\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mb\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mj\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mc\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m.\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mT\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mh\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[12;1H\u001b[1L\u001b[1;24r\u001b[11;1H\u001b[K\n\u001b[?25l\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mNotification\u001b[39;49m(sprites.Sprite):\u001b[K\u001b[23;35H\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m#                                                                               \u001b[39;49m\r\n\u001b[A\u001b[C\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;30H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;3H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mp\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lAuto-saving...\u001b[11;6H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[11;6H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[11;6H\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mh\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mh\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mc\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mp\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ml\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mf\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mp\u001b[39;49m\u001b[23;30H\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m.\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/widgets.py...\u001b[11;44H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/widgets.py\u001b[K\u001b[11;44H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;44H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[12d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;44H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Notification, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(x, y, w, h, layer, timeout)\u001b[4;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.fill(\u001b[32m' '\u001b[39;49m)\u001b[K\u001b[5;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\u001b[K\u001b[6;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.blit(draw.string(0,0,l,fg,bg),1,1+i)\r\n\n\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L66\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\u001b[4;5H\u001b[31m# This function just reports what value is being hovered over.              \u001b[39;49m\r\n\u001b[5;5H\u001b[31m# This can be used for tooltips.                                            \u001b[39;49m\r\n\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\u001b[K\r\n\n\n\u001b[31m# Notifications are popups that should be tied to sprite objects. Their         \u001b[39;49m\r\n\u001b[31m# sprites are added to the pile of sprites.                                     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mNotification\u001b[39;49m(sprites.Sprite):\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, layer, timeout, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[33mlines\u001b[39;49m = s.splitlines()\r\n\t\u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\r\n\t\u001b[33mw\u001b[39;49m = 0\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[18;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\r\n\t\t\u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\r\n\t\u001b[33mw\u001b[39;49m += 2\r\n\t\u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Notification, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(x, y, w, h, layer, timeout)\u001b[23;29H\u001b[7m67%\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, layer, timeout, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[4;5H    \u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\u001b[K\u001b[5;5H    \u001b[33mw\u001b[39;49m = 0\u001b[K\u001b[6;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\u001b[K\r\n\t\t\u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\r\n\t\u001b[33mw\u001b[39;49m += 2\r\n        \u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Notification, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(x, y, w, h, layer, timeout)\u001b[K\r\n\u001b[K\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.fill(\u001b[32m' '\u001b[39;49m)\u001b[K\u001b[13;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.blit(draw.string(0,0,l,fg,bg),1,1+i)\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L68\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\b\b\b\b\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[34mu\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mp\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34md\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34ma\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mt\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34me\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[17;21H\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\u001b[K\u001b[18;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[23;35H\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[17;13H\r\t\b\b\b\b\r\u001b[17;13H\r\t\b\b\b\b\u001b[?25l\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[17;6H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mN\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mh\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mg\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m.\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;15H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;15H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m69\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;15H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;15H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;15H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;15H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;15H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;15H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;15H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/widgets.py...\u001b[5;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/widgets.py\u001b[K\u001b[5;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m59\u001b[0m\u001b[39;49m\u001b[27m\u001b[3;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[2;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[4;5H\u001b[31m# This function just reports what value is being hovered over.              \u001b[39;49m\r\n\u001b[5;5H\u001b[31m# This can be used for tooltips.                                            \u001b[39;49m\r\n\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\r\n\u001b[K\n\u001b[K\n\u001b[31m# Notifications are popups that should be tied to sprite objects. Their         \u001b[39;49m\r\n\u001b[31m# sprites are added to the pile of sprites.                                     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mNotification\u001b[39;49m(sprites.Sprite):\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, layer, timeout, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[K\r\n\t\u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\u001b[K\r\n\t\u001b[33mw\u001b[39;49m = 0\u001b[17;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[K\u001b[18;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\r\n\t        \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\r\n\t\u001b[33mw\u001b[39;49m += 2\r\n\t\u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Notification, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(x, y, w, h, layer, timeout)\u001b[23;29H\u001b[7m66% L57\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[12;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[12;14H\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[12;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@o\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@j\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@e\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@c\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lAuto-saving...\u001b[12;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[12;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[12;26H\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\u001b[?25l\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\u001b[?25lobjectSprite):\u001b[K\u001b[12;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lprite):\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrite):\u001b[K\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lite):\u001b[K\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lte):\u001b[K\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le):\u001b[K\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\u001b[?25l\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/widgets.py...\u001b[12;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/widgets.py\u001b[K\u001b[12;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m60\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;15H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\u001b[K\n\t\u001b[?25l\u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Notification, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(x, y, w, h, layer, timeout)\u001b[23;6H\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   66% L66\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[22;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, layer, timeout, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[4;5H    \u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\u001b[K\u001b[5;5H    \u001b[33mw\u001b[39;49m = 0\u001b[K\u001b[6;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\u001b[K\r\n\t\t\u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\r\n\t\u001b[33mw\u001b[39;49m += 2\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite =\u001b[K\r\n        \u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Notification, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(x, y, w, h, layer, timeout)\u001b[K\r\n\u001b[K\u001b[13;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.fill(\u001b[32m' '\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.blit(draw.string(0,0,l,fg,bg),1,1+i)\r\n\u001b[K\u001b[18;5H\u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L68\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l0)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\t\t\b\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;46H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[10;47H\b\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/widgets.py...\u001b[10;46H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/widgets.py\u001b[K\u001b[10;46H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;46H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[10;46H\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default session.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lsession.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lsession.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\t\u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, history=\u001b[35mTrue\u001b[39;49m, griddata=\u001b[35mFalse\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\r\n\u001b[K\u001b[5;5H\u001b[31m# This function takes the character that was most recently entered by the   \u001b[39;49m\r\n\u001b[6;5H\u001b[31m# player and handles it. Even if no player is playing, this function        \u001b[39;49m\r\n\u001b[7;5H\u001b[31m# essentially serves as the step function for the AI.                       \u001b[39;49m\r\n\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications.append(n)\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(n.sprite)\u001b[K\r\n\n\t\u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\r\n\t\u001b[31m# If control does not belong to the human, then the control simply      \u001b[39;49m\r\n\t\u001b[31m# allows the player to move the map around.                             \u001b[39;49m\r\n\t\u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[K\r\n\t\u001b[33mresult\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[18;5H    \u001b[33minfo\u001b[39;49m = {}\u001b[K\u001b[19;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().control == \u001b[32m\"human\"\u001b[39;49m:\r\n\t    result = \u001b[35mNone\u001b[39;49m\u001b[21;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"left\"\u001b[39;49m: cx -=1\u001b[23;14H\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   33% L85\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"left\"\u001b[39;49m: cx -=1\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"right\"\u001b[39;49m: cx +=1\u001b[5;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: cy -= 1\u001b[K\u001b[6;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: cy += 1\u001b[K\u001b[7;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"\\t\"\u001b[39;49m:\u001b[K\u001b[8;5H                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab += 1\r\n\t            tabbables = [u \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.ready\u001b[10;13H                     \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[11;13H                     \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.x \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.y \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m]\u001b[12;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables):\r\n\t                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab %= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables)\u001b[K\r\n\t                u = tabbables[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab]\u001b[K\r\n\t                \u001b[33mcx\u001b[39;49m,cy = u.x,u.y\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor != (cx,cy)):\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = cx,cy\r\n\t            \u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\u001b[20;13H\u001b[8@\u001b[20;30H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[21;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.move_to(cx,cy)\u001b[23;29H\u001b[7m42% L9\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.move_to(cx,cy)\u001b[4;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[5;21H:\u001b[K\r\n\t\t    val = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\r\n\t\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m val:\u001b[K\u001b[8;21H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(val)\u001b[9;21H    \u001b[33mresult\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(val, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\r\n\t\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[11;21H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b\b    \u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.info(), \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\u001b[K\n\u001b[K\n\t\u001b[31m# If we got a result from performing an action, we will be given        \u001b[39;49m\r\n\t\u001b[31m# either an order or a new action to perform. The orders tell us that   \u001b[39;49m\r\n\t\u001b[31m# the action was complete and that we either need to commit it or       \u001b[39;49m\r\n\t\u001b[31m# undo our mess.                                                        \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result:\u001b[K\n\b\b\b\b\b\b\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result == rules.ACT_COMMIT:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.append((copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint),\r\n\t\t                     \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs))\u001b[23;29H\u001b[7m52% L114\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.append((copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint),\r\n\t\t                     \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs))\u001b[4;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[6;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_TRASH:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite.kill()\r\n\t\t\u001b[8P\u001b[8;28H = []\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info()\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[K\u001b[13;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_UNDO:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite.kill()\r\n\t        cp = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history) > 0:\u001b[K\r\n\t            \u001b[33mcp\u001b[39;49m, acts = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.pop()\u001b[K\r\n\t        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t            cp = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint\u001b[20;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = copy.deepcopy(cp)\u001b[21;22Hcheckpoint = copy.deepcopy(cp)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[23;29H\u001b[7m62% L133\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;22H\u001b[?25lcheckpoint = copy.deepcopy(cp)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[4;22Hgrid.info()\u001b[K\u001b[6;38HRESTART:\u001b[7;22Hhistory = []\u001b[K\u001b[9;26H.sprite.kill()\u001b[K\u001b[10;26H = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[K\u001b[11;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[12;22Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[13;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[14;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_END:\r\n\t\thistory = []\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m].append(history)\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (cp,acts) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history:\u001b[K\r\n\t\t    history.append(acts)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[K\u001b[20;26H.end_turn()\u001b[K\u001b[21;22Hstartover = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[22;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\u001b[23;29H\u001b[7m71% L152\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;22H\u001b[?25lstartover = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[3;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\u001b[4;22Haction = rules.Begin()\u001b[5;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b\b    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = result\u001b[K\r\n\u001b[K\u001b[8;13H\u001b[31m# Set up various UI candy.                                          \u001b[39;49m\r\n\u001b[9;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\u001b[10;22Hhighlight.kill()\u001b[K\u001b[11;22Hhighlight = sprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h,50)\r\n\t\t\u001b[33mc\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices:\u001b[14;13H        \u001b[33mt1\u001b[39;49m,\u001b[33mu1\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(x,y)\r\n\t\t    \u001b[33mt2\u001b[39;49m,\u001b[33mu2\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(cx,cy)\r\n\t\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u1: \u001b[33mc\u001b[39;49m = u1.team.color\u001b[K\r\n\t\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m t1 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t1.team: \u001b[33mc\u001b[39;49m = t1.team.color\u001b[18;21H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u2: \u001b[33mc\u001b[39;49m = u2.team.color\r\n\t\t    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m: \u001b[33mc\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().color\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.putc(\u001b[35mNone\u001b[39;49m,x,y,c,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[21;22Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight)\u001b[22;22Hanimation = 0.0\u001b[K\u001b[23;29H\u001b[7m80% L171\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;22H\u001b[?25lgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight)\u001b[3;22Hanimation = 0.0\u001b[K\u001b[4;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[5;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = widgets.Menu(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices)\u001b[6;22Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.sprite)\u001b[8;5H\u001b[31m# The session has multiple sprites that need to be rendered, from the       \u001b[39;49m\r\n\u001b[9;5H\u001b[31m# view of the grid to the mutliple popups that need to appear.              \u001b[39;49m\r\n\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrender\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation >= 1.0:\u001b[13;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[K\u001b[14;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[K\u001b[16;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.show()\u001b[K\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units:\u001b[K\u001b[19;21Hu.cycle_anim()\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications:\u001b[K\u001b[21;13Hn.update()\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.render(0,0)\u001b[K\n\b\b\b\u001b[7m90% L190\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25ln.update()\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.render(0,0)\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\n\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L209\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u001b[24d\u001b[?25lEnd of buffer\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u0007\u0007\u0007\u0007\u0007\u001b[24d\u001b[K\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrender\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[3;14Hanimation += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation >= 1.0:\u001b[5;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[6;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[8;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.show()\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units:\u001b[11;21Hu.cycle_anim()\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications:\u001b[13;13Hn.update()\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.render(0,0)\u001b[23;36H\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;37H\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12d\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[23d\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\u001b[K\n\t\u001b[?25l\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications:\r\n\t    n.update()\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.render(0,0)\u001b[23;6H\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L208\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;21H\r\t\t\b\b\b\b\r\t\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25lnote\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\r\t\u001b[?25l\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25lnoti\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\t\b\b\r\t\u001b[?25l\u001b[33mnotifications\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lAuto-saving...\u001b[12;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[12;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[12;30H\u001b[?25l\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25lnoti\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[13d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[14;1H\u001b[1L\u001b[1;24r\u001b[13;1H\u001b[K\n\u001b[?25l        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications:\u001b[K\u001b[23;36H\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25lnoti\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l[\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l]\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m10\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[17;1H\u001b[1L\u001b[1;24r\u001b[16;1H\u001b[K\n\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.render(0,0)\u001b[K\u001b[23;36H\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[16;13H\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[18;1H\u001b[1L\u001b[1;24r\u001b[17;1H\u001b[K\n\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.render(0,0)\u001b[K\u001b[23;29H\u001b[7m94% L213\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25lnoti\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[23;30H\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;36H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[17;45H\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[17;45H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[17;45H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;45H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default widgets.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\t\u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, layer, timeout, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[K\r\n\t\u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\u001b[K\r\n\t\u001b[33mw\u001b[39;49m = 0\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[K\u001b[7;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\u001b[K\u001b[8;13H    \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\u001b[K\r\n\t\u001b[33mw\u001b[39;49m += 2\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,w,h,layer)\r\n\t\u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Notification, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(x, y, w, h, layer, timeout)\r\n\u001b[K\u001b[13;14Hfill(\u001b[32m' '\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\u001b[16;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.blit(draw.string(0,0,l,fg,bg),1,1+i)\r\n\u001b[K\u001b[18;5H\u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\n\n\n\u001b[C\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L66 \u001b[0m\u001b[39;49m\u001b[27m\u001b[10;46H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;15H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m59\u001b[0m\u001b[39;49m\u001b[27m\u001b[3;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[2;46H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\u001b[1;21r\u001b[3;1H\u001b[1L\u001b[1;24r\u001b[3;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L59\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lT\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[35mTrue\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m60\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;15H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;15H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25lpas\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\r\u001b[K\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\b\u001b[K\u001b[C\u001b[?25l-\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l1\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l<\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\u001b[K\u001b[3;14H\u001b[?25lfill(\u001b[32m' '\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.blit(draw.string(0,0,l,fg,bg),1,1+i)\r\n\u001b[K\u001b[8;5H\u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[K\r\n\u001b[K\n\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;35H\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;13H\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m80\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[13;13H\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\t\b\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lF\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25l\u001b[35mFalse\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lAuto-saving...\u001b[13;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[13;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[13;31H\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/widgets.py...\u001b[13;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/widgets.py\u001b[K\u001b[13;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;34H\u001b[?25l\u001b[7m79\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;15H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[3;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m69\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, layer, timeout, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\u001b[3;14Halive = \u001b[35mTrue\u001b[39;49m\r\n\t\u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[K\r\n\t\u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\u001b[K\r\n\t\u001b[33mw\u001b[39;49m = 0\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[8;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\u001b[K\u001b[9;5H            \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\r\n\t\u001b[33mw\u001b[39;49m += 2\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,w,h,layer)\r\n\t\u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Notification, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(x, y, w, h, layer, timeout)\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.fill(\u001b[32m' '\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\u001b[17;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.blit(draw.string(0,0,l,fg,bg),1,1+i)\u001b[19;5H\u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[20;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\n\u001b[C\u001b[7m74% L68\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[11;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;15H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[9;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;15H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\b\b\b\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;46H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   76\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[14;1H\u001b[1M\u001b[1;24r\u001b[13;9H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.fill(\u001b[32m' '\u001b[39;49m)\u001b[22;1H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[K\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[14;1H\u001b[1M\u001b[1;24r\u001b[12;9H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.fill(\u001b[32m' '\u001b[39;49m)\u001b[13;14Hblit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\u001b[22;1H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\u001b[K\n\b\b\u001b[7mBot\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\u001b[K\u001b[1;22r\u001b[14;1H\u001b[1M\u001b[1;24r\u001b[12;9H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\u001b[K\u001b[22;1H\u001b[K\u001b[12d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/widgets.py...\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/widgets.py\u001b[K\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\nTraceback (most recent call last):\r\n  File \"./rules-of-war.py\", line 8, in <module>\r\n    S = shell.Shell(*sys.argv)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 31, in __init__\r\n    self.game = session.Session(json.loads(storage.read_data(\"maps\",\"Intro.json\")))\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/session.py\", line 39, in __init__\r\n    self.grid.end_turn()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/grid.py\", line 198, in end_turn\r\n    self.alerts.append(widgets.Notification(0,0,msg,200,200,cur.color))\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/widgets.py\", line 68, in __init__\r\n    self.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\r\nAttributeError: 'Notification' object has no attribute 'blit'\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, layer, timeout, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n        \u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[K\r\n        \u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\u001b[K\r\n        \u001b[33mw\u001b[39;49m = 0\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\u001b[K\r\n                \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\u001b[K\r\n        \u001b[33mw\u001b[39;49m += 2\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,w,h,layer)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.blit(draw.string(0,0,l,fg,bg),1,1+i)\u001b[K\r\n\u001b[K\n    \u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L68   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[12d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[?25l\u001b[1@s\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;15H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@p\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@r\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@i\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@e\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[23;34H\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1@s\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@p\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@r\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@i\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@e\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/widgets.py...\u001b[14;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/widgets.py\u001b[K\u001b[14;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 82, in run\r\n    self.game.render(0,0)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/session.py\", line 214, in render\r\n    self.canvas.render(0,0)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/sprites.py\", line 123, in render\r\n    for (i,j) in update])\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/sprites.py\", line 123, in render\r\n    for (i,j) in update])\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/sprites.py\", line 117, in render\r\n    gfx.draw(dx,dy,glyph.icon,glyph.color())\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 110, in draw\r\n    if gfx: return gfx.draw(x,y,c,col)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 158, in draw\r\n    _screen.addch(y,x,str(c),mod)\r\nTypeError: argument 1 or 3 must be a ch or an int\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, layer, timeout, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n        \u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[K\r\n        \u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\u001b[K\r\n        \u001b[33mw\u001b[39;49m = 0\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\u001b[K\r\n                \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\u001b[K\r\n        \u001b[33mw\u001b[39;49m += 2\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,w,h,layer)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,l,fg,bg),1,1+i)\u001b[K\r\n\u001b[K\n    \u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L70   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[14;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m69\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\b\b\b\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default session.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lsession.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[2;5H    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[33mflag\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m flag \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn].active:\r\n\t        \u001b[33mflag\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn += 1\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams):\u001b[8;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = 0\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day += 1\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units:\r\n\t    \u001b[33mu.ready\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t    u.sprite.colorize(u.team.color,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mFalse\u001b[39;49m)\u001b[K\r\n\u001b[K\n\t\u001b[31m# Repair units and draw income.                                         \u001b[39;49m\r\n\t\u001b[33mcur\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.current_team()\u001b[16;5H    \u001b[33mmsg\u001b[39;49m = \u001b[32m\"Day %d - %s\\n%s, move out!\"\u001b[39;49m%(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name, cur.name)\u001b[K\u001b[17;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append(widgets.Notification(0,0,msg,200,200,cur.color))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cur:\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tile \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.all_tiles():\u001b[20;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur:\u001b[21;13H        \u001b[33mu\u001b[39;49m = tile.unit\u001b[22;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair):\u001b[23;14H\u001b[7m\u001b[1mgrid.py     \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   55% L197\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;75H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default widgets.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[2;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, layer, timeout, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\r\n\t\u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[K\r\n\t\u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\u001b[K\r\n\t\u001b[33mw\u001b[39;49m = 0\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[K\u001b[8;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\u001b[K\r\n\t\t\u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\u001b[K\r\n\t\u001b[33mw\u001b[39;49m += 2\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,w,h,layer)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,l,fg,bg),1,1+i)\u001b[K\r\n\u001b[K\u001b[16;5H\u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[K\u001b[20;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[K\u001b[21;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[23;14H\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L67 \u001b[0m\u001b[39;49m\u001b[27m\u001b[11;46H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default grid.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lsession.py\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ldraw.py\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[K\n\u001b[K\n\u001b[31m# This creates a sprite for a string.                                           \u001b[39;49m\r\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mstring\u001b[0m\u001b[39;49m(x,y,s,fg=\u001b[32m\"w\"\u001b[39;49m,bg=\u001b[32m\"X\"\u001b[39;49m,bold=\u001b[35mFalse\u001b[39;49m,invert=\u001b[35mFalse\u001b[39;49m,layer=0):\u001b[6;5H\u001b[33mreport\u001b[39;49m = sprites.Sprite(x,y,\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(s),1,layer)\u001b[7;5H\u001b[33mi\u001b[39;49m = 0\u001b[K\u001b[8;5H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m c \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m s:\u001b[K\r\n\treport.putc(c,i,0,fg,bg,bold,invert)\r\n\t\u001b[33mi\u001b[39;49m += 1\u001b[11;5H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# This fills a rectangle from x,y to x+w,y+h with the character c in the given  \u001b[39;49m\r\n\u001b[31m# style. If the character isn't given, space is used (so it basically clears    \u001b[39;49m\r\n\u001b[4P\u001b[C\u001b[C\u001b[31mthe area\u001b[39;49m\u001b[4@\u001b[31m).  \u001b[39;49m\r\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mfill\u001b[0m\u001b[39;49m(x,y,w,h,c=\u001b[32m\" \"\u001b[39;49m,fg=\u001b[32m\"w\"\u001b[39;49m,bg=\u001b[32m\"X\"\u001b[39;49m,bold=\u001b[35mFalse\u001b[39;49m,invert=\u001b[35mFalse\u001b[39;49m,layer=0):\u001b[18;5H\u001b[33mreport\u001b[39;49m = sprites.Sprite(x,y,w,h,layer)\u001b[19;5Hreport.fill(c,fg,bg,bold,invert)\u001b[20;5H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\u001b[K\u001b[23;14H\u001b[7m\u001b[1mdraw.py     \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   23% L32\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l\u001b[31m# This module contains fancy actions that create new sprite objects that can    \u001b[39;49m\r\n\u001b[31m# be drawn on the screen or blitted to another sprite.                          \u001b[39;49m\r\n\u001b[K\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m . \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m sprites\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# This gives you a sprite that is a single character.                           \u001b[39;49m\r\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mchar\u001b[0m\u001b[39;49m(x,y,c,fg=\u001b[32m\"w\"\u001b[39;49m,bg=\u001b[32m\"X\"\u001b[39;49m,bold=\u001b[35mFalse\u001b[39;49m,invert=\u001b[35mFalse\u001b[39;49m,layer=0):\u001b[10;5H\u001b[33mreport\u001b[39;49m = sprites.Sprite(x,y,1,1,layer)\u001b[11;5Hreport.putc(c,0,0,fg,bg,bold,invert)\u001b[12;5H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\r\n\n\u001b[K\u001b[15;3H\u001b[31mThis creates a sprite for a string.                                       \u001b[39;49m\r\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mstring\u001b[0m\u001b[39;49m(x,y,s,fg=\u001b[32m\"w\"\u001b[39;49m,bg=\u001b[32m\"X\"\u001b[39;49m,bold=\u001b[35mFalse\u001b[39;49m,invert=\u001b[35mFalse\u001b[39;49m,layer=0):\u001b[K\r\n    \u001b[33mreport\u001b[39;49m = sprites.Sprite(x,y,\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(s),1,layer)\u001b[K\u001b[18;5H\u001b[33mi\u001b[39;49m = 0\u001b[K\n\b\b\b\b\b\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m c \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m s:\u001b[K\u001b[20;5H    report.putc(c,i,0,fg,bg,bold,invert)\r\n\t\u001b[33mi\u001b[39;49m += 1\u001b[22;5H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[23;29H\u001b[7mTop L21\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l        \u001b[33mi\u001b[39;49m += 1\u001b[K\r\n    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\n\u001b[K\n\u001b[31m# This fills a rectangle from x,y to x+w,y+h with the character c in the given  \u001b[39;49m\r\n\u001b[31m# style. If the character isn't given, space is used (so it basically clears    \u001b[39;49m\r\n\u001b[8;3H\u001b[31mthe area).                                         \u001b[39;49m\u001b[9;5H\u001b[1m\u001b[34mfill\u001b[0m\u001b[39;49m(x,y,w\u001b[8@,h,c=\u001b[32m\" \"\u001b[39;49m\n\t\tw,h\u001b[11;12Hfill(c\u001b[4P\u001b[15;8H\u001b[31mdraws a border around the box defined by x,y,w,h.\u001b[39;49m\u001b[16;5H\u001b[1m\u001b[34mborder\u001b[0m\u001b[39;49m(x,y,w\u001b[15@,h,code=\u001b[32m\"--||+\"\u001b[39;49m\n\tw,h,layer)\u001b[K\u001b[18;5H\u001b[33mtop\u001b[39;49m,\u001b[33mbottom\u001b[39;49m,\u001b[33mleft\u001b[39;49m,\u001b[33mright\u001b[39;49m,\u001b[33mcorner\u001b[39;49m = code\r\n\ti \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(w):\n\b\bt\u001b[2@op\r\n\treport.putc(bottom,i,h-1,fg,bg,bold,invert)\u001b[22;5H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m j \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(h):\u001b[23;29H\u001b[7m37%\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lC-x\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;4H\u001b[?25l-\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;4H\u001b[?25l b\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l\u001b[34mSwitch to buffer (default widgets.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[2;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, layer, timeout, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\u001b[3;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\r\n\t\u001b[33mlines\u001b[39;49m = s.splitlines()\r\n\t\u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\r\n        \u001b[33mw\u001b[39;49m = 0\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\u001b[K\r\n                \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\u001b[K\u001b[10;5H    \u001b[33mw\u001b[39;49m += 2\u001b[K\u001b[11;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,w,h,layer)\u001b[12;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\u001b[14;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,l,fg,bg),1,1+i)\r\n\u001b[K\n    \u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\u001b[18;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\u001b[19;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[23;14H\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L67\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;46H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[C\u001b[C\u001b[?25l=)\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/widgets.py...\u001b[11;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/widgets.py\u001b[K\u001b[11;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[31m\u001b[40m|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[31m\u001b[40m|Ramen, move out!|\u001b(B\u001b[0;1m\u001b[34m\u001b[40m$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m........\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[3;18H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[C\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m-\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[31m\u001b[40m-\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m-\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[31m\u001b[40m-\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40ma\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2d\b\u001b[31m\u001b[40ma\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40ma\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3d\b\u001b[31m\u001b[40ma\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m-\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4d\b\u001b[31m\u001b[40m-\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5d\b\u001b[32m\u001b[40m.\u001b[6d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[7d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[8d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 95, in run\r\n    gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 88, in refresh\r\n    if gfx: return gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 105, in refresh\r\n    curses.napms(20)\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, layer, timeout, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n        \u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[K\r\n        \u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\u001b[K\r\n        \u001b[33mw\u001b[39;49m = 0\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\u001b[K\r\n                \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\u001b[K\r\n        \u001b[33mw\u001b[39;49m += 2\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,w,h,layer=layer)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,l,fg,bg),1,1+i)\u001b[K\r\n\u001b[K\n    \u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L67   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[11;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[11;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;15H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m59\u001b[0m\u001b[39;49m\u001b[27m\u001b[3;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[2;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[4;5H\u001b[31m# This function just reports what value is being hovered over.              \u001b[39;49m\r\n\u001b[5;5H\u001b[31m# This can be used for tooltips.                                            \u001b[39;49m\r\n\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\r\n\u001b[K\n\u001b[K\n\u001b[31m# Notifications are popups that should be tied to sprite objects. Their         \u001b[39;49m\r\n\u001b[31m# sprites are added to the pile of sprites.                                     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mNotification\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, layer, timeout, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[16;5H    \u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\u001b[K\u001b[17;5H    \u001b[33mw\u001b[39;49m = 0\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\u001b[K\u001b[20;13H    \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\u001b[K\r\n\t\u001b[33mw\u001b[39;49m += 2\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,w,h,layer=layer)\u001b[23;29H\u001b[7m64% L57\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;44H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[33mw\u001b[39;49m += 2\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,w,h,layer=layer)\u001b[4;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\u001b[K\u001b[5;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\u001b[K\u001b[6;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,l,fg,bg),1,1+i)\r\n\u001b[K\u001b[8;5H\u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[13;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L66\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u001b[24d\u001b[?25lEnd of buffer\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u0007\u0007\u001b[24d\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L79\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m80\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m79\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m#                                                                               \u001b[39;49m\r\n\u001b[A\u001b[C\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[24;1H\u001b[?25lAuto-saving...\u001b[15;3H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[15;3H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\r\n\u001b[K\u001b[4;5H\u001b[31m# This function just reports what value is being hovered over.              \u001b[39;49m\r\n\u001b[5;5H\u001b[31m# This can be used for tooltips.                                            \u001b[39;49m\r\n\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\r\n\u001b[K\n\u001b[K\n\u001b[31m# Notifications are popups that should be tied to sprite objects. Their         \u001b[39;49m\r\n\u001b[31m# sprites are added to the pile of sprites.                                     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mNotification\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, layer, timeout, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\r\n        \u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[K\r\n\t\u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\r\n\t\u001b[33mw\u001b[39;49m = 0\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[19;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\r\n\t\t\u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\r\n\t\u001b[33mw\u001b[39;49m += 2\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,w,h,layer=layer)\u001b[23;29H\u001b[7m64% L67\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[33mw\u001b[39;49m += 2\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,w,h,layer=layer)\u001b[4;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\u001b[K\u001b[5;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\u001b[K\u001b[6;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,l,fg,bg),1,1+i)\r\n\u001b[K\u001b[8;5H\u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[13;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[31m#                                                                               \u001b[39;49m\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u001b[24d\u001b[?25lEnd of buffer\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m80\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u001b[24d\u001b[?25lEnd of buffer\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u0007\u0007\u001b[24d\u001b[K\u001b[23;34H\u001b[?25l\u001b[7m79\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;3H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\r\n\u001b[K\u001b[4;5H\u001b[31m# This function just reports what value is being hovered over.              \u001b[39;49m\r\n\u001b[5;5H\u001b[31m# This can be used for tooltips.                                            \u001b[39;49m\r\n\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\r\n\u001b[K\n\u001b[K\n\u001b[31m# Notifications are popups that should be tied to sprite objects. Their         \u001b[39;49m\r\n\u001b[31m# sprites are added to the pile of sprites.                                     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mNotification\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, layer, timeout, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\r\n        \u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[K\r\n\t\u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\r\n\t\u001b[33mw\u001b[39;49m = 0\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[19;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\r\n\t\t\u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\r\n\t\u001b[33mw\u001b[39;49m += 2\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,w,h,layer=layer)\u001b[23;29H\u001b[7m64% L67\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[33mw\u001b[39;49m += 2\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,w,h,layer=layer)\u001b[4;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\u001b[K\u001b[5;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\u001b[K\u001b[6;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,l,fg,bg),1,1+i)\r\n\u001b[K\u001b[8;5H\u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[13;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[31m#                                                                               \u001b[39;49m\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m80\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m79\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;3H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mT\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mh\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mC\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mu\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mf\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mc\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mu\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mm\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mc\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mg\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m/\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mc\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mg\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mH\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mP\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mf\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m80\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m#                                                                               \u001b[39;49m\r\n\u001b[A\u001b[C\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mc\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mm\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mb\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m,\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mc\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mp\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mu\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mg\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m,\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mc\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mj\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mg\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m,\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mc\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m.\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23d\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\r\n\u001b[K\u001b[4;5H\u001b[31m# This function just reports what value is being hovered over.              \u001b[39;49m\r\n\u001b[5;5H\u001b[31m# This can be used for tooltips.                                            \u001b[39;49m\r\n\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\r\n\u001b[K\n\u001b[K\n\u001b[31m# Notifications are popups that should be tied to sprite objects. Their         \u001b[39;49m\r\n\u001b[31m# sprites are added to the pile of sprites.                                     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mNotification\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, layer, timeout, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\r\n        \u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[K\r\n        \u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\u001b[K\r\n\t\u001b[33mw\u001b[39;49m = 0\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[19;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\r\n\t\t\u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\r\n\t\u001b[33mw\u001b[39;49m += 2\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,w,h,layer=layer)\u001b[23;29H\u001b[7m61% L67\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[33mw\u001b[39;49m += 2\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,w,h,layer=layer)\u001b[4;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\u001b[K\u001b[5;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\u001b[K\u001b[6;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,l,fg,bg),1,1+i)\r\n\u001b[K\u001b[8;5H\u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[13;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[31m# The Counter notification is used to animate increasing/decreasing HP after    \u001b[39;49m\r\n\u001b[31m# combat, capturing, joining, etc.                                              \u001b[39;49m\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[A\t\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\r\n\u001b[K\u001b[4;5H\u001b[31m# This function just reports what value is being hovered over.              \u001b[39;49m\r\n\u001b[5;5H\u001b[31m# This can be used for tooltips.                                            \u001b[39;49m\r\n\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\r\n\u001b[K\n\u001b[K\n\u001b[31m# Notifications are popups that should be tied to sprite objects. Their         \u001b[39;49m\r\n\u001b[31m# sprites are added to the pile of sprites.                                     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mNotification\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, layer, timeout, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\r\n        \u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[K\r\n        \u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\u001b[K\r\n\t\u001b[33mw\u001b[39;49m = 0\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[19;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\r\n\t\t\u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\r\n\t\u001b[33mw\u001b[39;49m += 2\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,w,h,layer=layer)\u001b[23;29H\u001b[7m61%\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[33mw\u001b[39;49m += 2\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,w,h,layer=layer)\u001b[4;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\u001b[K\u001b[5;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\u001b[K\u001b[6;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,l,fg,bg),1,1+i)\r\n\u001b[K\u001b[8;5H\u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[13;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[31m# The Counter notification is used to animate increasing/decreasing HP after    \u001b[39;49m\r\n\u001b[31m# combat, capturing, joining, etc.                                              \u001b[39;49m\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m80\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lAuto-saving...\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[17d\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[?25l\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32mC\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mu\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lj\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\u001b[?25l\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\u001b[17;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[17;22H\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[18;5H\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[34m_\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34m_\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mi\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mn\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mi\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mt\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34m_\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34m_\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25lself0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\t\b\b\u001b[K\b\b\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[C\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\r\n\u001b[K\u001b[4;5H\u001b[31m# This function just reports what value is being hovered over.              \u001b[39;49m\r\n\u001b[5;5H\u001b[31m# This can be used for tooltips.                                            \u001b[39;49m\r\n\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\r\n\u001b[K\n\u001b[K\n\u001b[31m# Notifications are popups that should be tied to sprite objects. Their         \u001b[39;49m\r\n\u001b[31m# sprites are added to the pile of sprites.                                     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mNotification\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, layer, timeout, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\r\n        \u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[K\r\n        \u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\u001b[K\r\n        \u001b[33mw\u001b[39;49m = 0\u001b[K\u001b[18;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[K\u001b[19;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\r\n\t\t\u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\r\n\t\u001b[33mw\u001b[39;49m += 2\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,w,h,layer=layer)\u001b[23;29H\u001b[7m60% L67\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[33mw\u001b[39;49m += 2\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,w,h,layer=layer)\u001b[4;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\u001b[K\u001b[5;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\u001b[K\u001b[6;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,l,fg,bg),1,1+i)\r\n\u001b[K\u001b[8;5H\u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[13;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[31m# The Counter notification is used to animate increasing/decreasing HP after    \u001b[39;49m\r\n\u001b[31m# combat, capturing, joining, etc.                                              \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mCounter\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y,\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m80\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[18;30H\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[C\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\r\n\u001b[K\u001b[4;5H\u001b[31m# This function just reports what value is being hovered over.              \u001b[39;49m\r\n\u001b[5;5H\u001b[31m# This can be used for tooltips.                                            \u001b[39;49m\r\n\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\r\n\u001b[K\n\u001b[K\n\u001b[31m# Notifications are popups that should be tied to sprite objects. Their         \u001b[39;49m\r\n\u001b[31m# sprites are added to the pile of sprites.                                     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mNotification\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, layer, timeout, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\r\n        \u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[K\r\n        \u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\u001b[K\r\n        \u001b[33mw\u001b[39;49m = 0\u001b[K\u001b[18;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[K\u001b[19;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\r\n\t\t\u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\r\n\t\u001b[33mw\u001b[39;49m += 2\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,w,h,layer=layer)\u001b[23;29H\u001b[7m60% L67\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[33mw\u001b[39;49m += 2\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,w,h,layer=layer)\u001b[4;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\u001b[K\u001b[5;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\u001b[K\u001b[6;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,l,fg,bg),1,1+i)\r\n\u001b[K\u001b[8;5H\u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[13;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[31m# The Counter notification is used to animate increasing/decreasing HP after    \u001b[39;49m\r\n\u001b[31m# combat, capturing, joining, etc.                                              \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mCounter\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, start, end\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m80\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[36mdel\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25ldela\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\r\n\u001b[K\u001b[4;5H\u001b[31m# This function just reports what value is being hovered over.              \u001b[39;49m\r\n\u001b[5;5H\u001b[31m# This can be used for tooltips.                                            \u001b[39;49m\r\n\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\r\n\u001b[K\n\u001b[K\n\u001b[31m# Notifications are popups that should be tied to sprite objects. Their         \u001b[39;49m\r\n\u001b[31m# sprites are added to the pile of sprites.                                     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mNotification\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, layer, timeout, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\r\n        \u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[K\r\n        \u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\u001b[K\r\n        \u001b[33mw\u001b[39;49m = 0\u001b[K\u001b[18;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[K\u001b[19;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\r\n\t\t\u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\r\n\t\u001b[33mw\u001b[39;49m += 2\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,w,h,layer=layer)\u001b[23;29H\u001b[7m59% L67\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[33mw\u001b[39;49m += 2\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,w,h,layer=layer)\u001b[4;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\u001b[K\u001b[5;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\u001b[K\u001b[6;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,l,fg,bg),1,1+i)\r\n\u001b[K\u001b[8;5H\u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[13;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[31m# The Counter notification is used to animate increasing/decreasing HP after    \u001b[39;49m\r\n\u001b[31m# combat, capturing, joining, etc.                                              \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mCounter\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, start, end, delay, timer\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m80\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[18;54H\b\u001b[K\b\u001b[K\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\r\n\u001b[K\u001b[4;5H\u001b[31m# This function just reports what value is being hovered over.              \u001b[39;49m\r\n\u001b[5;5H\u001b[31m# This can be used for tooltips.                                            \u001b[39;49m\r\n\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\r\n\u001b[K\n\u001b[K\n\u001b[31m# Notifications are popups that should be tied to sprite objects. Their         \u001b[39;49m\r\n\u001b[31m# sprites are added to the pile of sprites.                                     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mNotification\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, layer, timeout, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\r\n        \u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[K\r\n        \u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\u001b[K\r\n        \u001b[33mw\u001b[39;49m = 0\u001b[K\u001b[18;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[K\u001b[19;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\r\n\t\t\u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\r\n\t\u001b[33mw\u001b[39;49m += 2\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,w,h,layer=layer)\u001b[23;29H\u001b[7m59% L67\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[33mw\u001b[39;49m += 2\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,w,h,layer=layer)\u001b[4;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\u001b[K\u001b[5;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\u001b[K\u001b[6;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,l,fg,bg),1,1+i)\r\n\u001b[K\u001b[8;5H\u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[13;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[31m# The Counter notification is used to animate increasing/decreasing HP after    \u001b[39;49m\r\n\u001b[31m# combat, capturing, joining, etc.                                              \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mCounter\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, start, end, delay, timeout\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lAuto-saving...\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m80\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;56H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"                   \u001b[39;49m\r\n\u001b[18;62H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mw\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m'           \u001b[39;49m\r\n\u001b[18;70H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25l\u001b[32m\"           \u001b[39;49m\r\n\u001b[18;70H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mX\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\r\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\t\t\t\t\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\r\n\n\n\n\n\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/widgets.py...\u001b[19;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/widgets.py\u001b[K\u001b[19;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[K\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\r\n\u001b[K\u001b[4;5H\u001b[31m# This function just reports what value is being hovered over.              \u001b[39;49m\r\n\u001b[5;5H\u001b[31m# This can be used for tooltips.                                            \u001b[39;49m\r\n\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\r\n\u001b[K\n\u001b[K\n\u001b[31m# Notifications are popups that should be tied to sprite objects. Their         \u001b[39;49m\r\n\u001b[31m# sprites are added to the pile of sprites.                                     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mNotification\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, layer, timeout, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\r\n        \u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[K\r\n        \u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\u001b[K\r\n        \u001b[33mw\u001b[39;49m = 0\u001b[K\u001b[18;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[K\u001b[19;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\r\n\t\t\u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\r\n\t\u001b[33mw\u001b[39;49m += 2\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,w,h,layer=layer)\u001b[23;29H\u001b[7m59% L67\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[33mw\u001b[39;49m += 2\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,w,h,layer=layer)\u001b[4;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\u001b[K\u001b[5;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\u001b[K\u001b[6;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,l,fg,bg),1,1+i)\r\n\u001b[K\u001b[8;5H\u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[13;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[31m# The Counter notification is used to animate increasing/decreasing HP after    \u001b[39;49m\r\n\u001b[31m# combat, capturing, joining, etc.                                              \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mCounter\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, start, end, delay, timeout, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m80\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\n\n\n\n\u001b[?25lEnd of buffer\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\n\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L85\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\t\b\b\b\b\r\t\b\b\b\b\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[34mu\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mp\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34md\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34ma\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mt\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34me\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[21;21H\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\t\r\n\n\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/widgets.py...\u001b[22;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/widgets.py\u001b[K\u001b[22;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\b\b\b\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[A\t\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[K\u001b[22;9H\r\n\n\u001b[?25l(No changes need to be saved)\u001b[22;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[K\u001b[22;9H\u001b[?25ls\n\b\b\b\b\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[22;10H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\r\n\u001b[K\u001b[4;5H\u001b[31m# This function just reports what value is being hovered over.              \u001b[39;49m\r\n\u001b[5;5H\u001b[31m# This can be used for tooltips.                                            \u001b[39;49m\r\n\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\r\n\u001b[K\n\u001b[K\n\u001b[31m# Notifications are popups that should be tied to sprite objects. Their         \u001b[39;49m\r\n\u001b[31m# sprites are added to the pile of sprites.                                     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mNotification\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, layer, timeout, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\r\n        \u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[K\r\n        \u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\u001b[K\r\n        \u001b[33mw\u001b[39;49m = 0\u001b[K\u001b[18;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[K\u001b[19;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\r\n\t\t\u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\u001b[21;5H    \u001b[33mw\u001b[39;49m += 2\u001b[K\n\bsprite = draw.fill(x,y,w,h,layer=layer)\u001b[23;29H\u001b[7m58% L67\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[33mw\u001b[39;49m += 2\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,w,h,layer=layer)\u001b[4;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\u001b[K\u001b[5;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\u001b[K\u001b[6;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,l,fg,bg),1,1+i)\r\n\u001b[K\u001b[8;5H\u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[13;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[31m# The Counter notification is used to animate increasing/decreasing HP after    \u001b[39;49m\r\n\u001b[31m# combat, capturing, joining, etc.                                              \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mCounter\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, start, end, delay, timeout, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\u001b[K\n\u001b[K\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[22;14Htim\u001b[K\u001b[23;29H\u001b[7mBot\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[A\t\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\r\n\u001b[K\u001b[4;5H\u001b[31m# This function just reports what value is being hovered over.              \u001b[39;49m\r\n\u001b[5;5H\u001b[31m# This can be used for tooltips.                                            \u001b[39;49m\r\n\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\r\n\u001b[K\n\u001b[K\n\u001b[31m# Notifications are popups that should be tied to sprite objects. Their         \u001b[39;49m\r\n\u001b[31m# sprites are added to the pile of sprites.                                     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mNotification\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, layer, timeout, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\r\n        \u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[K\r\n        \u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\u001b[K\r\n        \u001b[33mw\u001b[39;49m = 0\u001b[K\u001b[18;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[K\u001b[19;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\r\n\t\t\u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\u001b[21;5H    \u001b[33mw\u001b[39;49m += 2\u001b[K\n\bsprite = draw.fill(x,y,w,h,layer=layer)\u001b[23;29H\u001b[7m58%\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m59\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[15;1H\u001b[1L\u001b[1;24r\u001b[15;1H\u001b[K\u001b[23;34H\u001b[?25l\u001b[7m60\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l=\u001b[23;30H\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m59\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[?25l\u001b[1@r\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l        \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\r\n\t\u001b[33mw\u001b[39;49m += 2\u001b[4;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,w,h,layer=layer)\u001b[K\u001b[5;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\u001b[K\u001b[6;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,l,fg,bg),1,1+i)\u001b[9;5H\u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0\u001b[13;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[K\r\n\t\u001b[4@\u001b[14;26H\u001b[35mFalse\u001b[39;49m\r\n\u001b[K\n\u001b[31m# The Counter notification is used to animate increasing/decreasing HP after    \u001b[39;49m\r\n\u001b[31m# combat, capturing, joining, etc.                                              \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mCounter\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, start, end, delay, timeout, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\u001b[K\n\u001b[K\u001b[22;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[23;29H\u001b[7m77% L66\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lAuto-saving...\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m80\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[19;74H\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[?25l\u001b[1@r\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/widgets.py...\u001b[19;54H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/widgets.py\u001b[K\u001b[19;54H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;54H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[22;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\r\n\u001b[K\n\u001b[31m# The Counter notification is used to animate increasing/decreasing HP after    \u001b[39;49m\r\n\u001b[31m# combat, capturing, joining, etc.                                              \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mCounter\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, start, end, delay, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\u001b[K\n\u001b[K\u001b[11;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tim\u001b[K\r\n\u001b[K\n\u001b[K\n\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\n\n\u001b[K\u001b[23;29H\u001b[7mBot L87\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/widgets.py...\u001b[12;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/widgets.py\u001b[K\u001b[12;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/widgets.py...\u001b[12;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/widgets.py\u001b[K\u001b[12;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\u001b[C\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l-\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\u001b[K\b\b\u001b[K\u001b[C\u001b[?25l-\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l1\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/widgets.py...\u001b[13;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/widgets.py\u001b[K\u001b[13;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[11;22H\r\n\u001b[K\n\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[23;6H\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L87\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[36mdel\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25ldela\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l-\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l1\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/widgets.py...\u001b[12;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/widgets.py\u001b[K\u001b[12;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[12;24H\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[12;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[12;24H\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[12;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\u001b[K\u001b[13;14H\u001b[?25ldelay\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[23;6H\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L87\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[36mdel\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25ldela\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\b\b\u001b[K\u001b[C\u001b[?25l>\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[4@\u001b[13;13H\u001b[13;28H\u001b[1;22r\u001b[15;1H\u001b[1L\u001b[1;24r\u001b[14;1H\u001b[K\n\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\u001b[23;35H\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[16;1H\u001b[1L\u001b[1;24r\u001b[15;1H\u001b[K\n\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\u001b[23;34H\u001b[7m90\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m89\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[14;13H\r\t\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lCloses \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay > 0:\u001b[14;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[16;1H\u001b[1L\u001b[1;24r\u001b[24;1H\u001b[K\u001b[16d\u001b[K\u001b[23;34H\u001b[?25l\u001b[7m90\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[15;13H\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l<\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l+\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\u001b[?25l\u001b[33mstart\u001b[39;49m +=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l1\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[17;1H\u001b[1L\u001b[1;24r\u001b[17;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[16;13H\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[C\u001b[C\u001b[C\u001b[C\b\b\b\b\b\u001b[24;1H\u001b[?25lAuto-saving...\u001b[15;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[15;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[15;23H\b\b\b\b\b\b\b\t\u001b[?25l\u001b[1@s\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@e\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@l\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@f\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[1@.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[C\u001b[?25lstart\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lestart\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25llstart\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lfstart\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[16;29H\u001b[?25l>\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lCloses \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start < end: \u001b[33mstart\u001b[39;49m += 1\u001b[16;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[16;36H\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l-\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\u001b[?25l\u001b[33mstart\u001b[39;49m -=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l1\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;44H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[?25l\u001b[1@s\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[1@e\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@l\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@f\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[1@.\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1@s\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1@e\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@l\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@f\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[1@.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[16;51H\b\b\b\b\b\b\b\b\b\b\u001b[C\u001b[?25l\u001b[1@\u001b[33ms\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[33me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[33ml\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[33mf\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start -= 1\u001b[16;46H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;46H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\u001b[C\t\b\u001b[?25l\u001b[1@\u001b[33ms\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[33me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[33ml\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[33mf\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start += 1\u001b[15;44H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;44H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\b\u001b[1;22r\u001b[18;1H\u001b[1L\u001b[1;24r\u001b[18;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[17;13H\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m89\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m90\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m89\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m90\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[15;54H\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[24;1H\u001b[?25lAuto-saving...\u001b[15;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[15;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[15;37H\u001b[C\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[17;1H\u001b[1L\u001b[1;24r\u001b[15;38H\u001b[K\r\n\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start += 1\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start -= 1\u001b[K\u001b[23;35H\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[16@\t\t\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\t\t\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[19;1H\u001b[1L\u001b[1;24r\u001b[17;40H\u001b[K\r\n\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start -= 1\r\n\u001b[K\u001b[23;35H\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[16@\t\t\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\b\u001b[1;22r\u001b[19;1H\u001b[1L\u001b[1;24r\u001b[17;1H\u001b[K\u001b[18;13H\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end:\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start -= 1\u001b[K\n\n\n\n\b\b\b\u001b[7m82% L92\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\t\u001b[?25lselfs\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\t\u001b[?25lselfs\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\u001b[C\u001b[?25l )\u001b[23;30H\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[18;1H\u001b[1L\u001b[1;24r\u001b[17;1H\u001b[K\n\u001b[?25l                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit( )\u001b[K\n\n\n\n\n\b\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25l\u001b[32m\"                                                               \u001b[39;49m\r\n\u001b[32m                self.sprite.blit( )                                             \u001b[39;49m\r\n\u001b[17;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m%\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l\u001b[32m            elif self.start > self.end:                                         \u001b[39;49m\r\n\u001b[32m                self.start -= 1                                                 \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[17;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m3\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m3\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m%\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m%\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m%\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit( )\u001b[K\u001b[17;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end:\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start -= 1\u001b[K\r\n\u001b[K\n\u001b[K\u001b[17;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l%\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[C\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[?25l\u001b[1@m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@s\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@g\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@ \u001b[23;30H\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\t\u001b[?25l\u001b[33mmsg\u001b[39;49m \u001b[1@=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@ \u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[23;30H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lMark set\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25l\u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[23;30H\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18d\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\n\n\b\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\u001b[?25lMark set\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25l\u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[23;29H\u001b[7m79\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l )\b\u001b[?12l\u001b[?25h\u001b[?12;25h\n\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[A\u001b[A\b\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\n\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l )\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23d\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23d\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m89\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[19;1H\u001b[1L\u001b[1;24r\u001b[15;1H\u001b[K\u001b[16;13H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start += 1\u001b[K\r\n\t\t\u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit( )\u001b[K\n\n\n\n\b\b\u001b[7m90\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;30H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\b\b\b\u001b[?25l\u001b[33mmsg\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32m\"                                                             \u001b[39;49m\r\n\u001b[32m            if self.start < self.end:                                           \u001b[39;49m\r\n\u001b[15;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end:\u001b[K\u001b[15;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\u001b[?25lAuto-saving...\u001b[20;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[20;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[22;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;18H\u001b[?25ldelay -= 1\u001b[K\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[33mmsg\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end:\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start += 1\u001b[K\r\n                \u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[8;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit( )\u001b[K\u001b[9;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start -= 1\u001b[11;5H            \u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit( )\r\n\u001b[K\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L98\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\u001b[C\b\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;22r\u001b[14;1H\u001b[1M\u001b[1;24r\u001b[12;13H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m msg:\r\n\u001b[K\u001b[22d\u001b[K\u001b[12d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[1;22r\u001b[10;1H\u001b[1M\u001b[1;24r\u001b[8;13H\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end:\u001b[9;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start -= 1\u001b[K\u001b[22;1H\u001b[K\u001b[8d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[14;1H\u001b[1L\u001b[1;24r\u001b[13;1H\u001b[K\n\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\u001b[23;35H\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lMark set\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit( )\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[12;36H\b\b\u001b[?25ld )\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr )\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la )\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw )\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l. )\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls )\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr )\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li )\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln )\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt )\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l )\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l )\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l )\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l )\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt )\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m )\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25lstri )\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln )\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg )\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l( )\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l) )\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l1) )\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,) )\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l1) )\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,) )\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm) )\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls) )\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg) )\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@0\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l,msg) )\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0,msg) )\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[?25l, )\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0 )\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l, )\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0 )\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l, )\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l )\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l )\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l )\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l )\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l1 )\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l, )\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l1 )\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[14;1H\u001b[1L\u001b[1;24r\u001b[12;58H\u001b[K\r\n\u001b[C\u001b[?25l)\r\n\u001b[K\u001b[23;35H\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[14;1H\u001b[1M\u001b[1;24r\u001b[12;59H\u001b[?25l)\r\n\u001b[K\u001b[22d\u001b[K\u001b[23;35H\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;58H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\b\b\b\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;59H\b\b\u001b[24;1H\u001b[?25lAuto-saving...\u001b[12;57H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[12;57H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[12;56H\b\b\b\b\b\b\b\b\u001b[12;59H\b\b\b\b\b\b\b\u001b[C\u001b[?25l,),1,1)\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls),1,1)\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le),1,1)\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll),1,1)\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m),1,1)\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.),1,1)\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc),1,1)\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo),1,1)\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll),1,1)\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/widgets.py...\u001b[12;62H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/widgets.py\u001b[K\u001b[12;62H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;62H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\u001b[4;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,l,fg,bg),1,1+i)\r\n\u001b[K\u001b[6;5H\u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[K\u001b[10;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[K\u001b[11;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\r\n\u001b[K\n\u001b[31m# The Counter notification is used to animate increasing/decreasing HP after    \u001b[39;49m\r\n\u001b[31m# combat, capturing, joining, etc.                                              \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mCounter\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, start, end, delay, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay > 0:\u001b[21;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay -= 1\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[23;29H\u001b[7m70% L89\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m79\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   71\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[11;1H\u001b[1M\u001b[1;24r\u001b[9;13H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[10;18Halive = \u001b[35mFalse\u001b[39;49m\u001b[22;1H            \u001b[33mmsg\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[23;30H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[11;1H\u001b[1M\u001b[1;24r\u001b[9;13H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\r\n\u001b[K\u001b[22d            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end:\u001b[K\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[24d\u001b[?25lMark set\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[11;1H\u001b[2L\u001b[1;24r\u001b[9;9H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[10;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[23;30H\u001b[7m0% L78\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[H\n\t\u001b[?25l    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay -= 1\u001b[K\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[33mmsg\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\u001b[5;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end:\u001b[6;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start += 1\u001b[K\u001b[7;5H            \u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start -= 1\u001b[10;13H    \u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[11;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m msg:\u001b[K\n\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,msg,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col),1,1)\r\n\u001b[K\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\r\n\u001b[K\n\u001b[K\n\n\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L8\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m90\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m100\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lMark set\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[16;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[17;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\u001b[23;36H\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m99 \u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m89\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;18H\u001b[?25lsprite.kill()\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\r\n\u001b[K\n\u001b[31m# The Counter notification is used to animate increasing/decreasing HP after    \u001b[39;49m\r\n\u001b[31m# combat, capturing, joining, etc.                                              \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mCounter\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, start, end, delay, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\u001b[K\n\u001b[K\u001b[11;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay > 0:\u001b[K\u001b[13;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay -= 1\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[33mmsg\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\u001b[16;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end:\u001b[17;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start += 1\r\n\t\t\u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[19;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start -= 1\r\n\t\t\u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[22;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m msg:\u001b[23;29H\u001b[7m76% L87\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lT\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[C\u001b[?25lT\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[35mTrue\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[11;1H\u001b[1L\u001b[1;24r\u001b[11;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;30H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[36mdel\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lAuto-saving...\u001b[10;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[10;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[10;14H\u001b[?25ldela\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lT\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[35mTrue\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[12;1H\u001b[1L\u001b[1;24r\u001b[12;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;30H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lT\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[35mTrue\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[13;1H\u001b[1L\u001b[1;24r\u001b[13;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[9;26H\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25lTru\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[36mdel\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25ldela\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25lTru\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[1;22r\u001b[14;1H\u001b[1L\u001b[1;24r\u001b[14;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l=\u001b[23;30H\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[14;1H\u001b[1L\u001b[1;24r\u001b[13;1H\u001b[K\n\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col = fg\u001b[K\u001b[23;35H\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[16;1H\u001b[1L\u001b[1;24r\u001b[16;1H\u001b[K\u001b[23;34H\u001b[?25l\u001b[7m90\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[23;30H\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l0)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[A\u001b[C\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end = end\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col = fg\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,)\r\n\u001b[K\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay > 0:\u001b[8;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay -= 1\u001b[K\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[33mmsg\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end:\r\n\t\u001b[8@\u001b[12;28H+= 1\u001b[K\r\n\t        \u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start -= 1\u001b[K\r\n\t\t\u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[17;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m msg:\u001b[K\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,msg,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col),1,1)\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[22;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[K\n\b\b\u001b[7m83% L98\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\u001b[?25l\u001b[1@\u001b[32m%\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m100\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[1@\u001b[32m%\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m99 \u001b[0m\u001b[39;49m\u001b[27m\u001b[13;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m89\u001b[0m\u001b[39;49m\u001b[27m\u001b[3;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[2;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\r\n\u001b[K\n\u001b[31m# The Counter notification is used to animate increasing/decreasing HP after    \u001b[39;49m\r\n\u001b[31m# combat, capturing, joining, etc.                                              \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mCounter\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, start, end, delay, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay = delay\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer = timer\u001b[K\r\n\t\u001b[8P\u001b[12;20H= start\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end = end\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col = fg\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,)\r\n\u001b[K\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay > 0:\u001b[K\u001b[19;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay -= 1\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[33mmsg\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\u001b[22;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end:\u001b[23;29H\u001b[7m72% L87\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lAuto-saving...\u001b[9;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[9;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m90\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[15;38H\b\u001b[?25l6)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l3)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l=)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l2)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/widgets.py...\u001b[15;50H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/widgets.py\u001b[K\u001b[15;50H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;50H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, layer, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[4P\u001b[3;22H\u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer = timer\r\n        \u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[K\r\n        \u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\u001b[K\r\n        \u001b[33mw\u001b[39;49m = 0\u001b[K\u001b[8;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\r\n\t        \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\r\n\t\u001b[33mw\u001b[39;49m += 2\u001b[K\nprite = draw.fill(x,y,w,h,layer=layer)\u001b[13;14Hsprite.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\r\n\t\u001b[4@\t\t\b.blit(draw.string(0,0,l,fg,bg),1,1+i)\u001b[17;5H\u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[4P\t\b\b\btimer\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[21;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[22;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\u001b[K\n\b\b\u001b[7m55% L78\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[K\r\n\t\u001b[4@\u001b[3;26H\u001b[35mFalse\u001b[39;49m\r\n\u001b[K\n\u001b[31m# The Counter notification is used to animate increasing/decreasing HP after    \u001b[39;49m\r\n\u001b[31m# combat, capturing, joining, etc.                                              \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mCounter\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, start, end, delay, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay = delay\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer = timer\u001b[12;15Htart = start\u001b[K\u001b[13;14Hend = end\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col = fg\u001b[K\r\n\t\u001b[4P\u001b[15;20H = draw.fill(x,y,6,3,layer=200)\u001b[K\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\u001b[18;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay > 0:\r\n\t\u001b[4@\t\u001b[Cdelay\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[33mmsg\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\u001b[22;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end:\u001b[23;29H\u001b[7m72\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, layer, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[4P\u001b[3;22H\u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer = timer\r\n        \u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[K\r\n        \u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\u001b[K\r\n        \u001b[33mw\u001b[39;49m = 0\u001b[K\u001b[8;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\r\n\t        \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\r\n\t\u001b[33mw\u001b[39;49m += 2\u001b[K\nprite = draw.fill(x,y,w,h,layer=layer)\u001b[13;14Hsprite.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\r\n\t\u001b[4@\t\t\b.blit(draw.string(0,0,l,fg,bg),1,1+i)\u001b[17;5H\u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[4P\t\b\b\btimer\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[21;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[22;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\u001b[K\n\b\b\u001b[7m55\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\u001b[?25l\u001b[34mSwitch to buffer (default draw.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ldraw.py\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[2;5H    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[33mflag\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m flag \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn].active:\r\n\t        \u001b[33mflag\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn += 1\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams):\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = 0\u001b[9;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day += 1\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units:\r\n\t    \u001b[33mu.ready\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t    u.sprite.colorize(u.team.color,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mFalse\u001b[39;49m)\r\n\u001b[K\n\t\u001b[31m# Repair units and draw income.                                         \u001b[39;49m\r\n\t\u001b[33mcur\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.current_team()\u001b[K\r\n\t\u001b[33mmsg\u001b[39;49m = \u001b[32m\"Day %d - %s\\n%s, move out!\"\u001b[39;49m%(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name, cur.name)\u001b[17;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append(widgets.Notification(0,0,msg,200,200,cur.color))\u001b[K\u001b[18;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cur:\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tile \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.all_tiles():\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur:\u001b[21;13H        \u001b[33mu\u001b[39;49m = tile.unit\u001b[22;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair):\u001b[23;14H\u001b[7m\u001b[1mgrid.py     \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   55% L197\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;75H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;58H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\t\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default widgets.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[2;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, layer, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer = timer\u001b[K\r\n\t\u001b[33mlines\u001b[39;49m = s.splitlines()\r\n\t\u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\u001b[K\r\n\t\u001b[33mw\u001b[39;49m = 0\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[K\u001b[9;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\u001b[K\r\n\t        \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\u001b[K\r\n\t\u001b[33mw\u001b[39;49m += 2\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,w,h,layer=layer)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,l,fg,bg),1,1+i)\r\n\u001b[K\u001b[17;5H\u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[K\u001b[21;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[K\u001b[22;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[23;14H\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   55% L78 \u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\u001b[?25l\u001b[34mSwitch to buffer (default grid.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[2;5H    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[33mflag\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m flag \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn].active:\r\n\t        \u001b[33mflag\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn += 1\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams):\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = 0\u001b[9;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day += 1\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units:\r\n\t    \u001b[33mu.ready\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t    u.sprite.colorize(u.team.color,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mFalse\u001b[39;49m)\r\n\u001b[K\n\t\u001b[31m# Repair units and draw income.                                         \u001b[39;49m\r\n\t\u001b[33mcur\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.current_team()\u001b[K\r\n\t\u001b[33mmsg\u001b[39;49m = \u001b[32m\"Day %d - %s\\n%s, move out!\"\u001b[39;49m%(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name, cur.name)\u001b[17;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append(widgets.Notification(0,0,msg,200,200,cur.color))\u001b[K\u001b[18;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cur:\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tile \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.all_tiles():\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur:\u001b[21;13H        \u001b[33mu\u001b[39;49m = tile.unit\u001b[22;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair):\u001b[23;14H\u001b[7m\u001b[1mgrid.py     \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   55% L198\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;57H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;57H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[1P\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default widgets.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[2;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, layer, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer = timer\u001b[K\r\n\t\u001b[33mlines\u001b[39;49m = s.splitlines()\r\n\t\u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\u001b[K\r\n\t\u001b[33mw\u001b[39;49m = 0\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[K\u001b[9;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\u001b[K\r\n\t        \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\u001b[K\r\n\t\u001b[33mw\u001b[39;49m += 2\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,w,h,layer=layer)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,l,fg,bg),1,1+i)\r\n\u001b[K\u001b[17;5H\u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[K\u001b[21;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[K\u001b[22;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[23;6H\u001b[7m----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   55% L78 \u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;2H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;2H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;2H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;2H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;2H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;2H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;2H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m69\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;2H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;2H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;2H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;2H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;2H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;2H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;2H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;2H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;2H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;2H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;53H\b\b\b\u001b[?25lr)\u001b[K\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;50H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25lr)\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25lr)\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25lr)\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l2)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;15H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m59\u001b[0m\u001b[39;49m\u001b[27m\u001b[3;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[2;50H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\b\b\u001b[24;1H\u001b[?25lAuto-saving...\u001b[2;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[2;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[2;38H\b\b\b\b\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[23;30H\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[2;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[K\r\n\t\u001b[4@\u001b[3;26H\u001b[35mFalse\u001b[39;49m\r\n\u001b[K\n\u001b[31m# The Counter notification is used to animate increasing/decreasing HP after    \u001b[39;49m\r\n\u001b[31m# combat, capturing, joining, etc.                                              \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mCounter\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, start, end, delay, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay = delay\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer = timer\u001b[12;15Htart = start\u001b[K\u001b[13;14Hend = end\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col = fg\u001b[K\r\n\t\u001b[4P\u001b[15;20H = draw.fill(x,y,6,3,layer=200)\u001b[K\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\u001b[18;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay > 0:\r\n\t\u001b[4@\t\u001b[Cdelay\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[33mmsg\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\u001b[22;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end:\u001b[23;29H\u001b[7m72% L77\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m80\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m90\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;51H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/widgets.py...\u001b[15;51H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/widgets.py\u001b[K\u001b[15;51H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;51H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[17d\u001b[K\u001b[18;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay > 0:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay -= 1\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[33mmsg\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\u001b[23;6H\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   72% L91\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[23;30H\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;10H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ld)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l()\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l)\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\b\u001b[?25l )\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/widgets.py...\u001b[16;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/widgets.py\u001b[K\u001b[16;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[16;38H\u001b[?25l0) )\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,) )\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0) )\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,) )\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lAuto-saving...\u001b[16;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[16;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[16;42H\u001b[?25l6) )\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,) )\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l3) )\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,) )\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf) )\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg) )\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l) )\u001b[K\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l) )\u001b[K\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf) )\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg) )\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l=) )\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf) )\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg) )\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,) )\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb) )\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg) )\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l=) )\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb) )\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg) )\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l, )\u001b[23;30H\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;59H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0 )\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l, )\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0 )\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/widgets.py...\u001b[16;63H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/widgets.py\u001b[K\u001b[16;63H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;63H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[18d\u001b[K\u001b[19;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay > 0:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay -= 1\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[23;6H\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   70% L92\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/widgets.py...\u001b[17;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/widgets.py\u001b[K\u001b[17;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end = end\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col = fg\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,6,3,layer=200)\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,6,3,fg=fg,bg=bg),0,0)\u001b[K\r\n\u001b[K\n\u001b[K\n\t\u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay > 0:\r\n\t\u001b[4@\t\t\b-= 1\u001b[K\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[33mmsg\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start += 1\r\n\t        \u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start -= 1\r\n\t\t\u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[19;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m msg:\u001b[K\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,msg,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col),1,1)\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[23;29H\u001b[7m81% L98\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m100\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   82\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lMark set\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25l\u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[23;30H\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m99 \u001b[0m\u001b[39;49m\u001b[27m\u001b[13;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[24d\u001b[?25lMark set\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25l\u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[23;30H\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m100\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[23;30H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\n\u001b[?25lMark set\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,msg,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col),1,1)\u001b[23;30H\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;68H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\u001b[K\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m99 \u001b[0m\u001b[39;49m\u001b[27m\u001b[13;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;50H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[21;1H\u001b[1L\u001b[1;24r\u001b[8;1H\u001b[K\u001b[9;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay > 0:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay -= 1\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[33mmsg\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\u001b[14;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start += 1\u001b[K\u001b[16;13H    \u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[17;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start -= 1\u001b[K\u001b[19;13H    \u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[20;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m msg:\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,msg,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col),1,1)\u001b[K\u001b[23;35H\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lMark set\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,msg,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col),1,1)\u001b[23;29H\u001b[7m78\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;68H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[7;68H\r\t\t\b\u001b[1P\r\t\t\b\b\u001b[1P\r\u001b[7;14H\u001b[1P\r\u001b[7;13H\u001b[1P\r\u001b[7;12H\u001b[1P\r\u001b[7;11H\u001b[1P\r\u001b[7;10H\u001b[1P\r\t\u001b[1P\u001b[23;30H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\b\u001b[1P\r\t\t\b\b\u001b[1P\r\u001b[6;14H\u001b[1P\r\u001b[6;13H\u001b[1P\r\u001b[6;12H\u001b[1P\r\u001b[6;11H\u001b[1P\r\u001b[6;10H\u001b[1P\r\t\u001b[1P\r\u001b[24d\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/widgets.py...\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/widgets.py\u001b[K\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m89\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\r\n\u001b[K\n\u001b[31m# The Counter notification is used to animate increasing/decreasing HP after    \u001b[39;49m\r\n\u001b[31m# combat, capturing, joining, etc.                                              \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mCounter\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, start, end, delay, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\u001b[9;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay = delay\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer = timer\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = start\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end = end\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col = fg\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,6,3,layer=200)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,6,3,fg=fg,bg=bg),0,0)\r\n\t\u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,msg,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col),1,1)\r\n\u001b[K\u001b[20;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay > 0:\u001b[K\u001b[22;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay -= 1\n\u001b[C\u001b[7m69% L87\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m79\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l\u001b[34mSwitch to buffer (default grid.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[33mflag\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[4;13H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m flag \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn].active:\r\n                \u001b[33mflag\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn += 1\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams):\u001b[8;5H                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = 0\u001b[K\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day += 1\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units:\r\n\t    \u001b[33mu.ready\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t    u.sprite.colorize(u.team.color,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mFalse\u001b[39;49m)\r\n\u001b[K\n\t\u001b[31m# Repair units and draw income.                                         \u001b[39;49m\r\n\t\u001b[33mcur\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.current_team()\u001b[K\r\n\t\u001b[33mmsg\u001b[39;49m = \u001b[32m\"Day %d - %s\\n%s, move out!\"\u001b[39;49m%(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name, cur.name)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append(widgets.Notification(0,0,msg,200,cur.color))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cur:\u001b[K\n\b\b\b\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tile \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.all_tiles():\u001b[20;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur:\r\n\t            \u001b[33mu\u001b[39;49m = tile.unit\u001b[22;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair):\u001b[23;6H\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mgrid.py     \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   55% L198\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;57H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;57H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;22r\u001b[18;1H\u001b[1M\u001b[1;24r\u001b[16;9H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append(widgets.Notification(0,0,msg,200,cur.color))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cur:\u001b[K\r\n\n\n\n\n                        \u001b[33mu.fuel\u001b[39;49m = u.max_fuel\u001b[K\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[1;22r\u001b[18;1H\u001b[1M\u001b[1;24r\u001b[16;9H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cur:\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tile \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.all_tiles():\r\n\n\n\n\n                        \u001b[33mu.ammo\u001b[39;49m = u.max_ammo\u001b[K\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lMark set\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[18;1H\u001b[2L\u001b[1;24r\u001b[16;9H\u001b[?25l\u001b[33mmsg\u001b[39;49m = \u001b[32m\"Day %d - %s\\n%s, move out!\"\u001b[39;49m%(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name, cur.name)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append(widgets.Notification(0,0,msg,200,cur.color))\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cur:\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tile \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.all_tiles():\u001b[K\u001b[23;36H\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[18d\u001b[24d\u001b[?25l\u001b[34mSwitch to buffer (default widgets.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ldraw.py\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\r\u001b[?25lQuit\u001b[K\u001b[1;33H\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[18d\u001b[24d\u001b[?25l\u001b[34mFind file: \u001b[39;49m~/Documents/rules-of-war/code/core/\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lles.py\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[31m# The Rules contain the Action objects that serve as a sort of state machine    \u001b[39;49m\r\n\u001b[31m# for what can be done. Each action should, upon taking input, pass back a      \u001b[39;49m\r\n\u001b[31m# new action. Each action can also contain a sprite that should be killed       \u001b[39;49m\r\n\u001b[31m# after \"perform\" and modified during \"update\".                                 \u001b[39;49m\r\n\u001b[K\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m . \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m entities\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[33mFORM_COORD\u001b[39;49m = \u001b[32m\"coord\"\u001b[39;49m\u001b[K\r\n\u001b[33mFORM_MENU\u001b[39;49m = \u001b[32m\"menu\"\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[33mACT_COMMIT\u001b[39;49m = \u001b[32m\"commit\"\u001b[39;49m\r\n\u001b[33mACT_TRASH\u001b[39;49m = \u001b[32m\"trash\"\u001b[39;49m\u001b[K\r\n\u001b[33mACT_UNDO\u001b[39;49m = \u001b[32m\"undo\"\u001b[39;49m\u001b[K\r\n\u001b[33mACT_END\u001b[39;49m = \u001b[32m\"end\"\u001b[39;49m\u001b[K\r\n\u001b[33mACT_RESTART\u001b[39;49m = \u001b[32m\"restart\"\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# An action is the base class of handling actions. Actions tell the session     \u001b[39;49m\r\n\u001b[31m# what the next input necessary is (such as any coord, a coord in a range of    \u001b[39;49m\r\n\u001b[31m# selections, or a menu item). The session is responsible for handling input    \u001b[39;49m\r\n\u001b[23;6H\u001b[7m----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Top L1    Git-\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;3H\u001b[?25l\u001b[31mwhat the next input necessary is (such as any coord, a coord in a range of\u001b[39;49m\u001b[3;3H\u001b[31mselections, or a menu item). The session is responsible for handling input\u001b[39;49m\u001b[4;3H\u001b[31mappropriately in the context of the action. AI can also respond to actions.\u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mAction\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = \u001b[35mNone\u001b[39;49m\r\n\n    \u001b[31m# The PERFORM function takes the input (either a coord or a string) and     \u001b[39;49m\r\n    \u001b[31m# then processes it. This should only be done when the player presses       \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# enter and confirms the action. The grid should be backed up before        \u001b[39;49m\r\n    \u001b[31m# performing. This will return an instance of the new action that the       \u001b[39;49m\r\n    \u001b[31m# session should handle.                                                    \u001b[39;49m\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\r\n\u001b[K\u001b[18;5H\u001b[31m# The INFO function provides popups and other contextual information of     \u001b[39;49m\r\n\u001b[19;5H\u001b[31m# what would happen if the action was taken. This is used to help create    \u001b[39;49m\r\n    \u001b[31m# interface candy.                                                          \u001b[39;49m\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[K\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\u001b[23;29H\u001b[7m 4% L20\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[K\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# The BEGIN action is the first action and expects COORD. If the coord is a     \u001b[39;49m\r\n\u001b[31m# unit, we display its movement range. If the coord is a terrain that can       \u001b[39;49m\r\n\u001b[31m# produce, we begin production. If anything else, we display the GAME MENU.     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mBegin\u001b[39;49m(Action):\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\u001b[11;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[12;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_COORD\u001b[K\r\n\u001b[K\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[K\u001b[15;5H    \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = act\u001b[K\r\n\t\u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(x,y)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\u001b[18;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Move(x,y,grid)\u001b[K\u001b[19;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(t.build) > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m grid.current_team():\u001b[K\u001b[20;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Build(x,y,grid)\u001b[K\u001b[21;5H    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Main_Menu()\n\b\b\u001b[7m11% L39\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Main_Menu()\u001b[6;3H\u001b[31mMAIN MENU follows BEGIN and expects MENU.                                \u001b[39;49m\u001b[7;3H\u001b[31mThis is the menu created if the user clicks outside of the field.      \u001b[39;49m\u001b[8;3H\u001b[31mThis allows the user to end their turn, undo, moves, etc.                \u001b[39;49m\u001b[9;7H\u001b[32mMain_\u001b[39;49m\u001b[4@\u001b[32mMenu\u001b[39;49m\n\n\t\t\u001b[32m\"Close\"\u001b[39;49m,\u001b[32m\"Surrender\"\u001b[39;49m,\u001b[32m\"End Turn\"\u001b[39;49m]\u001b[12;26HMENU\u001b[K\r\n\n\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Illegal input: %s\"\u001b[39;49m%\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(act))\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Close\"\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Surrender\"\u001b[39;49m:\u001b[K\r\n\t    grid.purge( grid.current_team() )\u001b[22;13Hgrid.current_team()\u001b[33m.active\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[23;30H\u001b[7m5% L58\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l    grid.purge( grid.current_team() )\u001b[3;13Hgrid.current_team()\u001b[33m.active\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[4;13H\u001b[31m# TODO announce that team has lost                                  \u001b[39;49m\r\n\u001b[5;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"End Turn\"\u001b[39;49m:\u001b[K\r\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_END\u001b[K\r\n\u001b[K\n        \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Reached end of action without return.\"\u001b[39;49m)\r\n\u001b[K\n\u001b[31m# BUILD follows BEGIN and expects MENU.                                         \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mBuild\u001b[39;49m(Action):\u001b[K\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, grid):\u001b[14;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = x,y\u001b[K\r\n\ttile = grid.tile_at(x,y)\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b,v \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34msorted\u001b[0m\u001b[39;49m(tile.build.items(), key=\u001b[1m\u001b[36mlambda\u001b[0m\u001b[39;49m x:x[1]):\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m v <= grid.current_team().cash:\u001b[19;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"%s $%d\"\u001b[39;49m%(b,v))\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Cancel\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_MENU\u001b[K\r\n\u001b[K\u001b[23;29H\u001b[7m20% L77\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_MENU\u001b[K\r\n\u001b[K\u001b[4;5H\u001b[31m# This builds the unit and disables it. It can move on the next turn.       \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n\t\t\b\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[7;14H\u001b[1m\u001b[36maise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Illegal input: %s\"\u001b[39;49m%\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(act))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Cancel\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\n        \u001b[33mname\u001b[39;49m,price = act.rsplit(\u001b[35mNone\u001b[39;49m,1)\u001b[K\r\n        unit = entities.Unit(name, grid.rules[\u001b[32m\"units\"\u001b[39;49m][name])\u001b[13;5H    \u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\r\n\tgrid.current_team()\u001b[33m.cash\u001b[39;49m -= \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(price[1:])\r\n\tgrid.add_unit(unit,grid.current_team(),x,y)\r\n\tunit.done()\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\r\n\u001b[K\n\u001b[31m# MOVE follows BEGIN and expects COORD.                                         \u001b[39;49m\r\n\u001b[31m# If the selected unit is on the active team and is ready, then we permit       \u001b[39;49m\r\n\u001b[31m# it to move.                                                                   \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mMove\u001b[39;49m(Action):\u001b[23;30H\u001b[7m5% L96\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l    grid.purge( grid.current_team() )\u001b[3;13Hgrid.current_team()\u001b[33m.active\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[4;5H        \u001b[31m# TODO announce that team has lost                                  \u001b[39;49m\r\n\u001b[5;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\r\n\t\t\b== \u001b[32m\"End Turn\"\u001b[39;49m:\u001b[K\u001b[7;14H\u001b[1m\u001b[36meturn\u001b[0m\u001b[39;49m ACT_END\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Reached end of action without return.\"\u001b[39;49m)\r\n\n\u001b[31m# BUILD follows BEGIN and expects MENU.                                         \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mBuild\u001b[39;49m(Action):\u001b[K\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, grid):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = x,y\u001b[K\r\n\ttile = grid.tile_at(x,y)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b,v \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34msorted\u001b[0m\u001b[39;49m(tile.build.items(), key=\u001b[1m\u001b[36mlambda\u001b[0m\u001b[39;49m x:x[1]):\u001b[18;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m v <= grid.current_team().cash:\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"%s $%d\"\u001b[39;49m%(b,v))\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Cancel\"\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_MENU\u001b[K\r\n\u001b[K\u001b[23;30H\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Main_Menu()\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# MAIN MENU follows BEGIN and expects MENU.                                     \u001b[39;49m\r\n\u001b[31m# This is the menu created if the user clicks outside of the field.             \u001b[39;49m\r\n\u001b[31m# This allows the user to end their turn, undo, moves, etc.                     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mMain_Menu\u001b[39;49m(Action):\u001b[K\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Close\"\u001b[39;49m,\u001b[32m\"Surrender\"\u001b[39;49m,\u001b[32m\"End Turn\"\u001b[39;49m]\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_MENU\r\n\u001b[K\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Illegal input: %s\"\u001b[39;49m%\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(act))\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Close\"\u001b[39;49m:\u001b[K\u001b[19;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Surrender\"\u001b[39;49m:\u001b[K\r\n\t    grid.purge( grid.current_team() )\u001b[22;13Hgrid.current_team()\u001b[33m.active\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[23;29H\u001b[7m15% L78\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\u001b[6;3H\u001b[31mThe BEGIN action is the first action and expects COORD. If the coord is a\u001b[39;49m\u001b[7;3H\u001b[31munit, we display its movement range. If the coord is a terrain that can\u001b[39;49m\u001b[8;3H\u001b[31mproduce, we begin production. If anything else, we display the GAME MENU.\u001b[39;49m\u001b[9;7H\u001b[32mBegin\u001b[39;49m\u001b[4P\n\n\t\t]\u001b[K\nCOORD\r\n\n\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = act\u001b[K\r\n\t\u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(x,y)\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Move(x,y,grid)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(t.build) > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m grid.current_team():\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Build(x,y,grid)\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Main_Menu()\u001b[K\n\b\u001b[7m1% L59\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Main_Menu()\u001b[6;3H\u001b[31mMAIN MENU follows BEGIN and expects MENU.                                \u001b[39;49m\u001b[7;3H\u001b[31mThis is the menu created if the user clicks outside of the field.      \u001b[39;49m\u001b[8;3H\u001b[31mThis allows the user to end their turn, undo, moves, etc.                \u001b[39;49m\u001b[9;7H\u001b[32mMain_\u001b[39;49m\u001b[4@\u001b[32mMenu\u001b[39;49m\n\n\t\t\u001b[32m\"Close\"\u001b[39;49m,\u001b[32m\"Surrender\"\u001b[39;49m,\u001b[32m\"End Turn\"\u001b[39;49m]\u001b[12;26HMENU\u001b[K\r\n\n\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Illegal input: %s\"\u001b[39;49m%\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(act))\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Close\"\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Surrender\"\u001b[39;49m:\u001b[K\r\n\t    grid.purge( grid.current_team() )\u001b[22;13Hgrid.current_team()\u001b[33m.active\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[23;30H\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[A\t\u001b[?25l    grid.purge( grid.current_team() )\u001b[3;13Hgrid.current_team()\u001b[33m.active\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[4;13H\u001b[31m# TODO announce that team has lost                                  \u001b[39;49m\r\n\u001b[5;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"End Turn\"\u001b[39;49m:\u001b[K\r\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_END\u001b[K\r\n\u001b[K\n        \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Reached end of action without return.\"\u001b[39;49m)\r\n\u001b[K\n\u001b[31m# BUILD follows BEGIN and expects MENU.                                         \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mBuild\u001b[39;49m(Action):\u001b[K\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, grid):\u001b[14;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = x,y\u001b[K\r\n\ttile = grid.tile_at(x,y)\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b,v \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34msorted\u001b[0m\u001b[39;49m(tile.build.items(), key=\u001b[1m\u001b[36mlambda\u001b[0m\u001b[39;49m x:x[1]):\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m v <= grid.current_team().cash:\u001b[19;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"%s $%d\"\u001b[39;49m%(b,v))\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Cancel\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_MENU\u001b[K\r\n\u001b[K\u001b[23;29H\u001b[7m20% L77\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_MENU\u001b[K\r\n\u001b[K\u001b[4;5H\u001b[31m# This builds the unit and disables it. It can move on the next turn.       \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n\t\t\b\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[7;14H\u001b[1m\u001b[36maise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Illegal input: %s\"\u001b[39;49m%\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(act))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Cancel\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\n        \u001b[33mname\u001b[39;49m,price = act.rsplit(\u001b[35mNone\u001b[39;49m,1)\u001b[K\r\n        unit = entities.Unit(name, grid.rules[\u001b[32m\"units\"\u001b[39;49m][name])\u001b[13;5H    \u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\r\n\tgrid.current_team()\u001b[33m.cash\u001b[39;49m -= \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(price[1:])\r\n\tgrid.add_unit(unit,grid.current_team(),x,y)\r\n\tunit.done()\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\r\n\u001b[K\n\u001b[31m# MOVE follows BEGIN and expects COORD.                                         \u001b[39;49m\r\n\u001b[31m# If the selected unit is on the active team and is ready, then we permit       \u001b[39;49m\r\n\u001b[31m# it to move.                                                                   \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mMove\u001b[39;49m(Action):\u001b[23;30H\u001b[7m5% L96\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m# it to move.                                                                   \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mMove\u001b[39;49m(Action):\u001b[4;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x,y,grid):\u001b[K\u001b[5;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = x,y\u001b[K\r\n\t\u001b[33munit\u001b[39;49m = grid.unit_at(x,y)\u001b[K\r\n\u001b[K\n\t\u001b[31m# Calculate movement range. TODO, calc fuel cost as well.               \u001b[39;49m\r\n\t\u001b[33mreport\u001b[39;49m = []\u001b[K\r\n\t\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m_floodfill\u001b[0m\u001b[39;49m(pos,r,top=\u001b[35mFalse\u001b[39;49m):\r\n\t    \u001b[33ma\u001b[39;49m,\u001b[33mb\u001b[39;49m = pos\u001b[K\r\n\t    \u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(a,b)\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m u.is_allied(unit)):\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m top:\u001b[K\r\n\t            \u001b[33mr\u001b[39;49m -= unit.terrain.get(t.terrain,r)\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (a,b) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m report \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.terrain \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m unit.terrain:\r\n\t            report.append((a,b))\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m r > 0:\r\n                    _floodfill((a-1,b),r)\u001b[K\r\n                    _floodfill((a+1,b),r)\u001b[K\r\n                    _floodfill((a,b-1),r)\u001b[K\r\n                    _floodfill((a,b+1),r)\u001b[23;29H\u001b[7m30% L115\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l                    _floodfill((a,b-1),r)\u001b[K\r\n                    _floodfill((a,b+1),r)\u001b[4;5H    _floodfill((x,y),unit.move,\u001b[35mTrue\u001b[39;49m)\r\n\u001b[K\n\t\u001b[31m# Now filter the results. We have to do something more complex          \u001b[39;49m\r\n\t\u001b[31m# than a list comprehension.                                            \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (a,b) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m report:\r\n\t    \u001b[33madd\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[11;13H\u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(a,b)\u001b[12;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t: \u001b[33madd\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[13;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m unit: \u001b[33madd\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[14;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m unit.team: \u001b[33madd\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[15;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m unit.team \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit == unit.unit: add = \u001b[35mTrue\u001b[39;49m\u001b[16;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m unit.team \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m unit.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.carry: add = \u001b[35mTrue\u001b[39;49m\r\n\u001b[K\u001b[18;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m add:\u001b[K\n\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append((a,b))\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_COORD\u001b[K\r\n\u001b[K\u001b[23;30H\u001b[7m5% L134\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_COORD\u001b[K\r\n\u001b[K\u001b[4;5H\u001b[31m# This performs the movement. After moving, we have to figure out if the    \u001b[39;49m\r\n\u001b[5;5H\u001b[31m# unit can do anything else.                                                \u001b[39;49m\r\n\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\r\n\u001b[K\n\t\u001b[33mox\u001b[39;49m,\u001b[33moy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = act\u001b[K\r\n\t\u001b[33mt1\u001b[39;49m,\u001b[33mu1\u001b[39;49m = grid.get_at(ox,oy)\r\n\t\u001b[33mt2\u001b[39;49m,\u001b[33mu2\u001b[39;49m = grid.get_at(x,y)\u001b[K\r\n\u001b[K\n\t\u001b[31m# We just undo whenever we try to move a unit that isn't ready and      \u001b[39;49m\r\n\t\u001b[31m# isn't ours.                                                           \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u1.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m grid.current_team() \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u1.ready:\u001b[18;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\r\n\u001b[K\n\t\u001b[31m# Before moving, we check to see if the tile is occupied. If it         \u001b[39;49m\r\n\t\u001b[31m# is, we allow movement if the landing unit can either carry the        \u001b[39;49m\r\n\t\u001b[31m# mover or the mover and landing unit can be joined.                    \u001b[39;49m\r\n\u001b[23;29H\u001b[7m40% L153\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[31m# is, we allow movement if the landing unit can either carry the        \u001b[39;49m\r\n\t\u001b[31m# mover or the mover and landing unit can be joined.                    \u001b[39;49m\r\n\u001b[4;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u2 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u2.unit == u1.unit \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u1 \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u2):\u001b[K\u001b[5;5H        grid.remove_unit(u1)\u001b[K\u001b[6;5H        \u001b[33mu2.hp\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(u1.hp+u2.hp,100)\r\n\t    \u001b[33mu2.fuel\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(u1.fuel+u2.fuel,u2.max_fuel)\u001b[8;13H\u001b[33mu2.ammo\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(u1.ammo+u2.ammo,u2.max_ammo)\u001b[9;13Hu2.done()\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u2 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u2.capacity > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u1.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u2.carry \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m\r\n\t   \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(u2.carrying) < u2.capacity \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u1 \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u2):\r\n\t    grid.load_unit(u1,u2)\u001b[14;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\r\n\u001b[K\n\tgrid.move_unit(u1,x,y)\u001b[K\r\n\t\u001b[33mt1.hp\u001b[39;49m = 100\u001b[K\r\n\t\u001b[33mmoved\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (ox,oy) != (x,y):\r\n\t    \u001b[33mmoved\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Unit_Act(x,y,grid,moved)\u001b[K\r\n\u001b[K\u001b[23;30H\u001b[7m5% L172\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Unit_Act(x,y,grid,moved)\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# UNIT ACT follows MOVE and expects MENU.                                       \u001b[39;49m\r\n\u001b[31m#  If a unit is in range, there is ammo, etc, allow attack.                     \u001b[39;49m\r\n\u001b[31m#  If the unit and current terrain are capturable, allow capture.               \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mUnit_Act\u001b[39;49m(Action):\u001b[K\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m,x,y,grid,moved):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_MENU\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = x,y\u001b[K\r\n\t\u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(x,y)\u001b[K\r\n\u001b[K\n\t\u001b[31m# Determine if we can attack anything.                                  \u001b[39;49m\r\n\t\u001b[33mlo\u001b[39;49m,\u001b[33mhi\u001b[39;49m = u.rang\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (lo>0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m hi>0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u.is_indirect \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m\r\n\t        (u.is_indirect \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m moved))):\r\n\t    \u001b[33mcan_attack\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[20;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (a,b) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m grid.get_range(x,y,lo,hi):\r\n\t        \u001b[33mtarg\u001b[39;49m = grid.unit_at(a,b)\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (targ \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u.is_allied(targ)\u001b[23;29H\u001b[7m50% L191\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[31m# is, we allow movement if the landing unit can either carry the        \u001b[39;49m\r\n\t\u001b[31m# mover or the mover and landing unit can be joined.                    \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u2 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u2.unit == u1.unit \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u1 \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u2):\r\n            grid.remove_unit(u1)\u001b[K\r\n            \u001b[33mu2.hp\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(u1.hp+u2.hp,100)\u001b[K\r\n            \u001b[33mu2.fuel\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(u1.fuel+u2.fuel,u2.max_fuel)\u001b[K\r\n            \u001b[33mu2.ammo\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(u1.ammo+u2.ammo,u2.max_ammo)\u001b[9;5H        u2.done()\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u2 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u2.capacity > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u1.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u2.carry \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m\r\n\t   \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(u2.carrying) < u2.capacity \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u1 \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u2):\r\n\t    grid.load_unit(u1,u2)\u001b[14;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\r\n\u001b[K\n\tgrid.move_unit(u1,x,y)\r\n\t\u001b[33mt1.hp\u001b[39;49m = 100\u001b[K\r\n\t\u001b[33mmoved\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (ox,oy) != (x,y):\u001b[K\u001b[20;13H\u001b[33mmoved\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Unit_Act(x,y,grid,moved)\u001b[K\r\n\u001b[K\u001b[23;29H\u001b[7m45\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_COORD\u001b[K\r\n\u001b[K\u001b[4;5H\u001b[31m# This performs the movement. After moving, we have to figure out if the    \u001b[39;49m\r\n\u001b[5;5H\u001b[31m# unit can do anything else.                                                \u001b[39;49m\r\n\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[8;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\u001b[K\n\t\u001b[33mox\u001b[39;49m,\u001b[33moy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = act\u001b[K\r\n\t\u001b[33mt1\u001b[39;49m,\u001b[33mu1\u001b[39;49m = grid.get_at(ox,oy)\u001b[K\r\n\t\u001b[33mt2\u001b[39;49m,\u001b[33mu2\u001b[39;49m = grid.get_at(x,y)\u001b[K\r\n\u001b[K\n\t\u001b[31m# We just undo whenever we try to move a unit that isn't ready and      \u001b[39;49m\r\n\t\u001b[31m# isn't ours.                                                           \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u1.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m grid.current_team() \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u1.ready:\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\r\n\u001b[K\n\t\u001b[31m# Before moving, we check to see if the tile is occupied. If it         \u001b[39;49m\r\n\t\u001b[31m# is, we allow movement if the landing unit can either carry the        \u001b[39;49m\r\n\t\u001b[31m# mover or the mover and landing unit can be joined.                    \u001b[39;49m\r\n\u001b[23;30H\u001b[7m0% L173\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l            _floodfill((a,b-1),r)\u001b[3;21H_floodfill((a,b+1),r)\u001b[4;5H    _floodfill((x,y),unit.move,\u001b[35mTrue\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[6;5H    \u001b[31m# Now filter the results. We have to do something more complex          \u001b[39;49m\r\n\t\u001b[31m# than a list comprehension.                                            \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (a,b) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m report:\r\n\t    \u001b[33madd\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t    \u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(a,b)\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t: \u001b[33madd\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m unit: \u001b[33madd\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[14;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m unit.team: \u001b[33madd\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m unit.team \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit == unit.unit: add = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m unit.team \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m unit.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.carry: add = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[18;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m add:\u001b[K\n\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append((a,b))\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_COORD\u001b[K\r\n\u001b[K\u001b[23;29H\u001b[7m35% L154\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l\u001b[31m# it to move.                                                                   \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mMove\u001b[39;49m(Action):\u001b[K\u001b[4;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x,y,grid):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = x,y\r\n\t\u001b[33munit\u001b[39;49m = grid.unit_at(x,y)\u001b[K\r\n\u001b[K\n\t\u001b[31m# Calculate movement range. TODO, calc fuel cost as well.               \u001b[39;49m\r\n\t\u001b[33mreport\u001b[39;49m = []\u001b[K\r\n\t\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m_floodfill\u001b[0m\u001b[39;49m(pos,r,top=\u001b[35mFalse\u001b[39;49m):\u001b[11;13H\u001b[33ma\u001b[39;49m,\u001b[33mb\u001b[39;49m = pos\u001b[K\u001b[12;13H\u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(a,b)\u001b[13;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m u.is_allied(unit)):\u001b[14;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m top:\u001b[K\u001b[15;13H        \u001b[33mr\u001b[39;49m -= unit.terrain.get(t.terrain,r)\u001b[K\u001b[16;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (a,b) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m report \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.terrain \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m unit.terrain:\u001b[K\u001b[17;21Hreport.append((a,b))\u001b[18;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m r > 0:\r\n\t\t    _floodfill((a-1,b),r)\u001b[K\u001b[20;21H_floodfill((a+1,b),r)\r\n\t            _floodfill((a,b-1),r)\u001b[22;21H_floodfill((a,b+1),r)\u001b[23;30H\u001b[7m0% L135\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_MENU\u001b[K\r\n\u001b[K\u001b[4;5H\u001b[31m# This builds the unit and disables it. It can move on the next turn.       \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[7;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Illegal input: %s\"\u001b[39;49m%\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(act))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Cancel\"\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\r\n\u001b[K\n\t\u001b[33mname\u001b[39;49m,price = act.rsplit(\u001b[35mNone\u001b[39;49m,1)\r\n\tunit = entities.Unit(name, grid.rules[\u001b[32m\"units\"\u001b[39;49m][name])\r\n\t\u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\r\n\tgrid.current_team()\u001b[33m.cash\u001b[39;49m -= \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(price[1:])\r\n\tgrid.add_unit(unit,grid.current_team(),x,y)\u001b[K\r\n\tunit.done()\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\r\n\u001b[K\n\u001b[31m# MOVE follows BEGIN and expects COORD.                                         \u001b[39;49m\r\n\u001b[31m# If the selected unit is on the active team and is ready, then we permit       \u001b[39;49m\r\n\u001b[31m# it to move.                                                                   \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mMove\u001b[39;49m(Action):\u001b[K\u001b[23;29H\u001b[7m25% L116\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l    grid.purge( grid.current_team() )\u001b[3;13Hgrid.current_team()\u001b[33m.active\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[4;5H        \u001b[31m# TODO announce that team has lost                                  \u001b[39;49m\r\n\u001b[5;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\r\n\t\t\b== \u001b[32m\"End Turn\"\u001b[39;49m:\u001b[K\u001b[7;14H\u001b[1m\u001b[36meturn\u001b[0m\u001b[39;49m ACT_END\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Reached end of action without return.\"\u001b[39;49m)\r\n\n\u001b[31m# BUILD follows BEGIN and expects MENU.                                         \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mBuild\u001b[39;49m(Action):\u001b[K\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, grid):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = x,y\u001b[K\r\n\ttile = grid.tile_at(x,y)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b,v \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34msorted\u001b[0m\u001b[39;49m(tile.build.items(), key=\u001b[1m\u001b[36mlambda\u001b[0m\u001b[39;49m x:x[1]):\u001b[18;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m v <= grid.current_team().cash:\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"%s $%d\"\u001b[39;49m%(b,v))\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Cancel\"\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_MENU\u001b[K\r\n\u001b[K\u001b[23;30H\u001b[7m0% L97 \u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Main_Menu()\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# MAIN MENU follows BEGIN and expects MENU.                                     \u001b[39;49m\r\n\u001b[31m# This is the menu created if the user clicks outside of the field.             \u001b[39;49m\r\n\u001b[31m# This allows the user to end their turn, undo, moves, etc.                     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mMain_Menu\u001b[39;49m(Action):\u001b[K\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Close\"\u001b[39;49m,\u001b[32m\"Surrender\"\u001b[39;49m,\u001b[32m\"End Turn\"\u001b[39;49m]\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_MENU\r\n\u001b[K\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Illegal input: %s\"\u001b[39;49m%\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(act))\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Close\"\u001b[39;49m:\u001b[K\u001b[19;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Surrender\"\u001b[39;49m:\u001b[K\r\n\t    grid.purge( grid.current_team() )\u001b[22;13Hgrid.current_team()\u001b[33m.active\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[23;29H\u001b[7m15% L78\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\u001b[3;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[5;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Illegal input: %s\"\u001b[39;49m%\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(act))\r\n\u001b[K\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Close\"\u001b[39;49m:\u001b[K\r\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Surrender\"\u001b[39;49m:\u001b[10;5H        grid.purge( grid.current_team() )\r\n\t    grid.current_team()\u001b[33m.active\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t    \u001b[31m# TODO announce that team has lost                                  \u001b[39;49m\r\n\u001b[13;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[14;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"End Turn\"\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_END\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Reached end of action without return.\"\u001b[39;49m)\r\n\u001b[K\n\u001b[31m# BUILD follows BEGIN and expects MENU.                                         \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mBuild\u001b[39;49m(Action):\u001b[K\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, grid):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[23;30H\u001b[7m8% L79\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[11;47H\u001b[1;22r\u001b[12;1H\u001b[1L\u001b[1;24r\u001b[12;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   18% L79\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lMark set\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[14;1H\u001b[2L\u001b[1;24r\u001b[12;9H\u001b[?25l\u001b[33mmsg\u001b[39;49m = \u001b[32m\"Day %d - %s\\n%s, move out!\"\u001b[39;49m%(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name, cur.name)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append(widgets.Notification(0,0,msg,200,cur.color))\u001b[K\r\n\u001b[K\n            \u001b[31m# TODO announce that team has lost                                  \u001b[39;49m\r\n\u001b[A\u001b[23;34H\u001b[7m81\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m79\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[11;47H\u001b[1;22r\u001b[15;1H\u001b[1L\u001b[1;24r\u001b[12;1H\u001b[K\n\t\u001b[?25l\u001b[33mmsg\u001b[39;49m = \u001b[32m\"Day %d - %s\\n%s, move out!\"\u001b[39;49m%(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name, cur.name)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append(widgets.Notification(0,0,msg,200,cur.color))\r\n\u001b[K\u001b[23;35H\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;13H\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\b\b\b\u001b[?25l\u001b[33mcur\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\u001b[C\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\r\n\tmsg\u001b[12;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\r\n\t\u001b[33mmsg\u001b[39;49m\u001b[12;36H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[13;1H\u001b[1L\u001b[1;24r\u001b[10;1H\u001b[K\u001b[11;18H\u001b[?25lpurge( grid.current_team() )\u001b[K\u001b[12;13Hgrid.current_team()\u001b[33m.active\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\u001b[K\u001b[23;35H\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lMark set\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[10;13H\u001b[?25l\u001b[33mcur\u001b[39;49m = grid.current_team()\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\b\u001b[?25l )\u001b[K\u001b[12;32H.active\u001b[11;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l )\u001b[K\u001b[12;32H\u001b[33m.active\u001b[39;49m\u001b[11;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l )\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l )\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l )\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l )\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l )\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l )\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l )\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l )\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l )\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l )\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l )\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l )\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l )\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l )\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l )\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l )\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l )\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc )\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu )\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr )\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[C\t\b\b\u001b[?25l.active = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[12;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;13H\u001b[?25l\u001b[33mgrid.current_team.active\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[12;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[33mc\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[33mu\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[33mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m80\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[15;1H\u001b[1M\u001b[1;24r\u001b[13;9H\u001b[?25l\u001b[33mmsg\u001b[39;49m = \u001b[32m\"Day %d - %s\\n%s, move out!\"\u001b[39;49m%(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name, cur.name)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append(widgets.Notification(0,0,msg,200,cur.color))\u001b[K\u001b[22;1H\u001b[K\u001b[13d\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[1@\r\u001b[C\t\u001b[C\u001b[1@\u001b[13;3H\u001b[13;11H\u001b[1@\u001b[13;4H\u001b[13;12H\u001b[1@\u001b[13;5H\u001b[13;13H\u001b[1@\u001b[13;6H\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;6H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;7H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[13;13H\u001b[1P\b\b\b\b\b\b\u001b[24;1H\u001b[?25lAuto-saving...\u001b[13;7H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[13;7H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;7H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\t\u001b[?25lgsel\u001b[1@f\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@r\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@i\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[1@\r\u001b[C\t\u001b[C\u001b[1@\u001b[14;3H\u001b[14;11H\u001b[1@\u001b[14;4H\u001b[14;12H\u001b[1@\u001b[14;5H\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;5H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[13;79H\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[?25lsel\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m\"%(.day, self.name, cur.name)                    \u001b[39;49m\r\n\u001b[32m            grid.alerts.append(widgets.Notification(0,0,msg,200,cur.color))     \u001b[39;49m\r\n\u001b[13;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m\"\u001b[39;49m%(.day, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name, cur.name)\u001b[K\r\n            grid.alerts.append(widgets.Notification(0,0,msg,200,cur.color))\u001b[K\u001b[13;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[32m%\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[32md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[32m \u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[32mh\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[32ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[32ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[32m \u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[32mb\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[32mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[32m \u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[32md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[32mf\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[32ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[32mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[32md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[32m!\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[C\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lelf\u001b[1P\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;44H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[14;50H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[14;50H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   18% L81   Git:\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;50H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[14;76H\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 82, in run\r\n    self.game.render(0,0)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/session.py\", line 214, in render\r\n    self.canvas.render(0,0)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/sprites.py\", line 123, in render\r\n    for (i,j) in update])\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/sprites.py\", line 123, in render\r\n    for (i,j) in update])\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/sprites.py\", line 117, in render\r\n    gfx.draw(dx,dy,glyph.icon,glyph.color())\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/sprites.py\", line 33, in color\r\n    if self.fg: s += self.fg.lower()\r\nAttributeError: 'int' object has no attribute 'lower'\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n\u001b[K\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\r\n            \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Illegal input: %s\"\u001b[39;49m%\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(act))\u001b[K\r\n\u001b[K\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Close\"\u001b[39;49m:\u001b[K\r\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Surrender\"\u001b[39;49m:\u001b[K\r\n            \u001b[33mcur\u001b[39;49m = grid.current_team()\u001b[K\r\n            grid.purge( cur )\u001b[K\r\n            \u001b[33mcur.active\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n            \u001b[33mmsg\u001b[39;49m = \u001b[32m\"%d has been defeated!\"\u001b[39;49m%(cur.name)\u001b[K\r\n            grid.alerts.append(widgets.Notification(0,0,msg,200,cur.color))\u001b[K\r\n\u001b[K\n            \u001b[31m# TODO announce that team has lost                                  \u001b[39;49m\r\n\u001b[A\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"End Turn\"\u001b[39;49m:\u001b[K\r\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_END\u001b[K\r\n\u001b[K\n        \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Reached end of action without return.\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   18% L81   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[14;76H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;21r\u001b[15;1H\u001b[1M\u001b[1;24r\u001b[21;1H\u001b[K\n\u001b[?25l\u001b[31m# BUILD follows BEGIN and expects MENU.                                         \u001b[39;49m\r\n\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[1;22r\u001b[17;1H\u001b[1M\u001b[1;24r\u001b[15;13H\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"End Turn\"\u001b[39;49m:\u001b[22;1H\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mBuild\u001b[39;49m(Action):\u001b[K\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[C\u001b[24;1H\u001b[?25lAuto-saving...\u001b[14;4H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[14;4H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[14;5H\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[?25l\u001b[31m#grid.alerts.append(widgets.Notification(0,0,msg,200,cur.color))    \u001b[39;49m\r\n\u001b[14;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[14;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[14;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 82, in run\r\n    self.game.render(0,0)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/session.py\", line 214, in render\r\n    self.canvas.render(0,0)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/sprites.py\", line 123, in render\r\n    for (i,j) in update])\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/sprites.py\", line 123, in render\r\n    for (i,j) in update])\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/sprites.py\", line 117, in render\r\n    gfx.draw(dx,dy,glyph.icon,glyph.color())\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/sprites.py\", line 33, in color\r\n    if self.fg: s += self.fg.lower()\r\nAttributeError: 'int' object has no attribute 'lower'\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n\u001b[K\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\r\n            \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Illegal input: %s\"\u001b[39;49m%\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(act))\u001b[K\r\n\u001b[K\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Close\"\u001b[39;49m:\u001b[K\r\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Surrender\"\u001b[39;49m:\u001b[K\r\n            \u001b[33mcur\u001b[39;49m = grid.current_team()\u001b[K\r\n            grid.purge( cur )\u001b[K\r\n            \u001b[33mcur.active\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n            \u001b[33mmsg\u001b[39;49m = \u001b[32m\"%d has been defeated!\"\u001b[39;49m%(cur.name)\u001b[K\r\n            \u001b[31m#grid.alerts.append(widgets.Notification(0,0,msg,200,cur.color))    \u001b[39;49m\r\n\u001b[A\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"End Turn\"\u001b[39;49m:\u001b[K\r\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_END\u001b[K\r\n\u001b[K\n        \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Reached end of action without return.\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\u001b[31m# BUILD follows BEGIN and expects MENU.                                         \u001b[39;49m\r\n\u001b[A\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mBuild\u001b[39;49m(Action):\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   18% L81   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[14;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default grid.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[3;5H        \u001b[33mflag\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m flag \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn].active:\u001b[5;13H    \u001b[33mflag\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn += 1\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams):\u001b[8;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = 0\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day += 1\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units:\u001b[K\u001b[11;13H\u001b[33mu.ready\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[12;13Hu.sprite.colorize(u.team.color,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mFalse\u001b[39;49m)\r\n\u001b[K\n\t\u001b[31m# Repair units and draw income.                                         \u001b[39;49m\r\n\t\u001b[33mcur\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.current_team()\r\n\t\u001b[33mmsg\u001b[39;49m = \u001b[32m\"Day %d - %s\\n%s, move out!\"\u001b[39;49m%(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name, cur.name)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append(widgets.Notification(0,0,msg,200,cur.color))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cur:\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tile \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.all_tiles():\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur:\r\n                    \u001b[33mu\u001b[39;49m = tile.unit\u001b[K\r\n                    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair):\u001b[23;6H\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mgrid.py     \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   55% L199\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m#self.alerts.append(widgets.Notification(0,0,msg,200,cur.color))        \u001b[39;49m\r\n\u001b[17;10H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/grid.py...\u001b[17;10H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/grid.py\u001b[K\u001b[17;10H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;10H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.......................\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[32m\u001b[40m............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[32m\u001b[40m...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....................\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 95, in run\r\n    gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 88, in refresh\r\n    if gfx: return gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 105, in refresh\r\n    curses.napms(20)\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n            \u001b[33mflag\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n            \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m flag \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn].active:\u001b[K\r\n                \u001b[33mflag\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn += 1\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams):\u001b[K\r\n                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = 0\u001b[K\r\n                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day += 1\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units:\u001b[K\r\n            \u001b[33mu.ready\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n            u.sprite.colorize(u.team.color,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mFalse\u001b[39;49m)\u001b[K\r\n\u001b[K\n        \u001b[31m# Repair units and draw income.                                         \u001b[39;49m\r\n\u001b[A\n        \u001b[33mcur\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.current_team()\u001b[K\r\n        \u001b[33mmsg\u001b[39;49m = \u001b[32m\"Day %d - %s\\n%s, move out!\"\u001b[39;49m%(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name, cur.name)\u001b[K\r\n        \u001b[31m#self.alerts.append(widgets.Notification(0,0,msg,200,cur.color))        \u001b[39;49m\r\n\u001b[A\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cur:\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tile \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.all_tiles():\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur:\u001b[K\r\n                    \u001b[33mu\u001b[39;49m = tile.unit\u001b[K\r\n                    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair):\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mgrid.py     \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   55% L198  Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[17;10H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31melf.alerts.append(widgets.Notification(0,0,msg,200,cur.color)) \u001b[39;49m\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;10H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25lelf.alerts.append(widgets.Notification(0,0,msg,200,cur.color))\u001b[K\r\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[36msel\u001b[0m\u001b[39;49m\u001b[1@\u001b[1m\u001b[36mf\u001b[0m\u001b[39;49m\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/grid.py...\u001b[17;10H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/grid.py\u001b[K\u001b[17;10H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;10H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[17;10H\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default rules.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrules.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ldraw.py\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[3;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\r\n\u001b[K\n\u001b[31m# The Counter notification is used to animate increasing/decreasing HP after    \u001b[39;49m\r\n\u001b[31m# combat, capturing, joining, etc.                                              \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mCounter\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, start, end, delay, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay = delay\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer = timer\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = start\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end = end\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col = fg\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,6,3,layer=200)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,6,3,fg=fg,bg=bg),0,0)\u001b[K\r\n\t\u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,msg,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col),1,1)\r\n\u001b[K\u001b[20;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay > 0:\u001b[K\u001b[22;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay -= 1\u001b[K\u001b[23;14H\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   69% L79 \u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[4P\u001b[3;22H\u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer = timer\r\n        \u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[K\r\n        \u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\u001b[K\r\n        \u001b[33mw\u001b[39;49m = 0\u001b[K\u001b[8;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\r\n\t        \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\r\n\t\u001b[33mw\u001b[39;49m += 2\u001b[K\nprite = draw.fill(x,y,w,h,layer=200)\u001b[13;14Hsprite.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\r\n\t\u001b[4@\t\t\b.blit(draw.string(0,0,l,fg,bg),1,1+i)\r\n\u001b[K\u001b[17;5H\u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[20;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[22;18Halive = \u001b[35mFalse\u001b[39;49m\n\b\b\u001b[7m53% L78\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i != \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index:\u001b[K\r\n\t    i = i%\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor.move_to(1,i+1)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index = i\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\r\n\t    report = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[9;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[12;5H\u001b[31m# This function just reports what value is being hovered over.              \u001b[39;49m\r\n\u001b[13;5H\u001b[31m# This can be used for tooltips.                                            \u001b[39;49m\r\n\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\u001b[K\r\n\n\u001b[K\n\u001b[31m# Notifications are popups that should be tied to sprite objects. Their         \u001b[39;49m\r\n\u001b[31m# sprites are added to the pile of sprites.                                     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mNotification\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m)\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[4P\u001b[22;22H\u001b[35mTrue\u001b[39;49m\u001b[K\u001b[23;29H\u001b[7m37% L59\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m# This can be used for tooltips.                                            \u001b[39;49m\r\n\u001b[3;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# Notifications are popups that should be tied to sprite objects. Their         \u001b[39;49m\r\n\u001b[31m# sprites are added to the pile of sprites.                                     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mNotification\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\u001b[12;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer = timer\u001b[K\u001b[13;5H    \u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[K\u001b[14;5H    \u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\r\n\t\u001b[33mw\u001b[39;49m = 0\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[17;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\r\n                \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\u001b[K\r\n        \u001b[33mw\u001b[39;49m += 2\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,w,h,layer=200)\u001b[21;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\u001b[23;29H\u001b[7m47% L60\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[K\u001b[3;5H    \u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\r\n\t\u001b[33mw\u001b[39;49m = 0\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[6;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\r\n                \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\u001b[K\r\n        \u001b[33mw\u001b[39;49m += 2\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,w,h,layer=200)\u001b[10;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,l,fg,bg),1,1+i)\r\n\u001b[K\u001b[14;5H\u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[15;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[18;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\r\n\u001b[K\n\u001b[31m# The Counter notification is used to animate increasing/decreasing HP after    \u001b[39;49m\r\n\u001b[31m# combat, capturing, joining, etc.                                              \u001b[39;49m\r\n\u001b[23;29H\u001b[7m56% L71\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l(No changes need to be saved)\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[31m\u001b[40m|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[31m\u001b[40m|Ramen, move out!|\u001b(B\u001b[0;1m\u001b[34m\u001b[40m$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m........\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[3;18H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[C\u001b[2d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2d\b\u001b[31m\u001b[40m|\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3d\b\u001b[31m\u001b[40m|\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m+\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4d\b\u001b[31m\u001b[40m+\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5d\b\u001b[32m\u001b[40m.\u001b[6d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[7d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 95, in run\r\n    gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 88, in refresh\r\n    if gfx: return gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 105, in refresh\r\n    curses.napms(20)\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n        \u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[K\r\n        \u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\u001b[K\r\n        \u001b[33mw\u001b[39;49m = 0\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\u001b[K\r\n                \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\u001b[K\r\n        \u001b[33mw\u001b[39;49m += 2\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,w,h,layer=200)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,l,fg,bg),1,1+i)\u001b[K\r\n\u001b[K\n    \u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[31m# The Counter notification is used to animate increasing/decreasing HP after    \u001b[39;49m\r\n\u001b[A\n\u001b[31m# combat, capturing, joining, etc.                                              \u001b[39;49m\r\n\u001b[A\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   56% L70   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[11d\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u001b[24d\u001b[?25lNo other backend to switch to\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[11d\u001b[24d\u001b[?25l\u001b[34mSwitch to buffer (default grid.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[33mflag\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m flag \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn].active:\r\n\t        \u001b[33mflag\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[6;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn += 1\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams):\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = 0\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day += 1\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units:\u001b[K\r\n\t    \u001b[33mu.ready\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[12;13Hu.sprite.colorize(u.team.color,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mFalse\u001b[39;49m)\u001b[K\u001b[14;36H\u001b[4P\u001b[14;5H\u001b[4@\u001b[14;11H\u001b[31mRepair units and draw income.\u001b[39;49m\u001b[15;5H    \u001b[33mcur\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.current_team()\r\n\t\u001b[33mmsg\u001b[39;49m = \u001b[32m\"Day %d - %s\\n%s, move out!\"\u001b[39;49m%(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name, cur.name)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append(widgets.Notification(0,0,msg,200,cur.color))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cur:\u001b[K\n\b\b\b\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tile \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.all_tiles():\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur:\r\n                    \u001b[33mu\u001b[39;49m = tile.unit\u001b[K\r\n                    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair):\u001b[K\u001b[23;14H\u001b[7m\u001b[1mgrid.py     \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   55% L198\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;10H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[17;10H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[31m\u001b[40m|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[31m\u001b[40m|Ramen, move out!|\u001b(B\u001b[0;1m\u001b[34m\u001b[40m$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m........\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[3;18H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[C\u001b[2d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2d\b\u001b[31m\u001b[40m|\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3d\b\u001b[31m\u001b[40m|\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m+\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4d\b\u001b[31m\u001b[40m+\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5d\b\u001b[32m\u001b[40m.\u001b[6d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 95, in run\r\n    gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 88, in refresh\r\n    if gfx: return gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 105, in refresh\r\n    curses.napms(20)\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n            \u001b[33mflag\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n            \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m flag \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn].active:\u001b[K\r\n                \u001b[33mflag\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn += 1\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams):\u001b[K\r\n                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = 0\u001b[K\r\n                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day += 1\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units:\u001b[K\r\n            \u001b[33mu.ready\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n            u.sprite.colorize(u.team.color,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mFalse\u001b[39;49m)\u001b[K\r\n\u001b[K\n        \u001b[31m# Repair units and draw income.                                         \u001b[39;49m\r\n\u001b[A\n        \u001b[33mcur\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.current_team()\u001b[K\r\n        \u001b[33mmsg\u001b[39;49m = \u001b[32m\"Day %d - %s\\n%s, move out!\"\u001b[39;49m%(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name, cur.name)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append(widgets.Notification(0,0,msg,200,cur.color))\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cur:\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tile \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.all_tiles():\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur:\u001b[K\r\n                    \u001b[33mu\u001b[39;49m = tile.unit\u001b[K\r\n                    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair):\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mgrid.py     \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   55% L198  Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[17;10H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default widgets.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\t\u001b[33mlines\u001b[39;49m = s.splitlines()\r\n\t\u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\r\n\t\u001b[33mw\u001b[39;49m = 0\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[K\u001b[6;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\u001b[K\r\n\t\t\u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\u001b[K\r\n\t\u001b[33mw\u001b[39;49m += 2\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,w,h,layer=200)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\u001b[12;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,l,fg,bg),1,1+i)\u001b[14;5H\u001b[4P\t\b\b\u001b[31mNothing.                     \u001b[39;49m\u001b[4@\u001b[31m    \u001b[39;49m\u001b[15;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[19;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[31m# The Counter notification is used to animate increasing/decreasing HP after    \u001b[39;49m\r\n\u001b[31m# combat, capturing, joining, etc.                                              \u001b[39;49m\r\n\u001b[23;14H\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   56% L70 \u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m69\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l(No changes need to be saved)\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[31m\u001b[40m|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[31m\u001b[40m|Ramen, move out!|\u001b(B\u001b[0;1m\u001b[34m\u001b[40m$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m........\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[3;18H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[C\b+---------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Surrender|\r\u001b[4d|End Turn |\r\u001b[5d+---------+\u001b[2d\b\b\r|Close    \r\u001b[3d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mSurrender\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;15H\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 81, in run\r\n    res = self.game.handle_input(c)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/session.py\", line 121, in handle_input\r\n    result = self.action.perform(val, self.grid)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/rules.py\", line 80, in perform\r\n    msg = \"%d has been defeated!\"%(cur.name)\r\nTypeError: %d format: a number is required, not unicode\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n        \u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[K\r\n        \u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\u001b[K\r\n        \u001b[33mw\u001b[39;49m = 0\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\u001b[K\r\n                \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\u001b[K\r\n        \u001b[33mw\u001b[39;49m += 2\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,w,h,layer=200)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,l,fg,bg),1,1+i)\u001b[K\r\n\u001b[K\n    \u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[31m# The Counter notification is used to animate increasing/decreasing HP after    \u001b[39;49m\r\n\u001b[A\n\u001b[31m# combat, capturing, joining, etc.                                              \u001b[39;49m\r\n\u001b[A\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   56% L69   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[10d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l\u001b[34mSwitch to buffer (default grid.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[33mflag\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m flag \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn].active:\r\n\t        \u001b[33mflag\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[6;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn += 1\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams):\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = 0\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day += 1\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units:\u001b[K\r\n\t    \u001b[33mu.ready\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[12;13Hu.sprite.colorize(u.team.color,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mFalse\u001b[39;49m)\u001b[K\u001b[14;36H\u001b[4P\u001b[14;5H\u001b[4@\u001b[14;11H\u001b[31mRepair units and draw income.\u001b[39;49m\u001b[15;5H    \u001b[33mcur\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.current_team()\r\n\t\u001b[33mmsg\u001b[39;49m = \u001b[32m\"Day %d - %s\\n%s, move out!\"\u001b[39;49m%(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name, cur.name)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append(widgets.Notification(0,0,msg,200,cur.color))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cur:\u001b[K\n\b\b\b\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tile \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.all_tiles():\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur:\r\n                    \u001b[33mu\u001b[39;49m = tile.unit\u001b[K\r\n                    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair):\u001b[K\u001b[23;14H\u001b[7m\u001b[1mgrid.py     \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   55% L198\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;10H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default widgets.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrules.py\u001b[K\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[K\u001b[3;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[5;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Illegal input: %s\"\u001b[39;49m%\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(act))\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Close\"\u001b[39;49m:\u001b[K\u001b[8;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Surrender\"\u001b[39;49m:\u001b[K\r\n\t    \u001b[33mcur\u001b[39;49m = grid.current_team()\u001b[11;13Hgrid.purge( cur )\u001b[12;13H\u001b[33mcur.active\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[13;13H\u001b[33mmsg\u001b[39;49m = \u001b[32m\"%d has been defeated!\"\u001b[39;49m%(cur.name)\r\n\t    \u001b[31m#grid.alerts.append(widgets.Notification(0,0,msg,200,cur.color))    \u001b[39;49m\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"End Turn\"\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_END\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Reached end of action without return.\"\u001b[39;49m)\r\n\u001b[K\n\u001b[31m# BUILD follows BEGIN and expects MENU.                                         \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mBuild\u001b[39;49m(Action):\u001b[K\u001b[23;14H\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   18% L81 \u001b[0m\u001b[39;49m\u001b[27m\u001b[14;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25lgrid.alerts.append(widgets.Notification(0,0,msg,200,cur.color))\u001b[K\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[32ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[13;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[13;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[31m\u001b[40m|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[31m\u001b[40m|Ramen, move out!|\u001b(B\u001b[0;1m\u001b[34m\u001b[40m$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m........\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[3;18H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[C\u001b[2d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2d\b\u001b[31m\u001b[40m|\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3d\b\u001b[31m\u001b[40m|\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m+\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4d\b\u001b[31m\u001b[40m+\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5d\b\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+---------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Surrender|\r\u001b[4d|End Turn |\r\u001b[5d+---------+\u001b[2d\b\b\u001b[14;15H\r\u001b[2d|Close    \r\u001b[3d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mSurrender\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 81, in run\r\n    res = self.game.handle_input(c)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/session.py\", line 121, in handle_input\r\n    result = self.action.perform(val, self.grid)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/rules.py\", line 81, in perform\r\n    grid.alerts.append(widgets.Notification(0,0,msg,200,cur.color))\r\nNameError: global name 'widgets' is not defined\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n\u001b[K\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\r\n            \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Illegal input: %s\"\u001b[39;49m%\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(act))\u001b[K\r\n\u001b[K\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Close\"\u001b[39;49m:\u001b[K\r\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Surrender\"\u001b[39;49m:\u001b[K\r\n            \u001b[33mcur\u001b[39;49m = grid.current_team()\u001b[K\r\n            grid.purge( cur )\u001b[K\r\n            \u001b[33mcur.active\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n            \u001b[33mmsg\u001b[39;49m = \u001b[32m\"%s has been defeated!\"\u001b[39;49m%(cur.name)\u001b[K\r\n            grid.alerts.append(widgets.Notification(0,0,msg,200,cur.color))\u001b[K\r\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"End Turn\"\u001b[39;49m:\u001b[K\r\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_END\u001b[K\r\n\u001b[K\n        \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Reached end of action without return.\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\u001b[31m# BUILD follows BEGIN and expects MENU.                                         \u001b[39;49m\r\n\u001b[A\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mBuild\u001b[39;49m(Action):\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   18% L80   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[13;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[4;9H\u001b[?25l\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = act\u001b[K\r\n\t\u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(x,y)\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Move(x,y,grid)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(t.build) > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m grid.current_team():\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Build(x,y,grid)\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Main_Menu()\r\n\u001b[K\n\u001b[K\n\u001b[31m# MAIN MENU follows BEGIN and expects MENU.                                     \u001b[39;49m\r\n\u001b[31m# This is the menu created if the user clicks outside of the field.             \u001b[39;49m\r\n\u001b[31m# This allows the user to end their turn, undo, moves, etc.                     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mMain_Menu\u001b[39;49m(Action):\u001b[K\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Close\"\u001b[39;49m,\u001b[32m\"Surrender\"\u001b[39;49m,\u001b[32m\"End Turn\"\u001b[39;49m]\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_MENU\r\n\u001b[K\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\n\b\b\b\b\u001b[7m4% L7\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m# performing. This will return an instance of the new action that the       \u001b[39;49m\r\n\u001b[3;5H\u001b[31m# session should handle.                                                    \u001b[39;49m\r\n\u001b[4;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[7;5H\u001b[31m# The INFO function provides popups and other contextual information of     \u001b[39;49m\r\n\u001b[8;5H\u001b[31m# what would happen if the action was taken. This is used to help create    \u001b[39;49m\r\n\u001b[9;5H\u001b[31m# interface candy.                                                          \u001b[39;49m\r\n\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\u001b[14;3H\u001b[31mThe BEGIN action is the first action and expects COORD. If the coord is a\u001b[39;49m\u001b[15;3H\u001b[31munit, we display its movement range. If the coord is a terrain that can\u001b[39;49m\u001b[16;3H\u001b[31mproduce, we begin production. If anything else, we display the GAME MENU.\u001b[39;49m\u001b[17;7H\u001b[32mBegin\u001b[39;49m\u001b[4P\n\n\t\t]\u001b[K\nCOORD\n\n\n\b\b\u001b[7m 8% L51\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l\u001b[33mACT_COMMIT\u001b[39;49m = \u001b[32m\"commit\"\u001b[39;49m\u001b[K\r\n\u001b[33mACT_TRASH\u001b[39;49m = \u001b[32m\"trash\"\u001b[39;49m\u001b[K\r\n\u001b[33mACT_UNDO\u001b[39;49m = \u001b[32m\"undo\"\u001b[39;49m\u001b[K\r\n\u001b[33mACT_END\u001b[39;49m = \u001b[32m\"end\"\u001b[39;49m\u001b[K\r\n\u001b[33mACT_RESTART\u001b[39;49m = \u001b[32m\"restart\"\u001b[39;49m\r\n\u001b[K\n\u001b[K\n\u001b[31m# An action is the base class of handling actions. Actions tell the session     \u001b[39;49m\r\n\u001b[31m# what the next input necessary is (such as any coord, a coord in a range of    \u001b[39;49m\r\n\u001b[31m# selections, or a menu item). The session is responsible for handling input    \u001b[39;49m\r\n\u001b[31m# appropriately in the context of the action. AI can also respond to actions.   \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mAction\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[18;5H\u001b[31m# The PERFORM function takes the input (either a coord or a string) and     \u001b[39;49m\r\n\u001b[19;5H\u001b[31m# then processes it. This should only be done when the player presses       \u001b[39;49m\r\n\u001b[20;5H\u001b[31m# enter and confirms the action. The grid should be backed up before        \u001b[39;49m\r\n\u001b[21;5H\u001b[31m# performing. This will return an instance of the new action that the       \u001b[39;49m\r\n\u001b[22;5H\u001b[31m# session should handle.                                                    \u001b[39;49m\r\n\u001b[23;30H\u001b[7m3% L32\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l\u001b[31m# The Rules contain the Action objects that serve as a sort of state machine    \u001b[39;49m\r\n\u001b[31m# for what can be done. Each action should, upon taking input, pass back a      \u001b[39;49m\r\n\u001b[31m# new action. Each action can also contain a sprite that should be killed       \u001b[39;49m\r\n\u001b[31m# after \"perform\" and modified during \"update\".                                 \u001b[39;49m\r\n\u001b[K\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m . \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m entities\r\n\n\u001b[K\n\u001b[33mFORM_COORD\u001b[39;49m = \u001b[32m\"coord\"\u001b[39;49m\u001b[K\r\n\u001b[33mFORM_MENU\u001b[39;49m = \u001b[32m\"menu\"\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[33mACT_COMMIT\u001b[39;49m = \u001b[32m\"commit\"\u001b[39;49m\r\n\u001b[33mACT_TRASH\u001b[39;49m = \u001b[32m\"trash\"\u001b[39;49m\u001b[K\r\n\u001b[33mACT_UNDO\u001b[39;49m = \u001b[32m\"undo\"\u001b[39;49m\u001b[K\r\n\u001b[33mACT_END\u001b[39;49m = \u001b[32m\"end\"\u001b[39;49m\u001b[K\r\n\u001b[33mACT_RESTART\u001b[39;49m = \u001b[32m\"restart\"\u001b[39;49m\r\n\u001b[K\n\u001b[K\n\u001b[31m# An action is the base class of handling actions. Actions tell the session     \u001b[39;49m\r\n\u001b[31m# what the next input necessary is (such as any coord, a coord in a range of    \u001b[39;49m\r\n\u001b[31m# selections, or a menu item). The session is responsible for handling input    \u001b[39;49m\r\n\u001b[23;29H\u001b[7mTop L21\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\n\n\u001b[?25lBeginning of buffer\u001b[22;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u0007\u0007\u0007\u0007\u0007\u0007\n\n\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m19\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m9 \u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[7;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[7;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[31m\u001b[40m|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[31m\u001b[40m|Ramen, move out!|\u001b(B\u001b[0;1m\u001b[34m\u001b[40m$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m........\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[3;18H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[C\u001b[2d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2d\b\u001b[31m\u001b[40m|\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3d\b\u001b[31m\u001b[40m|\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m+\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4d\b\u001b[31m\u001b[40m+\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5d\b\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[6d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+---------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Surrender|\r\u001b[4d|End Turn |\r\u001b[5d+---------+\u001b[2d\b\b\u001b[14;15H\r\u001b[2d|Close    \r\u001b[3d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mSurrender\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[31m\u001b[40m+----------\r\u001b[2d|Day 1 - In\r\u001b[3d|Ramen, mov\r\u001b[4d+----------\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[14;14H.\u001b[4;12H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;18H\u001b[31m\u001b[40m--------+\r\u001b[2d|Ramen has been defeated!|\r\u001b[3d+------------------------+\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;3H\u001b[3;27H\u001b[6;3H\u001b[3;27H\u001b[6;3H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;27H\u001b[6;5H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;27H\u001b[6;8H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[7d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[8d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;27H\u001b[8;9H\u001b[3;27H\u001b[8;9H\u001b[3;27H\u001b[8;9H\u001b[3;27H\u001b[8;9H\u001b[3;27H\u001b[8;9H\u001b[3;27H\u001b[8;9H\u001b[3;27H\u001b[8;9H\u001b[3;27H\u001b[8;9H\u001b[3;27H\u001b[8;9H\u001b[3;27H\u001b[8;9H\u001b[3;27H\u001b[8;9H\u001b[3;27H\u001b[8;9H\u001b[3;27H\u001b[8;9H\u001b[3;27H\u001b[8;9H\u001b[3;27H\u001b[8;9H\u001b[3;27H\u001b[8;9H\u001b[3;27H\u001b[8;9H\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 95, in run\r\n    gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 88, in refresh\r\n    if gfx: return gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 105, in refresh\r\n    curses.napms(20)\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n\u001b[31m# The Rules contain the Action objects that serve as a sort of state machine    \u001b[39;49m\r\n\u001b[A\n\u001b[31m# for what can be done. Each action should, upon taking input, pass back a      \u001b[39;49m\r\n\u001b[A\n\u001b[31m# new action. Each action can also contain a sprite that should be killed       \u001b[39;49m\r\n\u001b[A\n\u001b[31m# after \"perform\" and modified during \"update\".                                 \u001b[39;49m\r\n\u001b[A\n\u001b[K\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m . \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m entities, widgets\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[33mFORM_COORD\u001b[39;49m = \u001b[32m\"coord\"\u001b[39;49m\u001b[K\r\n\u001b[33mFORM_MENU\u001b[39;49m = \u001b[32m\"menu\"\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[33mACT_COMMIT\u001b[39;49m = \u001b[32m\"commit\"\u001b[39;49m\u001b[K\r\n\u001b[33mACT_TRASH\u001b[39;49m = \u001b[32m\"trash\"\u001b[39;49m\u001b[K\r\n\u001b[33mACT_UNDO\u001b[39;49m = \u001b[32m\"undo\"\u001b[39;49m\u001b[K\r\n\u001b[33mACT_END\u001b[39;49m = \u001b[32m\"end\"\u001b[39;49m\u001b[K\r\n\u001b[33mACT_RESTART\u001b[39;49m = \u001b[32m\"restart\"\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# An action is the base class of handling actions. Actions tell the session     \u001b[39;49m\r\n\u001b[A\n\u001b[31m# what the next input necessary is (such as any coord, a coord in a range of    \u001b[39;49m\r\n\u001b[A\n\u001b[31m# selections, or a menu item). The session is responsible for handling input    \u001b[39;49m\r\n\u001b[A\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Top L6    Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[7;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;3H\u001b[?25l\u001b[31mwhat the next input necessary is (such as any coord, a coord in a range of\u001b[39;49m\u001b[3;3H\u001b[31mselections, or a menu item). The session is responsible for handling input\u001b[39;49m\u001b[4;3H\u001b[31mappropriately in the context of the action. AI can also respond to actions.\u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mAction\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = \u001b[35mNone\u001b[39;49m\r\n\n    \u001b[31m# The PERFORM function takes the input (either a coord or a string) and     \u001b[39;49m\r\n    \u001b[31m# then processes it. This should only be done when the player presses       \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# enter and confirms the action. The grid should be backed up before        \u001b[39;49m\r\n    \u001b[31m# performing. This will return an instance of the new action that the       \u001b[39;49m\r\n    \u001b[31m# session should handle.                                                    \u001b[39;49m\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\r\n\u001b[K\u001b[18;5H\u001b[31m# The INFO function provides popups and other contextual information of     \u001b[39;49m\r\n\u001b[19;5H\u001b[31m# what would happen if the action was taken. This is used to help create    \u001b[39;49m\r\n    \u001b[31m# interface candy.                                                          \u001b[39;49m\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[K\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\u001b[23;29H\u001b[7m 4% L20\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[K\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# The BEGIN action is the first action and expects COORD. If the coord is a     \u001b[39;49m\r\n\u001b[31m# unit, we display its movement range. If the coord is a terrain that can       \u001b[39;49m\r\n\u001b[31m# produce, we begin production. If anything else, we display the GAME MENU.     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mBegin\u001b[39;49m(Action):\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\u001b[11;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[12;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_COORD\u001b[K\r\n\u001b[K\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[K\u001b[15;5H    \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = act\u001b[K\r\n\t\u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(x,y)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\u001b[18;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Move(x,y,grid)\u001b[K\u001b[19;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(t.build) > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m grid.current_team():\u001b[K\u001b[20;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Build(x,y,grid)\u001b[K\u001b[21;5H    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Main_Menu()\n\b\b\u001b[7m11% L39\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l\u001b[34mSwitch to buffer (default grid.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[2;5H    \u001b[33mlines\u001b[39;49m = s.splitlines()\r\n\t\u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\r\n\t\u001b[33mw\u001b[39;49m = 0\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\u001b[K\r\n                \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\u001b[K\r\n        \u001b[33mw\u001b[39;49m += 2\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,w,h,layer=200)\u001b[10;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,l,fg,bg),1,1+i)\u001b[14;5H\u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[15;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\u001b[17;12H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[18;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[31m# The Counter notification is used to animate increasing/decreasing HP after    \u001b[39;49m\r\n\u001b[31m# combat, capturing, joining, etc.                                              \u001b[39;49m\r\n\u001b[23;14H\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   56% L6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index = i\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\r\n\t    report = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[6;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[9;5H\u001b[31m# This function just reports what value is being hovered over.              \u001b[39;49m\r\n\u001b[10;5H\u001b[31m# This can be used for tooltips.                                            \u001b[39;49m\r\n\u001b[11;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\u001b[K\r\n\n\u001b[K\n\u001b[31m# Notifications are popups that should be tied to sprite objects. Their         \u001b[39;49m\r\n\u001b[31m# sprites are added to the pile of sprites.                                     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mNotification\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m)\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[4P\u001b[19;22H\u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer = timer\r\n        \u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[K\r\n        \u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\u001b[K\u001b[23;29H\u001b[7m40% L62\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\n\u001b[K\n\u001b[?25l\u001b[31m# Notifications are popups that should be tied to sprite objects. Their         \u001b[39;49m\r\n\u001b[31m# sprites are added to the pile of sprites.                                     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mNotification\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\u001b[9;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer = timer\u001b[K\u001b[10;5H    \u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[K\u001b[11;5H    \u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\r\n\t\u001b[33mw\u001b[39;49m = 0\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[14;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\r\n                \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\u001b[K\r\n        \u001b[33mw\u001b[39;49m += 2\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,w,h,layer=200)\u001b[18;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,l,fg,bg),1,1+i)\r\n\u001b[K\u001b[22;5H\u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[23;30H\u001b[7m9% L63\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[3;5H\u001b[?25l\u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0\u001b[7;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[K\r\n\t\u001b[4@\u001b[8;26H\u001b[35mFalse\u001b[39;49m\r\n\u001b[K\n\u001b[31m# The Counter notification is used to animate increasing/decreasing HP after    \u001b[39;49m\r\n\u001b[31m# combat, capturing, joining, etc.                                              \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mCounter\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, start, end, delay, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay = delay\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer = timer\u001b[17;15Htart = start\u001b[K\u001b[18;14Hend = end\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col = fg\u001b[K\r\n\t\u001b[4P\u001b[20;20H = draw.fill(x,y,6,3,layer=200)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,6,3,fg=fg,bg=bg),0,0)\u001b[22;5H    \u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\n\b\b\b\b\b\u001b[7m66% L72\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[6;1H\u001b[1L\u001b[1;24r\u001b[6;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   66% L76\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\r\t\u001b[?25l\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lE\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[6;15H\u001b[?25l\u001b[32mException\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/widgets.py...\u001b[6;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/widgets.py\u001b[K\u001b[6;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[31m\u001b[40m|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[31m\u001b[40m|Ramen, move out!|\u001b(B\u001b[0;1m\u001b[34m\u001b[40m$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m........\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[3;18H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[C\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m-\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[31m\u001b[40m-\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mD\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2d\b\u001b[31m\u001b[40mD\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mR\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3d\b\u001b[31m\u001b[40mR\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m-\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4d\b\u001b[31m\u001b[40m-\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m-\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[31m\u001b[40m-\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 95, in run\r\n    gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 88, in refresh\r\n    if gfx: return gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 105, in refresh\r\n    curses.napms(20)\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n\u001b[K\n    \u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\r\n        \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[31m# The Counter notification is used to animate increasing/decreasing HP after    \u001b[39;49m\r\n\u001b[A\n\u001b[31m# combat, capturing, joining, etc.                                              \u001b[39;49m\r\n\u001b[A\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mCounter\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, start, end, delay, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay = delay\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer = timer\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = start\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end = end\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col = fg\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,6,3,layer=200)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,6,3,fg=fg,bg=bg),0,0)\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   66% L76   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[6;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default rules.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrules.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ldraw\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lsession.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[2;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrender\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[3;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed\u001b[K\u001b[4;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation >= 1.0:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[8;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\u001b[9;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.show()\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units:\r\n                    u.cycle_anim()\u001b[K\r\n        \u001b[33mnotifications\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications = []\u001b[14;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications:\u001b[K\r\n\t    n.update()\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m n.alive:\u001b[K\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications.append(n)\u001b[18;14Hcanvas.render(0,0)\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;14H\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   93% L211\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.kill()\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight = sprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h,50)\r\n\t        \u001b[33mc\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[5;13H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices:\u001b[6;13H        \u001b[33mt1\u001b[39;49m,\u001b[33mu1\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(x,y)\u001b[K\r\n\t\t    \u001b[33mt2\u001b[39;49m,\u001b[33mu2\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(cx,cy)\u001b[8;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u1: \u001b[33mc\u001b[39;49m = u1.team.color\u001b[K\r\n\t\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m t1 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t1.team: \u001b[33mc\u001b[39;49m = t1.team.color\r\n\t\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u2: \u001b[33mc\u001b[39;49m = u2.team.color\u001b[11;21H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m: \u001b[33mc\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().color\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.putc(\u001b[35mNone\u001b[39;49m,x,y,c,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight)\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[15;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[16;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = widgets.Menu(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices)\u001b[17;22Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.sprite)\r\n\u001b[K\u001b[19;5H\u001b[31m# The session has multiple sprites that need to be rendered, from the       \u001b[39;49m\r\n\u001b[20;5H\u001b[31m# view of the grid to the mutliple popups that need to appear.              \u001b[39;49m\r\n\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrender\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed\u001b[23;29H\u001b[7m83% L199\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;22H\u001b[?25lgrid = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[3;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[K\u001b[6;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_END:\u001b[K\r\n\t\thistory = []\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m].append(history)\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (cp,acts) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history:\u001b[K\u001b[10;21Hhistory.append(acts)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.end_turn()\u001b[K\u001b[13;22Hstartover = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\u001b[14;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[15;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[K\u001b[16;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[17;22Haction = result\u001b[K\u001b[19;5H        \u001b[31m# Set up various UI candy.                                          \u001b[39;49m\r\n\u001b[20;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\u001b[K\u001b[21;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.kill()\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight = sprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h,50)\u001b[23;29H\u001b[7m74% L180\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;26H\u001b[?25l_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[3;22Hgrid.info()\u001b[K\u001b[4;22Haction = rules.Begin()\u001b[K\u001b[5;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_UNDO:\u001b[K\u001b[6;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite.kill()\u001b[K\r\n\t\tcp = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history) > 0:\u001b[K\r\n\t\t    \u001b[33mcp\u001b[39;49m, acts = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.pop()\r\n\t\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t\t    cp = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint\u001b[12;26H = copy.deepcopy(cp)\u001b[13;22Hcheckpoint = copy.deepcopy(cp)\u001b[K\u001b[14;22Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[15;22Hgrid.info()\u001b[K\u001b[16;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[17;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_RESTART:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[19;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs = []\u001b[K\u001b[20;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite.kill()\u001b[K\u001b[21;22Hgrid = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[22;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[K\u001b[23;29H\u001b[7m65% L161\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\t\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\t    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t\t        \u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.info(), \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\u001b[K\n\u001b[K\n\t\u001b[31m# If we got a result from performing an action, we will be given        \u001b[39;49m\r\n\t\u001b[31m# either an order or a new action to perform. The orders tell us that   \u001b[39;49m\r\n\t\u001b[31m# the action was complete and that we either need to commit it or       \u001b[39;49m\r\n\t\u001b[31m# undo our mess.                                                        \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result:\u001b[K\n\b\b\b\b\b\b\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result == rules.ACT_COMMIT:\u001b[K\u001b[13;22Hhistory.append((copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint),\r\n\t\t                     \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs))\u001b[K\u001b[15;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[17;38HTRASH:\u001b[K\u001b[18;22Hgrid.sprite.kill()\u001b[20;26H = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint)\u001b[21;26H_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[22;22Hgrid.info()\u001b[K\n\b\b\b\b\u001b[7m55% L142\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;25H\u001b[?25l         \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[3;21H             \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.x \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.y \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m]\u001b[4;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables):\u001b[K\r\n\t\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab %= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables)\r\n\t\t\tu = tabbables[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab]\r\n\t                \u001b[33mcx\u001b[39;49m,cy = u.x,u.y\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor != (cx,cy)):\u001b[K\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = cx,cy\u001b[K\r\n\t            \u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[12;13H        result = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.move_to(cx,cy)\u001b[K\u001b[15;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c:\u001b[K\u001b[17;13H        val = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\r\n\t\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m val:\u001b[K\r\n\t\t\u001b[8@\u001b[19;36H.append(val)\r\n\t\t        \u001b[33mresult\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(val, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\t    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[23;29H\u001b[7m45% L123\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications.append(n)\u001b[K\u001b[3;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(n.sprite)\u001b[K\r\n\u001b[K\n\t\u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\r\n\t\u001b[31m# If control does not belong to the human, then the control simply      \u001b[39;49m\r\n\t\u001b[31m# allows the player to move the map around.                             \u001b[39;49m\r\n\t\u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[K\r\n\t\u001b[33mresult\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[33minfo\u001b[39;49m = {}\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().control == \u001b[32m\"human\"\u001b[39;49m:\u001b[12;13H\u001b[8P\u001b[12;22H\u001b[35mNone\u001b[39;49m\u001b[K\u001b[13;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"left\"\u001b[39;49m: cx -=1\u001b[K\u001b[15;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"right\"\u001b[39;49m: cx +=1\u001b[K\u001b[16;21H == \u001b[32m\"up\"\u001b[39;49m: cy -= 1\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: cy += 1\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"\\t\"\u001b[39;49m:\u001b[19;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab += 1\u001b[K\u001b[20;21Htabbables = [u \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.ready\r\n\t\t\t         \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[22;21H             \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.x \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.y \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m]\u001b[23;29H\u001b[7m36% L104\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l                     \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[3;13H                     \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.x \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.y \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m]\u001b[4;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables):\r\n\t                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab %= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables)\u001b[K\r\n\t                u = tabbables[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab]\u001b[K\r\n\t                \u001b[33mcx\u001b[39;49m,cy = u.x,u.y\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor != (cx,cy)):\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = cx,cy\r\n\t            \u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\u001b[12;13H\u001b[8@\u001b[12;30H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[13;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.move_to(cx,cy)\u001b[15;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[16;21H:\u001b[K\r\n\t\t    val = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\r\n\t\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m val:\u001b[K\u001b[19;21H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(val)\u001b[20;21H    \u001b[33mresult\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(val, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\r\n\t\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[22;21H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[23;29H\u001b[7m45\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[A\t\t\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[3;21H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b\b    \u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.info(), \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\u001b[K\n\u001b[K\n\t\u001b[31m# If we got a result from performing an action, we will be given        \u001b[39;49m\r\n\t\u001b[31m# either an order or a new action to perform. The orders tell us that   \u001b[39;49m\r\n\t\u001b[31m# the action was complete and that we either need to commit it or       \u001b[39;49m\r\n\t\u001b[31m# undo our mess.                                                        \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result:\u001b[K\n\b\b\b\b\b\b\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result == rules.ACT_COMMIT:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.append((copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint),\r\n\t\t                     \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs))\u001b[15;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[17;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_TRASH:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite.kill()\r\n\t\t\u001b[8P\u001b[19;28H = []\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info()\n\b\b\b\b\u001b[7m55% L122\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info()\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[K\u001b[5;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_UNDO:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite.kill()\r\n\t        cp = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history) > 0:\u001b[K\r\n\t            \u001b[33mcp\u001b[39;49m, acts = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.pop()\u001b[K\r\n\t        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t            cp = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint\u001b[12;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = copy.deepcopy(cp)\u001b[13;22Hcheckpoint = copy.deepcopy(cp)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[15;22Hgrid.info()\u001b[K\u001b[17;38HRESTART:\u001b[18;22Hhistory = []\u001b[K\u001b[20;26H.sprite.kill()\u001b[K\u001b[21;26H = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[K\u001b[22;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[23;29H\u001b[7m65% L141\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;26H\u001b[?25l = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[K\u001b[3;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[4;22Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[5;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[6;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_END:\r\n\t\thistory = []\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m].append(history)\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (cp,acts) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history:\u001b[K\r\n\t\t    history.append(acts)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[K\u001b[12;26H.end_turn()\u001b[K\u001b[13;22Hstartover = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[14;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\u001b[15;22Haction = rules.Begin()\u001b[16;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b\b    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = result\u001b[K\r\n\u001b[K\u001b[19;13H\u001b[31m# Set up various UI candy.                                          \u001b[39;49m\r\n\u001b[20;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\u001b[21;22Hhighlight.kill()\u001b[K\u001b[22;22Hhighlight = sprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h,50)\u001b[23;29H\u001b[7m74% L160\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;22H\u001b[?25lhighlight.kill()\u001b[K\u001b[3;22Hhighlight = sprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h,50)\r\n\t\t\u001b[33mc\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices:\u001b[6;13H        \u001b[33mt1\u001b[39;49m,\u001b[33mu1\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(x,y)\r\n\t\t    \u001b[33mt2\u001b[39;49m,\u001b[33mu2\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(cx,cy)\r\n\t\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u1: \u001b[33mc\u001b[39;49m = u1.team.color\u001b[K\r\n\t\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m t1 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t1.team: \u001b[33mc\u001b[39;49m = t1.team.color\u001b[10;21H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u2: \u001b[33mc\u001b[39;49m = u2.team.color\r\n\t\t    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m: \u001b[33mc\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().color\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.putc(\u001b[35mNone\u001b[39;49m,x,y,c,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[13;22Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight)\u001b[14;22Hanimation = 0.0\u001b[K\u001b[15;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[16;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = widgets.Menu(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices)\u001b[17;22Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.sprite)\u001b[19;5H\u001b[31m# The session has multiple sprites that need to be rendered, from the       \u001b[39;49m\r\n\u001b[20;5H\u001b[31m# view of the grid to the mutliple popups that need to appear.              \u001b[39;49m\r\n\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrender\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed\u001b[K\u001b[23;29H\u001b[7m83% L179\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrender\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation >= 1.0:\u001b[5;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[K\u001b[6;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[K\u001b[8;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.show()\u001b[K\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units:\u001b[K\u001b[11;21Hu.cycle_anim()\u001b[K\r\n\t\u001b[33mnotifications\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications:\u001b[15;13Hn.update()\u001b[K\u001b[16;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m n.alive:\u001b[K\n\b\bnotifications.append(n)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.render(0,0)\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7m93% L198\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m200\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m10\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\b\b\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\u001b[?25lself\u001b[1P\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[14;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[14;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 82, in run\r\n    self.game.render(0,0)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/session.py\", line 211, in render\r\n    n.update()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/widgets.py\", line 76, in update\r\n    raise Exception\r\nException\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrender\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation >= 1.0:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.show()\u001b[K\r\n                \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units:\u001b[K\r\n                    u.cycle_anim()\u001b[K\r\n        \u001b[33mnotifications\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications = []\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m notifications:\u001b[K\r\n            n.update()\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m n.alive:\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications.append(n)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.render(0,0)\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   93% L210  Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[14;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default widgets.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[K\u001b[3;5H\u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[4;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\r\n\t\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[K\u001b[8;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[K\u001b[9;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[31m# The Counter notification is used to animate increasing/decreasing HP after    \u001b[39;49m\r\n\u001b[31m# combat, capturing, joining, etc.                                              \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mCounter\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, start, end, delay, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay = delay\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer = timer\u001b[K\u001b[18;14Hstart = start\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end = end\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col = fg\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,6,3,layer=200)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,6,3,fg=fg,bg=bg),0,0)\u001b[23;14H\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   66% L76 \u001b[0m\u001b[39;49m\u001b[27m\u001b[6;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[8;1H\u001b[1M\u001b[1;24r\u001b[6;9H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[22;1H        \u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/widgets.py...\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/widgets.py\u001b[K\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[31m\u001b[40m|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[31m\u001b[40m|Ramen, move out!|\u001b(B\u001b[0;1m\u001b[34m\u001b[40m$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m........\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[3;18H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[C\u001b[2d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2d\b\u001b[31m\u001b[40m|\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3d\b\u001b[31m\u001b[40m|\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m+\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4d\b\u001b[31m\u001b[40m+\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5d\b\u001b[32m\u001b[40m.\u001b[6d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[32m\u001b[40m..................\r\u001b[2d............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\r\u001b[3d...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###\r\u001b[4d\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.............\u001b[6;3H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m^\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+---------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Surrender|\r\u001b[4d|End Turn |\r\u001b[5d+---------+\u001b[2d\b\b\r|Close    \r\u001b[3d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mSurrender\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[32m\u001b[40m...........\r\u001b[2d...........\r\u001b[3d...........\r\u001b[4d....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\r\u001b[5d....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[14;14H.\u001b[6;16H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[31m\u001b[40m+------------------------+\r\u001b[2d|Ramen has been defeated!|\r\u001b[3d+------------------------+\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;16H\u001b[3;27H\u001b[6;16H\u001b[3;27H\u001b[6;16H\u001b[3;27H\u001b[6;16H\u001b[3;27H\u001b[6;16H\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 95, in run\r\n    gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 88, in refresh\r\n    if gfx: return gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 105, in refresh\r\n    curses.napms(20)\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n\u001b[K\n    \u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[31m# The Counter notification is used to animate increasing/decreasing HP after    \u001b[39;49m\r\n\u001b[A\n\u001b[31m# combat, capturing, joining, etc.                                              \u001b[39;49m\r\n\u001b[A\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mCounter\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, start, end, delay, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay = delay\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer = timer\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = start\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end = end\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col = fg\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,6,3,layer=200)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,6,3,fg=fg,bg=bg),0,0)\u001b[K\r\n        \u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   66% L76   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[6d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l\u001b[34mSwitch to buffer (default session.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lsession.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[2;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrender\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[3;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed\u001b[K\u001b[4;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation >= 1.0:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\u001b[7;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[8;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.show()\r\n                \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units:\u001b[K\r\n                    u.cycle_anim()\u001b[K\r\n        \u001b[33mnotifications\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications\u001b[13;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m notifications:\r\n\t    n.update()\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m n.alive:\u001b[K\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications.append(n)\u001b[18;14Hcanvas.render(0,0)\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;14H\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   93% L210\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m09\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m199\u001b[0m\u001b[39;49m\u001b[27m\u001b[3;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[2;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l                \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u2: \u001b[33mc\u001b[39;49m = u2.team.color\r\n\t            \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m: \u001b[33mc\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().color\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.putc(\u001b[35mNone\u001b[39;49m,x,y,c,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[5;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight)\u001b[6;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[K\u001b[7;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[8;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = widgets.Menu(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices)\u001b[K\u001b[9;22Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.sprite)\r\n\u001b[K\u001b[11;5H\u001b[31m# The session has multiple sprites that need to be rendered, from the       \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# view of the grid to the mutliple popups that need to appear.              \u001b[39;49m\r\n\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrender\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation >= 1.0:\u001b[16;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[17;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[19;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.show()\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units:\u001b[22;21Hu.cycle_anim()\n\b\b\b\b\b\b\u001b[7m87% L197\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m89\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[3;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[2;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[3;13H\u001b[?25l\u001b[31m# Set up various UI candy.                                          \u001b[39;49m\r\n\u001b[4;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\u001b[K\u001b[5;22Hhighlight.kill()\u001b[K\u001b[6;22Hhighlight = sprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h,50)\u001b[7;13H    \u001b[33mc\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices:\u001b[K\r\n\t\t    \u001b[33mt1\u001b[39;49m,\u001b[33mu1\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(x,y)\u001b[K\u001b[10;21H\u001b[33mt2\u001b[39;49m,\u001b[33mu2\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(cx,cy)\u001b[11;5H                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u1: \u001b[33mc\u001b[39;49m = u1.team.color\u001b[K\u001b[12;5H                \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m t1 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t1.team: \u001b[33mc\u001b[39;49m = t1.team.color\u001b[K\u001b[13;5H                \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u2: \u001b[33mc\u001b[39;49m = u2.team.color\r\n\t            \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m: \u001b[33mc\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().color\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.putc(\u001b[35mNone\u001b[39;49m,x,y,c,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[16;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight)\u001b[17;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[K\u001b[18;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[19;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = widgets.Menu(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices)\u001b[K\u001b[20;22Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.sprite)\r\n\u001b[K\u001b[22;5H\u001b[31m# The session has multiple sprites that need to be rendered, from the       \u001b[39;49m\r\n\u001b[23;30H\u001b[7m2% L186\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m79\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[3;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[2;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lhistory = []\u001b[3;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m].append(history)\u001b[K\u001b[4;13H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (cp,acts) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history:\u001b[K\r\n\t\t    history.append(acts)\u001b[6;24Hstory = []\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.end_turn()\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[K\u001b[11;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = result\u001b[K\r\n\u001b[K\u001b[14;13H\u001b[31m# Set up various UI candy.                                          \u001b[39;49m\r\n\u001b[15;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\u001b[K\u001b[16;22Hhighlight.kill()\u001b[K\u001b[17;22Hhighlight = sprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h,50)\u001b[18;13H    \u001b[33mc\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices:\u001b[K\r\n\t\t    \u001b[33mt1\u001b[39;49m,\u001b[33mu1\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(x,y)\u001b[K\u001b[21;21H\u001b[33mt2\u001b[39;49m,\u001b[33mu2\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(cx,cy)\u001b[22;5H                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u1: \u001b[33mc\u001b[39;49m = u1.team.color\u001b[K\u001b[23;29H\u001b[7m77% L175\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default widgets.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrules.py\u001b[K\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[K\u001b[3;5H\u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[4;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[K\u001b[7;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[K\u001b[8;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[31m# The Counter notification is used to animate increasing/decreasing HP after    \u001b[39;49m\r\n\u001b[31m# combat, capturing, joining, etc.                                              \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mCounter\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, start, end, delay, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay = delay\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer = timer\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = start\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end = end\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col = fg\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,6,3,layer=200)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,6,3,fg=fg,bg=bg),0,0)\r\n\t\u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\u001b[23;14H\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   66% L76 \u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l\u001b[34mSwitch to buffer (default session.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lsession.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrules.py\u001b[K\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrules.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[2;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[3;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# The BEGIN action is the first action and expects COORD. If the coord is a     \u001b[39;49m\r\n\u001b[31m# unit, we display its movement range. If the coord is a terrain that can       \u001b[39;49m\r\n\u001b[31m# produce, we begin production. If anything else, we display the GAME MENU.     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mBegin\u001b[39;49m(Action):\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_COORD\r\n\u001b[K\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = act\u001b[K\r\n\t\u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(x,y)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Move(x,y,grid)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(t.build) > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m grid.current_team():\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Build(x,y,grid)\u001b[K\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Main_Menu()\u001b[K\u001b[23;14H\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   11% L39\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m# what the next input necessary is (such as any coord, a coord in a range of    \u001b[39;49m\r\n\u001b[31m# selections, or a menu item). The session is responsible for handling input    \u001b[39;49m\r\n\u001b[31m# appropriately in the context of the action. AI can also respond to actions.   \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mAction\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[10;5H\u001b[31m# The PERFORM function takes the input (either a coord or a string) and     \u001b[39;49m\r\n\u001b[11;5H\u001b[31m# then processes it. This should only be done when the player presses       \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# enter and confirms the action. The grid should be backed up before        \u001b[39;49m\r\n\u001b[13;5H\u001b[31m# performing. This will return an instance of the new action that the       \u001b[39;49m\r\n\u001b[14;5H\u001b[31m# session should handle.                                                    \u001b[39;49m\r\n\u001b[15;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[18;5H\u001b[31m# The INFO function provides popups and other contextual information of     \u001b[39;49m\r\n\u001b[19;5H\u001b[31m# what would happen if the action was taken. This is used to help create    \u001b[39;49m\r\n\u001b[20;5H\u001b[31m# interface candy.                                                          \u001b[39;49m\r\n\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\u001b[23;29H\u001b[7m 4\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[K\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# The BEGIN action is the first action and expects COORD. If the coord is a     \u001b[39;49m\r\n\u001b[31m# unit, we display its movement range. If the coord is a terrain that can       \u001b[39;49m\r\n\u001b[31m# produce, we begin production. If anything else, we display the GAME MENU.     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mBegin\u001b[39;49m(Action):\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\u001b[11;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[12;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_COORD\u001b[K\r\n\u001b[K\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[K\u001b[15;5H    \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = act\u001b[K\r\n\t\u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(x,y)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\u001b[18;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Move(x,y,grid)\u001b[K\u001b[19;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(t.build) > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m grid.current_team():\u001b[K\u001b[20;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Build(x,y,grid)\u001b[K\u001b[21;5H    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Main_Menu()\n\b\b\u001b[7m11\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Main_Menu()\u001b[6;3H\u001b[31mMAIN MENU follows BEGIN and expects MENU.                                \u001b[39;49m\u001b[7;3H\u001b[31mThis is the menu created if the user clicks outside of the field.      \u001b[39;49m\u001b[8;3H\u001b[31mThis allows the user to end their turn, undo, moves, etc.                \u001b[39;49m\u001b[9;7H\u001b[32mMain_\u001b[39;49m\u001b[4@\u001b[32mMenu\u001b[39;49m\n\n\t\t\u001b[32m\"Close\"\u001b[39;49m,\u001b[32m\"Surrender\"\u001b[39;49m,\u001b[32m\"End Turn\"\u001b[39;49m]\u001b[12;26HMENU\u001b[K\r\n\n\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Illegal input: %s\"\u001b[39;49m%\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(act))\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Close\"\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Surrender\"\u001b[39;49m:\u001b[K\r\n\t    cur = grid.current_team()\u001b[22;13Hgrid.purge( cur )\u001b[K\n\u001b[7m5% L58\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l    cur = grid.current_team()\u001b[3;13Hgrid.purge( cur )\u001b[K\u001b[4;13Hcur.active = \u001b[35mFalse\u001b[39;49m\u001b[5;13Hmsg = \u001b[32m\"%s has been defeated!\"\u001b[39;49m%(cur.name)\r\n            grid.alerts.append(widgets.Notification(0,0,msg,200,cur.color))\u001b[K\r\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"End Turn\"\u001b[39;49m:\u001b[K\r\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_END\r\n\u001b[K\n\t\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Reached end of action without return.\"\u001b[39;49m)\r\n\u001b[K\n\u001b[31m# BUILD follows BEGIN and expects MENU.                                         \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mBuild\u001b[39;49m(Action):\u001b[K\u001b[15;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, grid)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = x,y\r\n\t\u001b[33mtile\u001b[39;49m = grid.tile_at(x,y)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b,v \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34msorted\u001b[0m\u001b[39;49m(tile.build.items(), key=\u001b[1m\u001b[36mlambda\u001b[0m\u001b[39;49m x:x[1]):\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m v <= grid.current_team().cash:\u001b[21;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"%s $%d\"\u001b[39;49m%(b,v))\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Cancel\"\u001b[39;49m)\u001b[23;29H\u001b[7m20% L77\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m80\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[7;1H\u001b[1M\u001b[1;24r\u001b[5;13H\u001b[?25lgrid.alerts.append(widgets.Notification(0,0,msg,200,cur.color))\u001b[6;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\u001b[22;1H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_MENU\u001b[K\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[17;9H\u001b[?25ltile\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lMark set\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[7;1H\u001b[1L\u001b[1;24r\u001b[5;13H\u001b[?25l\u001b[33mmsg\u001b[39;49m = \u001b[32m\"%s has been defeated!\"\u001b[39;49m%(cur.name)\u001b[6;13Hgrid.alerts.append(widgets.Notification(0,0,msg,200,cur.color))\r\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\u001b[23;35H\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;76H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[2;13H\u001b[?25l    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"%s $%d\"\u001b[39;49m%(b,v))\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Cancel\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_MENU\u001b[K\r\n\u001b[K\u001b[6;5H\u001b[31m# This builds the unit and disables it. It can move on the next turn.       \u001b[39;49m\r\n\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n\t\t\b\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[9;14H\u001b[1m\u001b[36maise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Illegal input: %s\"\u001b[39;49m%\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(act))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Cancel\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\n        \u001b[33mname\u001b[39;49m,price = act.rsplit(\u001b[35mNone\u001b[39;49m,1)\u001b[K\r\n        unit = entities.Unit(name, grid.rules[\u001b[32m\"units\"\u001b[39;49m][name])\u001b[15;5H    \u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\r\n\tgrid.current_team().cash -= \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(price[1:])\r\n\tgrid.add_unit(unit,grid.current_team(),x,y)\r\n\tunit.done()\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\r\n\u001b[K\n\u001b[31m# MOVE follows BEGIN and expects COORD.                                         \u001b[39;49m\r\n\u001b[31m# If the selected unit is on the active team and is ready, then we permit       \u001b[39;49m\r\n\u001b[23;30H\u001b[7m5% L96\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m# MOVE follows BEGIN and expects COORD.                                         \u001b[39;49m\r\n\u001b[31m# If the selected unit is on the active team and is ready, then we permit       \u001b[39;49m\r\n\u001b[31m# it to move.                                                                   \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mMove\u001b[39;49m(Action):\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x,y,grid):\u001b[K\u001b[7;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = x,y\u001b[K\r\n\t\u001b[33munit\u001b[39;49m = grid.unit_at(x,y)\u001b[K\r\n\u001b[K\n\t\u001b[31m# Calculate movement range. TODO, calc fuel cost as well.               \u001b[39;49m\r\n\t\u001b[33mreport\u001b[39;49m = []\u001b[K\r\n\t\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m_floodfill\u001b[0m\u001b[39;49m(pos,r,top=\u001b[35mFalse\u001b[39;49m):\r\n\t    \u001b[33ma\u001b[39;49m,\u001b[33mb\u001b[39;49m = pos\u001b[K\r\n\t    \u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(a,b)\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m u.is_allied(unit)):\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m top:\u001b[K\r\n\t            \u001b[33mr\u001b[39;49m -= unit.terrain.get(t.terrain,r)\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (a,b) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m report \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.terrain \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m unit.terrain:\r\n\t            report.append((a,b))\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m r > 0:\r\n                    _floodfill((a-1,b),r)\u001b[K\r\n                    _floodfill((a+1,b),r)\u001b[K\u001b[23;30H\u001b[7m9% L115\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l                    _floodfill((a-1,b),r)\u001b[K\r\n                    _floodfill((a+1,b),r)\u001b[K\r\n                    _floodfill((a,b-1),r)\u001b[K\r\n                    _floodfill((a,b+1),r)\u001b[6;5H    _floodfill((x,y),unit.move,\u001b[35mTrue\u001b[39;49m)\r\n\u001b[K\n\t\u001b[31m# Now filter the results. We have to do something more complex          \u001b[39;49m\r\n\t\u001b[31m# than a list comprehension.                                            \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (a,b) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m report:\r\n\t    \u001b[33madd\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[13;13H\u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(a,b)\u001b[14;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t: \u001b[33madd\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[15;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m unit: \u001b[33madd\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[16;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m unit.team: \u001b[33madd\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[17;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m unit.team \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit == unit.unit: add = \u001b[35mTrue\u001b[39;49m\u001b[18;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m unit.team \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m unit.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.carry: add = \u001b[35mTrue\u001b[39;49m\r\n\u001b[K\u001b[20;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m add:\u001b[K\n\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append((a,b))\r\n\u001b[K\u001b[23;29H\u001b[7m35% L134\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append((a,b))\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_COORD\u001b[K\r\n\u001b[K\u001b[6;5H\u001b[31m# This performs the movement. After moving, we have to figure out if the    \u001b[39;49m\r\n\u001b[7;5H\u001b[31m# unit can do anything else.                                                \u001b[39;49m\r\n\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\r\n\u001b[K\n\t\u001b[33mox\u001b[39;49m,\u001b[33moy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = act\u001b[K\r\n\t\u001b[33mt1\u001b[39;49m,\u001b[33mu1\u001b[39;49m = grid.get_at(ox,oy)\r\n\t\u001b[33mt2\u001b[39;49m,\u001b[33mu2\u001b[39;49m = grid.get_at(x,y)\u001b[K\r\n\u001b[K\n\t\u001b[31m# We just undo whenever we try to move a unit that isn't ready and      \u001b[39;49m\r\n\t\u001b[31m# isn't ours.                                                           \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u1.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m grid.current_team() \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u1.ready:\u001b[20;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\r\n\u001b[K\n\t\u001b[31m# Before moving, we check to see if the tile is occupied. If it         \u001b[39;49m\r\n\u001b[23;29H\u001b[7m40% L153\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\n\t\u001b[?25l\u001b[31m# Before moving, we check to see if the tile is occupied. If it         \u001b[39;49m\r\n\t\u001b[31m# is, we allow movement if the landing unit can either carry the        \u001b[39;49m\r\n\t\u001b[31m# mover or the mover and landing unit can be joined.                    \u001b[39;49m\r\n\u001b[6;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u2 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u2.unit == u1.unit \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u1 \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u2):\u001b[K\u001b[7;5H        grid.remove_unit(u1)\u001b[K\u001b[8;5H        \u001b[33mu2.hp\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(u1.hp+u2.hp,100)\r\n\t    \u001b[33mu2.fuel\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(u1.fuel+u2.fuel,u2.max_fuel)\u001b[10;13H\u001b[33mu2.ammo\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(u1.ammo+u2.ammo,u2.max_ammo)\u001b[11;13Hu2.done()\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u2 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u2.capacity > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u1.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u2.carry \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m\r\n\t   \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(u2.carrying) < u2.capacity \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u1 \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u2):\r\n\t    grid.load_unit(u1,u2)\u001b[16;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\r\n\u001b[K\n\tgrid.move_unit(u1,x,y)\u001b[K\r\n\t\u001b[33mt1.hp\u001b[39;49m = 100\u001b[K\r\n\t\u001b[33mmoved\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (ox,oy) != (x,y):\r\n\t    \u001b[33mmoved\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[23;30H\u001b[7m4% L172\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (ox,oy) != (x,y):\r\n\t    \u001b[33mmoved\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Unit_Act(x,y,grid,moved)\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# UNIT ACT follows MOVE and expects MENU.                                       \u001b[39;49m\r\n\u001b[31m#  If a unit is in range, there is ammo, etc, allow attack.                     \u001b[39;49m\r\n\u001b[31m#  If the unit and current terrain are capturable, allow capture.               \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mUnit_Act\u001b[39;49m(Action):\u001b[K\u001b[11;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m,x,y,grid,moved):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_MENU\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = x,y\u001b[K\r\n\t\u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(x,y)\u001b[K\r\n\u001b[K\n\t\u001b[31m# Determine if we can attack anything.                                  \u001b[39;49m\r\n\t\u001b[33mlo\u001b[39;49m,\u001b[33mhi\u001b[39;49m = u.rang\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (lo>0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m hi>0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u.is_indirect \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m\r\n\t        (u.is_indirect \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m moved))):\r\n\t    \u001b[33mcan_attack\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[22;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (a,b) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m grid.get_range(x,y,lo,hi):\u001b[23;29H\u001b[7m50% L191\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\n\t\u001b[?25l\u001b[31m# Before moving, we check to see if the tile is occupied. If it         \u001b[39;49m\r\n\t\u001b[31m# is, we allow movement if the landing unit can either carry the        \u001b[39;49m\r\n\t\u001b[31m# mover or the mover and landing unit can be joined.                    \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u2 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u2.unit == u1.unit \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u1 \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u2):\r\n            grid.remove_unit(u1)\u001b[K\r\n            \u001b[33mu2.hp\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(u1.hp+u2.hp,100)\u001b[K\r\n            \u001b[33mu2.fuel\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(u1.fuel+u2.fuel,u2.max_fuel)\u001b[K\r\n            \u001b[33mu2.ammo\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(u1.ammo+u2.ammo,u2.max_ammo)\u001b[11;5H        u2.done()\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u2 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u2.capacity > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u1.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u2.carry \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m\r\n\t   \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(u2.carrying) < u2.capacity \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u1 \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u2):\r\n\t    grid.load_unit(u1,u2)\u001b[16;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\r\n\u001b[K\n\tgrid.move_unit(u1,x,y)\r\n\t\u001b[33mt1.hp\u001b[39;49m = 100\u001b[K\r\n\t\u001b[33mmoved\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (ox,oy) != (x,y):\u001b[K\u001b[22;13H\u001b[33mmoved\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[23;29H\u001b[7m44\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u2 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u2.capacity > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u1.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u2.carry \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m\r\n\t   \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(u2.carrying) < u2.capacity \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u1 \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u2):\u001b[K\r\n\t    grid.load_unit(u1,u2)\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\r\n\u001b[K\n\tgrid.move_unit(u1,x,y)\u001b[K\r\n\t\u001b[33mt1.hp\u001b[39;49m = 100\u001b[K\r\n\t\u001b[33mmoved\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (ox,oy) != (x,y):\u001b[K\u001b[11;13H\u001b[33mmoved\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Unit_Act(x,y,grid,moved)\r\n\u001b[K\n\u001b[K\n\u001b[31m# UNIT ACT follows MOVE and expects MENU.                                       \u001b[39;49m\r\n\u001b[31m#  If a unit is in range, there is ammo, etc, allow attack.                     \u001b[39;49m\r\n\u001b[31m#  If the unit and current terrain are capturable, allow capture.               \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mUnit_Act\u001b[39;49m(Action):\u001b[K\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m,x,y,grid,moved):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_MENU\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = x,y\u001b[23;30H\u001b[7m8% L193\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = act\u001b[K\r\n\t\u001b[33mt1\u001b[39;49m,\u001b[33mu1\u001b[39;49m = grid.get_at(ox,oy)\u001b[K\r\n\t\u001b[33mt2\u001b[39;49m,\u001b[33mu2\u001b[39;49m = grid.get_at(x,y)\u001b[K\r\n\u001b[K\n\t\u001b[31m# We just undo whenever we try to move a unit that isn't ready and      \u001b[39;49m\r\n\t\u001b[31m# isn't ours.                                                           \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u1.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m grid.current_team() \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u1.ready:\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\r\n\u001b[K\n\t\u001b[31m# Before moving, we check to see if the tile is occupied. If it         \u001b[39;49m\r\n\t\u001b[31m# is, we allow movement if the landing unit can either carry the        \u001b[39;49m\r\n\t\u001b[31m# mover or the mover and landing unit can be joined.                    \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u2 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u2.unit == u1.unit \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u1 \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u2):\r\n            grid.remove_unit(u1)\u001b[K\r\n            \u001b[33mu2.hp\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(u1.hp+u2.hp,100)\u001b[K\r\n            \u001b[33mu2.fuel\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(u1.fuel+u2.fuel,u2.max_fuel)\u001b[K\r\n            \u001b[33mu2.ammo\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(u1.ammo+u2.ammo,u2.max_ammo)\u001b[19;5H        u2.done()\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u2 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u2.capacity > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u1.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u2.carry \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m\r\n\t   \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(u2.carrying) < u2.capacity \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u1 \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u2):\u001b[23;30H\u001b[7m2% L184\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u2 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u2.capacity > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u1.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u2.carry \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m\r\n\t   \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(u2.carrying) < u2.capacity \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u1 \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u2):\r\n\t    grid.load_unit(u1,u2)\u001b[5;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\r\n\u001b[K\n\tgrid.move_unit(u1,x,y)\u001b[K\r\n\t\u001b[33mt1.hp\u001b[39;49m = 100\u001b[K\r\n\t\u001b[33mmoved\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (ox,oy) != (x,y):\r\n\t    \u001b[33mmoved\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Unit_Act(x,y,grid,moved)\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# UNIT ACT follows MOVE and expects MENU.                                       \u001b[39;49m\r\n\u001b[31m#  If a unit is in range, there is ammo, etc, allow attack.                     \u001b[39;49m\r\n\u001b[31m#  If the unit and current terrain are capturable, allow capture.               \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mUnit_Act\u001b[39;49m(Action):\u001b[K\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m,x,y,grid,moved):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_MENU\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = x,y\u001b[K\u001b[23;30H\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[A\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = x,y\u001b[K\r\n\t\u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(x,y)\u001b[K\r\n\u001b[K\n\t\u001b[31m# Determine if we can attack anything.                                  \u001b[39;49m\r\n\t\u001b[33mlo\u001b[39;49m,\u001b[33mhi\u001b[39;49m = u.rang\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (lo>0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m hi>0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u.is_indirect \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m\r\n\t        (u.is_indirect \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m moved))):\r\n\t    \u001b[33mcan_attack\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[11;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (a,b) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m grid.get_range(x,y,lo,hi):\r\n\t        \u001b[33mtarg\u001b[39;49m = grid.unit_at(a,b)\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (targ \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u.is_allied(targ)\u001b[14;26H\u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m (targ.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.secondary \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m\r\n                         (targ.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.primary \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.ammo > 0))):\u001b[K\r\n                    \u001b[33mcan_attack\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m can_attack:\u001b[K\r\n                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Attack\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[31m# If we're carrying anything, try to unload it.                         \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(u.carrying) > 0:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Unload\"\u001b[39;49m)\u001b[23;29H\u001b[7m53% L202\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(u.carrying) > 0:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Unload\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[31m# Can we capture this tile?                                             \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.can_capture \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.capture > 0:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Capture\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Wait\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Cancel\"\u001b[39;49m)\r\n\u001b[K\u001b[12;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[15;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Illegal input: %s\"\u001b[39;49m%\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(act))\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\r\n\t\u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(x,y)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Capture\"\u001b[39;49m:\r\n\t    old_hp = t.hp\u001b[K\r\n\t    new_hp = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(old_hp-\u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(u.hp*u.capture*.01),0)\r\n\u001b[K\u001b[23;30H\u001b[7m8% L221\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = x,y\u001b[K\r\n\t\u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(x,y)\r\n\u001b[K\n\t\u001b[31m# Determine if we can attack anything.                                  \u001b[39;49m\r\n\t\u001b[33mlo\u001b[39;49m,\u001b[33mhi\u001b[39;49m = u.rang\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (lo>0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m hi>0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u.is_indirect \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m\r\n\t        (u.is_indirect \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m moved))):\r\n\t    \u001b[33mcan_attack\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[11;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (a,b) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m grid.get_range(x,y,lo,hi):\u001b[12;5H            \u001b[33mtarg\u001b[39;49m = grid.unit_at(a,b)\u001b[K\u001b[13;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (targ \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u.is_allied(targ)\r\n\t                 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m (targ.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.secondary \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m\u001b[15;13H             (targ.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.primary \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.ammo > 0))):\r\n\t            \u001b[33mcan_attack\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m can_attack:\u001b[K\n\b\b\b\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Attack\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[31m# If we're carrying anything, try to unload it.                         \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(u.carrying) > 0:\u001b[K\u001b[22;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Unload\"\u001b[39;49m)\u001b[23;30H\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(u.carrying) > 0:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Unload\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[31m# Can we capture this tile?                                             \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.can_capture \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.capture > 0:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Capture\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Wait\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Cancel\"\u001b[39;49m)\r\n\u001b[K\u001b[12;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[15;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Illegal input: %s\"\u001b[39;49m%\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(act))\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\r\n\t\u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(x,y)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Capture\"\u001b[39;49m:\r\n\t    old_hp = t.hp\u001b[K\r\n\t    new_hp = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(old_hp-\u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(u.hp*u.capture*.01),0)\r\n\u001b[K\u001b[23;30H\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = x,y\u001b[K\r\n\t\u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(x,y)\r\n\u001b[K\n\t\u001b[31m# Determine if we can attack anything.                                  \u001b[39;49m\r\n\t\u001b[33mlo\u001b[39;49m,\u001b[33mhi\u001b[39;49m = u.rang\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (lo>0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m hi>0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u.is_indirect \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m\r\n\t        (u.is_indirect \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m moved))):\r\n\t    \u001b[33mcan_attack\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[11;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (a,b) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m grid.get_range(x,y,lo,hi):\u001b[12;5H            \u001b[33mtarg\u001b[39;49m = grid.unit_at(a,b)\u001b[K\u001b[13;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (targ \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u.is_allied(targ)\r\n\t                 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m (targ.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.secondary \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m\u001b[15;13H             (targ.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.primary \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.ammo > 0))):\r\n\t            \u001b[33mcan_attack\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m can_attack:\u001b[K\n\b\b\b\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Attack\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[31m# If we're carrying anything, try to unload it.                         \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(u.carrying) > 0:\u001b[K\u001b[22;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Unload\"\u001b[39;49m)\u001b[23;30H\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(u.carrying) > 0:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Unload\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[31m# Can we capture this tile?                                             \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.can_capture \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.capture > 0:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Capture\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Wait\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Cancel\"\u001b[39;49m)\r\n\u001b[K\u001b[12;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[15;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Illegal input: %s\"\u001b[39;49m%\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(act))\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\r\n\t\u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(x,y)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Capture\"\u001b[39;49m:\r\n\t    old_hp = t.hp\u001b[K\r\n\t    new_hp = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(old_hp-\u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(u.hp*u.capture*.01),0)\r\n\u001b[K\u001b[23;30H\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l    new_hp = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(old_hp-\u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(u.hp*u.capture*.01),0)\r\n\u001b[K\u001b[4;13Ht.hp = new_hp\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.hp == 0:\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.is_hq \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.team:\u001b[K\u001b[7;13H        grid.purge(t.team)\u001b[K\u001b[8;21H\u001b[33mt.team.active\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t            \u001b[31m#message t.team loses                                       \u001b[39;49m\r\n\t            \u001b[33mt.is_hq\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[11;21H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (tx,ty) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m grid.all_tiles_xy():\u001b[12;5H                    \u001b[33mot\u001b[39;49m = grid.tile_at(tx,ty)\u001b[K\u001b[13;5H                    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m ot.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m t.team:\r\n\t                    \u001b[33mot.team\u001b[39;49m = u.team\u001b[15;13H                \u001b[33mot.is_hq\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t                    \u001b[33mot.hp\u001b[39;49m = 100\r\n\t                    grid.change_tile(ot,tx,ty)\r\n\t\t\u001b[33mt.team\u001b[39;49m = u.team\r\n\t        \u001b[33mt.hp\u001b[39;49m = 100\u001b[K\u001b[20;13H    grid.change_tile(t,x,y)\u001b[21;13Hu.done()\u001b[K\u001b[22;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\n\b\u001b[7m62% L240\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[8;42H\u001b[1;22r\u001b[10;1H\u001b[1L\u001b[1;24r\u001b[9;1H\u001b[K\n\u001b[?25l                    \u001b[31m#message t.team loses                                       \u001b[39;49m\r\n\u001b[A\u001b[23;36H\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lMark set\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[11;1H\u001b[1L\u001b[1;24r\u001b[9;13H\u001b[?25l\u001b[33mmsg\u001b[39;49m = \u001b[32m\"%s has been defeated!\"\u001b[39;49m%(cur.name)\u001b[10;13Hgrid.alerts.append(widgets.Notification(0,0,msg,200,cur.color))\u001b[K\r\n                    \u001b[31m#message t.team loses                                       \u001b[39;49m\r\n\u001b[A\u001b[23;30H\u001b[7m1% L248\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;76H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;53H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\u001b[?25l.name)\u001b[K\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l.name)\u001b[K\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l.name)\u001b[K\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt.name)\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l.name)\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt.name)\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le.name)\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la.name)\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm.name)\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;50H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[10;76H\b\b\b\b\b\b\b\b\b\u001b[?25l.color))\u001b[K\u001b[10;67H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l.color))\u001b[K\u001b[10;66H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l.color))\u001b[K\u001b[10;65H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt.color))\u001b[10;66H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l.color))\u001b[10;67H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt.color))\u001b[10;68H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le.color))\u001b[10;69H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la.color))\u001b[10;70H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm.color))\u001b[10;71H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[10;13H\u001b[1@\r\u001b[C\u001b[1;22r\u001b[12;1H\u001b[1L\u001b[1;24r\u001b[10;14H\u001b[1@\u001b[10;80H\u001b[?25l\\\r\n)\u001b[K\n\b                    \u001b[31m#message t.team loses                                       \u001b[39;49m\r\n\u001b[A\u001b[10;3H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\b\b\u001b[1@\u001b[10;80H\u001b[?25l\\\r\n\u001b[C)\u001b[A\u001b[C\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\b\u001b[1@\u001b[10;80H\u001b[?25l\\\r\nr))\u001b[A\u001b[C\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[1@\u001b[10;80H\u001b[?25l\\\r\nor))\u001b[A\u001b[C\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[10;18H\u001b[1@\u001b[10;80H\u001b[?25l\\\r\nlor))\u001b[A\u001b[C\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[10;19H\u001b[1@\u001b[10;80H\u001b[?25l\\\r\nolor))\u001b[A\t\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[10;20H\u001b[1@\u001b[10;80H\u001b[?25l\\\r\ncolor))\u001b[A\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[9;13H\u001b[1@\b\b\b\u001b[9;14H\u001b[1@\b\b\b\t\b\b\u001b[1@\b\b\b\t\b\u001b[1@\b\b\b\t\u001b[1@\b\b\b\u001b[9;18H\u001b[1@\b\b\b\u001b[9;19H\u001b[1@\b\b\b\u001b[9;20H\u001b[1@\b\b\b\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lAuto-saving...\u001b[10;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[10;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[11;8H\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;42H\r\u001b[K\u001b[23;30H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[14;1H\u001b[1M\u001b[1;24r\u001b[12;21H\u001b[?25l\u001b[33mt.is_hq\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[13;21H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (tx,ty) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m grid.all_tiles_xy():\u001b[22;1H                grid.change_tile(t,x,y)\u001b[K\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[A\n\u001b[10;79H\b\b\b\b\b\b\u001b[K\r\n\u001b[?25lt.team.color))\u001b[23;36H\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\t\b\u001b[1@\t\u001b[1@\u001b[23;30H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;10H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\t\b\u001b[1@\t\u001b[1@\u001b[C\u001b[43@\u001b[11;61H\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[11;61H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[11;61H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;61H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;61H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;61H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   62\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[11;1H\u001b[1M\u001b[1;24r\u001b[9;21H\u001b[?25lgrid.alerts.append(widgets.Notification(0,0,msg,200,\u001b[10;21H                                        t.team.color))\u001b[22;1H            u.done()\u001b[K\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[1;22r\u001b[11;1H\u001b[1M\u001b[1;24r\u001b[9;61H\u001b[?25lt.team.color))\u001b[10;21H\u001b[33mt.is_hq\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[22;1H            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[1;22r\u001b[11;1H\u001b[1M\u001b[1;24r\u001b[9;21H\u001b[?25l\u001b[33mt.is_hq\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[10;21H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (tx,ty) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m grid.all_tiles_xy():\u001b[22;1H\u001b[K\u001b[9d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lMark set\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[11;1H\u001b[3L\u001b[1;24r\u001b[9;21H\u001b[?25l\u001b[33mmsg\u001b[39;49m = \u001b[32m\"%s has been defeated!\"\u001b[39;49m%(t.team.name)\u001b[10;21Hgrid.alerts.append(widgets.Notification(0,0,msg,200,\r\n                                                            t.team.color))\u001b[K\r\n                    \u001b[33mt.is_hq\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n                    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (tx,ty) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m grid.all_tiles_xy():\u001b[K\u001b[23;30H\u001b[7m1% L250\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[2;13H\u001b[?25l    \u001b[33mt.hp\u001b[39;49m = 100\u001b[K\r\n\t\tgrid.change_tile(t,x,y)\u001b[4;13Hu.done()\u001b[K\u001b[5;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Unload\"\u001b[39;49m:\u001b[K\u001b[8;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Unload(x,y,grid)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Attack\"\u001b[39;49m:\u001b[K\u001b[11;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Attack(x,y,grid)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Wait\"\u001b[39;49m:\u001b[K\u001b[14;13Hu.done()\u001b[K\u001b[15;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Cancel\"\u001b[39;49m:\u001b[K\u001b[18;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\u001b[K\n\u001b[31m# ACTION follows UNIT ACT when target in range. Expects COORD.                  \u001b[39;49m\r\n\u001b[31m# The provided coord should be one that contains an enemy unit.                 \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mAttack\u001b[39;49m(Action):\u001b[K\u001b[23;30H\u001b[7m7% L259\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m# The provided coord should be one that contains an enemy unit.                 \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mAttack\u001b[39;49m(Action):\u001b[K\u001b[4;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, grid):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = x,y\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_COORD\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\u001b[K\n\tu = grid.unit_at(x,y)\r\n\t\u001b[33mlo\u001b[39;49m,hi = u.rang\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (a,b) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m grid.get_range(x,y,lo,hi):\u001b[12;13H\u001b[33mtarg\u001b[39;49m = grid.unit_at(a,b)\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (targ \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u.is_allied(targ)\u001b[14;13H         \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m (targ.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.secondary \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m\u001b[15;13H         (targ.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.primary \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.ammo > 0))):\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append((a,b))\r\n\u001b[K\u001b[18;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\r\n            \u001b[33max\u001b[39;49m,\u001b[33may\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\r\n            \u001b[33mdx\u001b[39;49m,\u001b[33mdy\u001b[39;49m = act\u001b[23;29H\u001b[7m71% L278\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l                \u001b[33mt.hp\u001b[39;49m = 100\u001b[K\r\n                grid.change_tile(t,x,y)\u001b[4;5H        u.done()\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Unload\"\u001b[39;49m:\u001b[8;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Unload(x,y,grid)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Attack\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Attack(x,y,grid)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Wait\"\u001b[39;49m:\u001b[K\u001b[14;13Hu.done()\u001b[K\u001b[15;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Cancel\"\u001b[39;49m:\u001b[18;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\u001b[K\n\u001b[31m# ACTION follows UNIT ACT when target in range. Expects COORD.                  \u001b[39;49m\r\n\u001b[31m# The provided coord should be one that contains an enemy unit.                 \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mAttack\u001b[39;49m(Action):\u001b[K\u001b[23;29H\u001b[7m67\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l\u001b[31m# The provided coord should be one that contains an enemy unit.                 \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mAttack\u001b[39;49m(Action):\u001b[K\u001b[4;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, grid):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = x,y\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_COORD\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\u001b[K\n\tu = grid.unit_at(x,y)\r\n\t\u001b[33mlo\u001b[39;49m,hi = u.rang\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (a,b) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m grid.get_range(x,y,lo,hi):\u001b[12;13H\u001b[33mtarg\u001b[39;49m = grid.unit_at(a,b)\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (targ \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u.is_allied(targ)\u001b[14;13H         \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m (targ.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.secondary \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m\u001b[15;13H         (targ.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.primary \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.ammo > 0))):\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append((a,b))\r\n\u001b[K\u001b[18;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\r\n            \u001b[33max\u001b[39;49m,\u001b[33may\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\r\n            \u001b[33mdx\u001b[39;49m,\u001b[33mdy\u001b[39;49m = act\u001b[23;29H\u001b[7m71\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l            \u001b[33max\u001b[39;49m,\u001b[33may\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\r\n            \u001b[33mdx\u001b[39;49m,\u001b[33mdy\u001b[39;49m = act\u001b[4;5H        \u001b[33matk_t\u001b[39;49m,\u001b[33matk_u\u001b[39;49m = grid.get_at(ax,ay)\r\n\t    \u001b[33mdef_t\u001b[39;49m,\u001b[33mdef_u\u001b[39;49m = grid.get_at(dx,dy)\r\n\t    \u001b[33md\u001b[39;49m = grid.dist((ax,ay),(dx,dy))\r\n\t    \u001b[33mstart_ahp\u001b[39;49m, \u001b[33mstart_dhp\u001b[39;49m = atk_u.hp, def_u.hp\r\n\n\t    \u001b[31m# Calculate damage.                                                 \u001b[39;49m\r\n\t    \u001b[33ma_dmg\u001b[39;49m,\u001b[33mprim\u001b[39;49m = atk_u.simulate(def_u, def_t.cover)\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m a_dmg: \u001b[33mdef_u.hp\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(0,def_u.hp-a_dmg)\u001b[12;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33matk_u.ammo\u001b[39;49m -= 1\r\n\u001b[K\u001b[14;13H\u001b[31m# Only counter if hp > 0 and not indirect.                          \u001b[39;49m\r\n\u001b[15;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m def_u.is_indirect \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m def_u.in_range(d):\r\n\t\t\u001b[33md_dmg\u001b[39;49m,\u001b[33mprim\u001b[39;49m = def_u.simulate(atk_u, atk_t.cover)\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m d_dmg: \u001b[33matk_u.hp\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(0,atk_u.hp-d_dmg)\u001b[18;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33mdef_u.ammo\u001b[39;49m -= 1\u001b[K\r\n\u001b[K\n\t    \u001b[31m# draw hp countdown from start_ahp to atk_u.hp                      \u001b[39;49m\r\n\u001b[21;13H\u001b[31m# draw hp countdown from start_dhp to def_u.hp                      \u001b[39;49m\r\n\u001b[K\u001b[23;30H\u001b[7m5% L297\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[31m# draw hp countdown from start_dhp to def_u.hp                      \u001b[39;49m\r\n\u001b[K\u001b[4;13H\u001b[31m# Remove dead units (and all carriees) from grid.                   \u001b[39;49m\r\n\u001b[5;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m atk_u.hp > 0:\u001b[K\u001b[6;13H    atk_u.done()\u001b[K\u001b[7;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\bgrid.remove_unit(atk_u)\u001b[9;13H    \u001b[33matk_t.hp\u001b[39;49m = 100\u001b[K\u001b[10;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp <= 0:\u001b[K\u001b[11;13H    grid.remove_unit(def_u)\u001b[K\u001b[12;13H    \u001b[33mdef_t.hp\u001b[39;49m = 100\u001b[K\u001b[14;13H\u001b[33mateam\u001b[39;49m = 0\u001b[K\u001b[15;13H\u001b[33mdteam\u001b[39;49m = 0\u001b[K\u001b[16;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m grid.units:\u001b[K\u001b[17;20Hu.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m atk_u.team: \u001b[33mateam\u001b[39;49m += 1\u001b[K\u001b[18;20Hu.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m def_u.team: \u001b[33mdteam\u001b[39;49m += 1\u001b[19;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (score,team) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m ((ateam,atk_u.team),(dteam,def_u.team)):\u001b[20;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m score == 0:\u001b[K\u001b[21;13H        team.active = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[22;21H\u001b[31m#print messagfe                                             \u001b[39;49m\r\n\u001b[23;29H\u001b[7m81% L316\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l        team.active = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[3;21H\u001b[31m#print messagfe                                             \u001b[39;49m\r\n\u001b[K\u001b[5;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\r\n\u001b[K\n\u001b[K\n\u001b[31m# UNLOAD follows UNIT ACT when carrying units. A unit can unload                \u001b[39;49m\r\n\u001b[31m# when it's carrying - even if it isn't supposed to load in the                 \u001b[39;49m\r\n\u001b[31m# first place.                                                                  \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mUnload\u001b[39;49m(Action):\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, grid, already=\u001b[35mNone\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = x,y\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_MENU\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.already = []\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m already:\u001b[K\u001b[20;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.already += already\r\n\u001b[K\n\t\u001b[33mu\u001b[39;49m = grid.unit_at(x,y)\u001b[K\n\u001b[7m6% L335\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp <= 0:\u001b[K\r\n\t\tgrid.remove_unit(def_u)\u001b[K\r\n\t\t\u001b[33mdef_t.hp\u001b[39;49m = 100\r\n\u001b[K\n\t    \u001b[33mateam\u001b[39;49m = 0\u001b[7;13H\u001b[33mdteam\u001b[39;49m = 0\u001b[K\u001b[8;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m grid.units:\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m atk_u.team: \u001b[33mateam\u001b[39;49m += 1\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m def_u.team: \u001b[33mdteam\u001b[39;49m += 1\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (score,team) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m ((ateam,atk_u.team),(dteam,def_u.team)):\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m score == 0:\u001b[K\r\n                    team.active = \u001b[35mFalse\u001b[39;49m\u001b[14;5H                \u001b[31m#print messagfe                                             \u001b[39;49m\r\n\u001b[K\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\r\n\u001b[K\n\u001b[K\n\u001b[31m# UNLOAD follows UNIT ACT when carrying units. A unit can unload                \u001b[39;49m\r\n\u001b[31m# when it's carrying - even if it isn't supposed to load in the                 \u001b[39;49m\r\n\u001b[23;30H\u001b[7m3% L334\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[16;1H\u001b[1L\u001b[1;24r\u001b[14;1H\u001b[K\u001b[15;21H\u001b[?25l\u001b[31m#print messagfe                                             \u001b[39;49m\r\n\u001b[K\u001b[23;36H\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lMark set\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[16;1H\u001b[3L\u001b[1;24r\u001b[14;21H\u001b[?25l\u001b[33mmsg\u001b[39;49m = \u001b[32m\"%s has been defeated!\"\u001b[39;49m%(t.team.name)\u001b[15;21Hgrid.alerts.append(widgets.Notification(0,0,msg,200,\u001b[K\r\n                                                            t.team.color))\u001b[K\r\n\u001b[K\n                    \u001b[31m#print messagfe                                             \u001b[39;49m\r\n\u001b[A\u001b[23;30H\u001b[7m2% L339\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[15;73H\b\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;64H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\b\b\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[19;1H\u001b[1M\u001b[1;24r\u001b[17;21H\u001b[?25l\u001b[31m#print messagfe                                             \u001b[39;49m\r\n\u001b[K\n\n\n\n\u001b[K\u001b[17d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[1;22r\u001b[19;1H\u001b[1M\u001b[1;24r\u001b[18;13H\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\r\n\n\n\n\u001b[K\u001b[17d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m29\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m30\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m29\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33mdef_u.ammo\u001b[39;49m -= 1\r\n\u001b[K\u001b[4;13H\u001b[31m# draw hp countdown from start_ahp to atk_u.hp                      \u001b[39;49m\r\n\u001b[5;13H\u001b[31m# draw hp countdown from start_dhp to def_u.hp                      \u001b[39;49m\r\n\u001b[K\u001b[7;13H\u001b[31m# Remove dead units (and all carriees) from grid.                   \u001b[39;49m\r\n\u001b[8;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m atk_u.hp > 0:\u001b[K\r\n\t\tatk_u.done()\u001b[K\u001b[10;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b\b    grid.remove_unit(atk_u)\u001b[K\r\n\t\t\u001b[33matk_t.hp\u001b[39;49m = 100\u001b[13;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp <= 0:\u001b[K\r\n\t\tgrid.remove_unit(def_u)\u001b[K\r\n\t\t\u001b[33mdef_t.hp\u001b[39;49m = 100\u001b[K\r\n\u001b[K\u001b[17;13H\u001b[33mateam\u001b[39;49m = 0\u001b[18;13H\u001b[33mdteam\u001b[39;49m = 0\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m grid.units:\u001b[20;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m atk_u.team: \u001b[33mateam\u001b[39;49m += 1\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m def_u.team: \u001b[33mdteam\u001b[39;49m += 1\u001b[22;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (score,team) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m ((ateam,atk_u.team),(dteam,def_u.team)):\u001b[23;29H\u001b[7m79% L323\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m19\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[33mstart_ahp\u001b[39;49m, \u001b[33mstart_dhp\u001b[39;49m = atk_u.hp, def_u.hp\u001b[4;15H\u001b[31mCalculate damage.                           \u001b[39;49m\u001b[5;13H\u001b[33ma_dmg\u001b[39;49m,\u001b[33mprim\u001b[39;49m = atk_u.simulate(def_u, def_t.cover)\u001b[K\u001b[6;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m a_dmg: \u001b[33mdef_u.hp\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(0,def_u.hp-a_dmg)\u001b[7;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33matk_u.ammo\u001b[39;49m -= 1\u001b[K\r\n\u001b[K\u001b[9;13H\u001b[31m# Only counter if hp > 0 and not indirect.                          \u001b[39;49m\r\n\u001b[10;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m def_u.is_indirect \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m def_u.in_range(d):\r\n\t\t\u001b[33md_dmg\u001b[39;49m,\u001b[33mprim\u001b[39;49m = def_u.simulate(atk_u, atk_t.cover)\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m d_dmg: \u001b[33matk_u.hp\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(0,atk_u.hp-d_dmg)\u001b[13;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33mdef_u.ammo\u001b[39;49m -= 1\r\n\u001b[K\u001b[15;13H\u001b[31m# draw hp countdown from start_ahp to atk_u.hp                      \u001b[39;49m\r\n\u001b[16;13H\u001b[31m# draw hp countdown from start_dhp to def_u.hp                      \u001b[39;49m\r\n\u001b[K\u001b[18;13H\u001b[31m# Remove dead units (and all carriees) from grid.                   \u001b[39;49m\r\n\u001b[19;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m atk_u.hp > 0:\u001b[K\r\n\t\tatk_u.done()\u001b[K\u001b[21;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b\b    grid.remove_unit(atk_u)\u001b[K\u001b[23;30H\u001b[7m6% L312\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[15;59H\u001b[1;22r\u001b[16;1H\u001b[1L\u001b[1;24r\u001b[16;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   76% L316\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[16;13H\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l    atk_u.done()\u001b[K\u001b[3;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\n\b\b\b\b\b    grid.remove_unit(atk_u)\u001b[K\u001b[5;13H    \u001b[33matk_t.hp\u001b[39;49m = 100\u001b[K\r\n\t\t\bdef_u.hp <= 0:\u001b[K\u001b[7;13H    grid.remove_unit(def_u)\r\n\t\t\u001b[33mdef_t.hp\u001b[39;49m = 100\r\n\u001b[K\u001b[10;13H\u001b[33mateam\u001b[39;49m = 0\u001b[K\u001b[11;13H\u001b[33mdteam\u001b[39;49m = 0\u001b[K\u001b[12;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m grid.units:\u001b[K\u001b[13;20Hu.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m atk_u.team: \u001b[33mateam\u001b[39;49m += 1\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m def_u.team: \u001b[33mdteam\u001b[39;49m += 1\u001b[15;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (score,team) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m ((ateam,atk_u.team),(dteam,def_u.team)):\u001b[K\u001b[16;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m score == 0:\u001b[17;13H        team.active = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[18;21Hmsg = \u001b[32m\"%s has been defeated!\"\u001b[39;49m%(team.name)\u001b[19;13H        grid.alerts.append(widgets.Notification(0,0,msg,200,\u001b[K\u001b[20;13H                                                team.color))\r\n\u001b[K\u001b[22;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\n\b\u001b[7m81% L321\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[33mstart_ahp\u001b[39;49m, \u001b[33mstart_dhp\u001b[39;49m = atk_u.hp, def_u.hp\r\n\u001b[K\u001b[4;13H\u001b[31m# Calculate damage.                                                 \u001b[39;49m\r\n\u001b[5;13H\u001b[33ma_dmg\u001b[39;49m,\u001b[33mprim\u001b[39;49m = atk_u.simulate(def_u, def_t.cover)\r\n\t\t\ba_dmg: \u001b[33mdef_u.hp\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(0,def_u.hp-a_dmg)\u001b[7;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33matk_u.ammo\u001b[39;49m -= 1\u001b[K\r\n\u001b[K\u001b[9;13H\u001b[31m# Only counter if hp > 0 and not indirect.                          \u001b[39;49m\r\n\u001b[10;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m def_u.is_indirect \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m def_u.in_range(d):\u001b[11;13H    \u001b[33md_dmg\u001b[39;49m,\u001b[33mprim\u001b[39;49m = def_u.simulate(atk_u, atk_t.cover)\u001b[12;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m d_dmg: \u001b[33matk_u.hp\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(0,atk_u.hp-d_dmg)\u001b[13;20Hprim: \u001b[33mdef_u.ammo\u001b[39;49m -= 1\u001b[K\r\n\u001b[K\u001b[15;13H\u001b[31m# draw hp countdown from start_ahp to atk_u.hp                      \u001b[39;49m\r\n\u001b[16;13Hgrid.\u001b[K\n\b\b\b\b\b\u001b[31m# draw hp countdown from start_dhp to def_u.hp                      \u001b[39;49m\r\n\u001b[K\u001b[19;13H\u001b[31m# Remove dead units (and all carriees) from grid.                   \u001b[39;49m\r\n\u001b[20;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m atk_u.hp > 0:\u001b[K\r\n\t\tatk_u.done()\u001b[22;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[23;29H\u001b[7m76\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m19\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[16;18H\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[23;30H\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[15;59H\u001b[1;22r\u001b[17;1H\u001b[1L\u001b[1;24r\u001b[16;1H\u001b[K\n\u001b[?25l            grid.alerts.append()\u001b[K\u001b[23;36H\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[16;13H\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\b\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\u001b[?25l\u001b[33mw\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lC\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default widgets.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[K\u001b[3;5H\u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[4;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[K\u001b[7;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[K\u001b[8;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\r\n\u001b[K\n\u001b[31m# The Counter notification is used to animate increasing/decreasing HP after    \u001b[39;49m\r\n\u001b[31m# combat, capturing, joining, etc.                                              \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mCounter\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, start, end, delay, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay = delay\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer = timer\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = start\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end = end\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col = fg\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,6,3,layer=200)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,6,3,fg=fg,bg=bg),0,0)\r\n\t\u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[23;6H\u001b[7m----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   66% L76 \u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l\u001b[34mSwitch to buffer (default rules.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrules.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[2;13H\u001b[33mstart_ahp\u001b[39;49m, \u001b[33mstart_dhp\u001b[39;49m = atk_u.hp, def_u.hp\r\n\u001b[K\u001b[4;5H        \u001b[31m# Calculate damage.                                                 \u001b[39;49m\r\n\t    \u001b[33ma_dmg\u001b[39;49m,\u001b[33mprim\u001b[39;49m = atk_u.simulate(def_u, def_t.cover)\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m a_dmg: \u001b[33mdef_u.hp\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(0,def_u.hp-a_dmg)\u001b[7;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33matk_u.ammo\u001b[39;49m -= 1\r\n\u001b[K\u001b[9;13H\u001b[31m# Only counter if hp > 0 and not indirect.                          \u001b[39;49m\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m def_u.is_indirect \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m def_u.in_range(d):\u001b[K\r\n                \u001b[33md_dmg\u001b[39;49m,\u001b[33mprim\u001b[39;49m = def_u.simulate(atk_u, atk_t.cover)\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m d_dmg: \u001b[33matk_u.hp\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(0,atk_u.hp-d_dmg)\u001b[13;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33mdef_u.ammo\u001b[39;49m -= 1\u001b[K\r\n\u001b[K\n\t    \u001b[31m# draw hp countdown from start_ahp to atk_u.hp                      \u001b[39;49m\r\n\t    \u001b[33mw\u001b[39;49m = widgets.Count\r\n\t    grid.alerts.append()\r\n\t    \u001b[31m# draw hp countdown from start_dhp to def_u.hp                      \u001b[39;49m\r\n\u001b[K\n\t    \u001b[31m# Remove dead units (and all carriees) from grid.                   \u001b[39;49m\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m atk_u.hp > 0:\u001b[K\r\n\t        atk_u.done()\u001b[K\u001b[23;6H\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   75% L316\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default widgets.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[K\u001b[3;5H\u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[4;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[K\u001b[7;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[K\u001b[8;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\r\n\u001b[K\n\u001b[31m# The Counter notification is used to animate increasing/decreasing HP after    \u001b[39;49m\r\n\u001b[31m# combat, capturing, joining, etc.                                              \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mCounter\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, start, end, delay, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay = delay\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer = timer\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = start\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end = end\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col = fg\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,6,3,layer=200)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,6,3,fg=fg,bg=bg),0,0)\r\n\t\u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[23;6H\u001b[7m----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   66% L76 \u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l\u001b[34mSwitch to buffer (default rules.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrules.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[2;13H\u001b[33mstart_ahp\u001b[39;49m, \u001b[33mstart_dhp\u001b[39;49m = atk_u.hp, def_u.hp\r\n\u001b[K\u001b[4;5H        \u001b[31m# Calculate damage.                                                 \u001b[39;49m\r\n\t    \u001b[33ma_dmg\u001b[39;49m,\u001b[33mprim\u001b[39;49m = atk_u.simulate(def_u, def_t.cover)\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m a_dmg: \u001b[33mdef_u.hp\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(0,def_u.hp-a_dmg)\u001b[7;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33matk_u.ammo\u001b[39;49m -= 1\r\n\u001b[K\u001b[9;13H\u001b[31m# Only counter if hp > 0 and not indirect.                          \u001b[39;49m\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m def_u.is_indirect \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m def_u.in_range(d):\u001b[K\r\n                \u001b[33md_dmg\u001b[39;49m,\u001b[33mprim\u001b[39;49m = def_u.simulate(atk_u, atk_t.cover)\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m d_dmg: \u001b[33matk_u.hp\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(0,atk_u.hp-d_dmg)\u001b[13;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33mdef_u.ammo\u001b[39;49m -= 1\u001b[K\r\n\u001b[K\n\t    \u001b[31m# draw hp countdown from start_ahp to atk_u.hp                      \u001b[39;49m\r\n\t    \u001b[33mw\u001b[39;49m = widgets.Counter(0,0,\r\n\t    grid.alerts.append()\r\n\t    \u001b[31m# draw hp countdown from start_dhp to def_u.hp                      \u001b[39;49m\r\n\u001b[K\n\t    \u001b[31m# Remove dead units (and all carriees) from grid.                   \u001b[39;49m\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m atk_u.hp > 0:\u001b[K\r\n\t        atk_u.done()\u001b[K\u001b[23;6H\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   75% L316\u001b[0m\u001b[39;49m\u001b[27m\u001b[16d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25ldef_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;56H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;22r\u001b[17;1H\u001b[1M\u001b[1;24r\u001b[15;13H\u001b[?25l\u001b[33mw\u001b[39;49m = widgets.Counter(0,0,start_dhp,def_u.hp,\u001b[16;13Hgrid.alerts.append()\u001b[K\u001b[22;1H            \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[23;30H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[19;1H\u001b[1M\u001b[1;24r\u001b[18;13H\u001b[?25l\u001b[31m# Remove dead units (and all carriees) from grid.                   \u001b[39;49m\r\n\n\n\n                grid.remove_unit(atk_u)\u001b[K\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[18;1H\u001b[1L\u001b[1;24r\u001b[15;1H\u001b[K\u001b[16;13H\u001b[?25l\u001b[33mw\u001b[39;49m = widgets.Counter(0,0,start_dhp,def_u.hp,\u001b[17;13Hgrid.alerts.append()\r\n\u001b[K\u001b[23;36H\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\b\b\b\b\u001b[?25l\u001b[31m#                                                                   \u001b[39;49m\r\n\u001b[15;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mD\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mw\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mm\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mg\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mm\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mm\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m.\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[15;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[15;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[15;38H\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default widgets.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[K\u001b[3;5H\u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[4;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[K\u001b[7;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[K\u001b[8;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\r\n\u001b[K\n\u001b[31m# The Counter notification is used to animate increasing/decreasing HP after    \u001b[39;49m\r\n\u001b[31m# combat, capturing, joining, etc.                                              \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mCounter\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, start, end, delay, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay = delay\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer = timer\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = start\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end = end\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col = fg\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,6,3,layer=200)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,6,3,fg=fg,bg=bg),0,0)\r\n\t\u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[23;14H\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   66% L76 \u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l\u001b[34mSwitch to buffer (default rules.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrules.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[2;13H\u001b[33mstart_ahp\u001b[39;49m, \u001b[33mstart_dhp\u001b[39;49m = atk_u.hp, def_u.hp\r\n\u001b[K\u001b[4;5H        \u001b[31m# Calculate damage.                                                 \u001b[39;49m\r\n\t    \u001b[33ma_dmg\u001b[39;49m,\u001b[33mprim\u001b[39;49m = atk_u.simulate(def_u, def_t.cover)\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m a_dmg: \u001b[33mdef_u.hp\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(0,def_u.hp-a_dmg)\u001b[7;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33matk_u.ammo\u001b[39;49m -= 1\r\n\u001b[K\u001b[9;13H\u001b[31m# Only counter if hp > 0 and not indirect.                          \u001b[39;49m\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m def_u.is_indirect \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m def_u.in_range(d):\u001b[K\r\n                \u001b[33md_dmg\u001b[39;49m,\u001b[33mprim\u001b[39;49m = def_u.simulate(atk_u, atk_t.cover)\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m d_dmg: \u001b[33matk_u.hp\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(0,atk_u.hp-d_dmg)\u001b[13;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33mdef_u.ammo\u001b[39;49m -= 1\u001b[K\r\n\u001b[K\n\t    \u001b[31m# Draw damage animations.                                           \u001b[39;49m\r\n\t    \u001b[33mw\u001b[39;49m = widgets.Counter(0,0,start_dhp,def_u.hp,\r\n\t    grid.alerts.append()\r\n\u001b[K\n\t    \u001b[31m# Remove dead units (and all carriees) from grid.                   \u001b[39;49m\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m atk_u.hp > 0:\u001b[K\r\n\t        atk_u.done()\u001b[K\r\n\t    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   76% L315\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default widgets.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[K\u001b[3;5H\u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[4;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[K\u001b[7;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[K\u001b[8;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\r\n\u001b[K\n\u001b[31m# The Counter notification is used to animate increasing/decreasing HP after    \u001b[39;49m\r\n\u001b[31m# combat, capturing, joining, etc.                                              \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mCounter\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, start, end, delay, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay = delay\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer = timer\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = start\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end = end\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col = fg\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,6,3,layer=200)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,6,3,fg=fg,bg=bg),0,0)\r\n\t\u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[23;14H\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   66% L76 \u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l\u001b[34mSwitch to buffer (default rules.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrules.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[2;13H\u001b[33mstart_ahp\u001b[39;49m, \u001b[33mstart_dhp\u001b[39;49m = atk_u.hp, def_u.hp\r\n\u001b[K\u001b[4;5H        \u001b[31m# Calculate damage.                                                 \u001b[39;49m\r\n\t    \u001b[33ma_dmg\u001b[39;49m,\u001b[33mprim\u001b[39;49m = atk_u.simulate(def_u, def_t.cover)\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m a_dmg: \u001b[33mdef_u.hp\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(0,def_u.hp-a_dmg)\u001b[7;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33matk_u.ammo\u001b[39;49m -= 1\r\n\u001b[K\u001b[9;13H\u001b[31m# Only counter if hp > 0 and not indirect.                          \u001b[39;49m\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m def_u.is_indirect \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m def_u.in_range(d):\u001b[K\r\n                \u001b[33md_dmg\u001b[39;49m,\u001b[33mprim\u001b[39;49m = def_u.simulate(atk_u, atk_t.cover)\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m d_dmg: \u001b[33matk_u.hp\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(0,atk_u.hp-d_dmg)\u001b[13;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33mdef_u.ammo\u001b[39;49m -= 1\u001b[K\r\n\u001b[K\n\t    \u001b[31m# Draw damage animations.                                           \u001b[39;49m\r\n\t    \u001b[33mw\u001b[39;49m = widgets.Counter(0,0,start_dhp,def_u.hp,\r\n\t    grid.alerts.append()\r\n\u001b[K\n\t    \u001b[31m# Remove dead units (and all carriees) from grid.                   \u001b[39;49m\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m atk_u.hp > 0:\u001b[K\r\n\t        atk_u.done()\u001b[K\r\n\t    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   76% L315\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\b\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[17;13H\u001b[20@\u001b[17;52H\u001b[?25l0)\u001b[23;6H\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   75\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;53H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[24d\u001b[?25lUndo!\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[17;13H\u001b[20P\t\t\t\b\u001b[?25l)\u001b[K\u001b[23;6H\u001b[7m----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   76\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[17;32H\u001b[24;1H\u001b[?25lUndo!\u001b[17;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[15;29H\u001b[?25l\u001b[31m         \u001b[39;49m\u001b[23;6H\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   76% L315\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mm\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[15;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[15;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[16d\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\b\u001b[?25l0\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;57H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[15d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;58H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;58H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[15d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;58H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;58H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;58H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m09\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;55H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[7d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;55H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[7d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;55H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[17;1H\u001b[1L\u001b[1;24r\u001b[10;1H\u001b[K\u001b[11;13H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m def_u.is_indirect \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m def_u.in_range(d):\r\n\t\t\u001b[33md_dmg\u001b[39;49m,\u001b[33mprim\u001b[39;49m = def_u.simulate(atk_u, atk_t.cover)\u001b[13;20Hd_dmg: \u001b[33matk_u.hp\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(0,atk_u.hp-d_dmg)\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33mdef_u.ammo\u001b[39;49m -= 1\r\n\u001b[K\u001b[16;13H\u001b[31m# Draw damage animations                                            \u001b[39;49m\r\n            \u001b[33mw\u001b[39;49m = widgets.Counter(0,0,start_dhp,def_u.hp,0,\u001b[K\u001b[23;35H\u001b[7m10\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[10;13H\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[10;13H\r\t\b\b\b\b\r\u001b[1;22r\u001b[11;1H\u001b[1M\u001b[1;24r\u001b[10;13H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m def_u.is_indirect \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m def_u.in_range(d):\u001b[22;1H            \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[23;35H\u001b[7m09\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;55H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m10\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;55H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;55H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;55H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[15d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[17;1H\u001b[1L\u001b[1;24r\u001b[16;1H\u001b[K\n\u001b[?25l            \u001b[33mw\u001b[39;49m = widgets.Counter(0,0,start_dhp,def_u.hp,0,\u001b[K\u001b[23;36H\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[16;13H\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l1\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[23;30H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;30H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;16H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[33mt1\u001b[39;49m =\u001b[23;30H\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25lstrt\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25l\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25lst\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l-\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25ldef_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[18;1H\u001b[1L\u001b[1;24r\u001b[17;1H\u001b[K\n\u001b[?25l            \u001b[33mw\u001b[39;49m = widgets.Counter(0,0,start_dhp,def_u.hp,0,\u001b[K\u001b[23;36H\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[17;13H\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l2\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\b\b\b\u001b[?25l\u001b[33mt2\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l-\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23d\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;36H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[18;58H\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l1\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l+\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l2\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l+\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l2\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25l1\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[20;1H\u001b[1L\u001b[1;24r\u001b[18;80H\u001b[?25l\\\r\no\u001b[K\n\b            grid.alerts.append()\u001b[K\u001b[19;2H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\u001b[18;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[19;4H\r\n\n\n\n\n\u001b[?25l\u001b[34mSwitch to buffer (default widgets.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[K\u001b[3;5H\u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[4;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[K\u001b[7;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[K\u001b[8;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\r\n\u001b[K\n\u001b[31m# The Counter notification is used to animate increasing/decreasing HP after    \u001b[39;49m\r\n\u001b[31m# combat, capturing, joining, etc.                                              \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mCounter\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, start, end, delay, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay = delay\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer = timer\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = start\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end = end\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col = fg\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,6,3,layer=200)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,6,3,fg=fg,bg=bg),0,0)\r\n\t\u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\u001b[23;6H\u001b[7m----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   66% L76 \u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l\u001b[34mSwitch to buffer (default rules.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrules.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[2;13H\u001b[33mstart_ahp\u001b[39;49m, \u001b[33mstart_dhp\u001b[39;49m = atk_u.hp, def_u.hp\r\n\u001b[K\u001b[4;5H        \u001b[31m# Calculate damage.                                                 \u001b[39;49m\r\n\t    \u001b[33ma_dmg\u001b[39;49m,\u001b[33mprim\u001b[39;49m = atk_u.simulate(def_u, def_t.cover)\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m a_dmg: \u001b[33mdef_u.hp\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(0,def_u.hp-a_dmg)\u001b[7;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33matk_u.ammo\u001b[39;49m -= 1\r\n\u001b[K\u001b[9;13H\u001b[31m# Only counter if hp > 0 and not indirect.                          \u001b[39;49m\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m def_u.is_indirect \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m def_u.in_range(d):\u001b[K\r\n                \u001b[33md_dmg\u001b[39;49m,\u001b[33mprim\u001b[39;49m = def_u.simulate(atk_u, atk_t.cover)\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m d_dmg: \u001b[33matk_u.hp\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(0,atk_u.hp-d_dmg)\u001b[13;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33mdef_u.ammo\u001b[39;49m -= 1\u001b[K\r\n\u001b[K\n\t    \u001b[31m# Draw damage animations                                            \u001b[39;49m\r\n\t    \u001b[33mt1\u001b[39;49m = start_dhp-def_u.hp\r\n\t    \u001b[33mt2\u001b[39;49m = start_ahp-atk_u.hp\r\n\t    \u001b[33mw\u001b[39;49m = widgets.Counter(0,0,start_dhp,def_u.hp,0,t1+t2+100,atk_u.team.c\\\r\nol)\u001b[K\n\t    grid.alerts.append()\u001b[K\r\n\u001b[K\n\t    \u001b[31m# Remove dead units (and all carriees) from grid.                   \u001b[39;49m\r\n\u001b[23;6H\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   75% L318\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;4H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[A\n\b\b\b\u001b[18;79H\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[24;1H\u001b[?25lAuto-saving...\u001b[18;58H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[18;58H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[18;58H\u001b[K\r\n\u001b[?25lt1+t2+100,atk_u.team.col)\u001b[23;36H\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[32@\t\t\t\t\u001b[23;35H\u001b[?25l\u001b[7m20\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25lw)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l1)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\u001b[C\u001b[?25l\u001b[7m19\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[33m1\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;15H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\u001b[1@\r\t\t\b\u001b[23;35H\u001b[?25l\u001b[7m20\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;16H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[20;35H\n\n\n\u001b[?25l\u001b[7m19\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\n\u001b[C\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;22r\u001b[20;1H\u001b[1M\u001b[1;24r\u001b[18;34H\u001b[?25lt1+t2+100,atk_u.team.col)\u001b[19;13Hgrid.alerts.append(w1)\u001b[K\r\n\n\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m atk_u.hp > 0:\u001b[K\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[1;22r\u001b[20;1H\u001b[1M\u001b[1;24r\u001b[18;13H\u001b[?25lgrid.alerts.append(w1)\r\n\u001b[K\n\n\n                atk_u.done()\u001b[K\n\u001b[C\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[24d\u001b[?25lMark set\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[20;1H\u001b[2L\u001b[1;24r\u001b[18;13H\u001b[?25l\u001b[33mw1\u001b[39;49m = widgets.Counter(0,0,start_dhp,def_u.hp,0,\u001b[19;34Ht1+t2+100,atk_u.team.col)\r\n            grid.alerts.append(w1)\u001b[K\r\n\u001b[K\u001b[23;30H\u001b[7m5% L320\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33mdef_u.ammo\u001b[39;49m -= 1\u001b[K\u001b[4;15H\u001b[31mDraw damage animations\u001b[39;49m\u001b[5;13H\u001b[33mt1\u001b[39;49m = start_dhp-def_u.hp\u001b[K\u001b[6;13H\u001b[33mt2\u001b[39;49m = start_ahp-atk_u.hp\u001b[K\u001b[7;13H\u001b[33mw1\u001b[39;49m = widgets.Counter(0,0,start_dhp,def_u.hp,0,\u001b[8;34Ht1+t2+100,atk_u.team.col)\u001b[9;13Hgrid.alerts.append(w1)            \u001b[33mw1\u001b[39;49m = widgets.Counter(0,0,start_dh\\\r\np,def_u.hp,0,\u001b[K\n\t                 t1+t2+100,atk_u.team.col)\u001b[K\u001b[12;13Hgrid.alerts.append(w1)\u001b[K\r\n\u001b[K\u001b[14;13H\u001b[31m# Remove dead units (and all carriees) from grid.                   \u001b[39;49m\r\n\u001b[15;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m atk_u.hp > 0:\u001b[K\u001b[16;13H    atk_u.done()\u001b[K\u001b[17;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b\b    grid.remove_unit(atk_u)\u001b[K\r\n\t\t\u001b[33matk_t.hp\u001b[39;49m = 100\u001b[K\u001b[20;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp <= 0:\u001b[K\r\n\t\tgrid.remove_unit(def_u)\u001b[22;13H    \u001b[33mdef_t.hp\u001b[39;49m = 100\u001b[K\n\b\u001b[7m8% L322\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[9;35H\u001b[K\r\n\u001b[?25l\u001b[45@            \u001b[33mw1\u001b[39;49m = widgets.Counter(0,0,start_dh\u001b[23;36H\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[33m2\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;15H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;15H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;35H\b\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l2)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[12;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[12;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m19\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m20\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[10;59H\b\b\u001b[?25l,\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt,\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l2,\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;56H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[24;1H\u001b[?25lAuto-saving...\u001b[11;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[11;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[11;38H\b\b\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@1\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23d\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;36H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@a\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[?25l.hp,t2,\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la.hp,t2,\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[10;53H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[10;53H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;53H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[10;53H\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[10;53H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[31m\u001b[40m|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[31m\u001b[40m|Ramen, move out!|\u001b(B\u001b[0;1m\u001b[34m\u001b[40m$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m........\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[3;18H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[C\u001b[14;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b[H\u001b[C\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;14H\u001b[6;14H\u001b(B\u001b[0;7m\u001b[31m\u001b[40m.\u001b[7d\b\b...\u001b[8;12H....^\u001b[9;11H.....^.\u001b[10;10H......^..\u001b[11;9H.......#...\u001b[12;8H#.#..........\u001b[13;7H...........#...\u001b[14;6H.!$.....\u001b[39;49m\u001b[37m\u001b[40mi\u001b[31m\u001b[40m$.......\u001b[15;7H...............\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;14H\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[14d\b\u001b[31m\u001b[40mi\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6d\u001b[32m\u001b[40m.\u001b[7d\b\b...\u001b[8;12H....\u001b[33m\u001b[40m^\u001b[9;11H\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[11;9H.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[12;8H\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b[13;7H.......\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[14;6H.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.......\u001b[15;7H...............\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[12;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[13d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[12d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[11d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6d\u001b(B\u001b[0;7m\u001b[31m\u001b[40m.\u001b[7d\b\b...\u001b[8;12H....^\u001b[9;11H.....^.\u001b[10;10H....\u001b[39;49m\u001b[37m\u001b[40m.\u001b[31m\u001b[40m.^..\u001b[11;9H.......#...\u001b[12;8H#.#..........\u001b[13;7H...........#...\u001b[14;6H.!$.....i$.......\u001b[15;7H...............\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[9;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[10d\b\u001b[31m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[9d\b\u001b[31m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[8d\b\u001b[31m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[7d\b\u001b[31m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7d\b\u001b[32m\u001b[40m...\u001b[8;12H....\u001b[33m\u001b[40m^\u001b[9;11H\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[11;9H.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[12;8H\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b[13;7H...........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[14;6H.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.......\u001b[15;7H...............\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;14H\u001b[H+------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mWait  \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Cancel|\r\u001b[4d+------+\u001b[6;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b[14;14H\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[2;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7;13H\u001b(B\u001b[0;7m\u001b[31m\u001b[40m...\u001b[8;12H....^\u001b[9;11H.....^.\u001b[10;10H......^..\u001b[11;9H.......#...\u001b[12;8H#.#..........\u001b[13;7H...........#...\u001b[14;6H.!$......$.......\u001b[15;7H...............\u001b[2;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[31m\u001b[40m+-------\r\u001b[2d|Day 1 -\r\u001b[3d|Ramen, \r\u001b[4d+-------\u001b[7;13H\u001b[32m\u001b[40m...\u001b[8;12H....\u001b[33m\u001b[40m^\u001b[9;11H\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[11;9H.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[12;8H\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b[13;7H...........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[14;6H.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.......\u001b[15;7H...............\u001b[4;9H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;14H\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[6d\b\u001b(B\u001b[0;1m\u001b[30m\u001b[40mi\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;14H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[32m\u001b[40m..................\r\u001b[2d............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\r\u001b[3d...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###\r\u001b[4d\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.............\u001b[5;15H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m^\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[33m\u001b[40m^\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+---------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Surrender|\r\u001b[4d|End Turn |\r\u001b[5d+---------+\u001b[2d\b\b\r|Close    \r\u001b[3d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mSurrender\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[A|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b[3;2H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mSurrender\u001b[A\b\r|Close    \r\u001b[4d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[32m\u001b[40m...........\r\u001b[2d...........\r\u001b[3d...........\r\u001b[4d....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\r\u001b[5d....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[6d..\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b[5;17H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[34m\u001b[40m+-----------------+\r\u001b[2d|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m    \u001b[34m\u001b[40m|\r\u001b[3d|Ishara, move out!|\r\u001b[4d+-----------------+\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5d\b\b\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m-\u001b[5d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m-\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mt\u001b[4d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\b\u001b[34m\u001b[40mt\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m!\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m!\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m|\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m|\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+--------------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mInfantry $1000\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|APC $3000     |\r\u001b[4d|Cancel        |\r\u001b[5d+--------------+\u001b[2d\b\b\u001b[H\u001b[34m\u001b[40m+---------------\r\u001b[2d|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m  \r\u001b[3d\u001b[34m\u001b[40m|Ishara, move ou\r\u001b[4d+---------------\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;20H\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m+\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4d\b\u001b[34m\u001b[40m+\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+---------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Surrender|\r\u001b[4d|End Turn |\r\u001b[5d+---------+\u001b[2d\b\b\r|Close    \r\u001b[4d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[34m\u001b[40m+----------\r\u001b[2d|Day 1 - In\r\u001b[3d|Ishara, mo\r\u001b[4d+----------\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[31m\u001b[40m+----------------+\r\u001b[2d|Day 2 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\r\u001b[3d|Ramen, move out!|\r\u001b[4d+----------------+\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;20H\b\u001b[5d\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5d\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b[C\u001b[5d\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m^\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[33m\u001b[40m^\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;19H\u001b[5;15H\u001b[32m\u001b[40m.\u001b[6d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;19H\u001b[32m\u001b[40m.\u001b[2d\b.\u001b[3d\b\u001b(B\u001b[0;1m\u001b[34m\u001b[40mi\u001b[4d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;19H\u001b[6;14H\u001b[4;19H\u001b[6;14H\u001b[4;19H\u001b(B\u001b[0;7m\u001b[31m\u001b[40m..\u001b[5;7H.#.......^....\u001b[6;6H........\u001b[39;49m\u001b[37m\u001b[40mi\u001b[31m\u001b[40m.^....#\u001b[7;7H...$.....^..$.\u001b[8;8H........^...\u001b[9;9H.......^..\u001b[10;10H......^.\u001b[11;11H.....#.\u001b[12;12H.....\u001b[13;13H...\u001b[14d\b\b.\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[6d\b\u001b[31m\u001b[40mi\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m-\u001b[5d\b\u001b[31m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[31m\u001b[40m-\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[19G\u001b[32m\u001b[40m..\u001b[5;7H.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b[6;6H........\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[7;7H\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.\u001b[8;8H........\u001b[33m\u001b[40m^\u001b[32m\u001b[40m...\u001b[9;9H.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b[11;11H.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b[12;12H.....\u001b[13;13H...\u001b[14d\b\b.\u001b[4;15H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[C\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m-\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[31m\u001b[40m-\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m-\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[31m\u001b[40m-\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m+\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[31m\u001b[40m+\u001b(B\u001b[0;7m\u001b[31m\u001b[40m..\u001b[5;7H.#.......^....\u001b[6;6H........i.^....#\u001b[7;7H...$.....^..$.\u001b[8;8H........^...\u001b[9;9H.......^..\u001b[10;10H......^.\u001b[11;11H.....#.\u001b[12;12H.....\u001b[13;13H...\u001b[14d\b\b.\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m..\u001b[5;7H.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b[6;6H........\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[7;7H\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.\u001b[8;8H........\u001b[33m\u001b[40m^\u001b[32m\u001b[40m...\u001b[9;9H.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b[11;11H.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b[12;12H.....\u001b[13;13H...\u001b[14d\b\b.\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mWait  \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Cancel|\r\u001b[4d+------+\u001b[6;14H\u001b[32m\u001b[40m.\u001b[2;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;19H\u001b(B\u001b[0;7m\u001b[31m\u001b[40m..\u001b[5;7H.#.......^....\u001b[6;6H..........^....#\u001b[7;7H...$.....^..$.\u001b[8;8H........^...\u001b[9;9H.......^..\u001b[10;10H......^.\u001b[11;11H.....#.\u001b[12;12H.....\u001b[13;13H...\u001b[14d\b\b.\u001b[2;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A-+\u001b[32m\u001b[40m..\u001b(B\u001b[0;7m\u001b[31m\u001b[40m.......\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[2;9H.\u001b(B\u001b[0;7m\u001b[31m\u001b[40m...$.....\u001b[3;9H.......\u001b[34m\u001b[40m###\u001b[4;9H\u001b[31m\u001b[40m.........\u001b[39;49m\u001b[37m\u001b[40mi\u001b[2;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r|Wait  \r\u001b[3d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mCancel\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;11H\u001b[32m\u001b[40m.......\u001b[2;10H...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[3;9H.......\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###\u001b[4;9H\u001b(B\u001b[0m\u001b[32m\u001b[40m.........\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m..\u001b[5;7H.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b[6;6H..........\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[7;7H\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.\u001b[8;8H........\u001b[33m\u001b[40m^\u001b[32m\u001b[40m...\u001b[9;9H.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b[11;11H.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b[12;12H.....\u001b[13;13H...\u001b[14d\b\b.\u001b[3;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[32m\u001b[40m........\r\u001b[2d........\r\u001b[3d........\r\u001b[4d....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[4;18H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[6;14H\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b[4;18H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[6;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;11H\u001b(B\u001b[0;7m\u001b[31m\u001b[40m.......\u001b[2;10H...$.....\u001b[3;9H.......\u001b[34m\u001b[40m###\u001b[4;8H\u001b[31m\u001b[40m.............\u001b[5;7H.#.......^....\u001b[6;6H........\u001b[39;49m\u001b[37m\u001b[40mi\u001b[31m\u001b[40m.^....#\u001b[7;7H...$.....^..$.\u001b[8;8H........^...\u001b[9;9H.......^..\u001b[10;10H......^.\u001b[11;11H.....#.\u001b[12;12H.....\u001b[13;13H...\u001b[14d\b\b.\u001b[6;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[6d\b\u001b[31m\u001b[40mi\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[5d\b\u001b[31m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;11H\u001b[32m\u001b[40m.......\u001b[2;10H...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[3;9H.......\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###\u001b[4;8H\u001b(B\u001b[0m\u001b[32m\u001b[40m......\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m......\u001b[5;7H.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b[6;6H........\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[7;7H\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.\u001b[8;8H........\u001b[33m\u001b[40m^\u001b[32m\u001b[40m...\u001b[9;9H.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b[11;11H.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b[12;12H.....\u001b[13;13H...\u001b[14d\b\b.\u001b[4;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;11H\u001b(B\u001b[0;7m\u001b[31m\u001b[40m.......\u001b[2;10H...$.....\u001b[3;9H.......\u001b[34m\u001b[40m###\u001b[4;8H\u001b[31m\u001b[40m.........\u001b[39;49m\u001b[37m\u001b[40m.\u001b[31m\u001b[40m...\u001b[5;7H.#.......^....\u001b[6;6H........i.^....#\u001b[7;7H...$.....^..$.\u001b[8;8H........^...\u001b[9;9H.......^..\u001b[10;10H......^.\u001b[11;11H.....#.\u001b[12;12H.....\u001b[13;13H...\u001b[14d\b\b.\u001b[4;17H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[31m\u001b[40m.\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[31m\u001b[40m.\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mAttack\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Wait  |\r\u001b[4d|Cancel|\u001b[4;19H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\r\u001b[5d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+------+\u001b[6;14H\u001b[32m\u001b[40m.\u001b[2;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;11H\u001b[32m\u001b[40m.......\u001b[2;10H...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[3;9H.......\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###\u001b[4;9H\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[5;9H.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b[6;6H..........\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[7;7H\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.\u001b[8;8H........\u001b[33m\u001b[40m^\u001b[32m\u001b[40m...\u001b[9;9H.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b[11;11H.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b[12;12H.....\u001b[13;13H...\u001b[14d\b\b.\u001b[2;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[32m\u001b[40m........\r\u001b[2d........\r\u001b[3d........\u001b[3;19H\u001b(B\u001b[0;7m\u001b[34m\u001b[40mi\r\u001b[4d\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\r\u001b[5d....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[4;19H\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b[4d\b\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 81, in run\r\n    res = self.game.handle_input(c)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/session.py\", line 113, in handle_input\r\n    result = self.action.perform(self.cursor, self.grid)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/rules.py\", line 319, in perform\r\n    t1+t2+100,atk_u.team.col)\r\nAttributeError: 'Team' object has no attribute 'col'\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33mdef_u.ammo\u001b[39;49m -= 1\u001b[K\r\n\u001b[K\n            \u001b[31m# Draw damage animations                                            \u001b[39;49m\r\n\u001b[A\n            \u001b[33mt1\u001b[39;49m = start_dhp-def_u.hp\u001b[K\r\n            \u001b[33mt2\u001b[39;49m = start_ahp-atk_u.hp\u001b[K\r\n            \u001b[33mw1\u001b[39;49m = widgets.Counter(0,0,start_dhp,def_u.hp,0,\u001b[K\r\n                                 t1+t2+100,atk_u.team.col)\u001b[K\r\n            grid.alerts.append(w1)\u001b[K\r\n            \u001b[33mw2\u001b[39;49m = widgets.Counter(0,0,start_ahp,def_a.hp,t2,\u001b[K\r\n                                 t1+100,atk_u.team.col)\u001b[K\r\n            grid.alerts.append(w2)\u001b[K\r\n\u001b[K\n            \u001b[31m# Remove dead units (and all carriees) from grid.                   \u001b[39;49m\r\n\u001b[A\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m atk_u.hp > 0:\u001b[K\r\n                atk_u.done()\u001b[K\r\n            \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n                grid.remove_unit(atk_u)\u001b[K\r\n                \u001b[33matk_t.hp\u001b[39;49m = 100\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp <= 0:\u001b[K\r\n                grid.remove_unit(def_u)\u001b[K\r\n                \u001b[33mdef_t.hp\u001b[39;49m = 100\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   78% L321  Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[10;53H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;53H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[?25lp)\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;56H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;57H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;57H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25lr)\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lor)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;56H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23d\u001b[?25l\u001b[7m19\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;56H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[C\u001b[?25lo)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m20\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@1\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@1\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[10;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[10;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[31m\u001b[40m|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[31m\u001b[40m|Ramen, move out!|\u001b(B\u001b[0;1m\u001b[34m\u001b[40m$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m........\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[3;18H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[C\u001b[14;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b[H\u001b[C\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;14H\u001b[6;14H\u001b(B\u001b[0;7m\u001b[31m\u001b[40m.\u001b[7d\b\b...\u001b[8;12H....^\u001b[9;11H.....^.\u001b[10;10H......^..\u001b[11;9H.......#...\u001b[12;8H#.#..........\u001b[13;7H...........#...\u001b[14;6H.!$.....\u001b[39;49m\u001b[37m\u001b[40mi\u001b[31m\u001b[40m$.......\u001b[15;7H...............\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[14d\b\u001b[31m\u001b[40mi\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6d\u001b[32m\u001b[40m.\u001b[7d\b\b...\u001b[8;12H....\u001b[33m\u001b[40m^\u001b[9;11H\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[11;9H.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[12;8H\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b[13;7H.......\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[14;6H.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.......\u001b[15;7H...............\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[12;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[13d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[12d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[11d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[10d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[9d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6d\u001b(B\u001b[0;7m\u001b[31m\u001b[40m.\u001b[7d\b\b...\u001b[8;12H..\u001b[39;49m\u001b[37m\u001b[40m.\u001b[31m\u001b[40m.^\u001b[9;11H.....^.\u001b[10;10H......^..\u001b[11;9H.......#...\u001b[12;8H#.#..........\u001b[13;7H...........#...\u001b[14;6H.!$.....i$.......\u001b[15;7H...............\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[8d\b\u001b[31m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[7d\b\u001b[31m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mWait  \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Cancel|\r\u001b[4d+------+\u001b[6;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b[14;14H\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[2;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7;13H\u001b[32m\u001b[40m...\u001b[8;12H....\u001b[33m\u001b[40m^\u001b[9;11H\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[11;9H.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[12;8H\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b[13;7H...........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[14;6H.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.......\u001b[15;7H...............\u001b[2;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7;13H\u001b(B\u001b[0;7m\u001b[31m\u001b[40m...\u001b[8;12H....^\u001b[9;11H.....^.\u001b[10;10H......^..\u001b[11;9H.......#...\u001b[12;8H#.#..........\u001b[13;7H...........#...\u001b[14;6H.!$......$.......\u001b[15;7H...............\u001b[2;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[31m\u001b[40m+-------\r\u001b[2d|Day 1 -\r\u001b[3d|Ramen, \r\u001b[4d+-------\u001b[7;13H\u001b[32m\u001b[40m...\u001b[8;12H....\u001b[33m\u001b[40m^\u001b[9;11H\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[11;9H.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[12;8H\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b[13;7H...........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[14;6H.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.......\u001b[15;7H...............\u001b[4;9H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;14H\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[6d\b\u001b(B\u001b[0;1m\u001b[30m\u001b[40mi\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+---------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Surrender|\r\u001b[4d|End Turn |\r\u001b[5d+---------+\u001b[2d\b\b\r|Close    \r\u001b[4d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[31m\u001b[40m+----------\r\u001b[2d|Day 1 - In\r\u001b[3d|Ramen, mov\r\u001b[4d+----------\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[6d..\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b[4;12H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[34m\u001b[40m+-----------------+\r\u001b[2d|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m    \u001b[34m\u001b[40m|\r\u001b[3d|Ishara, move out!|\r\u001b[4d+-----------------+\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;14H\u001b[4;20H\u001b[5;14H\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m-\u001b[5d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m-\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[19G\b\b\b\b\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mo\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40mo\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[C\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mt\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40mt\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m!\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m!\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+---------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Surrender|\r\u001b[4d|End Turn |\r\u001b[5d+---------+\u001b[2d\b\b\u001b[H\u001b[34m\u001b[40m+----------\r\u001b[2d|Day 1 - In\r\u001b[3d|Ishara, mo\r\u001b[4d+----------\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;19H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m|\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m|\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+--------------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mInfantry $1000\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|APC $3000     |\r\u001b[4d|Cancel        |\r\u001b[5d+--------------+\u001b[2d\b\b\u001b[H\u001b[34m\u001b[40m+---------------\r\u001b[2d|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m  \r\u001b[3d\u001b[34m\u001b[40m|Ishara, move ou\r\u001b[4d+---------------\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;20H\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m+\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4d\b\u001b[34m\u001b[40m+\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+---------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Surrender|\r\u001b[4d|End Turn |\r\u001b[5d+---------+\u001b[2d\b\b\r|Close    \r\u001b[4d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1d-+\u001b[32m\u001b[40m........\u001b[2;12H.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m......\u001b[3;12H....\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###\u001b[30m\u001b[40mi\u001b[4;12H\u001b(B\u001b[0m\u001b[32m\u001b[40m.......\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[4;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[32m\u001b[40m...........\r\u001b[2d...........\r\u001b[3d...........\u001b[19G\u001b(B\u001b[0;1m\u001b[34m\u001b[40mi\r\u001b[4d\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\r\u001b[5d....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[31m\u001b[40m+----------------+\r\u001b[2d|Day 2 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\r\u001b[3d|Ramen, move out!|\r\u001b[4d+----------------+\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;19H\u001b[32m\u001b[40m.\u001b[6;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;19H\u001b(B\u001b[0;7m\u001b[31m\u001b[40m..\u001b[5;7H.#.......^....\u001b[6;6H........\u001b[39;49m\u001b[37m\u001b[40mi\u001b[31m\u001b[40m.^....#\u001b[7;7H...$.....^..$.\u001b[8;8H........^...\u001b[9;9H.......^..\u001b[10;10H......^.\u001b[11;11H.....#.\u001b[12;12H.....\u001b[13;13H...\u001b[14d\b\b.\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[6d\b\u001b[31m\u001b[40mi\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14G\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m-\u001b[5d\b\u001b[31m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[31m\u001b[40m-\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m-\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[31m\u001b[40m-\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[19G\u001b[32m\u001b[40m..\u001b[5;7H.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b[6;6H........\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[7;7H\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.\u001b[8;8H........\u001b[33m\u001b[40m^\u001b[32m\u001b[40m...\u001b[9;9H.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b[11;11H.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b[12;12H.....\u001b[13;13H...\u001b[14d\b\b.\u001b[4;16H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m-\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[31m\u001b[40m-\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m-\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[31m\u001b[40m-\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m+\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[31m\u001b[40m+\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[31m\u001b[40m..\u001b[5;7H.#.......^....\u001b[6;6H........i.^....#\u001b[7;7H...$.....^..$.\u001b[8;8H........^...\u001b[9;9H.......^..\u001b[10;10H......^.\u001b[11;11H.....#.\u001b[12;12H.....\u001b[13;13H...\u001b[14d\b\b.\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[31m\u001b[40m.\u001b[5d\b\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b[32m\u001b[40m..\u001b[5;7H.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[6;6H........\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[7;7H\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.\u001b[8;8H........\u001b[33m\u001b[40m^\u001b[32m\u001b[40m...\u001b[9;9H.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b[11;11H.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b[12;12H.....\u001b[13;13H...\u001b[14d\b\b.\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5d\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[5d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mAttack\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Wait  |\r\u001b[4d|Cancel|\u001b[4;19H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\r\u001b[5d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+------+\u001b[6;14H\u001b[32m\u001b[40m.\u001b[2;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;20H\u001b(B\u001b[0;7m\u001b[31m\u001b[40m.\u001b[5;9H.......^....\u001b[6;6H..........^....#\u001b[7;7H...$.....^..$.\u001b[8;8H........^...\u001b[9;9H.......^..\u001b[10;10H......^.\u001b[11;11H.....#.\u001b[12;12H.....\u001b[13;13H...\u001b[14d\b\b.\u001b[2;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[31m\u001b[40m+-------\r\u001b[2d|Day 2 -\r\u001b[3d|Ramen, \u001b[3;19H\u001b(B\u001b[0;7m\u001b[34m\u001b[40mi\r\u001b[4d\u001b(B\u001b[0m\u001b[31m\u001b[40m+-------\u001b[4;20H\u001b[32m\u001b[40m.\r\u001b[5d....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b[6;6H..........\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[7;7H\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.\u001b[8;8H........\u001b[33m\u001b[40m^\u001b[32m\u001b[40m...\u001b[9;9H.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b[11;11H.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b[12;12H.....\u001b[13;13H...\u001b[14d\b\b.\u001b[4;9H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;19H\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b[4d\b\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4d\u001b[A\u001b[4d\u001b[A\u001b[4d\u001b[A\u001b[H\u001b[32m\u001b[40m..................\r\u001b[2d............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\r\u001b[3d...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###\r\u001b[4d\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.............\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 81, in run\r\n    res = self.game.handle_input(c)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/session.py\", line 113, in handle_input\r\n    result = self.action.perform(self.cursor, self.grid)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/rules.py\", line 319, in perform\r\n    t1+t2+100,atk_u.team.color)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/widgets.py\", line 92, in __init__\r\n    msg = \"%3d%%%\"%self.start\r\nValueError: incomplete format\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33mdef_u.ammo\u001b[39;49m -= 1\u001b[K\r\n\u001b[K\n            \u001b[31m# Draw damage animations                                            \u001b[39;49m\r\n\u001b[A\n            \u001b[33mt1\u001b[39;49m = start_dhp-def_u.hp\u001b[K\r\n            \u001b[33mt2\u001b[39;49m = start_ahp-atk_u.hp\u001b[K\r\n            \u001b[33mw1\u001b[39;49m = widgets.Counter(0,0,start_dhp,def_u.hp,0,\u001b[K\r\n                                 t1+t2+100,atk_u.team.color)\u001b[K\r\n            grid.alerts.append(w1)\u001b[K\r\n            \u001b[33mw2\u001b[39;49m = widgets.Counter(10,10,start_ahp,def_a.hp,t2,\u001b[K\r\n                                 t1+100,atk_u.team.color)\u001b[K\r\n            grid.alerts.append(w2)\u001b[K\r\n\u001b[K\n            \u001b[31m# Remove dead units (and all carriees) from grid.                   \u001b[39;49m\r\n\u001b[A\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m atk_u.hp > 0:\u001b[K\r\n                atk_u.done()\u001b[K\r\n            \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n                grid.remove_unit(atk_u)\u001b[K\r\n                \u001b[33matk_t.hp\u001b[39;49m = 100\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp <= 0:\u001b[K\r\n                grid.remove_unit(def_u)\u001b[K\r\n                \u001b[33mdef_t.hp\u001b[39;49m = 100\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   78% L321  Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[10;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default widgets.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[K\u001b[3;5H\u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[4;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[K\u001b[7;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[K\u001b[8;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[31m# The Counter notification is used to animate increasing/decreasing HP after    \u001b[39;49m\r\n\u001b[31m# combat, capturing, joining, etc.                                              \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mCounter\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, start, end, delay, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay = delay\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer = timer\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = start\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end = end\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col = fg\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,6,3,layer=200)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,6,3,fg=fg,bg=bg),0,0)\r\n\t\u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[23;14H\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   66% L76 \u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,6,3,fg=fg,bg=bg),0,0)\u001b[3;5H    \u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\u001b[4;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,msg,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col),1,1)\r\n\u001b[K\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay > 0:\u001b[K\u001b[8;18Hdelay -= 1\u001b[K\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\r\n            \u001b[33mmsg\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end:\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start += 1\u001b[13;5H            \u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start -= 1\r\n\t        \u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m msg:\u001b[K\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,msg,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col),1,1)\r\n\u001b[K\u001b[20;14Htimer -= 1\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[K\n\b\b\u001b[7m81% L91\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m100\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[13;29H\u001b[?25l\u001b[1P\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[16;29H\u001b[?25l\u001b[1P\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/widgets.py...\u001b[16;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/widgets.py\u001b[K\u001b[16;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[31m\u001b[40m|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[31m\u001b[40m|Ramen, move out!|\u001b(B\u001b[0;1m\u001b[34m\u001b[40m$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m........\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[3;18H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[C\u001b[14;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b[H\u001b[C\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;14H\u001b[6;14H\u001b(B\u001b[0;7m\u001b[31m\u001b[40m.\u001b[7d\b\b...\u001b[8;12H....^\u001b[9;11H.....^.\u001b[10;10H......^..\u001b[11;9H.......#...\u001b[12;8H#.#..........\u001b[13;7H...........#...\u001b[14;6H.!$.....\u001b[39;49m\u001b[37m\u001b[40mi\u001b[31m\u001b[40m$.......\u001b[15;7H...............\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[14d\b\u001b[31m\u001b[40mi\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6d\u001b[32m\u001b[40m.\u001b[7d\b\b...\u001b[8;12H....\u001b[33m\u001b[40m^\u001b[9;11H\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[11;9H.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[12;8H\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b[13;7H.......\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[14;6H.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.......\u001b[15;7H...............\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[12;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[13d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[12d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[11d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[10d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[9d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6d\u001b(B\u001b[0;7m\u001b[31m\u001b[40m.\u001b[7d\b\b...\u001b[8;12H..\u001b[39;49m\u001b[37m\u001b[40m.\u001b[31m\u001b[40m.^\u001b[9;11H.....^.\u001b[10;10H......^..\u001b[11;9H.......#...\u001b[12;8H#.#..........\u001b[13;7H...........#...\u001b[14;6H.!$.....i$.......\u001b[15;7H...............\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[8d\b\u001b[31m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[7d\b\u001b[31m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mWait  \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Cancel|\r\u001b[4d+------+\u001b[6;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b[7d\b\b\u001b(B\u001b[0m\u001b[32m\u001b[40m...\u001b[8;12H....\u001b[33m\u001b[40m^\u001b[9;11H\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[11;9H.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[12;8H\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b[13;7H...........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[14;6H.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.......\u001b[15;7H...............\u001b[2;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7;13H\u001b(B\u001b[0;7m\u001b[31m\u001b[40m...\u001b[8;12H....^\u001b[9;11H.....^.\u001b[10;10H......^..\u001b[11;9H.......#...\u001b[12;8H#.#..........\u001b[13;7H...........#...\u001b[14;6H.!$......$.......\u001b[15;7H...............\u001b[2;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[31m\u001b[40m+-------\r\u001b[2d|Day 1 -\r\u001b[3d|Ramen, \r\u001b[4d+-------\u001b[7;13H\u001b[32m\u001b[40m...\u001b[8;12H....\u001b[33m\u001b[40m^\u001b[9;11H\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[11;9H.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[12;8H\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b[13;7H...........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[14;6H.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.......\u001b[15;7H...............\u001b[4;9H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[6d\b\u001b(B\u001b[0;1m\u001b[30m\u001b[40mi\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+---------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Surrender|\r\u001b[4d|End Turn |\r\u001b[5d+---------+\u001b[2d\b\b\r|Close    \r\u001b[4d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[31m\u001b[40m+----------\r\u001b[2d|Day 1 - In\r\u001b[3d|Ramen, mov\r\u001b[4d+----------\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[6d..\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b[4;12H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[34m\u001b[40m+-----------------+\r\u001b[2d|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m    \u001b[34m\u001b[40m|\r\u001b[3d|Ishara, move out!|\r\u001b[4d+-----------------+\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;14H\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m-\u001b[5d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m-\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b[4d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\b\u001b[34m\u001b[40m \u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\b\b\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mo\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40mo\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mu\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40mu\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[C\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m!\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m!\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m|\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m|\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4d\u001b[A\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m!\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m|\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m|\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+--------------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mInfantry $1000\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|APC $3000     |\r\u001b[4d|Cancel        |\r\u001b[5d+--------------+\u001b[2d\b\b\u001b[H\u001b[34m\u001b[40m+---------------\r\u001b[2d|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m  \r\u001b[3d\u001b[34m\u001b[40m|Ishara, move ou\r\u001b[4d+---------------\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;20H\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[C\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[34m\u001b[40m!\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m|\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m|\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4d\u001b[A\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m|\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m|\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[C\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[34m\u001b[40m!\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[32m\u001b[40m...................\r\u001b[2d............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m......\r\u001b[3d...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m##\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\u001b(B\u001b[0;1m\u001b[30m\u001b[40mi\r\u001b[4d\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\u001b[A\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\u001b(B\u001b[0;1m\u001b[34m\u001b[40m#\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\u001b(B\u001b[0;1m\u001b[34m\u001b[40m#\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m#\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+---------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Surrender|\r\u001b[4d|End Turn |\r\u001b[5d+---------+\u001b[2d\b\b\r|Close    \r\u001b[4d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[32m\u001b[40m...........\r\u001b[2d...........\r\u001b[3d...........\u001b[19G\u001b(B\u001b[0;1m\u001b[34m\u001b[40mi\r\u001b[4d\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\r\u001b[5d....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[A...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[31m\u001b[40m+----------------+\r\u001b[2d|Day 2 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\r\u001b[3d|Ramen, move out!|\r\u001b[4d+----------------+\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4d\b\b\u001b[5d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5d\b\u001b[32m\u001b[40m.\u001b[6d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;19H\u001b[6;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;19H\u001b(B\u001b[0;7m\u001b[31m\u001b[40m..\u001b[5;7H.#.......^....\u001b[6;6H........\u001b[39;49m\u001b[37m\u001b[40mi\u001b[31m\u001b[40m.^....#\u001b[7;7H...$.....^..$.\u001b[8;8H........^...\u001b[9;9H.......^..\u001b[10;10H......^.\u001b[11;11H.....#.\u001b[12;12H.....\u001b[13;13H...\u001b[14d\b\b.\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[6d\b\u001b[31m\u001b[40mi\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14G\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m-\u001b[5d\b\u001b[31m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[31m\u001b[40m-\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m-\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[31m\u001b[40m-\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[19G\u001b[32m\u001b[40m..\u001b[5;7H.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b[6;6H........\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[7;7H\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.\u001b[8;8H........\u001b[33m\u001b[40m^\u001b[32m\u001b[40m...\u001b[9;9H.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b[11;11H.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b[12;12H.....\u001b[13;13H...\u001b[14d\b\b.\u001b[4;16H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m-\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[31m\u001b[40m-\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m-\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[31m\u001b[40m-\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m+\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[31m\u001b[40m+\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[31m\u001b[40m..\u001b[5;7H.#.......^....\u001b[6;6H........i.^....#\u001b[7;7H...$.....^..$.\u001b[8;8H........^...\u001b[9;9H.......^..\u001b[10;10H......^.\u001b[11;11H.....#.\u001b[12;12H.....\u001b[13;13H...\u001b[14d\b\b.\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[C\u001b[32m\u001b[40m.\u001b[5;7H.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b[6;6H........\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[7;7H\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.\u001b[8;8H........\u001b[33m\u001b[40m^\u001b[32m\u001b[40m...\u001b[9;9H.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b[11;11H.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b[12;12H.....\u001b[13;13H...\u001b[14d\b\b.\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mAttack\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Wait  |\r\u001b[4d|Cancel|\u001b[4;19H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\r\u001b[5d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+------+\u001b[6;14H\u001b[32m\u001b[40m.\u001b[2;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[31m\u001b[40m+-------\r\u001b[2d|Day 2 -\r\u001b[3d|Ramen, \u001b[3;19H\u001b(B\u001b[0;7m\u001b[34m\u001b[40mi\r\u001b[4d\u001b(B\u001b[0m\u001b[31m\u001b[40m+-------\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[A\u001b[3;19H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b[4d\b\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 81, in run\r\n    res = self.game.handle_input(c)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/session.py\", line 113, in handle_input\r\n    result = self.action.perform(self.cursor, self.grid)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/rules.py\", line 319, in perform\r\n    t1+t2+100,atk_u.team.color)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/widgets.py\", line 92, in __init__\r\n    msg = \"%3d%%%\"%self.start\r\nValueError: incomplete format\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,6,3,fg=fg,bg=bg),0,0)\u001b[K\r\n        \u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,msg,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col),1,1)\u001b[K\r\n\u001b[K\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay > 0:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay -= 1\u001b[K\r\n        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n            \u001b[33mmsg\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end:\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start += 1\u001b[K\r\n                \u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end:\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start -= 1\u001b[K\r\n                \u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m msg:\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,msg,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col),1,1)\u001b[K\r\n\u001b[K\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   81% L105  Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[16;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[16;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m99 \u001b[0m\u001b[39;49m\u001b[27m\u001b[10;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[3;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25l\u001b[1P\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[3;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/widgets.py...\u001b[3;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/widgets.py\u001b[K\u001b[3;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[3;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[31m\u001b[40m|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[31m\u001b[40m|Ramen, move out!|\u001b(B\u001b[0;1m\u001b[34m\u001b[40m$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m........\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[3;18H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[C\u001b[14;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b[H\u001b[C\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;14H\u001b[6;14H\u001b(B\u001b[0;7m\u001b[31m\u001b[40m.\u001b[7d\b\b...\u001b[8;12H....^\u001b[9;11H.....^.\u001b[10;10H......^..\u001b[11;9H.......#...\u001b[12;8H#.#..........\u001b[13;7H...........#...\u001b[14;6H.!$.....\u001b[39;49m\u001b[37m\u001b[40mi\u001b[31m\u001b[40m$.......\u001b[15;7H...............\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[14d\b\u001b[31m\u001b[40mi\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[13d\b\u001b[31m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6d\u001b[32m\u001b[40m.\u001b[7d\b\b...\u001b[8;12H....\u001b[33m\u001b[40m^\u001b[9;11H\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[11;9H.....\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[12;8H\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b[13;7H...........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[14;6H.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.......\u001b[15;7H...............\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[11d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[10d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[9d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[8d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[7d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7d\b\u001b(B\u001b[0;7m\u001b[31m\u001b[40m...\u001b[8;12H....^\u001b[9;11H.....^.\u001b[10;10H......^..\u001b[11;9H.......#...\u001b[12;8H#.#..........\u001b[13;7H...........#...\u001b[14;6H.!$.....i$.......\u001b[15;7H...............\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;14H\u001b[H+------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mWait  \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Cancel|\r\u001b[4d+------+\u001b[6;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b[14;14H\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[2;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7;13H\u001b[32m\u001b[40m...\u001b[8;12H....\u001b[33m\u001b[40m^\u001b[9;11H\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[11;9H.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[12;8H\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b[13;7H...........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[14;6H.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.......\u001b[15;7H...............\u001b[2;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[31m\u001b[40m+-------\r\u001b[2d|Day 1 -\r\u001b[3d|Ramen, \r\u001b[4d+-------\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;14H\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[6d\b\u001b(B\u001b[0;1m\u001b[30m\u001b[40mi\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+---------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Surrender|\r\u001b[4d|End Turn |\r\u001b[5d+---------+\u001b[2d\b\b\r|Close    \r\u001b[4d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[31m\u001b[40m+----------\r\u001b[2d|Day 1 - In\r\u001b[3d|Ramen, mov\r\u001b[4d+----------\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[6d..\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b[4;12H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[34m\u001b[40m+-----------------+\r\u001b[2d|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m    \u001b[34m\u001b[40m|\r\u001b[3d|Ishara, move out!|\r\u001b[4d+-----------------+\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;14H\u001b[4;20H\u001b[5;14H\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m-\u001b[5d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m-\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b[4d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\b\u001b[34m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[C\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mu\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40mu\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mt\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40mt\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m!\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m!\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m|\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m|\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[C\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[34m\u001b[40m!\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+---------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Surrender|\r\u001b[4d|End Turn |\r\u001b[5d+---------+\u001b[2d\b\b\u001b[H\u001b[34m\u001b[40m+----------\r\u001b[2d|Day 1 - In\r\u001b[3d|Ishara, mo\r\u001b[4d+----------\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;19H\u001b[C\u001b[H+--------------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mInfantry $1000\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|APC $3000     |\r\u001b[4d|Cancel        |\r\u001b[5d+--------------+\u001b[2d\b\b\u001b[H\u001b[34m\u001b[40m+---------------\r\u001b[2d|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m  \r\u001b[3d\u001b[34m\u001b[40m|Ishara, move ou\r\u001b[4d+---------------\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;20H\u001b[A\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[3d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\b\u001b[34m\u001b[40m|\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+---------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Surrender|\r\u001b[4d|End Turn |\r\u001b[5d+---------+\u001b[2d\b\b\r|Close    \r\u001b[4d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[34m\u001b[40m+----------\r\u001b[2d|Day 1 - In\r\u001b[3d|Ishara, mo\r\u001b[4d+----------\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[31m\u001b[40m+----------------+\r\u001b[2d|Day 2 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\r\u001b[3d|Ramen, move out!|\r\u001b[4d+----------------+\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2;20H\u001b[6;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;14H\u001b[1;19H\u001b[32m\u001b[40m.\u001b[2d\b.\u001b[3d\b\u001b(B\u001b[0;1m\u001b[34m\u001b[40mi\u001b[4d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;14H\u001b[4;19H\u001b(B\u001b[0;7m\u001b[31m\u001b[40m..\u001b[5;7H.#.......^....\u001b[6;6H........\u001b[39;49m\u001b[37m\u001b[40mi\u001b[31m\u001b[40m.^....#\u001b[7;7H...$.....^..$.\u001b[8;8H........^...\u001b[9;9H.......^..\u001b[10;10H......^.\u001b[11;11H.....#.\u001b[12;12H.....\u001b[13;13H...\u001b[14d\b\b.\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[6d\b\u001b[31m\u001b[40mi\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;14H\u001b(B\u001b[0;7m\u001b[31m\u001b[40m.\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[31m\u001b[40m.\u001b[39;49m\u001b[37m\u001b[40m^\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;19H\u001b[32m\u001b[40m..\u001b[5;7H.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m^\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[6;6H........\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[7;7H\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.\u001b[8;8H........\u001b[33m\u001b[40m^\u001b[32m\u001b[40m...\u001b[9;9H.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b[11;11H.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b[12;12H.....\u001b[13;13H...\u001b[14d\b\b.\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;16H\u001b[33m\u001b[40m^\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[31m\u001b[40m..\u001b[5;7H.#.......^..\u001b[39;49m\u001b[37m\u001b[40m.\u001b[31m\u001b[40m.\u001b[6;6H........i.^....#\u001b[7;7H...$.....^..$.\u001b[8;8H........^...\u001b[9;9H.......^..\u001b[10;10H......^.\u001b[11;11H.....#.\u001b[12;12H.....\u001b[13;13H...\u001b[14d\b\b.\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[5d\b\u001b[31m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mAttack\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Wait  |\r\u001b[4d|Cancel|\u001b[4;19H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\r\u001b[5d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+------+\u001b[6;14H\u001b[32m\u001b[40m.\u001b[2;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;20H\u001b[32m\u001b[40m.\u001b[5;9H.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b[6;6H..........\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[7;7H\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.\u001b[8;8H........\u001b[33m\u001b[40m^\u001b[32m\u001b[40m...\u001b[9;9H.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b[11;11H.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b[12;12H.....\u001b[13;13H...\u001b[14d\b\b.\u001b[2;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[31m\u001b[40m+-------\r\u001b[2d|Day 2 -\r\u001b[3d|Ramen, \u001b[3;19H\u001b(B\u001b[0;7m\u001b[34m\u001b[40mi\r\u001b[4d\u001b(B\u001b[0m\u001b[31m\u001b[40m+-------\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[A\u001b[4;19H\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b[4d\b\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4d\u001b[A\u001b[4d\u001b[A\u001b[4d\u001b[A\u001b[4d\u001b[A\u001b[4d\u001b[A\u001b[H\u001b[32m\u001b[40m..................\r\u001b[2d............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\r\u001b[3d...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###\r\u001b[4d\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.............\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 81, in run\r\n    res = self.game.handle_input(c)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/session.py\", line 113, in handle_input\r\n    result = self.action.perform(self.cursor, self.grid)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/rules.py\", line 321, in perform\r\n    w2 = widgets.Counter(10,10,start_ahp,def_a.hp,t2,\r\nNameError: global name 'def_a' is not defined\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,6,3,fg=fg,bg=bg),0,0)\u001b[K\r\n        \u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,msg,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col),1,1)\u001b[K\r\n\u001b[K\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay > 0:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay -= 1\u001b[K\r\n        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n            \u001b[33mmsg\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end:\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start += 1\u001b[K\r\n                \u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end:\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start -= 1\u001b[K\r\n                \u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m msg:\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,msg,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col),1,1)\u001b[K\r\n\u001b[K\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   81% L92   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[3;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default rules.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrules.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33mdef_u.ammo\u001b[39;49m -= 1\u001b[K\r\n\u001b[K\n\t    \u001b[31m# Draw damage animations                                            \u001b[39;49m\r\n\u001b[5;13H\u001b[33mt1\u001b[39;49m = start_dhp-def_u.hp\u001b[6;5H        \u001b[33mt2\u001b[39;49m = start_ahp-atk_u.hp\r\n\t    \u001b[33mw1\u001b[39;49m = widgets.Counter(0,0,start_dhp,def_u.hp,0,\u001b[8;13H                     t1+t2+100,atk_u.team.color)\r\n\t    grid.alerts.append(w1)\u001b[10;13H\u001b[33mw2\u001b[39;49m = widgets.Counter(10,10,start_ahp,def_a.hp,t2,\u001b[11;13H                     t1+100,atk_u.team.color)\u001b[12;13Hgrid.alerts.append(w2)\r\n\u001b[K\u001b[14;13H\u001b[31m# Remove dead units (and all carriees) from grid.                   \u001b[39;49m\r\n\u001b[15;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m atk_u.hp > 0:\u001b[K\r\n\t\tatk_u.done()\u001b[K\u001b[17;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\bgrid.remove_unit(atk_u)\u001b[K\r\n\t\t\u001b[33matk_t.hp\u001b[39;49m = 100\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp <= 0:\r\n\t        grid.remove_unit(def_u)\u001b[22;13H    \u001b[33mdef_t.hp\u001b[39;49m = 100\u001b[23;14H\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   78% L321\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\t\u001b[?25lgrid.remove_unit(def_u)\u001b[K\r\n\t\t\u001b[33mdef_t.hp\u001b[39;49m = 100\r\n\u001b[K\u001b[5;13H\u001b[33mateam\u001b[39;49m = 0\u001b[K\u001b[6;13H\u001b[33mdteam\u001b[39;49m = 0\u001b[K\u001b[7;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m grid.units:\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m atk_u.team: \u001b[33mateam\u001b[39;49m += 1\u001b[K\u001b[9;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m def_u.team: \u001b[33mdteam\u001b[39;49m += 1\u001b[10;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (score,team) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m ((ateam,atk_u.team),(dteam,def_u.team)):\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m score == 0:\u001b[K\u001b[12;13H        team.active = \u001b[35mFalse\u001b[39;49m\u001b[13;21Hmsg = \u001b[32m\"%s has been defeated!\"\u001b[39;49m%(team.name)\u001b[14;13H        grid.alerts.append(widgets.Notification(0,0,msg,200,\u001b[K\u001b[15;13H                                                team.color))\r\n\u001b[K\u001b[17;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# UNLOAD follows UNIT ACT when carrying units. A unit can unload                \u001b[39;49m\r\n\u001b[23;29H\u001b[7m82% L332\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33mdef_u.ammo\u001b[39;49m -= 1\r\n\u001b[K\u001b[4;13H\u001b[31m# Draw damage animations                                            \u001b[39;49m\r\n\u001b[5;13H\u001b[33mt1\u001b[39;49m = start_dhp-def_u.hp\u001b[6;13H\u001b[33mt2\u001b[39;49m = start_ahp-atk_u.hp\u001b[7;13H\u001b[33mw1\u001b[39;49m = widgets.Counter(0,0,start_dhp,def_u.hp,0,\r\n\t\t                 t1+t2+100,atk_u.team.color)\u001b[9;13Hgrid.alerts.append(w1)\u001b[K\u001b[10;13H\u001b[33mw2\u001b[39;49m = widgets.Counter(10,10,start_ahp,def_a.hp,t2,\u001b[K\r\n\t\t                 t1+100,atk_u.team.color)\u001b[12;13Hgrid.alerts.append(w2)\u001b[K\r\n\u001b[K\u001b[14;13H\u001b[31m# Remove dead units (and all carriees) from grid.                   \u001b[39;49m\r\n\u001b[15;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m atk_u.hp > 0:\u001b[K\r\n\t\tatk_u.done()\u001b[17;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t        grid.remove_unit(atk_u)\u001b[19;13H    \u001b[33matk_t.hp\u001b[39;49m = 100\u001b[20;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp <= 0:\r\n\t\tgrid.remove_unit(def_u)\r\n                \u001b[33mdef_t.hp\u001b[39;49m = 100\u001b[K\n\b\b\u001b[7m78\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m29\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m19\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[33mstart_ahp\u001b[39;49m, \u001b[33mstart_dhp\u001b[39;49m = atk_u.hp, def_u.hp\u001b[4;15H\u001b[31mCalculate damage.     \u001b[39;49m\u001b[5;13H\u001b[33ma_dmg\u001b[39;49m,\u001b[33mprim\u001b[39;49m = atk_u.simulate(def_u, def_t.cover)\u001b[6;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m a_dmg: \u001b[33mdef_u.hp\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(0,def_u.hp-a_dmg)\u001b[7;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33matk_u.ammo\u001b[39;49m -= 1\u001b[K\r\n\u001b[K\u001b[9;13H\u001b[31m# Only counter if hp > 0 and not indirect.                          \u001b[39;49m\r\n\u001b[10;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m def_u.is_indirect \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m def_u.in_range(d):\r\n\t\t\u001b[33md_dmg\u001b[39;49m,\u001b[33mprim\u001b[39;49m = def_u.simulate(atk_u, atk_t.cover)\u001b[12;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m d_dmg: \u001b[33matk_u.hp\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(0,atk_u.hp-d_dmg)\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33mdef_u.ammo\u001b[39;49m -= 1\r\n\u001b[K\u001b[15;13H\u001b[31m# Draw damage animations                                            \u001b[39;49m\r\n\u001b[16;13H\u001b[33mt1\u001b[39;49m = start_dhp-def_u.hp\u001b[17;13H\u001b[33mt2\u001b[39;49m = start_ahp-atk_u.hp\u001b[18;13H\u001b[33mw1\u001b[39;49m = widgets.Counter(0,0,start_dhp,def_u.hp,0,\r\n\t\t                 t1+t2+100,atk_u.team.color)\u001b[20;13Hgrid.alerts.append(w1)\u001b[21;13H\u001b[33mw2\u001b[39;49m = widgets.Counter(10,10,start_ahp,def_a.hp,t2,\r\n\t\t                 t1+100,atk_u.team.color)\u001b[23;30H\u001b[7m4% L312\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m09\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m10\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m20\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[21;62H\b\b\b\b\b\b\b\b\u001b[?25l.hp,t2,\u001b[K\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;54H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m.hp,t2,\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25lde.hp,t2,\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l.hp,t2,\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l.hp,t2,\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la.hp,t2,\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt.hp,t2,\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk.hp,t2,\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_.hp,t2,\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu.hp,t2,\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l.hp,t2,\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lhp,t2,\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[21;55H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[21;55H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;55H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\u001b[K\u001b[21;55H\r\n\n\n\u001b[?25l\u001b[34mSwitch to buffer (default widgets.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,6,3,fg=fg,bg=bg),0,0)\r\n\t\u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,msg,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col),1,1)\u001b[K\r\n\u001b[K\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay > 0:\u001b[K\u001b[8;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay -= 1\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[33mmsg\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\u001b[11;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start += 1\u001b[K\r\n\t\t\u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[14;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end:\u001b[15;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start -= 1\u001b[K\u001b[16;13H    \u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[17;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m msg:\u001b[K\u001b[18;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,msg,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col),1,1)\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[K\u001b[22;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[K\u001b[23;14H\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   81% L92 \u001b[0m\u001b[39;49m\u001b[27m\u001b[3;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L110\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,6,3,fg=fg,bg=bg),0,0)\r\n\t\u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,msg,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col),1,1)\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay > 0:\u001b[8;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay -= 1\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\n\b\u001b[33mmsg\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[11;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start += 1\r\n\t\t\u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[14;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start -= 1\r\n\t\t\u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[17;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m msg:\n\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,msg,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col),1,1)\r\n\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[22;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\n\b\b\u001b[7m81%\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\u001b[3;5H\u001b[?25l\u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[4;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[6;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[8;18Halive = \u001b[35mFalse\u001b[39;49m\r\n\u001b[K\n\u001b[31m# The Counter notification is used to animate increasing/decreasing HP after    \u001b[39;49m\r\n\u001b[31m# combat, capturing, joining, etc.                                              \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mCounter\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, start, end, delay, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay = delay\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer = timer\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = start\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end = end\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col = fg\u001b[20;14Hsprite = draw.fill(x,y,6,3,layer=200)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,6,3,fg=fg,bg=bg),0,0)\r\n\t\u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\n\b\b\b\b\u001b[7m66% L92 \u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[3d\u001b[K\n\u001b[?25l\u001b[31m# Notifications are popups that should be tied to sprite objects. Their         \u001b[39;49m\r\n\u001b[31m# sprites are added to the pile of sprites.                                     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mNotification\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m)\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[4P\u001b[8;22H\u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer = timer\r\n        \u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[K\r\n        \u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\u001b[K\r\n        \u001b[33mw\u001b[39;49m = 0\u001b[K\u001b[13;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\r\n\t        \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\r\n\t\u001b[33mw\u001b[39;49m += 2\u001b[K\nprite = draw.fill(x,y,w,h,layer=200)\u001b[18;14Hsprite.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\r\n\t\u001b[4@\t\t\b.blit(draw.string(0,0,l,fg,bg),1,1+i)\r\n\u001b[K\u001b[22;5H\u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[23;29H\u001b[7m49% L73\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m# that option is returned.                                                  \u001b[39;49m\r\n\u001b[3;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\r\n        \u001b[33mi\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: i -= 1\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: i += 1\u001b[7;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i != \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index:\u001b[K\r\n\t    i = i%\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor.move_to(1,i+1)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index = i\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\r\n\t    report = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[14;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[17;5H\u001b[31m# This function just reports what value is being hovered over.              \u001b[39;49m\r\n\u001b[18;5H\u001b[31m# This can be used for tooltips.                                            \u001b[39;49m\r\n\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\u001b[K\r\n\n\u001b[K\u001b[23;29H\u001b[7m34% L54\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[33mw\u001b[39;49m = 0\u001b[K\u001b[3;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m items:\u001b[K\r\n\t    \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(s),w)\r\n\u001b[K\n\t\u001b[31m# Set up the window.                                                    \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(0,0,w+2,h+2)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,w+2,h+2),0,0)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.layer = 200\u001b[K\r\n\t\u001b[33mi\u001b[39;49m = 1\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m items:\u001b[K\u001b[12;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,s),1,i)\u001b[13;13H\u001b[33mi\u001b[39;49m += 1\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = draw.fill(1,1,w,1,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index = 0\u001b[17;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items = items\u001b[K\r\n\u001b[K\u001b[19;5H\u001b[31m# This method takes the return value of gfx.get_input and handles           \u001b[39;49m\r\n\u001b[20;5H\u001b[31m# it. If a menu item is selected via Enter or keyboard shortcut,            \u001b[39;49m\r\n\u001b[21;5H\u001b[31m# that option is returned.                                                  \u001b[39;49m\r\n\u001b[22;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\n\b\b\u001b[7m16% L35\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l\u001b[31m# Widgets are GUI elements that can be interacted with and drawn on the         \u001b[39;49m\r\n\u001b[31m# screen. When a widget is created, its sprite should be added to the           \u001b[39;49m\r\n\u001b[31m# appropriate sprite for rendering.                                             \u001b[39;49m\r\n\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m graphics \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m draw, sprites\u001b[K\r\n\u001b[K\n\u001b[31m# Menus are the prime example of a widget. They capture input - pressing        \u001b[39;49m\r\n\u001b[31m# an arrow key moves the highlighted line of text, and pressing enter           \u001b[39;49m\r\n\u001b[31m# will cause the interaction to return the string of the menu. Keyboard         \u001b[39;49m\r\n\u001b[31m# shortcuts will automatically be assigned based on the first letter of         \u001b[39;49m\r\n\u001b[31m# an option.                                                                    \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mMenu\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, items):\u001b[K\r\n\t\u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(items)\u001b[K\r\n\t\u001b[33mw\u001b[39;49m = 0\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m items:\u001b[K\u001b[18;13H\u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(s),w)\r\n\u001b[K\u001b[20;65H\u001b[4P\u001b[20;5H\u001b[4@\u001b[20;11H\u001b[31mSet up the window.                                        \u001b[39;49m\u001b[21;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(0,0,w+2,h+2)\u001b[K\u001b[22;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,w+2,h+2),0,0)\u001b[23;29H\u001b[7mTop L21\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(0,0,w+2,h+2)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,w+2,h+2),0,0)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.layer = 200\u001b[K\r\n\t\u001b[33mi\u001b[39;49m = 1\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m items:\u001b[K\u001b[7;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,s),1,i)\r\n            \u001b[33mi\u001b[39;49m += 1\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = draw.fill(1,1,w,1,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index = 0\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items = items\u001b[K\r\n\u001b[K\u001b[14;5H\u001b[31m# This method takes the return value of gfx.get_input and handles           \u001b[39;49m\r\n\u001b[15;5H\u001b[31m# it. If a menu item is selected via Enter or keyboard shortcut,            \u001b[39;49m\r\n\u001b[16;5H\u001b[31m# that option is returned.                                                  \u001b[39;49m\r\n\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\r\n\t\u001b[33mi\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: i -= 1\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: i += 1\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i != \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index:\u001b[K\r\n\t    i = i%\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items)\u001b[K\n\b\b\b\b\b\u001b[7m19%\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[A\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i != \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index:\u001b[K\r\n\t    i = i%\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items)\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor.move_to(1,i+1)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index = i\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[7;13Hreport = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\u001b[K\u001b[8;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[12;5H\u001b[31m# This function just reports what value is being hovered over.              \u001b[39;49m\r\n\u001b[13;5H\u001b[31m# This can be used for tooltips.                                            \u001b[39;49m\r\n\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\u001b[15;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# Notifications are popups that should be tied to sprite objects. Their         \u001b[39;49m\r\n\u001b[31m# sprites are added to the pile of sprites.                                     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mNotification\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[23;29H\u001b[7m37% L39\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer = timer\u001b[K\r\n\t\u001b[33mlines\u001b[39;49m = s.splitlines()\r\n\t\u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\r\n\t\u001b[33mw\u001b[39;49m = 0\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[K\u001b[9;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\r\n\t        \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\r\n\t\u001b[33mw\u001b[39;49m += 2\u001b[12;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,w,h,layer=200)\u001b[K\u001b[13;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\u001b[K\u001b[14;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,l,fg,bg),1,1+i)\u001b[17;5H\u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0\u001b[21;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[K\r\n\t\u001b[4@\u001b[22;26H\u001b[35mFalse\u001b[39;49m\n\b\b\u001b[7m53% L58\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[K\r\n\t\u001b[4@\u001b[3;26H\u001b[35mFalse\u001b[39;49m\r\n\u001b[K\n\u001b[31m# The Counter notification is used to animate increasing/decreasing HP after    \u001b[39;49m\r\n\u001b[31m# combat, capturing, joining, etc.                                              \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mCounter\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, start, end, delay, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay = delay\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer = timer\u001b[12;15Htart = start\u001b[K\u001b[13;14Hend = end\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col = fg\u001b[K\r\n\t\u001b[4P\u001b[15;20H = draw.fill(x,y,6,3,layer=200)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,6,3,fg=fg,bg=bg),0,0)\u001b[17;5H    \u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\u001b[18;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,msg,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col),1,1)\r\n\u001b[K\u001b[20;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay > 0:\u001b[K\u001b[22;18Hdelay -= 1\u001b[K\n\u001b[C\u001b[7m69% L77\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[4P\u001b[3;22H\u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer = timer\r\n        \u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[K\r\n        \u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\u001b[K\r\n        \u001b[33mw\u001b[39;49m = 0\u001b[K\u001b[8;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\r\n\t        \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\r\n\t\u001b[33mw\u001b[39;49m += 2\u001b[K\nprite = draw.fill(x,y,w,h,layer=200)\u001b[13;14Hsprite.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\r\n\t\u001b[4@\t\t\b.blit(draw.string(0,0,l,fg,bg),1,1+i)\r\n\u001b[K\u001b[17;5H\u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[20;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[22;18Halive = \u001b[35mFalse\u001b[39;49m\n\b\b\u001b[7m53\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m69\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;51H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25l00)\u001b[K\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l100)\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/widgets.py...\u001b[12;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/widgets.py\u001b[K\u001b[12;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[2;5H\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[K\r\n\t\u001b[4@\u001b[3;26H\u001b[35mFalse\u001b[39;49m\r\n\u001b[K\n\u001b[31m# The Counter notification is used to animate increasing/decreasing HP after    \u001b[39;49m\r\n\u001b[31m# combat, capturing, joining, etc.                                              \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mCounter\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, start, end, delay, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay = delay\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer = timer\u001b[12;15Htart = start\u001b[K\u001b[13;14Hend = end\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col = fg\u001b[K\r\n\t\u001b[4P\u001b[15;20H = draw.fill(x,y,6,3,layer=200)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,6,3,fg=fg,bg=bg),0,0)\u001b[17;5H    \u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\u001b[18;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,msg,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col),1,1)\r\n\u001b[K\u001b[20;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay > 0:\u001b[K\u001b[22;18Hdelay -= 1\u001b[K\n\u001b[C\u001b[7m69% L77\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[4P\u001b[3;22H\u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer = timer\r\n        \u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[K\r\n        \u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\u001b[K\r\n        \u001b[33mw\u001b[39;49m = 0\u001b[K\u001b[8;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\r\n\t        \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\r\n\t\u001b[33mw\u001b[39;49m += 2\u001b[K\nprite = draw.fill(x,y,w,h,layer=100)\u001b[13;14Hsprite.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\r\n\t\u001b[4@\t\t\b.blit(draw.string(0,0,l,fg,bg),1,1+i)\r\n\u001b[K\u001b[17;5H\u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[20;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[22;18Halive = \u001b[35mFalse\u001b[39;49m\n\b\b\u001b[7m53\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\u001b[?25lUndo!\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;47H\u001b[?25l00)\u001b[K\u001b[23;6H\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   53% L68\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[12;47H\u001b[24;1H\u001b[?25lUndo!\u001b[12;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l200)\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[12;47H\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default rules.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrules.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lsession.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ldraw\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lsprites.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l*scratch*\u001b[K\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lGNU Emacs*\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lMessages*\u001b[K\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lGNU Emacs*\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lscratch*\u001b[K\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lsprites.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ldraw.py\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lsession.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[2;5H    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[33mflag\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m flag \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn].active:\r\n\t        \u001b[33mflag\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn += 1\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams):\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = 0\u001b[9;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day += 1\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units:\r\n\t    \u001b[33mu.ready\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t    u.sprite.colorize(u.team.color,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mFalse\u001b[39;49m)\r\n\u001b[K\n\t\u001b[31m# Repair units and draw income.                                         \u001b[39;49m\r\n\t\u001b[33mcur\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.current_team()\u001b[K\r\n\t\u001b[33mmsg\u001b[39;49m = \u001b[32m\"Day %d - %s\\n%s, move out!\"\u001b[39;49m%(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name, cur.name)\u001b[17;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append(widgets.Notification(0,0,msg,200,cur.color))\u001b[K\u001b[18;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cur:\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tile \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.all_tiles():\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur:\u001b[21;13H        \u001b[33mu\u001b[39;49m = tile.unit\u001b[22;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair):\u001b[23;6H\u001b[7m----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mgrid.py     \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   55% L198\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;10H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;10H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m200\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;10H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;10H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;10H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m199\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;10H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;10H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[17;72H\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[?25l\u001b[1P\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;57H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@1\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/grid.py...\u001b[17;58H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/grid.py\u001b[K\u001b[17;58H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;58H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[31m\u001b[40m|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[31m\u001b[40m|Ramen, move out!|\u001b(B\u001b[0;1m\u001b[34m\u001b[40m$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m........\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[3;18H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[C\u001b[14;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b[H\u001b[C\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;14H\u001b[6;14H\u001b(B\u001b[0;7m\u001b[31m\u001b[40m.\u001b[7d\b\b...\u001b[8;12H....^\u001b[9;11H.....^.\u001b[10;10H......^..\u001b[11;9H.......#...\u001b[12;8H#.#..........\u001b[13;7H...........#...\u001b[14;6H.!$.....\u001b[39;49m\u001b[37m\u001b[40mi\u001b[31m\u001b[40m$.......\u001b[15;7H...............\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[14d\b\u001b[31m\u001b[40mi\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[32m\u001b[40m..................\r\u001b[2d............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\r\u001b[3d...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###\r\u001b[4d\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.............\u001b[13;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[13d\b\u001b[31m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6d\u001b[32m\u001b[40m.\u001b[7d\b\b...\u001b[8;12H....\u001b[33m\u001b[40m^\u001b[9;11H\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[11;9H.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[12;8H\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m...\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m......\u001b[13;7H...........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[14;6H.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.......\u001b[15;7H...............\u001b[12;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[12d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[11d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[10d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[9d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[8d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[7d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7d\b\u001b(B\u001b[0;7m\u001b[31m\u001b[40m...\u001b[8;12H....^\u001b[9;11H.....^.\u001b[10;10H......^..\u001b[11;9H.......#...\u001b[12;8H#.#..........\u001b[13;7H...........#...\u001b[14;6H.!$.....i$.......\u001b[15;7H...............\u001b[6;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mWait  \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Cancel|\r\u001b[4d+------+\u001b[6;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b[14;14H\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[2;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7;13H\u001b[32m\u001b[40m...\u001b[8;12H....\u001b[33m\u001b[40m^\u001b[9;11H\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[11;9H.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[12;8H\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b[13;7H...........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[14;6H.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.......\u001b[15;7H...............\u001b[2;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[32m\u001b[40m........\r\u001b[2d........\r\u001b[3d........\r\u001b[4d....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[6;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[6d\b\u001b(B\u001b[0;1m\u001b[30m\u001b[40mi\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+---------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Surrender|\r\u001b[4d|End Turn |\r\u001b[5d+---------+\u001b[2d\b\b\r|Close    \r\u001b[4d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[32m\u001b[40m...........\r\u001b[2d...........\r\u001b[3d...........\r\u001b[4d....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\r\u001b[5d....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[6d..\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[34m\u001b[40m+-----------------+\r\u001b[2d|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m    \u001b[34m\u001b[40m|\r\u001b[3d|Ishara, move out!|\r\u001b[4d+-----------------+\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;14H\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m-\u001b[5d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m-\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b[4d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\b\u001b[34m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mo\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40mo\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mu\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40mu\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[C\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m!\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m!\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m|\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m|\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[C\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[34m\u001b[40m!\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+---------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Surrender|\r\u001b[4d|End Turn |\r\u001b[5d+---------+\u001b[2d\b\b\u001b[H\u001b[34m\u001b[40m+----------\r\u001b[2d|Day 1 - In\r\u001b[3d|Ishara, mo\r\u001b[4d+----------\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;19H\u001b[C\u001b[H\u001b[32m\u001b[40m...................\r\u001b[2d............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m......\r\u001b[3d...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m$\r\u001b[4d\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+--------------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mInfantry $1000\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|APC $3000     |\r\u001b[4d|Cancel        |\r\u001b[5d+--------------+\u001b[2d\b\b\u001b[H\u001b[32m\u001b[40m................\r\u001b[2d............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...\r\u001b[3d...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\r\u001b[4d\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...........\r\u001b[5d....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[3;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;1m\u001b[30m\u001b[40mi\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+---------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Surrender|\r\u001b[4d|End Turn |\r\u001b[5d+---------+\u001b[2d\b\b\r|Close    \r\u001b[4d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[32m\u001b[40m...........\r\u001b[2d...........\r\u001b[3d...........\u001b[19G\u001b(B\u001b[0;1m\u001b[34m\u001b[40mi\r\u001b[4d\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\r\u001b[5d....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[31m\u001b[40m+----------------+\r\u001b[2d|Day 2 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\r\u001b[3d|Ramen, move out!|\r\u001b[4d+----------------+\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;19H\u001b[32m\u001b[40m.\u001b[6;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;19H\u001b(B\u001b[0;7m\u001b[31m\u001b[40m..\u001b[5;7H.#.......^....\u001b[6;6H........\u001b[39;49m\u001b[37m\u001b[40mi\u001b[31m\u001b[40m.^....#\u001b[7;7H...$.....^..$.\u001b[8;8H........^...\u001b[9;9H.......^..\u001b[10;10H......^.\u001b[11;11H.....#.\u001b[12;12H.....\u001b[13;13H...\u001b[14d\b\b.\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[6d\b\u001b[31m\u001b[40mi\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;14H\u001b(B\u001b[0;7m\u001b[31m\u001b[40m.\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[31m\u001b[40m.\u001b[39;49m\u001b[37m\u001b[40m^\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;19H\u001b[32m\u001b[40m..\u001b[5;7H.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m^\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[6;6H........\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[7;7H\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.\u001b[8;8H........\u001b[33m\u001b[40m^\u001b[32m\u001b[40m...\u001b[9;9H.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b[11;11H.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b[12;12H.....\u001b[13;13H...\u001b[14d\b\b.\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;16H\u001b[33m\u001b[40m^\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[31m\u001b[40m..\u001b[5;7H.#.......^..\u001b[39;49m\u001b[37m\u001b[40m.\u001b[31m\u001b[40m.\u001b[6;6H........i.^....#\u001b[7;7H...$.....^..$.\u001b[8;8H........^...\u001b[9;9H.......^..\u001b[10;10H......^.\u001b[11;11H.....#.\u001b[12;12H.....\u001b[13;13H...\u001b[14d\b\b.\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[5d\b\u001b[31m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mAttack\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Wait  |\r\u001b[4d|Cancel|\u001b[4;19H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\r\u001b[5d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+------+\u001b[6;14H\u001b[32m\u001b[40m.\u001b[2;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;20H\u001b[32m\u001b[40m.\u001b[5;9H.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b[6;6H..........\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[7;7H\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.\u001b[8;8H........\u001b[33m\u001b[40m^\u001b[32m\u001b[40m...\u001b[9;9H.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b[11;11H.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b[12;12H.....\u001b[13;13H...\u001b[14d\b\b.\u001b[2;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[31m\u001b[40m+-------\r\u001b[2d|Day 2 -\r\u001b[3d|Ramen, \u001b[3;19H\u001b(B\u001b[0;7m\u001b[34m\u001b[40mi\r\u001b[4d\u001b(B\u001b[0m\u001b[31m\u001b[40m+-------\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[A\u001b[4;19H\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b[4d\b\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[32m\u001b[40m..................\r\u001b[2d............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\r\u001b[3d...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###\r\u001b[4d\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.............\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4d\u001b(B\u001b[0;1m\u001b[30m\u001b[40mi\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[31m\u001b[40m+----+\r\u001b[2d| 99%|\r\u001b[3d+----+\u001b[11;11H+----+\u001b[12;11H|100%|\u001b[13;11H+----+\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2;4H\u001b[31m\u001b[40m8%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m7%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m6%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m5%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m4%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m3%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m2%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m1%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m0%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\b\u001b[31m\u001b[40m89%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m8%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m7%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m6%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m5%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m4%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m3%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m2%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m1\u001b[12;12H 99%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2;4H\u001b[31m\u001b[40m0\u001b[12;14H8%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2;3H\u001b[31m\u001b[40m79\u001b[12;14H7%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2;4H\u001b[31m\u001b[40m8\u001b[12;14H6%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2;4H\u001b[31m\u001b[40m7\u001b[12;14H5%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2;4H\u001b[31m\u001b[40m6\u001b[12;14H4%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2;4H\u001b[31m\u001b[40m5\u001b[12;14H3%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2;4H\u001b[31m\u001b[40m4\u001b[12;14H2%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2;4H\u001b[31m\u001b[40m3\u001b[12;14H1%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2;4H\u001b[31m\u001b[40m2\u001b[12;14H0%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2;4H\u001b[31m\u001b[40m1\u001b[12;13H89%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2;4H\u001b[31m\u001b[40m0\u001b[12;14H8%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2;3H\u001b[31m\u001b[40m69\u001b[12;14H7%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2;4H\u001b[31m\u001b[40m8\u001b[12;14H6%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2;4H\u001b[31m\u001b[40m7\u001b[12;14H5%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2;4H\u001b[31m\u001b[40m6\u001b[12;14H4%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2;4H\u001b[31m\u001b[40m5\u001b[12;14H3%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2;4H\u001b[31m\u001b[40m4\u001b[12;14H2%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2;4H\u001b[31m\u001b[40m3%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m2%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m1\u001b[3;19H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m3\u001b[4d\b\u001b(B\u001b[0;1m\u001b[30m\u001b[40m9\u001b[13;17H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2;4H\u001b[31m\u001b[40m0%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\b\u001b[31m\u001b[40m59%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m8%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m7%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m6%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m5%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m4%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m3%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m2%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m1%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m0%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\b\u001b[31m\u001b[40m49%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m8%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m7%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m6%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m5%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m4%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m3%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m2%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m1\u001b[13;17H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2;4H\u001b[31m\u001b[40m0%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\b\u001b[31m\u001b[40m39%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m8%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m7%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m6%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m5%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m4%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m3%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m2%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m1%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m0%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\b\u001b[31m\u001b[40m29%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m8%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m7%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m6%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m5%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m4%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m3%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;19H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b[4d\b\u001b(B\u001b[0;1m\u001b[30m\u001b[40mi\u001b[13;17H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;19H\u001b[13;17H\u001b[3;19H\u001b(B\u001b[0;1m\u001b[34m\u001b[40mi\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;1m\u001b[34m\u001b[40m3\u001b[4d\b\u001b[30m\u001b[40m9\u001b[5d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[13;17H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;19H\u001b[13;17H\u001b[5;19H\u001b[3d\u001b(B\u001b[0;1m\u001b[34m\u001b[40mi\u001b[4d\b\u001b[30m\u001b[40mi\u001b[13;17H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;19H\u001b[11;11H\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[12;11H\u001b[32m\u001b[40m......\u001b[13;11H......\u001b[5;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;7H\u001b[5;19H\u001b[H\u001b[32m\u001b[40m......\r\u001b[2d......\r\u001b[3d......\u001b[5;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3d\u001b(B\u001b[0;1m\u001b[34m\u001b[40m3\u001b[4d\b\u001b[30m\u001b[40m9\u001b[5d\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3d\u001b(B\u001b[0;1m\u001b[34m\u001b[40mi\u001b[4d\b\u001b[30m\u001b[40mi\u001b[5d\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 95, in run\r\n    gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 88, in refresh\r\n    if gfx: return gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 105, in refresh\r\n    curses.napms(20)\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[31m\u001b[40m|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[31m\u001b[40m|Ramen, move out!|\u001b(B\u001b[0;1m\u001b[34m\u001b[40m$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m........\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[3;18H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[C\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\u001b[24d\b\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 95, in run\r\n    gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 88, in refresh\r\n    if gfx: return gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 105, in refresh\r\n    curses.napms(20)\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n            \u001b[33mflag\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n            \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m flag \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn].active:\u001b[K\r\n                \u001b[33mflag\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn += 1\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams):\u001b[K\r\n                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = 0\u001b[K\r\n                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day += 1\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units:\u001b[K\r\n            \u001b[33mu.ready\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n            u.sprite.colorize(u.team.color,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mFalse\u001b[39;49m)\u001b[K\r\n\u001b[K\n        \u001b[31m# Repair units and draw income.                                         \u001b[39;49m\r\n\u001b[A\n        \u001b[33mcur\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.current_team()\u001b[K\r\n        \u001b[33mmsg\u001b[39;49m = \u001b[32m\"Day %d - %s\\n%s, move out!\"\u001b[39;49m%(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name, cur.name)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append(widgets.Notification(0,0,msg,100,cur.color))\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cur:\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tile \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.all_tiles():\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur:\u001b[K\r\n                    \u001b[33mu\u001b[39;49m = tile.unit\u001b[K\r\n                    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair):\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mgrid.py     \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   55% L198  Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[17;58H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l            \u001b[33mu\u001b[39;49m = tile.unit\u001b[3;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair):\u001b[4;13H            \u001b[33mu.fuel\u001b[39;49m = u.max_fuel\u001b[K\r\n\t\t        \u001b[33mu.ammo\u001b[39;49m = u.max_ammo\r\n\u001b[K\n\t\t    \u001b[31m# Repairing a unit forfeits that tile's income.             \u001b[39;49m\r\n\u001b[8;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.hp < 100\u001b[9;21H      \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair):\r\n\t                \u001b[33mu.hp\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(100,u.hp+tile.repair[u.unit])\u001b[11;13H        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[12;13H            \u001b[33mcur.cash\u001b[39;49m += tile.income\u001b[K\u001b[14;11H\u001b[31mDetermine the winning team (if one exists).\u001b[39;49m\r\n\t\u001b[33mwinner\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m at \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]:\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m ot \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]:\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m at.is_allied(ot):\u001b[19;13H        \u001b[33mwinner\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m winner:\u001b[K\n\b\b\b\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.winners = [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]\r\n\u001b[K\u001b[23;29H\u001b[7m60% L202\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.winners = [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]\r\n\u001b[K\u001b[4;5H\u001b[31m# Moves a unit from the old tile to the new tile. Will                      \u001b[39;49m\r\n\u001b[5;5H\u001b[31m# throw exception if move is illegal. CHECK FIRST.                          \u001b[39;49m\r\n\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mmove_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, unit, x, y):\r\n\t\u001b[33mtile\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.utile(unit)\u001b[K\r\n\t\u001b[33mtile.unit\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[33mtile\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tile_at(x, y)\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.unit:\u001b[K\u001b[11;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Tried to add unit to occupied tile %d,%d\"\u001b[39;49m%(x,y))\r\n\t\u001b[33mtile.unit\u001b[39;49m = unit\u001b[K\r\n\n\t\u001b[33munit.x\u001b[39;49m = x\u001b[K\r\n\t\u001b[33munit.y\u001b[39;49m = y\u001b[K\r\n\tunit.sprite.move_to(x,y)\u001b[K\r\n\u001b[K\u001b[18;5H\u001b[31m# This loads a unit into the other.                                         \u001b[39;49m\r\n\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mload_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, unit, carrier):\r\n\t\u001b[33mtile\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.utile(unit)\r\n\t\u001b[33mtile.unit\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\tcarrier.carrying.append(unit)\u001b[23;30H\u001b[7m7% L221\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l        \u001b[33mu\u001b[39;49m = tile.unit\u001b[K\u001b[3;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair):\u001b[4;5H                    \u001b[33mu.fuel\u001b[39;49m = u.max_fuel\u001b[K\u001b[5;5H                    \u001b[33mu.ammo\u001b[39;49m = u.max_ammo\u001b[K\r\n\u001b[K\n\t            \u001b[31m# Repairing a unit forfeits that tile's income.             \u001b[39;49m\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.hp < 100\r\n\t                  \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair):\r\n\t                \u001b[33mu.hp\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(100,u.hp+tile.repair[u.unit])\u001b[11;13H        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t                \u001b[33mcur.cash\u001b[39;49m += tile.income\r\n\n\t\u001b[31m# Determine the winning team (if one exists).                           \u001b[39;49m\r\n\t\u001b[33mwinner\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m at \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]:\u001b[17;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m ot \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]:\u001b[18;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m at.is_allied(ot):\u001b[K\u001b[19;5H                \u001b[33mwinner\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m winner:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.winners = [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]\r\n\u001b[K\u001b[23;30H\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[33mflag\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[4;13H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m flag \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn].active:\r\n\t\t\u001b[33mflag\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn += 1\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams):\u001b[K\u001b[8;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = 0\u001b[K\u001b[9;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day += 1\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units:\u001b[K\u001b[11;13H\u001b[33mu.ready\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[12;13Hu.sprite.colorize(u.team.color,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mFalse\u001b[39;49m)\u001b[14;11H\u001b[31mRepair units and draw income.              \u001b[39;49m\r\n\t\u001b[33mcur\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.current_team()\r\n\t\u001b[33mmsg\u001b[39;49m = \u001b[32m\"Day %d - %s\\n%s, move out!\"\u001b[39;49m%(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name, cur.name)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append(widgets.Notification(0,0,msg,100,cur.color))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cur:\u001b[K\n\b\b\b\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tile \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.all_tiles():\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur:\u001b[21;13H        \u001b[33mu\u001b[39;49m = tile.unit\u001b[K\u001b[22;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair):\u001b[23;29H\u001b[7m55% L203\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l            \u001b[33mu\u001b[39;49m = tile.unit\u001b[3;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair):\u001b[4;13H            \u001b[33mu.fuel\u001b[39;49m = u.max_fuel\u001b[K\r\n\t\t        \u001b[33mu.ammo\u001b[39;49m = u.max_ammo\r\n\u001b[K\n\t\t    \u001b[31m# Repairing a unit forfeits that tile's income.             \u001b[39;49m\r\n\u001b[8;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.hp < 100\u001b[9;21H      \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair):\r\n\t                \u001b[33mu.hp\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(100,u.hp+tile.repair[u.unit])\u001b[11;13H        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[12;13H            \u001b[33mcur.cash\u001b[39;49m += tile.income\u001b[K\u001b[14;11H\u001b[31mDetermine the winning team (if one exists).\u001b[39;49m\r\n\t\u001b[33mwinner\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m at \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]:\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m ot \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]:\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m at.is_allied(ot):\u001b[19;13H        \u001b[33mwinner\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m winner:\u001b[K\n\b\b\b\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.winners = [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]\r\n\u001b[K\u001b[23;29H\u001b[7m60\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[A\t\u001b[?25l\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[33mflag\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[4;13H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m flag \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn].active:\r\n\t\t\u001b[33mflag\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn += 1\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams):\u001b[K\u001b[8;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = 0\u001b[K\u001b[9;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day += 1\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units:\u001b[K\u001b[11;13H\u001b[33mu.ready\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[12;13Hu.sprite.colorize(u.team.color,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mFalse\u001b[39;49m)\u001b[14;11H\u001b[31mRepair units and draw income.              \u001b[39;49m\r\n\t\u001b[33mcur\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.current_team()\r\n\t\u001b[33mmsg\u001b[39;49m = \u001b[32m\"Day %d - %s\\n%s, move out!\"\u001b[39;49m%(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name, cur.name)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append(widgets.Notification(0,0,msg,100,cur.color))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cur:\u001b[K\n\b\b\b\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tile \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.all_tiles():\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur:\u001b[21;13H        \u001b[33mu\u001b[39;49m = tile.unit\u001b[K\u001b[22;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair):\u001b[23;29H\u001b[7m55\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l            \u001b[33mu\u001b[39;49m = tile.unit\u001b[3;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair):\u001b[4;13H            \u001b[33mu.fuel\u001b[39;49m = u.max_fuel\u001b[K\r\n\t\t        \u001b[33mu.ammo\u001b[39;49m = u.max_ammo\r\n\u001b[K\n\t\t    \u001b[31m# Repairing a unit forfeits that tile's income.             \u001b[39;49m\r\n\u001b[8;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.hp < 100\u001b[9;21H      \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair):\r\n\t                \u001b[33mu.hp\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(100,u.hp+tile.repair[u.unit])\u001b[11;13H        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[12;13H            \u001b[33mcur.cash\u001b[39;49m += tile.income\u001b[K\u001b[14;11H\u001b[31mDetermine the winning team (if one exists).\u001b[39;49m\r\n\t\u001b[33mwinner\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m at \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]:\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m ot \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]:\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m at.is_allied(ot):\u001b[19;13H        \u001b[33mwinner\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m winner:\u001b[K\n\b\b\b\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.winners = [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]\r\n\u001b[K\u001b[23;29H\u001b[7m60\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l\u001b[34mSwitch to buffer (default widgets.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[2;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer = timer\u001b[K\r\n\t\u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[K\r\n\t\u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\r\n\t\u001b[33mw\u001b[39;49m = 0\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[K\u001b[9;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\u001b[K\r\n\t\t\u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\u001b[K\r\n\t\u001b[33mw\u001b[39;49m += 2\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,w,h,layer=200)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,l,fg,bg),1,1+i)\r\n\u001b[K\u001b[17;5H\u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\u001b[20;12H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[21;18Hsprite.kill()\u001b[K\u001b[22;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\u001b[23;6H\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   53% L68 \u001b[0m\u001b[39;49m\u001b[27m\u001b[12;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default grid.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[2;5H                \u001b[33mu\u001b[39;49m = tile.unit\u001b[K\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair):\r\n\t                \u001b[33mu.fuel\u001b[39;49m = u.max_fuel\r\n\t                \u001b[33mu.ammo\u001b[39;49m = u.max_ammo\r\n\u001b[K\n\t            \u001b[31m# Repairing a unit forfeits that tile's income.             \u001b[39;49m\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.hp < 100\u001b[9;13H              \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair):\r\n\t\t        \u001b[33mu.hp\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(100,u.hp+tile.repair[u.unit])\r\n\t            \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\r\n\t                \u001b[33mcur.cash\u001b[39;49m += tile.income\u001b[K\r\n\u001b[K\n\t\u001b[31m# Determine the winning team (if one exists).                           \u001b[39;49m\r\n\t\u001b[33mwinner\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m at \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]:\u001b[17;5H        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m ot \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]:\u001b[K\u001b[18;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m at.is_allied(ot):\r\n\t            \u001b[33mwinner\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[20;12Hwinner:\u001b[K\n\bwinners = [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]\r\n\u001b[K\u001b[23;6H\u001b[7m----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mgrid.py     \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   60% L203\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l\u001b[34mSwitch to buffer (default widgets.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrules.py\u001b[K\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[2;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer = timer\u001b[K\r\n\t\u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[K\r\n\t\u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\r\n\t\u001b[33mw\u001b[39;49m = 0\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[K\u001b[9;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\u001b[K\r\n\t\t\u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\u001b[K\r\n\t\u001b[33mw\u001b[39;49m += 2\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,w,h,layer=200)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,l,fg,bg),1,1+i)\r\n\u001b[K\u001b[17;5H\u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\u001b[20;12H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[21;18Hsprite.kill()\u001b[K\u001b[22;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\u001b[23;6H\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   53% L68 \u001b[0m\u001b[39;49m\u001b[27m\u001b[12;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[K\r\n\t\u001b[4@\u001b[3;26H\u001b[35mFalse\u001b[39;49m\r\n\u001b[K\n\u001b[31m# The Counter notification is used to animate increasing/decreasing HP after    \u001b[39;49m\r\n\u001b[31m# combat, capturing, joining, etc.                                              \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mCounter\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, start, end, delay, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay = delay\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer = timer\u001b[12;15Htart = start\u001b[K\u001b[13;14Hend = end\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col = fg\u001b[K\r\n\t\u001b[4P\u001b[15;20H = draw.fill(x,y,6,3,layer=200)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,6,3,fg=fg,bg=bg),0,0)\u001b[17;5H    \u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\u001b[18;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,msg,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col),1,1)\r\n\u001b[K\u001b[20;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay > 0:\u001b[K\u001b[22;18Hdelay -= 1\u001b[K\n\u001b[C\u001b[7m69% L77\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay > 0:\u001b[K\u001b[3;18Hdelay -= 1\u001b[K\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\r\n            \u001b[33mmsg\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end:\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start += 1\u001b[8;5H            \u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start -= 1\r\n\t        \u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m msg:\u001b[K\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,msg,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col),1,1)\r\n\u001b[K\u001b[15;14Htimer -= 1\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L96\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l\u001b[34mSwitch to buffer (default grid.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrules.py\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\t    \u001b[33mstart_ahp\u001b[39;49m, \u001b[33mstart_dhp\u001b[39;49m = atk_u.hp, def_u.hp\r\n\u001b[K\n\t    \u001b[31m# Calculate damage.                                                 \u001b[39;49m\r\n\u001b[5;13H\u001b[33ma_dmg\u001b[39;49m,\u001b[33mprim\u001b[39;49m = atk_u.simulate(def_u, def_t.cover)\r\n\t\t\ba_dmg: \u001b[33mdef_u.hp\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(0,def_u.hp-a_dmg)\u001b[7;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33matk_u.ammo\u001b[39;49m -= 1\r\n\u001b[K\u001b[9;13H\u001b[31m# Only counter if hp > 0 and not indirect.                          \u001b[39;49m\r\n\u001b[10;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m def_u.is_indirect \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m def_u.in_range(d):\r\n\t\t\u001b[33md_dmg\u001b[39;49m,\u001b[33mprim\u001b[39;49m = def_u.simulate(atk_u, atk_t.cover)\u001b[12;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m d_dmg: \u001b[33matk_u.hp\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(0,atk_u.hp-d_dmg)\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33mdef_u.ammo\u001b[39;49m -= 1\u001b[K\r\n\n\t    \u001b[31m# Draw damage animations                                            \u001b[39;49m\r\n\t    \u001b[33mt1\u001b[39;49m = start_dhp-def_u.hp\u001b[17;13H\u001b[33mt2\u001b[39;49m = start_ahp-atk_u.hp\u001b[18;13H\u001b[33mw1\u001b[39;49m = widgets.Counter(0,0,start_dhp,def_u.hp,0,\u001b[19;34Ht1+t2+100,atk_u.team.color)\u001b[20;13Hgrid.alerts.append(w1)\u001b[21;13H\u001b[33mw2\u001b[39;49m = widgets.Counter(10,10,start_ahp,atk_u.hp,t2,\u001b[22;34Ht1+100,atk_u.team.color)\u001b[23;6H\u001b[7m----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   74% L321\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;55H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[22;55H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[?25l\u001b[1@t\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[22;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@2\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@+\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[22;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[22;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[22;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[K\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[21;62H\b\b\u001b[?25l,\u001b[K\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;60H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l1,\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\u001b[?25lAuto-saving...\u001b[21;61H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[21;61H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\u001b[K\u001b[21;61H\r\n\n\n\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[21;61H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[21;61H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;61H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[31m\u001b[40m|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[31m\u001b[40m|Ramen, move out!|\u001b(B\u001b[0;1m\u001b[34m\u001b[40m$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m........\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[3;18H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[C\u001b[14;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b[H\u001b[C\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;14H\u001b[6;14H\u001b(B\u001b[0;7m\u001b[31m\u001b[40m.\u001b[7d\b\b...\u001b[8;12H....^\u001b[9;11H.....^.\u001b[10;10H......^..\u001b[11;9H.......#...\u001b[12;8H#.#..........\u001b[13;7H...........#...\u001b[14;6H.!$.....\u001b[39;49m\u001b[37m\u001b[40mi\u001b[31m\u001b[40m$.......\u001b[15;7H...............\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[14d\b\u001b[31m\u001b[40mi\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6d\u001b[32m\u001b[40m.\u001b[7d\b\b...\u001b[8;12H....\u001b[33m\u001b[40m^\u001b[9;11H\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[11;9H.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[12;8H\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m...\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m......\u001b[13;7H...........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[14;6H.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.......\u001b[15;7H...............\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[12d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[11d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[10d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[9d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[8d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[7d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7d\b\u001b(B\u001b[0;7m\u001b[31m\u001b[40m...\u001b[8;12H....^\u001b[9;11H.....^.\u001b[10;10H......^..\u001b[11;9H.......#...\u001b[12;8H#.#..........\u001b[13;7H...........#...\u001b[14;6H.!$.....i$.......\u001b[15;7H...............\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mWait  \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Cancel|\r\u001b[4d+------+\u001b[6;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b[14;14H\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[2;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[31m\u001b[40m+-------\r\u001b[2d|Day 1 -\r\u001b[3d|Ramen, \r\u001b[4d+-------\u001b[7;13H\u001b[32m\u001b[40m...\u001b[8;12H....\u001b[33m\u001b[40m^\u001b[9;11H\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[11;9H.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[12;8H\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b[13;7H...........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[14;6H.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.......\u001b[15;7H...............\u001b[4;9H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[6d\b\u001b(B\u001b[0;1m\u001b[30m\u001b[40mi\u001b[4;9H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;14H\u001b[H+---------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Surrender|\r\u001b[4d|End Turn |\r\u001b[5d+---------+\u001b[2d\b\b\r|Close    \r\u001b[4d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[32m\u001b[40m..................\r\u001b[2d............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\r\u001b[3d...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###\r\u001b[4d\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.............\r\u001b[5d....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[6d..\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[34m\u001b[40m+-----------------+\r\u001b[2d|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m    \u001b[34m\u001b[40m|\r\u001b[3d|Ishara, move out!|\r\u001b[4d+-----------------+\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;14H\u001b[4;20H\u001b[5;14H\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m-\u001b[5d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m-\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b[4d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\b\u001b[34m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mo\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40mo\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mu\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40mu\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mt\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40mt\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m!\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m!\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+---------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Surrender|\r\u001b[4d|End Turn |\r\u001b[5d+---------+\u001b[2d\b\b\u001b[H\u001b[34m\u001b[40m+----------\r\u001b[2d|Day 1 - In\r\u001b[3d|Ishara, mo\r\u001b[4d+----------\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[32m\u001b[40m...................\r\u001b[2d............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m......\r\u001b[3d...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m$\r\u001b[4d\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+--------------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mInfantry $1000\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|APC $3000     |\r\u001b[4d|Cancel        |\r\u001b[5d+--------------+\u001b[2d\b\b\u001b[H\u001b[32m\u001b[40m................\r\u001b[2d............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...\r\u001b[3d...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\r\u001b[4d\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...........\r\u001b[5d....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[3;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;1m\u001b[30m\u001b[40mi\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+---------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Surrender|\r\u001b[4d|End Turn |\r\u001b[5d+---------+\u001b[2d\b\b\r|Close    \r\u001b[4d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[32m\u001b[40m...........\r\u001b[2d...........\r\u001b[3d...........\u001b[19G\u001b(B\u001b[0;1m\u001b[34m\u001b[40mi\r\u001b[4d\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\r\u001b[5d....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[31m\u001b[40m+----------------+\r\u001b[2d|Day 2 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\r\u001b[3d|Ramen, move out!|\r\u001b[4d+----------------+\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;19H\u001b[32m\u001b[40m.\u001b[6;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;19H\u001b(B\u001b[0;7m\u001b[31m\u001b[40m..\u001b[5;7H.#.......^....\u001b[6;6H........\u001b[39;49m\u001b[37m\u001b[40mi\u001b[31m\u001b[40m.^....#\u001b[7;7H...$.....^..$.\u001b[8;8H........^...\u001b[9;9H.......^..\u001b[10;10H......^.\u001b[11;11H.....#.\u001b[12;12H.....\u001b[13;13H...\u001b[14d\b\b.\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[6d\b\u001b[31m\u001b[40mi\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;14H\u001b(B\u001b[0;7m\u001b[31m\u001b[40m.\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m-\u001b[5d\b\u001b[31m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[31m\u001b[40m-\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[19G\u001b[32m\u001b[40m..\u001b[5;7H.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b[6;6H........\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[7;7H\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.\u001b[8;8H........\u001b[33m\u001b[40m^\u001b[32m\u001b[40m...\u001b[9;9H.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b[11;11H.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b[12;12H.....\u001b[13;13H...\u001b[14d\b\b.\u001b[4;16H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m-\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[31m\u001b[40m-\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m-\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[31m\u001b[40m-\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m+\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[31m\u001b[40m+\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[31m\u001b[40m..\u001b[5;7H.#.......^....\u001b[6;6H........i.^....#\u001b[7;7H...$.....^..$.\u001b[8;8H........^...\u001b[9;9H.......^..\u001b[10;10H......^.\u001b[11;11H.....#.\u001b[12;12H.....\u001b[13;13H...\u001b[14d\b\b.\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[C\u001b[32m\u001b[40m.\u001b[5;7H.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b[6;6H........\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[7;7H\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.\u001b[8;8H........\u001b[33m\u001b[40m^\u001b[32m\u001b[40m...\u001b[9;9H.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b[11;11H.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b[12;12H.....\u001b[13;13H...\u001b[14d\b\b.\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mAttack\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Wait  |\r\u001b[4d|Cancel|\u001b[4;19H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\r\u001b[5d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+------+\u001b[6;14H\u001b[32m\u001b[40m.\u001b[2;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[31m\u001b[40m+-------\r\u001b[2d|Day 2 -\r\u001b[3d|Ramen, \u001b[3;19H\u001b(B\u001b[0;7m\u001b[34m\u001b[40mi\r\u001b[4d\u001b(B\u001b[0m\u001b[31m\u001b[40m+-------\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[A\u001b[3;19H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b[4d\b\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[32m\u001b[40m..................\r\u001b[2d............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\r\u001b[3d...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###\r\u001b[4d\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.............\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4d\u001b(B\u001b[0;1m\u001b[30m\u001b[40mi\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[31m\u001b[40m+----+\r\u001b[2d| 99%|\r\u001b[3d+----+\u001b[11;11H+----+\u001b[12;11H|100%|\u001b[13;11H+----+\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2;4H\u001b[31m\u001b[40m8%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m7%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m6%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m5%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m4%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m3%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m2%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m1%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m0%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\b\u001b[31m\u001b[40m89%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m8%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m7%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m6%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m5%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m4%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m3%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m2%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m1\u001b[13;17H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2;4H\u001b[31m\u001b[40m0%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\b\u001b[31m\u001b[40m79%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m8%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m7%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m6%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m5%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m4%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m3%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m2%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m1%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m0%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\b\u001b[31m\u001b[40m69%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m8%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m7%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m6%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m5%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m4%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m3%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m2%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m1\u001b[3;19H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m3\u001b[4d\b\u001b(B\u001b[0;1m\u001b[30m\u001b[40m9\u001b[13;17H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2;4H\u001b[31m\u001b[40m0%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\b\u001b[31m\u001b[40m59%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m8%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m7%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m6%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m5%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m4%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m3%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m2%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m1%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m0%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\b\u001b[31m\u001b[40m49%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m8%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m7%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m6%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m5%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m4%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m3%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m2%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m1\u001b[13;17H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2;4H\u001b[31m\u001b[40m0%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\b\u001b[31m\u001b[40m39%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m8%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m7%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m6%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m5%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m4%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m3%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m2%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m1%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m0%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\b\u001b[31m\u001b[40m29%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m8%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m7%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m6%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m5%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m4%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m3%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[12;12H\u001b[31m\u001b[40m 99%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;19H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b[4d\b\u001b(B\u001b[0;1m\u001b[30m\u001b[40mi\u001b[12;14H\u001b(B\u001b[0m\u001b[31m\u001b[40m8%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m7%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m6%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m5%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m4%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m3%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m2%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m1%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m0%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\b\u001b[31m\u001b[40m89%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m8%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m7%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m6%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m5%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m4%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m3%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m2%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;19H\u001b[13;17H\u001b[3;19H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m3\u001b[4d\b\u001b(B\u001b[0;1m\u001b[30m\u001b[40m9\u001b[13;17H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;19H\u001b[13;17H\u001b[3;19H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b[4d\b\u001b(B\u001b[0;1m\u001b[30m\u001b[40mi\u001b[13;17H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;19H\u001b[13;17H\u001b[3;19H\u001b(B\u001b[0;1m\u001b[34m\u001b[40mi\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[32m\u001b[40m......\r\u001b[2d......\r\u001b[3d......\u001b[11;11H.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[12;11H\u001b[32m\u001b[40m......\u001b[13;11H......\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;1m\u001b[34m\u001b[40m3\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m9\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;1m\u001b[30m\u001b[40m9\u001b[5d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3d\u001b(B\u001b[0;1m\u001b[34m\u001b[40mi\u001b[4d\b\u001b[30m\u001b[40mi\u001b[5d\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 82, in run\r\n    self.game.render(0,0)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/session.py\", line 214, in render\r\n    self.canvas.render(0,0)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/sprites.py\", line 123, in render\r\n    for (i,j) in update])\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/sprites.py\", line 123, in render\r\n    for (i,j) in update])\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n            \u001b[33mstart_ahp\u001b[39;49m, \u001b[33mstart_dhp\u001b[39;49m = atk_u.hp, def_u.hp\u001b[K\r\n\u001b[K\n            \u001b[31m# Calculate damage.                                                 \u001b[39;49m\r\n\u001b[A\n            \u001b[33ma_dmg\u001b[39;49m,\u001b[33mprim\u001b[39;49m = atk_u.simulate(def_u, def_t.cover)\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m a_dmg: \u001b[33mdef_u.hp\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(0,def_u.hp-a_dmg)\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33matk_u.ammo\u001b[39;49m -= 1\u001b[K\r\n\u001b[K\n            \u001b[31m# Only counter if hp > 0 and not indirect.                          \u001b[39;49m\r\n\u001b[A\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m def_u.is_indirect \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m def_u.in_range(d):\u001b[K\r\n                \u001b[33md_dmg\u001b[39;49m,\u001b[33mprim\u001b[39;49m = def_u.simulate(atk_u, atk_t.cover)\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m d_dmg: \u001b[33matk_u.hp\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(0,atk_u.hp-d_dmg)\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33mdef_u.ammo\u001b[39;49m -= 1\u001b[K\r\n\u001b[K\n            \u001b[31m# Draw damage animations                                            \u001b[39;49m\r\n\u001b[A\n            \u001b[33mt1\u001b[39;49m = start_dhp-def_u.hp\u001b[K\r\n            \u001b[33mt2\u001b[39;49m = start_ahp-atk_u.hp\u001b[K\r\n            \u001b[33mw1\u001b[39;49m = widgets.Counter(0,0,start_dhp,def_u.hp,0,\u001b[K\r\n                                 t1+t2+100,atk_u.team.color)\u001b[K\r\n            grid.alerts.append(w1)\u001b[K\r\n            \u001b[33mw2\u001b[39;49m = widgets.Counter(10,10,start_ahp,atk_u.hp,t1,\u001b[K\r\n                                 t1+t2+100,atk_u.team.color)\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   74% L321  Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[21;61H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\u001b[?25l\u001b[7m19\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;61H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[?25l\u001b[1P\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;46H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@e\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@f\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[19;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[19;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[K\u001b[19;47H\r\n\n\n\n\n\u001b[?25l(No changes need to be saved)\u001b[19;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m20\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\u001b[C\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[22;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33mdef_u.ammo\u001b[39;49m -= 1\u001b[K\u001b[4;15H\u001b[31mDraw damage animations\u001b[39;49m\u001b[5;13H\u001b[33mt1\u001b[39;49m = start_dhp-def_u.hp\u001b[K\u001b[6;13H\u001b[33mt2\u001b[39;49m = start_ahp-atk_u.hp\u001b[K\u001b[7;13H\u001b[33mw1\u001b[39;49m = widgets.Counter(0,0,start_dhp,def_u.hp,0,\u001b[8;34Ht1+t2+100,def_u.team.color)\u001b[9;13Hgrid.alerts.append(w1)\u001b[K\u001b[10;13H\u001b[33mw2\u001b[39;49m = widgets.Counter(10,10,start_ahp,atk_u.hp,t1,\u001b[K\r\n\t\t                 t1+t2+100,atk_u.team.color)\u001b[K\u001b[12;13Hgrid.alerts.append(w2)\u001b[K\r\n\u001b[K\u001b[14;13H\u001b[31m# Remove dead units (and all carriees) from grid.                   \u001b[39;49m\r\n\u001b[15;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m atk_u.hp > 0:\u001b[K\u001b[16;13H    atk_u.done()\u001b[K\u001b[17;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b\b    grid.remove_unit(atk_u)\u001b[K\r\n\t\t\u001b[33matk_t.hp\u001b[39;49m = 100\u001b[K\u001b[20;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp <= 0:\u001b[K\u001b[21;13H    grid.remove_unit(def_u)\u001b[K\r\n\t\t\u001b[33mdef_t.hp\u001b[39;49m = 100\u001b[K\n\b\u001b[7m8% L323\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[12;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[12;35H\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default widgets.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay > 0:\u001b[K\u001b[3;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay -= 1\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[33mmsg\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\u001b[6;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end:\u001b[7;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start += 1\u001b[K\r\n\t\t\u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\u001b[9;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end:\u001b[10;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start -= 1\u001b[K\r\n\t\t\u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\u001b[12;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m msg:\u001b[K\n\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,msg,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col),1,1)\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[K\u001b[17;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[18;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;6H\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L98 \u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l\u001b[34mSwitch to buffer (default rules.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrules.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33mdef_u.ammo\u001b[39;49m -= 1\r\n\u001b[K\n\t    \u001b[31m# Draw damage animations                                            \u001b[39;49m\r\n\u001b[5;13H\u001b[33mt1\u001b[39;49m = start_dhp-def_u.hp\u001b[6;13H\u001b[33mt2\u001b[39;49m = start_ahp-atk_u.hp\u001b[K\u001b[7;13H\u001b[33mw1\u001b[39;49m = widgets.Counter(0,0,start_dhp,def_u.hp,0,\r\n\t\t                 t1+t2+100,def_u.team.color)\u001b[9;13Hgrid.alerts.append(w1)\u001b[K\u001b[10;13H\u001b[33mw2\u001b[39;49m = widgets.Counter(10,10,start_ahp,atk_u.hp,t1,\r\n\t\t                 t1+t2+100,atk_u.team.color)\u001b[12;13Hgrid.alerts.append(w2)\r\n\u001b[K\u001b[14;13H\u001b[31m# Remove dead units (and all carriees) from grid.                   \u001b[39;49m\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m atk_u.hp > 0:\r\n\t        atk_u.done()\u001b[17;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b\b    grid.remove_unit(atk_u)\r\n\t\t\u001b[33matk_t.hp\u001b[39;49m = 100\u001b[20;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp <= 0:\r\n\t\tgrid.remove_unit(def_u)\r\n\t\t\u001b[33mdef_t.hp\u001b[39;49m = 100\u001b[23;6H\u001b[7m----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   78% L323\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23d\u001b[?25l\u001b[7m19\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@x\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@y\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[8d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m20\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[10d\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m19\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[1@-\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@6\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[7;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[7;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[7;38H\u001b[C\u001b[?25l\u001b[1@-\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@3\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m20\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\u001b[?25l\u001b[1@x\u001b[23;30H\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@+\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@1\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@y\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@+\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@1\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[10;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[10;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[10;41H\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[10;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[10;41H\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[10;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[10;41H\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default widgets.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay > 0:\u001b[K\u001b[3;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay -= 1\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[33mmsg\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\u001b[6;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end:\u001b[7;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start += 1\u001b[K\r\n\t\t\u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\u001b[9;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end:\u001b[10;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start -= 1\u001b[K\r\n\t\t\u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\u001b[12;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m msg:\u001b[K\n\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,msg,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col),1,1)\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[K\u001b[17;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[18;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;6H\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L98 \u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l\u001b[34mSwitch to buffer (default rules.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrules.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33mdef_u.ammo\u001b[39;49m -= 1\r\n\u001b[K\n\t    \u001b[31m# Draw damage animations                                            \u001b[39;49m\r\n\u001b[5;13H\u001b[33mt1\u001b[39;49m = start_dhp-def_u.hp\u001b[6;13H\u001b[33mt2\u001b[39;49m = start_ahp-atk_u.hp\u001b[K\u001b[7;13H\u001b[33mw1\u001b[39;49m = widgets.Counter(x-6,y-3,start_dhp,def_u.hp,0,\r\n\t\t                 t1+t2+100,def_u.team.color)\u001b[9;13Hgrid.alerts.append(w1)\u001b[K\u001b[10;13H\u001b[33mw2\u001b[39;49m = widgets.Counter(x+1,y+1,start_ahp,atk_u.hp,t1,\r\n\t\t                 t1+t2+100,atk_u.team.color)\u001b[12;13Hgrid.alerts.append(w2)\r\n\u001b[K\u001b[14;13H\u001b[31m# Remove dead units (and all carriees) from grid.                   \u001b[39;49m\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m atk_u.hp > 0:\r\n\t        atk_u.done()\u001b[17;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b\b    grid.remove_unit(atk_u)\r\n\t\t\u001b[33matk_t.hp\u001b[39;49m = 100\u001b[20;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp <= 0:\r\n\t\tgrid.remove_unit(def_u)\r\n\t\t\u001b[33mdef_t.hp\u001b[39;49m = 100\u001b[23;6H\u001b[7m----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   77% L321\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[10;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[31m\u001b[40m|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[31m\u001b[40m|Ramen, move out!|\u001b(B\u001b[0;1m\u001b[34m\u001b[40m$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m........\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[3;18H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[C\u001b[14;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b[H\u001b[C\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;14H\u001b[6;14H\u001b(B\u001b[0;7m\u001b[31m\u001b[40m.\u001b[7d\b\b...\u001b[8;12H....^\u001b[9;11H.....^.\u001b[10;10H......^..\u001b[11;9H.......#...\u001b[12;8H#.#..........\u001b[13;7H...........#...\u001b[14;6H.!$.....\u001b[39;49m\u001b[37m\u001b[40mi\u001b[31m\u001b[40m$.......\u001b[15;7H...............\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[14d\b\u001b[31m\u001b[40mi\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[32m\u001b[40m..................\r\u001b[2d............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\r\u001b[3d...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###\r\u001b[4d\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.............\u001b[13;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6d\u001b[32m\u001b[40m.\u001b[7d\b\b...\u001b[8;12H....\u001b[33m\u001b[40m^\u001b[9;11H\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[11;9H.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[12;8H\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m...\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m......\u001b[13;7H...........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[14;6H.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.......\u001b[15;7H...............\u001b[12;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[12d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[11d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[10d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[9d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[8d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[7d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7d\b\u001b(B\u001b[0;7m\u001b[31m\u001b[40m...\u001b[8;12H....^\u001b[9;11H.....^.\u001b[10;10H......^..\u001b[11;9H.......#...\u001b[12;8H#.#..........\u001b[13;7H...........#...\u001b[14;6H.!$.....i$.......\u001b[15;7H...............\u001b[6;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mWait  \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Cancel|\r\u001b[4d+------+\u001b[6;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b[14;14H\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[2;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7;13H\u001b[32m\u001b[40m...\u001b[8;12H....\u001b[33m\u001b[40m^\u001b[9;11H\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[11;9H.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[12;8H\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b[13;7H...........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[14;6H.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.......\u001b[15;7H...............\u001b[2;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[32m\u001b[40m........\r\u001b[2d........\r\u001b[3d........\r\u001b[4d....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[6;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[6d\b\u001b(B\u001b[0;1m\u001b[30m\u001b[40mi\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+---------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Surrender|\r\u001b[4d|End Turn |\r\u001b[5d+---------+\u001b[2d\b\b\r|Close    \r\u001b[4d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[32m\u001b[40m...........\r\u001b[2d...........\r\u001b[3d...........\r\u001b[4d....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\r\u001b[5d....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[6d..\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[34m\u001b[40m+-----------------+\r\u001b[2d|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m    \u001b[34m\u001b[40m|\r\u001b[3d|Ishara, move out!|\r\u001b[4d+-----------------+\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;14H\u001b[4;20H\u001b[14G\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m-\u001b[5d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m-\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b[4d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\b\u001b[34m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mo\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40mo\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mu\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40mu\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mt\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40mt\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m!\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m!\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m|\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m|\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m!\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4d\b\u001b[H\u001b[32m\u001b[40m...................\r\u001b[2d............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m......\r\u001b[3d...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###$\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\r\u001b[4d\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+--------------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mInfantry $1000\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|APC $3000     |\r\u001b[4d|Cancel        |\r\u001b[5d+--------------+\u001b[2d\b\b\u001b[H\u001b[32m\u001b[40m................\r\u001b[2d............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...\r\u001b[3d...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\r\u001b[4d\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...........\r\u001b[5d....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[3;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;1m\u001b[30m\u001b[40mi\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+---------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Surrender|\r\u001b[4d|End Turn |\r\u001b[5d+---------+\u001b[2d\b\b\r|Close    \r\u001b[4d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[32m\u001b[40m...........\r\u001b[2d...........\r\u001b[3d...........\u001b[19G\u001b(B\u001b[0;1m\u001b[34m\u001b[40mi\r\u001b[4d\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\r\u001b[5d....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[31m\u001b[40m+----------------+\r\u001b[2d|Day 2 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\r\u001b[3d|Ramen, move out!|\r\u001b[4d+----------------+\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;19H\u001b[H+---------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Surrender|\r\u001b[4d|End Turn |\r\u001b[5d+---------+\u001b[2d\b\b\r|Close    \r\u001b[4d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[31m\u001b[40m+----------\r\u001b[2d|Day 2 - In\r\u001b[3d|Ramen, mov\r\u001b[4d+----------\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[34m\u001b[40m+-----------------+\r\u001b[2d|Day 2 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m    \u001b[34m\u001b[40m|\r\u001b[3d|Ishara, move out!|\r\u001b[4d+-----------------+\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[4d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\b\u001b[34m\u001b[40m|\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1d\u001b(B\u001b[0;7m\u001b[34m\u001b[40m.....\u001b[2;20H.....\u001b[3;20H.!....\u001b[4;20H.......\u001b[5;13H...^.........\u001b[6;15H.^....#...\u001b[7;15H.^..$....\u001b[8;16H^......\u001b[9;17H.....\u001b[10;18H...\u001b[11d\b\b.\u001b[3;20H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4d\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m-\u001b[C\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[34m\u001b[40m-\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;20H\u001b[32m\u001b[40m.....\u001b[2;20H.....\u001b[3;20H.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[4;20H.......\u001b[5;13H...\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.........\u001b[6;15H.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[7;15H.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m....\u001b[8;16H\u001b[33m\u001b[40m^\u001b[32m\u001b[40m......\u001b[9;17H.....\u001b[10;18H...\u001b[11d\b\b.\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m-\u001b[C\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[34m\u001b[40m-\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m-\u001b[C\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[34m\u001b[40m-\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m-\u001b[C\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[34m\u001b[40m-\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;20H\u001b(B\u001b[0;7m\u001b[34m\u001b[40m.....\u001b[2;20H.....\u001b[3;20H.!....\u001b[4;20H.......\u001b[5;13H...^.........\u001b[6;15H.^....#...\u001b[7;15H.^..$....\u001b[8;16H^......\u001b[9;17H.....\u001b[10;18H...\u001b[11d\b\b.\u001b[4;16H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5d\b\u001b(B\u001b[0;7m\u001b[34m\u001b[40m.\u001b[6d\b\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;20H\u001b[32m\u001b[40m.....\u001b[2;20H.....\u001b[3;20H.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[4;20H.......\u001b[5;13H...\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.........\u001b[6;16H\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[7;15H.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m....\u001b[8;16H\u001b[33m\u001b[40m^\u001b[32m\u001b[40m......\u001b[9;17H.....\u001b[10;18H...\u001b[11d\b\b.\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mAttack\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Wait  |\u001b[3;19H\u001b(B\u001b[0;1m\u001b[34m\u001b[40m$\r\u001b[4d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|Cancel|\r\u001b[5d+------+\u001b[6;15H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b[2;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[34m\u001b[40m+-------\r\u001b[2d|Day 2 -\r\u001b[3d|Ishara,\u001b[3;19H|\r\u001b[4d+-------\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[6;14H\u001b(B\u001b[0;7m\u001b[31m\u001b[40mi\u001b[4;9H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;15H\u001b[H\u001b[32m\u001b[40m...................\r\u001b[2d............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m......\r\u001b[3d...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###$\r\u001b[4d\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\u001b[6;15H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b(B\u001b[0;1m\u001b[34m\u001b[40mi\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 81, in run\r\n    res = self.game.handle_input(c)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/session.py\", line 113, in handle_input\r\n    result = self.action.perform(self.cursor, self.grid)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/rules.py\", line 318, in perform\r\n    w1 = widgets.Counter(x-6,y-3,start_dhp,def_u.hp,0,\r\nNameError: global name 'x' is not defined\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33mdef_u.ammo\u001b[39;49m -= 1\u001b[K\r\n\u001b[K\n            \u001b[31m# Draw damage animations                                            \u001b[39;49m\r\n\u001b[A\n            \u001b[33mt1\u001b[39;49m = start_dhp-def_u.hp\u001b[K\r\n            \u001b[33mt2\u001b[39;49m = start_ahp-atk_u.hp\u001b[K\r\n            \u001b[33mw1\u001b[39;49m = widgets.Counter(x-6,y-3,start_dhp,def_u.hp,0,\u001b[K\r\n                                 t1+t2+100,def_u.team.color)\u001b[K\r\n            grid.alerts.append(w1)\u001b[K\r\n            \u001b[33mw2\u001b[39;49m = widgets.Counter(x+1,y+1,start_ahp,atk_u.hp,t1,\u001b[K\r\n                                 t1+t2+100,atk_u.team.color)\u001b[K\r\n            grid.alerts.append(w2)\u001b[K\r\n\u001b[K\n            \u001b[31m# Remove dead units (and all carriees) from grid.                   \u001b[39;49m\r\n\u001b[A\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m atk_u.hp > 0:\u001b[K\r\n                atk_u.done()\u001b[K\r\n            \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n                grid.remove_unit(atk_u)\u001b[K\r\n                \u001b[33matk_t.hp\u001b[39;49m = 100\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp <= 0:\u001b[K\r\n                grid.remove_unit(def_u)\u001b[K\r\n                \u001b[33mdef_t.hp\u001b[39;49m = 100\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   77% L321  Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[10;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[3;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[5;13H\u001b[33max\u001b[39;49m,\u001b[33may\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\u001b[6;13H\u001b[33mdx\u001b[39;49m,\u001b[33mdy\u001b[39;49m = act\u001b[K\u001b[7;13H\u001b[33matk_t\u001b[39;49m,\u001b[33matk_u\u001b[39;49m = grid.get_at(ax,ay)\u001b[K\u001b[8;13H\u001b[33mdef_t\u001b[39;49m,\u001b[33mdef_u\u001b[39;49m = grid.get_at(dx,dy)\u001b[K\u001b[9;13H\u001b[33md\u001b[39;49m = grid.dist((ax,ay),(dx,dy))\u001b[10;13H\u001b[33mstart_ahp\u001b[39;49m, \u001b[33mstart_dhp\u001b[39;49m = atk_u.hp, def_u.hp\u001b[K\r\n\u001b[K\u001b[12;13H\u001b[31m# Calculate damage.                                                 \u001b[39;49m\r\n\u001b[13;13H\u001b[33ma_dmg\u001b[39;49m,\u001b[33mprim\u001b[39;49m = atk_u.simulate(def_u, def_t.cover)\u001b[14;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m a_dmg: \u001b[33mdef_u.hp\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(0,def_u.hp-a_dmg)\u001b[K\r\n\t\t\bprim: \u001b[33matk_u.ammo\u001b[39;49m -= 1\r\n\u001b[K\u001b[17;13H\u001b[31m# Only counter if hp > 0 and not indirect.                          \u001b[39;49m\r\n\u001b[18;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m def_u.is_indirect \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m def_u.in_range(d):\r\n\t\t\u001b[33md_dmg\u001b[39;49m,\u001b[33mprim\u001b[39;49m = def_u.simulate(atk_u, atk_t.cover)\u001b[20;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m d_dmg: \u001b[33matk_u.hp\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(0,atk_u.hp-d_dmg)\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33mdef_u.ammo\u001b[39;49m -= 1\r\n\u001b[K\u001b[23;30H\u001b[7m2% L314\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33mdef_u.ammo\u001b[39;49m -= 1\u001b[K\r\n\u001b[K\n\t    \u001b[31m# Draw damage animations                                            \u001b[39;49m\r\n\u001b[5;13H\u001b[33mt1\u001b[39;49m = start_dhp-def_u.hp\u001b[6;13H\u001b[33mt2\u001b[39;49m = start_ahp-atk_u.hp\u001b[7;13H\u001b[33mw1\u001b[39;49m = widgets.Counter(x-6,y-3,start_dhp,def_u.hp,0,\u001b[8;13H                     t1+t2+100,def_u.team.color)\u001b[9;13Hgrid.alerts.append(w1)\u001b[K\u001b[10;13H\u001b[33mw2\u001b[39;49m = widgets.Counter(x+1,y+1,start_ahp,atk_u.hp,t1,\u001b[11;34Ht1+t2+100,atk_u.team.color)\u001b[12;13Hgrid.alerts.append(w2)\u001b[K\r\n\u001b[K\u001b[14;13H\u001b[31m# Remove dead units (and all carriees) from grid.                   \u001b[39;49m\r\n\t\t\batk_u.hp > 0:\u001b[K\r\n\t\tatk_u.done()\u001b[17;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b\b    grid.remove_unit(atk_u)\u001b[K\r\n\t\t\u001b[33matk_t.hp\u001b[39;49m = 100\u001b[K\u001b[20;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp <= 0:\u001b[K\r\n\t\tgrid.remove_unit(def_u)\u001b[K\r\n\t\t\u001b[33mdef_t.hp\u001b[39;49m = 100\n\b\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m20\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m19\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[?25l\u001b[1@a\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[C\u001b[C\u001b[?25l\u001b[1@a\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m20\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[C\u001b[?25l\u001b[1@a\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\u001b[?25l\u001b[1@a\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[10;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[10;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[31m\u001b[40m|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[31m\u001b[40m|Ramen, move out!|\u001b(B\u001b[0;1m\u001b[34m\u001b[40m$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m........\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[3;18H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[C\u001b[14;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b[H\u001b[C\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;14H\u001b[6;14H\u001b(B\u001b[0;7m\u001b[31m\u001b[40m.\u001b[7d\b\b...\u001b[8;12H....^\u001b[9;11H.....^.\u001b[10;10H......^..\u001b[11;9H.......#...\u001b[12;8H#.#..........\u001b[13;7H...........#...\u001b[14;6H.!$.....\u001b[39;49m\u001b[37m\u001b[40mi\u001b[31m\u001b[40m$.......\u001b[15;7H...............\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[14d\b\u001b[31m\u001b[40mi\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6d\u001b[32m\u001b[40m.\u001b[7d\b\b...\u001b[8;12H....\u001b[33m\u001b[40m^\u001b[9;11H\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[11;9H.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[12;8H\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m...\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m......\u001b[13;7H...........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[14;6H.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.......\u001b[15;7H...............\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[12d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[11d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[10d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[9d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[8d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[31m\u001b[40m.\u001b[7d\b\b.\u001b[39;49m\u001b[37m\u001b[40m.\u001b[31m\u001b[40m.\u001b[8;12H....^\u001b[9;11H.....^.\u001b[10;10H......^..\u001b[11;9H.......#...\u001b[12;8H#.#..........\u001b[13;7H...........#...\u001b[14;6H.!$.....i$.......\u001b[15;7H...............\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[7d\b\u001b[31m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mWait  \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Cancel|\r\u001b[4d+------+\u001b[6;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b[14;14H\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[2;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A-+\u001b[32m\u001b[40m..........\u001b[2;9H....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[3;9H.......\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###\u001b[4;9H\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b[2;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7;13H\u001b[32m\u001b[40m...\u001b[8;12H....\u001b[33m\u001b[40m^\u001b[9;11H\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[11;9H.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[12;8H\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b[13;7H...........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[14;6H.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.......\u001b[15;7H...............\u001b[2;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[32m\u001b[40m........\r\u001b[2d........\r\u001b[3d........\r\u001b[4d....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[6;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[6d\b\u001b(B\u001b[0;1m\u001b[30m\u001b[40mi\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[5d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+---------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Surrender|\r\u001b[4d|End Turn |\r\u001b[5d+---------+\u001b[2d\b\b\r|Close    \r\u001b[4d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[32m\u001b[40m...........\r\u001b[2d...........\r\u001b[3d...........\r\u001b[4d....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\r\u001b[5d....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[6d..\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b[4d\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[34m\u001b[40m+-----------------+\r\u001b[2d|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m    \u001b[34m\u001b[40m|\r\u001b[3d|Ishara, move out!|\r\u001b[4d+-----------------+\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\b\b\u001b[A\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mo\u001b[3d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\b\u001b[34m\u001b[40mo\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m \u001b[C\u001b[H+---------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Surrender|\r\u001b[4d|End Turn |\r\u001b[5d+---------+\u001b[2d\b\b\u001b[H\u001b[34m\u001b[40m+----------\r\u001b[2d|Day 1 - In\r\u001b[3d|Ishara, mo\r\u001b[4d+----------\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2;20H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+---------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Surrender|\r\u001b[4d|End Turn |\r\u001b[5d+---------+\u001b[2d\b\b\u001b[H\u001b[34m\u001b[40m+----------\r\u001b[2d|Day 1 - In\r\u001b[3d|Ishara, mo\r\u001b[4d+----------\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2;20H\u001b[32m\u001b[40m.\u001b[3d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[4;12H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[32m\u001b[40m...................\r\u001b[2d............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m......\r\u001b[3d...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###$\r\u001b[4d\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+--------------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mInfantry $1000\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|APC $3000     |\r\u001b[4d|Cancel        |\r\u001b[5d+--------------+\u001b[2d\b\b\u001b[H\u001b[32m\u001b[40m................\r\u001b[2d............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...\r\u001b[3d...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\r\u001b[4d\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...........\r\u001b[5d....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[3;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;1m\u001b[30m\u001b[40mi\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+---------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Surrender|\r\u001b[4d|End Turn |\r\u001b[5d+---------+\u001b[2d\b\b\r|Close    \r\u001b[4d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[32m\u001b[40m...........\r\u001b[2d...........\r\u001b[3d...........\u001b[19G\u001b(B\u001b[0;1m\u001b[34m\u001b[40mi\r\u001b[4d\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\r\u001b[5d....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[31m\u001b[40m+----------------+\r\u001b[2d|Day 2 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\r\u001b[3d|Ramen, move out!|\r\u001b[4d+----------------+\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;19H\u001b[H+---------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Surrender|\r\u001b[4d|End Turn |\r\u001b[5d+---------+\u001b[2d\b\b\r|Close    \r\u001b[4d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[31m\u001b[40m+----------\r\u001b[2d|Day 2 - In\r\u001b[3d|Ramen, mov\r\u001b[4d+----------\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[34m\u001b[40m+-----------------+\r\u001b[2d|Day 2 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m    \u001b[34m\u001b[40m|\r\u001b[3d|Ishara, move out!|\r\u001b[4d+-----------------+\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[C\u001b[1d\u001b(B\u001b[0;7m\u001b[34m\u001b[40m.....\u001b[2;20H.....\u001b[3;20H.!....\u001b[4;20H.......\u001b[5;13H...^.........\u001b[6;15H.^....#...\u001b[7;15H.^..$....\u001b[8;16H^......\u001b[9;17H.....\u001b[10;18H...\u001b[11d\b\b.\u001b[3;20H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4d\u001b[5d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5d\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[34m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;20H\u001b[32m\u001b[40m.....\u001b[2;20H.....\u001b[3;20H.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[4;20H.......\u001b[5;13H...\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.......\u001b[6;15H.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[7;15H.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m....\u001b[8;16H\u001b[33m\u001b[40m^\u001b[32m\u001b[40m......\u001b[9;17H.....\u001b[10;18H...\u001b[11d\b\b.\u001b[4d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;17H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m^\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[33m\u001b[40m^\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;20H\u001b(B\u001b[0;7m\u001b[34m\u001b[40m.....\u001b[2;20H.....\u001b[3;20H.!....\u001b[4;20H.......\u001b[5;13H..\u001b[39;49m\u001b[37m\u001b[40m.\u001b[34m\u001b[40m^.........\u001b[6;15H.^....#...\u001b[7;15H.^..$....\u001b[8;16H^......\u001b[9;17H.....\u001b[10;18H...\u001b[11d\b\b.\u001b[4d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;15H\u001b(B\u001b[0;7m\u001b[34m\u001b[40m.\u001b[6d\b\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mAttack\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Wait  |\u001b[3;19H\u001b(B\u001b[0;1m\u001b[34m\u001b[40m$\r\u001b[4d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|Cancel|\r\u001b[5d+------+\u001b[6;15H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b[2;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;20H\u001b[32m\u001b[40m.....\u001b[2;20H.....\u001b[3;19H\u001b[34m\u001b[40m|\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[4;20H.......\u001b[5;13H...\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.........\u001b[6;16H\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[7;15H.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m....\u001b[8;16H\u001b[33m\u001b[40m^\u001b[32m\u001b[40m......\u001b[9;17H.....\u001b[10;18H...\u001b[11d\b\b.\u001b[2;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[34m\u001b[40m+-------\r\u001b[2d|Day 2 -\r\u001b[3d|Ishara,\r\u001b[4d+-------\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[6;14H\u001b(B\u001b[0;7m\u001b[31m\u001b[40mi\u001b[4;9H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;15H\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b(B\u001b[0;1m\u001b[34m\u001b[40mi\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;19H\u001b[6;14H\u001b[4;20H\u001b[6;15H\u001b(B\u001b[0;1m\u001b[30m\u001b[40mi\u001b[4;20H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;9H\u001b[31m\u001b[40m+----+\u001b[4;9H| 99%|\u001b[5;9H+----+\u001b[7;16H\u001b[34m\u001b[40m+----+\u001b[8;16H|100%|\u001b[9;16H+----+\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;12H\u001b[31m\u001b[40m8%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m7%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m6%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m5%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m4%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m3\u001b[6;14H\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b[7d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[4d\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m2%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m1%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m0%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\b\u001b[31m\u001b[40m89%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m8%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m7%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[32m\u001b[40m...................\r\u001b[2d............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m......\r\u001b[3d........\u001b[15G.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###$\r\u001b[4d\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[31m\u001b[40m| 86%|\u001b[32m\u001b[40m.....\u001b[14G\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m5%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m4%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m3%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m2\u001b[7;14H\u001b[32m\u001b[40m.\u001b[8d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[4d\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m1\u001b[9;22H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;12H\u001b[31m\u001b[40m0%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\b\u001b[31m\u001b[40m79%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m8%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m7%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m6%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m5%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m4%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m3%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m2%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m1%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m0%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\b\u001b[31m\u001b[40m69%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m8%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m7%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m6%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m5%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m4%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m3%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m2%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m1\u001b[6;14H\u001b(B\u001b[0;1m\u001b[31m\u001b[40m3\u001b[30m\u001b[40m9\u001b[9;22H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;12H\u001b[31m\u001b[40m0\u001b[8;14H\u001b[32m\u001b[40m.\u001b[9d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[4d\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\b\u001b[31m\u001b[40m59%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m8%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m7%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m6%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m5%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m4%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m3%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m2%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m1%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m0%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\b\u001b[31m\u001b[40m49%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m8%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m7%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m6%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m5%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m4%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m3%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m2%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m1\u001b[9;22H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;12H\u001b[31m\u001b[40m0%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\b\u001b[31m\u001b[40m39%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m8%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m7%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m6%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m5%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m4%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m3%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m2%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m1%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m0%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\b\u001b[31m\u001b[40m29%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m8%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m7%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m6%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m5%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m4%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m3%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m2%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m1\u001b[6;14H\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b[30m\u001b[40mi\u001b[9;22H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[8;17H\u001b[34m\u001b[40m 99%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[34m\u001b[40m8%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[34m\u001b[40m7%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[34m\u001b[40m6%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[34m\u001b[40m5%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[34m\u001b[40m4%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[34m\u001b[40m3%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[34m\u001b[40m2%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[34m\u001b[40m1%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[34m\u001b[40m0%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\b\u001b[34m\u001b[40m89%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[34m\u001b[40m8%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[34m\u001b[40m7%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[34m\u001b[40m6%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[34m\u001b[40m5%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[34m\u001b[40m4%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[9;14H\u001b[9;22H\u001b[9;14H\u001b[6d\u001b(B\u001b[0;1m\u001b[31m\u001b[40m3\u001b[30m\u001b[40m9\u001b[9;22H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[9;14H\u001b[9;22H\u001b[9;14H\u001b[6d\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b[30m\u001b[40mi\u001b[9;22H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[9;14H\u001b[9;22H\u001b[9;14H\u001b[3;9H\u001b[32m\u001b[40m......\u001b[4;9H......\u001b[5;9H......\u001b[7d.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m..\u001b[8;16H\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.....\u001b[9;16H\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.....\u001b[9;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6d\u001b(B\u001b[0;1m\u001b[31m\u001b[40m3\u001b[30m\u001b[40m9\u001b[9d\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6d\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b[30m\u001b[40mi\u001b[9d\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6d\u001b(B\u001b[0;1m\u001b[31m\u001b[40m3\u001b[30m\u001b[40m9\u001b[9d\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6d\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b[30m\u001b[40mi\u001b[9d\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+---------+\r\u001b[2d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Surrender|\r\u001b[4d|End Turn |\r\u001b[5d+---------+\u001b[2d\b\b\u001b[6;14H\u001b(B\u001b[0;1m\u001b[31m\u001b[40m3\u001b[30m\u001b[40m9\u001b[2;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r|Close    \r\u001b[4d|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[32m\u001b[40m...........\r\u001b[2d...........\r\u001b[3d...........\r\u001b[4d....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\r\u001b[5d....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[6;15H\u001b(B\u001b[0;1m\u001b[34m\u001b[40m9\u001b[9d\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[31m\u001b[40m+----------------+\r\u001b[2d|Day 3 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\r\u001b[3d|Ramen, move out!|\r\u001b[4d+----------------+\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[9;14H\u001b[4;19H\u001b[9;14H\u001b[6d\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b[34m\u001b[40mi\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[9;14H\u001b[4;19H\u001b[9;14H\u001b[6d\u001b(B\u001b[0;1m\u001b[31m\u001b[40m3\u001b[34m\u001b[40m9\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[9;14H\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 95, in run\r\n    gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 88, in refresh\r\n    if gfx: return gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 105, in refresh\r\n    curses.napms(20)\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33mdef_u.ammo\u001b[39;49m -= 1\u001b[K\r\n\u001b[K\n            \u001b[31m# Draw damage animations                                            \u001b[39;49m\r\n\u001b[A\n            \u001b[33mt1\u001b[39;49m = start_dhp-def_u.hp\u001b[K\r\n            \u001b[33mt2\u001b[39;49m = start_ahp-atk_u.hp\u001b[K\r\n            \u001b[33mw1\u001b[39;49m = widgets.Counter(ax-6,ay-3,start_dhp,def_u.hp,0,\u001b[K\r\n                                 t1+t2+100,def_u.team.color)\u001b[K\r\n            grid.alerts.append(w1)\u001b[K\r\n            \u001b[33mw2\u001b[39;49m = widgets.Counter(ax+1,ay+1,start_ahp,atk_u.hp,t1,\u001b[K\r\n                                 t1+t2+100,atk_u.team.color)\u001b[K\r\n            grid.alerts.append(w2)\u001b[K\r\n\u001b[K\n            \u001b[31m# Remove dead units (and all carriees) from grid.                   \u001b[39;49m\r\n\u001b[A\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m atk_u.hp > 0:\u001b[K\r\n                atk_u.done()\u001b[K\r\n            \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n                grid.remove_unit(atk_u)\u001b[K\r\n                \u001b[33matk_t.hp\u001b[39;49m = 100\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp <= 0:\u001b[K\r\n                grid.remove_unit(def_u)\u001b[K\r\n                \u001b[33mdef_t.hp\u001b[39;49m = 100\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   77% L321  Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[10;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[10;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23d\u001b[?25l\u001b[7m19\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[2;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[33mstart_ahp\u001b[39;49m, \u001b[33mstart_dhp\u001b[39;49m = atk_u.hp, def_u.hp\u001b[4;15H\u001b[31mCalculate damage.     \u001b[39;49m\u001b[5;13H\u001b[33ma_dmg\u001b[39;49m,\u001b[33mprim\u001b[39;49m = atk_u.simulate(def_u, def_t.cover)\u001b[6;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m a_dmg: \u001b[33mdef_u.hp\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(0,def_u.hp-a_dmg)\u001b[7;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33matk_u.ammo\u001b[39;49m -= 1\u001b[K\r\n\u001b[K\u001b[9;13H\u001b[31m# Only counter if hp > 0 and not indirect.                          \u001b[39;49m\r\n\u001b[10;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m def_u.is_indirect \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m def_u.in_range(d):\r\n\t\t\u001b[33md_dmg\u001b[39;49m,\u001b[33mprim\u001b[39;49m = def_u.simulate(atk_u, atk_t.cover)\u001b[12;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m d_dmg: \u001b[33matk_u.hp\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(0,atk_u.hp-d_dmg)\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33mdef_u.ammo\u001b[39;49m -= 1\r\n\u001b[K\u001b[15;13H\u001b[31m# Draw damage animations                                            \u001b[39;49m\r\n\u001b[16;13H\u001b[33mt1\u001b[39;49m = start_dhp-def_u.hp\u001b[17;13H\u001b[33mt2\u001b[39;49m = start_ahp-atk_u.hp\u001b[18;13H\u001b[33mw1\u001b[39;49m = widgets.Counter(ax-6,ay-3,start_dhp,def_u.hp,0,\r\n\t\t                 t1+t2+100,def_u.team.color)\u001b[20;13Hgrid.alerts.append(w1)\u001b[21;13H\u001b[33mw2\u001b[39;49m = widgets.Counter(ax+1,ay+1,start_ahp,atk_u.hp,t1,\r\n\t\t                 t1+t2+100,atk_u.team.color)\u001b[23;30H\u001b[7m4% L312\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23d\u001b[?25l\u001b[7m09\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l(No changes need to be saved)\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[8d\u001b[24d\u001b[?25l\u001b[34mSwitch to buffer (default widgets.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay > 0:\u001b[K\u001b[3;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay -= 1\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[33mmsg\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\n\b\b\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end:\u001b[K\u001b[7;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start += 1\u001b[K\r\n\t\t\u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[9;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end:\u001b[K\u001b[10;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start -= 1\u001b[K\r\n\t\t\u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\u001b[12;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m msg:\u001b[K\n\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,msg,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col),1,1)\r\n\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[K\u001b[17;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[K\u001b[18;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;6H\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L98 \u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[3;18Halive = \u001b[35mFalse\u001b[39;49m\r\n\u001b[K\n\u001b[31m# The Counter notification is used to animate increasing/decreasing HP after    \u001b[39;49m\r\n\u001b[31m# combat, capturing, joining, etc.                                              \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mCounter\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, start, end, delay, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay = delay\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer = timer\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = start\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end = end\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col = fg\u001b[15;14Hsprite = draw.fill(x,y,6,3,layer=200)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,6,3,fg=fg,bg=bg),0,0)\r\n\t\u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,msg,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col),1,1)\u001b[20;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay > 0:\u001b[22;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay -= 1\n\u001b[C\u001b[7m69% L97\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[4P\u001b[3;22H\u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer = timer\r\n        \u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[K\r\n        \u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\u001b[K\r\n        \u001b[33mw\u001b[39;49m = 0\u001b[K\u001b[8;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\r\n\t        \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\r\n\t\u001b[33mw\u001b[39;49m += 2\u001b[K\nprite = draw.fill(x,y,w,h,layer=200)\u001b[13;14Hsprite.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\r\n\t\u001b[4@\t\t\b.blit(draw.string(0,0,l,fg,bg),1,1+i)\r\n\u001b[K\u001b[17;5H\u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[20;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[22;18Halive = \u001b[35mFalse\u001b[39;49m\n\b\b\u001b[7m53% L78\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i != \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index:\u001b[K\r\n\t    i = i%\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor.move_to(1,i+1)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index = i\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\r\n\t    report = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[9;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[12;5H\u001b[31m# This function just reports what value is being hovered over.              \u001b[39;49m\r\n\u001b[13;5H\u001b[31m# This can be used for tooltips.                                            \u001b[39;49m\r\n\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\u001b[K\r\n\n\u001b[K\n\u001b[31m# Notifications are popups that should be tied to sprite objects. Their         \u001b[39;49m\r\n\u001b[31m# sprites are added to the pile of sprites.                                     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mNotification\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m)\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[4P\u001b[22;22H\u001b[35mTrue\u001b[39;49m\u001b[K\u001b[23;29H\u001b[7m37% L59\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(0,0,w+2,h+2)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,w+2,h+2),0,0)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.layer = 200\u001b[K\r\n\t\u001b[33mi\u001b[39;49m = 1\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m items:\u001b[K\u001b[7;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,s),1,i)\u001b[8;13H\u001b[33mi\u001b[39;49m += 1\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = draw.fill(1,1,w,1,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index = 0\u001b[12;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items = items\u001b[K\r\n\u001b[K\u001b[14;5H\u001b[31m# This method takes the return value of gfx.get_input and handles           \u001b[39;49m\r\n\u001b[15;5H\u001b[31m# it. If a menu item is selected via Enter or keyboard shortcut,            \u001b[39;49m\r\n\u001b[16;5H\u001b[31m# that option is returned.                                                  \u001b[39;49m\r\n\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\r\n        \u001b[33mi\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: i -= 1\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: i += 1\u001b[21;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i != \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index:\u001b[K\r\n\t    i = i%\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items)\n\b\b\b\b\b\u001b[7m19% L40\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l\u001b[31m# Widgets are GUI elements that can be interacted with and drawn on the         \u001b[39;49m\r\n\u001b[31m# screen. When a widget is created, its sprite should be added to the           \u001b[39;49m\r\n\u001b[31m# appropriate sprite for rendering.                                             \u001b[39;49m\r\n\u001b[K\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m graphics \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m draw, sprites\r\n\u001b[K\n\u001b[31m# Menus are the prime example of a widget. They capture input - pressing        \u001b[39;49m\r\n\u001b[31m# an arrow key moves the highlighted line of text, and pressing enter           \u001b[39;49m\r\n\u001b[31m# will cause the interaction to return the string of the menu. Keyboard         \u001b[39;49m\r\n\u001b[31m# shortcuts will automatically be assigned based on the first letter of         \u001b[39;49m\r\n\u001b[31m# an option.                                                                    \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mMenu\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, items):\u001b[K\u001b[15;5H    \u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(items)\u001b[K\u001b[16;5H    \u001b[33mw\u001b[39;49m = 0\u001b[K\u001b[17;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m items:\u001b[K\r\n\t    \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(s),w)\r\n\u001b[K\n\t\u001b[31m# Set up the window.                                                    \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(0,0,w+2,h+2)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,w+2,h+2),0,0)\u001b[23;29H\u001b[7mTop L21\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(0,0,w+2,h+2)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,w+2,h+2),0,0)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.layer = 200\u001b[K\r\n\t\u001b[33mi\u001b[39;49m = 1\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m items:\u001b[K\u001b[7;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,s),1,i)\r\n            \u001b[33mi\u001b[39;49m += 1\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = draw.fill(1,1,w,1,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index = 0\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items = items\u001b[K\r\n\u001b[K\u001b[14;5H\u001b[31m# This method takes the return value of gfx.get_input and handles           \u001b[39;49m\r\n\u001b[15;5H\u001b[31m# it. If a menu item is selected via Enter or keyboard shortcut,            \u001b[39;49m\r\n\u001b[16;5H\u001b[31m# that option is returned.                                                  \u001b[39;49m\r\n\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\r\n\t\u001b[33mi\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: i -= 1\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: i += 1\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i != \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index:\u001b[K\r\n\t    i = i%\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items)\u001b[K\n\b\b\b\b\b\u001b[7m19%\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[A\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i != \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index:\u001b[K\r\n\t    i = i%\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items)\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor.move_to(1,i+1)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index = i\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[7;13Hreport = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\u001b[K\u001b[8;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[12;5H\u001b[31m# This function just reports what value is being hovered over.              \u001b[39;49m\r\n\u001b[13;5H\u001b[31m# This can be used for tooltips.                                            \u001b[39;49m\r\n\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\u001b[15;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# Notifications are popups that should be tied to sprite objects. Their         \u001b[39;49m\r\n\u001b[31m# sprites are added to the pile of sprites.                                     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mNotification\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[23;29H\u001b[7m37% L39\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l\u001b[34mSwitch to buffer (default rules.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrules.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\t            \u001b[33mu\u001b[39;49m = tile.unit\u001b[3;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair):\u001b[4;13H            \u001b[33mu.fuel\u001b[39;49m = u.max_fuel\u001b[5;13H            \u001b[33mu.ammo\u001b[39;49m = u.max_ammo\r\n\u001b[K\u001b[7;13H        \u001b[31m# Repairing a unit forfeits that tile's income.             \u001b[39;49m\r\n\u001b[8;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.hp < 100\u001b[9;13H              \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair):\r\n\t                \u001b[33mu.hp\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(100,u.hp+tile.repair[u.unit])\u001b[11;21H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[12;5H                    \u001b[33mcur.cash\u001b[39;49m += tile.income\u001b[K\r\n\u001b[K\u001b[14;5H    \u001b[31m# Determine the winning team (if one exists).                           \u001b[39;49m\r\n\t\u001b[33mwinner\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m at \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]:\u001b[17;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m ot \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]:\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m at.is_allied(ot):\u001b[K\r\n                    \u001b[33mwinner\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m winner:\u001b[K\u001b[21;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.winners = [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]\r\n\u001b[K\u001b[23;6H\u001b[7m----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mgrid.py     \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   60% L203\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l\u001b[34mSwitch to buffer (default widgets.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrules.py\u001b[K\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lsession.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\t\thistory = []\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m].append(history)\u001b[K\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (cp,acts) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history:\u001b[5;21Hhistory.append(acts)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.end_turn()\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[K\u001b[11;13H\u001b[8P\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = result\u001b[K\u001b[14;50H\u001b[4P\r\t\u001b[4@\t\b\b\u001b[31mSet up various UI candy.               \u001b[39;49m\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.kill()\u001b[K\u001b[17;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight = sprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h,50)\r\n\t\t\u001b[33mc\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices:\r\n\t            \u001b[33mt1\u001b[39;49m,\u001b[33mu1\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(x,y)\u001b[21;13H        \u001b[33mt2\u001b[39;49m,\u001b[33mu2\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(cx,cy)\u001b[K\u001b[22;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u1: \u001b[33mc\u001b[39;49m = u1.team.color\u001b[23;14H\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   77% L171\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\t\u001b[?25lcp = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history) > 0:\u001b[K\r\n\t\t    \u001b[33mcp\u001b[39;49m, acts = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.pop()\r\n\t\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t\t    cp = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint\u001b[7;26H = copy.deepcopy(cp)\u001b[8;22Hcheckpoint = copy.deepcopy(cp)\u001b[K\u001b[9;22Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[10;22Hgrid.info()\u001b[K\u001b[11;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[12;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_RESTART:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[14;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs = []\u001b[K\u001b[15;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite.kill()\u001b[K\u001b[16;22Hgrid = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[17;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[K\u001b[20;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_END:\u001b[K\r\n\t\thistory = []\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m].append(history)\u001b[23;29H\u001b[7m67% L166\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[31m# If we got a result from performing an action, we will be given        \u001b[39;49m\r\n\t\u001b[31m# either an order or a new action to perform. The orders tell us that   \u001b[39;49m\r\n\t\u001b[31m# the action was complete and that we either need to commit it or       \u001b[39;49m\r\n\t\u001b[31m# undo our mess.                                                        \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result:\u001b[K\u001b[7;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result == rules.ACT_COMMIT:\u001b[K\u001b[8;22Hhistory.append((copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint),\r\n\t\t                     \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs))\u001b[K\u001b[10;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[12;38HTRASH:\u001b[K\u001b[13;22Hgrid.sprite.kill()\u001b[15;26H = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint)\u001b[16;26H_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[17;22Hgrid.info()\u001b[K\u001b[18;22Haction = rules.Begin()\u001b[K\u001b[19;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_UNDO:\u001b[K\u001b[20;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite.kill()\u001b[K\r\n\t\tcp = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history) > 0:\u001b[K\u001b[23;29H\u001b[7m57% L147\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l        cp = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history) > 0:\u001b[K\r\n\t            \u001b[33mcp\u001b[39;49m, acts = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.pop()\u001b[K\r\n\t        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t            cp = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint\u001b[7;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = copy.deepcopy(cp)\u001b[8;22Hcheckpoint = copy.deepcopy(cp)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[10;22Hgrid.info()\u001b[K\u001b[12;38HRESTART:\u001b[13;22Hhistory = []\u001b[K\u001b[15;26H.sprite.kill()\u001b[K\u001b[16;26H = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[K\u001b[17;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[18;22Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[19;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[20;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_END:\r\n\t\thistory = []\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m].append(history)\u001b[23;29H\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[A\t\t\u001b[?25lhistory = []\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m].append(history)\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (cp,acts) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history:\u001b[K\r\n\t\t    history.append(acts)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[K\u001b[7;26H.end_turn()\u001b[K\u001b[8;22Hstartover = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[9;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\u001b[10;22Haction = rules.Begin()\u001b[11;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b\b    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = result\u001b[K\r\n\u001b[K\u001b[14;13H\u001b[31m# Set up various UI candy.                                          \u001b[39;49m\r\n\u001b[15;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\u001b[16;22Hhighlight.kill()\u001b[K\u001b[17;22Hhighlight = sprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h,50)\r\n\t\t\u001b[33mc\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices:\u001b[20;13H        \u001b[33mt1\u001b[39;49m,\u001b[33mu1\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(x,y)\r\n\t\t    \u001b[33mt2\u001b[39;49m,\u001b[33mu2\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(cx,cy)\r\n\t\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u1: \u001b[33mc\u001b[39;49m = u1.team.color\u001b[K\u001b[23;29H\u001b[7m77% L165\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25l    \u001b[33mt2\u001b[39;49m,\u001b[33mu2\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(cx,cy)\r\n\t\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u1: \u001b[33mc\u001b[39;49m = u1.team.color\u001b[K\r\n\t\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m t1 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t1.team: \u001b[33mc\u001b[39;49m = t1.team.color\u001b[5;21H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u2: \u001b[33mc\u001b[39;49m = u2.team.color\r\n\t\t    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m: \u001b[33mc\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().color\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.putc(\u001b[35mNone\u001b[39;49m,x,y,c,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[8;22Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight)\u001b[9;22Hanimation = 0.0\u001b[K\u001b[10;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[11;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = widgets.Menu(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices)\u001b[12;22Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.sprite)\u001b[14;5H\u001b[31m# The session has multiple sprites that need to be rendered, from the       \u001b[39;49m\r\n\u001b[15;5H\u001b[31m# view of the grid to the mutliple popups that need to appear.              \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrender\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation >= 1.0:\u001b[19;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[K\u001b[20;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[K\u001b[22;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\u001b[23;29H\u001b[7m85% L184\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m90\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;60H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[9d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;54H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;60H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;60H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;60H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\b\b\u001b[H\n\t\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[K\u001b[3;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.show()\u001b[K\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units:\u001b[K\u001b[6;21Hu.cycle_anim()\u001b[K\r\n\t\u001b[33mnotifications\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m notifications:\u001b[K\u001b[10;13Hn.update()\u001b[K\u001b[11;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m n.alive:\u001b[K\n\b\bnotifications.append(n)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.render(0,0)\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L20\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25l    \u001b[33mt2\u001b[39;49m,\u001b[33mu2\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(cx,cy)\u001b[3;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u1: \u001b[33mc\u001b[39;49m = u1.team.color\u001b[K\r\n\t\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m t1 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t1.team: \u001b[33mc\u001b[39;49m = t1.team.color\r\n\t\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u2: \u001b[33mc\u001b[39;49m = u2.team.color\u001b[6;21H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m: \u001b[33mc\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().color\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.putc(\u001b[35mNone\u001b[39;49m,x,y,c,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight)\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[10;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[11;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = widgets.Menu(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices)\u001b[12;22Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.sprite)\r\n\u001b[K\u001b[14;5H\u001b[31m# The session has multiple sprites that need to be rendered, from the       \u001b[39;49m\r\n\u001b[15;5H\u001b[31m# view of the grid to the mutliple popups that need to appear.              \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrender\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation >= 1.0:\u001b[19;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[20;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[22;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\u001b[23;29H\u001b[7m85%\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m199\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[11;62H\u001b[1;22r\u001b[12;1H\u001b[1L\u001b[1;24r\u001b[12;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   85% L194\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[12;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[12;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[31m\u001b[40m|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[31m\u001b[40m|Ramen, move out!|\u001b(B\u001b[0;1m\u001b[34m\u001b[40m$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m........\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[3;18H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[C\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\u001b[24d\b\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 81, in run\r\n    res = self.game.handle_input(c)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/session.py\", line 194, in handle_input\r\n    self.menu.move_to(cx,cy)\r\nAttributeError: 'Menu' object has no attribute 'move_to'\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n                    \u001b[33mt2\u001b[39;49m,\u001b[33mu2\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(cx,cy)\u001b[K\r\n                    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u1: \u001b[33mc\u001b[39;49m = u1.team.color\u001b[K\r\n                    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m t1 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t1.team: \u001b[33mc\u001b[39;49m = t1.team.color\u001b[K\r\n                    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u2: \u001b[33mc\u001b[39;49m = u2.team.color\u001b[K\r\n                    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m: \u001b[33mc\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().color\u001b[K\r\n                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.putc(\u001b[35mNone\u001b[39;49m,x,y,c,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight)\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = widgets.Menu(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices)\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.move_to(cx,cy)\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.sprite)\u001b[K\r\n\u001b[K\n    \u001b[31m# The session has multiple sprites that need to be rendered, from the       \u001b[39;49m\r\n\u001b[A\n    \u001b[31m# view of the grid to the mutliple popups that need to appear.              \u001b[39;49m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrender\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation >= 1.0:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   85% L194  Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[12;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[C\u001b[C\u001b[?25l\u001b[1@.\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@s\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@p\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@r\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@i\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@e\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[12;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[12;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[31m\u001b[40m|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[31m\u001b[40m|Ramen, move out!|\u001b(B\u001b[0;1m\u001b[34m\u001b[40m$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m........\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[3;18H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[C\u001b[2d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2d\b\u001b[31m\u001b[40m|\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3d\b\u001b[31m\u001b[40m|\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m+\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4d\b\u001b[31m\u001b[40m+\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b[4;2H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;14H\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[14d\b\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[13d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[32m\u001b[40m..................\r\u001b[2d............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\r\u001b[3d...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###\r\u001b[4d\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.............\u001b[12;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+---------+\u001b[13;14H|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[14;14H|Surrender|\u001b[15;14H|End Turn |\u001b[16;14H+---------+\u001b[13d\b\b\u001b[14;14H\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[16d\u001b[J\u001b[12;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[13;14H....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[14;15H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.........\u001b[15;14H...........\u001b[12;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+---------+\u001b[13;13H|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[14;13H|Surrender|\u001b[15;13H|End Turn |\u001b[16;13H+---------+\u001b[13d\b\b\r\u001b[16d\u001b[J\u001b[12;13H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b[13;13H.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[14;13H.\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m........\u001b[15;13H...........\u001b[12;13H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+---------+\u001b[13;14H|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[14;14H|Surrender|\u001b[15;14H|End Turn |\u001b[16;14H+---------+\u001b[13d\b\b\u001b[13;15HClose    \u001b[14;15H\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mSurrender\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;15H\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b[14;15H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mSurrender\u001b[A\b\r\u001b[16d\u001b[J\u001b[12;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[13;14H....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[14;14H\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.........\u001b[15;14H...........\u001b[12;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[13d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[14d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[14d\b\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+---------+\u001b[14;14H|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[15;14H|Surrender|\u001b[16;14H|End Turn |\u001b[17;14H+---------+\u001b[14d\b\b\r\u001b[16d\u001b[J\u001b[13;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[14;14H\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.........\u001b[15;14H...........\u001b[13;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[14d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;14H\u001b(B\u001b[0;7m\u001b[31m\u001b[40m.\u001b[7d\b\b...\u001b[8;12H....^\u001b[9;11H.....^.\u001b[10;10H......^..\u001b[11;9H.......#...\u001b[12;8H#.#..........\u001b[13;7H...........#...\u001b[14;6H.!$.....\u001b[39;49m\u001b[37m\u001b[40mi\u001b[31m\u001b[40m$.......\u001b[15;7H...............\u001b[14;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;14H\u001b[32m\u001b[40m.\u001b[7d\b\b...\u001b[8;12H....\u001b[33m\u001b[40m^\u001b[9;11H\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[11;9H.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[12;8H\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b[13;7H...........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[14;6H.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.......\u001b[15;7H...............\u001b[14;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;14H\u001b(B\u001b[0;7m\u001b[31m\u001b[40m.\u001b[7d\b\b...\u001b[8;12H....^\u001b[9;11H.....^.\u001b[10;10H......^..\u001b[11;9H.......#...\u001b[12;8H#.#..........\u001b[13;7H...........#...\u001b[14;6H.!$.....\u001b[39;49m\u001b[37m\u001b[40mi\u001b[31m\u001b[40m$.......\u001b[15;7H...............\u001b[14;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[14d\b\u001b[31m\u001b[40mi\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6d\u001b[32m\u001b[40m.\u001b[7d\b\b...\u001b[8;12H....\u001b[33m\u001b[40m^\u001b[9;11H\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[11;9H.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[12;8H\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b[13;7H.......\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[14;6H.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.......\u001b[15;7H...............\u001b[13;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+------+\u001b[14;14H|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mWait  \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[15;14H|Cancel|\u001b[16;14H+------+\u001b[14d\b\b\u001b[6;14H\u001b(B\u001b[0;7m\u001b[31m\u001b[40m.\u001b[7d\b\b...\u001b[8;12H....^\u001b[9;11H.....^.\u001b[10;10H......^..\u001b[11;9H.......#...\u001b[12;8H#.#..........\u001b[13;7H.......\u001b[14;6H.!$.....\u001b[14;22H.\u001b[15;7H.......\u001b[14;20H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;14H\u001b[32m\u001b[40m.\u001b[7d\b\b...\u001b[8;12H....\u001b[33m\u001b[40m^\u001b[9;11H\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[11;9H.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[12;8H\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b[13;7H.......\u001b[14;6H.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b[14;22H.\u001b[15;7H.......\u001b[14;20H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;14H\u001b(B\u001b[0;7m\u001b[31m\u001b[40m.\u001b[7d\b\b...\u001b[8;12H....^\u001b[9;11H.....^.\u001b[10;10H......^..\u001b[11;9H.......#...\u001b[12;8H#.#..........\u001b[13;7H.......\u001b[14;6H.!$.....\u001b[14;22H.\u001b[15;7H.......\u001b[14;20H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;14H\u001b[32m\u001b[40m.\u001b[7d\b\b...\u001b[8;12H....\u001b[33m\u001b[40m^\u001b[9;11H\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[11;9H.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[12;8H\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b[13;7H.......\u001b[14;6H.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b[14;22H.\u001b[15;7H.......\u001b[14;20H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;14H\u001b(B\u001b[0;7m\u001b[31m\u001b[40m.\u001b[7d\b\b...\u001b[8;12H....^\u001b[9;11H.....^.\u001b[10;10H......^..\u001b[11;9H.......#...\u001b[12;8H#.#..........\u001b[13;7H.......\u001b[14;6H.!$.....\u001b[14;22H.\u001b[15;7H.......\u001b[14;20H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[15GWait  \u001b[15;15H\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mCancel\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[16d\u001b[J\u001b[6;14H\u001b[32m\u001b[40m.\u001b[7d\b\b...\u001b[8;12H....\u001b[33m\u001b[40m^\u001b[9;11H\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[11;9H.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[12;8H\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b[13;7H.......\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[14;6H.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.......\u001b[15;7H...............\u001b[13;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[13d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[12d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+---------+\u001b[12;14H|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[13;14H|Surrender|\u001b[14;14H|End Turn |\u001b[15;14H+---------+\u001b[12d\b\b\u001b[11;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m........\u001b[12;14H.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[13;14H....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[14;14H\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.........\u001b[15;14H...........\u001b[11;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[12d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[13d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+---------+\u001b[14;15H|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[15;15H|Surrender|\u001b[16;15H|End Turn |\u001b[17;15H+---------+\u001b[14d\b\b\r\u001b[16d\u001b[J\u001b[13;15H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[14;15H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m..........\u001b[15;15H...........\u001b[13;15H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+---------+\u001b[14;14H|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[15;14H|Surrender|\u001b[16;14H|End Turn |\u001b[17;14H+---------+\u001b[14d\b\b\r\u001b[16d\u001b[J\u001b[13;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[14;14H\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.........\u001b[15;14H...........\u001b[13;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 95, in run\r\n    gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 88, in refresh\r\n    if gfx: return gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 105, in refresh\r\n    curses.napms(20)\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n                    \u001b[33mt2\u001b[39;49m,\u001b[33mu2\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(cx,cy)\u001b[K\r\n                    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u1: \u001b[33mc\u001b[39;49m = u1.team.color\u001b[K\r\n                    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m t1 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t1.team: \u001b[33mc\u001b[39;49m = t1.team.color\u001b[K\r\n                    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u2: \u001b[33mc\u001b[39;49m = u2.team.color\u001b[K\r\n                    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m: \u001b[33mc\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().color\u001b[K\r\n                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.putc(\u001b[35mNone\u001b[39;49m,x,y,c,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight)\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = widgets.Menu(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices)\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.sprite.move_to(cx,cy)\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.sprite)\u001b[K\r\n\u001b[K\n    \u001b[31m# The session has multiple sprites that need to be rendered, from the       \u001b[39;49m\r\n\u001b[A\n    \u001b[31m# view of the grid to the mutliple popups that need to appear.              \u001b[39;49m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrender\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation >= 1.0:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   85% L194  Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[12;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\b\b\b\b\b\u001b[?25l+,cy)\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;45H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l1,cy)\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[12;46H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[12;46H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;46H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[H\n\t\t\u001b[?25lhistory = []\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m].append(history)\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (cp,acts) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history:\u001b[K\u001b[5;21Hhistory.append(acts)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.end_turn()\u001b[K\u001b[8;22Hstartover = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\u001b[9;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[10;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[K\u001b[11;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[12;22Haction = result\u001b[K\r\n\u001b[K\u001b[14;13H\u001b[31m# Set up various UI candy.                                          \u001b[39;49m\r\n\u001b[15;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\u001b[K\u001b[16;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.kill()\u001b[K\u001b[17;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight = sprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h,50)\r\n\t        \u001b[33mc\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices:\u001b[20;13H        \u001b[33mt1\u001b[39;49m,\u001b[33mu1\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(x,y)\u001b[21;13H        \u001b[33mt2\u001b[39;49m,\u001b[33mu2\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(cx,cy)\u001b[K\r\n\t\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u1: \u001b[33mc\u001b[39;49m = u1.team.color\u001b[23;29H\u001b[7m76% L185\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\t\u001b[?25lcp = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history) > 0:\u001b[K\r\n\t\t    \u001b[33mcp\u001b[39;49m, acts = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.pop()\r\n\t\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t\t    cp = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint\u001b[7;26H = copy.deepcopy(cp)\u001b[8;22Hcheckpoint = copy.deepcopy(cp)\u001b[K\u001b[9;22Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[10;22Hgrid.info()\u001b[K\u001b[11;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[12;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_RESTART:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[14;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs = []\u001b[K\u001b[15;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite.kill()\u001b[K\u001b[16;22Hgrid = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[17;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[K\u001b[20;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_END:\u001b[K\r\n\t\thistory = []\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m].append(history)\u001b[23;29H\u001b[7m67% L166\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[31m# If we got a result from performing an action, we will be given        \u001b[39;49m\r\n\t\u001b[31m# either an order or a new action to perform. The orders tell us that   \u001b[39;49m\r\n\t\u001b[31m# the action was complete and that we either need to commit it or       \u001b[39;49m\r\n\t\u001b[31m# undo our mess.                                                        \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result:\u001b[K\u001b[7;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result == rules.ACT_COMMIT:\u001b[K\u001b[8;22Hhistory.append((copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint),\r\n\t\t                     \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs))\u001b[K\u001b[10;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[12;38HTRASH:\u001b[K\u001b[13;22Hgrid.sprite.kill()\u001b[15;26H = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint)\u001b[16;26H_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[17;22Hgrid.info()\u001b[K\u001b[18;22Haction = rules.Begin()\u001b[K\u001b[19;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_UNDO:\u001b[K\u001b[20;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite.kill()\u001b[K\r\n\t\tcp = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history) > 0:\u001b[K\u001b[23;29H\u001b[7m57% L147\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l                \u001b[33mcx\u001b[39;49m,cy = u.x,u.y\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor != (cx,cy)):\u001b[K\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = cx,cy\u001b[K\r\n\t            \u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[7;13H        result = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.move_to(cx,cy)\u001b[K\u001b[10;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c:\u001b[K\u001b[12;13H        val = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\r\n\t\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m val:\u001b[K\r\n\t\t\u001b[8@\u001b[14;36H.append(val)\r\n\t\t        \u001b[33mresult\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(val, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\t    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t\t        \u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.info(), \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\u001b[K\n\u001b[K\n\t\u001b[31m# If we got a result from performing an action, we will be given        \u001b[39;49m\r\n\t\u001b[31m# either an order or a new action to perform. The orders tell us that   \u001b[39;49m\r\n\u001b[23;29H\u001b[7m48% L128\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[31m# allows the player to move the map around.                             \u001b[39;49m\r\n\t\u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[K\r\n\t\u001b[33mresult\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[33minfo\u001b[39;49m = {}\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().control == \u001b[32m\"human\"\u001b[39;49m:\u001b[7;13H\u001b[8P\u001b[7;22H\u001b[35mNone\u001b[39;49m\u001b[K\u001b[8;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"left\"\u001b[39;49m: cx -=1\u001b[K\u001b[10;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"right\"\u001b[39;49m: cx +=1\u001b[K\u001b[11;21H == \u001b[32m\"up\"\u001b[39;49m: cy -= 1\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: cy += 1\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"\\t\"\u001b[39;49m:\u001b[14;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab += 1\u001b[K\u001b[15;21Htabbables = [u \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.ready\r\n\t\t\t         \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[17;21H             \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.x \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.y \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m]\u001b[18;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables):\u001b[K\r\n\t\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab %= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables)\r\n\t\t\tu = tabbables[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab]\r\n\t                \u001b[33mcx\u001b[39;49m,cy = u.x,u.y\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor != (cx,cy)):\u001b[K\u001b[23;29H\u001b[7m39% L109\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\n\u001b[K\u001b[4;5H\u001b[?25l\u001b[31m# This exports our data as a dictionary to be JSONified. If history is      \u001b[39;49m\r\n\u001b[5;5H\u001b[31m# included, it's like saving a snapshot of the game to be continued later.  \u001b[39;49m\r\n\u001b[6;5H\u001b[31m# If griddata is included, it's like using the current snapshot as a new    \u001b[39;49m\r\n\u001b[7;5H\u001b[31m# map.                                                                      \u001b[39;49m\r\n\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, history=\u001b[35mTrue\u001b[39;49m, griddata=\u001b[35mFalse\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\r\n\u001b[K\u001b[11;5H\u001b[31m# This function takes the character that was most recently entered by the   \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# player and handles it. Even if no player is playing, this function        \u001b[39;49m\r\n\u001b[13;5H\u001b[31m# essentially serves as the step function for the AI.                       \u001b[39;49m\r\n\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\u001b[K\u001b[16;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications.append(n)\u001b[K\u001b[17;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(n.sprite)\u001b[K\r\n\u001b[K\n\t\u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\r\n\t\u001b[31m# If control does not belong to the human, then the control simply      \u001b[39;49m\r\n\t\u001b[31m# allows the player to move the map around.                             \u001b[39;49m\r\n\t\u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[K\u001b[23;30H\u001b[7m0% L90 \u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas = sprites.Sprite(0,0,60,23)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas)\u001b[4;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.fill(\u001b[32m' '\u001b[39;49m)\u001b[K\u001b[5;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.fill(\u001b[32m' '\u001b[39;49m)\u001b[K\u001b[6;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[K\u001b[7;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite = sprites.Sprite(0,0,1,1,100)\u001b[K\u001b[8;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight = sprites.Sprite(0,0,1,1)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.putc(\u001b[35mNone\u001b[39;49m,0,0,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[11;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[K\r\n\u001b[K\u001b[13;58H\u001b[4P\u001b[13;5H\u001b[4@\u001b[13;11H\u001b[31mThese are other elements, such as the menu, cursor,\u001b[39;49m\u001b[14;5H    \u001b[31m# animation timer, etc.                                                 \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0,0\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed = 0.05\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7m22% L71\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m69\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[15;26H\u001b[1;20r\u001b[16;1H\u001b[1L\u001b[1;24r\u001b[16;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   22% L65\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[16;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[16;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[H\n\t\u001b[?25l    \u001b[33mpteam.name\u001b[39;49m = p\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t.active]:\r\n\t    \u001b[33mt.name\u001b[39;49m = \u001b[32m\"---\"\u001b[39;49m\u001b[K\r\n\t\u001b[4@\u001b[5;22H.purge(t,\u001b[35mTrue\u001b[39;49m)\u001b[K\r\n\u001b[K\n\t\u001b[31m# Create the state machine widgets. These contain the ability to        \u001b[39;49m\r\n\t\u001b[31m# undo actions and whatnot.                                             \u001b[39;49m\r\n\u001b[9;14Hgrid.end_turn()\u001b[K\u001b[10;14Haction = rules.Begin()\u001b[K\u001b[11;14Hstartover = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs = []\u001b[K\r\n\t\u001b[33mreplay\u001b[39;49m = data.pop(\u001b[32m\"history\"\u001b[39;49m,[])\u001b[K\u001b[15;14Hdata[\u001b[32m\"history\"\u001b[39;49m] = []\u001b[16;14Hhistory = []\u001b[17;14Htab = 0\u001b[K\r\n\u001b[K\n\t\u001b[31m# Create the canvases that contain all of the sprites.                  \u001b[39;49m\r\n\u001b[20;14Hcanvas = sprites.Sprite(0,0,80,24)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas = sprites.Sprite(0,0,60,23)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas)\u001b[23;29H\u001b[7m14% L52\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l\u001b[31m# simultaneously. The session should be provided with a Dict generated from the\u001b[39;49m\r\n\u001b[31m# JSON of a map in the following format.                                        \u001b[39;49m\r\n\u001b[31m#   rules: a dict containing the unit and terrain definitions                   \u001b[39;49m\r\n\u001b[31m#   grid: a dict containing all of the tiles and other map variables (w,h,etc)  \u001b[39;49m\r\n\u001b[31m#   players: a list of the players, mapped to the teams in the grid             \u001b[39;49m\r\n\u001b[31m#   history: (optional) list of moves that have been played so far              \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mSession\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data):\u001b[10;14Hdata = data\u001b[K\u001b[11;14Hgrid = grid.Grid(data[\u001b[32m\"grid\"\u001b[39;49m], data[\u001b[32m\"rules\"\u001b[39;49m])\r\n\u001b[K\n\t\u001b[31m# Load the players. If a team does not have a respective player,        \u001b[39;49m\r\n\t\u001b[31m# destroy that team.                                                    \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\r\n\t    \u001b[33mt.active\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m p \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data[\u001b[32m\"players\"\u001b[39;49m]:\u001b[18;13H\u001b[33mpdata\u001b[39;49m = data[\u001b[32m\"players\"\u001b[39;49m][p]\r\n\t    \u001b[33mpteam\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams[pdata[\u001b[32m\"team\"\u001b[39;49m]]\u001b[K\r\n\t    \u001b[33mpteam.active\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t    \u001b[33mpteam.name\u001b[39;49m = p\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t.active]:\u001b[23;29H\u001b[7m 5% L33\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m29\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[11;59H\u001b[1;22r\u001b[13;1H\u001b[1L\u001b[1;24r\u001b[13;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m    5% L23\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25lselfi\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l6\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[14;1H\u001b[1L\u001b[1;24r\u001b[14;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l2\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l3\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l 23\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\u001b[?25l            \u001b[33mpteam\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams[pdata[\u001b[32m\"team\"\u001b[39;49m]]\u001b[K\r\n            \u001b[33mpteam.active\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n            \u001b[33mpteam.name\u001b[39;49m = p\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t.active]:\u001b[K\r\n            \u001b[33mt.name\u001b[39;49m = \u001b[32m\"---\"\u001b[39;49m\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.purge(t,\u001b[35mTrue\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[9;5H    \u001b[31m# Create the state machine widgets. These contain the ability to        \u001b[39;49m\r\n\t\u001b[31m# undo actions and whatnot.                                             \u001b[39;49m\r\n\u001b[11;18H.end_turn()\u001b[K\u001b[12;14Haction = rules.Begin()\u001b[13;14Hstartover = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs = []\u001b[K\r\n\t\u001b[33mreplay\u001b[39;49m = data.pop(\u001b[32m\"history\"\u001b[39;49m,[])\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m] = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab = 0\u001b[K\r\n\u001b[K\n\t\u001b[31m# Create the canvases that contain all of the sprites.                  \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas = sprites.Sprite(0,0,80,24)\u001b[23;29H\u001b[7m14% L32\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[31m# Create the canvases that contain all of the sprites.                  \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas = sprites.Sprite(0,0,80,24)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas = sprites.Sprite(0,0,60,23)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.fill(\u001b[32m' '\u001b[39;49m)\r\n\t\u001b[4P\u001b[7;18H_canvas.fill(\u001b[32m' '\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite = sprites.Sprite(0,0,1,1,100)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite)\u001b[K\u001b[11;14Hhighlight = sprites.Sprite(0,0,1,1)\u001b[12;14Hcursor_sprite.putc(\u001b[35mNone\u001b[39;49m,0,0,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[13;14Hhighlight.hide()\u001b[K\r\n\u001b[K\n\t\u001b[31m# These are other elements, such as the menu, cursor,                   \u001b[39;49m\r\n\t\u001b[31m# animation timer, etc.                                                 \u001b[39;49m\r\n\u001b[17;14Hcursor = 0,0\u001b[K\u001b[18;14Hscroll = 0,0\u001b[19;14Hanimation = 0.0\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications = []\u001b[K\u001b[22;14Hspeed = 0.05\u001b[K\u001b[23;29H\u001b[7m21% L51\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[4;53H\b\b\b\b\b\u001b[?25l,23)\u001b[K\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l,23)\u001b[K\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls,23)\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le,23)\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll,23)\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m,23)\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.,23)\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw,23)\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l3)\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[4;60H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[4;60H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;60H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications = []\u001b[K\u001b[3;14Hspeed = 0.05\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\u001b[7;5H\u001b[31m# This exports our data as a dictionary to be JSONified. If history is      \u001b[39;49m\r\n\u001b[8;5H\u001b[31m# included, it's like saving a snapshot of the game to be continued later.  \u001b[39;49m\r\n\u001b[9;5H\u001b[31m# If griddata is included, it's like using the current snapshot as a new    \u001b[39;49m\r\n\u001b[10;5H\u001b[31m# map.                                                                      \u001b[39;49m\r\n\u001b[11;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, history=\u001b[35mTrue\u001b[39;49m, griddata=\u001b[35mFalse\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\r\n\u001b[K\u001b[14;5H\u001b[31m# This function takes the character that was most recently entered by the   \u001b[39;49m\r\n\u001b[15;5H\u001b[31m# player and handles it. Even if no player is playing, this function        \u001b[39;49m\r\n\u001b[16;5H\u001b[4P\t\b\b\u001b[31messentially serves as the step function for the\u001b[39;49m\u001b[4@\u001b[31m AI.\u001b[39;49m\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications.append(n)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(n.sprite)\r\n\u001b[K\n\t\u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\u001b[23;30H\u001b[7m9% L70\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;14H\u001b[?25lgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite)\u001b[3;14Hhighlight = sprites.Sprite(0,0,1,1)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.putc(\u001b[35mNone\u001b[39;49m,0,0,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[7;5H    \u001b[31m# These are other elements, such as the menu, cursor,                   \u001b[39;49m\r\n\u001b[8;5H    \u001b[31m# animation timer, etc.                                                 \u001b[39;49m\r\n\u001b[9;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0,0\u001b[K\u001b[10;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll = 0,0\u001b[K\u001b[11;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications = []\u001b[14;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed = 0.05\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\u001b[18;5H\u001b[31m# This exports our data as a dictionary to be JSONified. If history is      \u001b[39;49m\r\n\u001b[19;5H\u001b[31m# included, it's like saving a snapshot of the game to be continued later.  \u001b[39;49m\r\n\u001b[20;5H\u001b[31m# If griddata is included, it's like using the current snapshot as a new    \u001b[39;49m\r\n\u001b[21;5H\u001b[31m# map.                                                                      \u001b[39;49m\r\n\u001b[22;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, history=\u001b[35mTrue\u001b[39;49m, griddata=\u001b[35mFalse\u001b[39;49m):\u001b[K\u001b[23;30H\u001b[7m5% L69\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l(No changes need to be saved)\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[2;5H\u001b[?25l\u001b[31m# map.                                                                      \u001b[39;49m\r\n\u001b[3;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, history=\u001b[35mTrue\u001b[39;49m, griddata=\u001b[35mFalse\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\r\n\u001b[K\u001b[6;5H\u001b[31m# This function takes the character that was most recently entered by the   \u001b[39;49m\r\n\u001b[7;5H\u001b[31m# player and handles it. Even if no player is playing, this function        \u001b[39;49m\r\n\u001b[8;5H\u001b[4P\t\b\b\u001b[31messentially serves as the step function for the\u001b[39;49m\u001b[4@\u001b[31m AI.\u001b[39;49m\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications.append(n)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(n.sprite)\r\n\u001b[K\n\t\u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\r\n\t\u001b[31m# If control does not belong to the human, then the control simply      \u001b[39;49m\r\n\t\u001b[31m# allows the player to move the map around.                             \u001b[39;49m\r\n\t\u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[18;5H    \u001b[33mresult\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[19;5H    \u001b[33minfo\u001b[39;49m = {}\u001b[K\u001b[20;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().control == \u001b[32m\"human\"\u001b[39;49m:\u001b[K\u001b[21;5H        result = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[22;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\u001b[23;29H\u001b[7m33% L78\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l        result = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[3;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"left\"\u001b[39;49m: cx -=1\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"right\"\u001b[39;49m: cx +=1\u001b[6;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: cy -= 1\u001b[K\u001b[7;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: cy += 1\u001b[K\u001b[8;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"\\t\"\u001b[39;49m:\u001b[K\u001b[9;5H                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab += 1\r\n\t            tabbables = [u \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.ready\u001b[11;13H                     \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[12;13H                     \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.x \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.y \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m]\u001b[13;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables):\r\n\t                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab %= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables)\u001b[K\r\n\t                \u001b[33mu\u001b[39;49m = tabbables[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab]\u001b[K\r\n\t                \u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = u.x,u.y\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor != (cx,cy)):\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = cx,cy\r\n\t            \u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\u001b[21;13H\u001b[8@\u001b[21;30H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[22;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\u001b[K\u001b[23;29H\u001b[7m41% L97\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m100\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m10\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[19;68H\u001b[1;22r\u001b[20;1H\u001b[1L\u001b[1;24r\u001b[20;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   41% L115\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[20;21H\r\t\t\u001b[22;21H\u001b[?25l\u001b[33mresult\u001b[39;49m\u001b[20;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\t\t\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\b\u001b[?25li\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\t\t\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\t\u001b[?25l\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\b\b\b\u001b[?25lresult\u001b[20;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\u001b[C\b\r\t\t\u001b[?25lwhil\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\r\u001b[K\t\t\u001b[22;21H\u001b[?25l\u001b[33mresult\u001b[39;49m\u001b[20;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[C\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\b\b\b\b\u001b[?25l\u001b[33msx\u001b[39;49m,\u001b[33msy\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\u001b[?25lAuto-saving...\u001b[20;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[20;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\u001b[K\u001b[20;35H\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\u001b[K\n\t\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\u001b[23;36H\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[21;21H\r\n\n\n\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[21;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[21;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\u001b[K\u001b[21;21H\u001b[?25ls\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\r\u001b[K\u001b[21;21H\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25l\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l-\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l<\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l)\u001b[21;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\b\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l+\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\b\u001b[K\u001b[C\u001b[?25l-\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25l\u001b[33msx\u001b[39;49m -=\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l5\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\t\b\u001b[?25l1\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\u001b[K\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[22;21H\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25l\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l-\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l<\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l)\u001b[22;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\b\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l-\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25l\u001b[33msy\u001b[39;49m -=\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l1\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\t\b\u001b[?25l5\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables):\u001b[3;13H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab %= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables)\u001b[K\r\n\t\t        \u001b[33mu\u001b[39;49m = tabbables[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab]\r\n\t\t        \u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = u.x,u.y\u001b[6;20H(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor != (cx,cy)):\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = cx,cy\r\n\t\t    \u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[9;21H\u001b[33msx\u001b[39;49m,\u001b[33msy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll\u001b[10;21H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cx-sx < 0 ): \u001b[33msx\u001b[39;49m -= 10\u001b[K\u001b[11;21H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cy-sy < 0 ): \u001b[33msy\u001b[39;49m -= 5\u001b[K\r\n\u001b[K\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\u001b[14;21H\u001b[33mresult\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[15;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.move_to(cx,cy)\u001b[17;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c:\u001b[K\n\bval = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\u001b[K\u001b[20;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m val:\u001b[K\u001b[21;21H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(val)\u001b[K\u001b[22;21H    result = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(val, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[23;30H\u001b[7m6% L118\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;21H\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25l\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[14;21H\u001b[?25lresult\u001b[12;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lAuto-saving...\u001b[12;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[12;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[12;29H\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l-\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l>\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l)\u001b[12;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;43H\u001b[K\u001b[C\b\u001b[?25l)\u001b[12;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;44H\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[14;21H\u001b[?25l\u001b[33mresult\u001b[39;49m\u001b[12;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l+\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25l\u001b[33msx\u001b[39;49m +=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l1\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[14;1H\u001b[1L\u001b[1;24r\u001b[13;1H\u001b[K\n\u001b[?25l                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\u001b[23;36H\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[13;21H\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25l\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[15;21H\u001b[?25lresult\u001b[13;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l-\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\b\u001b[K\b\u001b[K\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l-\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l>\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\u001b[13;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[13;44H\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l+\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25l\u001b[33msy\u001b[39;49m +=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l1\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\b\u001b[K\u001b[C\u001b[?25l5\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[15;21H\u001b[?25l\u001b[33mresult\u001b[39;49m\u001b[13;53H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[15;1H\u001b[1L\u001b[1;24r\u001b[14;1H\u001b[K\n\u001b[?25l                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\u001b[23;35H\u001b[7m20\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;30H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[16;21H\u001b[?25lresult\u001b[14d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\r\t\t\t\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\b\u001b[?25l!\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[16;21H\u001b[?25l\u001b[33mresult\u001b[39;49m\u001b[14;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[16;1H\u001b[1L\u001b[1;24r\u001b[15;1H\u001b[K\n\u001b[?25l                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\u001b[23;36H\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\t\u001b[?25l\u001b[1@(\b\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\b\b\b\b\u001b[?25lresult\u001b[14;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\b\b\u001b[?25l_:\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l):\r\t\t\t\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\t\b\u001b[?25l:\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l:\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l):\r\t\t\t\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[17;21H\u001b[?25l\u001b[33mresult\u001b[39;49m\u001b[15;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[17;1H\u001b[1L\u001b[1;24r\u001b[16;1H\u001b[K\n\u001b[?25l                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\u001b[23;36H\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l*\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[16;56H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[16;56H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;56H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[31m\u001b[40m|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[31m\u001b[40m|Ramen, move out!|\u001b(B\u001b[0;1m\u001b[34m\u001b[40m$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m........\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[3;18H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[C\u001b[24d\b\u001b[5S\u001b[9;15H\u001b[H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[2d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[2d\b\u001b(B\u001b[0m\u001b[34m\u001b[40m~\u001b[H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[9;15H\r\u001b[24d\u001b[5S\u001b[4;15H\u001b[H\u001b[J\u001b[8;61H\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 95, in run\r\n    gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 88, in refresh\r\n    if gfx: return gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 105, in refresh\r\n    curses.napms(20)\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n                    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables):\u001b[K\r\n                        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab %= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables)\u001b[K\r\n                        \u001b[33mu\u001b[39;49m = tabbables[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab]\u001b[K\r\n                        \u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = u.x,u.y\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor != (cx,cy)):\u001b[K\r\n                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = cx,cy\u001b[K\r\n                    \u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\r\n                    \u001b[33msx\u001b[39;49m,\u001b[33msy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll\u001b[K\r\n                    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cx-sx < 0 ): \u001b[33msx\u001b[39;49m -= 10\u001b[K\r\n                    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cy-sy < 0 ): \u001b[33msy\u001b[39;49m -= 5\u001b[K\r\n                    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cx-sx > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w): \u001b[33msx\u001b[39;49m += 10\u001b[K\r\n                    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cy-sy > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h): \u001b[33msy\u001b[39;49m += 5\u001b[K\r\n                    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m ((sx,sy) != \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll):\u001b[K\r\n                        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll = sx,sy\u001b[K\r\n                        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.move_to(sx,sy)\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\r\n                    \u001b[33mresult\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\r\n                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.move_to(cx,cy)\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c:\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   45% L122  Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[16;56H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;44H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;49H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m19\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;53H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;54H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m20\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\b\u001b[?25l-sx,sy)\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;51H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[C\u001b[?25l-sy)\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[16;55H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[16;55H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;55H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[31m\u001b[40m|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[31m\u001b[40m|Ramen, move out!|\u001b(B\u001b[0;1m\u001b[34m\u001b[40m$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m........\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[3;18H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[C\b\u001b[5T\u001b[6;2H\u001b[19;15H\r\u001b[6d\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m+\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[31m\u001b[40m+\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7d\b\u001b[31m\u001b[40m|\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[8d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[8d\b\u001b[31m\u001b[40m|\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[9d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m+\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[9d\b\u001b[31m\u001b[40m+\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6d\b\u001b[32m\u001b[40m..................\r\u001b[7d............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\r\u001b[8d...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###\r\u001b[9d\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.............\r\u001b[10d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[11d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[11d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[10d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[9d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[8d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[7d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[19;15H\u001b[6;3H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[7d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\r\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;10H\u001b[1K \u001b[6;25H\u001b[32m\u001b[40m..........\u001b[34m\u001b[40m~~~~~~\u001b[7;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m...\u001b[7;23H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\u001b[34m\u001b[40m~~~~~~\u001b[8;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\u001b[9;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[9;27H\u001b[32m\u001b[40m..........\u001b[34m\u001b[40m~~~~\u001b[10;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[26G\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\u001b[11;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b[12;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\u001b[13;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[34m\u001b[40m~~\u001b[32m\u001b[40m....\u001b[13;26H\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\u001b[14;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[34m\u001b[40m~~\u001b[32m\u001b[40m....\u001b[14;26H\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\u001b[15;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[34m\u001b[40m~\u001b[32m\u001b[40m.....\u001b[15;25H.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\u001b[16;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m......\u001b[16;26H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\u001b[17;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[17G\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[17;31H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\u001b[18;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[18G\u001b[32m\u001b[40m.\u001b[18;28H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\u001b[19;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\u001b[20;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[20;31H\u001b[32m\u001b[40m..........\u001b[19;25H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7;11H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[7d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[19;25H\u001b[6;12H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[7d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[8d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[9d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[10d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[11d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[12d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[13d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b[14d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b[15d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[16d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[17d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[18d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[19d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[20d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[21d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[K\u001b[22;12H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[K\u001b[23;12H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[K\u001b[24;12H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[J\u001b[23;12H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[J\u001b[22;12H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[J\u001b[21;12H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[J\u001b[20;12H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[20d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m!\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m$\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;1m\u001b[31m\u001b[40m$\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m$\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b  \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b   \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\b    \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\b\b     \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[41G      \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[41G\u001b[47G \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[41G\u001b[48G \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[19;41H\u001b[19;49H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[19;41H\u001b[19;50H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[19;41H\u001b[19;51H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[19;41H\u001b[19;52H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[19;41H\u001b[19;53H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[19;41H\u001b[19;54H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[19;41H\u001b[19;55H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[19;41H\u001b[19;56H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[19;41H\u001b[19;57H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[19;41H\u001b[19;58H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[19;41H\u001b[19;59H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[19;41H\u001b[19;60H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[6d\u001b[10P\u001b[7d\u001b[10P\u001b[8d\u001b[10P\u001b[9d\u001b[10P\u001b[10d\u001b[10P\u001b[11d\u001b[10P\u001b[12d\u001b[10P\u001b[13d\u001b[10P\u001b[14d\u001b[10P\u001b[15d\u001b[10P\u001b[16d\u001b[10P\u001b[17d\u001b[10P\u001b[18d\u001b[10P\u001b[19d\u001b[32m\u001b[40m......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m \u001b[9P\r\u001b[20d\u001b[10P\u001b[19;52H\u001b[19;31H\u001b[19;52H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[19;31H\u001b[19;53H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[19;31H\u001b[19;54H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[19;31H\u001b[19;55H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[19;31H\u001b[19;56H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[19;31H\u001b[19;57H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\b\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m!\u001b(B\u001b[0;1m\u001b[31m\u001b[40m$\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\r\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;10H\u001b[1K \u001b[6;25H\u001b[32m\u001b[40m..........\u001b[34m\u001b[40m~~~~~~\u001b[7;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m...\u001b[7;23H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\u001b[34m\u001b[40m~~~~~~\u001b[8;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\u001b[9;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[9;27H\u001b[32m\u001b[40m..........\u001b[34m\u001b[40m~~~~\u001b[10;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[26G\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\u001b[11;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b[12;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\u001b[13;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[34m\u001b[40m~~\u001b[32m\u001b[40m....\u001b[13;26H\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\u001b[14;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[34m\u001b[40m~~\u001b[32m\u001b[40m....\u001b[14;26H\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\u001b[15;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[34m\u001b[40m~\u001b[32m\u001b[40m.....\u001b[15;25H.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\u001b[16;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m......\u001b[16;26H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\u001b[17;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[17G\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[17;31H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\u001b[18;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[18G\u001b[32m\u001b[40m.\u001b[18;28H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\u001b[19;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\u001b[20;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[20;31H\u001b[32m\u001b[40m..........\u001b[19;25H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;20H\u001b[1K \u001b[6;35H\u001b[32m\u001b[40m..........\u001b[34m\u001b[40m~~~~~~\u001b[7;20H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m...\u001b[7;33H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\u001b[34m\u001b[40m~~~~~~\u001b[8;20H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\u001b[9;20H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[9;37H\u001b[32m\u001b[40m..........\u001b[34m\u001b[40m~~~~\u001b[10;20H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[36G\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\u001b[11;20H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b[12;20H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\u001b[13;20H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[34m\u001b[40m~~\u001b[32m\u001b[40m....\u001b[13;36H\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\u001b[14;20H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[34m\u001b[40m~~\u001b[32m\u001b[40m....\u001b[14;36H\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\u001b[15;20H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[34m\u001b[40m~\u001b[32m\u001b[40m.....\u001b[15;35H.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\u001b[16;20H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m......\u001b[16;36H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\u001b[17;20H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[27G\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[17;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\u001b[18;20H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[28G\u001b[32m\u001b[40m.\u001b[18;38H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\u001b[19;20H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\u001b[20;20H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[20;41H\u001b[32m\u001b[40m..........\u001b[19;35H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[19;21H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m!\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!\u001b[20d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[21d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[K\u001b[22;27H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[K\u001b[23;27H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[K\u001b[24;27H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[5S\u001b[19d\u001b[K\u001b[20;27H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[J\u001b[19;27H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[J\u001b[18;27H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[J\u001b[17;27H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[J\u001b[16;27H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[J\u001b[15;27H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[15d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[14d\b\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[13d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[12d\b\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[11d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[10d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[9d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[8d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[7d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[6d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[5d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[4d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[3d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[2d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[5T\u001b[6;27H\u001b[32m\u001b[40m.\u001b[19;35H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;27H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[7d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[8d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 95, in run\r\n    gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 88, in refresh\r\n    if gfx: return gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 105, in refresh\r\n    curses.napms(20)\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n                    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables):\u001b[K\r\n                        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab %= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables)\u001b[K\r\n                        \u001b[33mu\u001b[39;49m = tabbables[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab]\u001b[K\r\n                        \u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = u.x,u.y\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor != (cx,cy)):\u001b[K\r\n                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = cx,cy\u001b[K\r\n                    \u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\r\n                    \u001b[33msx\u001b[39;49m,\u001b[33msy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll\u001b[K\r\n                    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cx-sx < 0 ): \u001b[33msx\u001b[39;49m -= 10\u001b[K\r\n                    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cy-sy < 0 ): \u001b[33msy\u001b[39;49m -= 5\u001b[K\r\n                    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cx-sx > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w): \u001b[33msx\u001b[39;49m += 10\u001b[K\r\n                    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cy-sy > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h): \u001b[33msy\u001b[39;49m += 5\u001b[K\r\n                    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m ((sx,sy) != \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll):\u001b[K\r\n                        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll = sx,sy\u001b[K\r\n                        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.move_to(-sx,-sy)\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\r\n                    \u001b[33mresult\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\r\n                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.move_to(cx,cy)\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c:\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   45% L122  Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[16;55H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[31m\u001b[40m|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[31m\u001b[40m|Ramen, move out!|\u001b(B\u001b[0;1m\u001b[34m\u001b[40m$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m........\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[3;18H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[C\b\u001b[5T\u001b[6;2H\u001b[19;15H\u001b[H\u001b[5T\u001b[14;19H\u001b[H\u001b[5T\u001b[19;19H\r\u001b[16d\u001b[32m\u001b[40m..................\r\u001b[17d............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\r\u001b[18d...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###\r\u001b[19d\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[16d\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[17d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[18d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[19d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[20d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[21d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[22d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b[23d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b[24d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5S\u001b[19d\u001b[34m\u001b[40m~\u001b[20d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\u001b(B\u001b[0m\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[21d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[22d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[23d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[24d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[20d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b[21d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[22d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[23d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[24d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5S\u001b[19d\u001b[32m\u001b[40m.\u001b[20d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.............................\r\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[21d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[22d\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[23d\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[24d\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5S\u001b[19d\u001b[K\u001b[20d\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[21d\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[22d\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[J\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[J\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\n\n\n\n\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 95, in run\r\n    gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 88, in refresh\r\n    if gfx: return gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 105, in refresh\r\n    curses.napms(20)\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n                    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables):\u001b[K\r\n                        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab %= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables)\u001b[K\r\n                        \u001b[33mu\u001b[39;49m = tabbables[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab]\u001b[K\r\n                        \u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = u.x,u.y\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor != (cx,cy)):\u001b[K\r\n                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = cx,cy\u001b[K\r\n                    \u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\r\n                    \u001b[33msx\u001b[39;49m,\u001b[33msy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll\u001b[K\r\n                    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cx-sx < 0 ): \u001b[33msx\u001b[39;49m -= 10\u001b[K\r\n                    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cy-sy < 0 ): \u001b[33msy\u001b[39;49m -= 5\u001b[K\r\n                    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cx-sx > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w): \u001b[33msx\u001b[39;49m += 10\u001b[K\r\n                    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cy-sy > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h): \u001b[33msy\u001b[39;49m += 5\u001b[K\r\n                    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m ((sx,sy) != \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll):\u001b[K\r\n                        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll = sx,sy\u001b[K\r\n                        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.move_to(-sx,-sy)\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\r\n                    \u001b[33mresult\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\r\n                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.move_to(cx,cy)\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c:\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   45% L122  Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[16;55H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\u001b[K\n\t\u001b[?25l\u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\r\n\t\u001b[31m# If control does not belong to the human, then the control simply      \u001b[39;49m\r\n\t\u001b[31m# allows the player to move the map around.                             \u001b[39;49m\r\n\t\u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[K\r\n\t\u001b[33mresult\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[33minfo\u001b[39;49m = {}\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().control == \u001b[32m\"human\"\u001b[39;49m:\u001b[10;13Hresult = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[11;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"left\"\u001b[39;49m: cx -=1\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"right\"\u001b[39;49m: cx +=1\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: cy -= 1\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: cy += 1\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"\\t\"\u001b[39;49m:\u001b[K\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab += 1\u001b[18;21Htabbables = [u \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.ready\u001b[K\u001b[19;21H             \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\r\n\t\t                 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.x \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.y \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m]\u001b[21;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables):\u001b[K\r\n\t\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab %= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables)\u001b[23;29H\u001b[7m36% L109\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed = 0.05\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\u001b[7;5H\u001b[31m# This exports our data as a dictionary to be JSONified. If history is      \u001b[39;49m\r\n\u001b[8;5H\u001b[31m# included, it's like saving a snapshot of the game to be continued later.  \u001b[39;49m\r\n\u001b[9;5H\u001b[31m# If griddata is included, it's like using the current snapshot as a new    \u001b[39;49m\r\n\u001b[10;5H\u001b[31m# map.                                                                      \u001b[39;49m\r\n\u001b[11;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, history=\u001b[35mTrue\u001b[39;49m, griddata=\u001b[35mFalse\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\r\n\u001b[K\u001b[14;5H\u001b[31m# This function takes the character that was most recently entered by the   \u001b[39;49m\r\n\u001b[15;5H\u001b[31m# player and handles it. Even if no player is playing, this function        \u001b[39;49m\r\n\u001b[16;5H\u001b[31m# essentially serves as the step function for the AI.                       \u001b[39;49m\r\n\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\u001b[K\u001b[19;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications.append(n)\u001b[K\u001b[20;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(n.sprite)\u001b[K\r\n\u001b[K\n\t\u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\u001b[23;29H\u001b[7m28% L90 \u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[31m# Create the canvases that contain all of the sprites.                  \u001b[39;49m\r\n\u001b[3;14Hcanvas = sprites.Sprite(0,0,80,24)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas = sprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.fill(\u001b[32m' '\u001b[39;49m)\u001b[7;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.fill(\u001b[32m' '\u001b[39;49m)\u001b[K\u001b[8;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[K\u001b[9;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite = sprites.Sprite(0,0,1,1,100)\u001b[K\u001b[10;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite)\u001b[K\u001b[11;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight = sprites.Sprite(0,0,1,1)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.putc(\u001b[35mNone\u001b[39;49m,0,0,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\r\n\u001b[K\u001b[15;5H    \u001b[31m# These are other elements, such as the menu, cursor,                   \u001b[39;49m\r\n\u001b[16;54H\u001b[4P\u001b[16;5H\u001b[4@\u001b[16;11H\u001b[31manimation timer, etc.                          \u001b[39;49m\u001b[17;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0,0\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll = 0,0\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed = 0.05\u001b[K\u001b[23;30H\u001b[7m0% L71\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications = []\u001b[K\u001b[3;14Hspeed = 0.05\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\u001b[7;5H\u001b[31m# This exports our data as a dictionary to be JSONified. If history is      \u001b[39;49m\r\n\u001b[8;5H\u001b[31m# included, it's like saving a snapshot of the game to be continued later.  \u001b[39;49m\r\n\u001b[9;5H\u001b[31m# If griddata is included, it's like using the current snapshot as a new    \u001b[39;49m\r\n\u001b[10;5H\u001b[31m# map.                                                                      \u001b[39;49m\r\n\u001b[11;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, history=\u001b[35mTrue\u001b[39;49m, griddata=\u001b[35mFalse\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\r\n\u001b[K\u001b[14;5H\u001b[31m# This function takes the character that was most recently entered by the   \u001b[39;49m\r\n\u001b[15;5H\u001b[31m# player and handles it. Even if no player is playing, this function        \u001b[39;49m\r\n\u001b[16;5H\u001b[4P\t\b\b\u001b[31messentially serves as the step function for the\u001b[39;49m\u001b[4@\u001b[31m AI.\u001b[39;49m\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications.append(n)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(n.sprite)\r\n\u001b[K\n\t\u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\u001b[23;30H\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[A\u001b[K\n\t\u001b[?25l\u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\r\n\t\u001b[31m# If control does not belong to the human, then the control simply      \u001b[39;49m\r\n\t\u001b[31m# allows the player to move the map around.                             \u001b[39;49m\r\n\t\u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[7;5H    \u001b[33mresult\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[8;5H    \u001b[33minfo\u001b[39;49m = {}\u001b[K\u001b[9;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().control == \u001b[32m\"human\"\u001b[39;49m:\u001b[K\u001b[10;5H        result = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[11;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"left\"\u001b[39;49m: cx -=1\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"right\"\u001b[39;49m: cx +=1\u001b[14;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: cy -= 1\u001b[K\u001b[15;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: cy += 1\u001b[K\u001b[16;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"\\t\"\u001b[39;49m:\u001b[K\u001b[17;5H                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab += 1\r\n\t            tabbables = [u \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.ready\u001b[19;13H                     \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[20;13H                     \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.x \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.y \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m]\u001b[21;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables):\r\n\t                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab %= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables)\u001b[K\u001b[23;29H\u001b[7m36% L89\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;21H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables):\r\n\t                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab %= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables)\u001b[K\r\n\t                \u001b[33mu\u001b[39;49m = tabbables[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab]\u001b[K\r\n\t                \u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = u.x,u.y\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor != (cx,cy)):\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = cx,cy\r\n\t            \u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t            \u001b[33msx\u001b[39;49m,\u001b[33msy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll\u001b[K\u001b[10;13H        \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cx-sx < 0 ): \u001b[33msx\u001b[39;49m -= 10\u001b[11;13H        \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cy-sy < 0 ): \u001b[33msy\u001b[39;49m -= 5\u001b[K\r\n\t\t    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cx-sx > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w): \u001b[33msx\u001b[39;49m += 10\r\n\t\t    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cy-sy > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h): \u001b[33msy\u001b[39;49m += 5\r\n\t\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m ((sx,sy) != \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll):\r\n\t\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll = sx,sy\r\n\t\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.move_to(-sx,-sy)\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\u001b[18;21H\u001b[33mresult\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[19;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.move_to(cx,cy)\u001b[K\u001b[21;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c:\u001b[K\u001b[23;29H\u001b[7m45% L108\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c:\u001b[K\n\bval = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\u001b[5;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m val:\u001b[K\r\n\t\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(val)\u001b[7;21H    result = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(val, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[8;21H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[9;21H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b\b    \u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.info(), \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\u001b[K\n\u001b[K\n\t\u001b[31m# If we got a result from performing an action, we will be given        \u001b[39;49m\r\n\t\u001b[31m# either an order or a new action to perform. The orders tell us that   \u001b[39;49m\r\n\t\u001b[31m# the action was complete and that we either need to commit it or       \u001b[39;49m\r\n\t\u001b[31m# undo our mess.                                                        \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result:\u001b[K\n\b\b\b\b\b\b\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result == rules.ACT_COMMIT:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.append((copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint),\r\n\t\t                     \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs))\u001b[21;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[23;29H\u001b[7m55% L127\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[4;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_TRASH:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite.kill()\r\n\t\t\u001b[8P\u001b[6;28H = []\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info()\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[K\u001b[11;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_UNDO:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite.kill()\r\n\t        \u001b[33mcp\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history) > 0:\u001b[K\r\n\t            \u001b[33mcp\u001b[39;49m, \u001b[33macts\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.pop()\u001b[K\r\n\t        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t            \u001b[33mcp\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint\u001b[18;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = copy.deepcopy(cp)\u001b[19;22Hcheckpoint = copy.deepcopy(cp)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[21;22Hgrid.info()\u001b[K\n\n\b\b\b\b\u001b[7m63% L146\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;22H\u001b[?25lgrid.info()\u001b[K\u001b[4;38HRESTART:\u001b[5;22Hhistory = []\u001b[K\u001b[7;26H.sprite.kill()\u001b[K\u001b[8;26H = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[K\u001b[9;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[10;22Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[11;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[12;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_END:\r\n\t\thistory = []\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m].append(history)\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (cp,acts) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history:\u001b[K\r\n\t\t    history.append(acts)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[K\u001b[18;26H.end_turn()\u001b[K\u001b[19;22Hstartover = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[20;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\u001b[21;22Haction = rules.Begin()\u001b[22;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[23;29H\u001b[7m72% L165\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;22H\u001b[?25laction = rules.Begin()\u001b[3;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b\b    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = result\u001b[K\r\n\u001b[K\u001b[6;13H\u001b[31m# Set up various UI candy.                                          \u001b[39;49m\r\n\u001b[7;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\u001b[8;22Hhighlight.kill()\u001b[K\u001b[9;22Hhighlight = sprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h,50)\r\n\t\tc = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices:\u001b[12;13H        \u001b[33mt1\u001b[39;49m,\u001b[33mu1\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(x,y)\r\n\t\t    \u001b[33mt2\u001b[39;49m,\u001b[33mu2\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(cx,cy)\r\n\t\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u1: \u001b[33mc\u001b[39;49m = u1.team.color\u001b[K\r\n\t\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m t1 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t1.team: \u001b[33mc\u001b[39;49m = t1.team.color\u001b[16;21H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u2: \u001b[33mc\u001b[39;49m = u2.team.color\r\n\t\t    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m: \u001b[33mc\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().color\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.putc(\u001b[35mNone\u001b[39;49m,x,y,c,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[19;22Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight)\u001b[20;22Hanimation = 0.0\u001b[K\u001b[21;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[22;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = widgets.Menu(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices)\u001b[23;29H\u001b[7m81% L184\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[3;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = widgets.Menu(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices)\u001b[4;22Hmenu.sprite.move_to(cx+1,cy)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.sprite)\r\n\u001b[K\u001b[7;5H\u001b[31m# The session has multiple sprites that need to be rendered, from the       \u001b[39;49m\r\n\u001b[8;5H\u001b[31m# view of the grid to the mutliple popups that need to appear.              \u001b[39;49m\r\n\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrender\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation >= 1.0:\u001b[K\u001b[12;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[K\u001b[13;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[K\u001b[15;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.show()\u001b[K\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units:\u001b[K\u001b[18;21Hu.cycle_anim()\u001b[K\r\n\t\u001b[33mnotifications\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m notifications:\u001b[K\u001b[22;13Hn.update()\u001b[K\u001b[23;29H\u001b[7m90% L203\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m notifications:\u001b[K\u001b[3;13Hn.update()\u001b[K\u001b[4;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m n.alive:\u001b[K\n\b\bnotifications.append(n)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.render(0,0)\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L222\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[3;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = widgets.Menu(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices)\u001b[4;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.sprite.move_to(cx+1,cy)\u001b[5;22Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.sprite)\r\n\u001b[K\u001b[7;5H\u001b[31m# The session has multiple sprites that need to be rendered, from the       \u001b[39;49m\r\n\u001b[8;5H\u001b[31m# view of the grid to the mutliple popups that need to appear.              \u001b[39;49m\r\n\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrender\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation >= 1.0:\u001b[12;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[13;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[15;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.show()\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units:\u001b[18;21Hu.cycle_anim()\r\n\t\u001b[33mnotifications\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications = []\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m notifications:\u001b[22;13Hn.update()\u001b[23;29H\u001b[7m90%\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[K\u001b[3;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[4;22Haction = result\u001b[K\r\n\u001b[K\u001b[6;13H\u001b[31m# Set up various UI candy.                                          \u001b[39;49m\r\n\u001b[7;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\u001b[K\u001b[8;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.kill()\u001b[K\u001b[9;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight = sprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h,50)\r\n\t        c = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices:\u001b[12;13H        \u001b[33mt1\u001b[39;49m,\u001b[33mu1\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(x,y)\u001b[13;13H        \u001b[33mt2\u001b[39;49m,\u001b[33mu2\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(cx,cy)\u001b[K\r\n\t\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u1: \u001b[33mc\u001b[39;49m = u1.team.color\u001b[15;13H        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m t1 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t1.team: \u001b[33mc\u001b[39;49m = t1.team.color\u001b[K\r\n\t\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u2: \u001b[33mc\u001b[39;49m = u2.team.color\r\n\t\t    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m: \u001b[33mc\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().color\u001b[18;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.putc(\u001b[35mNone\u001b[39;49m,x,y,c,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight)\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[22;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = widgets.Menu(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices)\u001b[23;29H\u001b[7m81% L204\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;22H\u001b[?25lgrid.info()\u001b[K\u001b[3;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[4;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_RESTART:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[6;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs = []\u001b[K\u001b[7;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite.kill()\u001b[K\u001b[8;22Hgrid = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[9;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[K\u001b[12;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_END:\u001b[K\r\n\t\thistory = []\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m].append(history)\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (cp,acts) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history:\u001b[K\u001b[16;21Hhistory.append(acts)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.end_turn()\u001b[K\u001b[19;22Hstartover = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\u001b[20;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[21;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[K\u001b[22;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[23;29H\u001b[7m72% L185\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;22H\u001b[?25lcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[4;38HTRASH:\u001b[K\u001b[5;22Hgrid.sprite.kill()\u001b[7;26H = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint)\u001b[8;26H_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[9;22Hgrid.info()\u001b[K\u001b[10;22Haction = rules.Begin()\u001b[K\u001b[11;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_UNDO:\u001b[K\u001b[12;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite.kill()\u001b[K\r\n\t\t\u001b[33mcp\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history) > 0:\u001b[K\r\n\t\t    \u001b[33mcp\u001b[39;49m, \u001b[33macts\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.pop()\r\n\t\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t\t    \u001b[33mcp\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint\u001b[18;26H = copy.deepcopy(cp)\u001b[19;22Hcheckpoint = copy.deepcopy(cp)\u001b[K\u001b[20;22Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[21;22Hgrid.info()\u001b[K\u001b[22;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[23;29H\u001b[7m63% L166\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c:\u001b[K\u001b[4;13H        val = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\r\n\t\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m val:\u001b[K\r\n\t\t\u001b[8@\u001b[6;36H.append(val)\r\n\t\t        result = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(val, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\t    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t\t        \u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.info(), \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\u001b[K\n\u001b[K\n\t\u001b[31m# If we got a result from performing an action, we will be given        \u001b[39;49m\r\n\t\u001b[31m# either an order or a new action to perform. The orders tell us that   \u001b[39;49m\r\n\t\u001b[31m# the action was complete and that we either need to commit it or       \u001b[39;49m\r\n\t\u001b[31m# undo our mess.                                                        \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result:\u001b[K\n\b\b\b\b\b\b\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result == rules.ACT_COMMIT:\u001b[K\u001b[19;22Hhistory.append((copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint),\r\n\t\t                     \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs))\u001b[K\u001b[21;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[23;29H\u001b[7m55% L147\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables):\u001b[K\r\n\t\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab %= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables)\u001b[4;21H    \u001b[33mu\u001b[39;49m = tabbables[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab]\u001b[K\u001b[5;21H    \u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = u.x,u.y\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor != (cx,cy)):\u001b[K\u001b[7;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = cx,cy\u001b[K\u001b[8;21H\u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[9;21H\u001b[33msx\u001b[39;49m,\u001b[33msy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll\u001b[10;21H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cx-sx < 0 ): \u001b[33msx\u001b[39;49m -= 10\u001b[K\u001b[11;21H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cy-sy < 0 ): \u001b[33msy\u001b[39;49m -= 5\u001b[12;21H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cx-sx > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w): \u001b[33msx\u001b[39;49m += 10\r\n\t            \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cy-sy > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h): \u001b[33msy\u001b[39;49m += 5\u001b[K\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m ((sx,sy) != \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll):\u001b[K\r\n\t                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll = sx,sy\u001b[K\r\n\t                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.move_to(-sx,-sy)\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[18;13H        \u001b[33mresult\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.move_to(cx,cy)\u001b[K\u001b[21;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c:\u001b[K\u001b[23;29H\u001b[7m45% L128\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\n\t\u001b[?25l\u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\r\n\t\u001b[31m# If control does not belong to the human, then the control simply      \u001b[39;49m\r\n\t\u001b[31m# allows the player to move the map around.                             \u001b[39;49m\r\n\t\u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[K\r\n\t\u001b[33mresult\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[33minfo\u001b[39;49m = {}\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().control == \u001b[32m\"human\"\u001b[39;49m:\u001b[10;13Hresult = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[11;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"left\"\u001b[39;49m: cx -=1\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"right\"\u001b[39;49m: cx +=1\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: cy -= 1\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: cy += 1\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"\\t\"\u001b[39;49m:\u001b[K\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab += 1\u001b[18;21Htabbables = [u \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.ready\u001b[K\u001b[19;21H             \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\r\n\t\t                 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.x \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.y \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m]\u001b[21;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables):\u001b[K\r\n\t\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab %= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables)\u001b[23;29H\u001b[7m36% L109\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed = 0.05\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\u001b[7;5H\u001b[31m# This exports our data as a dictionary to be JSONified. If history is      \u001b[39;49m\r\n\u001b[8;5H\u001b[31m# included, it's like saving a snapshot of the game to be continued later.  \u001b[39;49m\r\n\u001b[9;5H\u001b[31m# If griddata is included, it's like using the current snapshot as a new    \u001b[39;49m\r\n\u001b[10;5H\u001b[31m# map.                                                                      \u001b[39;49m\r\n\u001b[11;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, history=\u001b[35mTrue\u001b[39;49m, griddata=\u001b[35mFalse\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\r\n\u001b[K\u001b[14;5H\u001b[31m# This function takes the character that was most recently entered by the   \u001b[39;49m\r\n\u001b[15;5H\u001b[31m# player and handles it. Even if no player is playing, this function        \u001b[39;49m\r\n\u001b[16;5H\u001b[31m# essentially serves as the step function for the AI.                       \u001b[39;49m\r\n\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\u001b[K\u001b[19;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications.append(n)\u001b[K\u001b[20;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(n.sprite)\u001b[K\r\n\u001b[K\n\t\u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\u001b[23;29H\u001b[7m28% L90 \u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[31m# Create the canvases that contain all of the sprites.                  \u001b[39;49m\r\n\u001b[3;14Hcanvas = sprites.Sprite(0,0,80,24)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas = sprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.fill(\u001b[32m' '\u001b[39;49m)\u001b[7;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.fill(\u001b[32m' '\u001b[39;49m)\u001b[K\u001b[8;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[K\u001b[9;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite = sprites.Sprite(0,0,1,1,100)\u001b[K\u001b[10;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite)\u001b[K\u001b[11;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight = sprites.Sprite(0,0,1,1)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.putc(\u001b[35mNone\u001b[39;49m,0,0,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\r\n\u001b[K\u001b[15;5H    \u001b[31m# These are other elements, such as the menu, cursor,                   \u001b[39;49m\r\n\u001b[16;54H\u001b[4P\u001b[16;5H\u001b[4@\u001b[16;11H\u001b[31manimation timer, etc.                          \u001b[39;49m\u001b[17;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0,0\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll = 0,0\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed = 0.05\u001b[K\u001b[23;30H\u001b[7m0% L71\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m69\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m59\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[3;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[4;1H\u001b[1L\u001b[1;24r\u001b[4;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   20% L53\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l`\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\u001b[K\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\b\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[24;1H\u001b[?25lAuto-saving...\u001b[5;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[5;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[5;27H\u001b[K\u001b[C\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\b\u001b[24;1H\u001b[?25lMark set\u001b[4;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lsprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h)\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lMark set\u001b[5;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lsprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h)\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[5;60H\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[?25lsel\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@g\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@r\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@d\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@i\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[5;61H\b\b\b\b\b\b\b\u001b[?25lsel.h)\u001b[K\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l.h)\u001b[K\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l.h)\u001b[K\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l.h)\u001b[K\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg.h)\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr.h)\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li.h)\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld.h)\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[5;58H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[5;58H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;58H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;49H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l)\u001b[K\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[1;22r\u001b[8;1H\u001b[1L\u001b[1;24r\u001b[7;1H\u001b[K\n\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.fill(\u001b[32m' '\u001b[39;49m)\u001b[K\u001b[23;35H\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\u001b[7;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[7;57H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[7;57H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;57H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[7;57H\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[7;57H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\nTraceback (most recent call last):\r\n  File \"./rules-of-war.py\", line 8, in <module>\r\n    S = shell.Shell(*sys.argv)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 31, in __init__\r\n    self.game = session.Session(json.loads(storage.read_data(\"maps\",\"Intro.json\")))\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/session.py\", line 54, in __init__\r\n    self.grid_canvas = sprites.Sprite(0,0,grid.w,grid.h)\r\nAttributeError: 'module' object has no attribute 'w'\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n        \u001b[31m# Create the canvases that contain all of the sprites.                  \u001b[39;49m\r\n\u001b[A\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas = sprites.Sprite(0,0,80,24)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_container = sprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas = sprites.Sprite(0,0,grid.w,grid.h)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_container)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_container.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.fill(\u001b[32m' '\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.fill(\u001b[32m' '\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite = sprites.Sprite(0,0,1,1,100)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight = sprites.Sprite(0,0,1,1)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.putc(\u001b[35mNone\u001b[39;49m,0,0,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[K\r\n\u001b[K\n        \u001b[31m# These are other elements, such as the menu, cursor,                   \u001b[39;49m\r\n\u001b[A\n        \u001b[31m# animation timer, etc.                                                 \u001b[39;49m\r\n\u001b[A\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0,0\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll = 0,0\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   20% L56   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[7;57H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default grid.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrules.py\u001b[K\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\t            \u001b[33mu\u001b[39;49m = tile.unit\u001b[K\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair):\r\n\t                \u001b[33mu.fuel\u001b[39;49m = u.max_fuel\u001b[K\r\n\t                \u001b[33mu.ammo\u001b[39;49m = u.max_ammo\u001b[K\r\n\u001b[K\n\t            \u001b[31m# Repairing a unit forfeits that tile's income.             \u001b[39;49m\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.hp < 100\r\n\t                  \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair):\r\n\t                \u001b[33mu.hp\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(100,u.hp+tile.repair[u.unit])\r\n\t            \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t                \u001b[33mcur.cash\u001b[39;49m += tile.income\u001b[K\r\n\u001b[K\n\t\u001b[31m# Determine the winning team (if one exists).                           \u001b[39;49m\r\n\t\u001b[33mwinner\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m at \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]:\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m ot \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]:\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m at.is_allied(ot):\u001b[K\r\n\t            \u001b[33mwinner\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m winner:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.winners = [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]\r\n\u001b[K\u001b[23;14H\u001b[7m\u001b[1mgrid.py     \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   60% L203\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[A\t\u001b[?25l\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[33mflag\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[4;13H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m flag \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn].active:\r\n\t\t\u001b[33mflag\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn += 1\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams):\u001b[K\u001b[8;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = 0\u001b[K\u001b[9;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day += 1\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units:\u001b[K\u001b[11;13H\u001b[33mu.ready\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[12;13Hu.sprite.colorize(u.team.color,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mFalse\u001b[39;49m)\u001b[14;11H\u001b[31mRepair units and draw income.              \u001b[39;49m\r\n\t\u001b[33mcur\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.current_team()\r\n\t\u001b[33mmsg\u001b[39;49m = \u001b[32m\"Day %d - %s\\n%s, move out!\"\u001b[39;49m%(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name, cur.name)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append(widgets.Notification(0,0,msg,100,cur.color))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cur:\u001b[K\n\b\b\b\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tile \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.all_tiles():\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur:\u001b[21;13H        \u001b[33mu\u001b[39;49m = tile.unit\u001b[K\u001b[22;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m cur \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair):\u001b[23;29H\u001b[7m55\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (dx < 0): \u001b[33mdx\u001b[39;49m *= -1\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (dy < 0): \u001b[33mdy\u001b[39;49m *= -1\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m dx+dy\u001b[K\r\n\u001b[K\u001b[6;5H\u001b[31m# Return the current team.                                                  \u001b[39;49m\r\n\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mcurrent_team\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn]\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m t\u001b[K\r\n\u001b[K\u001b[11;5H\u001b[31m# This ends the turn and passes play to the next player. All units are set  \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# to acive. If a player has won the game at this point, set the winner      \u001b[39;49m\r\n\u001b[13;5H\u001b[31m# variable.                                                                 \u001b[39;49m\r\n\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mend_turn\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = -1\u001b[K\r\n\u001b[K\n\t\u001b[31m# Select the next active player in the roster.                          \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m([t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]) == 0:\u001b[20;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day += 1\u001b[K\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[33mflag\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[23;30H\u001b[7m0% L184\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mget_range\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, start, end=\u001b[35mNone\u001b[39;49m):\u001b[3;12Hend \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\u001b[K\r\n\t    \u001b[33mend\u001b[39;49m = start\u001b[6;5H    \u001b[33mreport\u001b[39;49m = []\u001b[K\u001b[7;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m r \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(start,end+1):\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(r):\u001b[K\r\n\t        report.append((x+(r-i),y+i    ))\r\n\t\treport.append((x-i    ,y+(r-i)))\u001b[11;5H            report.append((x-(r-i),y-i    ))\u001b[K\u001b[12;5H            report.append((x+i    ,y-(r-i)))\u001b[K\u001b[13;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\u001b[K\u001b[15;5H\u001b[31m# Return distance (zero norm) between two points.                           \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdist\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, start, end):\r\n\t\u001b[33mx1\u001b[39;49m,\u001b[33my1\u001b[39;49m = start\r\n\t\u001b[33mx2\u001b[39;49m,\u001b[33my2\u001b[39;49m = end\u001b[K\r\n\t\u001b[33mdx\u001b[39;49m = x1-x2\u001b[K\r\n\t\u001b[33mdy\u001b[39;49m = y1-y2\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (dx < 0): \u001b[33mdx\u001b[39;49m *= -1\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (dy < 0): \u001b[33mdy\u001b[39;49m *= -1\n\b\u001b[7m45% L165\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[34mall_tiles\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w):\u001b[5;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h):\r\n\t        \u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_at(x,y)\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t: report.append(t)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\u001b[K\u001b[10;5H\u001b[31m# Get an iterable range of all legal tile coordinates.                      \u001b[39;49m\r\n\u001b[11;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mall_tiles_xy\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w):\u001b[14;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h):\u001b[15;5H            \u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_at(x,y)\u001b[K\u001b[16;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t: report.append((x,y))\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m repo\r\n\u001b[K\u001b[19;5H\u001b[31m# Get a range of coordinates, usually for an attack range. Coordinates      \u001b[39;49m\r\n\u001b[20;5H\u001b[31m# may not actually be cells.                                                \u001b[39;49m\r\n\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mget_range\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, start, end=\u001b[35mNone\u001b[39;49m):\u001b[22;12Hend \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\u001b[K\u001b[23;30H\u001b[7m0% L146\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[34mtile_at\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\t\u001b[33mtile\u001b[39;49m, \u001b[33munit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_at(x, y)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m tile\u001b[K\r\n\u001b[K\u001b[6;5H\u001b[31m# Get the tile of a unit                                                    \u001b[39;49m\r\n\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mutile\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, unit):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m unit.x \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m unit.y \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\u001b[9;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[10;5H    \u001b[33mtile\u001b[39;49m, \u001b[33mtest\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_at(unit.x, unit.y)\u001b[K\u001b[11;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m test \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m unit:\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Unit mismatch at %d,%d\"\u001b[39;49m%(unit.x,unit.y ))\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m tile\u001b[K\r\n\u001b[K\u001b[15;5H\u001b[31m# Get the unit at X,Y                                                       \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34munit_at\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[33mtile\u001b[39;49m, \u001b[33munit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_at(x, y)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m unit\r\n\u001b[K\n\t\b\b\u001b[31mGet all tile objects.     \u001b[39;49m\r\n\t\u001b[1m\u001b[34mall_tiles\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m = []\u001b[K\u001b[23;29H\u001b[7m36% L127\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[31m# To start the game, end the turn. It will proceed to player 0.         \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day = 1\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = \u001b[35mNone\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = []\r\n\u001b[K\u001b[7;5H\u001b[31m# Pump the alerts from the grid.                                            \u001b[39;49m\r\n\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33moldalerts\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = []\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m oldalerts\u001b[K\r\n\u001b[K\u001b[13;5H\u001b[31m# Get the tile and unit at X,Y                                              \u001b[39;49m\r\n\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mget_at\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[15;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m x >= 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m x < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m y >= 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m y < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h:\u001b[K\u001b[16;5H        \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tiles[y][x]\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m t, t.unit\u001b[K\r\n\t\t\b\u001b[35mNone\u001b[39;49m, \u001b[35mNone\u001b[39;49m\u001b[20;11H\u001b[31mthe tile at X,Y  \u001b[39;49m\r\n\t\u001b[1m\u001b[34mtile_at\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\t\u001b[33mtile\u001b[39;49m, \u001b[33munit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_at(x, y)\u001b[23;30H\u001b[7m1% L108\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l        \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m_process_units\u001b[0m\u001b[39;49m(udata):\u001b[K\r\n\t            \u001b[33mname\u001b[39;49m = udata[\u001b[32m\"name\"\u001b[39;49m]\r\n\t            \u001b[33mu\u001b[39;49m = entities.Unit(name, rules[\u001b[32m\"units\"\u001b[39;49m][name])\r\n\t            \u001b[33mu.team\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[udata[\u001b[32m\"team\"\u001b[39;49m]]\u001b[6;21H\u001b[33mu.x\u001b[39;49m = x\u001b[7;5H                \u001b[33mu.y\u001b[39;49m = y\u001b[K\u001b[8;5H                u.sprite.putc(u.icon,0,0,u.team.color,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mFalse\u001b[39;49m)\r\n\t            u.sprite.move_to(x,y)\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.add_sprite(u.sprite)\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units.append(u)\u001b[12;21H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m uc \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m udata.get(\u001b[32m\"carrying\"\u001b[39;49m,[]):\u001b[13;5H                    \u001b[33mcarriee\u001b[39;49m = _process_units(uc)\u001b[K\u001b[14;5H                    u.carrying.append(carriee)\r\n\t                \u001b[33mcarriee.x\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[16;13H            \u001b[33mcarriee.y\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[17;13H            carriee.sprite.hide()\r\n\t            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m u\r\n\t\t\u001b[33mthis.unit\u001b[39;49m = _process_units(c[\u001b[32m\"unit\"\u001b[39;49m])\r\n\u001b[K\u001b[21;5H    \u001b[31m# To start the game, end the turn. It will proceed to player 0.         \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day = 1\u001b[K\u001b[23;29H\u001b[7m24% L89 \u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\n\t\u001b[?25l\u001b[31m# Load the terrain cells. The units are embedded in these elements      \u001b[39;49m\r\n\t\u001b[31m# of the dictionary. Note that when units are loaded in other units     \u001b[39;49m\r\n\t\u001b[31m# we, have to recursively dig them out.                                 \u001b[39;49m\r\n\t\u001b[31m#   x: (int) x position                                                 \u001b[39;49m\r\n\t\u001b[31m#   y: (int) y position                                                 \u001b[39;49m\r\n\t\u001b[31m#   name: (string) the name of the terrain                              \u001b[39;49m\r\n\t\u001b[31m#   unit: the unit on this terrain, if one                              \u001b[39;49m\r\n\t\u001b[31m#   team: (int) the team that owns the terrain, if any                  \u001b[39;49m\r\n\t\u001b[31m# We also make the sprite information for the units here. Note that     \u001b[39;49m\r\n\t\u001b[31m# this code is duplicated from the load_unit and add_unit methods.      \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m c \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data[\u001b[32m\"tiles\"\u001b[39;49m]:\u001b[K\u001b[14;13H\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = c[\u001b[32m\"x\"\u001b[39;49m], c[\u001b[32m\"y\"\u001b[39;49m]\u001b[K\u001b[15;13H\u001b[33mterrain\u001b[39;49m = c[\u001b[32m\"terrain\"\u001b[39;49m]\u001b[K\u001b[16;13H\u001b[33mthis\u001b[39;49m = entities.Tile(terrain,rules[\u001b[32m\"terrain\"\u001b[39;49m][terrain])\u001b[17;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"team\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m c:\u001b[K\r\n\t\t\u001b[33mthis.team\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[c[\u001b[32m\"team\"\u001b[39;49m]]\u001b[19;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.change_tile(this, x, y)\u001b[K\u001b[20;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"unit\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m c:\r\n\t        \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m_process_units\u001b[0m\u001b[39;49m(udata):\u001b[K\r\n\t            \u001b[33mname\u001b[39;49m = udata[\u001b[32m\"name\"\u001b[39;49m]\u001b[23;29H\u001b[7m17% L70\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h):\r\n\t    \u001b[33mrow\u001b[39;49m = []\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w):\u001b[K\r\n\t        row.append(\u001b[35mNone\u001b[39;49m)\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tiles.append(row)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.winners = []\u001b[K\r\n\u001b[K\u001b[11;11H\u001b[31mLoad the teams first, since cells and units reference them.      \u001b[39;49m\u001b[12;11H\u001b[31mThen set up the alliances.                                      \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name = data[\u001b[32m\"name\"\u001b[39;49m]\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data[\u001b[32m\"teams\"\u001b[39;49m]:\u001b[K\u001b[15;14H\u001b[33mhis\u001b[39;49m = entities.Team(t)\u001b[16;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams.append(this)\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m alist \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data.get(\u001b[32m\"allies\"\u001b[39;49m,[]):\u001b[18;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m a \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m alist:\u001b[K\u001b[19;13H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m alist:\u001b[K\u001b[20;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[a].allies.append( \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[b] )\r\n\u001b[K\n\t\u001b[31m# Load the terrain cells. The units are embedded in these elements      \u001b[39;49m\r\n\u001b[23;30H\u001b[7m1% L51\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m graphics \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m sprites\u001b[K\r\n\u001b[K\n\u001b[31m# The grid is made up tiles that can hold units. It's essentially a data        \u001b[39;49m\r\n\u001b[31m# storage class that also has mutator methods for interacting with units.       \u001b[39;49m\r\n\u001b[31m# The grid keeps a copy of the rules cached so that new units and tiles         \u001b[39;49m\r\n\u001b[31m# can be created using just their names.                                        \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mGrid\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data, rules):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w = data[\u001b[32m\"w\"\u001b[39;49m]\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h = data[\u001b[32m\"h\"\u001b[39;49m]\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rules = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(rules)\u001b[K\r\n\u001b[K\n\t\u001b[31m# Create the main sprite. This sprite will be added to the sprite       \u001b[39;49m\r\n\t\u001b[31m# manager in the session object. When a deepcopy is made, this sprite   \u001b[39;49m\r\n\t\u001b[31m# will be duplicated and the old one will be killed.                    \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = sprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h)\r\n\u001b[K\n\t\u001b[31m# Create the grid from data                                             \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tiles = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h):\r\n\t    \u001b[33mrow\u001b[39;49m = []\u001b[K\u001b[23;29H\u001b[7m 5% L32\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l\u001b[31m# The Grid is the \"map\" of the field. We use \"grid\" instead of \"map\" in order   \u001b[39;49m\r\n\u001b[31m# to avoid using the reserved keyword function \"map\". A grid is made up of      \u001b[39;49m\r\n\u001b[4;4H\u001b[31mILES and UNITS. A tile has a terrain and may contain zero or one UNITS.\u001b[39;49m\u001b[5;3H\u001b[31mThe grid also manages all of the sprites for the units.                \u001b[39;49m\r\n\u001b[K\u001b[7;3H\u001b[31mThe grid needs to be a very stable data structure, as undoing moves relies on\u001b[39;49m\u001b[K\r\n\u001b[31m# deep copies of the grid. Whenever a move is undo, a previous deepcopy is      \u001b[39;49m\r\n\u001b[31m# popped from the action stack. Sprites must follow the same rules.             \u001b[39;49m\r\n\u001b[K\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m . \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m entities, widgets, log\r\n\u001b[K\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m graphics \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m sprites\r\n\u001b[K\n\u001b[31m# The grid is made up tiles that can hold units. It's essentially a data        \u001b[39;49m\r\n\u001b[31m# storage class that also has mutator methods for interacting with units.       \u001b[39;49m\r\n\u001b[31m# The grid keeps a copy of the rules cached so that new units and tiles         \u001b[39;49m\r\n\u001b[31m# can be created using just their names.                                        \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mGrid\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[20;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data, rules):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w = data[\u001b[32m\"w\"\u001b[39;49m]\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h = data[\u001b[32m\"h\"\u001b[39;49m]\u001b[23;29H\u001b[7mTop L21\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\n\n\u001b[?25lBeginning of buffer\u001b[22;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u0007\u0007\u0007\u0007\u0007\n\n\u001b[K\u001b[2d\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w = data[\u001b[32m\"w\"\u001b[39;49m]\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h = data[\u001b[32m\"h\"\u001b[39;49m]\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rules = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(rules)\u001b[K\r\n\u001b[K\n\t\u001b[31m# Create the main sprite. This sprite will be added to the sprite       \u001b[39;49m\r\n        \u001b[31m# manager in the session object. When a deepcopy is made, this sprite   \u001b[39;49m\r\n        \u001b[31m# will be duplicated and the old one will be killed.                    \u001b[39;49m\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = sprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h)\u001b[K\r\n\n        \u001b[31m# Create the grid from data                                             \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tiles = []\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h):\u001b[14;13H\u001b[33mrow\u001b[39;49m = []\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w):\u001b[K\r\n                row.append(\u001b[35mNone\u001b[39;49m)\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tiles.append(row)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units = []\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams = []\u001b[20;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.winners = []\u001b[K\r\n\u001b[K\n\t\u001b[31m# Load the teams first, since cells and units reference them.           \u001b[39;49m\r\n\u001b[23;29H\u001b[7m 8%\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\n\u001b[?25l\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m . \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m entities, widgets, log\r\n\u001b[K\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m graphics \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m sprites\r\n\u001b[K\n\u001b[31m# The grid is made up tiles that can hold units. It's essentially a data        \u001b[39;49m\r\n\u001b[31m# storage class that also has mutator methods for interacting with units.       \u001b[39;49m\r\n\u001b[31m# The grid keeps a copy of the rules cached so that new units and tiles         \u001b[39;49m\r\n\u001b[31m# can be created using just their names.                                        \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mGrid\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[12;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data, rules):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w = data[\u001b[32m\"w\"\u001b[39;49m]\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h = data[\u001b[32m\"h\"\u001b[39;49m]\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rules = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(rules)\u001b[K\r\n\u001b[K\n\t\u001b[31m# Create the main sprite. This sprite will be added to the sprite       \u001b[39;49m\r\n\t\u001b[31m# manager in the session object. When a deepcopy is made, this sprite   \u001b[39;49m\r\n\t\u001b[31m# will be duplicated and the old one will be killed.                    \u001b[39;49m\r\n\u001b[20;14Hsprite = sprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h)\u001b[22;11H\u001b[31mCreate the grid from data                                  \u001b[39;49m\u001b[23;30H\u001b[7m5% L19\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lC-x\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;4H\u001b[?25l-\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;4H\u001b[?25l b\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l\u001b[34mSwitch to buffer (default session.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\t\u001b[31m# Create the canvases that contain all of the sprites.                  \u001b[39;49m\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas = sprites.Sprite(0,0,80,24)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_container = sprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h)\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas = sprites.Sprite(0,0,grid.w,grid.h)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_container)\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_container.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.fill(\u001b[32m' '\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.fill(\u001b[32m' '\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite = sprites.Sprite(0,0,1,1,100)\u001b[12;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite)\u001b[13;14Hhighlight = sprites.Sprite(0,0,1,1)\u001b[14;14Hcursor_sprite.putc(\u001b[35mNone\u001b[39;49m,0,0,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[15;14Hhighlight.hide()\u001b[K\u001b[17;11H\u001b[31mThese are other elements, such as the menu, cursor,            \u001b[39;49m\u001b[18;11H\u001b[31manimation timer, etc.                                              \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0,0\u001b[K\u001b[20;15Hcroll = 0,0\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[23;14H\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   20% L56\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;57H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1@s\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@e\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@l\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@f\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[1@.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[5;66H\b\b\b\b\b\b\b\u001b[?25lsgrid.h)\u001b[5;60H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25legrid.h)\u001b[5;61H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25llgrid.h)\u001b[5;62H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lfgrid.h)\u001b[5;63H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h)\u001b[5;64H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[5;64H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[5;64H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;64H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[31m\u001b[40m|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[31m\u001b[40m|Ramen, move out!|\u001b(B\u001b[0;1m\u001b[34m\u001b[40m$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m........\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[3;18H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[C\b\u001b[5T\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[31m\u001b[40m|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[31m\u001b[40m|Ramen, move out!|\u001b(B\u001b[0;1m\u001b[34m\u001b[40m$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m........\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\u001b[6;2H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[19;15H\r\u001b[6d\u001b[32m\u001b[40m..................\r\u001b[7d............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\r\u001b[8d...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###\r\u001b[9d\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.............\u001b[19;15H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[9;19H\u001b[5;23r\u001b[5;1H\u001b[5T\u001b[1;24r\u001b[5;1H\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d........................\u001b[34m\u001b[40m~~~~~~\r\u001b[7d\u001b[32m\u001b[40m............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\u001b[34m\u001b[40m~~~~~~\r\u001b[8d\u001b[32m\u001b[40m...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[9d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....................\u001b[34m\u001b[40m~~~~\u001b[23;31H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[11d\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[12d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[13d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[14d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[15d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[16d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[17d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b[18d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b[19d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b[20d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b[21d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[22d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[23d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5d\b\u001b[5M\u001b[19d\u001b[32m\u001b[40m......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[20d\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.............................\r\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[21d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[22d\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[23d\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[J \u001b[24d\b\u001b[5S\u001b[20d\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[21d\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\n\n\n\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 95, in run\r\n    gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 88, in refresh\r\n    if gfx: return gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 105, in refresh\r\n    curses.napms(20)\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n        \u001b[31m# Create the canvases that contain all of the sprites.                  \u001b[39;49m\r\n\u001b[A\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas = sprites.Sprite(0,0,80,24)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_container = sprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas = sprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_container)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_container.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.fill(\u001b[32m' '\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.fill(\u001b[32m' '\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite = sprites.Sprite(0,0,1,1,100)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight = sprites.Sprite(0,0,1,1)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.putc(\u001b[35mNone\u001b[39;49m,0,0,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[K\r\n\u001b[K\n        \u001b[31m# These are other elements, such as the menu, cursor,                   \u001b[39;49m\r\n\u001b[A\n        \u001b[31m# animation timer, etc.                                                 \u001b[39;49m\r\n\u001b[A\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0,0\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll = 0,0\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   20% L54   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[5;64H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;57H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[9;1H\u001b[1L\u001b[1;24r\u001b[9;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   20% L58\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m'                                              \u001b[39;49m\r\n\u001b[32m        self.grid_canvas.fill('\u001b[39;49m \u001b[32m')                                              \u001b[39;49m\r\n\u001b[9;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32m'\u001b[39;49m\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.fill(\u001b[32m' '\u001b[39;49m)\u001b[K\u001b[9;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[9;38H\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[9;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[9;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[31m\u001b[40m|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[31m\u001b[40m|Ramen, move out!|\u001b(B\u001b[0;1m\u001b[34m\u001b[40m$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m........\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[3;18H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[C\b\u001b[5T\u001b[6;2H\u001b[19;15H\u001b[6;10H\u001b[1K \u001b[31m\u001b[40m+\u001b[18G----------+\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\u001b[7;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[31m\u001b[40m|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\u001b[8;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[31m\u001b[40m|Ramen, move out!|\u001b(B\u001b[0;1m\u001b[34m\u001b[40m$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\u001b[9;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[31m\u001b[40m+\u001b[18G----------+\u001b[32m\u001b[40m........\u001b[34m\u001b[40m~~~~\u001b[10;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[26G\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\u001b[11;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b[12;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\u001b[13;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[34m\u001b[40m~~\u001b[32m\u001b[40m....\u001b[13;26H\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\u001b[14;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[34m\u001b[40m~~\u001b[32m\u001b[40m....\u001b[14;26H\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\u001b[15;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[34m\u001b[40m~\u001b[32m\u001b[40m.....\u001b[15;25H.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\u001b[16;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m......\u001b[16;26H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\u001b[17;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[17G\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[17;31H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\u001b[18;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[18G\u001b[32m\u001b[40m.\u001b[18;28H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\u001b[19;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\u001b[20;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[20;31H\u001b[32m\u001b[40m..........\u001b[9;29H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[19;25H\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 81, in run\r\n    res = self.game.handle_input(c)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/session.py\", line 127, in handle_input\r\n    result = self.action.perform(self.cursor, self.grid)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/rules.py\", line 56, in perform\r\n    elif len(t.build) > 0 and t.team is grid.current_team():\r\nAttributeError: 'NoneType' object has no attribute 'build'\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[31m\u001b[40m|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[31m\u001b[40m|Ramen, move out!|\u001b(B\u001b[0;1m\u001b[34m\u001b[40m$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m........\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[3;18H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[C\b\u001b[5T\u001b[6;2H\u001b[6;10H\u001b[1K \u001b[31m\u001b[40m+\u001b[18G----------+\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\u001b[7;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[31m\u001b[40m|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\u001b[8;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[31m\u001b[40m|Ramen, move out!|\u001b(B\u001b[0;1m\u001b[34m\u001b[40m$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\u001b[9;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[31m\u001b[40m+\u001b[18G----------+\u001b[32m\u001b[40m........\u001b[34m\u001b[40m~~~~\u001b[10;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[26G\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\u001b[11;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b[12;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\u001b[13;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[34m\u001b[40m~~\u001b[32m\u001b[40m....\u001b[13;26H\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\u001b[14;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[34m\u001b[40m~~\u001b[32m\u001b[40m....\u001b[14;26H\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\u001b[15;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[34m\u001b[40m~\u001b[32m\u001b[40m.....\u001b[15;25H.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\u001b[16;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m......\u001b[16;26H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\u001b[17;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[17G\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[17;31H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\u001b[18;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[18G\u001b[32m\u001b[40m.\u001b[18;28H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\u001b[19;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\u001b[20;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[20;31H\u001b[32m\u001b[40m..........\u001b[9;29H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[19;25H\u001b[11;11H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6d\u001b[32m\u001b[40m..................\u001b[7;11H............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[8;11H...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###\u001b[9;11H\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.............\u001b[11;11H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[C+---------+\u001b[12;16H|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[13;16H|Surrender|\u001b[14;16H|End Turn |\u001b[15;16H+---------+\u001b[12d\b\b\u001b[19d\u001b[11;16H\u001b[32m\u001b[40m..........\u001b[33m\u001b[40m^\u001b[12;16H\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[13;16H\u001b[32m\u001b[40m..........\u001b[33m\u001b[40m^\u001b[14;16H\u001b[32m\u001b[40m..........\u001b[33m\u001b[40m^\u001b[15;16H\u001b[32m\u001b[40m..........\u001b[33m\u001b[40m^\u001b[11;15H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[12d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[13d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[14d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[15d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[16d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[17d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[18d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[19d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m$\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[C+--------------+\u001b[20;19H|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mInfantry $1000\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[21;19H|APC $3000     |\u001b[22;19H|Cancel\u001b[22;34H|\u001b[23;19H+--------------+\u001b[20d\b\b\r\u001b[21d\u001b[J\u001b[19;18H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.........\u001b[20;19H................\u001b[19;18H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[19d\b\u001b(B\u001b[0;1m\u001b[30m\u001b[40mi\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[18d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[17d\b\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[C+---------+\u001b[17;19H|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[18;19H|Surrender|\u001b[19;19H|End Turn |\u001b[20;19H+---------+\u001b[17d\b\b\u001b[17;20HClose    \u001b[19;20H\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[16;19H\u001b[32m\u001b[40m.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[17;19H.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m.........\u001b[18;19H.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b[19;18H\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m....\u001b[20;19H...........\u001b[16;18H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;11H\u001b[34m\u001b[40m+-----------------+\u001b[7;11H|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m    \u001b[34m\u001b[40m|\u001b[8;11H|Ishara, move out!|\u001b[9;11H+-----------------+\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[16;18H\u001b[9;30H\u001b[16;18H\u001b[9;30H\u001b[16;18H\u001b[9;30H\u001b[15;18H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[16d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[9;30H\u001b[14;18H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[15d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[14d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[13d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[12d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[11d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m-\u001b[10d\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[A\b\u001b[34m\u001b[40m-\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m,\u001b[9d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\b\u001b[34m\u001b[40m,\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m-\u001b[8d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\b\u001b[34m\u001b[40m-\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;11H\u001b[32m\u001b[40m...................\u001b[7;11H............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m......\u001b[8;11H...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###$\u001b[9;11H\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[19;19H\u001b[1;23r\u001b[1;1H\u001b[5T\u001b[1;24r\u001b[23;41H\u001b[1;23r\u001b[1;1H\u001b[5T\u001b[1;24r\u001b[23;41H\u001b[16;18H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[17d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[18d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[19d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[20d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[21d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[22d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[23d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[24d\u001b[5S\u001b[19;11H\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\u001b[20;11H\u001b[34m\u001b[40m~\u001b[32m\u001b[40m......\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\u001b[21;11H...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\u001b[22;11H......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\u001b[23;11H.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\u001b[20;18H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[21d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[22d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b[23d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[24d\u001b[5S\u001b[19;11H\u001b[32m\u001b[40m......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!i\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\u001b[20;11H.......\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m......................\u001b[20;18H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[21d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[K\u001b[22;18H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[K\u001b[23;18H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[J\u001b[23;19H\r\u001b[24d\u001b[5S\u001b[20;18H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[K\u001b[21;18H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[K\u001b[22;18H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[K\u001b[23;18H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[J\u001b[23;19H\r\u001b[24d\u001b[5S\u001b[20;18H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[J\u001b[19;18H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[J\u001b[18;18H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[J\u001b[17;18H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[J\u001b[16;18H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[J\u001b[15;18H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[J\u001b[14;18H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[J\u001b[13;18H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[J\u001b[12;18H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[J\u001b[11;18H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[J\u001b[10;18H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b[10d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[9d\b\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[8d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[7d\b\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[6d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[5d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[4d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[3d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[2d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[5T\u001b[1;11H\u001b[32m\u001b[40m........................\u001b[34m\u001b[40m~~~~~~\u001b[2;11H\u001b[32m\u001b[40m............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\u001b[34m\u001b[40m~~~~~~\u001b[3;11H\u001b[32m\u001b[40m...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\u001b[4;11H\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....................\u001b[34m\u001b[40m~~~~\u001b[5;11H\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\u001b[6;18H.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[5d\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[A\b\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[4d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[3d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[2d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[5T\u001b[6;18H\u001b[32m\u001b[40m.\u001b[19;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;18H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[7d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[19;19H\u001b[6;20H\u001b[1K \u001b[6;35H\u001b[32m\u001b[40m..........\u001b[34m\u001b[40m~~~~~~\u001b[7;20H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m...\u001b[7;33H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\u001b[34m\u001b[40m~~~~~~\u001b[8;20H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\u001b[9;20H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[9;37H\u001b[32m\u001b[40m..........\u001b[34m\u001b[40m~~~~\u001b[10;20H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[36G\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\u001b[11;20H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b[12;20H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\u001b[13;20H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[34m\u001b[40m~~\u001b[32m\u001b[40m....\u001b[13;36H\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\u001b[14;20H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[34m\u001b[40m~~\u001b[32m\u001b[40m....\u001b[14;36H\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\u001b[15;20H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[34m\u001b[40m~\u001b[32m\u001b[40m.....\u001b[15;35H.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\u001b[16;20H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m......\u001b[16;36H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\u001b[17;20H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[27G\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[17;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\u001b[18;20H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[28G\u001b[32m\u001b[40m.\u001b[18;38H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\u001b[19;20H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!i\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\u001b[20;20H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[20;41H\u001b[32m\u001b[40m..........\u001b[19;29H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;30H\u001b[1K \u001b[6;45H\u001b[32m\u001b[40m..........\u001b[34m\u001b[40m~~~~~~\u001b[7;30H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m...\u001b[7;43H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\u001b[34m\u001b[40m~~~~~~\u001b[8;30H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\u001b[9;30H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[9;47H\u001b[32m\u001b[40m..........\u001b[34m\u001b[40m~~~~\u001b[10;30H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[46G\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\u001b[11;30H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b[12;30H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\u001b[13;30H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[34m\u001b[40m~~\u001b[32m\u001b[40m....\u001b[13;46H\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\u001b[14;30H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[34m\u001b[40m~~\u001b[32m\u001b[40m....\u001b[14;46H\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\u001b[15;30H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[34m\u001b[40m~\u001b[32m\u001b[40m.....\u001b[15;45H.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\u001b[16;30H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m......\u001b[16;46H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\u001b[17;30H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[37G\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[17;51H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\u001b[18;30H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[38G\u001b[32m\u001b[40m.\u001b[18;48H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\u001b[19;30H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!i\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\u001b[20;30H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[20;51H\u001b[32m\u001b[40m..........\u001b[19;39H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;40H\u001b[1K \u001b[6;55H\u001b[32m\u001b[40m......\u001b[7;40H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m...\u001b[7;53H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.......\u001b[8;40H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[9;40H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[9;57H\u001b[32m\u001b[40m....\u001b[10;40H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[56G\u001b[33m\u001b[40m^\u001b[11;40H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m...............\u001b[33m\u001b[40m^\u001b[12;40H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[13;40H\u001b[1K \u001b[34m\u001b[40m~~\u001b[32m\u001b[40m....\u001b[13;56H\u001b[33m\u001b[40m^\u001b[14;40H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[34m\u001b[40m~~\u001b[32m\u001b[40m....\u001b[14;56H\u001b[33m\u001b[40m^\u001b[15;40H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[34m\u001b[40m~\u001b[32m\u001b[40m.....\u001b[15;55H.\u001b[33m\u001b[40m^\u001b[16;40H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m......\u001b[16;56H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[17;40H\u001b[1K \u001b[47G\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[18;40H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[48G\u001b[32m\u001b[40m.\u001b[18;58H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[19;40H\u001b[1K \u001b[32m\u001b[40m......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!i\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[20;40H\u001b[1K\u001b[19;49H\u001b[6;50H\u001b[1K\u001b[7d\u001b[1K \u001b[32m\u001b[40m...\u001b[8;50H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m.........\u001b[9;50H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[10;50H\u001b[1K \u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[11;50H\u001b[1K \u001b[32m\u001b[40m......\u001b[12;50H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[13;50H\u001b[1K \u001b[34m\u001b[40m~~\u001b[32m\u001b[40m....\u001b[14;50H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[34m\u001b[40m~~\u001b[32m\u001b[40m....\u001b[15;50H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[34m\u001b[40m~\u001b[32m\u001b[40m.....\u001b[16;50H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m......\u001b[17;50H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[57G\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b[18;50H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[58G\u001b[32m\u001b[40m.\u001b[19;50H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K \u001b[32m\u001b[40m......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!i\u001b[20;50H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1K\u001b[19;59H\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 95, in run\r\n    gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 88, in refresh\r\n    if gfx: return gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 105, in refresh\r\n    curses.napms(20)\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n        \u001b[31m# Create the canvases that contain all of the sprites.                  \u001b[39;49m\r\n\u001b[A\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas = sprites.Sprite(0,0,80,24)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_container = sprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas = sprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_container)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_container.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.fill(\u001b[32m' '\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_container.fill(\u001b[32m' '\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.fill(\u001b[32m' '\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite = sprites.Sprite(0,0,1,1,100)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight = sprites.Sprite(0,0,1,1)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.putc(\u001b[35mNone\u001b[39;49m,0,0,\u001b[35mNone\u001b[39;49m,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[K\r\n\u001b[K\n        \u001b[31m# These are other elements, such as the menu, cursor,                   \u001b[39;49m\r\n\u001b[A\n        \u001b[31m# animation timer, etc.                                                 \u001b[39;49m\r\n\u001b[A\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0,0\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll = 0,0\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   20% L58   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[9;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[9;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll = 0,0\u001b[K\u001b[3;14Hanimation = 0.0\u001b[K\u001b[4;14Hmenu = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[5;14Hnotifications = []\u001b[K\u001b[6;14Hspeed = 0.05\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\u001b[10;5H\u001b[31m# This exports our data as a dictionary to be JSONified. If history is      \u001b[39;49m\r\n\u001b[11;5H\u001b[31m# included, it's like saving a snapshot of the game to be continued later.  \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# If griddata is included, it's like using the current snapshot as a new    \u001b[39;49m\r\n\u001b[13;5H\u001b[31m# map.                                                                      \u001b[39;49m\r\n\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, history=\u001b[35mTrue\u001b[39;49m, griddata=\u001b[35mFalse\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\r\n\u001b[K\u001b[17;5H\u001b[31m# This function takes the character that was most recently entered by the   \u001b[39;49m\r\n\u001b[18;5H\u001b[31m# player and handles it. Even if no player is playing, this function        \u001b[39;49m\r\n\u001b[19;5H\u001b[4P\t\b\b\u001b[31messentially serves as the step function for the\u001b[39;49m\u001b[4@\u001b[31m AI.\u001b[39;49m\u001b[20;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications.append(n)\u001b[23;30H\u001b[7m9% L70\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications.append(n)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(n.sprite)\r\n\u001b[K\n\t\u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\r\n\t\u001b[31m# If control does not belong to the human, then the control simply      \u001b[39;49m\r\n\t\u001b[31m# allows the player to move the map around.                             \u001b[39;49m\r\n\t\u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[10;5H    \u001b[33mresult\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[11;5H    \u001b[33minfo\u001b[39;49m = {}\u001b[K\u001b[12;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().control == \u001b[32m\"human\"\u001b[39;49m:\u001b[K\u001b[13;5H        \u001b[33mresult\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[14;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"left\"\u001b[39;49m: cx -=1\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"right\"\u001b[39;49m: cx +=1\u001b[17;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: cy -= 1\u001b[K\u001b[18;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: cy += 1\u001b[K\u001b[19;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"\\t\"\u001b[39;49m:\u001b[K\u001b[20;5H                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab += 1\r\n\t            tabbables = [u \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.ready\u001b[22;13H                     \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[23;29H\u001b[7m36% L89\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l            tabbables = [u \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.ready\u001b[3;13H                     \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[4;13H                     \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.x \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.y \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m]\u001b[5;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables):\r\n\t                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab %= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables)\u001b[K\r\n\t                \u001b[33mu\u001b[39;49m = tabbables[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab]\u001b[K\r\n\t                \u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = u.x,u.y\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor != (cx,cy)):\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = cx,cy\r\n\t            \u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t            \u001b[33msx\u001b[39;49m,\u001b[33msy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll\u001b[K\u001b[13;13H        \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cx-sx < 0 ): \u001b[33msx\u001b[39;49m -= 10\u001b[14;13H        \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cy-sy < 0 ): \u001b[33msy\u001b[39;49m -= 5\u001b[K\r\n\t\t    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cx-sx > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w): \u001b[33msx\u001b[39;49m += 10\r\n\t\t    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cy-sy > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h): \u001b[33msy\u001b[39;49m += 5\r\n\t\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m ((sx,sy) != \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll):\r\n\t\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll = sx,sy\r\n\t\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.move_to(-sx,-sy)\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\u001b[21;21Hresult = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[22;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\u001b[K\u001b[23;29H\u001b[7m44% L108\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m10\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[11;68H\u001b[1;22r\u001b[12;1H\u001b[1L\u001b[1;24r\u001b[12;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   44% L118\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;21H\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l<\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\r\u001b[K\u001b[1;22r\u001b[14;1H\u001b[1M\u001b[1;24r\u001b[12;21H\u001b[?25l\u001b[33msx\u001b[39;49m,\u001b[33msy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll\u001b[13;21H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cx-sx < 0 ): \u001b[33msx\u001b[39;49m -= 10\u001b[22;1H                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\u001b[K\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[9;45H\u001b[1;22r\u001b[13;1H\u001b[1L\u001b[1;24r\u001b[10;1H\u001b[K\u001b[11;21H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = cx,cy\u001b[K\u001b[12;21H\u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n                    \u001b[33msx\u001b[39;49m,\u001b[33msy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll\u001b[K\u001b[23;36H\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[10;21H\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\b\u001b[K\t\b\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[12;21H\u001b[?25linfo\n\b\b\b\bsx,sy\u001b[14;42Hsx\n\b\bsy\u001b[16;46Hsx\n\b\bsy\u001b[10;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\b\u001b[K\u001b[C\u001b[?25l<\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\u001b[23;30H\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[12;21H\u001b[?25l\u001b[33minfo\u001b[39;49m\n\b\b\b\b\u001b[33msx\u001b[39;49m,\u001b[33msy\u001b[39;49m\u001b[14;42H\u001b[33msx\u001b[39;49m\n\b\b\u001b[33msy\u001b[39;49m\u001b[16;46H\u001b[33msx\u001b[39;49m\n\b\b\u001b[33msy\u001b[39;49m\u001b[10;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\t\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\b\u001b[?25l\u001b[33mcx\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[12;1H\u001b[1L\u001b[1;24r\u001b[11;1H\u001b[K\n\u001b[?25l                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = cx,cy\u001b[K\u001b[23;36H\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[11;21H\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\b\b\b\b\u001b[?25linfo\n\b\b\b\bsx,sy\u001b[15;42Hsx\n\b\bsy\u001b[17;46Hsx\n\b\bsy\u001b[11;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\b\b\b\b\b\b\b\b\b\u001b[?25l: \u001b[33mcx\u001b[39;49m = 0\r\t\t\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l<\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\r\t\t\t\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\b\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[13;21H\u001b[?25l\u001b[33minfo\u001b[39;49m\n\b\b\b\b\u001b[33msx\u001b[39;49m,\u001b[33msy\u001b[39;49m\u001b[15;42H\u001b[33msx\u001b[39;49m\n\b\b\u001b[33msy\u001b[39;49m\u001b[17;46H\u001b[33msx\u001b[39;49m\n\b\b\u001b[33msy\u001b[39;49m\u001b[11;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25l\u001b[33mcy\u001b[39;49m  =\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\u001b[?25lcy\u001b[K\t\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25l\u001b[33mcy\u001b[39;49m  =\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\u001b[?25lcy\u001b[K\t\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25l\u001b[33mcy\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[13;1H\u001b[1L\u001b[1;24r\u001b[12;1H\u001b[K\n\u001b[?25l                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = cx,cy\u001b[K\u001b[23;36H\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;21H\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lAuto-saving...\u001b[12;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[12;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[12;25H\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l<\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[14;21H\u001b[?25linfo\n\b\b\b\bsx,sy\u001b[16;42Hsx\n\b\bsy\u001b[18;46Hsx\n\b\bsy\u001b[12;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\u001b[C\u001b[?25l>\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\u001b[?25l)\r\t\t\t\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;43H\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\b\b\b\u001b[?25l\u001b[33mcx\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l-\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l1\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[14;1H\u001b[1L\u001b[1;24r\u001b[13;1H\u001b[K\n\u001b[?25l                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = cx,cy\u001b[K\u001b[23;36H\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[13;21H\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[15;21H\u001b[?25l\u001b[33minfo\u001b[39;49m\n\b\b\b\b\u001b[33msx\u001b[39;49m,\u001b[33msy\u001b[39;49m\u001b[17;42H\u001b[33msx\u001b[39;49m\n\b\b\u001b[33msy\u001b[39;49m\u001b[19;46H\u001b[33msx\u001b[39;49m\n\b\b\u001b[33msy\u001b[39;49m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[24d\u001b[?25lMark set\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;21H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (cx >= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w): \u001b[33mcx\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w-1\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[14;1H\u001b[1L\u001b[1;24r\u001b[24;1H\u001b[K\u001b[13d\u001b[K\n\u001b[?25l                    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m ()\u001b[K\u001b[23;36H\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lC-u\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;4H\u001b[?25l-\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;4H\u001b[?25l C-y\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lMark set\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[13;21H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (cx >= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w): \u001b[33mcx\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w-1\r\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m20\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[1;22r\u001b[16;1H\u001b[1M\u001b[1;24r\u001b[14;21H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = cx,cy\u001b[15;21H\u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[22;1H                        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll = sx,sy\u001b[K\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m19\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[13;63H\b\b\b\u001b[?25l-1\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh-1\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[33my\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@y\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[13;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[13;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[31m\u001b[40m|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[31m\u001b[40m|Ramen, move out!|\u001b(B\u001b[0;1m\u001b[34m\u001b[40m$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m........\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[3;18H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[C\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.................\r\u001b[2d............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\r\u001b[3d...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###\r\u001b[4d\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.............\u001b[H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[2d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[3d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[5d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[6d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[7d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b[8d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b[9d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b[10d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b[11d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[12d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[13d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[14d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[15d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[16d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[17d\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[18d\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[19d\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[20d\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[21d\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[22d\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[23d\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[J \u001b[14;15H\r\u001b[24d\u001b[5S\u001b[20d\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[21d\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[22d\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[23d\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[J \u001b[24d\b\u001b[5S\u001b[20d\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[J\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[J\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[J\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[J\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[J\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[J\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[J\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[J\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[J\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[J\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[J\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[J\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[J\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[J\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[J\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[5d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[4d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[3d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[2d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5T\u001b[32m\u001b[40m...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[2d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[3d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[4d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[5d\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\u001b(B\u001b[0m\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[6d.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\u001b[5d\b\u001b(B\u001b[0m\u001b[34m\u001b[40m~\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\u001b[4d\b\u001b(B\u001b[0m\u001b[34m\u001b[40m~\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\u001b[3d\b\u001b(B\u001b[0m\u001b[34m\u001b[40m~\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[2d\b\u001b(B\u001b[0m\u001b[34m\u001b[40m~\u001b[H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5T\u001b[32m\u001b[40m........................\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[32m\u001b[40m............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[32m\u001b[40m...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....................\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[5d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[4d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[3d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[2d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b  \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b   \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\b    \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\b\b     \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[31G      \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[31G\u001b[37G \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[31G\u001b[38G \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;31H\u001b[1;39H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;31H\u001b[1;40H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;31H\u001b[1;41H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;31H\u001b[1;42H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;31H\u001b[1;43H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;31H\u001b[1;44H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;31H\u001b[1;45H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;31H\u001b[1;46H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;31H\u001b[1;47H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;31H\u001b[1;48H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;31H\u001b[1;49H \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\u001b(B\u001b[0m\u001b[34m\u001b[40m~\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\u001b(B\u001b[0m\u001b[34m\u001b[40m~\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\u001b(B\u001b[0m\u001b[34m\u001b[40m~\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\u001b(B\u001b[0m\u001b[34m\u001b[40m~\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 95, in run\r\n    gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 88, in refresh\r\n    if gfx: return gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 105, in refresh\r\n    curses.napms(20)\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n                    tabbables = [u \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.ready\u001b[K\r\n                                 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[K\r\n                                 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.x \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.y \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m]\u001b[K\r\n                    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables):\u001b[K\r\n                        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab %= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables)\u001b[K\r\n                        \u001b[33mu\u001b[39;49m = tabbables[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab]\u001b[K\r\n                        \u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = u.x,u.y\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor != (cx,cy)):\u001b[K\r\n                    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (cx < 0): \u001b[33mcx\u001b[39;49m = 0\u001b[K\r\n                    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (cy < 0): \u001b[33mcy\u001b[39;49m = 0\u001b[K\r\n                    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (cx >= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w): \u001b[33mcx\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w-1\u001b[K\r\n                    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (cy >= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w): \u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h-1\u001b[K\r\n                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = cx,cy\u001b[K\r\n                    \u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\r\n                    \u001b[33msx\u001b[39;49m,\u001b[33msy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll\u001b[K\r\n                    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cx-sx < 0 ): \u001b[33msx\u001b[39;49m -= 10\u001b[K\r\n                    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cy-sy < 0 ): \u001b[33msy\u001b[39;49m -= 5\u001b[K\r\n                    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cx-sx > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w): \u001b[33msx\u001b[39;49m += 10\u001b[K\r\n                    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cy-sy > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h): \u001b[33msy\u001b[39;49m += 5\u001b[K\r\n                    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m ((sx,sy) != \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll):\u001b[K\r\n                        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll = sx,sy\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   43% L119  Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[13;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default grid.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrules.py\u001b[K\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ldraw.py\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lsprites.py\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l*scratch*\u001b[K\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mLisp-Interaction Help\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[31m;; This buffer is for notes you don't want to save, and for Lisp evaluation.    \u001b[39;49m\r\n\u001b[31m;; If you want to create a file, visit that file with C-x C-f,                  \u001b[39;49m\r\n\u001b[31m;; then enter the text in that file's own buffer.                               \u001b[39;49m\r\n\u001b[K\nIt's Day 24 and we've got a lot to do! There's a lot of UI missing from the\r\ngame, like popups saying who's turn it is, who's been killed, and the cute\r\nlittle animation I had when combat happened.\r\n\u001b[K\nWe need to make that happen again, don't we!\r\n\u001b[K\nI think I need to give sprites an \u001b[32m\"update\"\u001b[39;49m hook. Normally, sprites don't\r\nchange. Some, however, are animated (like the battle animation). So let's\r\nsee what we can do.\u001b[K\r\n\u001b[K\nThe way I want this to work is I want the grid to give the session all of the\r\npopup, notification-style sprites that need to be drawn. Maybe I can hide the\r\nupdate in the \u001b[32m\"render\"\u001b[39;49m method. So let's make a Notification widget that\r\nactually extends Sprite, and then make an extension of the notification widget\r\nthat is used for the damage animation. We also need to start drawing our menus\r\nin better places than 0,0. :)\u001b[K\r\n\u001b[K\u001b[23;4H\u001b[7mU:**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1m*scratch*   \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Top L20    (Lisp Interaction) -\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;21r\u001b[2;1H\u001b[11M\u001b[1;24r\u001b[11;1H\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[?25l\u001b[7mBot L22\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[14;1H\u001b[1L\u001b[1;24r\u001b[14;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[15;1H\u001b[1L\u001b[1;24r\u001b[15;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lS\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[15;1H\u001b[1L\u001b[1;24r\u001b[15;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\u001b[K\b\u001b[K\b\u001b[K\b\b\u001b[K\t\b\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[C\b\u001b[C\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l-\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[16;1H\u001b[1L\u001b[1;24r\u001b[16;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l-\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\b\u001b[K\u001b[C\b\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[17;1H\u001b[1L\u001b[1;24r\u001b[17;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lH\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[32m\"                                               \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[16;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ml\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32mf\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32my\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32mc\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mc\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32my\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32mg\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mp\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mh\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mc\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mc\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[16;54H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\u001b[C\b\u001b[1;22r\u001b[18;1H\u001b[1L\u001b[1;24r\u001b[18;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[19;1H\u001b[1L\u001b[1;24r\u001b[19;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[20;1H\u001b[1L\u001b[1;24r\u001b[20;1H\u001b[K\u001b[23;29H\u001b[?25l\u001b[7m37% L29\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lL\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;30H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lO\u001b[23;30H\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;66H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lK\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[21;1H\u001b[1L\u001b[1;24r\u001b[19;80H\u001b[?25l\\\r\n\n\u001b[K\u001b[A\u001b[C\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\u001b[K\b\u001b[K\r\u001b[K\u001b[C\u001b[19;80H\u001b[K\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[C\b\u001b[1;22r\u001b[21;1H\u001b[1L\u001b[1;24r\u001b[21;1H\u001b[K\u001b[23;34H\u001b[?25l\u001b[7m30\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lf\n\n\n\b\b\b\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\u001b[?25l\u001b[34mSwitch to buffer (default session.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help         \u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lsession.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n                    tabbables = [u \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.ready\u001b[K\r\n                                 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[4;34H\u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.x \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.y \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m]\r\n                    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables):\u001b[K\r\n                        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab %= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables)\u001b[K\r\n                        \u001b[33mu\u001b[39;49m = tabbables[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab]\u001b[K\r\n                        \u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = u.x,u.y\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor != (cx,cy)):\u001b[K\r\n                    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (cx < 0): \u001b[33mcx\u001b[39;49m = 0\u001b[11;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (cy < 0): \u001b[33mcy\u001b[39;49m = 0\u001b[12;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (cx >= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w): \u001b[33mcx\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w-1\r\n                    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (cy >= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w): \u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h-1\u001b[K\r\n                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = cx,cy\u001b[K\r\n                    \u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\r\n                    \u001b[33msx\u001b[39;49m,\u001b[33msy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll\u001b[K\r\n                    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cx-sx < 0 ): \u001b[33msx\u001b[39;49m -= 10\u001b[K\u001b[18;21H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cy-sy < 0 ): \u001b[33msy\u001b[39;49m -= 5\r\n                    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cx-sx > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w): \u001b[33msx\u001b[39;49m += 10\u001b[K\r\n                    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cy-sy > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h): \u001b[33msy\u001b[39;49m += 5\u001b[21;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m ((sx,sy) != \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll):\r\n\t\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll = sx,sy\u001b[23;4H\u001b[7m-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   43% L119  Git:master  (Python) \u001b[0m\u001b[39;49m\u001b[27m\u001b[13;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mI-search: \u001b[39;49m\u001b[13;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;58H\u001b[?25l\u001b[7m Isearch) \u001b[0m\u001b[39;49m\u001b[27m\u001b[13;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u001b[24;1H\u001b[?25lQuit\u001b[K\u001b[23;58H\u001b[7m) --------\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[13;27H\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[13;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m20\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[22;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;21H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (cy >= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w): \u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h-1\u001b[K\u001b[3;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = cx,cy\u001b[K\u001b[4;21H\u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\u001b[5;21H\u001b[33msx\u001b[39;49m,\u001b[33msy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll\u001b[6;21H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cx-sx < 0 ): \u001b[33msx\u001b[39;49m -= 10\u001b[K\u001b[7;21H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cy-sy < 0 ): \u001b[33msy\u001b[39;49m -= 5\u001b[8;21H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cx-sx > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w): \u001b[33msx\u001b[39;49m += 10\r\n\t\t    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cy-sy > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h): \u001b[33msy\u001b[39;49m += 5\r\n\t\t\t(sx,sy) != \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll):\u001b[11;21H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll = sx,sy\u001b[12;21H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.move_to(-sx,-sy)\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\u001b[14;21Hresult = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[15;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.move_to(cx,cy)\u001b[17;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c:\u001b[K\n\bval = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\u001b[K\u001b[20;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m val:\u001b[K\u001b[21;21H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(val)\u001b[K\r\n\t\t\tresult = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(val, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[23;30H\u001b[7m9% L129\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m30\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[22;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\u001b[3;21Hresult = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[4;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.move_to(cx,cy)\u001b[6;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c:\u001b[K\n\bval = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\u001b[K\u001b[9;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m val:\u001b[K\u001b[10;21H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(val)\u001b[K\r\n\t\t\tresult = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(val, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[12;30Hmenu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\t    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b\b    info = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.in\u001b[4@fo()\r\n\u001b[K\n\u001b[K\n\t\u001b[31m# If we got a result from performing an action, we will be given        \u001b[39;49m\r\n\t\u001b[31m# either an order or a new action to perform. The orders tell us that   \u001b[39;49m\r\n\t\u001b[31m# the action was complete and that we either need to commit it or       \u001b[39;49m\r\n\t\u001b[31m# undo our mess.                                                        \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result:\u001b[K\n\b\b\b\b\b\b\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result == rules.ACT_COMMIT:\u001b[K\u001b[23;29H\u001b[7m54% L140\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m50\u001b[0m\u001b[39;49m\u001b[27m\u001b[22;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\t\u001b[?25l    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b\b    info = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.in\u001b[4@fo()\r\n\u001b[K\n\u001b[K\n\t\u001b[31m# If we got a result from performing an action, we will be given        \u001b[39;49m\r\n\t\u001b[31m# either an order or a new action to perform. The orders tell us that   \u001b[39;49m\r\n\t\u001b[31m# the action was complete and that we either need to commit it or       \u001b[39;49m\r\n\t\u001b[31m# undo our mess.                                                        \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result:\u001b[K\n\b\b\b\b\b\b\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result == rules.ACT_COMMIT:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.append((copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint),\u001b[13;21H                 \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs))\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[18P\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[16;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_TRASH:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite.kill()\u001b[K\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs = []\u001b[K\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint)\u001b[K\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[K\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info()\u001b[22;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[23;30H\u001b[7m9% L151\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m60\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[22;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;21H\u001b[?25l                 \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs))\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[18P\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[5;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_TRASH:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite.kill()\u001b[K\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs = []\u001b[K\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint)\u001b[K\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[K\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info()\u001b[11;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[12;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_UNDO:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite.kill()\u001b[K\r\n\t\tcp = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history) > 0:\u001b[K\u001b[16;13H        \u001b[33mcp\u001b[39;49m, \u001b[33macts\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.pop()\r\n\t\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t\t    \u001b[33mcp\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint\n\u001b[C\u001b[Ccp)\u001b[K\u001b[20;22Hcheckpoint = copy.deepcopy(cp)\u001b[K\u001b[21;26H_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[22;22Hgrid.info()\u001b[K\n\b\b\b\b\u001b[7m64% L162\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[3;22Hgrid.info()\u001b[K\u001b[5;38HRESTART:\u001b[6;22Hhistory = []\u001b[K\u001b[8;26H.sprite.kill()\u001b[K\u001b[9;26H = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[K\u001b[10;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[11;22Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[12;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[13;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_END:\r\n\t\thistory = []\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m].append(history)\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (cp,acts) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history:\u001b[K\r\n\t\t    history.append(acts)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[K\u001b[19;26H.end_turn()\u001b[K\u001b[20;22Hstartover = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[21;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\u001b[22;22Haction = rules.Begin()\u001b[23;29H\u001b[7m73% L171\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;22H\u001b[?25lcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\u001b[3;22Haction = rules.Begin()\u001b[4;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b\b    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = result\u001b[K\r\n\u001b[K\u001b[7;13H\u001b[31m# Set up various UI candy.                                          \u001b[39;49m\r\n\u001b[8;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\u001b[9;22Hhighlight.kill()\u001b[K\u001b[10;22Hhighlight = sprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h,50)\r\n\t\tc = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices:\u001b[13;13H        \u001b[33mt1\u001b[39;49m,\u001b[33mu1\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(x,y)\r\n\t\t    \u001b[33mt2\u001b[39;49m,\u001b[33mu2\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(cx,cy)\r\n\t\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u1: \u001b[33mc\u001b[39;49m = u1.team.color\u001b[K\r\n\t\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m t1 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t1.team: \u001b[33mc\u001b[39;49m = t1.team.color\u001b[17;21H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u2: \u001b[33mc\u001b[39;49m = u2.team.color\r\n\t\t    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m: \u001b[33mc\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().color\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.putc(\u001b[35mNone\u001b[39;49m,x,y,c,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[20;22Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight)\u001b[21;22Hanimation = 0.0\u001b[K\u001b[22;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[23;29H\u001b[7m81% L190\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;22H\u001b[?25lanimation = 0.0\u001b[K\u001b[3;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[4;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = widgets.Menu(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices)\u001b[5;22Hmenu.sprite.move_to(cx+1,cy)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.sprite)\r\n\u001b[K\u001b[8;5H\u001b[31m# The session has multiple sprites that need to be rendered, from the       \u001b[39;49m\r\n\u001b[9;5H\u001b[31m# view of the grid to the mutliple popups that need to appear.              \u001b[39;49m\r\n\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrender\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation >= 1.0:\u001b[K\u001b[13;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[K\u001b[14;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[K\u001b[16;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.show()\u001b[K\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units:\u001b[K\u001b[19;21Hu.cycle_anim()\u001b[K\r\n\t\u001b[33mnotifications\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m notifications:\u001b[K\n\b\b\b\u001b[7m90% L209\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;22H\u001b[?25lhighlight = sprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h,50)\u001b[3;13H    c = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices:\u001b[K\r\n\t\t    \u001b[33mt1\u001b[39;49m,\u001b[33mu1\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(x,\r\n\t\t    \u001b[33mt2\u001b[39;49m,\u001b[33mu2\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(cx,cy)\u001b[K\u001b[7;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u1: \u001b[33mc\u001b[39;49m = u1.team.color\u001b[8;5H                \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m t1 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t1.team: \u001b[33mc\u001b[39;49m = t1.team.color\u001b[K\u001b[9;5H                \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u2: \u001b[33mc\u001b[39;49m = u2.team.color\u001b[K\u001b[10;5H                \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m: \u001b[33mc\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().color\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.putc(\u001b[35mNone\u001b[39;49m,x,y,c,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight)\u001b[13;13H\u001b[4@\n\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[K\u001b[15;22Hmenu = widgets.Menu(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices)\u001b[16;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.sprite.move_to(cx+1,cy)\u001b[K\u001b[17;22Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.sprite)\r\n\u001b[K\u001b[19;5H\u001b[31m# The session has multiple sprites that need to be rendered, from the       \u001b[39;49m\r\n\u001b[20;5H\u001b[31m# view of the grid to the mutliple popups that need to appear.              \u001b[39;49m\r\n\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrender\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed\u001b[23;29H\u001b[7m84% L208\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m199\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\b\u001b[?25lstory = []\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.end_turn()\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[K\u001b[7;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = result\u001b[K\r\n\u001b[K\u001b[10;13H\u001b[31m# Set up various UI candy.                                          \u001b[39;49m\r\n\u001b[11;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\u001b[K\u001b[12;22Hhighlight.kill()\u001b[K\u001b[13;22Hhighlight = sprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h,50)\u001b[14;13H    c = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices:\u001b[K\r\n\t\t    \u001b[33mt1\u001b[39;49m,\u001b[33mu1\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(x,\r\n\t\t    \u001b[33mt2\u001b[39;49m,\u001b[33mu2\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(cx,cy)\u001b[K\u001b[18;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u1: \u001b[33mc\u001b[39;49m = u1.team.color\u001b[19;5H                \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m t1 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t1.team: \u001b[33mc\u001b[39;49m = t1.team.color\u001b[K\u001b[20;5H                \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u2: \u001b[33mc\u001b[39;49m = u2.team.color\u001b[K\u001b[21;5H                \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m: \u001b[33mc\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().color\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.putc(\u001b[35mNone\u001b[39;49m,x,y,c,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[23;30H\u001b[7m0% L197\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l\u001b[34mSwitch to buffer (default *scratch*): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l*scratch*\u001b[24;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mLisp-Interaction Help\u001b[0m\u001b[39;49m\u001b[27m\r\nchange. Some, however, are animated (like the battle animation). So let's\r\nsee what we can do.\u001b[K\r\n\u001b[K\nThe way I want this to work is I want the grid to give the session all of the\r\npopup, notification-style sprites that need to be drawn. Maybe I can hide the\r\nupdate in the \u001b[32m\"render\"\u001b[39;49m method. So let's make a Notification widget that\r\nactually extends Sprite, and then make an extension of the notification widget\r\nthat is used for the damage animation. We also need to start drawing our menus\r\nin better places than 0,0. :)\u001b[K\r\n\u001b[K\n\u001b[K\nSo, I'm getting a little depressed at how hardcoded most of the sprite stuff\u001b[K\r\nis. It's not great that I actually have to encode high-level things like\r\nnotifications with low-level things like foreground color and x,y coords.\r\nHopefully when I start with the \u001b[32m\"real fancy graphics\"\u001b[39;49m mode, this will fix\r\nitself, but that will be a long way out if it ever happens.\r\n\u001b[K\nLast thing I really need to do is handle centering popups. It's OK if menus\r\nrun off the edge of the screen for now.\u001b[K\r\n\u001b[K\n\u001b[K\u001b[23;4H\u001b[7mU:**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1m*scratch*   \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   34% L30    (Lisp Interaction) -\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lT\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lj\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[23;30H\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;78H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[23;30H\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lA\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[23;30H\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[22;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\b\u001b[K\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\u001b[1;22r\u001b[2;1H\u001b[11M\u001b[1;24r\u001b[12;1H\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[?25l\u001b[7mBot L33\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lP\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[C\u001b[?25lP\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[14;1H\u001b[1L\u001b[1;24r\u001b[14;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\b\u001b[K\t\b\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[C\u001b[?25l\u001b[1@ \b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@i\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[1@ \b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@o\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@e\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@s\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\b\t\u001b[?25lT\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\b\u001b[K\u001b[C\b\b\u001b[K\b\u001b[K\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[15;1H\u001b[1L\u001b[1;24r\u001b[15;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[15;1H\u001b[1M\u001b[1;24r\u001b[22;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;76H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[15;1H\u001b[1L\u001b[1;24r\u001b[15;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[16;1H\u001b[1L\u001b[1;24r\u001b[16;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[17;1H\u001b[1L\u001b[1;24r\u001b[17;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lB\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lN\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\u001b[K\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lT\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lU\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lC\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lH\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[C\u001b[?25lM\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lU\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lC\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lH\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lC\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\u001b[C\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[18;1H\u001b[1L\u001b[1;24r\u001b[18;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[19;1H\u001b[1L\u001b[1;24r\u001b[19;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lB\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\u001b[K\b\b\u001b[K\u001b[C\b\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[C\b\b\u001b[K\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lj\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\b\u001b[K\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[20;1H\u001b[1L\u001b[1;24r\u001b[20;1H\u001b[K\u001b[23;29H\u001b[?25l\u001b[7m49% L40\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\n\n\n\n\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lT\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lr\u001b[23;30H\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;76H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[21;1H\u001b[1L\u001b[1;24r\u001b[19;80H\u001b[?25l\\\r\nn\n\b\u001b[K\u001b[A\u001b[C\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[19;80H\u001b[K\r\n\u001b[K\u001b[19;80H\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[23;30H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;75H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[1;22r\u001b[21;1H\u001b[1L\u001b[1;24r\u001b[21;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[23;30H\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;2H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l-\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[23;30H\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;49H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lW\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ln\u001b[23;30H\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lio\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l!\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\u001b[?25l\u001b[34mSwitch to buffer (default session.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help         \u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lsession.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.end_turn()\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[K\u001b[7;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = result\u001b[K\r\n\u001b[K\n            \u001b[31m# Set up various UI candy.                                          \u001b[39;49m\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.kill()\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight = sprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h,50)\r\n                c = \u001b[35mNone\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices:\r\n                    \u001b[33mt1\u001b[39;49m,\u001b[33mu1\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(x,y)\u001b[K\r\n                    \u001b[33mt2\u001b[39;49m,\u001b[33mu2\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(cx,cy)\u001b[K\r\n                    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u1: \u001b[33mc\u001b[39;49m = u1.team.color\u001b[K\r\n                    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m t1 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t1.team: \u001b[33mc\u001b[39;49m = t1.team.color\u001b[K\r\n                    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u2: \u001b[33mc\u001b[39;49m = u2.team.color\u001b[K\r\n                    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m: \u001b[33mc\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().color\u001b[K\u001b[22;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.putc(\u001b[35mNone\u001b[39;49m,x,y,c,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[23;4H\u001b[7m-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   80% L196  Git:master  (Python) \u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\t\u001b[?25l    \u001b[33mcp\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint\u001b[3;26H = copy.deepcopy(cp)\u001b[4;22Hcheckpoint = copy.deepcopy(cp)\u001b[K\u001b[5;22Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[6;22Hgrid.info()\u001b[K\u001b[7;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[8;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_RESTART:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[10;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs = []\u001b[K\u001b[11;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite.kill()\u001b[K\u001b[12;22Hgrid = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[13;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[K\u001b[16;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_END:\u001b[K\r\n\t\thistory = []\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m].append(history)\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (cp,acts) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history:\u001b[K\u001b[20;21Hhistory.append(acts)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.end_turn()\u001b[K\u001b[23;29H\u001b[7m71% L188\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result:\u001b[K\u001b[3;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result == rules.ACT_COMMIT:\u001b[K\u001b[4;22Hhistory.append((copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint),\r\n\t\t                     \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs))\u001b[K\u001b[6;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[8;38HTRASH:\u001b[K\u001b[9;22Hgrid.sprite.kill()\u001b[11;26H = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint)\u001b[12;26H_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[13;22Hgrid.info()\u001b[K\u001b[14;22Haction = rules.Begin()\u001b[K\u001b[15;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_UNDO:\u001b[K\u001b[16;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite.kill()\u001b[K\r\n\t\tcp = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history) > 0:\u001b[K\r\n\t\t    \u001b[33mcp\u001b[39;49m, \u001b[33macts\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.pop()\r\n\t\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t\t    \u001b[33mcp\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint\u001b[22;26H = copy.deepcopy(cp)\u001b[23;29H\u001b[7m63% L169\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[3;13H        result = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.move_to(cx,cy)\u001b[K\u001b[6;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c:\u001b[K\u001b[8;13H        val = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\r\n\t\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m val:\u001b[K\r\n\t\t\u001b[8@\u001b[10;36H.append(val)\r\n\t\t        result = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(val, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\t    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t\t        info = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.info(), \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\u001b[K\n\u001b[K\n\t\u001b[31m# If we got a result from performing an action, we will be given        \u001b[39;49m\r\n\t\u001b[31m# either an order or a new action to perform. The orders tell us that   \u001b[39;49m\r\n\t\u001b[31m# the action was complete and that we either need to commit it or       \u001b[39;49m\r\n\t\u001b[31m# undo our mess.                                                        \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result:\u001b[K\n\b\b\b\b\b\b\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result == rules.ACT_COMMIT:\u001b[K\u001b[23;29H\u001b[7m54% L150\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\t\u001b[?25l    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables):\u001b[3;21H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab %= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables)\u001b[K\u001b[4;21H    \u001b[33mu\u001b[39;49m = tabbables[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab]\u001b[K\r\n\t\t        \u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = u.x,u.y\u001b[K\u001b[6;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor != (cx,cy)):\u001b[K\r\n\t\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (cx < 0): \u001b[33mcx\u001b[39;49m = 0\u001b[8;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (cy < 0): \u001b[33mcy\u001b[39;49m = 0\u001b[K\u001b[9;24H(cx >= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w): \u001b[33mcx\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w-1\u001b[10;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (cy >= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w): \u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h-1\u001b[11;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = cx,cy\u001b[K\u001b[12;21H\u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[13;21H\u001b[33msx\u001b[39;49m,\u001b[33msy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll\u001b[14;21H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cx-sx < 0 ): \u001b[33msx\u001b[39;49m -= 10\u001b[K\u001b[15;21H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cy-sy < 0 ): \u001b[33msy\u001b[39;49m -= 5\u001b[16;21H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cx-sx > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w): \u001b[33msx\u001b[39;49m += 10\r\n\t            \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cy-sy > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h): \u001b[33msy\u001b[39;49m += 5\u001b[K\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m ((sx,sy) != \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll):\u001b[K\r\n\t                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll = sx,sy\u001b[K\r\n\t                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.move_to(-sx,-sy)\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[22;13H        result = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[23;29H\u001b[7m45% L131\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\n\t\u001b[?25l\u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\r\n\t\u001b[31m# If control does not belong to the human, then the control simply      \u001b[39;49m\r\n\t\u001b[31m# allows the player to move the map around.                             \u001b[39;49m\r\n\t\u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[K\r\n\t\u001b[33mresult\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[33minfo\u001b[39;49m = {}\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().control == \u001b[32m\"human\"\u001b[39;49m:\u001b[K\u001b[10;13H\u001b[33mresult\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[11;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"left\"\u001b[39;49m: cx -=1\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"right\"\u001b[39;49m: cx +=1\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: cy -= 1\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: cy += 1\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"\\t\"\u001b[39;49m:\u001b[K\u001b[17;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab += 1\u001b[K\u001b[18;21Htabbables = [u \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.ready\r\n\t\t\t         \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\r\n\t\t\t         \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.x \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.y \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m]\r\n\t\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables):\u001b[22;21H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab %= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables)\u001b[K\u001b[23;29H\u001b[7m36% L112\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed = 0.05\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\u001b[7;5H\u001b[31m# This exports our data as a dictionary to be JSONified. If history is      \u001b[39;49m\r\n\u001b[8;5H\u001b[31m# included, it's like saving a snapshot of the game to be continued later.  \u001b[39;49m\r\n\u001b[9;5H\u001b[31m# If griddata is included, it's like using the current snapshot as a new    \u001b[39;49m\r\n\u001b[10;5H\u001b[31m# map.                                                                      \u001b[39;49m\r\n\u001b[11;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, history=\u001b[35mTrue\u001b[39;49m, griddata=\u001b[35mFalse\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\r\n\u001b[K\u001b[14;5H\u001b[31m# This function takes the character that was most recently entered by the   \u001b[39;49m\r\n\u001b[15;5H\u001b[31m# player and handles it. Even if no player is playing, this function        \u001b[39;49m\r\n\u001b[16;5H\u001b[31m# essentially serves as the step function for the AI.                       \u001b[39;49m\r\n\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\u001b[K\u001b[19;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications.append(n)\u001b[K\u001b[20;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(n.sprite)\u001b[K\r\n\u001b[K\n\t\u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\u001b[23;29H\u001b[7m29% L93 \u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m89\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[?25l\u001b[1@,\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;15H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@l\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@o\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@c\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m90\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[20;50H\r\n\n\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[21;13H\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\b\b\u001b[?25l\u001b[33mloc\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\u001b[?25lloc ==\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32m\"                                                         \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[21;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mc\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[21;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m                                                   \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[21;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\r\n\u001b[K\u001b[21;23H\u001b[?25lN\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[35mNone\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\u001b[K\u001b[3;5H\u001b[?25l\u001b[31m# This function takes the character that was most recently entered by the   \u001b[39;49m\r\n\u001b[4;5H\u001b[31m# player and handles it. Even if no player is playing, this function        \u001b[39;49m\r\n\u001b[5;5H\u001b[31m# essentially serves as the step function for the AI.                       \u001b[39;49m\r\n\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[7;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n,loc \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\u001b[K\u001b[8;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications.append(n)\u001b[K\u001b[9;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(n.sprite)\u001b[K\u001b[10;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m loc == \u001b[35mNone\u001b[39;49m:\u001b[K\r\n\u001b[K\n\t\u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\r\n\t\u001b[31m# If control does not belong to the human, then the control simply      \u001b[39;49m\r\n\u001b[14;5H    \u001b[31m# allows the player to move the map around.                             \u001b[39;49m\r\n\u001b[15;5H    \u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[K\u001b[16;5H    \u001b[33mresult\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[17;5H    \u001b[33minfo\u001b[39;49m = {}\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().control == \u001b[32m\"human\"\u001b[39;49m:\u001b[19;13Hresult = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[20;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\u001b[21;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"left\"\u001b[39;49m: cx -=1\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"right\"\u001b[39;49m: cx +=1\u001b[23;29H\u001b[7m33% L94\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[12;1H\u001b[1L\u001b[1;24r\u001b[12;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[11;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[11;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[11;17H\u001b[?25lp\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31m#                                                          \u001b[39;49m\r\n\u001b[11;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mc\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[C\u001b[?25l\u001b[31m#                                                          \u001b[39;49m\r\n\u001b[11;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mc\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[13;1H\u001b[1L\u001b[1;24r\u001b[13;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;30H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lCloses \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m loc == \u001b[35mNone\u001b[39;49m:\u001b[12;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[14;1H\u001b[1L\u001b[1;24r\u001b[24;1H\u001b[K\u001b[14d\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[24;1H\u001b[?25lAuto-saving...\u001b[13;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[13;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[10;28H\b\b\b\b\b\u001b[?25lNon:\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l:\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l:\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l:\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\":                                                        \u001b[39;49m\r\n\u001b[32m                pass #center                                                    \u001b[39;49m\r\n\u001b[10;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mc:\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me:\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mn:\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt:\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me:\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mr:\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m:\u001b[K\r\n                \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m \u001b[31m#center                                                    \u001b[39;49m\r\n\u001b[10;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\u001b[?25lels:\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l:\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li:\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m:\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l :\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll:\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo:\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc:\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l :\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25l\u001b[33mloc\u001b[39;49m =:\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\u001b[?25lloc ==:\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l :\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\":                                                      \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[12;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[32m        # If control belongs to the human, then we process all inputs that way.\u001b[39;49m\r\n\u001b[32m        # If control does not belong to the human, then the control simply      \u001b[39;49m\r\n\u001b[32m        # allows the player to move the map around.                             \u001b[39;49m\r\n\u001b[32m        cx,cy = self.cursor                                                     \u001b[39;49m\r\n\u001b[32m        result = None                                                           \u001b[39;49m\r\n\u001b[32m        info = {}                                                               \u001b[39;49m\r\n\u001b[32m        if self.grid.current_team().control == \"\u001b[39;49mhuman\u001b[32m\":                         \u001b[39;49m\r\n\u001b[32m            result = None                                                       \u001b[39;49m\r\n\u001b[12;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[9;50H\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32mt:\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ml:\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m:\u001b[K\r\n\u001b[K\u001b[12;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[K\n\u001b[?25l        \u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\r\n        \u001b[31m# If control does not belong to the human, then the control simply      \u001b[39;49m\r\n        \u001b[31m# allows the player to move the map around.                             \u001b[39;49m\r\n        \u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[K\r\n        \u001b[33mresult\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n        \u001b[33minfo\u001b[39;49m = {}\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().control == \u001b[32m\"human\"\u001b[39;49m:\u001b[K\r\n            result = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[12;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[32ml\"\u001b[39;49m:\u001b[K\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mul\"\u001b[39;49m:\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\b\b\u001b[1;22r\u001b[14;1H\u001b[1L\u001b[1;24r\u001b[14;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\b\b\b\b\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\b\b\u001b[?25l\u001b[33mloc\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\u001b[?25lloc ==\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[32m\"                                                       \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[13;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[32m        # If control belongs to the human, then we process all inputs that way.\u001b[39;49m\r\n\u001b[32m        # If control does not belong to the human, then the control simply      \u001b[39;49m\r\n\u001b[32m        # allows the player to move the map around.                             \u001b[39;49m\r\n\u001b[32m        cx,cy = self.cursor                                                     \u001b[39;49m\r\n\u001b[32m        result = None                                                           \u001b[39;49m\r\n\u001b[32m        info = {}                                                               \u001b[39;49m\r\n\u001b[32m        if self.grid.current_team().control == \"\u001b[39;49mhuman\u001b[32m\":                         \u001b[39;49m\r\n\u001b[13;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mu\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[13;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[K\n\u001b[?25l        \u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\r\n        \u001b[31m# If control does not belong to the human, then the control simply      \u001b[39;49m\r\n        \u001b[31m# allows the player to move the map around.                             \u001b[39;49m\r\n        \u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[K\r\n        \u001b[33mresult\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n        \u001b[33minfo\u001b[39;49m = {}\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().control == \u001b[32m\"human\"\u001b[39;49m:\u001b[K\u001b[13;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lL\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lCloses \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"ul\"\u001b[39;49m:\u001b[13;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[13;30H\u001b[K\b\u001b[K\u001b[24;1H\u001b[?25lCloses \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"ul\"\u001b[39;49m:\u001b[13;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[15;1H\u001b[1L\u001b[1;24r\u001b[24;1H\u001b[K\u001b[15d\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\r\u001b[K\t\t\b\b\b\b\r\t\t\b\b\b\b\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\b\b\u001b[?25l\u001b[33mloc\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\u001b[?25lloc ==\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[32m\"                                                       \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[14;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mb\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ml\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[14;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lCloses \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"ur\"\u001b[39;49m:\u001b[14;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[16;1H\u001b[1L\u001b[1;24r\u001b[24;1H\u001b[K\u001b[16d\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\t\t\b\b\b\b\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25lelifl\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\b\b\u001b[?25l\u001b[33mloc\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\u001b[?25lloc ==\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[32m\"                                                       \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[15;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mb\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[15;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m                                                    \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[15;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[15;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lCloses \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"bl\"\u001b[39;49m:\u001b[15;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[9;50H\u001b[1;22r\u001b[16;1H\u001b[1L\u001b[1;24r\u001b[10;1H\u001b[K\u001b[11;13H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m loc == \u001b[32m\"center\"\u001b[39;49m:\u001b[K\u001b[12;13H    \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m \u001b[31m#center                                                    \u001b[39;49m\r\n\u001b[13;27H\u001b[32ml\u001b[39;49m\n\b\b\u001b[32mur\u001b[39;49m\n\b\u001b[32ml\u001b[39;49m\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"br\"\u001b[39;49m:\u001b[K\u001b[23;35H\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[10;13H\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\b\b\b\u001b[?25l\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[22;12H\u001b[?25lcy\u001b[10;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[10;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[10;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[H\n\t\u001b[?25l\u001b[31m# allows the player to move the map around.                             \u001b[39;49m\r\n\u001b[3;5H    \u001b[33mcx\u001b[39;49m,cy = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[K\u001b[4;5H    result = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[5;5H    info = {}\u001b[K\u001b[6;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().control == \u001b[32m\"human\"\u001b[39;49m:\r\n\t    \u001b[33mresult\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[8;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\u001b[9;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"left\"\u001b[39;49m: cx -=1\u001b[K\u001b[10;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"right\"\u001b[39;49m: cx +=1\u001b[11;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: cy -= 1\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: cy += 1\u001b[K\u001b[13;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"\\t\u001b[39;49m\u001b[14;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab += 1\u001b[15;13H        tabbables = [u \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.ready\u001b[16;13H                     \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[17;34H\u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.x \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.y \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m]\u001b[18;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables):\r\n\t                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab %= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables)\u001b[K\r\n\t                \u001b[33mu\u001b[39;49m = tabbables[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab]\u001b[K\r\n\t                \u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = u.x,u.y\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor != (cx,cy)):\u001b[23;30H\u001b[7m9% L103\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l                \u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = u.x,u.y\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor != (cx,cy)):\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (cx < 0): \u001b[33mcx\u001b[39;49m = 0\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (cy < 0): \u001b[33mcy\u001b[39;49m = 0\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (cx >= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w): \u001b[33mcx\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w-1\u001b[7;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (cy >= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w): \u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h-1\u001b[8;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = cx,cy\u001b[K\r\n\t\t    \u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\t    \u001b[33msx\u001b[39;49m,\u001b[33msy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll\r\n\t\t    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cx-sx < 0 ): \u001b[33msx\u001b[39;49m -= 10\r\n\t\t    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cy-sy < 0 ): \u001b[33msy\u001b[39;49m -= 5\r\n\t\t    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cx-sx > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w): \u001b[33msx\u001b[39;49m += 10\u001b[14;21H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cy-sy > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h): \u001b[33msy\u001b[39;49m += 5\u001b[15;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m ((sx,sy) != \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll):\u001b[K\r\n\t\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll = sx,sy\u001b[K\r\n\t\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.move_to(-sx,-sy)\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\u001b[19;21Hresult = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[20;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.move_to(cx,cy)\u001b[22;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[23;29H\u001b[7m47% L122\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.move_to(cx,cy)\u001b[3;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c:\u001b[K\n\bval = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\u001b[6;24Hval:\u001b[K\u001b[7;21H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(val)\u001b[K\u001b[8;21H    result = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(val, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[9;21H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[10;21H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b\b    info = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.info(), \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\u001b[K\n\u001b[K\n\t\u001b[31m# If we got a result from performing an action, we will be given        \u001b[39;49m\r\n\t\u001b[31m# either an order or a new action to perform. The orders tell us that   \u001b[39;49m\r\n\t\u001b[31m# the action was complete and that we either need to commit it or       \u001b[39;49m\r\n\t\u001b[31m# undo our mess.                                                        \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result:\u001b[K\n\b\b\b\b\b\b\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result == rules.ACT_COMMIT:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.append((copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint),\r\n\t\t                     \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs))\u001b[22;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[23;29H\u001b[7m57% L141\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25l                     \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs))\u001b[3;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[5;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_TRASH:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite.kill()\r\n\t\t\u001b[8P\u001b[7;28H = []\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info()\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[K\u001b[12;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_UNDO:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite.kill()\r\n\t        cp = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history) > 0:\u001b[K\r\n\t            \u001b[33mcp\u001b[39;49m, \u001b[33macts\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.pop()\u001b[K\r\n\t        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t            \u001b[33mcp\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint\u001b[19;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = copy.deepcopy(cp)\u001b[20;22Hcheckpoint = copy.deepcopy(cp)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[22;22Hgrid.info()\u001b[K\n\b\b\b\b\u001b[7m65% L160\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[3;22Hgrid.info()\u001b[K\u001b[5;38HRESTART:\u001b[6;22Hhistory = []\u001b[K\u001b[8;26H.sprite.kill()\u001b[K\u001b[9;26H = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[K\u001b[10;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[11;22Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[12;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[13;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_END:\r\n\t\thistory = []\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m].append(history)\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (cp,acts) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history:\u001b[K\r\n\t\t    history.append(acts)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[K\u001b[19;26H.end_turn()\u001b[K\u001b[20;22Hstartover = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[21;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\u001b[22;22Haction = rules.Begin()\u001b[23;29H\u001b[7m73% L179\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;22H\u001b[?25lcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\u001b[3;22Haction = rules.Begin()\u001b[4;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b\b    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = result\u001b[K\r\n\u001b[K\u001b[7;13H\u001b[31m# Set up various UI candy.                                          \u001b[39;49m\r\n\u001b[8;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\u001b[9;22Hhighlight.kill()\u001b[K\u001b[10;22Hhighlight = sprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h,50)\r\n\t\tc = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices:\u001b[13;13H        \u001b[33mt1\u001b[39;49m,\u001b[33mu1\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(x,y)\r\n\t\t    \u001b[33mt2\u001b[39;49m,\u001b[33mu2\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(cx,cy)\r\n\t\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u1: \u001b[33mc\u001b[39;49m = u1.team.color\u001b[K\r\n\t\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m t1 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t1.team: \u001b[33mc\u001b[39;49m = t1.team.color\u001b[17;21H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u2: \u001b[33mc\u001b[39;49m = u2.team.color\r\n\t\t    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m: \u001b[33mc\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().color\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.putc(\u001b[35mNone\u001b[39;49m,x,y,c,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[20;22Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight)\u001b[21;22Hanimation = 0.0\u001b[K\u001b[22;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[23;29H\u001b[7m82% L198\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;22H\u001b[?25lanimation = 0.0\u001b[K\u001b[3;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[4;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = widgets.Menu(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices)\u001b[5;22Hmenu.sprite.move_to(cx+1,cy)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.sprite)\r\n\u001b[K\u001b[8;5H\u001b[31m# The session has multiple sprites that need to be rendered, from the       \u001b[39;49m\r\n\u001b[9;5H\u001b[31m# view of the grid to the mutliple popups that need to appear.              \u001b[39;49m\r\n\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrender\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation >= 1.0:\u001b[K\u001b[13;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[K\u001b[14;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[K\u001b[16;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.show()\u001b[K\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units:\u001b[K\u001b[19;21Hu.cycle_anim()\u001b[K\r\n\t\u001b[33mnotifications\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m notifications:\u001b[K\n\b\b\b\u001b[7m90% L217\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m notifications:\u001b[K\u001b[4;13Hn.update()\u001b[K\u001b[5;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m n.alive:\u001b[K\n\b\bnotifications.append(n)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.render(0,0)\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L236\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u001b[24d\u001b[?25lEnd of buffer\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u0007\u0007\u0007\u0007\u0007\u001b[24d\u001b[K\u001b[H\n\t\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[4;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = widgets.Menu(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices)\u001b[5;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.sprite.move_to(cx+1,cy)\u001b[6;22Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.sprite)\r\n\u001b[K\u001b[8;5H\u001b[31m# The session has multiple sprites that need to be rendered, from the       \u001b[39;49m\r\n\u001b[9;5H\u001b[31m# view of the grid to the mutliple popups that need to appear.              \u001b[39;49m\r\n\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrender\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation >= 1.0:\u001b[13;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[14;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[16;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.show()\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units:\u001b[19;21Hu.cycle_anim()\r\n\t\u001b[33mnotifications\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications = []\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m notifications:\n\b\b\b\u001b[7m90%\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m29\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[?25l\u001b[1@c\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@o\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@a\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@i\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@e\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@r\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[6;36H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[6;36H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;36H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;36H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m19\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;36H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m20\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;36H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[5;50H\b\b\u001b[2;22H\u001b[?25lcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[3;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[K\u001b[4;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[5;22Haction = result\u001b[K\r\n\u001b[K\u001b[7;13H\u001b[31m# Set up various UI candy.                                          \u001b[39;49m\r\n\u001b[8;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\u001b[K\u001b[9;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.kill()\u001b[K\u001b[10;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight = sprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h,50)\r\n\t        c = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices:\u001b[13;13H        \u001b[33mt1\u001b[39;49m,\u001b[33mu1\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(x,y)\u001b[14;13H        \u001b[33mt2\u001b[39;49m,\u001b[33mu2\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(cx,cy)\u001b[K\r\n\t\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u1: \u001b[33mc\u001b[39;49m = u1.team.color\u001b[16;13H        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m t1 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t1.team: \u001b[33mc\u001b[39;49m = t1.team.color\u001b[K\r\n\t\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u2: \u001b[33mc\u001b[39;49m = u2.team.color\r\n\t\t    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m: \u001b[33mc\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().color\u001b[19;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.putc(\u001b[35mNone\u001b[39;49m,x,y,c,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight)\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[23;29H\u001b[7m82% L218\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;22H\u001b[?25lgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[3;22Hgrid.info()\u001b[K\u001b[4;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[5;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_RESTART:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[7;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs = []\u001b[K\u001b[8;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite.kill()\u001b[K\u001b[9;22Hgrid = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[10;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[K\u001b[13;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_END:\u001b[K\r\n\t\thistory = []\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m].append(history)\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (cp,acts) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history:\u001b[K\u001b[17;21Hhistory.append(acts)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.end_turn()\u001b[K\u001b[20;22Hstartover = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\u001b[21;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[22;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[K\u001b[23;29H\u001b[7m73% L199\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\t\u001b[?25l                     \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs))\u001b[K\u001b[3;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[5;38HTRASH:\u001b[K\u001b[6;22Hgrid.sprite.kill()\u001b[8;26H = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint)\u001b[9;26H_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[10;22Hgrid.info()\u001b[K\u001b[11;22Haction = rules.Begin()\u001b[K\u001b[12;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_UNDO:\u001b[K\u001b[13;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite.kill()\u001b[K\r\n\t\tcp = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history) > 0:\u001b[K\r\n\t\t    \u001b[33mcp\u001b[39;49m, \u001b[33macts\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.pop()\r\n\t\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t\t    \u001b[33mcp\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint\u001b[19;26H = copy.deepcopy(cp)\u001b[20;22Hcheckpoint = copy.deepcopy(cp)\u001b[K\u001b[21;22Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[22;22Hgrid.info()\u001b[K\n\b\b\b\b\u001b[7m65% L180\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.move_to(cx,cy)\u001b[K\u001b[3;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c:\u001b[K\u001b[5;13H        val = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\r\n\t\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m val:\u001b[K\r\n\t\t\u001b[8@\u001b[7;36H.append(val)\r\n\t\t        result = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(val, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\t    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t\t        info = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.info(), \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\u001b[K\n\u001b[K\n\t\u001b[31m# If we got a result from performing an action, we will be given        \u001b[39;49m\r\n\t\u001b[31m# either an order or a new action to perform. The orders tell us that   \u001b[39;49m\r\n\t\u001b[31m# the action was complete and that we either need to commit it or       \u001b[39;49m\r\n\t\u001b[31m# undo our mess.                                                        \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result:\u001b[K\n\b\b\b\b\b\b\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result == rules.ACT_COMMIT:\u001b[K\u001b[20;22Hhistory.append((copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint),\r\n\t\t                     \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs))\u001b[K\u001b[22;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[23;29H\u001b[7m57% L161\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\t\u001b[?25l        \u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = u.x,u.y\u001b[K\u001b[3;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor != (cx,cy)):\u001b[K\r\n\t\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (cx < 0): \u001b[33mcx\u001b[39;49m = 0\u001b[5;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (cy < 0): \u001b[33mcy\u001b[39;49m = 0\u001b[K\u001b[6;24H(cx >= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w): \u001b[33mcx\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w-1\u001b[7;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (cy >= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w): \u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h-1\u001b[8;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = cx,cy\u001b[K\u001b[9;21H\u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[10;21H\u001b[33msx\u001b[39;49m,\u001b[33msy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll\u001b[11;21H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cx-sx < 0 ): \u001b[33msx\u001b[39;49m -= 10\u001b[K\u001b[12;21H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cy-sy < 0 ): \u001b[33msy\u001b[39;49m -= 5\u001b[13;21H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cx-sx > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w): \u001b[33msx\u001b[39;49m += 10\r\n\t            \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cy-sy > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h): \u001b[33msy\u001b[39;49m += 5\u001b[K\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m ((sx,sy) != \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll):\u001b[K\r\n\t                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll = sx,sy\u001b[K\r\n\t                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.move_to(-sx,-sy)\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[19;13H        result = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.move_to(cx,cy)\u001b[K\u001b[22;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[K\u001b[23;29H\u001b[7m47% L142\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[31m# allows the player to move the map around.                             \u001b[39;49m\r\n\t\u001b[33mcx\u001b[39;49m,cy = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[K\r\n\tresult = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\tinfo = {}\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().control == \u001b[32m\"human\"\u001b[39;49m:\u001b[K\u001b[7;13H\u001b[33mresult\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[8;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"left\"\u001b[39;49m: cx -=1\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"right\"\u001b[39;49m: cx +=1\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: cy -= 1\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: cy += 1\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"\\t\"\u001b[39;49m:\u001b[K\u001b[14;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab += 1\u001b[K\u001b[15;21Htabbables = [u \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.ready\r\n\t\t\t         \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\r\n\t\t\t         \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.x \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.y \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m]\r\n\t\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables):\u001b[19;21H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab %= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables)\u001b[K\u001b[20;21H    \u001b[33mu\u001b[39;49m = tabbables[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab]\u001b[K\r\n\t\t        \u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = u.x,u.y\u001b[K\u001b[22;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor != (cx,cy)):\u001b[K\u001b[23;29H\u001b[7m39% L123\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\u001b[3;5H\u001b[?25l\u001b[31m# This function takes the character that was most recently entered by the   \u001b[39;49m\r\n\u001b[4;5H\u001b[31m# player and handles it. Even if no player is playing, this function        \u001b[39;49m\r\n\u001b[5;5H\u001b[31m# essentially serves as the step function for the AI.                       \u001b[39;49m\r\n\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n,loc \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\u001b[8;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications.append(n)\u001b[K\u001b[9;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(n.sprite)\u001b[10;13H\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = 0,0\u001b[K\u001b[11;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m loc == \u001b[32m\"center\"\u001b[39;49m:\u001b[K\r\n\t\t\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m \u001b[31m#center                                                    \u001b[39;49m\r\n\u001b[13;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"ul\u001b[39;49m\u001b[14;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"ur\"\u001b[39;49m:\u001b[K\u001b[15;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"bl\"\u001b[39;49m:\u001b[K\u001b[16;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"br\"\u001b[39;49m:\u001b[K\r\n\u001b[K\n\u001b[K\n\t\u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\r\n\t\u001b[31m# If control does not belong to the human, then the control simply      \u001b[39;49m\r\n\t\u001b[31m# allows the player to move the map around.                             \u001b[39;49m\r\n\t\u001b[33mcx\u001b[39;49m,cy = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[K\u001b[23;30H\u001b[7m2% L104\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"ul\"\u001b[39;49m:\u001b[3;5H        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"ur\"\u001b[39;49m:\u001b[K\u001b[4;5H        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"bl\"\u001b[39;49m:\u001b[K\u001b[5;5H        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"br\"\u001b[39;49m:\u001b[K\r\n\u001b[K\n\u001b[K\n\t\u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\r\n\t\u001b[31m# If control does not belong to the human, then the control simply      \u001b[39;49m\r\n\t\u001b[31m# allows the player to move the map around.                             \u001b[39;49m\r\n\t\u001b[33mcx\u001b[39;49m,cy = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[K\r\n\tresult = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\tinfo = {}\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().control == \u001b[32m\"human\"\u001b[39;49m:\u001b[15;13H\u001b[33mresult\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[16;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"left\"\u001b[39;49m: cx -=1\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"right\"\u001b[39;49m: cx +=1\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: cy -= 1\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: cy += 1\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"\\t\"\u001b[39;49m:\u001b[K\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab += 1\n\b\b\b\b\u001b[7m6% L105\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[11;28H\u001b[1;22r\u001b[13;1H\u001b[1L\u001b[1;24r\u001b[11;12H\u001b[?25l\u001b[33mcy\u001b[39;49m\r\n\u001b[K\n        \u001b[33mresult\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[23;6H\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   36% L105\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\n\n\u001b[?25l\u001b[33minfo\u001b[39;49m\n\nresult\u001b[12;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\r\u001b[K\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\r\t\u001b[?25l\u001b[33msx\u001b[39;49m,\u001b[33msy\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lAuto-saving...\u001b[12;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[12;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[12;21H\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: cy += 1\u001b[3;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"\\t\u001b[39;49m\u001b[4;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab += 1\u001b[5;13H        tabbables = [u \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.ready\u001b[6;34H\u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[7;34H\u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.x \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.y \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m]\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables):\u001b[K\r\n\t                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab %= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables)\u001b[K\r\n\t                \u001b[33mu\u001b[39;49m = tabbables[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab]\u001b[K\r\n\t                \u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = u.x,u.y\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor != (cx,cy)):\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (cx < 0): \u001b[33mcx\u001b[39;49m = 0\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (cy < 0): \u001b[33mcy\u001b[39;49m = 0\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (cx >= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w): \u001b[33mcx\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w-1\u001b[16;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (cy >= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w): \u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h-1\u001b[17;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = cx,cy\u001b[K\r\n\t\t    \u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\t    \u001b[33msx\u001b[39;49m,\u001b[33msy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll\r\n\t\t    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cx-sx < 0 ): \u001b[33msx\u001b[39;49m -= 10\r\n\t\t    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cy-sy < 0 ): \u001b[33msy\u001b[39;49m -= 5\r\n\t\t    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cx-sx > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w): \u001b[33msx\u001b[39;49m += 10\u001b[23;29H\u001b[7m43% L114\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[10;25H\u001b[?25lu\n\u001b[C\u001b[Ccy\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25l    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cy-sy < 0 ): \u001b[33msy\u001b[39;49m -= 5\r\n\t\t    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cx-sx > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w): \u001b[33msx\u001b[39;49m += 10\u001b[4;21H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cy-sy > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h): \u001b[33msy\u001b[39;49m += 5\u001b[5;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m ((sx,sy) != \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll):\u001b[K\r\n\t\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll = sx,sy\u001b[K\r\n\t\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.move_to(-sx,-sy)\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\u001b[9;21Hresult = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[10;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.move_to(cx,cy)\u001b[12;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c:\u001b[K\n\bval = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\r\n\t\t\t\bval:\u001b[K\u001b[16;21H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(val)\u001b[K\u001b[17;21H    \u001b[33mresult\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(val, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[18;21H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[19;21H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b\b    \u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.info(), \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7m52% L133\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[23;30H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[8;1H\u001b[1M\u001b[1;24r\u001b[6;25H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.move_to(-sx,-sy)\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\u001b[22;1H        \u001b[31m# If we got a result from performing an action, we will be given        \u001b[39;49m\r\n\u001b[A\u001b[6d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[8;21H\u001b[?25l\u001b[33mresult\u001b[39;49m\u001b[16;25Hresult\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lUndo!\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[8;1H\u001b[1L\u001b[1;24r\u001b[6;1H\u001b[K\n\t\t\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.move_to(-sx,-sy)\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[6d\u001b[24d\u001b[?25lUndo!\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll = sx,sy\u001b[23;30H\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;21H\u001b[?25l    u = tabbables[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab]\u001b[K\u001b[3;21H    \u001b[33mcx\u001b[39;49m,cy = u.x,u.y\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor != (cx,cy)):\u001b[K\r\n\t\t\tcx < 0): \u001b[33mcx\u001b[39;49m = 0\u001b[K\u001b[6;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (cy < 0): \u001b[33mcy\u001b[39;49m = 0\u001b[K\u001b[7;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (cx >= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w): \u001b[33mcx\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w-1\r\n\t\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (cy >= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w): \u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h-1\u001b[9;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = cx,cy\u001b[K\u001b[10;21H\u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\t    \u001b[33msx\u001b[39;49m,\u001b[33msy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll\u001b[K\u001b[12;13H        \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cx-sx < 0 ): \u001b[33msx\u001b[39;49m -= 10\u001b[K\r\n\t\t    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cy-sy < 0 ): \u001b[33msy\u001b[39;49m -= 5\u001b[14;21H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cx-sx > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w): \u001b[33msx\u001b[39;49m += 10\u001b[15;21H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cy-sy > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h): \u001b[33msy\u001b[39;49m += 5\u001b[16;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m ((sx,sy) != \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll):\r\n\t\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll = sx,sy\u001b[K\u001b[18;30Hgrid_canvas.move_to(-sx,-sy)\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[20;21H\u001b[33mresult\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[4P\u001b[21;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.move_to(cx,cy)\u001b[23;29H\u001b[7m47% L132\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m29\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[20;21H\u001b[?25lresult\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m30\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[1;22r\u001b[13;1H\u001b[1M\u001b[1;24r\u001b[11;21H\u001b[?25l\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cx-sx < 0 ): \u001b[33msx\u001b[39;49m -= 10\u001b[12;30Hy-sy < 0 ): \u001b[33msy\u001b[39;49m -= 5\u001b[K\u001b[22;1H            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[K\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.move_to(cx,cy)\u001b[3;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[4;20Hc:\u001b[K\n\b\u001b[33mval\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\u001b[6;24Hval:\u001b[K\u001b[7;21H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(val)\u001b[K\u001b[8;21H    \u001b[33mresult\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(val, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[9;21H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[10;21H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b\b    \u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.info(), \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\u001b[K\n\u001b[K\n\t\u001b[31m# If we got a result from performing an action, we will be given        \u001b[39;49m\r\n\t\u001b[31m# either an order or a new action to perform. The orders tell us that   \u001b[39;49m\r\n\t\u001b[31m# the action was complete and that we either need to commit it or       \u001b[39;49m\r\n\t\u001b[31m# undo our mess.                                                        \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result:\u001b[K\n\b\b\b\b\b\b\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result == rules.ACT_COMMIT:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.append((copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint),\r\n\t\t                     \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs))\u001b[22;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[23;29H\u001b[7m57% L14\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25l                     \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs))\u001b[3;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[5;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_TRASH:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite.kill()\r\n\t\t\u001b[8P\u001b[7;28H = []\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info()\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[K\u001b[12;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_UNDO:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite.kill()\r\n\t        cp = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history) > 0:\u001b[K\r\n\t            \u001b[33mcp\u001b[39;49m, acts = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.pop()\u001b[K\r\n\t        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t            cp = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint\u001b[19;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = copy.deepcopy(cp)\u001b[20;22Hcheckpoint = copy.deepcopy(cp)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[22;22Hgrid.info()\u001b[K\n\b\b\b\b\u001b[7m65% L160\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[3;22Hgrid.info()\u001b[K\u001b[5;38HRESTART:\u001b[6;22Hhistory = []\u001b[K\u001b[8;26H.sprite.kill()\u001b[K\u001b[9;26H = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[K\u001b[10;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[11;22Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[12;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[13;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_END:\r\n\t\thistory = []\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m].append(history)\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (cp,acts) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history:\u001b[K\r\n\t\t    history.append(acts)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[K\u001b[19;26H.end_turn()\u001b[K\u001b[20;22Hstartover = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[21;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\u001b[22;22Haction = rules.Begin()\u001b[23;29H\u001b[7m73% L179\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;22H\u001b[?25lcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\u001b[3;22Haction = rules.Begin()\u001b[4;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b\b    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = result\u001b[K\r\n\u001b[K\u001b[7;13H\u001b[31m# Set up various UI candy.                                          \u001b[39;49m\r\n\u001b[8;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\u001b[9;22Hhighlight.kill()\u001b[K\u001b[10;22Hhighlight = sprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h,50)\r\n\t\tc = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices:\u001b[13;13H        \u001b[33mt1\u001b[39;49m,u1 = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(x,y)\r\n\t\t    \u001b[33mt2\u001b[39;49m,u2 = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(cx,cy)\r\n\t\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u1: c = u1.team.color\u001b[K\r\n\t\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m t1 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t1.team: c = t1.team.color\u001b[17;21H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u2: \u001b[33mc\u001b[39;49m = u2.team.color\r\n\t\t    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m: \u001b[33mc\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().color\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.putc(\u001b[35mNone\u001b[39;49m,x,y,c,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[20;22Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight)\u001b[21;22Hanimation = 0.0\u001b[K\u001b[22;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[23;29H\u001b[7m82% L198\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;22H\u001b[?25lanimation = 0.0\u001b[K\u001b[3;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[4;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = widgets.Menu(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices)\u001b[5;22Hmenu.sprite.move_to(cx+1,cy)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_container.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.sprite)\r\n\u001b[K\u001b[8;5H\u001b[31m# The session has multiple sprites that need to be rendered, from the       \u001b[39;49m\r\n\u001b[9;5H\u001b[31m# view of the grid to the mutliple popups that need to appear.              \u001b[39;49m\r\n\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrender\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation >= 1.0:\u001b[K\u001b[13;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[K\u001b[14;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[K\u001b[16;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.show()\u001b[K\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units:\u001b[K\u001b[19;21Hu.cycle_anim()\u001b[K\r\n\t\u001b[33mnotifications\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m notifications:\u001b[K\n\b\b\b\u001b[7m90% L217\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m notifications:\u001b[K\u001b[4;13Hn.update()\u001b[K\u001b[5;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m n.alive:\u001b[K\n\b\bnotifications.append(n)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.render(0,0)\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L236\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrender\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation >= 1.0:\u001b[5;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[6;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[8;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.show()\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units:\u001b[11;21Hu.cycle_anim()\r\n\t\u001b[33mnotifications\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications = []\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m notifications:\u001b[15;13Hn.update()\u001b[16;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m n.alive:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications.append(n)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.render(0,0)\u001b[23;29H\u001b[7m94% L235\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m29\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l                \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m: \u001b[33mc\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().color\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.putc(\u001b[35mNone\u001b[39;49m,x,y,c,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight)\u001b[5;13H\u001b[4@\n\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[K\u001b[7;22Hmenu = widgets.Menu(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices)\u001b[8;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.sprite.move_to(cx+1,cy)\u001b[K\u001b[9;22Hgrid_container.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.sprite)\r\n\u001b[K\u001b[11;5H\u001b[31m# The session has multiple sprites that need to be rendered, from the       \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# view of the grid to the mutliple popups that need to appear.              \u001b[39;49m\r\n\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrender\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation >= 1.0:\u001b[16;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[17;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[19;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.show()\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units:\u001b[22;21Hu.cycle_anim()\n\b\b\b\b\b\b\u001b[7m88% L224\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m19\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m20\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;50H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25l-,cy)\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls,cy)\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx,cy)\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[C\u001b[?25l-)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[8;55H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[8;55H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;55H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;55H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.end_turn()\u001b[K\u001b[4;22Hstartover = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\u001b[5;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[6;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[K\u001b[7;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[8;22Haction = result\u001b[K\r\n\u001b[K\u001b[10;13H\u001b[31m# Set up various UI candy.                                          \u001b[39;49m\r\n\u001b[11;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\u001b[K\u001b[12;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.kill()\u001b[K\u001b[13;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight = sprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h,50)\r\n\t        c = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices:\u001b[16;13H        \u001b[33mt1\u001b[39;49m,u1 = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(x,y)\u001b[17;13H        \u001b[33mt2\u001b[39;49m,u2 = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(cx,cy)\u001b[K\r\n\t\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u1: c = u1.team.color\u001b[19;13H        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m t1 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t1.team: c = t1.team.color\u001b[K\r\n\t\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u2: \u001b[33mc\u001b[39;49m = u2.team.color\r\n\t\t    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m: \u001b[33mc\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().color\u001b[22;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.putc(\u001b[35mNone\u001b[39;49m,x,y,c,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[23;30H\u001b[7m0% L215\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\t\u001b[?25l    cp = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint\u001b[3;26H = copy.deepcopy(cp)\u001b[4;22Hcheckpoint = copy.deepcopy(cp)\u001b[K\u001b[5;22Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[6;22Hgrid.info()\u001b[K\u001b[7;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[8;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_RESTART:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[10;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs = []\u001b[K\u001b[11;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite.kill()\u001b[K\u001b[12;22Hgrid = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[13;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[K\u001b[16;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_END:\u001b[K\r\n\t\thistory = []\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m].append(history)\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (cp,acts) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history:\u001b[K\u001b[20;21Hhistory.append(acts)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.end_turn()\u001b[K\u001b[23;29H\u001b[7m72% L196\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result:\u001b[K\u001b[3;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result == rules.ACT_COMMIT:\u001b[K\u001b[4;22Hhistory.append((copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint),\r\n\t\t                     \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs))\u001b[K\u001b[6;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[8;38HTRASH:\u001b[K\u001b[9;22Hgrid.sprite.kill()\u001b[11;26H = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint)\u001b[12;26H_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[13;22Hgrid.info()\u001b[K\u001b[14;22Haction = rules.Begin()\u001b[K\u001b[15;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_UNDO:\u001b[K\u001b[16;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite.kill()\u001b[K\r\n\t\tcp = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history) > 0:\u001b[K\r\n\t\t    \u001b[33mcp\u001b[39;49m, acts = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.pop()\r\n\t\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t\t    cp = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint\u001b[22;26H = copy.deepcopy(cp)\u001b[23;29H\u001b[7m64% L177\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[3;13H        result = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.move_to(cx,cy)\u001b[K\u001b[6;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c:\u001b[K\u001b[8;13H        \u001b[33mval\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\r\n\t\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m val:\u001b[K\r\n\t\t\u001b[8@\u001b[10;36H.append(val)\r\n\t\t        \u001b[33mresult\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(val, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\t    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t\t        \u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.info(), \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\u001b[K\n\u001b[K\n\t\u001b[31m# If we got a result from performing an action, we will be given        \u001b[39;49m\r\n\t\u001b[31m# either an order or a new action to perform. The orders tell us that   \u001b[39;49m\r\n\t\u001b[31m# the action was complete and that we either need to commit it or       \u001b[39;49m\r\n\t\u001b[31m# undo our mess.                                                        \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result:\u001b[K\n\b\b\b\b\b\b\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result == rules.ACT_COMMIT:\u001b[K\u001b[23;29H\u001b[7m55% L158\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\t\u001b[?25l                 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.x \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.y \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m]\u001b[3;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables):\u001b[K\u001b[4;21H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab %= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables)\u001b[K\r\n\t\t        u = tabbables[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab]\u001b[K\u001b[6;13H            \u001b[33mcx\u001b[39;49m,cy = u.x,u.y\u001b[K\u001b[7;20H(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor != (cx,cy)):\u001b[8;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (cx < 0): \u001b[33mcx\u001b[39;49m = 0\u001b[K\u001b[9;24H(cy < 0): \u001b[33mcy\u001b[39;49m = 0\u001b[10;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (cx >= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w): \u001b[33mcx\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w-1\u001b[11;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (cy >= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w): \u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h-1\u001b[K\u001b[12;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = cx,cy\u001b[K\u001b[13;21H\u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[14;21H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cx-sx < 0 ): \u001b[33msx\u001b[39;49m -= 10\u001b[K\u001b[15;21H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cy-sy < 0 ): \u001b[33msy\u001b[39;49m -= 5\u001b[16;21H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cx-sx > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w): \u001b[33msx\u001b[39;49m += 10\r\n\t            \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cy-sy > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h): \u001b[33msy\u001b[39;49m += 5\u001b[K\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m ((sx,sy) != \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll):\u001b[K\r\n\t                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll = sx,sy\u001b[K\r\n\t                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.move_to(-sx,-sy)\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[22;13H        result = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[23;29H\u001b[7m46% L139\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\n\t\u001b[?25l\u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\r\n\t\u001b[31m# If control does not belong to the human, then the control simply      \u001b[39;49m\r\n\t\u001b[31m# allows the player to move the map around.                             \u001b[39;49m\r\n\t\u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[K\r\n\t\u001b[33msx\u001b[39;49m,\u001b[33msy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll\u001b[K\r\n\t\u001b[33mresult\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[33minfo\u001b[39;49m = {}\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().control == \u001b[32m\"human\"\u001b[39;49m:\u001b[K\u001b[11;13Hresult = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[12;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"left\"\u001b[39;49m: cx -=1\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"right\"\u001b[39;49m: cx +=1\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: cy -= 1\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: cy += 1\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"\\t\"\u001b[39;49m:\u001b[K\u001b[18;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab += 1\u001b[K\u001b[19;21Htabbables = [u \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.ready\r\n\t\t\t         \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\r\n\t\t                 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.x \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.y \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m]\u001b[22;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables):\u001b[K\u001b[23;29H\u001b[7m38% L120\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m# map.                                                                      \u001b[39;49m\r\n\u001b[3;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, history=\u001b[35mTrue\u001b[39;49m, griddata=\u001b[35mFalse\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\r\n\u001b[K\u001b[6;5H\u001b[31m# This function takes the character that was most recently entered by the   \u001b[39;49m\r\n\u001b[7;5H\u001b[31m# player and handles it. Even if no player is playing, this function        \u001b[39;49m\r\n\u001b[8;5H\u001b[31m# essentially serves as the step function for the AI.                       \u001b[39;49m\r\n\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n,loc \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\u001b[K\u001b[11;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications.append(n)\u001b[12;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(n.sprite)\u001b[K\u001b[13;13H\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = 0,0\u001b[K\u001b[14;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m loc == \u001b[32m\"center\"\u001b[39;49m:\u001b[K\r\n\t\t\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m \u001b[31m#center                                                    \u001b[39;49m\r\n\u001b[16;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"ul\"\u001b[39;49m:\u001b[K\u001b[17;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"ur\u001b[39;49m\u001b[18;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"bl\"\u001b[39;49m:\u001b[K\u001b[19;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"br\"\u001b[39;49m:\u001b[K\r\n\u001b[K\n\u001b[K\n\t\u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\u001b[23;30H\u001b[7m1% L101\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m99 \u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\u001b[?25l\u001b[1P\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@o\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@a\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@i\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@e\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@r\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[12;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[12;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[12;32H\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[12;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\nTraceback (most recent call last):\r\n  File \"./rules-of-war.py\", line 6, in <module>\r\n    from core import shell\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 9, in <module>\r\n    from . import storage, session\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/session.py\", line 96\r\n    elif loc == \"ur\":\r\n       ^\r\nIndentationError: expected an indented block\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n    \u001b[31m# map.                                                                      \u001b[39;49m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, history=\u001b[35mTrue\u001b[39;49m, griddata=\u001b[35mFalse\u001b[39;49m):\u001b[K\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\r\n\u001b[K\n    \u001b[31m# This function takes the character that was most recently entered by the   \u001b[39;49m\r\n\u001b[A\n    \u001b[31m# player and handles it. Even if no player is playing, this function        \u001b[39;49m\r\n\u001b[A\n    \u001b[31m# essentially serves as the step function for the AI.                       \u001b[39;49m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n,loc \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications.append(n)\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_container.add_sprite(n.sprite)\u001b[K\r\n            \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = 0,0\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m loc == \u001b[32m\"center\"\u001b[39;49m:\u001b[K\r\n                \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m \u001b[31m#center                                                    \u001b[39;49m\r\n\u001b[A\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"ul\"\u001b[39;49m:\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"ur\"\u001b[39;49m:\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"bl\"\u001b[39;49m:\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"br\"\u001b[39;49m:\u001b[K\r\n\u001b[K\n\u001b[K\n        \u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   31% L91   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[12;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[?25l\u001b[31m#if loc == \"center\":                                                \u001b[39;49m\r\n\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m#    pass #center\u001b[39;49m\u001b[15;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m#elif loc == \"ul\":                                                  \u001b[39;49m\r\n\u001b[16;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m#elif loc == \"ur\":                                                  \u001b[39;49m\r\n\u001b[17;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m#elif loc == \"bl\":                                                  \u001b[39;49m\r\n\u001b[18;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m#elif loc == \"br\":                                                  \u001b[39;49m\r\n\u001b[19;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[19;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[19;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 81, in run\r\n    res = self.game.handle_input(c)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/session.py\", line 89, in handle_input\r\n    for n,loc in self.grid.info():\r\nTypeError: 'Notification' object is not iterable\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n    \u001b[31m# map.                                                                      \u001b[39;49m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, history=\u001b[35mTrue\u001b[39;49m, griddata=\u001b[35mFalse\u001b[39;49m):\u001b[K\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\r\n\u001b[K\n    \u001b[31m# This function takes the character that was most recently entered by the   \u001b[39;49m\r\n\u001b[A\n    \u001b[31m# player and handles it. Even if no player is playing, this function        \u001b[39;49m\r\n\u001b[A\n    \u001b[31m# essentially serves as the step function for the AI.                       \u001b[39;49m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n,loc \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications.append(n)\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_container.add_sprite(n.sprite)\u001b[K\r\n            \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = 0,0\u001b[K\r\n            \u001b[31m#if loc == \"center\":                                                \u001b[39;49m\r\n\u001b[A\n            \u001b[31m#    pass #center                                                   \u001b[39;49m\r\n\u001b[A\n            \u001b[31m#elif loc == \"ul\":                                                  \u001b[39;49m\r\n\u001b[A\n            \u001b[31m#elif loc == \"ur\":                                                  \u001b[39;49m\r\n\u001b[A\n            \u001b[31m#elif loc == \"bl\":                                                  \u001b[39;49m\r\n\u001b[A\n            \u001b[31m#elif loc == \"br\":                                                  \u001b[39;49m\r\n\u001b[A\n\u001b[K\n\u001b[K\n        \u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   31% L98   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[19;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m89\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[10;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[10;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[31m\u001b[40m|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[31m\u001b[40m|Ramen, move out!|\u001b(B\u001b[0;1m\u001b[34m\u001b[40m$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m........\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[3;18H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[2d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m|\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[3d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m|\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m+\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[5d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[C\u001b[32m\u001b[40m.................\r\u001b[2d............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\r\u001b[3d...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###\u001b[4;2H\u001b(B\u001b[0m\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.............\u001b[5;4H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[5d\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[A\b\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[4d\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[A\b\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[3d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[C+---------+\u001b[3;6H|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[4;6H|Surrender|\u001b[5;6H|End Turn |\u001b[6;6H+---------+\u001b[3d\b\b\u001b[14;15H\u001b[3;7HClose    \u001b[4;7H\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mSurrender\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7GSurrender\u001b[5;7H\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;15H\u001b[4;7H\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mSurrender\u001b[5;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn \u001b[A\b\u001b[14;15H\u001b[3;7H\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b[4;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mSurrender\u001b[A\b\u001b[2;6H\u001b[32m\u001b[40m.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...\u001b[3;6H..........\u001b(B\u001b[0;1m\u001b[34m\u001b[40m#\u001b[4;6H\u001b(B\u001b[0m\u001b[32m\u001b[40m...........\u001b[5;6H..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[6;6H\u001b[32m\u001b[40m..........\u001b[33m\u001b[40m^\u001b[2;5H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[2d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[2d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[3d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[5d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[6d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[7d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[8d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[9d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[10d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[11d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[12d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[13d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[14d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[15d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[16d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[K\u001b[17;5H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[K\u001b[18;5H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[K\u001b[19;5H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[K\u001b[20;5H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[K\u001b[21;5H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[K\u001b[22;5H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[K\u001b[23;5H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[J\u001b[6G\u001b[14;15H\r\u001b[24d\u001b[5S\u001b[20;5H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\n\n\n\n\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 81, in run\r\n    res = self.game.handle_input(c)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/session.py\", line 139, in handle_input\r\n    result = self.action.perform(self.cursor, self.grid)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/rules.py\", line 56, in perform\r\n    elif len(t.build) > 0 and t.team is grid.current_team():\r\nAttributeError: 'NoneType' object has no attribute 'build'\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n    \u001b[31m# map.                                                                      \u001b[39;49m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, history=\u001b[35mTrue\u001b[39;49m, griddata=\u001b[35mFalse\u001b[39;49m):\u001b[K\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\r\n\u001b[K\n    \u001b[31m# This function takes the character that was most recently entered by the   \u001b[39;49m\r\n\u001b[A\n    \u001b[31m# player and handles it. Even if no player is playing, this function        \u001b[39;49m\r\n\u001b[A\n    \u001b[31m# essentially serves as the step function for the AI.                       \u001b[39;49m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications.append(n)\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_container.add_sprite(n.sprite)\u001b[K\r\n            \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = 0,0\u001b[K\r\n            \u001b[31m#if loc == \"center\":                                                \u001b[39;49m\r\n\u001b[A\n            \u001b[31m#    pass #center                                                   \u001b[39;49m\r\n\u001b[A\n            \u001b[31m#elif loc == \"ul\":                                                  \u001b[39;49m\r\n\u001b[A\n            \u001b[31m#elif loc == \"ur\":                                                  \u001b[39;49m\r\n\u001b[A\n            \u001b[31m#elif loc == \"bl\":                                                  \u001b[39;49m\r\n\u001b[A\n            \u001b[31m#elif loc == \"br\":                                                  \u001b[39;49m\r\n\u001b[A\n\u001b[K\n\u001b[K\n        \u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   31% L89   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[10;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m90\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\u001b[?25l\u001b[1@a\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@v\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@a\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@v\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@a\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@s\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[12;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[12;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[31m\u001b[40m|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[31m\u001b[40m|Ramen, move out!|\u001b(B\u001b[0;1m\u001b[34m\u001b[40m$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m........\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[3;18H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[C\u001b[2d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2d\b\u001b[31m\u001b[40m|\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3d\b\u001b[31m\u001b[40m|\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m+\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4d\b\u001b[31m\u001b[40m+\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5d\b\u001b[32m\u001b[40m.\u001b[6d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 95, in run\r\n    gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 88, in refresh\r\n    if gfx: return gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 105, in refresh\r\n    curses.napms(20)\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n    \u001b[31m# map.                                                                      \u001b[39;49m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, history=\u001b[35mTrue\u001b[39;49m, griddata=\u001b[35mFalse\u001b[39;49m):\u001b[K\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\r\n\u001b[K\n    \u001b[31m# This function takes the character that was most recently entered by the   \u001b[39;49m\r\n\u001b[A\n    \u001b[31m# player and handles it. Even if no player is playing, this function        \u001b[39;49m\r\n\u001b[A\n    \u001b[31m# essentially serves as the step function for the AI.                       \u001b[39;49m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications.append(n)\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(n.sprite)\u001b[K\r\n            \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = 0,0\u001b[K\r\n            \u001b[31m#if loc == \"center\":                                                \u001b[39;49m\r\n\u001b[A\n            \u001b[31m#    pass #center                                                   \u001b[39;49m\r\n\u001b[A\n            \u001b[31m#elif loc == \"ul\":                                                  \u001b[39;49m\r\n\u001b[A\n            \u001b[31m#elif loc == \"ur\":                                                  \u001b[39;49m\r\n\u001b[A\n            \u001b[31m#elif loc == \"bl\":                                                  \u001b[39;49m\r\n\u001b[A\n            \u001b[31m#elif loc == \"br\":                                                  \u001b[39;49m\r\n\u001b[A\n\u001b[K\n\u001b[K\n        \u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   31% L91   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[12;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@p\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@o\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@a\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@a\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@i\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@e\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@r\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[12;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[12;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[31m\u001b[40m|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[31m\u001b[40m|Ramen, move out!|\u001b(B\u001b[0;1m\u001b[34m\u001b[40m$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m........\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[3;18H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[2d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m|\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[3d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m|\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m+\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m-\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1d\u001b[32m\u001b[40m.................\r\u001b[2d............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\r\u001b[3d...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###\u001b[4;3H\u001b(B\u001b[0m\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.............\r.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 95, in run\r\n    gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 88, in refresh\r\n    if gfx: return gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 105, in refresh\r\n    curses.napms(20)\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n    \u001b[31m# map.                                                                      \u001b[39;49m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, history=\u001b[35mTrue\u001b[39;49m, griddata=\u001b[35mFalse\u001b[39;49m):\u001b[K\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\r\n\u001b[K\n    \u001b[31m# This function takes the character that was most recently entered by the   \u001b[39;49m\r\n\u001b[A\n    \u001b[31m# player and handles it. Even if no player is playing, this function        \u001b[39;49m\r\n\u001b[A\n    \u001b[31m# essentially serves as the step function for the AI.                       \u001b[39;49m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications.append(n)\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_container.add_sprite(n.sprite)\u001b[K\r\n            \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = 0,0\u001b[K\r\n            \u001b[31m#if loc == \"center\":                                                \u001b[39;49m\r\n\u001b[A\n            \u001b[31m#    pass #center                                                   \u001b[39;49m\r\n\u001b[A\n            \u001b[31m#elif loc == \"ul\":                                                  \u001b[39;49m\r\n\u001b[A\n            \u001b[31m#elif loc == \"ur\":                                                  \u001b[39;49m\r\n\u001b[A\n            \u001b[31m#elif loc == \"bl\":                                                  \u001b[39;49m\r\n\u001b[A\n            \u001b[31m#elif loc == \"br\":                                                  \u001b[39;49m\r\n\u001b[A\n\u001b[K\n\u001b[K\n        \u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   31% L91   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[12;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[1;20r\u001b[12;1H\u001b[1L\u001b[1;24r\u001b[12;1H\u001b[K\u001b[22d\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   31% L91\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;13H\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[12;13H\u001b[?25l\u001b[33mn.sprite.layer\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l3\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[12;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[12;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[31m\u001b[40m|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[31m\u001b[40m|Ramen, move out!|\u001b(B\u001b[0;1m\u001b[34m\u001b[40m$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m........\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[3;18H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[2d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m|\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 95, in run\r\n    gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 88, in refresh\r\n    if gfx: return gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 105, in refresh\r\n    curses.napms(20)\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n    \u001b[31m# map.                                                                      \u001b[39;49m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, history=\u001b[35mTrue\u001b[39;49m, griddata=\u001b[35mFalse\u001b[39;49m):\u001b[K\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\r\n\u001b[K\n    \u001b[31m# This function takes the character that was most recently entered by the   \u001b[39;49m\r\n\u001b[A\n    \u001b[31m# player and handles it. Even if no player is playing, this function        \u001b[39;49m\r\n\u001b[A\n    \u001b[31m# essentially serves as the step function for the AI.                       \u001b[39;49m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications.append(n)\u001b[K\r\n            \u001b[33mn.sprite.layer\u001b[39;49m = 300\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_container.add_sprite(n.sprite)\u001b[K\r\n            \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = 0,0\u001b[K\r\n            \u001b[31m#if loc == \"center\":                                                \u001b[39;49m\r\n\u001b[A\n            \u001b[31m#    pass #center                                                   \u001b[39;49m\r\n\u001b[A\n            \u001b[31m#elif loc == \"ul\":                                                  \u001b[39;49m\r\n\u001b[A\n            \u001b[31m#elif loc == \"ur\":                                                  \u001b[39;49m\r\n\u001b[A\n            \u001b[31m#elif loc == \"bl\":                                                  \u001b[39;49m\r\n\u001b[A\n            \u001b[31m#elif loc == \"br\":                                                  \u001b[39;49m\r\n\u001b[A\n\u001b[K\n\u001b[K\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   31% L91   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[12;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[14;1H\u001b[1M\u001b[1;24r\u001b[12;13H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_container.add_sprite(n.sprite)\u001b[13;13H\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = 0,0\u001b[K\u001b[22;1H        \u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\u001b[K\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m loc == \u001b[32m\"center\"\u001b[39;49m:\u001b[K\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l    \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m \u001b[31m#center \u001b[39;49m\u001b[15;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"ul\"\u001b[39;49m:\u001b[K\u001b[16;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"ur\"\u001b[39;49m:\u001b[K\u001b[17;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"bl\"\u001b[39;49m:\u001b[K\u001b[18;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"br\"\u001b[39;49m:\u001b[K\u001b[19;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[15;29H\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@c\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@a\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@v\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@a\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@s\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m89\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[?25l\u001b[1@,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@l\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@o\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@c\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[10;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[10;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;34H\u001b[?25l\u001b[7m90\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[15;29H\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[23;6H\u001b[?25l\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l+\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l1\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l+\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l1\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[21;1H\u001b[1L\u001b[1;24r\u001b[21;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[20;13H\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\n\u001b[C\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\u001b[?25l\u001b[7m100\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l        \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = 0,0\u001b[K\u001b[3;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m loc == \u001b[32m\"center\"\u001b[39;49m:\u001b[K\r\n\t        \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m \u001b[31m#center                                                    \u001b[39;49m\r\n\u001b[5;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"ul\"\u001b[39;49m:\u001b[6;5H        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"ur\"\u001b[39;49m:\u001b[K\u001b[7;5H        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"bl\"\u001b[39;49m:\u001b[K\u001b[8;5H        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"br\"\u001b[39;49m: x+1,y+1\u001b[K\u001b[9;5H        n.sprite.move_to(x,y)\r\n\u001b[K\n\u001b[K\n\t\u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\r\n\t\u001b[31m# If control does not belong to the human, then the control simply      \u001b[39;49m\r\n\t\u001b[31m# allows the player to move the map around.                             \u001b[39;49m\r\n\t\u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[K\r\n\t\u001b[33msx\u001b[39;49m,\u001b[33msy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll\u001b[K\r\n\t\u001b[33mresult\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[33minfo\u001b[39;49m = {}\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().control == \u001b[32m\"human\"\u001b[39;49m:\u001b[20;13Hresult = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[21;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"left\"\u001b[39;49m: cx -=1\u001b[23;30H\u001b[7m6% L102\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;22r\u001b[17;1H\u001b[1M\u001b[1;24r\u001b[15;9H\u001b[?25l\u001b[33msx\u001b[39;49m,\u001b[33msy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll\r\n\t\u001b[33mresult\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[22;1H                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"right\"\u001b[39;49m: cx +=1\u001b[K\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[1;22r\u001b[17;1H\u001b[1M\u001b[1;24r\u001b[15;9H\u001b[?25l\u001b[33mresult\u001b[39;49m = \u001b[35mNone\u001b[39;49m\r\n\t\u001b[33minfo\u001b[39;49m = {}\u001b[K\u001b[22;1H                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: cy -= 1\u001b[K\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lAuto-saving...\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m99 \u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m# map.                                                                      \u001b[39;49m\r\n\u001b[3;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, history=\u001b[35mTrue\u001b[39;49m, griddata=\u001b[35mFalse\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\r\n\u001b[K\u001b[6;5H\u001b[31m# This function takes the character that was most recently entered by the   \u001b[39;49m\r\n\u001b[7;5H\u001b[31m# player and handles it. Even if no player is playing, this function        \u001b[39;49m\r\n\u001b[8;5H\u001b[31m# essentially serves as the step function for the AI.                       \u001b[39;49m\r\n\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n,loc \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\u001b[11;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications.append(n)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(n.sprite)\u001b[K\r\n\t    \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = 0,0\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m loc == \u001b[32m\"center\"\u001b[39;49m:\u001b[K\r\n\t        \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m \u001b[31m#center                                                    \u001b[39;49m\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"ul\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"ur\"\u001b[39;49m:\u001b[K\u001b[18;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"bl\"\u001b[39;49m:\u001b[19;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"br\"\u001b[39;49m: x+1,y+1\u001b[K\u001b[20;13Hn.sprite.move_to(x,y)\u001b[K\r\n\u001b[K\n\u001b[K\u001b[23;30H\u001b[7m1% L91\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m89\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[12;1H\u001b[1L\u001b[1;24r\u001b[10;1H\u001b[K\n\t\u001b[?25l\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n,loc \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications.append(n)\u001b[K\u001b[23;34H\u001b[7m90\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m89\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lMark set\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[12;1H\u001b[2L\u001b[1;24r\u001b[10;9H\u001b[?25l\u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\r\n\t\u001b[33msx\u001b[39;49m,\u001b[33msy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll\u001b[K\r\n\u001b[K\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n,loc \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\u001b[K\u001b[23;34H\u001b[7m91\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[12d\u001b[24d\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m100\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n,loc \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\u001b[K\u001b[3;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications.append(n)\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(n.sprite)\u001b[5;13H\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = 0,0\u001b[6;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m loc == \u001b[32m\"center\"\u001b[39;49m:\u001b[K\u001b[7;5H            \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m \u001b[31m#center                                            \u001b[39;49m\u001b[8;5H        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"ul\"\u001b[39;49m:\u001b[K\u001b[9;5H        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"ur\"\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"bl\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"br\"\u001b[39;49m: x+1,y+1\u001b[12;13Hn.sprite.move_to(x,y)\r\n\u001b[K\n\u001b[K\n\t\u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\r\n\t\u001b[31m# If control does not belong to the human, then the control simply      \u001b[39;49m\r\n\t\u001b[31m# allows the player to move the map around.                             \u001b[39;49m\r\n\t\u001b[33mresult\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[33minfo\u001b[39;49m = {}\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().control == \u001b[32m\"human\"\u001b[39;49m:\u001b[21;13Hresult = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[22;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\u001b[23;30H\u001b[7m5% L102\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[11;38H\b\b\b\b\b\b\b\t\b\u001b[?25lx+1,y+1\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,x+1,y+1\r\t\t\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lyx+1,y+1\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25lx+1,y+1\u001b[K\r\t\t\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25lx+1,y+1\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,x+1,y+1\r\t\t\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lyx+1,y+1\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l x+1,y+1\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25l\u001b[33mx\u001b[39;49m,y =x+1,y+1\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l x+1,y+1\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lx+1,y+1\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l+1,y+1\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lcx+1,y+1\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\t\b\t\u001b[C\u001b[?25lcy+1\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25lcy)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25lcx,cy)\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\b\b\u001b[?25l\u001b[33mx\u001b[39;49m,y =\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l-\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l+\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l1\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m99 \u001b[0m\u001b[39;49m\u001b[27m\u001b[9;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[18;9H\u001b[?25lresult\r\n\tinfo\u001b[9;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\b\b\u001b[?25l\u001b[33mx\u001b[39;49m,y =\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\b\u001b[K\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l+\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l1\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l-\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\b\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\b\b\u001b[?25l\u001b[33mx\u001b[39;49m,y =\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l-\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l-\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[8;46H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[8;46H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;46H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[8;46H\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[8;46H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[8;46H\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[8;46H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[8;46H\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[8;46H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[21;13H\u001b[?25l\u001b[33mresult\u001b[39;49m\u001b[6;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\b\b\u001b[?25l\u001b[33mx\u001b[39;49m,y =\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l-\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l+\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l/\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l2\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l-\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l/\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l2\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\u001b[24;1H\u001b[?25lAuto-saving...\u001b[6;58H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[6;58H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[6;57H\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[?25l\u001b[1@(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[6;66H\u001b[8;31H\u001b[?25lx\n\bx\n\bx\n\bx\u001b[21;13Hresult\u001b[6;66H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[23;30H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\u001b[23;30H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\r\t\t\b\b\b\b\r\t\b\b\b\b\r\u001b[23;30H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l-\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l+\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l/\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l/\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l/\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;59H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l/2-n.w/2,\u001b[6;59H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[6;67H\b\b\u001b[?25l/2,\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;59H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l2\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l-\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l/\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l/\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l2\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\u001b[8;31H\u001b[33mx\u001b[39;49m\u001b[23;35H\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;68H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[7;68H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[7d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;68H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[9;31H\u001b[?25l\u001b[33mx\u001b[39;49m\n\b\u001b[33mx\u001b[39;49m\n\b\u001b[33mx\u001b[39;49m\u001b[21;13H\u001b[33mresult\u001b[39;49m\u001b[7;68H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[7;68H\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default *scratch*): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l*scratch*\u001b[24;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[K\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m . \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m entities, widgets, log\u001b[K\r\n\u001b[K\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m graphics \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m sprites\r\n\u001b[K\n\u001b[31m# The grid is made up tiles that can hold units. It's essentially a data        \u001b[39;49m\r\n\u001b[31m# storage class that also has mutator methods for interacting with units.       \u001b[39;49m\r\n\u001b[31m# The grid keeps a copy of the rules cached so that new units and tiles         \u001b[39;49m\r\n\u001b[31m# can be created using just their names.                                        \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mGrid\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[12;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data, rules):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w = data[\u001b[32m\"w\"\u001b[39;49m]\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h = data[\u001b[32m\"h\"\u001b[39;49m]\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rules = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(rules)\u001b[K\r\n\u001b[K\u001b[17;11H\u001b[31mCreate the main sprite. This sprite will be added to the sprite\u001b[39;49m\r\n\t\u001b[31m# manager in the session object. When a deepcopy is made, this sprite   \u001b[39;49m\r\n\t\u001b[31m# will be duplicated and the old one will be killed.                    \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = sprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h)\r\n\u001b[K\n\t\u001b[31m# Create the grid from data                                             \u001b[39;49m\r\n\u001b[23;14H\u001b[7m\u001b[1mgrid.py     \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m    5% L19\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[3d\u001b[?25l        \u001b[31m# Create the grid from data                                             \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tiles = []\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h):\u001b[6;13H\u001b[33mrow\u001b[39;49m = []\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w):\u001b[K\r\n                row.append(\u001b[35mNone\u001b[39;49m)\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tiles.append(row)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units = []\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams = []\u001b[12;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.winners = []\u001b[K\r\n\u001b[K\n\t\u001b[31m# Load the teams first, since cells and units reference them.           \u001b[39;49m\r\n\t\u001b[31m# Then set up the alliances.                                            \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name = data[\u001b[32m\"name\"\u001b[39;49m]\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data[\u001b[32m\"teams\"\u001b[39;49m]:\u001b[K\r\n\t    \u001b[33mthis\u001b[39;49m = entities.Team(t)\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams.append(this)\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m alist \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data.get(\u001b[32m\"allies\"\u001b[39;49m,[]):\u001b[K\u001b[21;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m a \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m alist:\r\n\t        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m alist:\u001b[K\n\b\b\b\u001b[7m11% L28\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m a \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m alist:\r\n\t        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m alist:\u001b[K\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[a].allies.append( \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[b] )\r\n\u001b[K\n\t\u001b[31m# Load the terrain cells. The units are embedded in these elements      \u001b[39;49m\r\n\t\u001b[31m# of the dictionary. Note that when units are loaded in other units     \u001b[39;49m\r\n\t\u001b[31m# we, have to recursively dig them out.                                 \u001b[39;49m\r\n\t\u001b[31m#   x: (int) x position                                                 \u001b[39;49m\r\n\t\u001b[31m#   y: (int) y position                                                 \u001b[39;49m\r\n\t\u001b[31m#   name: (string) the name of the terrain                              \u001b[39;49m\r\n\t\u001b[31m#   unit: the unit on this terrain, if one                              \u001b[39;49m\r\n\t\u001b[31m#   team: (int) the team that owns the terrain, if any                  \u001b[39;49m\r\n\u001b[14;11H\u001b[31mWe also make the sprite information for the units here. Note that\u001b[39;49m\u001b[15;11H\u001b[31mthis code is duplicated from the load_unit and add_unit methods.\u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m c \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data[\u001b[32m\"tiles\"\u001b[39;49m]:\u001b[K\r\n\t    \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = c[\u001b[32m\"x\"\u001b[39;49m], c[\u001b[32m\"y\"\u001b[39;49m]\u001b[18;14H\u001b[33merrain\u001b[39;49m = c[\u001b[32m\"terrain\"\u001b[39;49m]\u001b[K\u001b[19;13H\u001b[33mthis\u001b[39;49m = entities.Tile(terrain,rules[\u001b[32m\"terrain\"\u001b[39;49m][terrain])\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"team\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m c:\u001b[K\u001b[21;13H    \u001b[33mthis.team\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[c[\u001b[32m\"team\"\u001b[39;49m]]\u001b[22;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.change_tile(this, x, y)\u001b[23;30H\u001b[7m6% L47\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l    \u001b[33mthis.team\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[c[\u001b[32m\"team\"\u001b[39;49m]]\u001b[3;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.change_tile(this, x, y)\u001b[4;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"unit\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m c:\u001b[K\r\n\t\t\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m_process_units\u001b[0m\u001b[39;49m(udata):\r\n\t            \u001b[33mname\u001b[39;49m = udata[\u001b[32m\"name\"\u001b[39;49m]\u001b[K\r\n\t            \u001b[33mu\u001b[39;49m = entities.Unit(name, rules[\u001b[32m\"units\"\u001b[39;49m][name])\u001b[K\r\n\t            \u001b[33mu.team\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[udata[\u001b[32m\"team\"\u001b[39;49m]]\u001b[K\r\n\t            \u001b[33mu.x\u001b[39;49m = x\u001b[K\r\n\t            \u001b[33mu.y\u001b[39;49m = y\u001b[K\r\n\t            u.sprite.putc(u.icon,0,0,u.team.color,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mFalse\u001b[39;49m)\u001b[K\r\n\t            u.sprite.move_to(x,y)\u001b[K\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.add_sprite(u.sprite)\u001b[K\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units.append(u)\u001b[K\r\n\t            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m uc \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m udata.get(\u001b[32m\"carrying\"\u001b[39;49m,[]):\u001b[K\r\n\t                \u001b[33mcarriee\u001b[39;49m = _process_units(uc)\u001b[17;13H            u.carrying.append(carriee)\u001b[18;13H            \u001b[33mcarriee.x\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[19;13H            \u001b[33mcarriee.y\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[20;13H            carriee.sprite.hide()\r\n\t\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m u\u001b[K\u001b[22;13H    \u001b[33mthis.unit\u001b[39;49m = _process_units(c[\u001b[32m\"unit\"\u001b[39;49m])\u001b[23;29H\u001b[7m23% L66\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25l    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m u\u001b[K\u001b[3;13H    \u001b[33mthis.unit\u001b[39;49m = _process_units(c[\u001b[32m\"unit\"\u001b[39;49m])\r\n\u001b[K\n\t\u001b[31m# To start the game, end the turn. It will proceed to player 0.         \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day = 1\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = []\u001b[K\r\n\u001b[K\u001b[10;5H\u001b[31m# Pump the alerts from the grid.                                            \u001b[39;49m\r\n\u001b[11;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33moldalerts\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = []\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m oldalerts\u001b[K\r\n\u001b[K\u001b[16;5H\u001b[31m# Get the tile and unit at X,Y                                              \u001b[39;49m\r\n\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mget_at\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m x >= 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m x < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m y >= 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m y < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h:\u001b[19;13H\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tiles[y][x]\u001b[K\u001b[20;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m t, t.unit\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m, \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[23;29H\u001b[7m30% L85\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m, \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[4;5H\u001b[31m# Get the tile at X,Y                                                       \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtile_at\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[33mtile\u001b[39;49m, \u001b[33munit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_at(x, y)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m tile\u001b[K\r\n\u001b[K\u001b[9;5H\u001b[31m# Get the tile of a unit                                                    \u001b[39;49m\r\n\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mutile\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, unit):\u001b[K\u001b[11;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m unit.x \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m unit.y \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[33mtile\u001b[39;49m, \u001b[33mtest\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_at(unit.x, unit.y)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m test \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m unit:\u001b[15;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Unit mismatch at %d,%d\"\u001b[39;49m%(unit.x,unit.y ))\u001b[16;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m tile\u001b[K\r\n\u001b[K\u001b[18;5H\u001b[31m# Get the unit at X,Y                                                       \u001b[39;49m\r\n\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34munit_at\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[33mtile\u001b[39;49m, \u001b[33munit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_at(x, y)\r\n\t\t\bunit\u001b[K\u001b[23;30H\u001b[7m5% L104\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\b\u001b[?25lunit\u001b[K\u001b[4;11H\u001b[31mall tile objects.\u001b[39;49m\r\n\t\u001b[1m\u001b[34mall_tiles\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w):\u001b[8;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h):\u001b[9;5H            \u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_at(x,y)\u001b[K\u001b[10;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t: report.append(t)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\u001b[K\u001b[13;5H\u001b[31m# Get an iterable range of all legal tile coordinates.                      \u001b[39;49m\r\n\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mall_tiles_xy\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w):\u001b[17;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h):\u001b[18;5H            \u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_at(x,y)\u001b[K\u001b[19;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t: report.append((x,y))\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\u001b[K\u001b[22;5H\u001b[31m# Get a range of coordinates, usually for an attack range. Coordinates      \u001b[39;49m\r\n\u001b[23;29H\u001b[7m40% L123\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[3;5H\u001b[?25l\u001b[31m# Get a range of coordinates, usually for an attack range. Coordinates      \u001b[39;49m\r\n\t\b\b\u001b[31mmay not actually be cells.\u001b[39;49m\r\n\t\u001b[1m\u001b[34mget_range\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, start, end=\u001b[35mNone\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m end \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\r\n\t    \u001b[33mend\u001b[39;49m = start\u001b[K\r\n\u001b[K\n\t\u001b[33mreport\u001b[39;49m = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m r \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(start,end+1):\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(r):\r\n\t\treport.append((x+(r-i),y+i    ))\u001b[13;5H            report.append((x-i    ,y+(r-i)))\u001b[K\u001b[14;5H            report.append((x-(r-i),y-i    ))\r\n\t        report.append((x+i    ,y-(r-i)))\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\u001b[K\u001b[18;5H\u001b[31m# Return distance (zero norm) between two points.                           \u001b[39;49m\r\n\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdist\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, start, end):\u001b[K\r\n\t\u001b[33mx1\u001b[39;49m,\u001b[33my1\u001b[39;49m = sta\r\n\t\u001b[33mx2\u001b[39;49m,\u001b[33my2\u001b[39;49m = end\u001b[22;5H    \u001b[33mdx\u001b[39;49m = x1-x2\u001b[K\u001b[23;30H\u001b[7m4% L142\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[33mx2\u001b[39;49m,\u001b[33my2\u001b[39;49m = end\u001b[3;5H    \u001b[33mdx\u001b[39;49m = x1-x2\u001b[K\u001b[4;5H    \u001b[33mdy\u001b[39;49m = y1-y2\u001b[K\u001b[5;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (dx < 0): \u001b[33mdx\u001b[39;49m *= -1\u001b[K\u001b[6;12H(dy < 0): \u001b[33mdy\u001b[39;49m *= -1\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m dx+dy\u001b[K\u001b[9;5H\u001b[31m# Return the current team.                                                  \u001b[39;49m\r\n\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mcurrent_team\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn]\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m t\u001b[K\r\n\u001b[K\u001b[14;5H\u001b[31m# This ends the turn and passes play to the next player. All units are set  \u001b[39;49m\r\n\u001b[15;5H\u001b[31m# to acive. If a player has won the game at this point, set the winner      \u001b[39;49m\r\n\u001b[16;5H\u001b[31m# variable.                                                                 \u001b[39;49m\r\n\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mend_turn\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[18;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\u001b[K\u001b[19;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = -1\u001b[K\r\n\u001b[K\n\t\u001b[31m# Select the next active player in the roster.                          \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m([t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]) == 0:\u001b[23;30H\u001b[7m9% L161\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[31m# Select the next active player in the roster.                          \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m([t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]) == 0:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day += 1\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[33mflag\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m flag \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn].active:\r\n\t\t\u001b[33mflag\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[9;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn += 1\u001b[K\u001b[10;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams):\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = 0\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day += 1\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units:\u001b[14;5H        \u001b[33mu.ready\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[15;5H        u.sprite.colorize(u.team.color,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mFalse\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[17;5H    \u001b[31m# Repair units and draw income.                                         \u001b[39;49m\r\n\t\u001b[33mcur\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.current_team()\r\n\t\u001b[33mmsg\u001b[39;49m = \u001b[32m\"Day %d - %s\\n%s, move out!\"\u001b[39;49m%(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name, cur.name)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append(widgets.Notification(0,0,msg,100,cur.color))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cur:\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tile \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.all_tiles():\u001b[K\u001b[23;29H\u001b[7m53% L180\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m90\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[20;72H\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[?25l\u001b[1P\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;49H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;16H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;15H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\b\b\b\u001b[?25l\u001b[1@(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[20;69H\b\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\")          \u001b[39;49m\r\n\u001b[32m        if cur:                                                                 \u001b[39;49m\r\n\u001b[20;70H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mc)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mn)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mr)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l\u001b[32m            for tile in self.all_tiles():                                       \u001b[39;49m\r\n\u001b[20;76H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cur:\u001b[K\u001b[20;77H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tile \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.all_tiles():\u001b[K\u001b[20;77H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/grid.py...\u001b[20;77H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/grid.py\u001b[K\u001b[20;77H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;77H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\u001b[K\u001b[20;78H\u001b[?25l)\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[20;79H\r\n\n\n\n\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/grid.py...\u001b[20;79H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/grid.py\u001b[K\u001b[20;79H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;79H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\u001b[K\u001b[20;79H\r\n\n\n\n\u001b[?25l\u001b[34mSwitch to buffer (default session.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lsession.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l*scratch*\u001b[K\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrules.py\u001b[K\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\t    \u001b[33mstart_ahp\u001b[39;49m, \u001b[33mstart_dhp\u001b[39;49m = atk_u.hp, def_u.hp\u001b[K\r\n\u001b[K\u001b[4;13H\u001b[31m# Calculate damage.                                                 \u001b[39;49m\r\n\t    \u001b[33ma_dmg\u001b[39;49m,\u001b[33mprim\u001b[39;49m = atk_u.simulate(def_u, def_t.cover)\u001b[6;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m a_dmg: \u001b[33mdef_u.hp\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(0,def_u.hp-a_dmg)\u001b[7;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33matk_u.ammo\u001b[39;49m -= 1\u001b[K\r\n\u001b[K\u001b[9;13H\u001b[31m# Only counter if hp > 0 and not indirect.                          \u001b[39;49m\r\n\u001b[10;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m def_u.is_indirect \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m def_u.in_range(d):\r\n\t\t\u001b[33md_dmg\u001b[39;49m,\u001b[33mprim\u001b[39;49m = def_u.simulate(atk_u, atk_t.cover)\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m d_dmg: \u001b[33matk_u.hp\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(0,atk_u.hp-d_dmg)\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33mdef_u.ammo\u001b[39;49m -= 1\r\n\u001b[K\u001b[15;13H\u001b[31m# Draw damage animations                                            \u001b[39;49m\r\n\u001b[16;13H\u001b[33mt1\u001b[39;49m = start_dhp-def_u.hp\r\n\t    \u001b[33mt2\u001b[39;49m = start_ahp-atk_u.hp\u001b[K\r\n\t    \u001b[33mw1\u001b[39;49m = widgets.Counter(ax-6,ay-3,start_dhp,def_u.hp,0,\r\n\t                         t1+t2+100,def_u.team.color)\u001b[K\r\n\t    grid.alerts.append(w1)\u001b[K\r\n\t    \u001b[33mw2\u001b[39;49m = widgets.Counter(ax+1,ay+1,start_ahp,atk_u.hp,t1,\u001b[22;13H                     t1+t2+100,atk_u.team.color)\u001b[23;14H\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   74% L30\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[33mw2\u001b[39;49m = widgets.Counter(ax+1,ay+1,start_ahp,atk_u.hp,t1,\u001b[3;34Ht1+t2+100,atk_u.team.color)\u001b[4;13Hgrid.alerts.append(w2)\u001b[K\r\n\u001b[K\u001b[6;13H\u001b[31m# Remove dead units (and all carriees) from grid.                   \u001b[39;49m\r\n\t\t\batk_u.hp > 0:\u001b[K\r\n\t\tatk_u.done()\u001b[9;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b\b    grid.remove_unit(atk_u)\u001b[K\r\n\t\t\u001b[33matk_t.hp\u001b[39;49m = 100\u001b[K\u001b[12;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp <= 0:\u001b[K\r\n\t\tgrid.remove_unit(def_u)\u001b[K\r\n\t\t\u001b[33mdef_t.hp\u001b[39;49m = 100\r\n\u001b[K\u001b[16;13H\u001b[33mateam\u001b[39;49m = 0\u001b[K\u001b[17;13H\u001b[33mdteam\u001b[39;49m = 0\u001b[K\u001b[18;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m grid.units:\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m atk_u.team: \u001b[33mateam\u001b[39;49m += 1\u001b[K\u001b[20;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m def_u.team: \u001b[33mdteam\u001b[39;49m += 1\u001b[21;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (score,team) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m ((ateam,atk_u.team),(dteam,def_u.team)):\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m score == 0:\u001b[K\n\b\b\u001b[7m80% L321\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[33mstart_ahp\u001b[39;49m, \u001b[33mstart_dhp\u001b[39;49m = atk_u.hp, def_u.hp\u001b[K\r\n\u001b[K\u001b[4;13H\u001b[31m# Calculate damage.                                                 \u001b[39;49m\r\n\u001b[5;13H\u001b[33ma_dmg\u001b[39;49m,\u001b[33mprim\u001b[39;49m = atk_u.simulate(def_u, def_t.cover)\u001b[6;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m a_dmg: \u001b[33mdef_u.hp\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(0,def_u.hp-a_dmg)\u001b[K\r\n\t\t\bprim: \u001b[33matk_u.ammo\u001b[39;49m -= 1\r\n\u001b[K\u001b[9;13H\u001b[31m# Only counter if hp > 0 and not indirect.                          \u001b[39;49m\r\n\u001b[10;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m def_u.is_indirect \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m def_u.in_range(d):\r\n\t\t\u001b[33md_dmg\u001b[39;49m,\u001b[33mprim\u001b[39;49m = def_u.simulate(atk_u, atk_t.cover)\u001b[12;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m d_dmg: \u001b[33matk_u.hp\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(0,atk_u.hp-d_dmg)\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33mdef_u.ammo\u001b[39;49m -= 1\r\n\u001b[K\u001b[15;13H\u001b[31m# Draw damage animations                                            \u001b[39;49m\r\n\u001b[16;13H\u001b[33mt1\u001b[39;49m = start_dhp-def_u.hp\u001b[17;13H\u001b[33mt2\u001b[39;49m = start_ahp-atk_u.hp\u001b[18;13H\u001b[33mw1\u001b[39;49m = widgets.Counter(ax-6,ay-3,start_dhp,def_u.hp,0,\r\n\t\t                 t1+t2+100,def_u.team.color)\u001b[20;13Hgrid.alerts.append(w1)\u001b[K\u001b[21;13H\u001b[33mw2\u001b[39;49m = widgets.Counter(ax+1,ay+1,start_ahp,atk_u.hp,t1,\u001b[K\r\n\t\t                 t1+t2+100,atk_u.team.color)\u001b[23;29H\u001b[7m74\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m19\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\n\u001b[C\u001b[?25l\u001b[7m20\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\t\u001b[C\b\b\u001b[?25l(w1)\u001b[21;13Hw2\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\")                                           \u001b[39;49m\r\n\u001b[32m            w2 = widgets.Counter(ax+1,ay+1,start_ahp,atk_u.hp,t1,               \u001b[39;49m\r\n\u001b[20;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l\u001b[32m                                 t1+t2+100,atk_u.team.color)                    \u001b[39;49m\r\n\u001b[20;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mu)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ml)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m)\u001b[K\r\n            w2 = widgets.Counter(ax+1,ay+1,start_ahp,atk_u.hp,t1,\u001b[K\u001b[20;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l                                 t1+t2+100,atk_u.team.color)\u001b[K\u001b[20;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l)\u001b[21;13H\u001b[33mw2\u001b[39;49m\u001b[20;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[A\u001b[A\t\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\b\b\b\b\b\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[A\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33mdef_u.ammo\u001b[39;49m -= 1\u001b[K\u001b[4;15H\u001b[31mDraw damage animations\u001b[39;49m\u001b[5;13H\u001b[33mt1\u001b[39;49m = start_dhp-def_u.hp\u001b[K\u001b[6;13H\u001b[33mt2\u001b[39;49m = start_ahp-atk_u.hp\u001b[K\u001b[7;13H\u001b[33mw1\u001b[39;49m = widgets.Counter(ax-6,ay-3,start_dhp,def_u.hp,0,\u001b[8;34Ht1+t2+100,def_u.team.color)\u001b[9;13Hgrid.alerts.append((w1,\u001b[32m\"ul\"\u001b[39;49m))\u001b[K\u001b[10;13H\u001b[33mw2\u001b[39;49m = widgets.Counter(ax+1,ay+1,start_ahp,atk_u.hp,t1,\u001b[K\r\n\t\t                 t1+t2+100,atk_u.team.color)\u001b[K\u001b[12;13Hgrid.alerts.append(w2)\u001b[K\r\n\u001b[K\u001b[14;13H\u001b[31m# Remove dead units (and all carriees) from grid.                   \u001b[39;49m\r\n\u001b[15;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m atk_u.hp > 0:\u001b[K\u001b[16;13H    atk_u.done()\u001b[K\u001b[17;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b\b    grid.remove_unit(atk_u)\u001b[K\r\n\t\tatk_t.hp = 100\u001b[K\u001b[20;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp <= 0:\u001b[K\u001b[21;13H    grid.remove_unit(def_u)\u001b[K\r\n\t\tdef_t.hp = 100\u001b[K\n\b\u001b[7m7% L323\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[19;17H\u001b[?25l\u001b[33matk_t.hp\u001b[39;49m\r\n\n\n\t\t\u001b[33mdef_t.hp\u001b[39;49m\u001b[12;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\")                                            \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[12;36H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l\u001b[32m            # Remove dead units (and all carriees) from grid.                   \u001b[39;49m\r\n\u001b[32m            if atk_u.hp > 0:                                                    \u001b[39;49m\r\n\u001b[32m                atk_u.done()                                                    \u001b[39;49m\r\n\u001b[32m            else:                                                               \u001b[39;49m\r\n\u001b[32m                grid.remove_unit(atk_u)                                         \u001b[39;49m\r\n\u001b[32m                atk_t.hp = 100                                                  \u001b[39;49m\r\n\u001b[32m            if def_u.hp <= 0:                                                   \u001b[39;49m\r\n\u001b[32m                grid.remove_unit(def_u)                                         \u001b[39;49m\r\n\u001b[32m                def_t.hp = 100                                                  \u001b[39;49m\r\n\u001b[12;36H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mb)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mr)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[12;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l            \u001b[31m# Remove dead units (and all carriees) from grid.                   \u001b[39;49m\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m atk_u.hp > 0:\u001b[K\r\n                atk_u.done()\u001b[K\r\n            \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n                grid.remove_unit(atk_u)\u001b[K\r\n                \u001b[33matk_t.hp\u001b[39;49m = 100\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp <= 0:\u001b[K\r\n                grid.remove_unit(def_u)\u001b[K\r\n                \u001b[33mdef_t.hp\u001b[39;49m = 100\u001b[K\u001b[12;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l)\u001b[12;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\b\b\b\b\u001b[24;1H\u001b[?25lAuto-saving...\u001b[12;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[12;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[12;36H\b\b\b\b\u001b[?25l\u001b[1@(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m19\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m20\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[10;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[10;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[H\n\t\t\u001b[?25lgrid.remove_unit(def_u)\u001b[K\r\n\t\t\u001b[33mdef_t.hp\u001b[39;49m = 100\r\n\u001b[K\u001b[5;13H\u001b[33mateam\u001b[39;49m = 0\u001b[K\u001b[6;13H\u001b[33mdteam\u001b[39;49m = 0\u001b[K\u001b[7;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m grid.units:\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m atk_u.team: \u001b[33mateam\u001b[39;49m += 1\u001b[K\u001b[9;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m def_u.team: \u001b[33mdteam\u001b[39;49m += 1\u001b[10;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (score,team) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m ((ateam,atk_u.team),(dteam,def_u.team)):\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m score == 0:\u001b[K\u001b[12;13H        team.active = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[13;21Hmsg = \u001b[32m\"%s has been defeated!\"\u001b[39;49m%(team.name)\u001b[14;13H        grid.alerts.append(widgets.Notification(0,0,msg,200,\u001b[K\u001b[15;13H                                                team.color))\r\n\u001b[K\u001b[17;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# UNLOAD follows UNIT ACT when carrying units. A unit can unload                \u001b[39;49m\r\n\u001b[23;29H\u001b[7m82% L332\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m40\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[14;73H\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;73H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l,)\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;73H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\")      \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[15;74H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mc)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mn)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m) \u001b[39;49m\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me)\u001b[39;49m\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;20r\u001b[16;1H\u001b[1L\u001b[1;24r\u001b[15;79H\u001b[?25l\u001b[32mr\u001b[39;49m\\\r\n\u001b[32m)                                                                               \u001b[39;49m\r\n\u001b[A\u001b[22d\u001b[K\u001b[16d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[A\u001b[C\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[A\u001b[15;60H\u001b[1P\u001b[15;79H\u001b[?25l\u001b[32m\"\u001b[39;49m\\\r\n)\u001b[K\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[17;1H\u001b[1M\u001b[1;24r\u001b[15;59H\u001b[1P\u001b[15;79H\u001b[?25l)\r\n\u001b[K\u001b[22d\u001b[31m# UNLOAD follows UNIT ACT when carrying units. A unit can unload                \u001b[39;49m\r\n\u001b[A\u001b[15;2H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[15;58H\u001b[1P\r\u001b[C\t\t\t\t\t\t\t\u001b[1P\r\u001b[C\u001b[15;56H\u001b[1P\r\u001b[C\u001b[15;55H\u001b[1P\r\u001b[C\u001b[15;54H\u001b[1P\r\u001b[C\u001b[15;53H\u001b[1P\r\u001b[C\u001b[15;52H\u001b[1P\r\u001b[C\u001b[15;51H\u001b[1P\r\u001b[C\u001b[15;50H\u001b[1P\r\u001b[C\t\t\t\t\t\t\u001b[1P\r\u001b[C\u001b[15;48H\u001b[1P\r\u001b[C\u001b[15;69H\u001b[?25l)\u001b[23;36H\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[14;70H\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[24;1H\u001b[?25lAuto-saving...\u001b[14;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[14;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[14;51H\b\b\b\b\b\b\b\b\b\b\b\b\t\b\u001b[?25l\u001b[1@(\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\b\u001b[1@\r\t\t\t\t\t\u001b[H\n\t\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33mdef_u.ammo\u001b[39;49m -= 1\r\n\u001b[K\u001b[4;13H\u001b[31m# Draw damage animations                                            \u001b[39;49m\r\n\u001b[5;13H\u001b[33mt1\u001b[39;49m = start_dhp-def_u.hp\u001b[6;13H\u001b[33mt2\u001b[39;49m = start_ahp-atk_u.hp\u001b[7;13H\u001b[33mw1\u001b[39;49m = widgets.Counter(start_dhp,def_u.hp,0,\r\n\t\t                 t1+t2+100,def_u.team.color)\u001b[9;13Hgrid.alerts.append((w1,\u001b[32m\"ul\"\u001b[39;49m))\u001b[K\u001b[10;13H\u001b[33mw2\u001b[39;49m = widgets.Counter(start_ahp,atk_u.hp,t1,\u001b[K\r\n\t\t                 t1+t2+100,atk_u.team.color)\u001b[12;13Hgrid.alerts.append((w2,\u001b[32m\"br\"\u001b[39;49m))\r\n\u001b[K\u001b[14;13H\u001b[31m# Remove dead units (and all carriees) from grid.                   \u001b[39;49m\r\n\u001b[15;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m atk_u.hp > 0:\u001b[K\r\n\t\tatk_u.done()\u001b[17;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t        grid.remove_unit(atk_u)\u001b[19;13H    \u001b[33matk_t.hp\u001b[39;49m = 100\u001b[20;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp <= 0:\r\n\t\tgrid.remove_unit(def_u)\r\n                \u001b[33mdef_t.hp\u001b[39;49m = 100\u001b[K\n\b\b\u001b[7m77% L333\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[22;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[22;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\u001b[K\u001b[2;5H\u001b[?25l\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[3;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[5;13H\u001b[33max\u001b[39;49m,\u001b[33may\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\u001b[6;13H\u001b[33mdx\u001b[39;49m,\u001b[33mdy\u001b[39;49m = act\u001b[K\u001b[7;13H\u001b[33matk_t\u001b[39;49m,\u001b[33matk_u\u001b[39;49m = grid.get_at(ax,ay)\u001b[K\u001b[8;13H\u001b[33mdef_t\u001b[39;49m,\u001b[33mdef_u\u001b[39;49m = grid.get_at(dx,dy)\u001b[K\u001b[9;13H\u001b[33md\u001b[39;49m = grid.dist((ax,ay),(dx,dy))\u001b[10;13H\u001b[33mstart_ahp\u001b[39;49m, \u001b[33mstart_dhp\u001b[39;49m = atk_u.hp, def_u.hp\u001b[K\r\n\u001b[K\u001b[12;13H\u001b[31m# Calculate damage.                                                 \u001b[39;49m\r\n\u001b[13;13H\u001b[33ma_dmg\u001b[39;49m,\u001b[33mprim\u001b[39;49m = atk_u.simulate(def_u, def_t.cover)\u001b[14;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m a_dmg: \u001b[33mdef_u.hp\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(0,def_u.hp-a_dmg)\u001b[K\r\n\t\t\bprim: \u001b[33matk_u.ammo\u001b[39;49m -= 1\r\n\u001b[K\u001b[17;13H\u001b[31m# Only counter if hp > 0 and not indirect.                          \u001b[39;49m\r\n\u001b[18;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m def_u.is_indirect \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m def_u.in_range(d):\r\n\t\t\u001b[33md_dmg\u001b[39;49m,\u001b[33mprim\u001b[39;49m = def_u.simulate(atk_u, atk_t.cover)\u001b[20;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m d_dmg: \u001b[33matk_u.hp\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(0,atk_u.hp-d_dmg)\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33mdef_u.ammo\u001b[39;49m -= 1\r\n\u001b[K\u001b[23;30H\u001b[7m2% L314\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\u001b[K\n\u001b[31m# ACTION follows UNIT ACT when target in range. Expects COORD.                  \u001b[39;49m\r\n\u001b[31m# The provided coord should be one that contains an enemy unit.                 \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mAttack\u001b[39;49m(Action):\u001b[K\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, grid):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = x,y\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_COORD\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\n\tu = grid.unit_at(x,y)\u001b[K\r\n\t\u001b[33mlo\u001b[39;49m,hi = u.rang\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (a,b) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m grid.get_range(x,y,lo,hi):\u001b[K\u001b[15;13H\u001b[33mtarg\u001b[39;49m = grid.unit_at(a,b)\u001b[16;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (targ \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u.is_allied(targ)\u001b[17;13H         \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m (targ.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.secondary \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m\u001b[K\u001b[18;13H         (targ.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.primary \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.ammo > 0))):\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append((a,b))\u001b[K\r\n\u001b[K\u001b[21;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[22;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\n\b\b\b\b\b\u001b[7m68% L295\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l                \u001b[33mot.hp\u001b[39;49m = 100\u001b[3;29Hgrid.change_tile(ot,tx,ty)\r\n                \u001b[33mt.team\u001b[39;49m = u.team\u001b[K\r\n                \u001b[33mt.hp\u001b[39;49m = 100\u001b[K\r\n                grid.change_tile(t,x,y)\u001b[7;5H        u.done()\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Unload\"\u001b[39;49m:\u001b[11;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Unload(x,y,grid)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Attack\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Attack(x,y,grid)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Wait\"\u001b[39;49m:\u001b[K\u001b[17;13Hu.done()\u001b[K\u001b[18;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Cancel\"\u001b[39;49m:\u001b[21;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\u001b[K\u001b[23;30H\u001b[7m4% L276\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Capture\"\u001b[39;49m:\u001b[K\u001b[4;13Hold_hp = t.hp\u001b[K\u001b[5;13Hnew_hp = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(old_hp-\u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(u.hp*u.capture*.01),0)\r\n\u001b[K\u001b[7;13Ht.hp = new_hp\u001b[8;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.hp == 0:\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.is_hq \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.team:\r\n\t            grid.purge(t.team)\u001b[11;13H        \u001b[33mt.team.active\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[12;21H\u001b[33mmsg\u001b[39;49m = \u001b[32m\"%s has been defeated!\"\u001b[39;49m%(t.team.name)\r\n\t            grid.alerts.append(widgets.Notification(0,0,msg,200,\u001b[14;13H                                                t.team.color))\u001b[15;21H\u001b[33mt.is_hq\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (tx,ty) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m grid.all_tiles_xy():\u001b[17;13H            \u001b[33mot\u001b[39;49m = grid.tile_at(tx,ty)\u001b[18;13H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m ot.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m t.team:\u001b[19;29H\u001b[33mot.team\u001b[39;49m = u.team\r\n\t                    \u001b[33mot.is_hq\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[21;13H                \u001b[33mot.hp\u001b[39;49m = 100\u001b[22;29Hgrid.change_tile(ot,tx,ty)\u001b[23;29H\u001b[7m59% L257\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;29H\u001b[?25l\u001b[33mot.hp\u001b[39;49m = 100\r\n\t                    grid.change_tile(ot,tx,ty)\u001b[4;13H    \u001b[33mt.team\u001b[39;49m = u.team\u001b[5;13H    \u001b[33mt.hp\u001b[39;49m = 100\u001b[K\r\n\t\tgrid.change_tile(t,x,y)\u001b[7;13Hu.done()\u001b[K\u001b[8;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Unload\"\u001b[39;49m:\u001b[K\u001b[11;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Unload(x,y,grid)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Attack\"\u001b[39;49m:\u001b[K\u001b[14;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Attack(x,y,grid)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Wait\"\u001b[39;49m:\u001b[K\u001b[17;13Hu.done()\u001b[K\u001b[18;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Cancel\"\u001b[39;49m:\u001b[K\u001b[21;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\u001b[K\u001b[23;29H\u001b[7m64% L256\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\u001b[K\n\u001b[31m# ACTION follows UNIT ACT when target in range. Expects COORD.                  \u001b[39;49m\r\n\u001b[31m# The provided coord should be one that contains an enemy unit.                 \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mAttack\u001b[39;49m(Action):\u001b[K\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, grid):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = x,y\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_COORD\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\u001b[K\n\tu = grid.unit_at(x,y)\r\n\t\u001b[33mlo\u001b[39;49m,hi = u.rang\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (a,b) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m grid.get_range(x,y,lo,hi):\u001b[15;13H\u001b[33mtarg\u001b[39;49m = grid.unit_at(a,b)\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (targ \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u.is_allied(targ)\u001b[17;13H         \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m (targ.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.secondary \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m\u001b[18;13H         (targ.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.primary \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.ammo > 0))):\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append((a,b))\r\n\u001b[K\u001b[21;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[22;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\n\b\b\b\b\u001b[7m8% L275\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[3;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\r\n            \u001b[33max\u001b[39;49m,\u001b[33may\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\r\n            \u001b[33mdx\u001b[39;49m,\u001b[33mdy\u001b[39;49m = act\u001b[7;5H        \u001b[33matk_t\u001b[39;49m,\u001b[33matk_u\u001b[39;49m = grid.get_at(ax,ay)\r\n\t    \u001b[33mdef_t\u001b[39;49m,\u001b[33mdef_u\u001b[39;49m = grid.get_at(dx,dy)\r\n\t    \u001b[33md\u001b[39;49m = grid.dist((ax,ay),(dx,dy))\r\n\t    \u001b[33mstart_ahp\u001b[39;49m, \u001b[33mstart_dhp\u001b[39;49m = atk_u.hp, def_u.hp\r\n\n\t    \u001b[31m# Calculate damage.                                                 \u001b[39;49m\r\n\t    \u001b[33ma_dmg\u001b[39;49m,\u001b[33mprim\u001b[39;49m = atk_u.simulate(def_u, def_t.cover)\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m a_dmg: \u001b[33mdef_u.hp\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(0,def_u.hp-a_dmg)\u001b[15;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33matk_u.ammo\u001b[39;49m -= 1\r\n\u001b[K\u001b[17;13H\u001b[31m# Only counter if hp > 0 and not indirect.                          \u001b[39;49m\r\n\u001b[18;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m def_u.is_indirect \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m def_u.in_range(d):\r\n\t\t\u001b[33md_dmg\u001b[39;49m,\u001b[33mprim\u001b[39;49m = def_u.simulate(atk_u, atk_t.cover)\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m d_dmg: \u001b[33matk_u.hp\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(0,atk_u.hp-d_dmg)\u001b[21;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33mdef_u.ammo\u001b[39;49m -= 1\u001b[K\r\n\u001b[K\u001b[23;29H\u001b[7m72% L294\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33mdef_u.ammo\u001b[39;49m -= 1\u001b[K\r\n\u001b[K\n\t    \u001b[31m# Draw damage animations                                            \u001b[39;49m\r\n\u001b[5;13H\u001b[33mt1\u001b[39;49m = start_dhp-def_u.hp\u001b[6;13H\u001b[33mt2\u001b[39;49m = start_ahp-atk_u.hp\u001b[7;13H\u001b[33mw1\u001b[39;49m = widgets.Counter(start_dhp,def_u.hp,0,\u001b[8;13H                     t1+t2+100,def_u.team.color)\u001b[9;13Hgrid.alerts.append((w1,\u001b[32m\"ul\"\u001b[39;49m))\u001b[K\u001b[10;13H\u001b[33mw2\u001b[39;49m = widgets.Counter(start_ahp,atk_u.hp,t1,\u001b[11;34Ht1+t2+100,atk_u.team.color)\u001b[12;13Hgrid.alerts.append((w2,\u001b[32m\"br\"\u001b[39;49m))\u001b[K\r\n\u001b[K\u001b[14;13H\u001b[31m# Remove dead units (and all carriees) from grid.                   \u001b[39;49m\r\n\t\t\batk_u.hp > 0:\u001b[K\r\n\t\tatk_u.done()\u001b[17;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b\b    grid.remove_unit(atk_u)\u001b[K\r\n\t\t\u001b[33matk_t.hp\u001b[39;49m = 100\u001b[K\u001b[20;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp <= 0:\u001b[K\r\n\t\tgrid.remove_unit(def_u)\u001b[K\r\n\t\t\u001b[33mdef_t.hp\u001b[39;49m = 100\n\b\u001b[7m7% L313\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25lgrid.remove_unit(def_u)\u001b[K\r\n\t\t\u001b[33mdef_t.hp\u001b[39;49m = 100\r\n\u001b[K\u001b[5;13H\u001b[33mateam\u001b[39;49m = 0\u001b[K\u001b[6;13H\u001b[33mdteam\u001b[39;49m = 0\u001b[K\u001b[7;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m grid.units:\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m atk_u.team: \u001b[33mateam\u001b[39;49m += 1\u001b[K\u001b[9;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m def_u.team: \u001b[33mdteam\u001b[39;49m += 1\u001b[10;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (score,team) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m ((ateam,atk_u.team),(dteam,def_u.team)):\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m score == 0:\u001b[K\u001b[12;13H        team.active = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[13;21Hmsg = \u001b[32m\"%s has been defeated!\"\u001b[39;49m%(team.name)\u001b[14;13H        grid.alerts.append((widgets.Notification(0,0,msg,200,\u001b[K\u001b[15;13H                                    team.color),\u001b[32m\"center\"\u001b[39;49m))\r\n\u001b[K\u001b[17;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# UNLOAD follows UNIT ACT when carrying units. A unit can unload                \u001b[39;49m\r\n\u001b[23;29H\u001b[7m82% L332\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m40\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;74H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\b\b\b\u001b[?25l\u001b[1P\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;62H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lmsg,200,\u001b[K\u001b[14;62H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33mdef_u.ammo\u001b[39;49m -= 1\r\n\u001b[K\u001b[4;13H\u001b[31m# Draw damage animations                                            \u001b[39;49m\r\n\u001b[5;13H\u001b[33mt1\u001b[39;49m = start_dhp-def_u.hp\u001b[6;13H\u001b[33mt2\u001b[39;49m = start_ahp-atk_u.hp\u001b[7;13H\u001b[33mw1\u001b[39;49m = widgets.Counter(start_dhp,def_u.hp,0,\r\n\t\t                 t1+t2+100,def_u.team.color)\u001b[9;13Hgrid.alerts.append((w1,\u001b[32m\"ul\"\u001b[39;49m))\u001b[K\u001b[10;13H\u001b[33mw2\u001b[39;49m = widgets.Counter(start_ahp,atk_u.hp,t1,\u001b[K\r\n\t\t                 t1+t2+100,atk_u.team.color)\u001b[12;13Hgrid.alerts.append((w2,\u001b[32m\"br\"\u001b[39;49m))\r\n\u001b[K\u001b[14;13H\u001b[31m# Remove dead units (and all carriees) from grid.                   \u001b[39;49m\r\n\u001b[15;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m atk_u.hp > 0:\u001b[K\r\n\t\tatk_u.done()\u001b[17;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t        grid.remove_unit(atk_u)\u001b[19;13H    \u001b[33matk_t.hp\u001b[39;49m = 100\u001b[20;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp <= 0:\r\n\t\tgrid.remove_unit(def_u)\r\n                \u001b[33mdef_t.hp\u001b[39;49m = 100\u001b[K\n\b\b\u001b[7m78% L333\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[3;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[5;13H\u001b[33max\u001b[39;49m,\u001b[33may\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\u001b[6;13H\u001b[33mdx\u001b[39;49m,\u001b[33mdy\u001b[39;49m = act\u001b[K\u001b[7;13H\u001b[33matk_t\u001b[39;49m,\u001b[33matk_u\u001b[39;49m = grid.get_at(ax,ay)\u001b[K\u001b[8;13H\u001b[33mdef_t\u001b[39;49m,\u001b[33mdef_u\u001b[39;49m = grid.get_at(dx,dy)\u001b[K\u001b[9;13H\u001b[33md\u001b[39;49m = grid.dist((ax,ay),(dx,dy))\u001b[10;13H\u001b[33mstart_ahp\u001b[39;49m, \u001b[33mstart_dhp\u001b[39;49m = atk_u.hp, def_u.hp\u001b[K\r\n\u001b[K\u001b[12;13H\u001b[31m# Calculate damage.                                                 \u001b[39;49m\r\n\u001b[13;13H\u001b[33ma_dmg\u001b[39;49m,\u001b[33mprim\u001b[39;49m = atk_u.simulate(def_u, def_t.cover)\u001b[14;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m a_dmg: \u001b[33mdef_u.hp\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(0,def_u.hp-a_dmg)\u001b[K\r\n\t\t\bprim: \u001b[33matk_u.ammo\u001b[39;49m -= 1\r\n\u001b[K\u001b[17;13H\u001b[31m# Only counter if hp > 0 and not indirect.                          \u001b[39;49m\r\n\u001b[18;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m def_u.is_indirect \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m def_u.in_range(d):\r\n\t\t\u001b[33md_dmg\u001b[39;49m,\u001b[33mprim\u001b[39;49m = def_u.simulate(atk_u, atk_t.cover)\u001b[20;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m d_dmg: \u001b[33matk_u.hp\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(0,atk_u.hp-d_dmg)\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33mdef_u.ammo\u001b[39;49m -= 1\r\n\u001b[K\u001b[23;30H\u001b[7m2% L314\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33mdef_u.ammo\u001b[39;49m -= 1\u001b[K\r\n\u001b[K\n\t    \u001b[31m# Draw damage animations                                            \u001b[39;49m\r\n\u001b[5;13H\u001b[33mt1\u001b[39;49m = start_dhp-def_u.hp\u001b[6;13H\u001b[33mt2\u001b[39;49m = start_ahp-atk_u.hp\u001b[7;13H\u001b[33mw1\u001b[39;49m = widgets.Counter(start_dhp,def_u.hp,0,\u001b[8;13H                     t1+t2+100,def_u.team.color)\u001b[9;13Hgrid.alerts.append((w1,\u001b[32m\"ul\"\u001b[39;49m))\u001b[K\u001b[10;13H\u001b[33mw2\u001b[39;49m = widgets.Counter(start_ahp,atk_u.hp,t1,\u001b[11;34Ht1+t2+100,atk_u.team.color)\u001b[12;13Hgrid.alerts.append((w2,\u001b[32m\"br\"\u001b[39;49m))\u001b[K\r\n\u001b[K\u001b[14;13H\u001b[31m# Remove dead units (and all carriees) from grid.                   \u001b[39;49m\r\n\t\t\batk_u.hp > 0:\u001b[K\r\n\t\tatk_u.done()\u001b[17;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b\b    grid.remove_unit(atk_u)\u001b[K\r\n\t\t\u001b[33matk_t.hp\u001b[39;49m = 100\u001b[K\u001b[20;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp <= 0:\u001b[K\r\n\t\tgrid.remove_unit(def_u)\u001b[K\r\n\t\t\u001b[33mdef_t.hp\u001b[39;49m = 100\n\b\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[3;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[5;13H\u001b[33max\u001b[39;49m,\u001b[33may\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\u001b[6;13H\u001b[33mdx\u001b[39;49m,\u001b[33mdy\u001b[39;49m = act\u001b[K\u001b[7;13H\u001b[33matk_t\u001b[39;49m,\u001b[33matk_u\u001b[39;49m = grid.get_at(ax,ay)\u001b[K\u001b[8;13H\u001b[33mdef_t\u001b[39;49m,\u001b[33mdef_u\u001b[39;49m = grid.get_at(dx,dy)\u001b[K\u001b[9;13H\u001b[33md\u001b[39;49m = grid.dist((ax,ay),(dx,dy))\u001b[10;13H\u001b[33mstart_ahp\u001b[39;49m, \u001b[33mstart_dhp\u001b[39;49m = atk_u.hp, def_u.hp\u001b[K\r\n\u001b[K\u001b[12;13H\u001b[31m# Calculate damage.                                                 \u001b[39;49m\r\n\u001b[13;13H\u001b[33ma_dmg\u001b[39;49m,\u001b[33mprim\u001b[39;49m = atk_u.simulate(def_u, def_t.cover)\u001b[14;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m a_dmg: \u001b[33mdef_u.hp\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(0,def_u.hp-a_dmg)\u001b[K\r\n\t\t\bprim: \u001b[33matk_u.ammo\u001b[39;49m -= 1\r\n\u001b[K\u001b[17;13H\u001b[31m# Only counter if hp > 0 and not indirect.                          \u001b[39;49m\r\n\u001b[18;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m def_u.is_indirect \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m def_u.in_range(d):\r\n\t\t\u001b[33md_dmg\u001b[39;49m,\u001b[33mprim\u001b[39;49m = def_u.simulate(atk_u, atk_t.cover)\u001b[20;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m d_dmg: \u001b[33matk_u.hp\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(0,atk_u.hp-d_dmg)\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33mdef_u.ammo\u001b[39;49m -= 1\r\n\u001b[K\u001b[23;30H\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\u001b[K\n\u001b[31m# ACTION follows UNIT ACT when target in range. Expects COORD.                  \u001b[39;49m\r\n\u001b[31m# The provided coord should be one that contains an enemy unit.                 \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mAttack\u001b[39;49m(Action):\u001b[K\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, grid):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = x,y\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_COORD\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\n\tu = grid.unit_at(x,y)\u001b[K\r\n\t\u001b[33mlo\u001b[39;49m,hi = u.rang\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (a,b) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m grid.get_range(x,y,lo,hi):\u001b[K\u001b[15;13H\u001b[33mtarg\u001b[39;49m = grid.unit_at(a,b)\u001b[16;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (targ \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u.is_allied(targ)\u001b[17;13H         \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m (targ.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.secondary \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m\u001b[K\u001b[18;13H         (targ.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.primary \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.ammo > 0))):\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append((a,b))\u001b[K\r\n\u001b[K\u001b[21;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[22;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\n\b\b\b\b\b\u001b[7m68% L295\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l                \u001b[33mot.hp\u001b[39;49m = 100\u001b[3;29Hgrid.change_tile(ot,tx,ty)\r\n                \u001b[33mt.team\u001b[39;49m = u.team\u001b[K\r\n                \u001b[33mt.hp\u001b[39;49m = 100\u001b[K\r\n                grid.change_tile(t,x,y)\u001b[7;5H        u.done()\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Unload\"\u001b[39;49m:\u001b[11;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Unload(x,y,grid)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Attack\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Attack(x,y,grid)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Wait\"\u001b[39;49m:\u001b[K\u001b[17;13Hu.done()\u001b[K\u001b[18;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Cancel\"\u001b[39;49m:\u001b[21;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\u001b[K\u001b[23;30H\u001b[7m4% L276\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Capture\"\u001b[39;49m:\u001b[K\u001b[4;13Hold_hp = t.hp\u001b[K\u001b[5;13Hnew_hp = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(old_hp-\u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(u.hp*u.capture*.01),0)\r\n\u001b[K\u001b[7;13Ht.hp = new_hp\u001b[8;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.hp == 0:\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.is_hq \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.team:\r\n\t            grid.purge(t.team)\u001b[11;13H        \u001b[33mt.team.active\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[12;21H\u001b[33mmsg\u001b[39;49m = \u001b[32m\"%s has been defeated!\"\u001b[39;49m%(t.team.name)\r\n\t            grid.alerts.append(widgets.Notification(0,0,msg,200,\u001b[14;13H                                                t.team.color))\u001b[15;21H\u001b[33mt.is_hq\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (tx,ty) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m grid.all_tiles_xy():\u001b[17;13H            \u001b[33mot\u001b[39;49m = grid.tile_at(tx,ty)\u001b[18;13H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m ot.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m t.team:\u001b[19;29H\u001b[33mot.team\u001b[39;49m = u.team\r\n\t                    \u001b[33mot.is_hq\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[21;13H                \u001b[33mot.hp\u001b[39;49m = 100\u001b[22;29Hgrid.change_tile(ot,tx,ty)\u001b[23;29H\u001b[7m59% L257\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m49\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;73H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\b\b\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lmsg,200,\u001b[K\u001b[13;61H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;61H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[14;75H\b\u001b[24;1H\u001b[?25lAuto-saving...\u001b[14;74H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[14;74H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[14;74H\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[16;1H\u001b[1L\u001b[1;24r\u001b[14;75H\u001b[K\r\n\u001b[?25l)\u001b[K\n\b                    \u001b[33mt.is_hq\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[23;35H\u001b[7m50\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[20@\u001b[15;21H\r\t\t\u001b[4P\b\b\b\b\u001b[4P\r\t\u001b[4P\b\b\b\b\u001b[4P\r\u001b[4P\u001b[20@\u001b[15;21H\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\t\b\u001b[1@\t\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\t\b\u001b[1@\t\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\t\b\u001b[1@\t\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\t\b\u001b[1@\t\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\t\b\u001b[1@\t\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[23;35H\u001b[?25l\u001b[7m49\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;62H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;62H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\u001b[?25l\u001b[1@(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m50\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[25P\u001b[16;21H\u001b[?25lt.is_hq\u001b[15;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[4P\b\b\b\b\u001b[4P\b\b\b\b\u001b[4P\b\b\b\b\u001b[4P\r\t\t\u001b[4P\b\b\b\b\u001b[4P\r\t\u001b[4P\b\b\b\b\u001b[4P\r\u001b[4P\u001b[36@\u001b[15;37H\r\n\n\n\t\t\t\u001b[?25lot\u001b[20;29Hot.team\u001b[21;29Hot.is_hq\u001b[22;29Hot.hp\u001b[15;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\t\b\u001b[1@\t\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\t\b\u001b[1@\t\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\t\b\u001b[1@\t\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[?25l\u001b[32m\")                  \u001b[39;49m\r\n\u001b[32m                    t.is_hq = False                                             \u001b[39;49m\r\n\u001b[15;62H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mc)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mn)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mr)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m)\u001b[K\r\n                    t.is_hq = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[15;69H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l)\u001b[16;21H\u001b[33mt.is_hq\u001b[39;49m\u001b[23;35H\u001b[7m48\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m50\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;71H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\t\t\t\u001b[?25l\u001b[33mot\u001b[39;49m\u001b[20;29H\u001b[33mot.team\u001b[39;49m\u001b[21;29H\u001b[33mot.is_hq\u001b[39;49m\u001b[22;29H\u001b[33mot.hp\u001b[39;49m\u001b[15;71H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lAuto-saving...\u001b[15;71H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[15;71H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[15;70H\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[15;70H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[15;70H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;70H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[2;21H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Attack\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[31m# If we're carrying anything, try to unload it.                         \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(u.carrying) > 0:\u001b[K\u001b[6;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Unload\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[31m# Can we capture this tile?                                             \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.can_capture \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.capture > 0:\u001b[10;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Capture\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Wait\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Cancel\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[15;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[18;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Illegal input: %s\"\u001b[39;49m%\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(act))\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\r\n\t\u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(x,y)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Capture\"\u001b[39;49m:\u001b[K\n\u001b[C\u001b[7m5% L238\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mUnit_Act\u001b[39;49m(Action):\u001b[K\u001b[3;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m,x,y,grid,moved):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_MENU\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = x,y\u001b[K\r\n\t\u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(x,y)\r\n\u001b[K\n\t\u001b[31m# Determine if we can attack anything.                                  \u001b[39;49m\r\n\t\u001b[33mlo\u001b[39;49m,\u001b[33mhi\u001b[39;49m = u.rang\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (lo>0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m hi>0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u.is_indirect \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m\r\n\t        (u.is_indirect \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m moved))):\r\n\t    \u001b[33mcan_attack\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[14;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (a,b) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m grid.get_range(x,y,lo,hi):\u001b[15;5H            \u001b[33mtarg\u001b[39;49m = grid.unit_at(a,b)\u001b[K\u001b[16;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (targ \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u.is_allied(targ)\r\n\t                 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m (targ.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.secondary \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m\u001b[18;13H             (targ.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.primary \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.ammo > 0))):\r\n\t            \u001b[33mcan_attack\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m can_attack:\u001b[K\n\b\b\b\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Attack\"\u001b[39;49m)\r\n\u001b[K\u001b[23;30H\u001b[7m0% L219\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l            \u001b[33mu2.ammo\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(u1.ammo+u2.ammo,u2.max_ammo)\u001b[3;5H        u2.done()\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u2 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u2.capacity > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u1.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u2.carry \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m\r\n\t   \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(u2.carrying) < u2.capacity \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u1 \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u2):\r\n\t    grid.load_unit(u1,u2)\u001b[8;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\r\n\u001b[K\n\tgrid.move_unit(u1,x,y)\r\n\t\u001b[33mt1.hp\u001b[39;49m = 100\u001b[K\r\n\t\u001b[33mmoved\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (ox,oy) != (x,y):\u001b[K\u001b[14;13H\u001b[33mmoved\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Unit_Act(x,y,grid,moved)\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# UNIT ACT follows MOVE and expects MENU.                                       \u001b[39;49m\r\n\u001b[31m#  If a unit is in range, there is ammo, etc, allow attack.                     \u001b[39;49m\r\n\u001b[31m#  If the unit and current terrain are capturable, allow capture.               \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mUnit_Act\u001b[39;49m(Action):\u001b[K\u001b[22;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m,x,y,grid,moved):\u001b[23;29H\u001b[7m45% L200\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\u001b[K\n\t\u001b[33mox\u001b[39;49m,\u001b[33moy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = act\u001b[K\r\n\t\u001b[33mt1\u001b[39;49m,\u001b[33mu1\u001b[39;49m = grid.get_at(ox,oy)\u001b[K\r\n\t\u001b[33mt2\u001b[39;49m,\u001b[33mu2\u001b[39;49m = grid.get_at(x,y)\u001b[K\r\n\u001b[K\n\t\u001b[31m# We just undo whenever we try to move a unit that isn't ready and      \u001b[39;49m\r\n\t\u001b[31m# isn't ours.                                                           \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u1.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m grid.current_team() \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u1.ready:\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\r\n\u001b[K\n\t\u001b[31m# Before moving, we check to see if the tile is occupied. If it         \u001b[39;49m\r\n\t\u001b[31m# is, we allow movement if the landing unit can either carry the        \u001b[39;49m\r\n\t\u001b[31m# mover or the mover and landing unit can be joined.                    \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u2 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u2.unit == u1.unit \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u1 \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u2):\r\n            grid.remove_unit(u1)\u001b[K\r\n            \u001b[33mu2.hp\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(u1.hp+u2.hp,100)\u001b[K\r\n            \u001b[33mu2.fuel\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(u1.fuel+u2.fuel,u2.max_fuel)\u001b[K\r\n            \u001b[33mu2.ammo\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(u1.ammo+u2.ammo,u2.max_ammo)\u001b[22;5H        u2.done()\u001b[K\u001b[23;30H\u001b[7m0% L181\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (a,b) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m report:\r\n\t    \u001b[33madd\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t    \u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(a,b)\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t: \u001b[33madd\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m unit: \u001b[33madd\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[8;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m unit.team: \u001b[33madd\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m unit.team \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit == unit.unit: add = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m unit.team \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m unit.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.carry: add = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[12;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m add:\u001b[K\n\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append((a,b))\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_COORD\u001b[K\r\n\u001b[K\u001b[17;5H\u001b[31m# This performs the movement. After moving, we have to figure out if the    \u001b[39;49m\r\n\u001b[18;5H\u001b[31m# unit can do anything else.                                                \u001b[39;49m\r\n\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[21;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\u001b[K\u001b[23;29H\u001b[7m35% L162\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[31m# Calculate movement range. TODO, calc fuel cost as well.               \u001b[39;49m\r\n\t\u001b[33mreport\u001b[39;49m = []\u001b[K\r\n\t\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m_floodfill\u001b[0m\u001b[39;49m(pos,r,top=\u001b[35mFalse\u001b[39;49m):\u001b[5;13H\u001b[33ma\u001b[39;49m,\u001b[33mb\u001b[39;49m = pos\u001b[K\u001b[6;13H\u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(a,b)\u001b[7;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m u.is_allied(unit)):\u001b[8;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m top:\u001b[K\u001b[9;13H        \u001b[33mr\u001b[39;49m -= unit.terrain.get(t.terrain,r)\u001b[K\u001b[10;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (a,b) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m report \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.terrain \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m unit.terrain:\u001b[K\u001b[11;21Hreport.append((a,b))\u001b[12;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m r > 0:\r\n\t\t    _floodfill((a-1,b),r)\u001b[K\u001b[14;21H_floodfill((a+1,b),r)\r\n\t            _floodfill((a,b-1),r)\u001b[16;21H_floodfill((a,b+1),r)\u001b[17;5H    _floodfill((x,y),unit.move,\u001b[35mTrue\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[19;5H    \u001b[31m# Now filter the results. We have to do something more complex          \u001b[39;49m\r\n\t\u001b[31m# than a list comprehension.                                            \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (a,b) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m report:\n\u001b[C\u001b[7m0% L143\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Cancel\"\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\r\n\u001b[K\n\t\u001b[33mname\u001b[39;49m,price = act.rsplit(\u001b[35mNone\u001b[39;49m,1)\r\n\tunit = entities.Unit(name, grid.rules[\u001b[32m\"units\"\u001b[39;49m][name])\r\n\t\u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\r\n\tgrid.current_team().cash -= \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(price[1:])\r\n\tgrid.add_unit(unit,grid.current_team(),x,y)\u001b[K\r\n\tunit.done()\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\r\n\u001b[K\n\u001b[31m# MOVE follows BEGIN and expects COORD.                                         \u001b[39;49m\r\n\u001b[31m# If the selected unit is on the active team and is ready, then we permit       \u001b[39;49m\r\n\u001b[31m# it to move.                                                                   \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mMove\u001b[39;49m(Action):\u001b[K\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x,y,grid):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = x,y\r\n\t\u001b[33munit\u001b[39;49m = grid.unit_at(x,y)\u001b[K\r\n\u001b[K\n\t\u001b[31m# Calculate movement range. TODO, calc fuel cost as well.               \u001b[39;49m\r\n\t\u001b[33mreport\u001b[39;49m = []\u001b[K\u001b[23;29H\u001b[7m26% L124\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\n\t\u001b[?25l\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Reached end of action without return.\"\u001b[39;49m)\r\n\n\u001b[31m# BUILD follows BEGIN and expects MENU.                                         \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mBuild\u001b[39;49m(Action):\u001b[K\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, grid):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = x,y\u001b[K\r\n\ttile = grid.tile_at(x,y)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b,v \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34msorted\u001b[0m\u001b[39;49m(tile.build.items(), key=\u001b[1m\u001b[36mlambda\u001b[0m\u001b[39;49m x:x[1]):\u001b[12;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m v <= grid.current_team().cash:\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"%s $%d\"\u001b[39;49m%(b,v))\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Cancel\"\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_MENU\u001b[K\r\n\u001b[K\u001b[17;5H\u001b[31m# This builds the unit and disables it. It can move on the next turn.       \u001b[39;49m\r\n\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[20;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Illegal input: %s\"\u001b[39;49m%\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(act))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Cancel\"\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\n\u001b[C\u001b[7m1% L105\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Close\"\u001b[39;49m,\u001b[32m\"Surrender\"\u001b[39;49m,\u001b[32m\"End Turn\"\u001b[39;49m]\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_MENU\r\n\u001b[K\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[7;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Illegal input: %s\"\u001b[39;49m%\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(act))\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Close\"\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Surrender\"\u001b[39;49m:\u001b[K\u001b[13;13Hcur = grid.current_team()\u001b[K\r\n\t    grid.purge( cur )\u001b[K\r\n\t    cur.active = \u001b[35mFalse\u001b[39;49m\u001b[16;13H\u001b[33mmsg\u001b[39;49m = \u001b[32m\"%s has been defeated!\"\u001b[39;49m%(cur.name)\u001b[17;5H        grid.alerts.append(widgets.Notification(0,0,msg,200,cur.color))\u001b[K\u001b[18;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\r\n\t\t\b== \u001b[32m\"End Turn\"\u001b[39;49m:\u001b[K\u001b[20;14H\u001b[1m\u001b[36meturn\u001b[0m\u001b[39;49m ACT_END\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Reached end of action without return.\"\u001b[39;49m)\u001b[23;29H\u001b[7m16% L86 \u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[3;25H\u001b[?25l]\u001b[K\nCOORD\r\n\n\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = act\u001b[K\r\n\t\u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(x,y)\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Move(x,y,grid)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(t.build) > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m grid.current_team():\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Build(x,y,grid)\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Main_Menu()\r\n\u001b[K\n\u001b[K\n\u001b[31m# MAIN MENU follows BEGIN and expects MENU.                                     \u001b[39;49m\r\n\u001b[31m# This is the menu created if the user clicks outside of the field.             \u001b[39;49m\r\n\u001b[31m# This allows the user to end their turn, undo, moves, etc.                     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mMain_Menu\u001b[39;49m(Action):\u001b[K\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Close\"\u001b[39;49m,\u001b[32m\"Surrender\"\u001b[39;49m,\u001b[32m\"End Turn\"\u001b[39;49m]\u001b[K\u001b[23;30H\u001b[7m2% L67\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[3;25H\u001b[?25l\u001b[32m\"Close\"\u001b[39;49m,\u001b[32m\"Surrender\"\u001b[39;49m,\u001b[32m\"End Turn\"\u001b[39;49m]\u001b[4;26HMENU\u001b[K\r\n\n\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Illegal input: %s\"\u001b[39;49m%\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(act))\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Close\"\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Surrender\"\u001b[39;49m:\u001b[K\r\n\t    cur = grid.current_team()\u001b[14;13Hgrid.purge( cur )\u001b[K\u001b[15;13Hcur.active = \u001b[35mFalse\u001b[39;49m\u001b[16;13H\u001b[33mmsg\u001b[39;49m = \u001b[32m\"%s has been defeated!\"\u001b[39;49m%(cur.name)\r\n            grid.alerts.append(widgets.Notification(0,0,msg,200,cur.color))\u001b[K\r\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"End Turn\"\u001b[39;49m:\u001b[K\r\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_END\r\n\u001b[K\n\t\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Reached end of action without return.\"\u001b[39;49m)\u001b[23;30H\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m80\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[17;76H\b\u001b[?25l,)\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;76H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\")   \u001b[39;49m\r\n\u001b[32m            return ACT_COMMIT                                                   \u001b[39;49m\r\n\u001b[17;77H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mc)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me)\u001b[39;49m\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[19;1H\u001b[1L\u001b[1;24r\u001b[17;79H\u001b[?25l\u001b[32mn\u001b[39;49m\\\r\n\u001b[32m)                            \u001b[39;49m\r\n\u001b[32m            return ACT_COMMIT                                                   \u001b[39;49m\r\n\u001b[A\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mr)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l\u001b[32m        if act == \"\u001b[39;49mEnd Turn\u001b[32m\":                                                   \u001b[39;49m\r\n\u001b[32m            return ACT_END                                                      \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[18;4H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m)\u001b[K\r\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\u001b[18;5H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"End Turn\"\u001b[39;49m:\u001b[K\r\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_END\u001b[K\r\n\u001b[K\u001b[18;5H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l)\u001b[17;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[17;6H\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\u001b[?25l(widgets.Notification(0,0,msg,200,cur.color),\u001b[32m\"ce\u001b[39;49m\r\n\u001b[32mnter\"\u001b[39;49m))\u001b[17;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\t\b\b\b\b\b\b\b\b\u001b[17;79H\b\b\b\u001b[C\u001b[K\r\n\u001b[?25l\u001b[32m\"center\"\u001b[39;49m))\u001b[23;35H\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[32@\t\t\t\t\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[18;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[18;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m79\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m80\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[?25l\u001b[1P\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;54H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[17;54H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[17;54H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;54H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[17;54H\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default grid.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lsession.py\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l*scratch*\u001b[K\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[2;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i != \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index:\r\n\t    i = i%\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items)\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor.move_to(1,i+1)\u001b[5;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index = i\u001b[6;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\r\n\t    report = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\u001b[8;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[K\u001b[9;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[12;5H\u001b[31m# This function just reports what value is being hovered over.              \u001b[39;49m\r\n\u001b[13;5H\u001b[31m# This can be used for tooltips.                                            \u001b[39;49m\r\n\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\r\n\u001b[K\n\u001b[K\n\u001b[31m# Notifications are popups that should be tied to sprite objects. Their         \u001b[39;49m\r\n\u001b[31m# sprites are added to the pile of sprites.                                     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mNotification\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, s, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\u001b[23;6H\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   37% L39\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m40\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m50\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[23;30H\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[22;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m# This can be used for tooltips.                                            \u001b[39;49m\r\n\u001b[3;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.items[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.index]\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# Notifications are popups that should be tied to sprite objects. Their         \u001b[39;49m\r\n\u001b[31m# sprites are added to the pile of sprites.                                     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mNotification\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, s, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\u001b[12;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer = timer\u001b[K\u001b[13;5H    \u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[K\u001b[14;5H    \u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\r\n\t\u001b[33mw\u001b[39;49m = 0\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[17;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\r\n                \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\u001b[K\r\n        \u001b[33mw\u001b[39;49m += 2\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,w,h,layer=200)\u001b[21;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\u001b[23;29H\u001b[7m47% L60\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;15H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[22;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[33mlines\u001b[39;49m = s.splitlines()\u001b[K\u001b[3;5H    \u001b[33mh\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(lines)+2\r\n\t\u001b[33mw\u001b[39;49m = 0\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m lines:\u001b[6;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l) > w:\r\n                \u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(l)\u001b[K\r\n        \u001b[33mw\u001b[39;49m += 2\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,w,h,layer=200)\u001b[10;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,w,h,fg=fg,bg=bg),0,0)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(lines):\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.string(0,0,l,fg,bg),1,1+i)\r\n\u001b[K\u001b[14;5H\u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[15;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[18;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\r\n\u001b[K\n\u001b[31m# The Counter notification is used to animate increasing/decreasing HP after    \u001b[39;49m\r\n\u001b[31m# combat, capturing, joining, etc.                                              \u001b[39;49m\r\n\u001b[23;29H\u001b[7m56% L71\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/widgets.py...\u001b[12;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/widgets.py\u001b[K\u001b[12;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m69\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\b\u001b[?25l\u001b[1P\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[1@,\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[10d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[11d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[12d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;15H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m80\u001b[0m\u001b[39;49m\u001b[27m\u001b[21d\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\b\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[A\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\u001b[K\u001b[3;5H\u001b[?25l\u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[4;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[7;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\r\n\u001b[K\n\u001b[31m# The Counter notification is used to animate increasing/decreasing HP after    \u001b[39;49m\r\n\u001b[31m# combat, capturing, joining, etc.                                              \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mCounter\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, start, end, delay, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\u001b[14;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[15;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay = delay\u001b[16;20H= timer\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = start\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end = end\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col = fg\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(x,y,6,3,layer=200)\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,6,3,fg=fg,bg=bg),0,0)\u001b[K\r\n        \u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\n\b\b\b\b\u001b[7m66% L82\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[13d\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\b\b\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m90\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[?25l\u001b[1@0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/widgets.py...\u001b[20;36H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/widgets.py\u001b[K\u001b[20;36H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;36H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 81, in run\r\n    res = self.game.handle_input(c)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/session.py\", line 96, in handle_input\r\n    if loc == \"center\": x,y = (cx-sx+self.grid.w//2-n.w//2,\r\nAttributeError: 'Notification' object has no attribute 'w'\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n\u001b[K\n    \u001b[31m# Nothing.                                                                  \u001b[39;49m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mupdate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer <= 0:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.kill()\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[31m# The Counter notification is used to animate increasing/decreasing HP after    \u001b[39;49m\r\n\u001b[A\n\u001b[31m# combat, capturing, joining, etc.                                              \u001b[39;49m\r\n\u001b[A\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mCounter\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, start, end, delay, timer, fg=\u001b[32m\"w\"\u001b[39;49m, bg=\u001b[32m\"X\"\u001b[39;49m):\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.delay = delay\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer = timer\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = start\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end = end\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.col = fg\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite = draw.fill(0,0,6,3,layer=200)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprite.blit(draw.border(0,0,6,3,fg=fg,bg=bg),0,0)\u001b[K\r\n        \u001b[33mmsg\u001b[39;49m = \u001b[32m\"%3d%%\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mwidgets.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   66% L90   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[20;36H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\u001b[?25l\u001b[34mSwitch to buffer (default rules.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrules.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lsession.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n,loc \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\u001b[3;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications.append(n)\u001b[K\u001b[4;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(n.sprite)\r\n\t    \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = 0,0\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m loc == \u001b[32m\"center\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = (cx-sx+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w//2-n.w//2,\u001b[7;13H                           cy-sy+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h//2-n.h//2)\u001b[8;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"ul\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx-n,cy-h\u001b[9;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"ur\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx+1,cy-n.h\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"bl\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx-n.w,cy+1\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"br\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx+1,cy+1\u001b[K\r\n            n.sprite.move_to(cx,cy)\r\n\u001b[K\n\u001b[K\n\t\u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\r\n\t\u001b[31m# If control does not belong to the human, then the control simply      \u001b[39;49m\r\n\t\u001b[31m# allows the player to move the map around.                             \u001b[39;49m\r\n\tresult = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\tinfo = {}\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().control == \u001b[32m\"human\"\u001b[39;49m:\r\n\t    \u001b[33mresult\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\u001b[23;14H\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   34% L97\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;68H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;68H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\u001b[C\u001b[C\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;50H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[5;1H\u001b[1L\u001b[1;24r\u001b[5;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   34% L95\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[5;13H\u001b[19;9H\u001b[?25l\u001b[33mresult\u001b[39;49m\r\n\t\u001b[33minfo\u001b[39;49m\n\nresult\u001b[5;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\b\b\b\u001b[?25l\u001b[33mns\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[7;68H\b\b\b\b\b\b\u001b[?25ls.w//2,\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;63H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25ls.h//2)\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[24;1H\u001b[?25lAuto-saving...\u001b[8;62H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[8;62H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[19;9H\u001b[?25lresult\r\n\tinfo\n\n\u001b[33mresult\u001b[39;49m\u001b[8;62H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[8;61H\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[23;34H\u001b[?25l\u001b[7m100\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[?25ls.h\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\u001b[22;13H\u001b[?25lresult\u001b[11;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m99 \u001b[0m\u001b[39;49m\u001b[27m\u001b[9;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\b\u001b[K\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\t\u001b[?25ls,cy-ns.h\u001b[9;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.,cy-ns.h\u001b[9;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw,cy-ns.h\u001b[9;44H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m100\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;44H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;44H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25ls.w,cy+1\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[19;9H\u001b[?25l\u001b[33mresult\u001b[39;49m\r\n\t\u001b[33minfo\u001b[39;49m\u001b[11;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lAuto-saving...\u001b[11;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[11;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[11;42H\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[11;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[11;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[31m\u001b[40m|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[31m\u001b[40m|Ramen, move out!|\u001b(B\u001b[0;1m\u001b[34m\u001b[40m$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m........\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[C\u001b[2d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2d\b\u001b[31m\u001b[40m|\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3d\b\u001b[31m\u001b[40m|\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m+\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4d\b\u001b[31m\u001b[40m+\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5d\b\u001b[32m\u001b[40m.\u001b[6d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[7d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b[8d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b[9d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b[10d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[32m\u001b[40m..................\r\u001b[2d............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\r\u001b[3d...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###\r\u001b[4d\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.............\r\u001b[10d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b[11d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[12d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[13d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[14d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;14H\u001b(B\u001b[0;7m\u001b[31m\u001b[40m.\u001b[7d\b\b...\u001b[8;12H....^\u001b[9;11H.....^.\u001b[10;10H......^..\u001b[11;9H.......#...\u001b[12;8H#.#..........\u001b[13;7H...........#...\u001b[14;6H.!$.....\u001b[39;49m\u001b[37m\u001b[40mi\u001b[31m\u001b[40m$.......\u001b[15;7H...............\u001b[14;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[14d\b\u001b[31m\u001b[40mi\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6d\u001b[32m\u001b[40m.\u001b[7d\b\b...\u001b[8;12H....\u001b[33m\u001b[40m^\u001b[9;11H\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[11;9H.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[12;8H\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b[13;7H.......\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[14;6H.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.......\u001b[15;7H...............\u001b[13;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[13d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[12d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[11d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[10d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[9d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[8d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[31m\u001b[40m.\u001b[7d\b\b.\u001b[39;49m\u001b[37m\u001b[40m.\u001b[31m\u001b[40m.\u001b[8;12H....^\u001b[9;11H.....^.\u001b[10;10H......^..\u001b[11;9H.......#...\u001b[12;8H#.#..........\u001b[13;7H...........#...\u001b[14;6H.!$.....i$.......\u001b[15;7H...............\u001b[7;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[7d\b\u001b[31m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+------+\u001b[7;15H|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mWait  \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[8;15H|Cancel|\u001b[9;15H+------+\u001b[14;14H\u001b[32m\u001b[40m.\u001b[7;21H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;15H\u001b[32m\u001b[40m.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b[7;13H...\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...\u001b[8;12H....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m......\u001b[9;11H.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m......\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[11;9H.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[12;8H\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b[13;7H...........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[14;6H.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.......\u001b[15;7H...............\u001b[6;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[6d\b\u001b(B\u001b[0;1m\u001b[30m\u001b[40mi\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[C+---------+\u001b[6;15H|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[7;15H|Surrender|\u001b[8;15H|End Turn |\u001b[9;15H+---------+\u001b[6d\b\b\u001b[6;16HClose    \u001b[8;16H\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;15H\u001b[32m\u001b[40m.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.........\u001b[6;15H.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b[7;15H.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m......\u001b[8;15H.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.........\u001b[9;15H.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.........\u001b[5;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6d\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m+-----------------+\u001b[6;14H|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m    \u001b[34m\u001b[40m|\u001b[7;14H|Ishara, move out!|\u001b[8;14H+-----------------+\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;15H\u001b[A\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[5d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\b\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[4d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[8;33H\u001b[3;14H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;1m\u001b[34m\u001b[40m#\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[8;33H\u001b[3;17H\u001b(B\u001b[0;1m\u001b[34m\u001b[40m#\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;1m\u001b[34m\u001b[40m#\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m$\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;1m\u001b[34m\u001b[40m$\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[8;33H\u001b[3;20H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[5;14H\u001b(B\u001b[0m\u001b[32m\u001b[40m..\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[6;14H\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[7;14H\u001b[32m\u001b[40m..\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[8;14H\u001b[32m\u001b[40m..\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[3;21H\u001b[C+---------+\u001b[4;22H|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[5;22H|Surrender|\u001b[6;22H|End Turn |\u001b[7;22H+---------+\u001b[4d\b\b\u001b[3;22H\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[4;22H\u001b[32m\u001b[40m.....\u001b[34m\u001b[40m~~~~\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[5;22H\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[6;22H\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[7;22H\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[3;21H\u001b[4;23HClose\u001b[K\u001b[5;23H\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40m........ \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;23H\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~\u001b[5;23H\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[3;21H\u001b[4;23H\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40m....~~~~ \u001b[5;23H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mSurrender\u001b[A\b\u001b[4;23H\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[5;23H\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[3;21H\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 95, in run\r\n    gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 88, in refresh\r\n    if gfx: return gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 105, in refresh\r\n    curses.napms(20)\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n,loc \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications.append(n)\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(n.sprite)\u001b[K\r\n            \u001b[33mns\u001b[39;49m = n.sprite\u001b[K\r\n            \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = 0,0\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m loc == \u001b[32m\"center\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = (cx-sx+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w//2-ns.w//2,\u001b[K\r\n                                       cy-sy+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h//2-ns.h//2)\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"ul\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx-ns.w,cy-ns.h\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"ur\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx+1,cy-ns.h\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"bl\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx-ns.w,cy+1\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"br\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx+1,cy+1\u001b[K\r\n            n.sprite.move_to(cx,cy)\u001b[K\r\n\u001b[K\n\u001b[K\n        \u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\u001b[K\r\n        \u001b[31m# If control does not belong to the human, then the control simply      \u001b[39;49m\r\n\u001b[A\n        \u001b[31m# allows the player to move the map around.                             \u001b[39;49m\r\n\u001b[A\n        \u001b[33mresult\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n        \u001b[33minfo\u001b[39;49m = {}\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().control == \u001b[32m\"human\"\u001b[39;49m:\u001b[K\r\n            result = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   34% L101  Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[11;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().control == \u001b[32m\"human\"\u001b[39;49m:\u001b[3;13Hresult = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[4;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\u001b[5;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"left\"\u001b[39;49m: cx -=1\u001b[6;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"right\"\u001b[39;49m: cx +=1\u001b[7;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: cy -= 1\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: cy += 1\u001b[K\u001b[9;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"\\t\"\u001b[39;49m:\u001b[K\u001b[10;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab += 1\u001b[K\u001b[11;13H        tabbables = [u \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.ready\u001b[12;13H                     \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[13;13H                     \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.x \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.y \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m]\u001b[14;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables):\r\n\t\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab %= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables)\r\n\t                u = tabbables[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab]\u001b[K\r\n\t                \u001b[33mcx\u001b[39;49m,cy = u.x,u.y\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor != (cx,cy)):\u001b[K\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (cx < 0): \u001b[33mcx\u001b[39;49m = 0\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (cy < 0): \u001b[33mcy\u001b[39;49m = 0\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (cx >= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w): \u001b[33mcx\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w-1\u001b[22;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (cy >= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w): \u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h-1\u001b[23;29H\u001b[7m42% L11\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (cx >= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w): \u001b[33mcx\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w-1\u001b[3;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (cy >= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w): \u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h-1\u001b[4;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = cx,cy\u001b[K\r\n\t\t    \u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\t    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cx-sx < 0 ): \u001b[33msx\u001b[39;49m -= 10\r\n\t\t    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cy-sy < 0 ): \u001b[33msy\u001b[39;49m -= 5\r\n\t\t    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cx-sx > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w): \u001b[33msx\u001b[39;49m += 10\r\n\t\t    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cy-sy > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h): \u001b[33msy\u001b[39;49m += 5\u001b[10;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m ((sx,sy) != \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll):\u001b[11;21H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll = sx,sy\u001b[K\r\n\t\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.move_to(-sx,-sy)\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\u001b[14;21Hresult = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[15;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.move_to(cx,cy)\u001b[17;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[18;20Hc:\u001b[K\n\bval = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\r\n\t\t\t\bval:\u001b[K\u001b[21;21H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(val)\u001b[K\u001b[22;21H    \u001b[33mresult\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(val, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[23;29H\u001b[7m50% L130\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;21H\u001b[?25l    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(val)\u001b[K\u001b[3;21H    \u001b[33mresult\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(val, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[4;21H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[5;21H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b\b    \u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.info(), \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\u001b[K\n\u001b[K\n\t\u001b[31m# If we got a result from performing an action, we will be given        \u001b[39;49m\r\n\t\u001b[31m# either an order or a new action to perform. The orders tell us that   \u001b[39;49m\r\n\t\u001b[31m# the action was complete and that we either need to commit it or       \u001b[39;49m\r\n\t\u001b[31m# undo our mess.                                                        \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result:\u001b[K\n\b\b\b\b\b\b\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result == rules.ACT_COMMIT:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.append((copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint),\r\n\t\t                     \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs))\u001b[17;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[19;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_TRASH:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite.kill()\r\n\t\t\u001b[8P\u001b[21;28H = []\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint)\u001b[K\u001b[23;30H\u001b[7m9% L149\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[8P\u001b[2;28H\u001b[?25l = []\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info()\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[K\u001b[7;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_UNDO:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite.kill()\r\n\t        cp = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history) > 0:\u001b[K\r\n\t            \u001b[33mcp\u001b[39;49m, acts = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.pop()\u001b[K\r\n\t        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t            cp = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint\u001b[14;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = copy.deepcopy(cp)\u001b[15;22Hcheckpoint = copy.deepcopy(cp)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[17;22Hgrid.info()\u001b[K\u001b[19;38HRESTART:\u001b[20;22Hhistory = []\u001b[K\u001b[22;26H.sprite.kill()\u001b[K\u001b[23;29H\u001b[7m68% L168\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[3;26H\u001b[?25l.sprite.kill()\u001b[K\u001b[4;26H = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[K\u001b[5;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[6;22Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[7;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[8;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_END:\r\n\t\thistory = []\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m].append(history)\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (cp,acts) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history:\u001b[K\r\n\t\t    history.append(acts)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[K\u001b[14;26H.end_turn()\u001b[K\u001b[15;22Hstartover = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[16;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\u001b[17;22Haction = rules.Begin()\u001b[18;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b\b    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = result\u001b[K\r\n\u001b[K\u001b[21;13H\u001b[31m# Set up various UI candy.                                          \u001b[39;49m\r\n\u001b[22;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\u001b[23;29H\u001b[7m76% L187\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[31m# Set up various UI candy.                                          \u001b[39;49m\r\n\u001b[3;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\u001b[4;22Hhighlight.kill()\u001b[K\u001b[5;22Hhighlight = sprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h,50)\r\n\t\t\u001b[33mc\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices:\u001b[8;13H        \u001b[33mt1\u001b[39;49m,\u001b[33mu1\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(x,y)\r\n\t\t    \u001b[33mt2\u001b[39;49m,\u001b[33mu2\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(cx,cy)\r\n\t\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u1: \u001b[33mc\u001b[39;49m = u1.team.color\u001b[K\r\n\t\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m t1 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t1.team: \u001b[33mc\u001b[39;49m = t1.team.color\u001b[12;21H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u2: \u001b[33mc\u001b[39;49m = u2.team.color\r\n\t\t    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m: \u001b[33mc\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().color\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.putc(\u001b[35mNone\u001b[39;49m,x,y,c,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[15;22Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight)\u001b[16;22Hanimation = 0.0\u001b[K\u001b[17;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[18;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = widgets.Menu(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices)\u001b[19;22Hmenu.sprite.move_to(cx+1-sx,cy-sy)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_container.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.sprite)\r\n\u001b[K\u001b[22;5H\u001b[31m# The session has multiple sprites that need to be rendered, from the       \u001b[39;49m\r\n\u001b[23;29H\u001b[7m83% L206\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[3;5H\u001b[?25l\u001b[31m# The session has multiple sprites that need to be rendered, from the       \u001b[39;49m\r\n\u001b[4;5H\u001b[31m# view of the grid to the mutliple popups that need to appear.              \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrender\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation >= 1.0:\u001b[K\u001b[8;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[K\u001b[9;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[K\u001b[11;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.show()\u001b[K\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units:\u001b[K\u001b[14;21Hu.cycle_anim()\u001b[K\r\n\t\u001b[33mnotifications\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m notifications:\u001b[K\u001b[18;13Hn.update()\u001b[K\u001b[19;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m n.alive:\u001b[K\n\b\bnotifications.append(n)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.render(0,0)\r\n\u001b[K\u001b[23;29H\u001b[7m93% L225\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.render(0,0)\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L244\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[3;5H\u001b[?25l\u001b[31m# The session has multiple sprites that need to be rendered, from the       \u001b[39;49m\r\n\u001b[4;5H\u001b[31m# view of the grid to the mutliple popups that need to appear.              \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrender\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation >= 1.0:\u001b[8;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[9;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.hide()\u001b[11;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.visible:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.show()\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units:\u001b[14;21Hu.cycle_anim()\r\n\t\u001b[33mnotifications\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications = []\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m notifications:\u001b[18;13Hn.update()\u001b[19;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m n.alive:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications.append(n)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.canvas.render(0,0)\n\n\b\b\b\u001b[7m93%\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[31m# Set up various UI candy.                                          \u001b[39;49m\r\n\u001b[3;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\u001b[K\u001b[4;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.kill()\u001b[K\u001b[5;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight = sprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h,50)\r\n\t        \u001b[33mc\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices:\u001b[8;13H        \u001b[33mt1\u001b[39;49m,\u001b[33mu1\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(x,y)\u001b[9;13H        \u001b[33mt2\u001b[39;49m,\u001b[33mu2\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(cx,cy)\u001b[K\r\n\t\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u1: \u001b[33mc\u001b[39;49m = u1.team.color\u001b[11;13H        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m t1 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t1.team: \u001b[33mc\u001b[39;49m = t1.team.color\u001b[K\r\n\t\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u2: \u001b[33mc\u001b[39;49m = u2.team.color\r\n\t\t    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m: \u001b[33mc\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().color\u001b[14;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.putc(\u001b[35mNone\u001b[39;49m,x,y,c,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight)\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[18;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = widgets.Menu(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices)\u001b[19;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.sprite.move_to(cx+1-sx,cy-sy)\u001b[20;22Hgrid_container.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.sprite)\r\n\u001b[K\u001b[22;5H\u001b[31m# The session has multiple sprites that need to be rendered, from the       \u001b[39;49m\r\n\u001b[23;29H\u001b[7m83% L226\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;15H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[C\u001b[?25l\u001b[1@c\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@a\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@v\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@a\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@s\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\n\n\n\b\b\b\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[20;62H\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx,cy-sy)\u001b[K\u001b[19;46H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,cy-sy)\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[19;53H\b\b\b\b\u001b[?25lsy)\u001b[K\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly)\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[19;49H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[19;49H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;49H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[31m\u001b[40m|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[31m\u001b[40m|Ramen, move out!|\u001b(B\u001b[0;1m\u001b[34m\u001b[40m$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m........\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[C\u001b[2d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2d\b\u001b[31m\u001b[40m|\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3d\b\u001b[31m\u001b[40m|\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m+\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4d\b\u001b[31m\u001b[40m+\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5d\b\u001b[32m\u001b[40m.\u001b[6d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[7d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b[8d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b[9d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b[10d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b[11d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[32m\u001b[40m..................\r\u001b[2d............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\r\u001b[3d...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###\r\u001b[4d\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.............\r\u001b[11d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[14;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[14d\b\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[C+---------+\u001b[14;15H|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[15;15H|Surrender|\u001b[16;15H|End Turn |\u001b[17;15H+---------+\u001b[14d\b\b\u001b[14;16HClose    \u001b[15;16H\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mSurrender\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;15H\r\u001b[16d\u001b[J\u001b[13;15H\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[14;14H.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m..........\u001b[15;15H...........\u001b[13;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[31m\u001b[40m+------------------------+\u001b[14;14H|Ramen has been defeated!|\u001b[15;14H+------------------------+\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;15H\u001b[A\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[13d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\b\u001b[15;40H\u001b[11;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[12d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[11d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[10d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[15;40H\u001b[9;14H\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[9d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[8d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[15;40H\u001b[7;14H\u001b[C+---------+\u001b[8;15H|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[9;15H|Surrender|\u001b[10;15H|End Turn |\u001b[11;15H+---------+\u001b[8d\b\b\u001b[8;16HClose    \u001b[9;16H\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mSurrender\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7;15H\u001b[32m\u001b[40m.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m......\u001b[8;15H.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.........\u001b[9;15H.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.........\u001b[10;15H.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[11;15H\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\u001b[15;40H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7;14H\u001b[31m\u001b[40m+------------------------+\u001b[8;14H|Ramen has been defeated!|\u001b[9;14H+------------------------+\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7;15H\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 95, in run\r\n    gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 88, in refresh\r\n    if gfx: return gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 105, in refresh\r\n    curses.napms(20)\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n            \u001b[31m# Set up various UI candy.                                          \u001b[39;49m\r\n\u001b[A\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.kill()\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight = sprites.Sprite(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h,50)\u001b[K\r\n                \u001b[33mc\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n                \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices:\u001b[K\r\n                    \u001b[33mt1\u001b[39;49m,\u001b[33mu1\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(x,y)\u001b[K\r\n                    \u001b[33mt2\u001b[39;49m,\u001b[33mu2\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_at(cx,cy)\u001b[K\r\n                    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u1: \u001b[33mc\u001b[39;49m = u1.team.color\u001b[K\r\n                    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m t1 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t1.team: \u001b[33mc\u001b[39;49m = t1.team.color\u001b[K\r\n                    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u2: \u001b[33mc\u001b[39;49m = u2.team.color\u001b[K\r\n                    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m: \u001b[33mc\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().color\u001b[K\r\n                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight.putc(\u001b[35mNone\u001b[39;49m,x,y,c,\u001b[35mNone\u001b[39;49m,\u001b[35mFalse\u001b[39;49m,\u001b[35mTrue\u001b[39;49m)\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.highlight)\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.animation = 0.0\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = widgets.Menu(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.choices)\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.sprite.move_to(cx+1,cy)\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.sprite)\u001b[K\r\n\u001b[K\n    \u001b[31m# The session has multiple sprites that need to be rendered, from the       \u001b[39;49m\r\n\u001b[A\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   84% L223  Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[19;49H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs = []\u001b[K\u001b[3;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite.kill()\u001b[K\u001b[4;22Hgrid = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[5;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.startover)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[K\u001b[8;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_END:\u001b[K\r\n\t\thistory = []\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m].append(history)\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (cp,acts) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history:\u001b[K\u001b[12;21Hhistory.append(acts)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.end_turn()\u001b[K\u001b[15;22Hstartover = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\u001b[16;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[17;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[K\u001b[18;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[19;22Haction = result\u001b[K\r\n\u001b[K\u001b[21;13H\u001b[31m# Set up various UI candy.                                          \u001b[39;49m\r\n\u001b[22;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\u001b[K\u001b[23;29H\u001b[7m76% L207\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[3;26H\u001b[?25l = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint)\u001b[4;26H_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[5;22Hgrid.info()\u001b[K\u001b[6;22Haction = rules.Begin()\u001b[K\u001b[7;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_UNDO:\u001b[K\u001b[8;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite.kill()\u001b[K\r\n\t\tcp = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history) > 0:\u001b[K\r\n\t\t    \u001b[33mcp\u001b[39;49m, acts = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.pop()\r\n\t\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t\t    cp = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint\u001b[14;26H = copy.deepcopy(cp)\u001b[15;22Hcheckpoint = copy.deepcopy(cp)\u001b[K\u001b[16;22Hgrid_canvas.add_sprite(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite)\u001b[17;22Hgrid.info()\u001b[K\u001b[18;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = rules.Begin()\u001b[19;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m result == rules.ACT_RESTART:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[21;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs = []\u001b[K\u001b[22;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.sprite.kill()\u001b[K\u001b[23;29H\u001b[7m68% L188\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\t\u001b[8@\u001b[2;36H\u001b[?25l.append(val)\r\n\t\t        \u001b[33mresult\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(val, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\t    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t\t        \u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.info(), \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\u001b[K\n\u001b[K\n\t\u001b[31m# If we got a result from performing an action, we will be given        \u001b[39;49m\r\n\t\u001b[31m# either an order or a new action to perform. The orders tell us that   \u001b[39;49m\r\n\t\u001b[31m# the action was complete and that we either need to commit it or       \u001b[39;49m\r\n\t\u001b[31m# undo our mess.                                                        \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result:\u001b[K\n\b\b\b\b\b\b\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m result == rules.ACT_COMMIT:\u001b[K\u001b[15;22Hhistory.append((copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint),\r\n\t\t                     \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs))\u001b[K\u001b[17;22Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[19;38HTRASH:\u001b[K\u001b[20;22Hgrid.sprite.kill()\u001b[22;26H = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint)\u001b[23;30H\u001b[7m0% L169\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;21H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (cx >= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w): \u001b[33mcx\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w-1\u001b[3;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (cy >= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w): \u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h-1\u001b[K\u001b[4;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = cx,cy\u001b[K\u001b[5;21H\u001b[33minfo\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.info(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[6;21H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cx-sx < 0 ): \u001b[33msx\u001b[39;49m -= 10\u001b[K\u001b[7;21H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cy-sy < 0 ): \u001b[33msy\u001b[39;49m -= 5\u001b[8;21H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cx-sx > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w): \u001b[33msx\u001b[39;49m += 10\r\n\t            \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m ( cy-sy > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h): \u001b[33msy\u001b[39;49m += 5\u001b[K\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m ((sx,sy) != \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll):\u001b[K\r\n\t                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll = sx,sy\u001b[K\r\n\t                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.move_to(-sx,-sy)\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[14;13H        result = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.inputs.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor_sprite.move_to(cx,cy)\u001b[K\u001b[17;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_MENU:\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c:\u001b[K\u001b[19;13H        val = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\r\n\t\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m val:\u001b[K\r\n\t\t\u001b[8@\u001b[21;36H.append(val)\r\n\t\t        \u001b[33mresult\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.perform(val, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[23;29H\u001b[7m50% L150\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().control == \u001b[32m\"human\"\u001b[39;49m:\u001b[K\u001b[3;13Hresult = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[4;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.form == rules.FORM_COORD:\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"left\"\u001b[39;49m: cx -=1\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"right\"\u001b[39;49m: cx +=1\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: cy -= 1\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: cy += 1\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"\\t\"\u001b[39;49m:\u001b[K\u001b[10;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab += 1\u001b[K\u001b[11;21Htabbables = [u \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.ready\r\n\t\t\t         \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\r\n\t\t                 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.x \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.y \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m]\u001b[14;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables):\u001b[K\u001b[15;21H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab %= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(tabbables)\u001b[K\r\n\t\t        u = tabbables[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tab]\u001b[K\u001b[17;13H            \u001b[33mcx\u001b[39;49m,cy = u.x,u.y\u001b[K\u001b[18;20H(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor != (cx,cy)):\u001b[19;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (cx < 0): \u001b[33mcx\u001b[39;49m = 0\u001b[K\r\n\t\t\t\b(cy < 0): \u001b[33mcy\u001b[39;49m = 0\u001b[21;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (cx >= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w): \u001b[33mcx\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w-1\u001b[22;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (cy >= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w): \u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h-1\u001b[K\u001b[23;29H\u001b[7m42% L131\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n,loc \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\u001b[K\u001b[3;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications.append(n)\u001b[4;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(n.sprite)\u001b[K\u001b[5;13H\u001b[33mns\u001b[39;49m = n.sprite\u001b[K\u001b[6;13H\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = 0,0\u001b[K\u001b[7;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m loc == \u001b[32m\"center\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = (cx-sx+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w//2-ns.w//2,\r\n\t\t                       cy-sy+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h//2-ns.h//2)\u001b[9;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"ul\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx-ns.w,cy-ns.h\u001b[10;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"ur\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx+1,cy-ns.h\u001b[11;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"bl\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx-ns.w,cy+1\u001b[K\u001b[12;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"br\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx+1,cy+1\u001b[K\u001b[13;13Hn.sprite.move_to(cx,cy)\u001b[K\r\n\u001b[K\n\u001b[K\n\t\u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\r\n\t\u001b[31m# If control does not belong to the human, then the control simply      \u001b[39;49m\r\n\t\u001b[31m# allows the player to move the map around.                             \u001b[39;49m\r\n\t\u001b[33mresult\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[33minfo\u001b[39;49m = {}\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().control == \u001b[32m\"human\"\u001b[39;49m:\u001b[K\u001b[22;13Hresult = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[23;29H\u001b[7m34% L112\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.speed = 0.05\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\u001b[7;5H\u001b[31m# This exports our data as a dictionary to be JSONified. If history is      \u001b[39;49m\r\n\u001b[8;5H\u001b[31m# included, it's like saving a snapshot of the game to be continued later.  \u001b[39;49m\r\n\u001b[9;5H\u001b[31m# If griddata is included, it's like using the current snapshot as a new    \u001b[39;49m\r\n\u001b[10;5H\u001b[31m# map.                                                                      \u001b[39;49m\r\n\u001b[11;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, history=\u001b[35mTrue\u001b[39;49m, griddata=\u001b[35mFalse\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\r\n\u001b[K\u001b[14;5H\u001b[31m# This function takes the character that was most recently entered by the   \u001b[39;49m\r\n\u001b[15;5H\u001b[31m# player and handles it. Even if no player is playing, this function        \u001b[39;49m\r\n\u001b[16;5H\u001b[31m# essentially serves as the step function for the AI.                       \u001b[39;49m\r\n\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n\t\u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[K\r\n\t\u001b[33msx\u001b[39;49m,\u001b[33msy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.scroll\r\n\u001b[K\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n,loc \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\u001b[K\u001b[22;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications.append(n)\u001b[23;29H\u001b[7m28% L93 \u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n,loc \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications.append(n)\u001b[4;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(n.sprite)\u001b[5;13H\u001b[33mns\u001b[39;49m = n.sprite\u001b[6;13H\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = 0,0\u001b[7;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m loc == \u001b[32m\"center\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = (cx-sx+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w//2-ns.w//2,\u001b[K\u001b[8;5H                                   cy-sy+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h//2-ns.h//2)\u001b[K\u001b[9;5H        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"ul\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx-ns.w,cy-ns.h\u001b[K\u001b[10;5H        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"ur\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx+1,cy-ns.h\u001b[K\u001b[11;5H        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"bl\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx-ns.w,cy+1\u001b[K\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"br\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx+1,cy+1\u001b[13;13Hn.sprite.move_to(cx,cy)\r\n\u001b[K\n\u001b[K\u001b[16;5H    \u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\u001b[K\u001b[17;5H    \u001b[31m# If control does not belong to the human, then the control simply      \u001b[39;49m\r\n\t\u001b[31m# allows the player to move the map around.                             \u001b[39;49m\r\n\t\u001b[33mresult\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[33minfo\u001b[39;49m = {}\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().control == \u001b[32m\"human\"\u001b[39;49m:\u001b[22;13Hresult = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[23;29H\u001b[7m34\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\u001b[?25l\u001b[1P\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[19;9H\u001b[?25lresult\r\n\tinfo\n\n\u001b[33mresult\u001b[39;49m\u001b[8;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[8;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[8;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[31m\u001b[40m|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[31m\u001b[40m|Ramen, move out!|\u001b(B\u001b[0;1m\u001b[34m\u001b[40m$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m........\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[C+---------+\u001b[2;2H|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[3;2H|Surrender|\u001b[4;2H|End Turn |\u001b[5;2H+---------+\u001b[2d\b\b\u001b[3GClose    \u001b[4;3H\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;15H\u001b[3;3H\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mSurrender\u001b[4;3H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn \u001b[A\b\u001b[H\u001b[C\u001b[31m\u001b[40m-----------\r\u001b[2d|Day 1 - Int\r\u001b[3d|Ramen, move\r\u001b[4d+-----------\u001b[5;2H\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b[14;14H.\u001b[4;12H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;18H\u001b[31m\u001b[40m--------+\r\u001b[2d|Ramen has been defeated!|\r\u001b[3d+------------------------+\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[C\u001b[4d\b\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.............\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[C\u001b[2d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2d\b\u001b[31m\u001b[40m|\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m+\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3d\b\u001b[31m\u001b[40m+\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4d\b\u001b[32m\u001b[40m.\u001b[5d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;27H\r\u001b[5d\u001b[32m\u001b[40m.\u001b[6d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;27H\u001b[6;3H\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 95, in run\r\n    gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 88, in refresh\r\n    if gfx: return gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 105, in refresh\r\n    curses.napms(20)\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n,loc \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications.append(n)\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(n.sprite)\u001b[K\r\n            \u001b[33mns\u001b[39;49m = n.sprite\u001b[K\r\n            \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = 0,0\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m loc == \u001b[32m\"center\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = (sx+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w//2-ns.w//2,\u001b[K\r\n                                       sy+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h//2-ns.h//2)\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"ul\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx-ns.w,cy-ns.h\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"ur\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx+1,cy-ns.h\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"bl\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx-ns.w,cy+1\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"br\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx+1,cy+1\u001b[K\r\n            n.sprite.move_to(cx,cy)\u001b[K\r\n\u001b[K\n\u001b[K\n        \u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\u001b[K\r\n        \u001b[31m# If control does not belong to the human, then the control simply      \u001b[39;49m\r\n\u001b[A\n        \u001b[31m# allows the player to move the map around.                             \u001b[39;49m\r\n\u001b[A\n        result = \u001b[35mNone\u001b[39;49m\u001b[K\r\n        info = {}\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().control == \u001b[32m\"human\"\u001b[39;49m:\u001b[K\r\n            \u001b[33mresult\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   34% L98   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[8;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[8;66H\b\b\u001b[?25l)\u001b[K\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;64H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l4)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l2)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[8;65H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[8;65H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;65H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[8;65H\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default widgets.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrules.py\u001b[K\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[2;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Close\"\u001b[39;49m,\u001b[32m\"Surrender\"\u001b[39;49m,\u001b[32m\"End Turn\"\u001b[39;49m]\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_MENU\u001b[K\r\n\u001b[K\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[8;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Illegal input: %s\"\u001b[39;49m%\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(act))\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Close\"\u001b[39;49m:\u001b[K\u001b[11;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Surrender\"\u001b[39;49m:\u001b[K\u001b[13;13Hcur = grid.current_team()\u001b[14;13Hgrid.purge( cur )\u001b[15;13Hcur.active = \u001b[35mFalse\u001b[39;49m\r\n\t    \u001b[33mmsg\u001b[39;49m = \u001b[32m\"%s has been defeated!\"\u001b[39;49m%(cur.name)\u001b[K\r\n\t    grid.alerts.append((widgets.Notification(msg,200,cur.color),\u001b[K\r\n\t                        \u001b[32m\"center\"\u001b[39;49m))\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"End Turn\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_END\u001b[K\r\n\u001b[K\u001b[23;14H\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   16% L81\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;54H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[3;25H\u001b[?25l]\u001b[K\nCOORD\r\n\n\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = act\u001b[K\r\n\t\u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(x,y)\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Move(x,y,grid)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(t.build) > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m grid.current_team():\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Build(x,y,grid)\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Main_Menu()\r\n\u001b[K\n\u001b[K\n\u001b[31m# MAIN MENU follows BEGIN and expects MENU.                                     \u001b[39;49m\r\n\u001b[31m# This is the menu created if the user clicks outside of the field.             \u001b[39;49m\r\n\u001b[31m# This allows the user to end their turn, undo, moves, etc.                     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mMain_Menu\u001b[39;49m(Action):\u001b[K\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Close\"\u001b[39;49m,\u001b[32m\"Surrender\"\u001b[39;49m,\u001b[32m\"End Turn\"\u001b[39;49m]\u001b[23;30H\u001b[7m2% L67\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m# The PERFORM function takes the input (either a coord or a string) and     \u001b[39;49m\r\n\u001b[3;5H\u001b[31m# then processes it. This should only be done when the player presses       \u001b[39;49m\r\n\u001b[4;5H\u001b[31m# enter and confirms the action. The grid should be backed up before        \u001b[39;49m\r\n\u001b[5;5H\u001b[31m# performing. This will return an instance of the new action that the       \u001b[39;49m\r\n\u001b[6;5H\u001b[31m# session should handle.                                                    \u001b[39;49m\r\n\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[10;5H\u001b[31m# The INFO function provides popups and other contextual information of     \u001b[39;49m\r\n\u001b[11;5H\u001b[31m# what would happen if the action was taken. This is used to help create    \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# interface candy.                                                          \u001b[39;49m\r\n\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\u001b[17;3H\u001b[31mThe BEGIN action is the first action and expects COORD. If the coord is a\u001b[39;49m\u001b[18;3H\u001b[31munit, we display its movement range. If the coord is a terrain that can\u001b[39;49m\u001b[19;3H\u001b[31mproduce, we begin production. If anything else, we display the GAME MENU.\u001b[39;49m\u001b[20;7H\u001b[32mBegin\u001b[39;49m\u001b[4P\n\n\t\t]\u001b[K\u001b[23;29H\u001b[7m 6% L48\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l\u001b[33mFORM_COORD\u001b[39;49m = \u001b[32m\"coord\"\u001b[39;49m\u001b[K\r\n\u001b[33mFORM_MENU\u001b[39;49m = \u001b[32m\"menu\"\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[33mACT_COMMIT\u001b[39;49m = \u001b[32m\"commit\"\u001b[39;49m\u001b[K\r\n\u001b[33mACT_TRASH\u001b[39;49m = \u001b[32m\"trash\"\u001b[39;49m\u001b[K\r\n\u001b[33mACT_UNDO\u001b[39;49m = \u001b[32m\"undo\"\u001b[39;49m\u001b[K\r\n\u001b[33mACT_END\u001b[39;49m = \u001b[32m\"end\"\u001b[39;49m\u001b[K\r\n\u001b[33mACT_RESTART\u001b[39;49m = \u001b[32m\"restart\"\u001b[39;49m\r\n\u001b[K\n\u001b[K\n\u001b[31m# An action is the base class of handling actions. Actions tell the session     \u001b[39;49m\r\n\u001b[31m# what the next input necessary is (such as any coord, a coord in a range of    \u001b[39;49m\r\n\u001b[31m# selections, or a menu item). The session is responsible for handling input    \u001b[39;49m\r\n\u001b[31m# appropriately in the context of the action. AI can also respond to actions.   \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mAction\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[21;5H\u001b[31m# The PERFORM function takes the input (either a coord or a string) and     \u001b[39;49m\r\n\u001b[22;5H\u001b[31m# then processes it. This should only be done when the player presses       \u001b[39;49m\r\n\u001b[23;30H\u001b[7m3% L29\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[2;1H\u001b[8L\u001b[1;24r\u001b[2;1H\u001b[?25l\u001b[31m# The Rules contain the Action objects that serve as a sort of state machine    \u001b[39;49m\r\n\u001b[A\n\u001b[31m# for what can be done. Each action should, upon taking input, pass back a      \u001b[39;49m\r\n\u001b[A\n\u001b[31m# new action. Each action can also contain a sprite that should be killed       \u001b[39;49m\r\n\u001b[A\n\u001b[31m# after \"perform\" and modified during \"update\".                                 \u001b[39;49m\r\n\u001b[A\n\u001b[K\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m . \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m entities, widgets\u001b[K\r\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mTop L21\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;3H\u001b[?25l\u001b[31mwhat the next input necessary is (such as any coord, a coord in a range of\u001b[39;49m\u001b[3;3H\u001b[31mselections, or a menu item). The session is responsible for handling input\u001b[39;49m\u001b[4;3H\u001b[31mappropriately in the context of the action. AI can also respond to actions.\u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mAction\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = \u001b[35mNone\u001b[39;49m\r\n\n    \u001b[31m# The PERFORM function takes the input (either a coord or a string) and     \u001b[39;49m\r\n    \u001b[31m# then processes it. This should only be done when the player presses       \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# enter and confirms the action. The grid should be backed up before        \u001b[39;49m\r\n    \u001b[31m# performing. This will return an instance of the new action that the       \u001b[39;49m\r\n    \u001b[31m# session should handle.                                                    \u001b[39;49m\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\r\n\u001b[K\u001b[18;5H\u001b[31m# The INFO function provides popups and other contextual information of     \u001b[39;49m\r\n\u001b[19;5H\u001b[31m# what would happen if the action was taken. This is used to help create    \u001b[39;49m\r\n    \u001b[31m# interface candy.                                                          \u001b[39;49m\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[K\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\u001b[23;29H\u001b[7m 4%\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[A\u001b[?25l    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[K\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# The BEGIN action is the first action and expects COORD. If the coord is a     \u001b[39;49m\r\n\u001b[31m# unit, we display its movement range. If the coord is a terrain that can       \u001b[39;49m\r\n\u001b[31m# produce, we begin production. If anything else, we display the GAME MENU.     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mBegin\u001b[39;49m(Action):\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\u001b[11;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[12;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_COORD\u001b[K\r\n\u001b[K\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[K\u001b[15;5H    \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = act\u001b[K\r\n\t\u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(x,y)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\u001b[18;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Move(x,y,grid)\u001b[K\u001b[19;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(t.build) > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m grid.current_team():\u001b[K\u001b[20;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Build(x,y,grid)\u001b[K\u001b[21;5H    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Main_Menu()\n\b\b\u001b[7m10% L39\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Main_Menu()\u001b[6;3H\u001b[31mMAIN MENU follows BEGIN and expects MENU.                                \u001b[39;49m\u001b[7;3H\u001b[31mThis is the menu created if the user clicks outside of the field.      \u001b[39;49m\u001b[8;3H\u001b[31mThis allows the user to end their turn, undo, moves, etc.                \u001b[39;49m\u001b[9;7H\u001b[32mMain_\u001b[39;49m\u001b[4@\u001b[32mMenu\u001b[39;49m\n\n\t\t\u001b[32m\"Close\"\u001b[39;49m,\u001b[32m\"Surrender\"\u001b[39;49m,\u001b[32m\"End Turn\"\u001b[39;49m]\u001b[12;26HMENU\u001b[K\r\n\n\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Illegal input: %s\"\u001b[39;49m%\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(act))\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Close\"\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Surrender\"\u001b[39;49m:\u001b[K\r\n\t    cur = grid.current_team()\u001b[22;13Hgrid.purge( cur )\u001b[K\n\u001b[7m5% L58\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l    cur = grid.current_team()\u001b[3;13Hgrid.purge( cur )\u001b[K\u001b[4;13Hcur.active = \u001b[35mFalse\u001b[39;49m\u001b[5;13H\u001b[33mmsg\u001b[39;49m = \u001b[32m\"%s has been defeated!\"\u001b[39;49m%(cur.name)\r\n            grid.alerts.append((widgets.Notification(msg,200,cur.color),\u001b[K\r\n                                \u001b[32m\"center\"\u001b[39;49m))\u001b[K\r\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"End Turn\"\u001b[39;49m:\u001b[10;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_END\r\n\u001b[K\n\t\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Reached end of action without return.\"\u001b[39;49m)\r\n\n\u001b[31m# BUILD follows BEGIN and expects MENU.                                         \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mBuild\u001b[39;49m(Action):\u001b[K\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, grid):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = x,y\u001b[K\r\n\ttile = grid.tile_at(x,y)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b,v \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34msorted\u001b[0m\u001b[39;49m(tile.build.items(), key=\u001b[1m\u001b[36mlambda\u001b[0m\u001b[39;49m x:x[1]):\u001b[21;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m v <= grid.current_team().cash:\u001b[22;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"%s $%d\"\u001b[39;49m%(b,v))\u001b[23;30H\u001b[7m9% L77\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m v <= grid.current_team().cash:\u001b[3;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"%s $%d\"\u001b[39;49m%(b,v))\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Cancel\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_MENU\u001b[K\r\n\u001b[K\u001b[7;5H\u001b[31m# This builds the unit and disables it. It can move on the next turn.       \u001b[39;49m\r\n\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n\t\t\b\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[10;14H\u001b[1m\u001b[36maise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Illegal input: %s\"\u001b[39;49m%\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(act))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Cancel\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\n        \u001b[33mname\u001b[39;49m,price = act.rsplit(\u001b[35mNone\u001b[39;49m,1)\u001b[K\r\n        unit = entities.Unit(name, grid.rules[\u001b[32m\"units\"\u001b[39;49m][name])\u001b[16;5H    \u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\r\n\tgrid.current_team().cash -= \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(price[1:])\r\n\tgrid.add_unit(unit,grid.current_team(),x,y)\r\n\tunit.done()\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\r\n\u001b[K\n\u001b[31m# MOVE follows BEGIN and expects COORD.                                         \u001b[39;49m\r\n\u001b[23;29H\u001b[7m23% L96\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l\u001b[34mSwitch to buffer (default session.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lsession.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\t\u001b[31m# Select the next active player in the roster.                          \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m([t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]) == 0:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day += 1\u001b[K\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[33mflag\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[7;5H        \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m flag \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn].active:\u001b[K\u001b[8;5H            \u001b[33mflag\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn += 1\u001b[K\u001b[10;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams):\u001b[K\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = 0\u001b[12;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day += 1\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units:\r\n\t    \u001b[33mu.ready\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t    u.sprite.colorize(u.team.color,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mFalse\u001b[39;49m)\u001b[K\r\n\u001b[K\n\t\u001b[31m# Repair units and draw income.                                         \u001b[39;49m\r\n\t\u001b[33mcur\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.current_team()\u001b[K\r\n\t\u001b[33mmsg\u001b[39;49m = \u001b[32m\"Day %d - %s\\n%s, move out!\"\u001b[39;49m%(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name, cur.name)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append((widgets.Notification(msg,100,cur.color),\u001b[32m\"center\"\u001b[39;49m))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cur:\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tile \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.all_tiles():\u001b[K\u001b[23;14H\u001b[7m\u001b[1mgrid.py     \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   53% L198\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;79H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\r\n\n\n\n\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[31m\u001b[40m|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\u001b[32m\u001b[40m......\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[31m\u001b[40m|Ramen, move out!|\u001b(B\u001b[0;1m\u001b[34m\u001b[40m$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[31m\u001b[40m+----------------+\u001b[32m\u001b[40m........\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[4;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[C\u001b[2d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2d\b\u001b[31m\u001b[40m|\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3d\b\u001b[31m\u001b[40m|\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m+\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4d\b\u001b[31m\u001b[40m+\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[A\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5d\b\u001b[32m\u001b[40m.\u001b[6d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[C+---------+\u001b[7;12H|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[8;12H|Surrender|\u001b[9;12H|End Turn |\u001b[10;12H+---------+\u001b[7d\b\b\u001b[H\u001b[32m\u001b[40m..................\r\u001b[2d............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\r\u001b[3d...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###\r\u001b[4d\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.............\u001b[14;15H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;19H\u001b[7;13HClose    \u001b[8;13H\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mSurrender\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;15H\u001b[6;12H\u001b[32m\u001b[40m....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b[7;12H....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...\u001b[8;12H....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m......\u001b[9;12H....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m......\u001b[10;12H....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m......\u001b[14;14H.\u001b[6;11H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[31m\u001b[40m+------------------------+\u001b[7;11H|Ramen has been defeated!|\u001b[8;11H+------------------------+\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;12H\u001b[A\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[6d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\b\u001b[8;37H\u001b[5;12H+---------+\u001b[6;12H|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[7;12H|Surrender|\u001b[8;12H|End Turn |\u001b[9;12H+---------+\u001b[6d\b\b\u001b[6;13HClose    \u001b[8;13H\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;12H\u001b[32m\u001b[40m....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m......\u001b[6;12H\u001b[31m\u001b[40m-----------\u001b[7;12HRamen has b\u001b[8;12H-----------\u001b[9;12H\u001b[32m\u001b[40m....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m......\u001b[8;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;11H\u001b[34m\u001b[40m+-----------------+\u001b[6;11H|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m    \u001b[34m\u001b[40m|\u001b[7;11H|Ishara, move out!|\u001b[8;11H+-----------------+\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;12H\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 82, in run\r\n    self.game.render(0,0)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/session.py\", line 244, in render\r\n    self.canvas.render(0,0)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/sprites.py\", line 123, in render\r\n    for (i,j) in update])\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/sprites.py\", line 123, in render\r\n    for (i,j) in update])\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/sprites.py\", line 123, in render\r\n    for (i,j) in update])\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/sprites.py\", line 117, in render\r\n    gfx.draw(dx,dy,glyph.icon,glyph.color())\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 110, in draw\r\n    if gfx: return gfx.draw(x,y,c,col)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 155, in draw\r\n    mod |= _color(fg,bg)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 136, in _color\r\n    return curses.color_pair(1 + j*8 + i)\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n        \u001b[31m# Select the next active player in the roster.                          \u001b[39;49m\r\n\u001b[A\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m([t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]) == 0:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day += 1\u001b[K\r\n        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n            \u001b[33mflag\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n            \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m flag \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn].active:\u001b[K\r\n                \u001b[33mflag\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn += 1\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams):\u001b[K\r\n                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = 0\u001b[K\r\n                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day += 1\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units:\u001b[K\r\n            \u001b[33mu.ready\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n            u.sprite.colorize(u.team.color,\u001b[32m\"X\"\u001b[39;49m,\u001b[35mTrue\u001b[39;49m,\u001b[35mFalse\u001b[39;49m)\u001b[K\r\n\u001b[K\n        \u001b[31m# Repair units and draw income.                                         \u001b[39;49m\r\n\u001b[A\n        \u001b[33mcur\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.current_team()\u001b[K\r\n        \u001b[33mmsg\u001b[39;49m = \u001b[32m\"Day %d - %s\\n%s, move out!\"\u001b[39;49m%(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name, cur.name)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append((widgets.Notification(msg,100,cur.color),\u001b[32m\"center\"\u001b[39;49m))\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cur:\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tile \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.all_tiles():\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mgrid.py     \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   53% L198  Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[20;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\u001b[?25l\u001b[34mSwitch to buffer (default rules.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrules.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m v <= grid.current_team().cash:\u001b[K\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"%s $%d\"\u001b[39;49m%(b,v))\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Cancel\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_MENU\r\n\u001b[K\u001b[7;5H\u001b[31m# This builds the unit and disables it. It can move on the next turn.       \u001b[39;49m\r\n\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[10;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Illegal input: %s\"\u001b[39;49m%\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(act))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Cancel\"\u001b[39;49m:\u001b[K\u001b[12;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\u001b[K\n\t\u001b[33mname\u001b[39;49m,price = act.rsplit(\u001b[35mNone\u001b[39;49m,1)\r\n\tunit = entities.Unit(name, grid.rules[\u001b[32m\"units\"\u001b[39;49m][name])\r\n\t\u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\r\n\tgrid.current_team().cash -= \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(price[1:])\u001b[K\r\n\tgrid.add_unit(unit,grid.current_team(),x,y)\r\n\tunit.done()\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\r\n\u001b[K\n\u001b[31m# MOVE follows BEGIN and expects COORD.                                         \u001b[39;49m\r\n\u001b[23;14H\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   23% L96 \u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\n\u001b[?25l\u001b[31m# MOVE follows BEGIN and expects COORD.                                         \u001b[39;49m\r\n\u001b[31m# If the selected unit is on the active team and is ready, then we permit       \u001b[39;49m\r\n\u001b[31m# it to move.                                                                   \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mMove\u001b[39;49m(Action):\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x,y,grid):\u001b[K\u001b[8;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = x,y\u001b[K\r\n\t\u001b[33munit\u001b[39;49m = grid.unit_at(x,y)\u001b[K\r\n\u001b[K\n\t\u001b[31m# Calculate movement range. TODO, calc fuel cost as well.               \u001b[39;49m\r\n\t\u001b[33mreport\u001b[39;49m = []\u001b[K\r\n\t\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m_floodfill\u001b[0m\u001b[39;49m(pos,r,top=\u001b[35mFalse\u001b[39;49m):\r\n\t    \u001b[33ma\u001b[39;49m,\u001b[33mb\u001b[39;49m = pos\u001b[K\r\n\t    \u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(a,b)\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m u.is_allied(unit)):\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m top:\u001b[K\r\n\t            \u001b[33mr\u001b[39;49m -= unit.terrain.get(t.terrain,r)\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (a,b) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m report \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.terrain \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m unit.terrain:\r\n\t            report.append((a,b))\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m r > 0:\r\n                    _floodfill((a-1,b),r)\u001b[K\u001b[23;30H\u001b[7m8% L115\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m v <= grid.current_team().cash:\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"%s $%d\"\u001b[39;49m%(b,v))\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Cancel\"\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_MENU\u001b[K\r\n\u001b[K\u001b[7;5H\u001b[31m# This builds the unit and disables it. It can move on the next turn.       \u001b[39;49m\r\n\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[10;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Illegal input: %s\"\u001b[39;49m%\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(act))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Cancel\"\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\r\n\u001b[K\n\t\u001b[33mname\u001b[39;49m,price = act.rsplit(\u001b[35mNone\u001b[39;49m,1)\r\n\tunit = entities.Unit(name, grid.rules[\u001b[32m\"units\"\u001b[39;49m][name])\r\n\t\u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\r\n\tgrid.current_team().cash -= \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(price[1:])\r\n\tgrid.add_unit(unit,grid.current_team(),x,y)\u001b[K\r\n\tunit.done()\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\r\n\u001b[K\n\u001b[31m# MOVE follows BEGIN and expects COORD.                                         \u001b[39;49m\r\n\u001b[23;30H\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25lcur = grid.current_team()\u001b[K\u001b[3;13Hgrid.purge( cur )\u001b[K\r\n\t    cur.active = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t    \u001b[33mmsg\u001b[39;49m = \u001b[32m\"%s has been defeated!\"\u001b[39;49m%(cur.name)\u001b[6;13Hgrid.alerts.append((widgets.Notification(msg,200,cur.color),\u001b[7;5H                            \u001b[32m\"center\"\u001b[39;49m))\u001b[K\u001b[8;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\r\n\t\t\b== \u001b[32m\"End Turn\"\u001b[39;49m:\u001b[K\u001b[10;14H\u001b[1m\u001b[36meturn\u001b[0m\u001b[39;49m ACT_END\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Reached end of action without return.\"\u001b[39;49m)\r\n\n\u001b[31m# BUILD follows BEGIN and expects MENU.                                         \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mBuild\u001b[39;49m(Action):\u001b[K\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, grid):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = x,y\u001b[K\r\n\ttile = grid.tile_at(x,y)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b,v \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34msorted\u001b[0m\u001b[39;49m(tile.build.items(), key=\u001b[1m\u001b[36mlambda\u001b[0m\u001b[39;49m x:x[1]):\u001b[21;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m v <= grid.current_team().cash:\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"%s $%d\"\u001b[39;49m%(b,v))\u001b[K\u001b[23;29H\u001b[7m19% L97 \u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m v <= grid.current_team().cash:\u001b[3;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"%s $%d\"\u001b[39;49m%(b,v))\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Cancel\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_MENU\u001b[K\r\n\u001b[K\u001b[7;5H\u001b[31m# This builds the unit and disables it. It can move on the next turn.       \u001b[39;49m\r\n\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n\t\t\b\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[10;14H\u001b[1m\u001b[36maise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Illegal input: %s\"\u001b[39;49m%\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(act))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Cancel\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\n        \u001b[33mname\u001b[39;49m,price = act.rsplit(\u001b[35mNone\u001b[39;49m,1)\u001b[K\r\n        unit = entities.Unit(name, grid.rules[\u001b[32m\"units\"\u001b[39;49m][name])\u001b[16;5H    \u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\r\n\tgrid.current_team().cash -= \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(price[1:])\r\n\tgrid.add_unit(unit,grid.current_team(),x,y)\r\n\tunit.done()\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\r\n\u001b[K\n\u001b[31m# MOVE follows BEGIN and expects COORD.                                         \u001b[39;49m\r\n\u001b[23;29H\u001b[7m23\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l\u001b[34mSwitch to buffer (default grid.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lsession.py\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n,loc \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\u001b[K\u001b[3;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications.append(n)\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(n.sprite)\r\n\t    \u001b[33mns\u001b[39;49m = n.sprite\u001b[K\u001b[6;13H\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = 0,0\u001b[7;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m loc == \u001b[32m\"center\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = (sx+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w//2-ns.w//2,\u001b[K\u001b[8;5H                                   sy+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h//2-ns.h//2)\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"ul\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx-ns.w,cy-ns.h\u001b[10;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"ur\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx+1,cy-ns.h\u001b[K\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"bl\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx-ns.w,cy+1\u001b[12;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"br\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx+1,cy+1\u001b[13;13Hn.sprite.move_to(cx,cy)\r\n\u001b[K\n\u001b[K\n\t\u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\r\n\t\u001b[31m# If control does not belong to the human, then the control simply      \u001b[39;49m\r\n\t\u001b[31m# allows the player to move the map around.                             \u001b[39;49m\r\n\tresult = \u001b[35mNone\u001b[39;49m\r\n\tinfo = {}\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().control == \u001b[32m\"human\"\u001b[39;49m:\r\n            \u001b[33mresult\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[23;14H\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   34% L98\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;65H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[8;65H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m100\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;49H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;49H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;46H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;36H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25ly)\u001b[K\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25lx,y)\u001b[K\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[19;9H\u001b[?25l\u001b[33mresult\u001b[39;49m\r\n\t\u001b[33minfo\u001b[39;49m\n\nresult\u001b[13;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[13;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[13;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.......................\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[32m\u001b[40m............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[32m\u001b[40m...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....................\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\r\u001b[11d...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\r\u001b[13d.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[2d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[3d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[5d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[C+---------+\u001b[6;15H|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[7;15H|Surrender|\u001b[8;15H|End Turn |\u001b[9;15H+---------+\u001b[6d\b\b\u001b[6;16HClose    \u001b[7;16H\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mSurrender\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;15H\u001b[32m\u001b[40m.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.........\u001b[6;15H.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b[7;15H.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m......\u001b[8;15H.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.........\u001b[9;15H.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.........\u001b[14;14H.\u001b[5;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 95, in run\r\n    gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 88, in refresh\r\n    if gfx: return gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 105, in refresh\r\n    curses.napms(20)\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n,loc \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications.append(n)\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(n.sprite)\u001b[K\r\n            \u001b[33mns\u001b[39;49m = n.sprite\u001b[K\r\n            \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = 0,0\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m loc == \u001b[32m\"center\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = (sx+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.w//2-ns.w//2,\u001b[K\r\n                                       sy+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.h//2-ns.h//2)\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"ul\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx-ns.w,cy-ns.h\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"ur\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx+1,cy-ns.h\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"bl\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx-ns.w,cy+1\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"br\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx+1,cy+1\u001b[K\r\n            n.sprite.move_to(x,y)\u001b[K\r\n\u001b[K\n\u001b[K\n        \u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\u001b[K\r\n        \u001b[31m# If control does not belong to the human, then the control simply      \u001b[39;49m\r\n\u001b[A\n        \u001b[31m# allows the player to move the map around.                             \u001b[39;49m\r\n\u001b[A\n        \u001b[33mresult\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n        \u001b[33minfo\u001b[39;49m = {}\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().control == \u001b[32m\"human\"\u001b[39;49m:\u001b[K\r\n            result = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   34% L103  Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[13;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m99 \u001b[0m\u001b[39;49m\u001b[27m\u001b[9;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\u001b[?25l\u001b[1P\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mid\u001b[0m\u001b[39;49m\u001b[1P\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[1P\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[19;9H\u001b[?25lresult\r\n\tinfo\u001b[7;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mid\u001b[0m\u001b[39;49m\u001b[1P\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[1P\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[8;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[8;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.......................\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[32m\u001b[40m............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[32m\u001b[40m...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....................\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.....\u001b[31m\u001b[40m+----------------+\r\u001b[11d\u001b[32m\u001b[40m...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[31m\u001b[40m|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\r\u001b[12d\u001b[32m\u001b[40m......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[31m\u001b[40m|Ramen, move out!|\r\u001b[13d\u001b[32m\u001b[40m.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[31m\u001b[40m+----------------+\r\u001b[14d\u001b[32m\u001b[40m......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[13;40H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[32m\u001b[40m.\u001b[2d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[3d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;22H\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[11;22H\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[12;22H\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[13;22H\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[4;9H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[5d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[6d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[7d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[8d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[9d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[10d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[11d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[12d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[13d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[14d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\b\b\u001b[6;14H\u001b(B\u001b[0;7m\u001b[31m\u001b[40m.\u001b[7d\b\b...\u001b[8;12H....^\u001b[9;11H.....^.\u001b[10;10H......^..\u001b[11;9H.......#...\u001b[12;8H#.#..........\u001b[13;7H...........#...\u001b[14;6H.!$.....\u001b[39;49m\u001b[37m\u001b[40mi\u001b[31m\u001b[40m$.......\u001b[15;7H...............\u001b[14;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[14d\b\u001b[31m\u001b[40mi\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[13d\b\u001b[31m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[12d\b\u001b[31m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6d\u001b[32m\u001b[40m.\u001b[7d\b\b...\u001b[8;12H....\u001b[33m\u001b[40m^\u001b[9;11H\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[11;9H.....\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[12;8H\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b[13;7H...........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[14;6H.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.......\u001b[15;7H...............\u001b[11;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[11d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[10d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[9d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6d\u001b(B\u001b[0;7m\u001b[31m\u001b[40m.\u001b[7d\b\b.\u001b[39;49m\u001b[37m\u001b[40m.\u001b[31m\u001b[40m.\u001b[8;12H....^\u001b[9;11H.....^.\u001b[10;10H......^..\u001b[11;9H.......#...\u001b[12;8H#.#..........\u001b[13;7H...........#...\u001b[14;6H.!$.....i$.......\u001b[15;7H...............\u001b[7;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[7d\b\u001b[31m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7d\b\u001b[32m\u001b[40m...\u001b[8;12H....\u001b[33m\u001b[40m^\u001b[9;11H\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[11;9H.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[12;8H\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b[13;7H...........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[14;6H.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.......\u001b[15;7H...............\u001b[6;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+------+\u001b[7;15H|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mWait  \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[8;15H|Cancel|\u001b[9;15H+------+\u001b[14;14H\u001b[32m\u001b[40m.\u001b[7;21H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7;13H\u001b(B\u001b[0;7m\u001b[31m\u001b[40m..\u001b[8;12H...\u001b[9;11H....\u001b[10;10H......^..\u001b[11;9H.......#...\u001b[12;8H#.#..........\u001b[13;7H...........#...\u001b[14;6H.!$......$.......\u001b[15;7H...............\u001b[7;21H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;15H\u001b[32m\u001b[40m.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b[7;13H...\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...\u001b[8;12H....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m......\u001b[9;11H.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m......\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[11;9H.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[12;8H\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b[13;7H...........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[14;6H.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.......\u001b[15;7H...............\u001b[6;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[6d\b\u001b(B\u001b[0;1m\u001b[30m\u001b[40mi\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[5d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[C+---------+\u001b[5;17H|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[6;17H|Surrender|\u001b[7;17H|End Turn |\u001b[8;17H+---------+\u001b[5d\b\b\u001b[5;18HClose    \u001b[7;18H\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;17H\u001b[32m\u001b[40m..........\u001b[34m\u001b[40m~\u001b[5;17H\u001b[32m\u001b[40m...........\u001b[6;14H\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b[7;17H..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m........\u001b[8;17H...........\u001b[4;16H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;22H\u001b[34m\u001b[40m+-----------------+\u001b[11;22H|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m    \u001b[34m\u001b[40m|\u001b[12;22H|Ishara, move out!|\u001b[13;22H+-----------------+\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;16H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[4d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;1m\u001b[34m\u001b[40m#\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;41H\u001b[3;17H\u001b(B\u001b[0;1m\u001b[34m\u001b[40m#\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;1m\u001b[34m\u001b[40m#\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m$\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[C+--------------+\u001b[4;20H|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mInfantry $1000\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[5;20H|APC $3000     |\u001b[6;20H|Cancel        |\u001b[7;20H+--------------+\u001b[4d\b\b\u001b[3;19H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[4;20H\u001b[32m\u001b[40m.......\u001b[34m\u001b[40m~~~~\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[5;20H\u001b[32m\u001b[40m...........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[6;20H\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[7;20H\u001b[32m\u001b[40m...........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[13;41H\u001b[3;19H\u001b(B\u001b[0;1m\u001b[30m\u001b[40mi\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[C+---------+\u001b[5;20H|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[6;20H|Surrender|\u001b[7;20H|End Turn |\u001b[8;20H+---------+\u001b[5d\b\b\u001b[5;21HClose    \u001b[7;21H\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;19H\u001b(B\u001b[0;1m\u001b[34m\u001b[40mi\u001b[4d\u001b(B\u001b[0m\u001b[32m\u001b[40m.......\u001b[34m\u001b[40m~~~~\u001b[5;20H\u001b[32m\u001b[40m...........\u001b[6;20H.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b[7;20H...........\u001b[8;20H...........\u001b[13;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;22H\u001b[31m\u001b[40m+----------------+\u001b[11;22H|Day 2 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\u001b[12;22H|Ramen, move out!|\u001b[13;22H+----------------+\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;19H\u001b[10;40H \u001b[11d\b \u001b[12d\b \u001b[13d\b \b\u001b[4;19H\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b[4d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;40H\u001b[3;19H\u001b(B\u001b[0;1m\u001b[34m\u001b[40mi\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;40H\u001b[4;19H\u001b[32m\u001b[40m.\u001b[5d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[6d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;40H\u001b[6;18H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[C+---------+\u001b[7;19H|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[8;19H|Surrender|\u001b[9;19H|End Turn |\u001b[10;19H+---------+\u001b[7d\b\b\u001b[7;20HClose    \u001b[9;20H\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;19H\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[7;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m..........\u001b[8;19H...........\u001b[9;19H...........\u001b[10;19H...\u001b[31m\u001b[40m+-------\u001b[13;40H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;18H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[6d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[10;22H\u001b[34m\u001b[40m+-----------------+\u001b[11;22H|Day 2 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m    \u001b[34m\u001b[40m|\u001b[12;22H|Ishara, move out!|\u001b[13;22H+-----------------+\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;18H\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[5d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[4d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[13;40H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;18H\u001b[13;41H\u001b[3;18H\u001b(B\u001b[0;1m\u001b[34m\u001b[40m#\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;13H\u001b(B\u001b[0;7m\u001b[34m\u001b[40m............\u001b[2;12H.$...........\u001b[3;11H.....###\u001b[39;49m\u001b[37m\u001b[40mi\u001b[34m\u001b[40m.!....\u001b[4;12H...............\u001b[5;13H...^.........\u001b[6;15H.^....#...\u001b[7;15H.^..$....\u001b[8;16H^......\u001b[9;17H.....\u001b[10;18H...\u001b[11d\b\b.\u001b[13;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;19H\u001b(B\u001b[0;7m\u001b[34m\u001b[40mi\u001b[4d\b\u001b[39;49m\u001b[37m\u001b[40m.\u001b[13;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;19H\u001b(B\u001b[0;7m\u001b[34m\u001b[40m.\u001b[5d\b\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[34m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1;13H\u001b[32m\u001b[40m............\u001b[2;12H.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\u001b[3;11H.....\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###i\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[4;12H...............\u001b[5;13H...\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.......\u001b[6;15H.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[7;15H.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m....\u001b[8;16H\u001b[33m\u001b[40m^\u001b[32m\u001b[40m......\u001b[9;17H.....\u001b[10;18H...\u001b[11d\b\b.\u001b[13;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;18H\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m^\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[33m\u001b[40m^\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[1d\b\b\u001b(B\u001b[0;7m\u001b[34m\u001b[40m............\u001b[2;12H.$...........\u001b[3;11H.....###i.!....\u001b[4;12H...............\u001b[5;13H..\u001b[39;49m\u001b[37m\u001b[40m.\u001b[34m\u001b[40m^.........\u001b[6;15H.^....#...\u001b[7;15H.^..$....\u001b[8;16H^......\u001b[9;17H.....\u001b[10;18H...\u001b[11d\b\b.\u001b[13;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[34m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;19H\u001b(B\u001b[0;1m\u001b[34m\u001b[40m$\u001b[5;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+------+\u001b[6;15H|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mAttack\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[7;15H|Wait  |\u001b[8;15H|Cancel|\u001b[9;15H+------+\u001b[6d\b\b\u001b[1;13H\u001b[32m\u001b[40m............\u001b[2;12H.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\u001b[3;11H.....\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[4;12H...............\u001b[5;13H.\u001b[5;23H...\u001b[6;23H..\u001b[7d\b\b.\u001b[10;18H...\u001b[11d\b\b.\u001b[6;21H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;15H\u001b[32m\u001b[40m.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m......\u001b[6;14H\u001b(B\u001b[0;7m\u001b[31m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b[7;15H.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...\u001b[8;15H.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m......\u001b[9;15H.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m......\u001b[13;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;14H\u001b(B\u001b[0;1m\u001b[34m\u001b[40mi\u001b[6d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;22H\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[11;22H\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[12;22H\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[13;22H\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[6;14H\u001b[A\u001b(B\u001b[0;1m\u001b[30m\u001b[40mi\u001b[6d\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;8H\u001b[31m\u001b[40m+----+\u001b[4;8H| 99%|\u001b[5;8H+----+\u001b[7;15H\u001b[34m\u001b[40m+----+\u001b[8;15H|100%|\u001b[9;15H+----+\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;11H\u001b[31m\u001b[40m8%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m7%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m6%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m5%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m4%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m3%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m2%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m1%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m0%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\b\u001b[31m\u001b[40m89%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m8%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m7%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m6%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m5%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m4%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m3%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m2%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m1\u001b[9;21H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;11H\u001b[31m\u001b[40m0\u001b[6;13H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b[4d\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\b\u001b[31m\u001b[40m79%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m8%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m7%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m6%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m5%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m4%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m3%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m2\u001b[6d\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[4d\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m1%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m0%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\b\u001b[31m\u001b[40m69%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m8%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m7%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m6%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m5%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m4%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m3%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m2%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m1\u001b[5d-+\u001b(B\u001b[0;1m\u001b[30m\u001b[40m9\u001b[6d\b\u001b[31m\u001b[40m3\u001b[9;21H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;11H\u001b[31m\u001b[40m0%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\b\u001b[31m\u001b[40m59%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m8%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m7%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m6%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m5%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m4%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m3%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m2%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m1%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m0%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\b\u001b[31m\u001b[40m49%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m8%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m7%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m6%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m5%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m4%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m3%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m2%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m1\u001b[9;21H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;11H\u001b[31m\u001b[40m0%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\b\u001b[31m\u001b[40m39%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m8%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m7%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m6%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m5%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m4%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m3%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m2%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m1%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m0%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\b\u001b[31m\u001b[40m29%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m8%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m7%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m6%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m5%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m4%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m3%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m2%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m1\u001b[5d-+\u001b(B\u001b[0;1m\u001b[30m\u001b[40mi\u001b[6d\b\u001b[31m\u001b[40mi\u001b[9;21H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[8;16H\u001b[34m\u001b[40m 99%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[34m\u001b[40m8%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[34m\u001b[40m7%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[34m\u001b[40m6%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[34m\u001b[40m5%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[34m\u001b[40m4%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[34m\u001b[40m3%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[34m\u001b[40m2%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[34m\u001b[40m1%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[34m\u001b[40m0%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\b\u001b[34m\u001b[40m89%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[34m\u001b[40m8%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[34m\u001b[40m7%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[34m\u001b[40m6%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[34m\u001b[40m5%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[34m\u001b[40m4%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;12H\u001b[9;21H\u001b[6;12H\u001b[5;14H\u001b(B\u001b[0;1m\u001b[30m\u001b[40m9\u001b[6d\b\u001b[31m\u001b[40m3\u001b[9;21H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;12H\u001b[9;21H\u001b[6;12H\u001b[5;14H\u001b(B\u001b[0;1m\u001b[30m\u001b[40mi\u001b[6d\b\u001b[31m\u001b[40mi\u001b[9;21H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;12H\u001b[9;21H\u001b[6;12H\u001b[3;8H\u001b[32m\u001b[40m......\u001b[4;8H......\u001b[5;8H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[7d..\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.\u001b[8;15H.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b[9;15H.\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b[6;12H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;14H\u001b(B\u001b[0;1m\u001b[30m\u001b[40m9\u001b[6d\b\u001b[31m\u001b[40m3\b\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;14H\u001b(B\u001b[0;1m\u001b[30m\u001b[40mi\u001b[6d\b\u001b[31m\u001b[40mi\b\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;14H\u001b(B\u001b[0;1m\u001b[30m\u001b[40m9\u001b[6d\b\u001b[31m\u001b[40m3\b\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;14H\u001b(B\u001b[0;1m\u001b[30m\u001b[40mi\u001b[6d\b\u001b[31m\u001b[40mi\b\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;14H\u001b(B\u001b[0;1m\u001b[30m\u001b[40m9\u001b[6d\b\u001b[31m\u001b[40m3\b\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;14H\u001b(B\u001b[0;1m\u001b[30m\u001b[40mi\u001b[6d\b\u001b[31m\u001b[40mi\b\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;14H\u001b(B\u001b[0;1m\u001b[30m\u001b[40m9\u001b[6d\b\u001b[31m\u001b[40m3\b\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;14H\u001b(B\u001b[0;1m\u001b[30m\u001b[40mi\u001b[6d\b\u001b[31m\u001b[40mi\b\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 95, in run\r\n    gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 88, in refresh\r\n    if gfx: return gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 105, in refresh\r\n    curses.napms(20)\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n,loc \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications.append(n)\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(n.sprite)\u001b[K\r\n            \u001b[33mns\u001b[39;49m = n.sprite\u001b[K\r\n            \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = 0,0\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m loc == \u001b[32m\"center\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = (sx+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w//2-ns.w//2,\u001b[K\r\n                                       sy+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h//2-ns.h//2)\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"ul\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx-ns.w,cy-ns.h\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"ur\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx+1,cy-ns.h\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"bl\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx-ns.w,cy+1\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"br\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx+1,cy+1\u001b[K\r\n            n.sprite.move_to(x,y)\u001b[K\r\n\u001b[K\n\u001b[K\n        \u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\u001b[K\r\n        \u001b[31m# If control does not belong to the human, then the control simply      \u001b[39;49m\r\n\u001b[A\n        \u001b[31m# allows the player to move the map around.                             \u001b[39;49m\r\n\u001b[A\n        result = \u001b[35mNone\u001b[39;49m\u001b[K\r\n        info = {}\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().control == \u001b[32m\"human\"\u001b[39;49m:\u001b[K\r\n            result = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   34% L98   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[8;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[22;13H\u001b[?25l\u001b[33mresult\u001b[39;49m\u001b[8;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default rules.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrules.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrules.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m v <= grid.current_team().cash:\u001b[3;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"%s $%d\"\u001b[39;49m%(b,v))\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Cancel\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_MENU\r\n\u001b[K\u001b[7;5H\u001b[31m# This builds the unit and disables it. It can move on the next turn.       \u001b[39;49m\r\n\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[10;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Illegal input: %s\"\u001b[39;49m%\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(act))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Cancel\"\u001b[39;49m:\u001b[K\u001b[12;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\u001b[K\n\t\u001b[33mname\u001b[39;49m,price = act.rsplit(\u001b[35mNone\u001b[39;49m,1)\r\n\tunit = entities.Unit(name, grid.rules[\u001b[32m\"units\"\u001b[39;49m][name])\r\n\t\u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\r\n\tgrid.current_team().cash -= \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(price[1:])\u001b[K\r\n\tgrid.add_unit(unit,grid.current_team(),x,y)\u001b[K\r\n\tunit.done()\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\r\n\u001b[K\n\u001b[31m# MOVE follows BEGIN and expects COORD.                                         \u001b[39;49m\r\n\u001b[23;14H\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   23% L97\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[A\u001b[K\n\u001b[?25l\u001b[31m# MOVE follows BEGIN and expects COORD.                                         \u001b[39;49m\r\n\u001b[31m# If the selected unit is on the active team and is ready, then we permit       \u001b[39;49m\r\n\u001b[31m# it to move.                                                                   \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mMove\u001b[39;49m(Action):\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x,y,grid):\u001b[K\u001b[8;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = x,y\u001b[K\r\n\t\u001b[33munit\u001b[39;49m = grid.unit_at(x,y)\u001b[K\r\n\u001b[K\n\t\u001b[31m# Calculate movement range. TODO, calc fuel cost as well.               \u001b[39;49m\r\n\t\u001b[33mreport\u001b[39;49m = []\u001b[K\r\n\t\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m_floodfill\u001b[0m\u001b[39;49m(pos,r,top=\u001b[35mFalse\u001b[39;49m):\r\n\t    \u001b[33ma\u001b[39;49m,\u001b[33mb\u001b[39;49m = pos\u001b[K\r\n\t    \u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(a,b)\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m u.is_allied(unit)):\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m top:\u001b[K\r\n\t            \u001b[33mr\u001b[39;49m -= unit.terrain.get(t.terrain,r)\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (a,b) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m report \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.terrain \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m unit.terrain:\r\n\t            report.append((a,b))\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m r > 0:\r\n                    _floodfill((a-1,b),r)\u001b[K\u001b[23;30H\u001b[7m8% L115\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m r > 0:\r\n                    _floodfill((a-1,b),r)\u001b[K\r\n                    _floodfill((a+1,b),r)\u001b[K\r\n                    _floodfill((a,b-1),r)\u001b[K\r\n                    _floodfill((a,b+1),r)\u001b[7;5H    _floodfill((x,y),unit.move,\u001b[35mTrue\u001b[39;49m)\r\n\u001b[K\n\t\u001b[31m# Now filter the results. We have to do something more complex          \u001b[39;49m\r\n\t\u001b[31m# than a list comprehension.                                            \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (a,b) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m report:\r\n\t    \u001b[33madd\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[14;13H\u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(a,b)\u001b[15;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t: \u001b[33madd\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[16;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m unit: \u001b[33madd\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[17;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m unit.team: \u001b[33madd\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[18;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m unit.team \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit == unit.unit: add = \u001b[35mTrue\u001b[39;49m\u001b[19;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m unit.team \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m unit.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.carry: add = \u001b[35mTrue\u001b[39;49m\r\n\u001b[K\u001b[21;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m add:\u001b[K\n\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append((a,b))\u001b[23;29H\u001b[7m33% L134\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m add:\u001b[K\n\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append((a,b))\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_COORD\u001b[K\r\n\u001b[K\u001b[7;5H\u001b[31m# This performs the movement. After moving, we have to figure out if the    \u001b[39;49m\r\n\u001b[8;5H\u001b[31m# unit can do anything else.                                                \u001b[39;49m\r\n\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\r\n\u001b[K\n\t\u001b[33mox\u001b[39;49m,\u001b[33moy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = act\u001b[K\r\n\t\u001b[33mt1\u001b[39;49m,\u001b[33mu1\u001b[39;49m = grid.get_at(ox,oy)\r\n\t\u001b[33mt2\u001b[39;49m,\u001b[33mu2\u001b[39;49m = grid.get_at(x,y)\u001b[K\r\n\u001b[K\n\t\u001b[31m# We just undo whenever we try to move a unit that isn't ready and      \u001b[39;49m\r\n\t\u001b[31m# isn't ours.                                                           \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u1.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m grid.current_team() \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u1.ready:\u001b[21;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\r\n\u001b[K\u001b[23;30H\u001b[7m8% L153\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\r\n\u001b[K\n\t\u001b[31m# Before moving, we check to see if the tile is occupied. If it         \u001b[39;49m\r\n\t\u001b[31m# is, we allow movement if the landing unit can either carry the        \u001b[39;49m\r\n\t\u001b[31m# mover or the mover and landing unit can be joined.                    \u001b[39;49m\r\n\u001b[7;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u2 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u2.unit == u1.unit \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u1 \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u2):\u001b[K\u001b[8;5H        grid.remove_unit(u1)\u001b[K\u001b[9;5H        \u001b[33mu2.hp\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(u1.hp+u2.hp,100)\r\n\t    \u001b[33mu2.fuel\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(u1.fuel+u2.fuel,u2.max_fuel)\u001b[11;13H\u001b[33mu2.ammo\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(u1.ammo+u2.ammo,u2.max_ammo)\u001b[12;13Hu2.done()\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u2 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u2.capacity > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u1.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u2.carry \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m\r\n\t   \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(u2.carrying) < u2.capacity \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u1 \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u2):\r\n\t    grid.load_unit(u1,u2)\u001b[17;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\r\n\u001b[K\n\tgrid.move_unit(u1,x,y)\u001b[K\r\n\t\u001b[33mt1.hp\u001b[39;49m = 100\u001b[K\r\n\t\u001b[33mmoved\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (ox,oy) != (x,y):\n\u001b[7m42% L172\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[33mmoved\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (ox,oy) != (x,y):\r\n\t    \u001b[33mmoved\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Unit_Act(x,y,grid,moved)\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# UNIT ACT follows MOVE and expects MENU.                                       \u001b[39;49m\r\n\u001b[31m#  If a unit is in range, there is ammo, etc, allow attack.                     \u001b[39;49m\r\n\u001b[31m#  If the unit and current terrain are capturable, allow capture.               \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mUnit_Act\u001b[39;49m(Action):\u001b[K\u001b[12;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m,x,y,grid,moved):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_MENU\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = x,y\u001b[K\r\n\t\u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(x,y)\u001b[K\r\n\u001b[K\n\t\u001b[31m# Determine if we can attack anything.                                  \u001b[39;49m\r\n\t\u001b[33mlo\u001b[39;49m,\u001b[33mhi\u001b[39;49m = u.rang\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (lo>0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m hi>0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u.is_indirect \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m\r\n\t        (u.is_indirect \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m moved))):\r\n\t    \u001b[33mcan_attack\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\n\b\u001b[7m8% L191\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l        (u.is_indirect \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m moved))):\r\n\t    \u001b[33mcan_attack\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[4;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (a,b) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m grid.get_range(x,y,lo,hi):\r\n\t        \u001b[33mtarg\u001b[39;49m = grid.unit_at(a,b)\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (targ \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u.is_allied(targ)\u001b[7;26H\u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m (targ.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.secondary \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m\r\n                         (targ.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.primary \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.ammo > 0))):\u001b[K\r\n                    \u001b[33mcan_attack\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m can_attack:\u001b[K\r\n                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Attack\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[31m# If we're carrying anything, try to unload it.                         \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(u.carrying) > 0:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Unload\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[31m# Can we capture this tile?                                             \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.can_capture \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.capture > 0:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Capture\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Wait\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Cancel\"\u001b[39;49m)\u001b[23;29H\u001b[7m52% L210\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Wait\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Cancel\"\u001b[39;49m)\r\n\u001b[K\u001b[5;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[8;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Illegal input: %s\"\u001b[39;49m%\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(act))\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\r\n\t\u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(x,y)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Capture\"\u001b[39;49m:\r\n\t    old_hp = t.hp\u001b[K\r\n\t    new_hp = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(old_hp-\u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(u.hp*u.capture*.01),0)\r\n\u001b[K\u001b[16;13Ht.hp = new_hp\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.hp == 0:\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.is_hq \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.team:\u001b[K\u001b[19;13H        grid.purge(t.team)\u001b[K\u001b[20;21H\u001b[33mt.team.active\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t            \u001b[33mmsg\u001b[39;49m = \u001b[32m\"%s has been defeated!\"\u001b[39;49m%(t.team.name)\r\n\t            grid.alerts.append((widgets.Notification(msg,200,\u001b[23;30H\u001b[7m7% L229\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l            \u001b[33mmsg\u001b[39;49m = \u001b[32m\"%s has been defeated!\"\u001b[39;49m%(t.team.name)\r\n\t            grid.alerts.append((widgets.Notification(msg,200,\u001b[4;61Ht.team.color),\u001b[5;5H                                                        \u001b[32m\"center\"\u001b[39;49m))\u001b[K\u001b[6;5H                \u001b[33mt.is_hq\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (tx,ty) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m grid.all_tiles_xy():\u001b[8;13H            \u001b[33mot\u001b[39;49m = grid.tile_at(tx,ty)\u001b[K\r\n\t                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m ot.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m t.team:\r\n\t                    \u001b[33mot.team\u001b[39;49m = u.team\u001b[11;29H\u001b[33mot.is_hq\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t                    \u001b[33mot.hp\u001b[39;49m = 100\u001b[13;13H                grid.change_tile(ot,tx,ty)\u001b[14;13H    \u001b[33mt.team\u001b[39;49m = u.team\u001b[K\r\n\t\t\u001b[33mt.hp\u001b[39;49m = 100\u001b[16;13H    grid.change_tile(t,x,y)\u001b[17;13Hu.done()\u001b[K\u001b[18;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Unload\"\u001b[39;49m:\u001b[K\u001b[21;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Unload(x,y,grid)\u001b[K\r\n\u001b[K\u001b[23;29H\u001b[7m61% L248\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Unload(x,y,grid)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Attack\"\u001b[39;49m:\u001b[K\u001b[5;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Attack(x,y,grid)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Wait\"\u001b[39;49m:\u001b[K\u001b[8;13Hu.done()\u001b[K\u001b[9;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Cancel\"\u001b[39;49m:\u001b[K\u001b[12;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\u001b[K\n\u001b[31m# ACTION follows UNIT ACT when target in range. Expects COORD.                  \u001b[39;49m\r\n\u001b[31m# The provided coord should be one that contains an enemy unit.                 \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mAttack\u001b[39;49m(Action):\u001b[K\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, grid):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = x,y\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_COORD\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\u001b[K\n\tu = grid.unit_at(x,y)\n\u001b[7m6% L267\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\n\t\u001b[?25lu = grid.unit_at(x,y)\r\n\t\u001b[33mlo\u001b[39;49m,hi = u.rang\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (a,b) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m grid.get_range(x,y,lo,hi):\u001b[6;13Htarg = grid.unit_at(a,b)\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (targ \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u.is_allied(targ)\u001b[8;13H         \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m (targ.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.secondary \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m\u001b[9;13H         (targ.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.primary \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.ammo > 0))):\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append((a,b))\r\n\u001b[K\u001b[12;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\r\n            \u001b[33max\u001b[39;49m,\u001b[33may\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\r\n            \u001b[33mdx\u001b[39;49m,\u001b[33mdy\u001b[39;49m = act\u001b[17;5H        \u001b[33matk_t\u001b[39;49m,\u001b[33matk_u\u001b[39;49m = grid.get_at(ax,ay)\r\n\t    \u001b[33mdef_t\u001b[39;49m,\u001b[33mdef_u\u001b[39;49m = grid.get_at(dx,dy)\r\n\t    \u001b[33md\u001b[39;49m = grid.dist((ax,ay),(dx,dy))\r\n\t    \u001b[33mstart_ahp\u001b[39;49m, \u001b[33mstart_dhp\u001b[39;49m = atk_u.hp, def_u.hp\r\n\n\t    \u001b[31m# Calculate damage.                                                 \u001b[39;49m\r\n\u001b[23;29H\u001b[7m70% L286\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\n\t\u001b[?25l    \u001b[31m# Calculate damage.                                                 \u001b[39;49m\r\n\t    \u001b[33ma_dmg\u001b[39;49m,\u001b[33mprim\u001b[39;49m = atk_u.simulate(def_u, def_t.cover)\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m a_dmg: \u001b[33mdef_u.hp\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(0,def_u.hp-a_dmg)\u001b[6;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33matk_u.ammo\u001b[39;49m -= 1\r\n\u001b[K\u001b[8;13H\u001b[31m# Only counter if hp > 0 and not indirect.                          \u001b[39;49m\r\n\u001b[9;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m def_u.is_indirect \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m def_u.in_range(d):\r\n\t\t\u001b[33md_dmg\u001b[39;49m,\u001b[33mprim\u001b[39;49m = def_u.simulate(atk_u, atk_t.cover)\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m d_dmg: \u001b[33matk_u.hp\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(0,atk_u.hp-d_dmg)\u001b[12;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33mdef_u.ammo\u001b[39;49m -= 1\u001b[K\r\n\u001b[K\n\t    \u001b[31m# Draw damage animations                                            \u001b[39;49m\r\n\u001b[15;13H\u001b[33mt1\u001b[39;49m = start_dhp-def_u.hp\u001b[16;13H\u001b[33mt2\u001b[39;49m = start_ahp-atk_u.hp\u001b[17;13H\u001b[33mw1\u001b[39;49m = widgets.Counter(start_dhp,def_u.hp,0,\u001b[18;13H                     t1+t2+100,def_u.team.color)\u001b[19;13Hgrid.alerts.append((w1,\u001b[32m\"ul\"\u001b[39;49m))\u001b[K\u001b[20;13H\u001b[33mw2\u001b[39;49m = widgets.Counter(start_ahp,atk_u.hp,t1,\u001b[21;34Ht1+t2+100,atk_u.team.color)\u001b[22;13Hgrid.alerts.append((w2,\u001b[32m\"br\"\u001b[39;49m))\u001b[K\u001b[23;30H\u001b[7m5% L305\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;34H\u001b[?25lt1+t2+100,atk_u.team.color)\u001b[3;13Hgrid.alerts.append((w2,\u001b[32m\"br\"\u001b[39;49m))\u001b[K\r\n\u001b[K\u001b[5;13H\u001b[31m# Remove dead units (and all carriees) from grid.                   \u001b[39;49m\r\n\t\t\batk_u.hp > 0:\u001b[K\r\n\t\tatk_u.done()\u001b[8;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b\b    grid.remove_unit(atk_u)\u001b[K\r\n\t\t\u001b[33matk_t.hp\u001b[39;49m = 100\u001b[K\u001b[11;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp <= 0:\u001b[K\r\n\t\tgrid.remove_unit(def_u)\u001b[K\r\n\t\t\u001b[33mdef_t.hp\u001b[39;49m = 100\r\n\u001b[K\u001b[15;13H\u001b[33mateam\u001b[39;49m = 0\u001b[K\u001b[16;13H\u001b[33mdteam\u001b[39;49m = 0\u001b[K\u001b[17;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m grid.units:\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m atk_u.team: \u001b[33mateam\u001b[39;49m += 1\u001b[K\u001b[19;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m def_u.team: \u001b[33mdteam\u001b[39;49m += 1\u001b[20;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (score,team) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m ((ateam,atk_u.team),(dteam,def_u.team)):\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m score == 0:\u001b[K\u001b[22;13H        team.active = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[23;29H\u001b[7m80% L324\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m score == 0:\u001b[K\u001b[3;13H        team.active = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[4;21Hmsg = \u001b[32m\"%s has been defeated!\"\u001b[39;49m%(team.name)\u001b[5;13H        grid.alerts.append((widgets.Notification(msg,200,\u001b[K\u001b[6;13H                                    team.color),\u001b[32m\"center\"\u001b[39;49m))\r\n\u001b[K\u001b[8;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# UNLOAD follows UNIT ACT when carrying units. A unit can unload                \u001b[39;49m\r\n\u001b[31m# when it's carrying - even if it isn't supposed to load in the                 \u001b[39;49m\r\n\u001b[31m# first place.                                                                  \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mUnload\u001b[39;49m(Action):\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, grid, already=\u001b[35mNone\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = x,y\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_MENU\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.already = []\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m already:\u001b[K\u001b[23;30H\u001b[7m5% L343\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.already = []\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m already:\u001b[K\u001b[4;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.already += already\u001b[K\r\n\u001b[K\n\t\u001b[33mu\u001b[39;49m = grid.unit_at(x,y)\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,c \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(u.carrying):\u001b[8;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.already:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"%d: %s (%d%%)\"\u001b[39;49m%(i,c.unit,c.hp))\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Done\"\u001b[39;49m)\u001b[12;5H\u001b[31m# This performs the unload. But the user now has to pick a                  \u001b[39;49m\r\n\u001b[13;61H\u001b[4P\r\u001b[4@\t\b\b\u001b[31mdestination for the unit.                                 \u001b[39;49m\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\r\n            \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Illegal input: %s\"\u001b[39;49m%\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(act))\r\n\u001b[K\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\r\n\t\u001b[33mu\u001b[39;49m = grid.unit_at(x,y)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Done\"\u001b[39;49m:\r\n\t    u.done()\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\n\u001b[7m9% L362\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l    u.done()\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\bi = \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(act.split(\u001b[32m\":\"\u001b[39;49m,1)[0])\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Unload_Placement(x,y,grid,i,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.already)\r\n\u001b[K\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mUnload_Placement\u001b[39;49m(Action):\u001b[K\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, grid, i, already):\u001b[K\r\n\tu = grid.unit_at(x,y)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.target = i\u001b[12;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.already = already+[i]\u001b[K\u001b[13;5H    unit = u.carrying[i]\u001b[K\u001b[14;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_COORD\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = x,y\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (a,b) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m grid.get_range(x,y,1):\r\n\t    \u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(a,b)\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m (t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m unit.terrain.get(t.terrain,0) > 0):\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append((a,b))\r\n\u001b[K\u001b[22;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\n\b\b\b\b\b\u001b[7m94% L381\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[3;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[6;13H\u001b[33mu\u001b[39;49m = grid.unit_at(x,y) \u001b[31m# there's no reason to keep typing this       \u001b[39;49m\r\n\u001b[7;13H\u001b[33mdx\u001b[39;49m,\u001b[33mdy\u001b[39;49m = act\r\n            grid.unload_unit(u, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.target, dx, dy)\u001b[9;5H        grid.unit_at(dx,dy).done()\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Unload(x, y, grid, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.already)\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\n\u001b[K\u001b[23;29H\u001b[7mBot L400\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u001b[24d\u001b[?25lEnd of buffer\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u0007\u0007\u0007\u0007\u0007\u001b[24d\u001b[K\u001b[2;13H\u001b[?25lu.done()\u001b[3;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    i = \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(act.split(\u001b[32m\":\"\u001b[39;49m,1)[0])\u001b[6;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Unload_Placement(x,y,grid,i,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.already)\u001b[K\r\n\u001b[K\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mUnload_Placement\u001b[39;49m(Action):\u001b[K\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, grid, i, already):\r\n\tu = grid.unit_at(x,y)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.target = i\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.already = already+[i]\r\n\tunit = u.carrying[i]\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_COORD\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = x,y\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (a,b) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m grid.get_range(x,y,1):\u001b[18;13H\u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(a,b)\u001b[19;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m (t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m unit.terrain.get(t.terrain,0) > 0):\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append((a,b))\u001b[22;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\n\b\b\b\b\b\u001b[7m94%\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.already = []\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m already:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.already += already\r\n\u001b[K\n\t\u001b[33mu\u001b[39;49m = grid.unit_at(x,y)\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i,c \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34menumerate\u001b[0m\u001b[39;49m(u.carrying):\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.already:\u001b[9;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"%d: %s (%d%%)\"\u001b[39;49m%(i,c.unit,c.hp))\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Done\"\u001b[39;49m)\r\n\u001b[K\u001b[12;5H\u001b[31m# This performs the unload. But the user now has to pick a                  \u001b[39;49m\r\n\u001b[13;5H\u001b[31m# destination for the unit.                                                 \u001b[39;49m\r\n\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Illegal input: %s\"\u001b[39;49m%\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(act))\r\n\u001b[K\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\r\n\t\u001b[33mu\u001b[39;49m = grid.unit_at(x,y)\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Done\"\u001b[39;49m:\u001b[K\u001b[21;13Hu.done()\u001b[22;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\n\b\u001b[7m89% L382\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m score == 0:\r\n\t            team.active = \u001b[35mFalse\u001b[39;49m\u001b[4;13H        msg = \u001b[32m\"%s has been defeated!\"\u001b[39;49m%(team.name)\u001b[5;21Hgrid.alerts.append((widgets.Notification(msg,200,\r\n\t                                        team.color),\u001b[32m\"center\"\u001b[39;49m))\r\n\u001b[K\u001b[8;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\n\u001b[K\n\u001b[4P\u001b[C\u001b[C\u001b[31mUNLOAD follows UNIT ACT when carrying units. A unit can un\u001b[39;49m\u001b[4@\u001b[31mload\u001b[39;49m\r\n\u001b[31m# when it's carrying - even if it isn't supposed to load in the                 \u001b[39;49m\r\n\u001b[31m# first place.                                                                  \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mUnload\u001b[39;49m(Action):\u001b[K\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, grid, already=\u001b[35mNone\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = x,y\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_MENU\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.already = []\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m already:\u001b[K\u001b[23;30H\u001b[7m5% L363\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\t\u001b[?25l                 t1+t2+100,atk_u.team.color)\u001b[3;13Hgrid.alerts.append((w2,\u001b[32m\"br\"\u001b[39;49m))\r\n\u001b[K\u001b[5;13H\u001b[31m# Remove dead units (and all carriees) from grid.                   \u001b[39;49m\r\n\u001b[6;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m atk_u.hp > 0:\u001b[K\r\n\t\tatk_u.done()\u001b[8;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t        grid.remove_unit(atk_u)\u001b[10;13H    \u001b[33matk_t.hp\u001b[39;49m = 100\u001b[11;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp <= 0:\r\n\t\tgrid.remove_unit(def_u)\r\n                \u001b[33mdef_t.hp\u001b[39;49m = 100\u001b[K\r\n\u001b[K\n            \u001b[33mateam\u001b[39;49m = 0\u001b[K\r\n            \u001b[33mdteam\u001b[39;49m = 0\u001b[17;5H        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m grid.units:\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m atk_u.team: \u001b[33mateam\u001b[39;49m += 1\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m def_u.team: \u001b[33mdteam\u001b[39;49m += 1\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (score,team) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m ((ateam,atk_u.team),(dteam,def_u.team)):\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m score == 0:\r\n\t            team.active = \u001b[35mFalse\u001b[39;49m\u001b[23;30H\u001b[7m0% L344\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m score == 0:\u001b[K\u001b[3;13H        team.active = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[4;21Hmsg = \u001b[32m\"%s has been defeated!\"\u001b[39;49m%(team.name)\u001b[5;13H        grid.alerts.append((widgets.Notification(msg,200,\u001b[K\u001b[6;13H                                    team.color),\u001b[32m\"center\"\u001b[39;49m))\r\n\u001b[K\u001b[8;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# UNLOAD follows UNIT ACT when carrying units. A unit can unload                \u001b[39;49m\r\n\u001b[31m# when it's carrying - even if it isn't supposed to load in the                 \u001b[39;49m\r\n\u001b[31m# first place.                                                                  \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mUnload\u001b[39;49m(Action):\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, grid, already=\u001b[35mNone\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = x,y\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_MENU\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.already = []\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m already:\u001b[K\u001b[23;30H\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25l                 t1+t2+100,atk_u.team.color)\u001b[3;13Hgrid.alerts.append((w2,\u001b[32m\"br\"\u001b[39;49m))\r\n\u001b[K\u001b[5;13H\u001b[31m# Remove dead units (and all carriees) from grid.                   \u001b[39;49m\r\n\u001b[6;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m atk_u.hp > 0:\u001b[K\r\n\t\tatk_u.done()\u001b[8;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t        grid.remove_unit(atk_u)\u001b[10;13H    \u001b[33matk_t.hp\u001b[39;49m = 100\u001b[11;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp <= 0:\r\n\t\tgrid.remove_unit(def_u)\r\n                \u001b[33mdef_t.hp\u001b[39;49m = 100\u001b[K\r\n\u001b[K\n            \u001b[33mateam\u001b[39;49m = 0\u001b[K\r\n            \u001b[33mdteam\u001b[39;49m = 0\u001b[17;5H        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m grid.units:\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m atk_u.team: \u001b[33mateam\u001b[39;49m += 1\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m def_u.team: \u001b[33mdteam\u001b[39;49m += 1\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (score,team) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m ((ateam,atk_u.team),(dteam,def_u.team)):\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m score == 0:\r\n\t            team.active = \u001b[35mFalse\u001b[39;49m\u001b[23;30H\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m39\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m29\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25l\u001b[33md_dmg\u001b[39;49m,\u001b[33mprim\u001b[39;49m = def_u.simulate(atk_u, atk_t.cover)\u001b[3;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m d_dmg: \u001b[33matk_u.hp\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(0,atk_u.hp-d_dmg)\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m prim: \u001b[33mdef_u.ammo\u001b[39;49m -= 1\r\n\u001b[K\u001b[6;13H\u001b[31m# Draw damage animations                                            \u001b[39;49m\r\n\u001b[7;13H\u001b[33mt1\u001b[39;49m = start_dhp-def_u.hp\u001b[8;13H\u001b[33mt2\u001b[39;49m = start_ahp-atk_u.hp\u001b[9;13H\u001b[33mw1\u001b[39;49m = widgets.Counter(start_dhp,def_u.hp,0,\r\n\t\t                 t1+t2+100,def_u.team.color)\u001b[11;13Hgrid.alerts.append((w1,\u001b[32m\"ul\"\u001b[39;49m))\u001b[12;13H\u001b[33mw2\u001b[39;49m = widgets.Counter(start_ahp,atk_u.hp,t1,\r\n\t\t                 t1+t2+100,atk_u.team.color)\u001b[14;13Hgrid.alerts.append((w2,\u001b[32m\"br\"\u001b[39;49m))\r\n\u001b[K\u001b[16;13H\u001b[31m# Remove dead units (and all carriees) from grid.                   \u001b[39;49m\r\n\u001b[17;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m atk_u.hp > 0:\u001b[K\r\n\t\tatk_u.done()\u001b[K\u001b[19;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b\b    grid.remove_unit(atk_u)\u001b[K\r\n\t\t\u001b[33matk_t.hp\u001b[39;49m = 100\u001b[22;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp <= 0:\u001b[K\n\b\u001b[7m77% L323\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m19\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m20\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[11;1H\u001b[1M\u001b[1;24r\u001b[9;34H\u001b[?25lt1+t2+100,def_u.team.color)\u001b[10;13Hgrid.alerts.append((w1,\u001b[32m\"ul\"\u001b[39;49m))\u001b[K\u001b[22;1H                grid.remove_unit(def_u)\u001b[K\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[1;22r\u001b[11;1H\u001b[1M\u001b[1;24r\u001b[9;13H\u001b[?25lgrid.alerts.append((w1,\u001b[32m\"ul\"\u001b[39;49m))\u001b[10;13H\u001b[33mw2\u001b[39;49m = widgets.Counter(start_ahp,atk_u.hp,t1,\u001b[22;1H                \u001b[33mdef_t.hp\u001b[39;49m = 100\u001b[K\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[23;30H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[11;1H\u001b[1M\u001b[1;24r\u001b[9;13H\u001b[?25l\u001b[33mw2\u001b[39;49m = widgets.Counter(start_ahp,atk_u.hp,t1,\u001b[10;13H                     t1+t2+100,atk_u.team.color)\u001b[22;1H\u001b[K\u001b[9d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lMark set\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[11;1H\u001b[3L\u001b[1;24r\u001b[9;14H\u001b[?25l\u001b[33m1\u001b[39;49m = widgets.Counter(start_dhp,def_u.hp,0,\u001b[K\u001b[10;44Hdef\r\n            grid.alerts.append((w1,\u001b[32m\"ul\"\u001b[39;49m))\u001b[K\r\n            \u001b[33mw2\u001b[39;49m = widgets.Counter(start_ahp,atk_u.hp,t1,\u001b[K\r\n                                 t1+t2+100,atk_u.team.color)\u001b[K\u001b[23;30H\u001b[7m7% L323\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[H\n\t\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append((a,b))\u001b[K\r\n\u001b[K\u001b[4;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[7;13H\u001b[33max\u001b[39;49m,\u001b[33may\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\u001b[8;13H\u001b[33mdx\u001b[39;49m,\u001b[33mdy\u001b[39;49m = act\u001b[K\u001b[9;13H\u001b[33matk_t\u001b[39;49m,\u001b[33matk_u\u001b[39;49m = grid.get_at(ax,ay)\u001b[K\u001b[10;13H\u001b[33mdef_t\u001b[39;49m,\u001b[33mdef_u\u001b[39;49m = grid.get_at(dx,dy)\u001b[K\u001b[11;13H\u001b[33md\u001b[39;49m = grid.dist((ax,ay),(dx,dy))\u001b[12;13H\u001b[33mstart_ahp\u001b[39;49m, \u001b[33mstart_dhp\u001b[39;49m = atk_u.hp, def_u.hp\u001b[K\r\n\u001b[K\u001b[14;13H\u001b[31m# Calculate damage.                                                 \u001b[39;49m\r\n\u001b[15;13H\u001b[33ma_dmg\u001b[39;49m,\u001b[33mprim\u001b[39;49m = atk_u.simulate(def_u, def_t.cover)\u001b[16;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m a_dmg: \u001b[33mdef_u.hp\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(0,def_u.hp-a_dmg)\u001b[K\r\n\t\t\bprim: \u001b[33matk_u.ammo\u001b[39;49m -= 1\r\n\u001b[K\u001b[19;13H\u001b[31m# Only counter if hp > 0 and not indirect.                          \u001b[39;49m\r\n\u001b[20;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_u.hp > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m def_u.is_indirect \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m def_u.in_range(d):\r\n\t\t\u001b[33md_dmg\u001b[39;49m,\u001b[33mprim\u001b[39;49m = def_u.simulate(atk_u, atk_t.cover)\u001b[22;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m d_dmg: \u001b[33matk_u.hp\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(0,atk_u.hp-d_dmg)\u001b[23;30H\u001b[7m2% L314\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Cancel\"\u001b[39;49m:\u001b[4;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\u001b[K\n\u001b[31m# ACTION follows UNIT ACT when target in range. Expects COORD.                  \u001b[39;49m\r\n\u001b[31m# The provided coord should be one that contains an enemy unit.                 \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mAttack\u001b[39;49m(Action):\u001b[K\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, grid):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = x,y\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_COORD\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\n\tu = grid.unit_at(x,y)\u001b[K\r\n\t\u001b[33mlo\u001b[39;49m,hi = u.rang\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (a,b) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m grid.get_range(x,y,lo,hi):\u001b[K\u001b[17;13Htarg = grid.unit_at(a,b)\u001b[18;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (targ \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u.is_allied(targ)\u001b[19;13H         \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m (targ.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.secondary \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m\u001b[K\u001b[20;13H         (targ.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.primary \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.ammo > 0))):\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append((a,b))\u001b[K\r\n\u001b[K\u001b[23;29H\u001b[7m68% L295\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;29H\u001b[?25l\u001b[33mot.team\u001b[39;49m = u.team\r\n\t                    \u001b[33mot.is_hq\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[4;13H                \u001b[33mot.hp\u001b[39;49m = 100\u001b[5;29Hgrid.change_tile(ot,tx,ty)\r\n                \u001b[33mt.team\u001b[39;49m = u.team\u001b[K\r\n                \u001b[33mt.hp\u001b[39;49m = 100\u001b[K\r\n                grid.change_tile(t,x,y)\u001b[9;5H        u.done()\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Unload\"\u001b[39;49m:\u001b[13;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Unload(x,y,grid)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Attack\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Attack(x,y,grid)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Wait\"\u001b[39;49m:\u001b[K\u001b[19;13Hu.done()\u001b[K\u001b[20;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Cancel\"\u001b[39;49m:\u001b[23;30H\u001b[7m4% L276\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(x,y)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Capture\"\u001b[39;49m:\u001b[K\u001b[5;13Hold_hp = t.hp\u001b[K\u001b[6;13Hnew_hp = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(old_hp-\u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(u.hp*u.capture*.01),0)\r\n\u001b[K\u001b[8;13Ht.hp = new_hp\u001b[K\u001b[9;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.hp == 0:\u001b[10;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.is_hq \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.team:\u001b[11;21Hgrid.purge(t.team)\r\n\t            \u001b[33mt.team.active\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[13;13H        \u001b[33mmsg\u001b[39;49m = \u001b[32m\"%s has been defeated!\"\u001b[39;49m%(t.team.name)\u001b[14;21Hgrid.alerts.append((widgets.Notification(msg,200,\r\n\t                                                    t.team.color),\u001b[16;13H                                                \u001b[32m\"center\"\u001b[39;49m))\u001b[17;21H\u001b[33mt.is_hq\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (tx,ty) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m grid.all_tiles_xy():\u001b[19;13H            \u001b[33mot\u001b[39;49m = grid.tile_at(tx,ty)\u001b[20;13H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m ot.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m t.team:\u001b[21;29H\u001b[33mot.team\u001b[39;49m = u.team\r\n\t                    \u001b[33mot.is_hq\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[23;29H\u001b[7m58% L257\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m can_attack:\u001b[K\u001b[3;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Attack\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[31m# If we're carrying anything, try to unload it.                         \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(u.carrying) > 0:\u001b[K\u001b[7;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Unload\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[31m# Can we capture this tile?                                             \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.can_capture \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.capture > 0:\u001b[11;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Capture\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Wait\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Cancel\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[16;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[19;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Illegal input: %s\"\u001b[39;49m%\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(act))\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\r\n\t\u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(x,y)\u001b[K\r\n\u001b[K\u001b[23;30H\u001b[7m4% L238\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l\u001b[31m#  If the unit and current terrain are capturable, allow capture.               \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mUnit_Act\u001b[39;49m(Action):\u001b[K\u001b[4;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m,x,y,grid,moved):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_MENU\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = x,y\u001b[K\r\n\t\u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(x,y)\r\n\u001b[K\n\t\u001b[31m# Determine if we can attack anything.                                  \u001b[39;49m\r\n\t\u001b[33mlo\u001b[39;49m,\u001b[33mhi\u001b[39;49m = u.rang\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (lo>0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m hi>0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u.is_indirect \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m\r\n\t        (u.is_indirect \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m moved))):\r\n\t    \u001b[33mcan_attack\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[15;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (a,b) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m grid.get_range(x,y,lo,hi):\u001b[16;5H            \u001b[33mtarg\u001b[39;49m = grid.unit_at(a,b)\u001b[K\u001b[17;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (targ \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u.is_allied(targ)\r\n\t                 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m (targ.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.secondary \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m\u001b[19;13H             (targ.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.primary \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.ammo > 0))):\r\n\t            \u001b[33mcan_attack\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m can_attack:\u001b[K\n\b\b\b\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Attack\"\u001b[39;49m)\u001b[23;29H\u001b[7m49% L219\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l            \u001b[33mu2.fuel\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(u1.fuel+u2.fuel,u2.max_fuel)\u001b[K\r\n            \u001b[33mu2.ammo\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(u1.ammo+u2.ammo,u2.max_ammo)\u001b[4;5H        u2.done()\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u2 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u2.capacity > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u1.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u2.carry \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m\r\n\t   \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(u2.carrying) < u2.capacity \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u1 \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u2):\r\n\t    grid.load_unit(u1,u2)\u001b[9;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\r\n\u001b[K\n\tgrid.move_unit(u1,x,y)\r\n\t\u001b[33mt1.hp\u001b[39;49m = 100\u001b[K\r\n\t\u001b[33mmoved\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (ox,oy) != (x,y):\u001b[K\u001b[15;13H\u001b[33mmoved\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Unit_Act(x,y,grid,moved)\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# UNIT ACT follows MOVE and expects MENU.                                       \u001b[39;49m\r\n\u001b[31m#  If a unit is in range, there is ammo, etc, allow attack.                     \u001b[39;49m\r\n\u001b[31m#  If the unit and current terrain are capturable, allow capture.               \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mUnit_Act\u001b[39;49m(Action):\u001b[K\u001b[23;30H\u001b[7m5% L200\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[3;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\u001b[K\n\t\u001b[33mox\u001b[39;49m,\u001b[33moy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = act\u001b[K\r\n\t\u001b[33mt1\u001b[39;49m,\u001b[33mu1\u001b[39;49m = grid.get_at(ox,oy)\u001b[K\r\n\t\u001b[33mt2\u001b[39;49m,\u001b[33mu2\u001b[39;49m = grid.get_at(x,y)\u001b[K\r\n\u001b[K\n\t\u001b[31m# We just undo whenever we try to move a unit that isn't ready and      \u001b[39;49m\r\n\t\u001b[31m# isn't ours.                                                           \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u1.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m grid.current_team() \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u1.ready:\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\r\n\u001b[K\n\t\u001b[31m# Before moving, we check to see if the tile is occupied. If it         \u001b[39;49m\r\n\t\u001b[31m# is, we allow movement if the landing unit can either carry the        \u001b[39;49m\r\n\t\u001b[31m# mover or the mover and landing unit can be joined.                    \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u2 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u2.unit == u1.unit \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u1 \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u2):\r\n            grid.remove_unit(u1)\u001b[K\r\n            \u001b[33mu2.hp\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(u1.hp+u2.hp,100)\u001b[K\r\n            \u001b[33mu2.fuel\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(u1.fuel+u2.fuel,u2.max_fuel)\u001b[K\r\n            \u001b[33mu2.ammo\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(u1.ammo+u2.ammo,u2.max_ammo)\u001b[23;30H\u001b[7m0% L181\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[31m# than a list comprehension.                                            \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (a,b) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m report:\r\n\t    \u001b[33madd\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t    \u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(a,b)\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t: \u001b[33madd\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m unit: \u001b[33madd\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[9;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m unit.team: \u001b[33madd\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m unit.team \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit == unit.unit: add = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m unit.team \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m unit.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.carry: add = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[13;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m add:\u001b[K\n\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append((a,b))\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_COORD\u001b[K\r\n\u001b[K\u001b[18;5H\u001b[31m# This performs the movement. After moving, we have to figure out if the    \u001b[39;49m\r\n\u001b[19;5H\u001b[31m# unit can do anything else.                                                \u001b[39;49m\r\n\u001b[20;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[22;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\n\u001b[7m35% L162\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\n\t\u001b[?25l\u001b[31m# Calculate movement range. TODO, calc fuel cost as well.               \u001b[39;49m\r\n\t\u001b[33mreport\u001b[39;49m = []\u001b[K\r\n\t\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m_floodfill\u001b[0m\u001b[39;49m(pos,r,top=\u001b[35mFalse\u001b[39;49m):\u001b[6;13H\u001b[33ma\u001b[39;49m,\u001b[33mb\u001b[39;49m = pos\u001b[K\u001b[7;13H\u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(a,b)\u001b[8;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m u.is_allied(unit)):\u001b[9;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m top:\u001b[K\u001b[10;13H        \u001b[33mr\u001b[39;49m -= unit.terrain.get(t.terrain,r)\u001b[K\u001b[11;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (a,b) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m report \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.terrain \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m unit.terrain:\u001b[K\u001b[12;21Hreport.append((a,b))\u001b[13;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m r > 0:\r\n\t\t    _floodfill((a-1,b),r)\u001b[K\u001b[15;21H_floodfill((a+1,b),r)\r\n\t            _floodfill((a,b-1),r)\u001b[17;21H_floodfill((a,b+1),r)\u001b[18;5H    _floodfill((x,y),unit.move,\u001b[35mTrue\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[20;5H    \u001b[31m# Now filter the results. We have to do something more complex          \u001b[39;49m\r\n\t\u001b[31m# than a list comprehension.                                            \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[23;30H\u001b[7m0% L143\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Illegal input: %s\"\u001b[39;49m%\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(act))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Cancel\"\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\r\n\u001b[K\n\t\u001b[33mname\u001b[39;49m,price = act.rsplit(\u001b[35mNone\u001b[39;49m,1)\r\n\tunit = entities.Unit(name, grid.rules[\u001b[32m\"units\"\u001b[39;49m][name])\r\n\t\u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\r\n\tgrid.current_team().cash -= \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(price[1:])\r\n\tgrid.add_unit(unit,grid.current_team(),x,y)\u001b[K\r\n\tunit.done()\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\r\n\u001b[K\n\u001b[31m# MOVE follows BEGIN and expects COORD.                                         \u001b[39;49m\r\n\u001b[31m# If the selected unit is on the active team and is ready, then we permit       \u001b[39;49m\r\n\u001b[31m# it to move.                                                                   \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mMove\u001b[39;49m(Action):\u001b[K\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x,y,grid):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = x,y\r\n\t\u001b[33munit\u001b[39;49m = grid.unit_at(x,y)\u001b[K\r\n\u001b[K\n\t\u001b[31m# Calculate movement range. TODO, calc fuel cost as well.               \u001b[39;49m\r\n\u001b[23;29H\u001b[7m25% L124\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;14H\u001b[?25l\u001b[1m\u001b[36meturn\u001b[0m\u001b[39;49m ACT_END\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Reached end of action without return.\"\u001b[39;49m)\r\n\n\u001b[31m# BUILD follows BEGIN and expects MENU.                                         \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mBuild\u001b[39;49m(Action):\u001b[K\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, grid):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = x,y\u001b[K\r\n\ttile = grid.tile_at(x,y)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b,v \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34msorted\u001b[0m\u001b[39;49m(tile.build.items(), key=\u001b[1m\u001b[36mlambda\u001b[0m\u001b[39;49m x:x[1]):\u001b[13;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m v <= grid.current_team().cash:\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"%s $%d\"\u001b[39;49m%(b,v))\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Cancel\"\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_MENU\u001b[K\r\n\u001b[K\u001b[18;5H\u001b[31m# This builds the unit and disables it. It can move on the next turn.       \u001b[39;49m\r\n\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[21;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Illegal input: %s\"\u001b[39;49m%\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(act))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Cancel\"\u001b[39;49m:\u001b[K\u001b[23;30H\u001b[7m1% L105\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Close\"\u001b[39;49m,\u001b[32m\"Surrender\"\u001b[39;49m,\u001b[32m\"End Turn\"\u001b[39;49m]\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_MENU\u001b[K\r\n\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[8;5H        \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Illegal input: %s\"\u001b[39;49m%\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(act))\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Close\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Surrender\"\u001b[39;49m:\u001b[K\u001b[13;13Hcur = grid.current_team()\u001b[K\u001b[14;13Hgrid.purge( cur )\u001b[K\r\n\t    cur.active = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t    \u001b[33mmsg\u001b[39;49m = \u001b[32m\"%s has been defeated!\"\u001b[39;49m%(cur.name)\u001b[17;13Hgrid.alerts.append((widgets.Notification(msg,200,cur.color),\u001b[18;5H                            \u001b[32m\"center\"\u001b[39;49m))\u001b[K\u001b[19;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\r\n\t\t\b== \u001b[32m\"End Turn\"\u001b[39;49m:\u001b[K\u001b[21;14H\u001b[1m\u001b[36meturn\u001b[0m\u001b[39;49m ACT_END\u001b[K\r\n\u001b[K\u001b[23;29H\u001b[7m16% L86 \u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[3;25H\u001b[?25l]\u001b[K\nCOORD\r\n\n\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = act\u001b[K\r\n\t\u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(x,y)\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Move(x,y,grid)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(t.build) > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m grid.current_team():\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Build(x,y,grid)\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Main_Menu()\r\n\u001b[K\n\u001b[K\n\u001b[31m# MAIN MENU follows BEGIN and expects MENU.                                     \u001b[39;49m\r\n\u001b[31m# This is the menu created if the user clicks outside of the field.             \u001b[39;49m\r\n\u001b[31m# This allows the user to end their turn, undo, moves, etc.                     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mMain_Menu\u001b[39;49m(Action):\u001b[K\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Close\"\u001b[39;49m,\u001b[32m\"Surrender\"\u001b[39;49m,\u001b[32m\"End Turn\"\u001b[39;49m]\u001b[23;30H\u001b[7m2% L67\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m# The PERFORM function takes the input (either a coord or a string) and     \u001b[39;49m\r\n\u001b[3;5H\u001b[31m# then processes it. This should only be done when the player presses       \u001b[39;49m\r\n\u001b[4;5H\u001b[31m# enter and confirms the action. The grid should be backed up before        \u001b[39;49m\r\n\u001b[5;5H\u001b[31m# performing. This will return an instance of the new action that the       \u001b[39;49m\r\n\u001b[6;5H\u001b[31m# session should handle.                                                    \u001b[39;49m\r\n\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[10;5H\u001b[31m# The INFO function provides popups and other contextual information of     \u001b[39;49m\r\n\u001b[11;5H\u001b[31m# what would happen if the action was taken. This is used to help create    \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# interface candy.                                                          \u001b[39;49m\r\n\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\u001b[17;3H\u001b[31mThe BEGIN action is the first action and expects COORD. If the coord is a\u001b[39;49m\u001b[18;3H\u001b[31munit, we display its movement range. If the coord is a terrain that can\u001b[39;49m\u001b[19;3H\u001b[31mproduce, we begin production. If anything else, we display the GAME MENU.\u001b[39;49m\u001b[20;7H\u001b[32mBegin\u001b[39;49m\u001b[4P\n\n\t\t]\u001b[K\u001b[23;29H\u001b[7m 6% L48\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l\u001b[33mFORM_COORD\u001b[39;49m = \u001b[32m\"coord\"\u001b[39;49m\u001b[K\r\n\u001b[33mFORM_MENU\u001b[39;49m = \u001b[32m\"menu\"\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[33mACT_COMMIT\u001b[39;49m = \u001b[32m\"commit\"\u001b[39;49m\u001b[K\r\n\u001b[33mACT_TRASH\u001b[39;49m = \u001b[32m\"trash\"\u001b[39;49m\u001b[K\r\n\u001b[33mACT_UNDO\u001b[39;49m = \u001b[32m\"undo\"\u001b[39;49m\u001b[K\r\n\u001b[33mACT_END\u001b[39;49m = \u001b[32m\"end\"\u001b[39;49m\u001b[K\r\n\u001b[33mACT_RESTART\u001b[39;49m = \u001b[32m\"restart\"\u001b[39;49m\r\n\u001b[K\n\u001b[K\n\u001b[31m# An action is the base class of handling actions. Actions tell the session     \u001b[39;49m\r\n\u001b[31m# what the next input necessary is (such as any coord, a coord in a range of    \u001b[39;49m\r\n\u001b[31m# selections, or a menu item). The session is responsible for handling input    \u001b[39;49m\r\n\u001b[31m# appropriately in the context of the action. AI can also respond to actions.   \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mAction\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[21;5H\u001b[31m# The PERFORM function takes the input (either a coord or a string) and     \u001b[39;49m\r\n\u001b[22;5H\u001b[31m# then processes it. This should only be done when the player presses       \u001b[39;49m\r\n\u001b[23;30H\u001b[7m3% L29\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[2;1H\u001b[8L\u001b[1;24r\u001b[2;1H\u001b[?25l\u001b[31m# The Rules contain the Action objects that serve as a sort of state machine    \u001b[39;49m\r\n\u001b[A\n\u001b[31m# for what can be done. Each action should, upon taking input, pass back a      \u001b[39;49m\r\n\u001b[A\n\u001b[31m# new action. Each action can also contain a sprite that should be killed       \u001b[39;49m\r\n\u001b[A\n\u001b[31m# after \"perform\" and modified during \"update\".                                 \u001b[39;49m\r\n\u001b[A\n\u001b[K\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m . \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m entities, widgets\u001b[K\r\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mTop L21\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\n\n\u001b[?25lBeginning of buffer\u001b[22;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u0007\u0007\n\n\u001b[?25lAuto-saving...\u001b[K\u001b[22;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\u001b[?25lBeginning of buffer\u001b[22;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u0007\n\n\u001b[K\u001b[2;3H\u001b[?25l\u001b[31mwhat the next input necessary is (such as any coord, a coord in a range of\u001b[39;49m\u001b[3;3H\u001b[31mselections, or a menu item). The session is responsible for handling input\u001b[39;49m\u001b[4;3H\u001b[31mappropriately in the context of the action. AI can also respond to actions.\u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mAction\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = \u001b[35mNone\u001b[39;49m\r\n\n    \u001b[31m# The PERFORM function takes the input (either a coord or a string) and     \u001b[39;49m\r\n    \u001b[31m# then processes it. This should only be done when the player presses       \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# enter and confirms the action. The grid should be backed up before        \u001b[39;49m\r\n    \u001b[31m# performing. This will return an instance of the new action that the       \u001b[39;49m\r\n    \u001b[31m# session should handle.                                                    \u001b[39;49m\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\r\n\u001b[K\u001b[18;5H\u001b[31m# The INFO function provides popups and other contextual information of     \u001b[39;49m\r\n\u001b[19;5H\u001b[31m# what would happen if the action was taken. This is used to help create    \u001b[39;49m\r\n    \u001b[31m# interface candy.                                                          \u001b[39;49m\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[K\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\u001b[23;29H\u001b[7m 4%\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[A\u001b[?25l    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[K\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# The BEGIN action is the first action and expects COORD. If the coord is a     \u001b[39;49m\r\n\u001b[31m# unit, we display its movement range. If the coord is a terrain that can       \u001b[39;49m\r\n\u001b[31m# produce, we begin production. If anything else, we display the GAME MENU.     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mBegin\u001b[39;49m(Action):\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\u001b[11;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[12;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_COORD\u001b[K\r\n\u001b[K\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[K\u001b[15;5H    \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = act\u001b[K\r\n\t\u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(x,y)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\u001b[18;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Move(x,y,grid)\u001b[K\u001b[19;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(t.build) > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m grid.current_team():\u001b[K\u001b[20;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Build(x,y,grid)\u001b[K\u001b[21;5H    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Main_Menu()\n\b\b\u001b[7m10% L39\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Main_Menu()\u001b[6;3H\u001b[31mMAIN MENU follows BEGIN and expects MENU.                                \u001b[39;49m\u001b[7;3H\u001b[31mThis is the menu created if the user clicks outside of the field.      \u001b[39;49m\u001b[8;3H\u001b[31mThis allows the user to end their turn, undo, moves, etc.                \u001b[39;49m\u001b[9;7H\u001b[32mMain_\u001b[39;49m\u001b[4@\u001b[32mMenu\u001b[39;49m\n\n\t\t\u001b[32m\"Close\"\u001b[39;49m,\u001b[32m\"Surrender\"\u001b[39;49m,\u001b[32m\"End Turn\"\u001b[39;49m]\u001b[12;26HMENU\u001b[K\r\n\n\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Illegal input: %s\"\u001b[39;49m%\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(act))\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Close\"\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Surrender\"\u001b[39;49m:\u001b[K\r\n\t    cur = grid.current_team()\u001b[22;13Hgrid.purge( cur )\u001b[K\n\u001b[7m5% L58\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l    cur = grid.current_team()\u001b[3;13Hgrid.purge( cur )\u001b[K\u001b[4;13Hcur.active = \u001b[35mFalse\u001b[39;49m\u001b[5;13H\u001b[33mmsg\u001b[39;49m = \u001b[32m\"%s has been defeated!\"\u001b[39;49m%(cur.name)\r\n            grid.alerts.append((widgets.Notification(msg,200,cur.color),\u001b[K\r\n                                \u001b[32m\"center\"\u001b[39;49m))\u001b[K\r\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"End Turn\"\u001b[39;49m:\u001b[10;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_END\r\n\u001b[K\n\t\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Reached end of action without return.\"\u001b[39;49m)\r\n\n\u001b[31m# BUILD follows BEGIN and expects MENU.                                         \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mBuild\u001b[39;49m(Action):\u001b[K\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, grid):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = x,y\u001b[K\r\n\ttile = grid.tile_at(x,y)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b,v \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34msorted\u001b[0m\u001b[39;49m(tile.build.items(), key=\u001b[1m\u001b[36mlambda\u001b[0m\u001b[39;49m x:x[1]):\u001b[21;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m v <= grid.current_team().cash:\u001b[22;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"%s $%d\"\u001b[39;49m%(b,v))\u001b[23;30H\u001b[7m9% L77\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m v <= grid.current_team().cash:\u001b[3;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"%s $%d\"\u001b[39;49m%(b,v))\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Cancel\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_MENU\u001b[K\r\n\u001b[K\u001b[7;5H\u001b[31m# This builds the unit and disables it. It can move on the next turn.       \u001b[39;49m\r\n\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n\t\t\b\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[10;14H\u001b[1m\u001b[36maise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Illegal input: %s\"\u001b[39;49m%\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(act))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Cancel\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\n        \u001b[33mname\u001b[39;49m,price = act.rsplit(\u001b[35mNone\u001b[39;49m,1)\u001b[K\r\n        unit = entities.Unit(name, grid.rules[\u001b[32m\"units\"\u001b[39;49m][name])\u001b[16;5H    \u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\r\n\tgrid.current_team().cash -= \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(price[1:])\r\n\tgrid.add_unit(unit,grid.current_team(),x,y)\r\n\tunit.done()\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\r\n\u001b[K\n\u001b[31m# MOVE follows BEGIN and expects COORD.                                         \u001b[39;49m\r\n\u001b[23;29H\u001b[7m23% L96\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\n\u001b[?25l\u001b[31m# MOVE follows BEGIN and expects COORD.                                         \u001b[39;49m\r\n\u001b[31m# If the selected unit is on the active team and is ready, then we permit       \u001b[39;49m\r\n\u001b[31m# it to move.                                                                   \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mMove\u001b[39;49m(Action):\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x,y,grid):\u001b[K\u001b[8;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = x,y\u001b[K\r\n\t\u001b[33munit\u001b[39;49m = grid.unit_at(x,y)\u001b[K\r\n\u001b[K\n\t\u001b[31m# Calculate movement range. TODO, calc fuel cost as well.               \u001b[39;49m\r\n\t\u001b[33mreport\u001b[39;49m = []\u001b[K\r\n\t\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m_floodfill\u001b[0m\u001b[39;49m(pos,r,top=\u001b[35mFalse\u001b[39;49m):\r\n\t    \u001b[33ma\u001b[39;49m,\u001b[33mb\u001b[39;49m = pos\u001b[K\r\n\t    \u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(a,b)\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m u.is_allied(unit)):\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m top:\u001b[K\r\n\t            \u001b[33mr\u001b[39;49m -= unit.terrain.get(t.terrain,r)\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (a,b) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m report \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.terrain \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m unit.terrain:\r\n\t            report.append((a,b))\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m r > 0:\r\n                    _floodfill((a-1,b),r)\u001b[K\u001b[23;30H\u001b[7m8% L115\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m r > 0:\r\n                    _floodfill((a-1,b),r)\u001b[K\r\n                    _floodfill((a+1,b),r)\u001b[K\r\n                    _floodfill((a,b-1),r)\u001b[K\r\n                    _floodfill((a,b+1),r)\u001b[7;5H    _floodfill((x,y),unit.move,\u001b[35mTrue\u001b[39;49m)\r\n\u001b[K\n\t\u001b[31m# Now filter the results. We have to do something more complex          \u001b[39;49m\r\n\t\u001b[31m# than a list comprehension.                                            \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (a,b) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m report:\r\n\t    \u001b[33madd\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[14;13H\u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(a,b)\u001b[15;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t: \u001b[33madd\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[16;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m unit: \u001b[33madd\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[17;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m unit.team: \u001b[33madd\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[18;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m unit.team \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit == unit.unit: add = \u001b[35mTrue\u001b[39;49m\u001b[19;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m unit.team \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m unit.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.carry: add = \u001b[35mTrue\u001b[39;49m\r\n\u001b[K\u001b[21;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m add:\u001b[K\n\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append((a,b))\u001b[23;29H\u001b[7m33% L134\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m add:\u001b[K\n\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append((a,b))\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_COORD\u001b[K\r\n\u001b[K\u001b[7;5H\u001b[31m# This performs the movement. After moving, we have to figure out if the    \u001b[39;49m\r\n\u001b[8;5H\u001b[31m# unit can do anything else.                                                \u001b[39;49m\r\n\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\r\n\u001b[K\n\t\u001b[33mox\u001b[39;49m,\u001b[33moy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = act\u001b[K\r\n\t\u001b[33mt1\u001b[39;49m,\u001b[33mu1\u001b[39;49m = grid.get_at(ox,oy)\r\n\t\u001b[33mt2\u001b[39;49m,\u001b[33mu2\u001b[39;49m = grid.get_at(x,y)\u001b[K\r\n\u001b[K\n\t\u001b[31m# We just undo whenever we try to move a unit that isn't ready and      \u001b[39;49m\r\n\t\u001b[31m# isn't ours.                                                           \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u1.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m grid.current_team() \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u1.ready:\u001b[21;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\r\n\u001b[K\u001b[23;30H\u001b[7m8% L153\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m r > 0:\r\n\t\t    _floodfill((a-1,b),r)\u001b[K\u001b[4;21H_floodfill((a+1,b),r)\r\n\t            _floodfill((a,b-1),r)\u001b[6;21H_floodfill((a,b+1),r)\u001b[7;5H    _floodfill((x,y),unit.move,\u001b[35mTrue\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[9;5H    \u001b[31m# Now filter the results. We have to do something more complex          \u001b[39;49m\r\n\t\u001b[31m# than a list comprehension.                                            \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (a,b) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m report:\r\n\t    \u001b[33madd\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t    \u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(a,b)\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t: \u001b[33madd\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m unit: \u001b[33madd\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[17;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m unit.team: \u001b[33madd\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m unit.team \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit == unit.unit: add = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m unit.team \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m unit.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.carry: add = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[21;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m add:\u001b[K\n\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append((a,b))\u001b[23;30H\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m add:\u001b[K\n\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append((a,b))\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_COORD\u001b[K\r\n\u001b[K\u001b[7;5H\u001b[31m# This performs the movement. After moving, we have to figure out if the    \u001b[39;49m\r\n\u001b[8;5H\u001b[31m# unit can do anything else.                                                \u001b[39;49m\r\n\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\r\n\u001b[K\n\t\u001b[33mox\u001b[39;49m,\u001b[33moy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = act\u001b[K\r\n\t\u001b[33mt1\u001b[39;49m,\u001b[33mu1\u001b[39;49m = grid.get_at(ox,oy)\r\n\t\u001b[33mt2\u001b[39;49m,\u001b[33mu2\u001b[39;49m = grid.get_at(x,y)\u001b[K\r\n\u001b[K\n\t\u001b[31m# We just undo whenever we try to move a unit that isn't ready and      \u001b[39;49m\r\n\t\u001b[31m# isn't ours.                                                           \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u1.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m grid.current_team() \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u1.ready:\u001b[21;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\r\n\u001b[K\u001b[23;30H\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m r > 0:\r\n\t\t    _floodfill((a-1,b),r)\u001b[K\u001b[4;21H_floodfill((a+1,b),r)\r\n\t            _floodfill((a,b-1),r)\u001b[6;21H_floodfill((a,b+1),r)\u001b[7;5H    _floodfill((x,y),unit.move,\u001b[35mTrue\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[9;5H    \u001b[31m# Now filter the results. We have to do something more complex          \u001b[39;49m\r\n\t\u001b[31m# than a list comprehension.                                            \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (a,b) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m report:\r\n\t    \u001b[33madd\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t    \u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(a,b)\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t: \u001b[33madd\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m unit: \u001b[33madd\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[17;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m unit.team: \u001b[33madd\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m unit.team \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit == unit.unit: add = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m unit.team \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m unit.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.carry: add = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[21;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m add:\u001b[K\n\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append((a,b))\u001b[23;30H\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m add:\u001b[K\n\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append((a,b))\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_COORD\u001b[K\r\n\u001b[K\u001b[7;5H\u001b[31m# This performs the movement. After moving, we have to figure out if the    \u001b[39;49m\r\n\u001b[8;5H\u001b[31m# unit can do anything else.                                                \u001b[39;49m\r\n\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\r\n\u001b[K\n\t\u001b[33mox\u001b[39;49m,\u001b[33moy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = act\u001b[K\r\n\t\u001b[33mt1\u001b[39;49m,\u001b[33mu1\u001b[39;49m = grid.get_at(ox,oy)\r\n\t\u001b[33mt2\u001b[39;49m,\u001b[33mu2\u001b[39;49m = grid.get_at(x,y)\u001b[K\r\n\u001b[K\n\t\u001b[31m# We just undo whenever we try to move a unit that isn't ready and      \u001b[39;49m\r\n\t\u001b[31m# isn't ours.                                                           \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u1.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m grid.current_team() \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u1.ready:\u001b[21;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\r\n\u001b[K\u001b[23;30H\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\r\n\u001b[K\n\t\u001b[31m# Before moving, we check to see if the tile is occupied. If it         \u001b[39;49m\r\n\t\u001b[31m# is, we allow movement if the landing unit can either carry the        \u001b[39;49m\r\n\t\u001b[31m# mover or the mover and landing unit can be joined.                    \u001b[39;49m\r\n\u001b[7;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u2 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u2.unit == u1.unit \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u1 \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u2):\u001b[K\u001b[8;5H        grid.remove_unit(u1)\u001b[K\u001b[9;5H        \u001b[33mu2.hp\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(u1.hp+u2.hp,100)\r\n\t    \u001b[33mu2.fuel\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(u1.fuel+u2.fuel,u2.max_fuel)\u001b[11;13H\u001b[33mu2.ammo\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(u1.ammo+u2.ammo,u2.max_ammo)\u001b[12;13Hu2.done()\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u2 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u2.capacity > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u1.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u2.carry \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m\r\n\t   \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(u2.carrying) < u2.capacity \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u1 \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u2):\r\n\t    grid.load_unit(u1,u2)\u001b[17;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\r\n\u001b[K\n\tgrid.move_unit(u1,x,y)\u001b[K\r\n\t\u001b[33mt1.hp\u001b[39;49m = 100\u001b[K\r\n\t\u001b[33mmoved\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (ox,oy) != (x,y):\n\u001b[7m42% L172\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m80\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[14;1H\u001b[1L\u001b[1;24r\u001b[13;1H\u001b[K\n\u001b[?25l            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\u001b[23;36H\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lMark set\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[15;1H\u001b[3L\u001b[1;24r\u001b[13;13H\u001b[?25l\u001b[33mw1\u001b[39;49m = widgets.Counter(start_dhp,def_u.hp,0,\u001b[14;13H                     t1+t2+100,def_u.team.color)\r\n            grid.alerts.append((w1,\u001b[32m\"ul\"\u001b[39;49m))\u001b[K\r\n\u001b[K\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\u001b[23;36H\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;22H\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m79\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[1;22r\u001b[17;1H\u001b[1L\u001b[1;24r\u001b[9;1H\u001b[K\n\t\t\b\u001b[?25l\u001b[33mhp\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(u1.hp+u2.hp,100)\u001b[K\r\n\t\t\b\u001b[33mfuel\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(u1.fuel+u2.fuel,u2.max_fuel\u001b[12;13H\u001b[33mu2.ammo\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(u1.ammo+u2.ammo,u2.max_ammo)\u001b[13;13Hu2.done()\u001b[K\u001b[14;13H\u001b[33mw1\u001b[39;49m = widgets.Counter(start_dhp,def_u.hp,0,\u001b[K\u001b[15;13H                     t1+t2+100,def_u.team.color)\u001b[16;13Hgrid.alerts.append((w1,\u001b[32m\"ul\"\u001b[39;49m))\r\n\u001b[K\u001b[23;36H\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[9;13H\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\b\b\b\b\u001b[?25l\u001b[33mstart\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[10;13Hu2.hp\u001b[A\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[11;13H\u001b[?25lu2.fuel\u001b[12;13Hu2.ammo\u001b[14;13Hw1\u001b[9;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l1\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l2\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\u001b[10;13H\u001b[33mu2.hp\u001b[39;49m\u001b[A\t\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[9;37H\u001b[11;13H\u001b[?25l\u001b[33mu2.fuel\u001b[39;49m\u001b[12;13H\u001b[33mu2.ammo\u001b[39;49m\u001b[14;13H\u001b[33mw1\u001b[39;49m\u001b[9;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m80\u001b[0m\u001b[39;49m\u001b[27m\u001b[10d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[12d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[14d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_u.hp,0,\u001b[K\u001b[14;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu.hp,0,\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.hp,0,\u001b[K\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu.hp,0,\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l2.hp,0,\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@u\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@2\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@h\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@p\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@-\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@s\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@t\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[34mst\u001b[0m\u001b[39;49m\u001b[1@\u001b[1m\u001b[34mr\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25lst\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@a\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@r\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\t\b\t\u001b[C\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[15;50H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[15;50H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;50H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.......................\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[32m\u001b[40m............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[32m\u001b[40m...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....................\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.....\u001b[31m\u001b[40m+----------------+\r\u001b[11d\u001b[32m\u001b[40m...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[31m\u001b[40m|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\r\u001b[12d\u001b[32m\u001b[40m......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[31m\u001b[40m|Ramen, move out!|\r\u001b[13d\u001b[32m\u001b[40m.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[31m\u001b[40m+----------------+\r\u001b[14d\u001b[32m\u001b[40m......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[13;40H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[32m\u001b[40m.\u001b[14;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[C+--------------+\u001b[15;9H|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mInfantry $1000\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[16;9H|APC $3000     |\u001b[17;9H|Cancel\u001b[17;24H|\u001b[18;9H+--------------+\u001b[15d\b\b\u001b[14;14H\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;22H\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[11;22H\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[12;22H\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[13;22H\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\r\u001b[16d\u001b[J\u001b[14;8H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.........\u001b[15;9H................\u001b[14;8H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;1m\u001b[30m\u001b[40mi\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[C+---------+\u001b[15;10H|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[16;10H|Surrender|\u001b[17;10H|End Turn |\u001b[18;10H+---------+\u001b[15d\b\b\u001b[15;11HClose    \u001b[17;11H\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[A\u001b[J\u001b[14;8H\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[15;10H...........\u001b[14;9H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;22H\u001b[34m\u001b[40m+-----------------+\u001b[11;22H|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m    \u001b[34m\u001b[40m|\u001b[12;22H|Ishara, move out!|\u001b[13;22H+-----------------+\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;9H\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;41H\u001b[14;8H\u001b[6d\u001b(B\u001b[0;7m\u001b[31m\u001b[40m.\u001b[7d\b\b...\u001b[8;6H.....\u001b[9;5H.......\u001b[10;4H.........\u001b[11;3H...........\u001b[12;2H.....##.#....\r\u001b[13d...............\r\u001b[14d......!\u001b[39;49m\u001b[37m\u001b[40mi\u001b[31m\u001b[40m.....i$.\r\u001b[15d...............\u001b[13;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;8H\u001b(B\u001b[0;7m\u001b[31m\u001b[40mi\u001b[39;49m\u001b[37m\u001b[40m.\u001b[13;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;9H\u001b[6d\b\u001b[32m\u001b[40m.\u001b[7d\b\b...\u001b[8;6H.....\u001b[9;5H.......\u001b[10;4H.........\u001b[11;3H...........\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m....\r\u001b[13d...............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!i\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.\r\u001b[15d...............\u001b[13;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;9H\u001b[13;41H\u001b[14;9H\u001b[C+---------+\u001b[15;10H|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[16;10H|Surrender|\u001b[17;10H|End Turn |\u001b[18;10H+---------+\u001b[15d\b\b\u001b[15;11HClose    \u001b[17;11H\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[A\u001b[J\u001b[14;10H\u001b[32m\u001b[40m....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[15;10H...........\u001b[13;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;22H\u001b[31m\u001b[40m+----------------+\u001b[11;22H|Day 2 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\u001b[12;22H|Ramen, move out!|\u001b[13;22H+----------------+\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;9H\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;40H\u001b[6;8H\u001b(B\u001b[0;7m\u001b[31m\u001b[40m.\u001b[7d\b\b...\u001b[8;6H.....\u001b[9;5H.......\u001b[10;4H.........\u001b[11;3H...........\u001b[12;2H.....##.#....\r\u001b[13d...............\r\u001b[14d......!\u001b[39;49m\u001b[37m\u001b[40mi\u001b[31m\u001b[40m.....i$.\r\u001b[15d...............\u001b[13;40H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;8H\u001b(B\u001b[0;7m\u001b[31m\u001b[40mi\u001b[39;49m\u001b[37m\u001b[40m.\u001b[13;40H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;9H\u001b(B\u001b[0;7m\u001b[31m\u001b[40m.\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;40H \u001b[11d\b \u001b[12d\b \u001b[13d\b \b\u001b[14;10H\u001b(B\u001b[0;7m\u001b[31m\u001b[40m.\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;8H\u001b[32m\u001b[40m.\u001b[7d\b\b...\u001b[8;6H.....\u001b[9;5H.......\u001b[10;4H.........\u001b[11;3H...........\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m....\r\u001b[13d...............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!i\u001b(B\u001b[0m\u001b[32m\u001b[40m..\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m..\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.\r\u001b[15d...............\u001b[13;40H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;11H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\b\b\u001b(B\u001b[0;1m\u001b[31m\u001b[40m$\u001b(B\u001b[0m\u001b[32m\u001b[40m...\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+------+\u001b[15;13H|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mWait  \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[16;13H|Cancel|\u001b[17;13H+------+\u001b[15d\b\b\u001b[6;8H\u001b(B\u001b[0;7m\u001b[31m\u001b[40m.\u001b[7d\b\b...\u001b[8;6H.....\u001b[9;5H.......\u001b[10;4H.........\u001b[11;3H...........\u001b[12;2H.....##.#....\r\u001b[13d...............\r\u001b[14d......!$...\r\u001b[15d............\u001b[19G\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;8H\u001b[32m\u001b[40m.\u001b[7d\b\b...\u001b[8;6H.....\u001b[9;5H.......\u001b[10;4H.........\u001b[11;3H...........\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m....\r\u001b[13d...............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m...\r\u001b[15d............\u001b[19G\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[16d\u001b[J\u001b[14;13H\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[15;13H........\u001b[13;40H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;12H\u001b(B\u001b[0;1m\u001b[30m\u001b[40mi\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[13;40H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;13H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;14H\u001b(B\u001b[0;7m\u001b[31m\u001b[40m.\u001b[7d\b\b...\u001b[8;12H....^\u001b[9;11H.....^.\u001b[10;10H......^..\u001b[11;9H.......#...\u001b[12;8H#.#..........\u001b[13;7H...........#...\u001b[14;6H.!$...i.\u001b[39;49m\u001b[37m\u001b[40mi\u001b[31m\u001b[40m$.......\u001b[15;7H...............\u001b[13;40H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;22H\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[11;22H\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[12;22H\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[13;22H\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[14;13H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[31m\u001b[40mi\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b[31m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 81, in run\r\n    res = self.game.handle_input(c)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/session.py\", line 142, in handle_input\r\n    result = self.action.perform(self.cursor, self.grid)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/rules.py\", line 185, in perform\r\n    u2.hp-start+100,u.team.color)\r\nNameError: global name 'u' is not defined\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\u001b[K\n        \u001b[31m# Before moving, we check to see if the tile is occupied. If it         \u001b[39;49m\r\n\u001b[A\n        \u001b[31m# is, we allow movement if the landing unit can either carry the        \u001b[39;49m\r\n\u001b[A\n        \u001b[31m# mover or the mover and landing unit can be joined.                    \u001b[39;49m\r\n\u001b[A\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u2 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u2.unit == u1.unit \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u1 \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u2):\u001b[K\r\n            grid.remove_unit(u1)\u001b[K\r\n            \u001b[33mstart\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(u1.hp,u2.hp)\u001b[K\r\n            \u001b[33mu2.hp\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(u1.hp+u2.hp,100)\u001b[K\r\n            \u001b[33mu2.fuel\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(u1.fuel+u2.fuel,u2.max_fuel)\u001b[K\r\n            \u001b[33mu2.ammo\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(u1.ammo+u2.ammo,u2.max_ammo)\u001b[K\r\n            u2.done()\u001b[K\r\n            \u001b[33mw1\u001b[39;49m = widgets.Counter(start,u2.hp,0,\u001b[K\r\n                                 u2.hp-start+100,u.team.color)\u001b[K\r\n            grid.alerts.append((w1,\u001b[32m\"ul\"\u001b[39;49m))\u001b[K\r\n\u001b[K\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u2 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u2.capacity > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u1.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u2.carry \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m\u001b[K\r\n           \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(u2.carrying) < u2.capacity \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u1 \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u2):\u001b[K\r\n            grid.load_unit(u1,u2)\u001b[K\r\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   42% L185  Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[15;50H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[1@2\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[15;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[15;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.......................\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[32m\u001b[40m............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[32m\u001b[40m...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....................\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.....\u001b[31m\u001b[40m+----------------+\r\u001b[11d\u001b[32m\u001b[40m...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[31m\u001b[40m|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\r\u001b[12d\u001b[32m\u001b[40m......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[31m\u001b[40m|Ramen, move out!|\r\u001b[13d\u001b[32m\u001b[40m.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[31m\u001b[40m+----------------+\r\u001b[14d\u001b[32m\u001b[40m......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[13;40H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[32m\u001b[40m.\u001b[14;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;14H\u001b(B\u001b[0;7m\u001b[31m\u001b[40m.\u001b[7d\b\b...\u001b[8;12H....^\u001b[9;11H.....^.\u001b[10;10H......^..\u001b[11;9H.......#...\u001b[12;8H#.#..........\u001b[13;7H...........#...\u001b[14;6H.!$.....\u001b[39;49m\u001b[37m\u001b[40mi\u001b[31m\u001b[40m$.......\u001b[15;7H...............\u001b[13;40H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;13H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[31m\u001b[40mi\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[31m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[31m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[31m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;14H\u001b[32m\u001b[40m.\u001b[7d\b\b...\u001b[8;12H....\u001b[33m\u001b[40m^\u001b[9;11H\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[11;9H.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[12;8H\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b[13;7H...........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[14;6H.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m...\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.......\u001b[15;7H...............\u001b[13;40H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;10H\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;14H\u001b(B\u001b[0;7m\u001b[31m\u001b[40m.\u001b[7d\b\b...\u001b[8;12H....^\u001b[9;11H.....^.\u001b[10;10H......^..\u001b[11;9H.......#...\u001b[12;8H#.#..........\u001b[13;7H...........#...\u001b[14;6H.!$\u001b[39;49m\u001b[37m\u001b[40m.\u001b[31m\u001b[40m....i$.......\u001b[15;7H...............\u001b[13;40H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;9H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+------+\u001b[15;10H|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mWait  \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[16;10H|Cancel|\u001b[17;10H+------+\u001b[15d\b\b\u001b[6;14H\u001b[32m\u001b[40m.\u001b[7d\b\b...\u001b[8;12H....\u001b[33m\u001b[40m^\u001b[9;11H\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.\u001b[10;10H......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b[11;9H.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[12;8H\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b[13;7H...........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[14;6H.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b[14;18H\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b[15;7H...\u001b[15;18H....\u001b[16G\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;19H\r\u001b[16d\u001b[J\u001b[10;22H\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[11;22H\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[12;22H\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[13;22H\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[14;10H\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m..\u001b[15;10H........\u001b[14;9H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m$\u001b(B\u001b[0;1m\u001b[30m\u001b[40mi\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[C+--------------+\u001b[15;9H|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mInfantry $1000\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[16;9H|APC $3000     |\u001b[17;9H|Cancel\u001b[17;24H|\u001b[18;9H+--------------+\u001b[15d\b\b\r\u001b[16d\u001b[J\u001b[14;8H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b(B\u001b[0;1m\u001b[30m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.........\u001b[15;9H................\u001b[14;8H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[14d\b\u001b(B\u001b[0;1m\u001b[30m\u001b[40mi\u001b[A\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[C+---------+\u001b[14;9H|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[15;9H|Surrender|\u001b[16;9H|End Turn |\u001b[17;9H+---------+\u001b[14d\b\b\u001b[14;10HClose    \u001b[16;10H\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[J\u001b[13;9H\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b[14;8H\u001b(B\u001b[0;1m\u001b[31m\u001b[40mii\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m....\u001b[15;9H...........\u001b[13;8H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;22H\u001b[34m\u001b[40m+-----------------+\u001b[11;22H|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m    \u001b[34m\u001b[40m|\u001b[12;22H|Ishara, move out!|\u001b[13;22H+-----------------+\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[8G\u001b[C+---------+\u001b[14;9H|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[15;9H|Surrender|\u001b[16;9H|End Turn |\u001b[17;9H+---------+\u001b[14d\b\b\u001b[14;10HClose    \u001b[16;10H\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[J\u001b[13;9H\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b[14;9H\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m....\u001b[15;9H...........\u001b[13;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;22H\u001b[31m\u001b[40m+----------------+\u001b[11;22H|Day 2 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\u001b[12;22H|Ramen, move out!|\u001b[13;22H+----------------+\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[8G\u001b[32m\u001b[40m.\u001b[14d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6d\u001b(B\u001b[0;7m\u001b[31m\u001b[40m.\u001b[7d\b\b...\u001b[8;6H.....\u001b[9;5H.......\u001b[10;4H.........\u001b[11;3H...........\u001b[12;2H.....##.#....\r\u001b[13d...............\r\u001b[14d......!\u001b[39;49m\u001b[37m\u001b[40mi\u001b[31m\u001b[40mi.....$.\r\u001b[15d...............\u001b[13;40H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;8H\u001b(B\u001b[0;7m\u001b[31m\u001b[40mi\u001b[39;49m\u001b[37m\u001b[40mi\u001b[13;40H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;9H\u001b[6d\b\u001b[32m\u001b[40m.\u001b[7d\b\b...\u001b[8;6H.....\u001b[9;5H.......\u001b[10;4H.........\u001b[11;3H...........\r\u001b[12d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m....\r\u001b[13d...............\r\u001b[14d......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.\r\u001b[15d...............\u001b[13;40H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;3H\u001b[31m\u001b[40m+----+\u001b[12;3H|100%|\u001b[13;3H+----+\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14d\u001b[A\u001b[14d\u001b(B\u001b[0;1m\u001b[30m\u001b[40mi\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\b\b\u001b[14;11H\u001b[A\b\b\u001b[14;11H\u001b[10;40H \u001b[11d\b \u001b[12d\b \u001b[13d\b \b\u001b[14;11H\u001b[A\b\b\u001b[14;11H\u001b[10;22H\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[11;22H\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[12;22H\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[13;22H\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[14;11H\u001b[A\b\b\u001b[14;11H\u001b[11;3H\u001b[32m\u001b[40m......\u001b[12;3H....\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b[13;3H\u001b(B\u001b[0m\u001b[32m\u001b[40m......\u001b[14;11H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 95, in run\r\n    gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 88, in refresh\r\n    if gfx: return gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 105, in refresh\r\n    curses.napms(20)\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\u001b[K\n        \u001b[31m# Before moving, we check to see if the tile is occupied. If it         \u001b[39;49m\r\n\u001b[A\n        \u001b[31m# is, we allow movement if the landing unit can either carry the        \u001b[39;49m\r\n\u001b[A\n        \u001b[31m# mover or the mover and landing unit can be joined.                    \u001b[39;49m\r\n\u001b[A\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u2 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u2.unit == u1.unit \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u1 \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u2):\u001b[K\r\n            grid.remove_unit(u1)\u001b[K\r\n            \u001b[33mstart\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(u1.hp,u2.hp)\u001b[K\r\n            \u001b[33mu2.hp\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(u1.hp+u2.hp,100)\u001b[K\r\n            \u001b[33mu2.fuel\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(u1.fuel+u2.fuel,u2.max_fuel)\u001b[K\r\n            \u001b[33mu2.ammo\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(u1.ammo+u2.ammo,u2.max_ammo)\u001b[K\r\n            u2.done()\u001b[K\r\n            \u001b[33mw1\u001b[39;49m = widgets.Counter(start,u2.hp,0,\u001b[K\r\n                                 u2.hp-start+100,u2.team.color)\u001b[K\r\n            grid.alerts.append((w1,\u001b[32m\"ul\"\u001b[39;49m))\u001b[K\r\n\u001b[K\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u2 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u2.capacity > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u1.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u2.carry \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m\u001b[K\r\n           \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(u2.carrying) < u2.capacity \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u1 \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u2):\u001b[K\r\n            grid.load_unit(u1,u2)\u001b[K\r\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   42% L185  Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[15;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[15;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ git add .\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ git commi t-\b\u001b[K\b\u001b[K\b\u001b[Kt -ma\b\u001b[K\b\u001b[Kam\r\nerror: switch `m' requires a value\r\nusage: git commit [options] [--] <pathspec>...\r\n\r\n    -q, --quiet           suppress summary after successful commit\r\n    -v, --verbose         show diff in commit message template\r\n\r\nCommit message options\r\n    -F, --file <file>     read message from file\r\n    --author <author>     override author for commit\r\n    --date <date>         override date for commit\r\n    -m, --message <message>\r\n                          commit message\r\n    -c, --reedit-message <commit>\r\n                          reuse and edit message from specified commit\r\n    -C, --reuse-message <commit>\r\n                          reuse message from specified commit\r\n    --fixup <commit>      use autosquash formatted message to fixup specified commit\r\n    --squash <commit>     use autosquash formatted message to squash specified commit\r\n    --reset-author        the commit is authored by me now (used with -C/-c/--amend)\r\n    -s, --signoff         add Signed-off-by:\r\n    -t, --template <file>\r\n                          use specified template file\r\n    -e, --edit            force edit of commit\r\n    --cleanup <default>   how to strip spaces and #comments from message\r\n    --status              include status in commit message template\r\n    -S, --gpg-sign[=<key id>]\r\n                          GPG sign commit\r\n\r\nCommit contents options\r\n    -a, --all             commit all changed files\r\n    -i, --include         add specified files to index for commit\r\n    --interactive         interactively add files\r\n    -p, --patch           interactively add changes\r\n    -o, --only            commit only specified files\r\n    -n, --no-verify       bypass pre-commit hook\r\n    --dry-run             show what would be committed\r\n    --short               show status concisely\r\n    --branch              show branch information\r\n    --porcelain           machine-readable output\r\n    --long                show status in long format (default)\r\n    -z, --null            terminate entries with NUL\r\n    --amend               amend previous commit\r\n    --no-post-rewrite     bypass post-rewrite hook\r\n    -u, --untracked-files[=<mode>]\r\n                          show untracked files, optional modes: all, normal, no. (Default: all)\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ git commit -am\b\u001b[K\r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?12l\u001b[?25h\u001b[?1h\u001b=\u001b[?1h\u001b=\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b(B\u001b[m\u001b[H\u001b[2J\u001b(B\u001b[0;7m  GNU nano 2.2.6           File: .git/COMMIT_EDITMSG                            \u001b[4;1H\u001b(B\u001b[m# Please enter the commit message for your changes. Lines starting\r\u001b[5d# with '#' will be ignored, and an empty message aborts the commit.\r\u001b[6d# On branch master\r\u001b[7d# Changes to be committed:\r\u001b[8d#   (use \"git reset HEAD <file>...\" to unstage)\r\u001b[9d#\u001b[10d\b#\u001b[9Gmodified:   code/core/grid.py\r\u001b[11d#\u001b[9Gmodified:   code/core/rules.py\r\u001b[12d#\u001b[9Gmodified:   code/core/session.py\r\u001b[13d#\u001b[9Gmodified:   code/core/widgets.py\r\u001b[14d#\u001b[9Gmodified:   code/graphics/draw.py\r\u001b[15d#\u001b[9Gmodified:   code/graphics/sprites.py\r\u001b[16d#\u001b[22;32H\u001b(B\u001b[0;7m[ Read 14 lines ]\r\u001b[23d^G\u001b(B\u001b[m Get Help  \u001b(B\u001b[0;7m^O\u001b(B\u001b[m WriteOut  \u001b(B\u001b[0;7m^R\u001b(B\u001b[m Read File \u001b(B\u001b[0;7m^Y\u001b(B\u001b[m Prev Page \u001b(B\u001b[0;7m^K\u001b(B\u001b[m Cut Text  \u001b(B\u001b[0;7m^C\u001b(B\u001b[m Cur Pos\r\u001b[24d\u001b(B\u001b[0;7m^X\u001b(B\u001b[m Exit\u001b[14G\u001b(B\u001b[0;7m^J\u001b(B\u001b[m Justify   \u001b(B\u001b[0;7m^W\u001b(B\u001b[m Where Is  \u001b(B\u001b[0;7m^V\u001b(B\u001b[m Next Page \u001b(B\u001b[0;7m^U\u001b(B\u001b[m UnCut Text\u001b(B\u001b[0;7m^T\u001b(B\u001b[m To Spell\r\u001b[3d\u001b[2;21r\u001b[2;1H\u001bM\u001b[1;24r\u001b[1;71H\u001b(B\u001b[0;7mModified\r\u001b[4d\u001b(B\u001b[m\u001b[AAdded pop\b \b\b \bn\b \b\b \bo\b \bnotific\r\u001b[22d\u001b[K\u001b[3;14Hations\u001b7\u001b[4;22r\u001b8\r\u001b[4d\u001bM\u001b[1;24r\u001b[4;1H * Notifications are returned by the info metn\b \bhod of the grid\u001b7\u001b[5;22r\u001b8\r\u001b[5d\u001bM\u001b[1;24r\u001b[5;1H * They come with string lcoatio\b \b\b \b\b \b\b \b\b \b\b \bocations\b \b hints (center, top\b \b\b \b\b \bup-left, etc)\u001b7\u001b[6;22r\u001b8\r\u001b[6d\u001bM\u001b[1;24r\u001b[6;1H * Notification sprites are drawn in the grid\u001b7\u001b[7;22r\u001b8\r\u001b[7d\u001bM\u001b[1;24r\u001b[7;1H * TODO: prevent notificationsf rom\b \b\b \b\b \b\b\b \b from running off the grid\u001b7\u001b[8;21r\u001b8\r\u001b[8d\u001bM\u001b[1;24r\u001b[8;1H * \u001b[A\u001b[A\u001b[6;46H's sprite list\u001b[7;57H\u001b[8;4HBUG? \b: Sister sprites in container r\b \bare overwritten.\b \b?\u001b[Arid\u001b[Aist\u001b7\u001b[7;21r\u001b8\r\u001b[7d\u001bM\u001b[1;24r\u001b[7;1H * Can now scroll in the map\r\u001b[22d\u001b(B\u001b[0;7mSave modified buffer (ANSWERING \"No\" WILL DESTROY CHANGES) ?                    \u001b[23;1H Y\u001b(B\u001b[m Yes\u001b[K\r\u001b[24d\u001b(B\u001b[0;7m N\u001b(B\u001b[m No  \u001b[14G   \u001b(B\u001b[0;7m^C\u001b(B\u001b[m Cancel\u001b[K\u001b[22;62H\r\u001b(B\u001b[0;7mFile Name to Write: .git/COMMIT_EDITMSG                     \r\u001b[23d^G\u001b(B\u001b[m Get Help\u001b[23;21H\u001b(B\u001b[0;7mM-D\u001b(B\u001b[m DOS Format\u001b[41G\u001b(B\u001b[0;7mM-A\u001b(B\u001b[m Append\u001b[23;61H\u001b(B\u001b[0;7mM-B\u001b(B\u001b[m Backup File\r\u001b[24d\u001b(B\u001b[0;7m^C\u001b(B\u001b[m Cancel\u001b[17G    \u001b(B\u001b[0;7mM-M\u001b(B\u001b[m Mac Format\u001b[41G\u001b(B\u001b[0;7mM-P\u001b(B\u001b[m Prepend\u001b[22;40H\r\u001b[23d\u001b[39;49m\u001b(B\u001b[m\u001b[J\u001b[1;71H\u001b(B\u001b[0;7m        \u001b[22;31H\u001b(B\u001b[m\u001b[1K \u001b(B\u001b[0;7m[ Wrote 21 lines ]\u001b(B\u001b[m\u001b[K\u001b[24;80H\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>[master c2afd2b] Added notifications  * Notifications are returned by the info method of the grid  * They come with string location hints (center, up-left, etc)  * Notification sprites are drawn in the grid's sprite list  * Can now scroll in the map  * TODO: prevent notifications from running off the grid  * BUG?: Sister sprites in container are overwritten?\r\n 6 files changed, 167 insertions(+), 33 deletions(-)\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ gt \b\u001b[Ki\b\u001b[K\b\u001b[Kit push\r\nCounting objects: 21, done.\r\nDelta compression using up to 2 threads.\r\nCompressing objects:   9% (1/11)   \rCompressing objects:  18% (2/11)   \rCompressing objects:  27% (3/11)   \rCompressing objects:  36% (4/11)   \rCompressing objects:  45% (5/11)   \rCompressing objects:  54% (6/11)   \rCompressing objects:  63% (7/11)   \rCompressing objects:  72% (8/11)   \rCompressing objects:  81% (9/11)   \rCompressing objects:  90% (10/11)   \rCompressing objects: 100% (11/11)   \rCompressing objects: 100% (11/11), done.\r\nWriting objects:   9% (1/11)   \rWriting objects:  18% (2/11)   \rWriting objects:  27% (3/11)   \rWriting objects:  36% (4/11)   \rWriting objects:  45% (5/11)   \rWriting objects:  54% (6/11)   \rWriting objects:  63% (7/11)   \rWriting objects:  72% (8/11)   \rWriting objects:  81% (9/11)   \rWriting objects:  90% (10/11)   \rWriting objects: 100% (11/11)   \rWriting objects: 100% (11/11), 3.68 KiB | 0 bytes/s, done.\r\nTotal 11 (delta 8), reused 0 (delta 0)\r\nTo git@github.com:isharacomix/rules-of-war.git\r\n   b7af3e0..c2afd2b  master -> master\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ git push\b\b\b\bcommit -am\b\b\b\b\b\b\b\b\b\b\u001b[5Padd .\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\u001b[K\n        \u001b[31m# Before moving, we check to see if the tile is occupied. If it         \u001b[39;49m\r\n\u001b[A\n        \u001b[31m# is, we allow movement if the landing unit can either carry the        \u001b[39;49m\r\n\u001b[A\n        \u001b[31m# mover or the mover and landing unit can be joined.                    \u001b[39;49m\r\n\u001b[A\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u2 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u2.unit == u1.unit \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u1 \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u2):\u001b[K\r\n            grid.remove_unit(u1)\u001b[K\r\n            \u001b[33mstart\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(u1.hp,u2.hp)\u001b[K\r\n            \u001b[33mu2.hp\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(u1.hp+u2.hp,100)\u001b[K\r\n            \u001b[33mu2.fuel\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(u1.fuel+u2.fuel,u2.max_fuel)\u001b[K\r\n            \u001b[33mu2.ammo\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(u1.ammo+u2.ammo,u2.max_ammo)\u001b[K\r\n            u2.done()\u001b[K\r\n            \u001b[33mw1\u001b[39;49m = widgets.Counter(start,u2.hp,0,\u001b[K\r\n                                 u2.hp-start+100,u2.team.color)\u001b[K\r\n            grid.alerts.append((w1,\u001b[32m\"ul\"\u001b[39;49m))\u001b[K\r\n\u001b[K\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (u2 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u2.capacity > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u1.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u2.carry \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m\u001b[K\r\n           \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(u2.carrying) < u2.capacity \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u1 \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u2):\u001b[K\r\n            grid.load_unit(u1,u2)\u001b[K\r\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   42% L185  Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[15;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default session.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lsession.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\r\u001b[?25lQuit\u001b[K\u001b[1;33H\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[15;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m add:\u001b[K\n\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append((a,b))\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_COORD\u001b[K\r\n\u001b[K\u001b[7;5H\u001b[31m# This performs the movement. After moving, we have to figure out if the    \u001b[39;49m\r\n\u001b[8;5H\u001b[31m# unit can do anything else.                                                \u001b[39;49m\r\n\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[11;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\u001b[K\n\t\u001b[33mox\u001b[39;49m,\u001b[33moy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = act\u001b[K\r\n\t\u001b[33mt1\u001b[39;49m,\u001b[33mu1\u001b[39;49m = grid.get_at(ox,oy)\u001b[K\r\n\t\u001b[33mt2\u001b[39;49m,\u001b[33mu2\u001b[39;49m = grid.get_at(x,y)\u001b[K\r\n\n\t\u001b[31m# We just undo whenever we try to move a unit that isn't ready and      \u001b[39;49m\r\n\t\u001b[31m# isn't ours.                                                           \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u1.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m grid.current_team() \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u1.ready:\u001b[21;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\u001b[K\u001b[23;29H\u001b[7m38% L173\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m r > 0:\r\n\t\t    _floodfill((a-1,b),r)\u001b[K\u001b[4;21H_floodfill((a+1,b),r)\r\n\t            _floodfill((a,b-1),r)\u001b[6;21H_floodfill((a,b+1),r)\u001b[7;5H    _floodfill((x,y),unit.move,\u001b[35mTrue\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[9;5H    \u001b[31m# Now filter the results. We have to do something more complex          \u001b[39;49m\r\n\t\u001b[31m# than a list comprehension.                                            \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (a,b) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m report:\r\n\t    \u001b[33madd\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t    \u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(a,b)\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t: \u001b[33madd\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m unit: \u001b[33madd\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[17;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m unit.team: \u001b[33madd\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m unit.team \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.unit == unit.unit: add = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m unit.team \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m unit.unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.carry: add = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[21;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m add:\u001b[K\n\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append((a,b))\u001b[23;30H\u001b[7m2% L154\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\n\u001b[?25l\u001b[31m# MOVE follows BEGIN and expects COORD.                                         \u001b[39;49m\r\n\u001b[31m# If the selected unit is on the active team and is ready, then we permit       \u001b[39;49m\r\n\u001b[31m# it to move.                                                                   \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mMove\u001b[39;49m(Action):\u001b[K\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x,y,grid):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = x,y\r\n\t\u001b[33munit\u001b[39;49m = grid.unit_at(x,y)\u001b[K\r\n\u001b[K\n\t\u001b[31m# Calculate movement range. TODO, calc fuel cost as well.               \u001b[39;49m\r\n\t\u001b[33mreport\u001b[39;49m = []\u001b[K\r\n\t\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m_floodfill\u001b[0m\u001b[39;49m(pos,r,top=\u001b[35mFalse\u001b[39;49m):\u001b[14;13H\u001b[33ma\u001b[39;49m,\u001b[33mb\u001b[39;49m = pos\u001b[K\u001b[15;13H\u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(a,b)\u001b[16;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m u.is_allied(unit)):\u001b[17;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m top:\u001b[K\u001b[18;13H        \u001b[33mr\u001b[39;49m -= unit.terrain.get(t.terrain,r)\u001b[K\u001b[19;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (a,b) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m report \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.terrain \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m unit.terrain:\u001b[K\u001b[20;21Hreport.append((a,b))\u001b[21;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m r > 0:\r\n\t\t    _floodfill((a-1,b),r)\u001b[K\u001b[23;29H\u001b[7m28% L135\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m v <= grid.current_team().cash:\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"%s $%d\"\u001b[39;49m%(b,v))\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Cancel\"\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_MENU\u001b[K\r\n\u001b[K\u001b[7;5H\u001b[31m# This builds the unit and disables it. It can move on the next turn.       \u001b[39;49m\r\n\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[10;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Illegal input: %s\"\u001b[39;49m%\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(act))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Cancel\"\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\r\n\u001b[K\n\t\u001b[33mname\u001b[39;49m,price = act.rsplit(\u001b[35mNone\u001b[39;49m,1)\r\n\tunit = entities.Unit(name, grid.rules[\u001b[32m\"units\"\u001b[39;49m][name])\r\n\t\u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start\u001b[K\r\n\tgrid.current_team().cash -= \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(price[1:])\r\n\tgrid.add_unit(unit,grid.current_team(),x,y)\u001b[K\r\n\tunit.done()\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\r\n\u001b[K\n\u001b[31m# MOVE follows BEGIN and expects COORD.                                         \u001b[39;49m\r\n\u001b[23;30H\u001b[7m3% L116\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25lcur = grid.current_team()\u001b[K\u001b[3;13Hgrid.purge( cur )\u001b[K\r\n\t    cur.active = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t    \u001b[33mmsg\u001b[39;49m = \u001b[32m\"%s has been defeated!\"\u001b[39;49m%(cur.name)\u001b[6;13Hgrid.alerts.append((widgets.Notification(msg,200,cur.color),\u001b[7;5H                            \u001b[32m\"center\"\u001b[39;49m))\u001b[K\u001b[8;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\r\n\t\t\b== \u001b[32m\"End Turn\"\u001b[39;49m:\u001b[K\u001b[10;14H\u001b[1m\u001b[36meturn\u001b[0m\u001b[39;49m ACT_END\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Reached end of action without return.\"\u001b[39;49m)\r\n\n\u001b[31m# BUILD follows BEGIN and expects MENU.                                         \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mBuild\u001b[39;49m(Action):\u001b[K\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, grid):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = x,y\u001b[K\r\n\ttile = grid.tile_at(x,y)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b,v \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34msorted\u001b[0m\u001b[39;49m(tile.build.items(), key=\u001b[1m\u001b[36mlambda\u001b[0m\u001b[39;49m x:x[1]):\u001b[21;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m v <= grid.current_team().cash:\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"%s $%d\"\u001b[39;49m%(b,v))\u001b[K\u001b[23;29H\u001b[7m18% L97 \u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Main_Menu()\r\n\u001b[K\n\u001b[K\n\u001b[31m# MAIN MENU follows BEGIN and expects MENU.                                     \u001b[39;49m\r\n\u001b[31m# This is the menu created if the user clicks outside of the field.             \u001b[39;49m\r\n\u001b[31m# This allows the user to end their turn, undo, moves, etc.                     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mMain_Menu\u001b[39;49m(Action):\u001b[K\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Close\"\u001b[39;49m,\u001b[32m\"Surrender\"\u001b[39;49m,\u001b[32m\"End Turn\"\u001b[39;49m]\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_MENU\u001b[K\r\n\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[16;5H        \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Illegal input: %s\"\u001b[39;49m%\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(act))\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Close\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Surrender\"\u001b[39;49m:\u001b[K\u001b[21;13Hcur = grid.current_team()\u001b[K\u001b[22;13Hgrid.purge( cur )\u001b[K\n\u001b[7m4% L78\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\u001b[6;3H\u001b[31mThe BEGIN action is the first action and expects COORD. If the coord is a\u001b[39;49m\u001b[7;3H\u001b[31munit, we display its movement range. If the coord is a terrain that can\u001b[39;49m\u001b[8;3H\u001b[31mproduce, we begin production. If anything else, we display the GAME MENU.\u001b[39;49m\u001b[9;7H\u001b[32mBegin\u001b[39;49m\u001b[4P\n\n\t\t]\u001b[K\nCOORD\r\n\n\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = act\u001b[K\r\n\t\u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(x,y)\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Move(x,y,grid)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(t.build) > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m grid.current_team():\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Build(x,y,grid)\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Main_Menu()\n\b\u001b[7m0% L59\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l\u001b[31m# what the next input necessary is (such as any coord, a coord in a range of    \u001b[39;49m\r\n\u001b[31m# selections, or a menu item). The session is responsible for handling input    \u001b[39;49m\r\n\u001b[31m# appropriately in the context of the action. AI can also respond to actions.   \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mAction\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[10;5H\u001b[31m# The PERFORM function takes the input (either a coord or a string) and     \u001b[39;49m\r\n\u001b[11;5H\u001b[31m# then processes it. This should only be done when the player presses       \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# enter and confirms the action. The grid should be backed up before        \u001b[39;49m\r\n\u001b[13;5H\u001b[31m# performing. This will return an instance of the new action that the       \u001b[39;49m\r\n\u001b[14;5H\u001b[31m# session should handle.                                                    \u001b[39;49m\r\n\u001b[15;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[18;5H\u001b[31m# The INFO function provides popups and other contextual information of     \u001b[39;49m\r\n\u001b[19;5H\u001b[31m# what would happen if the action was taken. This is used to help create    \u001b[39;49m\r\n\u001b[20;5H\u001b[31m# interface candy.                                                          \u001b[39;49m\r\n\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\u001b[23;29H\u001b[7m 4% L40\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[K\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# The BEGIN action is the first action and expects COORD. If the coord is a     \u001b[39;49m\r\n\u001b[31m# unit, we display its movement range. If the coord is a terrain that can       \u001b[39;49m\r\n\u001b[31m# produce, we begin production. If anything else, we display the GAME MENU.     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mBegin\u001b[39;49m(Action):\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\u001b[11;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[12;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_COORD\u001b[K\r\n\u001b[K\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[K\u001b[15;5H    \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = act\u001b[K\r\n\t\u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(x,y)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\u001b[18;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Move(x,y,grid)\u001b[K\u001b[19;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(t.build) > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m grid.current_team():\u001b[K\u001b[20;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Build(x,y,grid)\u001b[K\u001b[21;5H    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Main_Menu()\n\b\b\u001b[7m10\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m50\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;2H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[?25l\u001b[1@ \u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@t\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l\u001b[1@ \b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@a\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@d\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@n\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[36man\u001b[0m\u001b[39;49m\u001b[1@\u001b[1m\u001b[36md\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[19;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[19;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\bgit push\b\b\b\bcommit -am \"Fixed bug when cli \rcking on empty tiles.\"\r\n[master 58a2b91] Fixed bug when clicking on empty tiles.\r\n 1 file changed, 1 insertion(+), 1 deletion(-)\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ git push\r\nCounting objects: 9, done.\r\nDelta compression using up to 2 threads.\r\nCompressing objects:  20% (1/5)   \rCompressing objects:  40% (2/5)   \rCompressing objects:  60% (3/5)   \rCompressing objects:  80% (4/5)   \rCompressing objects: 100% (5/5)   \rCompressing objects: 100% (5/5), done.\r\nWriting objects:  20% (1/5)   \rWriting objects:  40% (2/5)   \rWriting objects:  60% (3/5)   \rWriting objects:  80% (4/5)   \rWriting objects: 100% (5/5)   \rWriting objects: 100% (5/5), 493 bytes | 0 bytes/s, done.\r\nTotal 5 (delta 3), reused 0 (delta 0)\r\nTo git@github.com:isharacomix/rules-of-war.git\r\n   c2afd2b..58a2b91  master -> master\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.......................\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[32m\u001b[40m............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[32m\u001b[40m...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....................\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.....\u001b[31m\u001b[40m+----------------+\r\u001b[11d\u001b[32m\u001b[40m...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[31m\u001b[40m|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\r\u001b[12d\u001b[32m\u001b[40m......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[31m\u001b[40m|Ramen, move out!|\r\u001b[13d\u001b[32m\u001b[40m.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[31m\u001b[40m+----------------+\r\u001b[14d\u001b[32m\u001b[40m......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[13;40H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[32m\u001b[40m.\u001b[2d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[3d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[5d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[6d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[7d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b[8d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b[9d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b[10d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b[11d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[12d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[13d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[14d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[15d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[16d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[C+---------+\r\u001b[17d |\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[18d |Surrender|\r\u001b[19d |End Turn |\r\u001b[20d +---------+\u001b[17d\b\b\u001b[14;15H\u001b[10;22H\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[11;22H\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[12;22H\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[13;22H\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\r\u001b[17d\u001b[J\u001b[A\u001b[C\u001b[K\b\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 82, in run\r\n    self.game.render(0,0)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/session.py\", line 244, in render\r\n    self.canvas.render(0,0)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/sprites.py\", line 123, in render\r\n    for (i,j) in update])\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/sprites.py\", line 123, in render\r\n    for (i,j) in update])\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/sprites.py\", line 123, in render\r\n    for (i,j) in update])\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[K\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# The BEGIN action is the first action and expects COORD. If the coord is a     \u001b[39;49m\r\n\u001b[A\n\u001b[31m# unit, we display its movement range. If the coord is a terrain that can       \u001b[39;49m\r\n\u001b[A\n\u001b[31m# produce, we begin production. If anything else, we display the GAME MENU.     \u001b[39;49m\r\n\u001b[A\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mBegin\u001b[39;49m(Action):\u001b[K\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_COORD\u001b[K\r\n\u001b[K\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[K\r\n        \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = act\u001b[K\r\n        \u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(x,y)\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\u001b[K\r\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Move(x,y,grid)\u001b[K\r\n        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(t.build) > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m grid.current_team():\u001b[K\r\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Build(x,y,grid)\u001b[K\r\n        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Main_Menu()\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   10% L56   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[19;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[?25l\u001b[34mSwitch to buffer (default session.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lsession.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l*scratch*\u001b[K\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ldraw.py\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l*scratch*\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mLisp-Interaction Help\u001b[0m\u001b[39;49m\u001b[27m\r\nSo, I'm getting a little depressed at how hardcoded most of the sprite stuff\r\nis. It's not great that I actually have to encode high-level things like\r\nnotifications with low-level things like foreground color and x,y coords.\r\nHopefully when I start with the \u001b[32m\"real fancy graphics\"\u001b[39;49m mode, this will fix\r\nitself, but that will be a long way out if it ever happens.\u001b[K\r\n\u001b[K\nLast thing I really need to do is handle centering popups. It's OK if menus\u001b[K\r\nrun off the edge of the screen for now. The problem is that I just don't have\r\na good handle on who should delegate the drawing. After all, since I actually\r\nput a sprite in with each widget, I can't really get away with not using\r\nactual coordinates. Plus, the grid itself actually makes these popups as well,\r\nat least, it does when we change turns. The grid is really the best place to\r\nput them, I think.\u001b[K\r\n\u001b[K\nBlarg. Not a big problem right now. The code is still MUCH cleaner now, so\r\nwhen and if I decide to refactor this part, it won't be that much of a problem.\r\nBut still, I feel like the grid should just give the widget to the session,\r\nand the session should decide where it wants the widget to go. There's no\r\nreason to encode things as low-level as x,y coords on any of this. We don't\r\ndo it for the menu, no reason to do it for the notifications!\r\n\u001b[K\u001b[23;4H\u001b[7mU:**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1m*scratch*   \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   45% L42    (Lisp Interaction) -\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;62H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;21r\u001b[2;1H\u001b[11M\u001b[1;24r\u001b[11;1H\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[?25l\u001b[7mBot L44\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[14;1H\u001b[1L\u001b[1;24r\u001b[14;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[15;1H\u001b[1L\u001b[1;24r\u001b[15;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lA\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\u001b[K\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lT\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\u001b[K\b\u001b[K\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[15;1H\u001b[1L\u001b[1;24r\u001b[13;80H\u001b[?25l\\\r\ns\n\b\u001b[K\u001b[A\u001b[C\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[15;1H\u001b[1M\u001b[1;24r\u001b[13;80H\u001b[K\r\n\u001b[K\u001b[22d\u001b[K\u001b[13;80H\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[15;1H\u001b[1L\u001b[1;24r\u001b[15;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[15;1H\u001b[1M\u001b[1;24r\u001b[22;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;72H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[15;1H\u001b[1L\u001b[1;24r\u001b[15;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lq\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[16;1H\u001b[1L\u001b[1;24r\u001b[16;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l-\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lG\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\b\u001b[K\t\b\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[C\b\b\b\u001b[K\u001b[C\b\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[C\b\b\u001b[K\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[C\b\b\u001b[K\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[C\b\b\b\u001b[K\t\b\b\u001b[?25lT\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\t\b\u001b[?25lT\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[17;1H\u001b[1L\u001b[1;24r\u001b[17;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lS\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lj\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\u001b[C\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lG\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[18;1H\u001b[1L\u001b[1;24r\u001b[18;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lj\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[19;1H\u001b[1L\u001b[1;24r\u001b[19;1H\u001b[K\u001b[23;29H\u001b[?25l\u001b[7m66% L50\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[23;30H\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l!\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lT\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[23;30H\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;66H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[C\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[20;1H\u001b[1L\u001b[1;24r\u001b[20;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[21;1H\u001b[1L\u001b[1;24r\u001b[21;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lP\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[23;30H\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\u001b[K\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25l\u001b[31m;                                        \u001b[39;49m\r\n\u001b[21;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\u001b[C\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\u001b[C\b\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lW\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[23;30H\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;64H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lA\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[C\b\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lA\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\b\u001b[K\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\n\b\b\b\b\b\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[22;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[2;1H\u001b[11M\u001b[1;24r\u001b[12;1H\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[?25l\u001b[7mBot L55\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[13;1H\u001b[1M\u001b[1;24r\u001b[22;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;78H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\u001b[C\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[13;1H\u001b[1L\u001b[1;24r\u001b[13;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[C\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\u001b[C\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lj\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lA\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[14;1H\u001b[1L\u001b[1;24r\u001b[14;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\t\b\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lT\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[15;1H\u001b[1L\u001b[1;24r\u001b[15;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[16;1H\u001b[1L\u001b[1;24r\u001b[16;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lA\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lT\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\b\b\u001b[K\u001b[C\b\b\u001b[K\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lS\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[17;1H\u001b[1L\u001b[1;24r\u001b[17;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\b\u001b[K\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\u001b[C\b\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[C\b\b\u001b[K\b\u001b[K\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lW\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lH\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lE\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lR\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lE\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l!\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default rules.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help         \u001b[0m\u001b[39;49m\u001b[27m\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrules.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[K\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# The BEGIN action is the first action and expects COORD. If the coord is a     \u001b[39;49m\r\n\u001b[31m# unit, we display its movement range. If the coord is a terrain that can       \u001b[39;49m\r\n\u001b[31m# produce, we begin production. If anything else, we display the GAME MENU.     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mBegin\u001b[39;49m(Action):\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_COORD\u001b[K\r\n\u001b[K\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[K\r\n        \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = act\u001b[K\r\n        \u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(x,y)\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\n\b\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Move(x,y,grid)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(t.build) > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m grid.current_team():\u001b[20;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Build(x,y,grid)\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\n\b\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Main_Menu()\u001b[23;4H\u001b[7m-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   10% L56   Git:master  (Python) \u001b[0m\u001b[39;49m\u001b[27m\u001b[19;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\u001b[?25l\u001b[31m# what the next input necessary is (such as any coord, a coord in a range of    \u001b[39;49m\r\n\u001b[31m# selections, or a menu item). The session is responsible for handling input    \u001b[39;49m\r\n\u001b[31m# appropriately in the context of the action. AI can also respond to actions.   \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mAction\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[10;5H\u001b[31m# The PERFORM function takes the input (either a coord or a string) and     \u001b[39;49m\r\n\u001b[11;5H\u001b[31m# then processes it. This should only be done when the player presses       \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# enter and confirms the action. The grid should be backed up before        \u001b[39;49m\r\n\u001b[13;5H\u001b[31m# performing. This will return an instance of the new action that the       \u001b[39;49m\r\n\u001b[14;5H\u001b[31m# session should handle.                                                    \u001b[39;49m\r\n\u001b[15;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[18;5H\u001b[31m# The INFO function provides popups and other contextual information of     \u001b[39;49m\r\n\u001b[19;5H\u001b[31m# what would happen if the action was taken. This is used to help create    \u001b[39;49m\r\n\u001b[20;5H\u001b[31m# interface candy.                                                          \u001b[39;49m\r\n\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\u001b[23;29H\u001b[7m 4% L40\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34minfo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[K\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m {}\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# The BEGIN action is the first action and expects COORD. If the coord is a     \u001b[39;49m\r\n\u001b[31m# unit, we display its movement range. If the coord is a terrain that can       \u001b[39;49m\r\n\u001b[31m# produce, we begin production. If anything else, we display the GAME MENU.     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mBegin\u001b[39;49m(Action):\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\u001b[11;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[12;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.form = FORM_COORD\u001b[K\r\n\u001b[K\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mperform\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, act, grid):\u001b[K\u001b[15;5H    \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = act\u001b[K\r\n\t\u001b[33mt\u001b[39;49m,\u001b[33mu\u001b[39;49m = grid.get_at(x,y)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\u001b[18;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Move(x,y,grid)\u001b[K\u001b[19;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(t.build) > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m grid.current_team():\u001b[K\u001b[20;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Build(x,y,grid)\u001b[K\u001b[21;5H    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Main_Menu()\n\b\b\u001b[7m10\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m Main_Menu()\u001b[6;3H\u001b[31mMAIN MENU follows BEGIN and expects MENU.                                \u001b[39;49m\u001b[7;3H\u001b[31mThis is the menu created if the user clicks outside of the field.      \u001b[39;49m\u001b[8;3H\u001b[31mThis allows the user to end their turn, undo, moves, etc.                \u001b[39;49m\u001b[9;7H\u001b[32mMain_\u001b[39;49m\u001b[4@\u001b[32mMenu\u001b[39;49m\n\n\t\t\u001b[32m\"Close\"\u001b[39;49m,\u001b[32m\"Surrender\"\u001b[39;49m,\u001b[32m\"End Turn\"\u001b[39;49m]\u001b[12;26HMENU\u001b[K\r\n\n\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Illegal input: %s\"\u001b[39;49m%\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(act))\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Close\"\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_TRASH\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"Surrender\"\u001b[39;49m:\u001b[K\r\n\t    cur = grid.current_team()\u001b[22;13Hgrid.purge( cur )\u001b[K\n\u001b[7m4% L58\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l    cur = grid.current_team()\u001b[3;13Hgrid.purge( cur )\u001b[K\u001b[4;13Hcur.active = \u001b[35mFalse\u001b[39;49m\u001b[5;13Hmsg = \u001b[32m\"%s has been defeated!\"\u001b[39;49m%(cur.name)\r\n            grid.alerts.append((widgets.Notification(msg,200,cur.color),\u001b[K\r\n                                \u001b[32m\"center\"\u001b[39;49m))\u001b[K\r\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_COMMIT\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m act == \u001b[32m\"End Turn\"\u001b[39;49m:\u001b[10;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m ACT_END\r\n\u001b[K\n\t\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Reached end of action without return.\"\u001b[39;49m)\r\n\n\u001b[31m# BUILD follows BEGIN and expects MENU.                                         \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mBuild\u001b[39;49m(Action):\u001b[K\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, grid):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = x,y\u001b[K\r\n\t\u001b[33mtile\u001b[39;49m = grid.tile_at(x,y)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b,v \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34msorted\u001b[0m\u001b[39;49m(tile.build.items(), key=\u001b[1m\u001b[36mlambda\u001b[0m\u001b[39;49m x:x[1]):\u001b[21;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m v <= grid.current_team().cash:\u001b[22;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"%s $%d\"\u001b[39;49m%(b,v))\u001b[23;30H\u001b[7m8% L77\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l\u001b[34mSwitch to buffer (default *scratch*): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l*scratch*\u001b[24;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lsession.py\u001b[24;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwidgets.py\u001b[24;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ldraw.py\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lsprites.py\u001b[24;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.invert: \u001b[33ms\u001b[39;49m += \u001b[32m\"?\"\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m s\u001b[K\r\n\u001b[K\n\u001b[31m# Sprites are drawables that are smart enough to know when to spend time        \u001b[39;49m\r\n\u001b[31m# drawing and when to not. Sprites can contain subsprites in layers allowing    \u001b[39;49m\r\n\u001b[31m# them to serve as sprite managers.                                             \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mSprite\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, w, h, layer=0, timer=\u001b[35mNone\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.reset(x, y, w, h, layer)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer = timer\r\n\u001b[K\u001b[13;5H\u001b[31m# Sprites handle input and                                                  \u001b[39;49m\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n        \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[17;5H\u001b[31m# Resize deletes the image and changes the dimensions.                      \u001b[39;49m\r\n\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mreset\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, w, h, layer=\u001b[35mNone\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x = x\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y = y\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w = w\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h = h\u001b[K\n\b\b\b\b\b\u001b[7m\u001b[1msprites.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   16% L46\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w = w\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h = h\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.oldx = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.oldy = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m layer \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.layer = layer\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites = []\u001b[9;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.surface = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(h):\u001b[K\r\n\t    \u001b[33mnewarray\u001b[39;49m = []\u001b[K\u001b[12;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m j \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(w):\u001b[13;5H            newarray.append(\u001b[35mNone\u001b[39;49m)\u001b[K\u001b[14;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.surface.append(newarray)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.dirty = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.moved = \u001b[35mTrue\u001b[39;49m\u001b[17;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[18;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.visible = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[20;5H\u001b[31m# This will return all glyphs in the surface.                               \u001b[39;49m\r\n\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mall_glyphs\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[33mreport\u001b[39;49m = []\u001b[23;29H\u001b[7m23% L55\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mall_glyphs\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[33mreport\u001b[39;49m = []\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m row \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.surface:\r\n\t    \u001b[33mreport\u001b[39;49m += row\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m row\u001b[K\r\n\u001b[K\u001b[8;5H\u001b[31m# This renders a sprite on the actual terminal screen starting at x,y.      \u001b[39;49m\r\n\u001b[9;5H\u001b[31m# This will pass back up a dictionary of transparent cells to the parent    \u001b[39;49m\r\n\u001b[10;5H\u001b[31m# to be drawn over.                                                         \u001b[39;49m\r\n\u001b[11;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrender\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, bounds=\u001b[35mNone\u001b[39;49m, update=\u001b[35mNone\u001b[39;49m):\r\n\t\u001b[33mnewbounds\u001b[39;49m = ( x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x, y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y, x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w, y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h )\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m bounds:\u001b[K\u001b[14;13H\u001b[33mbounds\u001b[39;49m = newbounds\u001b[K\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[33ma1\u001b[39;49m,\u001b[33mb1\u001b[39;49m,\u001b[33mc1\u001b[39;49m,\u001b[33md1\u001b[39;49m = newbounds\r\n\t    \u001b[33ma2\u001b[39;49m,\u001b[33mb2\u001b[39;49m,\u001b[33mc2\u001b[39;49m,\u001b[33md2\u001b[39;49m = bounds\r\n\t    \u001b[33mbounds\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(a1,a2),\u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(b1,b2),\u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(c1,c2),\u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(d1,d2)\u001b[20;50H\u001b[4P\u001b[20;5H\u001b[4@\u001b[20;11H\u001b[31mIf the timer is exhausted, kill the sprite.\u001b[39;49m\u001b[21;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[23;30H\u001b[7m9% L74\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer == 0:\u001b[K\u001b[5;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.kill()\r\n\u001b[K\n\t\u001b[31m# If any of the sprites have moved, figure out which cells need to be   \u001b[39;49m\r\n\u001b[8;5H    \u001b[31m# redrawn.                                                              \u001b[39;49m\r\n\u001b[9;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m update:\u001b[K\u001b[10;5H        update = []\u001b[K\u001b[11;5H    update += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.dirty\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [s \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m s.moved \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m s.alive]:\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(s.oldx,s.oldx+s.w):\u001b[14;13H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m j \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(s.oldy,s.oldy+s.h):\r\n\t            update.append((i,j))\r\n\u001b[K\n\t\u001b[31m# Now redraw the cells. This is usually a NOP since update is usually   \u001b[39;49m\r\n\t\u001b[31m# empty.                                                                \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (i,j) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m update:\r\n\t    \u001b[33mdx\u001b[39;49m = i+x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x\u001b[K\r\n\t    \u001b[33mdy\u001b[39;49m = j+y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y\u001b[22;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (dx >= bounds[0] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m dy >= bounds[1] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m i<\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m i >= 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m\u001b[23;29H\u001b[7m38% L93\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l    \u001b[33mdy\u001b[39;49m = j+y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y\u001b[3;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (dx >= bounds[0] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m dy >= bounds[1] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m i<\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m i >= 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m\u001b[4;13H         j < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m dx<bounds[2] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m dy<bounds[3] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m j >= 0):\r\n\t\t\u001b[33mglyph\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.surface[j][i]\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m glyph:\r\n\t            gfx.draw(dx,dy,glyph.icon,glyph.color())\u001b[K\r\n\u001b[K\n\t\u001b[31m# Set all the sprites as no longer having been moved.                   \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites:\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m s.visible:\u001b[K\r\n\t        s.render(x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x,y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y, bounds, [(i-s.x,j-s.y)\u001b[K\u001b[13;13H                                         \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (i,j) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m update])\u001b[14;13H\u001b[33ms.moved\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[31m# Set this sprite as no longer dirty. If any children died due to the   \u001b[39;49m\r\n\u001b[17;11H\u001b[31mtimer clock running out, store their information in self.dirty so  \u001b[39;49m\u001b[18;11H\u001b[31mthat the next pass overwrites them.\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.dirty = []\u001b[K\r\n\t\u001b[33moldsprites\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m oldsprites:\u001b[K\n\u001b[7m45% L112\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m oldsprites:\u001b[K\u001b[4;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m s.alive:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites.append(s)\u001b[K\u001b[6;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(s.x,s.x+s.w):\u001b[K\u001b[8;21H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m j \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(s.y,s.y+s.h):\r\n\t                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.dirty.append((i,j))\u001b[K\r\n\u001b[K\u001b[11;5H\u001b[31m# This puts a character at x,y on the sprite. Returns True if it works,     \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# False if the x,y was out of bounds.                                       \u001b[39;49m\r\n\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mputc\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c, x, y, fg=\u001b[35mNone\u001b[39;49m, bg=\u001b[35mNone\u001b[39;49m, bold=\u001b[35mFalse\u001b[39;49m, invert=\u001b[35mFalse\u001b[39;49m):\u001b[K\r\n\t\u001b[33mg\u001b[39;49m = Glyph(c,fg,bg,bold,invert)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m x >= 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m x < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m y >= 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m y < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.surface[y][x] = g\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.dirty.append((x,y))\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[21;5H\u001b[31m# This allows you to recolor a cell or change the letter without changing   \u001b[39;49m\r\n\u001b[22;5H\u001b[31m# the color.                                                                \u001b[39;49m\r\n\u001b[23;29H\u001b[7m56% L131\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m# This allows you to recolor a cell or change the letter without changing   \u001b[39;49m\r\n\u001b[3;5H\u001b[31m# the color.                                                                \u001b[39;49m\r\n\u001b[4;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mmixc\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c, x, y, fg=\u001b[35mNone\u001b[39;49m, bg=\u001b[35mNone\u001b[39;49m, bold=\u001b[35mFalse\u001b[39;49m, invert=\u001b[35mFalse\u001b[39;49m):\r\n\t\u001b[33mg\u001b[39;49m = Glyph(c,fg,bg,bold,invert\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.surface[y][x]:\u001b[7;13H\u001b[33mg\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.surface[y][x].mix(g)\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m x >= 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m x < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m y >= 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m y < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h:\u001b[9;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.surface[y][x] = g\u001b[K\u001b[10;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.dirty.append((x,y))\u001b[11;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[12;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[14;5H\u001b[31m# This fills all of the glyphs with the same character.                     \u001b[39;49m\r\n\u001b[15;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mfill\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c, fg=\u001b[35mNone\u001b[39;49m, bg=\u001b[35mNone\u001b[39;49m, bold=\u001b[35mFalse\u001b[39;49m, invert=\u001b[35mFalse\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w):\u001b[K\u001b[17;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m j \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h):\u001b[K\u001b[18;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.putc(c, i, j, fg, bg, bold, invert)\r\n\u001b[K\u001b[20;5H\u001b[31m# This recolors a sprite.                                                   \u001b[39;49m\r\n\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mcolorize\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, fg=\u001b[35mNone\u001b[39;49m, bg=\u001b[35mNone\u001b[39;49m, bold=\u001b[35mNone\u001b[39;49m, invert=\u001b[35mNone\u001b[39;49m):\u001b[K\u001b[22;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m g \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.all_glyphs():\u001b[K\u001b[23;29H\u001b[7m64% L150\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mcolorize\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, fg=\u001b[35mNone\u001b[39;49m, bg=\u001b[35mNone\u001b[39;49m, bold=\u001b[35mNone\u001b[39;49m, invert=\u001b[35mNone\u001b[39;49m):\u001b[K\u001b[3;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m g \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.all_glyphs():\u001b[K\u001b[4;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m fg \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\u001b[K\r\n\t        \u001b[33mg.fg\u001b[39;49m = fg\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m bg \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\u001b[7;13H    \u001b[33mg.bg\u001b[39;49m = bg\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m bold \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\u001b[K\u001b[9;13H    \u001b[33mg.bold\u001b[39;49m = bold\u001b[K\u001b[10;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m invert \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\u001b[K\u001b[11;13H    \u001b[33mg.invert\u001b[39;49m = invert\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.redraw()\u001b[14;12H\u001b[31mmoves the sprite.                               \u001b[39;49m\r\n\t\u001b[1m\u001b[34mmove\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, dx, dy, absolute=\u001b[35mFalse\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.oldx = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.oldy = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m absolute:\u001b[K\u001b[19;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y = dx,dy\u001b[20;5H    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[21;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x += dx\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y += dy\u001b[K\u001b[23;29H\u001b[7m73% L169\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x += dx\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y += dy\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.moved = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.redraw()\u001b[K\r\n\u001b[K\u001b[7;5H\u001b[31m# This moves the sprite to a location.                                      \u001b[39;49m\r\n\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mmove_to\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, dx, dy):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.move(dx,dy,\u001b[35mTrue\u001b[39;49m)\r\n\u001b[K\u001b[11;5H\u001b[31m# This adds a sprite to the sprite manager. A sprite remains until its      \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# \"alive\" is set to False.                                                  \u001b[39;49m\r\n\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34madd_sprite\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, sprite):\u001b[14;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites.append(sprite)\u001b[K\u001b[15;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites.sort(key=\u001b[1m\u001b[36mlambda\u001b[0m\u001b[39;49m s:s.layer)\r\n\u001b[K\u001b[17;5H\u001b[31m# This sets a sprite and all of its subsprites as dead. They will be        \u001b[39;49m\r\n\u001b[18;5H\u001b[31m# removed from their managers in the next update.                           \u001b[39;49m\r\n\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mkill\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alive = \u001b[35mFalse\u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites:\u001b[22;13Hs.kill()\u001b[K\u001b[23;29H\u001b[7m80% L188\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites:\u001b[3;13Hs.kill()\u001b[K\u001b[4;14Hvisible = \u001b[35mFalse\u001b[39;49m\u001b[5;14Hmoved = \u001b[35mTrue\u001b[39;49m\u001b[7;12H\u001b[31mhides a sprite.                \u001b[39;49m\r\n\t\u001b[1m\u001b[34mhide\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\u001b[9;14Hvisible = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.moved = \u001b[35mTrue\u001b[39;49m\r\n\u001b[K\n\t\b\b\u001b[31mThis shows a sprite.    \u001b[39;49m\r\n\t\u001b[1m\u001b[34mshow\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\n\b\b\b\b\b\bvisible = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[15;14Hmoved = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.redraw()\r\n\u001b[K\n\t\b\b\u001b[31mSet the whole sprite as dirty.                 \u001b[39;49m\r\n\t\u001b[1m\u001b[34mredraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[20;14Hdirty = []\u001b[K\u001b[21;13Hx \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w):\u001b[22;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h):\n\b\b\b\b\b\b\u001b[7m7% L207\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25lx \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w):\u001b[3;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h):\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.dirty.append((x,y))\r\n\u001b[K\u001b[6;5H\u001b[31m# Blit the other sprite onto this one.                                      \u001b[39;49m\r\n\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mblit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, other, x, y, mix=\u001b[35mTrue\u001b[39;49m):\u001b[K\u001b[8;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(other.x,other.x+other.w):\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m j \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(other.y,other.y+other.h):\r\n\t        \u001b[33ma\u001b[39;49m = i+x\u001b[K\r\n\t\t\u001b[33mb\u001b[39;49m = j+y\u001b[12;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m a >= 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m a < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m b >= 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m b < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h:\u001b[K\u001b[13;5H                \u001b[33mg\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.surface[b][a]\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m mix \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m g:\r\n\t                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.surface[b][a] = g.mix(other.surface[j][i])\r\n\t            \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\n\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.surface[b][a] = other.surface[j][i].mix()\u001b[18;5H                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.dirty.append((a,b))\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L226\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25ls \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites:\u001b[K\u001b[3;13Hs.kill()\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.visible = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.moved = \u001b[35mTrue\u001b[39;49m\r\n\u001b[K\u001b[7;5H\u001b[31m# This hides a sprite.                                                      \u001b[39;49m\r\n\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhide\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.visible = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.moved = \u001b[35mTrue\u001b[39;49m\r\n\u001b[K\u001b[12;5H\u001b[31m# This shows a sprite.                                                      \u001b[39;49m\r\n\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mshow\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.visible = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.moved = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.redraw()\u001b[K\r\n\u001b[K\u001b[18;5H\u001b[31m# Set the whole sprite as dirty.                                            \u001b[39;49m\r\n\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mredraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.dirty = []\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w):\u001b[22;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h):\u001b[23;29H\u001b[7m87%\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x += dx\u001b[K\u001b[3;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y += dy\u001b[4;14Hmoved = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[5;14Hredraw()\u001b[K\u001b[7;12H\u001b[31mmoves the sprite to a location.\u001b[39;49m\r\n\t\u001b[1m\u001b[34mmove_to\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, dx, dy):\u001b[9;14Hmove(dx,dy,\u001b[35mTrue\u001b[39;49m)\r\n\u001b[K\u001b[11;5H\u001b[31m# This adds a sprite to the sprite manager. A sprite remains until its      \u001b[39;49m\r\n\t\b\b\u001b[31m\"alive\" is set to False.\u001b[39;49m\r\n\t\u001b[1m\u001b[34madd_sprite\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, sprite):\u001b[14;14Hsprites.append(sprite)\u001b[15;14Hsprites.sort(key=\u001b[1m\u001b[36mlambda\u001b[0m\u001b[39;49m s:s.layer)\r\n\u001b[K\u001b[17;5H\u001b[31m# This sets a sprite and all of its subsprites as dead. They will be        \u001b[39;49m\r\n\t\b\b\u001b[31mremoved from their managers in the next update.\u001b[39;49m\r\n\t\u001b[1m\u001b[34mkill\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\n\b\b\b\b\b\balive = \u001b[35mFalse\u001b[39;49m\u001b[21;13Hs \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites:\u001b[K\u001b[22;13Hs.kill()\u001b[K\u001b[23;30H\u001b[7m0% L208\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mcolorize\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, fg=\u001b[35mNone\u001b[39;49m, bg=\u001b[35mNone\u001b[39;49m, bold=\u001b[35mNone\u001b[39;49m, invert=\u001b[35mNone\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m g \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.all_glyphs():\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m fg \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\r\n\t        \u001b[33mg.fg\u001b[39;49m = fg\u001b[6;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m bg \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\u001b[7;5H            \u001b[33mg.bg\u001b[39;49m = bg\u001b[K\u001b[8;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m bold \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\r\n\t        \u001b[33mg.bold\u001b[39;49m = bold\u001b[10;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m invert \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\u001b[11;5H            \u001b[33mg.invert\u001b[39;49m = invert\u001b[K\u001b[12;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.redraw()\u001b[K\r\n\u001b[K\u001b[14;5H\u001b[31m# This moves the sprite.                                                    \u001b[39;49m\r\n\u001b[15;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mmove\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, dx, dy, absolute=\u001b[35mFalse\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.oldx = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x\u001b[17;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.oldy = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y\u001b[K\u001b[18;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m absolute:\u001b[K\u001b[19;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y = dx,dy\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x += dx\u001b[K\u001b[22;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y += dy\u001b[23;29H\u001b[7m73% L189\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m# This allows you to recolor a cell or change the letter without changing   \u001b[39;49m\r\n\u001b[3;5H\u001b[31m# the color.                                                                \u001b[39;49m\r\n\u001b[4;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mmixc\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c, x, y, fg=\u001b[35mNone\u001b[39;49m, bg=\u001b[35mNone\u001b[39;49m, bold=\u001b[35mFalse\u001b[39;49m, invert=\u001b[35mFalse\u001b[39;49m):\r\n\t\u001b[33mg\u001b[39;49m = Glyph(c,fg,bg,bold,invert)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.surface[y][x]:\u001b[7;13H\u001b[33mg\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.surface[y][x].mix(g)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m x >= 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m x < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m y >= 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m y < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h:\u001b[9;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.surface[y][x] = g\u001b[10;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.dirty.append((x,y))\u001b[11;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[14;12H\u001b[31mfills all of the glyphs with the same character.\u001b[39;49m\r\n\t\u001b[1m\u001b[34mfill\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c, fg=\u001b[35mNone\u001b[39;49m, bg=\u001b[35mNone\u001b[39;49m, bold=\u001b[35mFalse\u001b[39;49m, invert=\u001b[35mFalse\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w):\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m j \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h):\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.putc(c, i, j, fg, bg, bold, invert)\r\n\u001b[K\u001b[20;5H\u001b[31m# This recolors a sprite.                                                   \u001b[39;49m\r\n\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mcolorize\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, fg=\u001b[35mNone\u001b[39;49m, bg=\u001b[35mNone\u001b[39;49m, bold=\u001b[35mNone\u001b[39;49m, invert=\u001b[35mNone\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m g \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.all_glyphs():\u001b[23;29H\u001b[7m64% L170\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites = []\u001b[K\u001b[3;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m oldsprites:\u001b[K\u001b[4;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m s.alive:\u001b[K\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites.append(s\r\n\t    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b\b    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(s.x,s.x+s.w):\r\n\t            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m j \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(s.y,s.y+s.h):\u001b[K\u001b[9;13H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.dirty.append((i,j))\r\n\u001b[K\u001b[11;5H\u001b[31m# This puts a character at x,y on the sprite. Returns True if it works,     \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# False if the x,y was out of bounds.                                       \u001b[39;49m\r\n\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mputc\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c, x, y, fg=\u001b[35mNone\u001b[39;49m, bg=\u001b[35mNone\u001b[39;49m, bold=\u001b[35mFalse\u001b[39;49m, invert=\u001b[35mFalse\u001b[39;49m):\u001b[14;5H    \u001b[33mg\u001b[39;49m = Glyph(c,fg,bg,bold,invert)\u001b[K\u001b[15;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m x >= 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m x < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m y >= 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m y < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.surface[y][x] = g\u001b[17;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.dirty.append((x,y))\u001b[18;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mFalse\u001b[39;49m\r\n\u001b[K\u001b[21;5H\u001b[31m# This allows you to recolor a cell or change the letter without changing   \u001b[39;49m\r\n\u001b[22;5H\u001b[31m# the color.                                                                \u001b[39;49m\r\n\u001b[23;29H\u001b[7m56% L151\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l    \u001b[33mdy\u001b[39;49m = j+y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (dx >= bounds[0] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m dy >= bounds[1] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m i<\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m i >= 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m\u001b[4;13H         j < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m dx<bounds[2] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m dy<bounds[3] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m j >= 0):\r\n\t\t\u001b[33mglyph\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.surface[j][i]\u001b[6;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m glyph:\r\n\t\t    gfx.draw(dx,dy,glyph.icon,glyph.color())\r\n\u001b[K\n\t\u001b[31m# Set all the sprites as no longer having been moved.                   \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites:\u001b[11;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m s.visible:\u001b[K\u001b[12;5H            s.render(x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x,y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y, bounds, [(i-s.x,j-s.y)\u001b[K\u001b[13;5H                                                 \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (i,j) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m update])\r\n\t    \u001b[33ms.moved\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[31m# Set this sprite as no longer dirty. If any children died due to the   \u001b[39;49m\r\n\t\u001b[31m# timer clock running out, store their information in self.dirty so     \u001b[39;49m\r\n\t\u001b[31m# that the next pass overwrites them.                                   \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.dirty = []\r\n\t\u001b[33moldsprites\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites\u001b[21;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites = []\u001b[K\u001b[22;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m oldsprites:\u001b[K\n\u001b[7m45% L132\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer:\u001b[K\u001b[3;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer -= 1\u001b[K\u001b[4;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.timer == 0:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.kill()\u001b[K\r\n\u001b[K\n\t\u001b[31m# If any of the sprites have moved, figure out which cells need to be   \u001b[39;49m\r\n\t\u001b[31m# redrawn.                                                              \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m update:\u001b[K\r\n\t    update = []\u001b[K\r\n\tupdate += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.dirty\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [s \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m s.moved \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m s.alive]:\u001b[13;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(s.oldx,s.oldx+s.w):\u001b[K\u001b[14;13H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m j \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(s.oldy,s.oldy+s.h):\u001b[15;21Hupdate.append((i,j))\r\n\u001b[K\u001b[17;11H\u001b[31mNow redraw the cells. This is usually a NOP since update is usually\u001b[39;49m\u001b[18;11H\u001b[31mempty.                             \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (i,j) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m update:\r\n\t    \u001b[33mdx\u001b[39;49m = i+x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x\u001b[K\r\n\t    \u001b[33mdy\u001b[39;49m = j+y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (dx >= bounds[0] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m dy >= bounds[1] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m i<\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m i >= 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m\u001b[23;29H\u001b[7m38% L113\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(s.oldx,s.oldx+s.w):\u001b[3;13H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m j \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(s.oldy,s.oldy+s.h):\u001b[4;13H        update.append((i,j))\r\n\u001b[K\n\t\u001b[31m# Now redraw the cells. This is usually a NOP since update is usually   \u001b[39;49m\r\n\u001b[7;11H\u001b[31mempty.                                                             \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (i,j) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m update:\u001b[K\r\n\t    \u001b[33mdx\u001b[39;49m = i+x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x\u001b[10;13H\u001b[33mdy\u001b[39;49m = j+y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (dx >= bounds[0] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m dy >= bounds[1] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m i<\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m i >= 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m\r\n\t             j < \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m dx<bounds[2] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m dy<bounds[3] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m j >= 0):\u001b[13;13H    \u001b[33mglyph\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.surface[j][i]\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m glyph:\u001b[K\n\b\b\b\b\bgfx.draw(dx,dy,glyph.icon,glyph.color())\u001b[17;11H\u001b[31mSet all the sprites as no longer having been moved.                \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites:\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m s.visible:\u001b[K\u001b[20;13H    s.render(x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x,y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y, bounds, [(i-s.x,j-s.y)\u001b[21;13H                                         \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (i,j) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m update])\u001b[22;13H\u001b[33ms.moved\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\n\u001b[C\u001b[7m42% L114\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m20\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l    \u001b[33mglyph\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.surface[j][i]\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m glyph:\u001b[K\n\b\b\b\b\bgfx.draw(dx,dy,glyph.icon,glyph.color())\u001b[6;11H\u001b[31mSet all the sprites as no longer having been moved.                \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites:\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m s.visible:\u001b[K\u001b[9;13H    s.render(x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x,y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y, bounds, [(i-s.x,j-s.y)\u001b[10;13H                                         \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (i,j) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m update])\u001b[11;13H\u001b[33ms.moved\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[31m# Set this sprite as no longer dirty. If any children died due to the   \u001b[39;49m\r\n\t\u001b[31m# timer clock running out, store their information in self.dirty so     \u001b[39;49m\r\n\t\u001b[31m# that the next pass overwrites them.                                   \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.dirty = []\r\n\t\u001b[33moldsprites\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m oldsprites:\u001b[20;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m s.alive:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites.append(s)\u001b[K\u001b[22;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[23;30H\u001b[7m8% L125\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[7;31H\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[9;1H\u001b[1L\u001b[1;24r\u001b[9;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msprites.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   48% L122\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l+\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\t\u001b[?25l\u001b[33mupdate\u001b[39;49m +=\u001b[23;30H\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[34mdir\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25ldirt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;23r\u001b[22;1H\u001b[1M\u001b[1;24r\u001b[24;1H\u001b[?25l.\u001b[A\bSaving file /home/isharacomix/Documents/rules-of-war/code/graphics/sprites.py..\\\r\n\u001b[A\u001b[9;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[A\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/graphics/sprites.py\u001b[K\u001b[9;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;24r\u001b[23;1H\u001b[1L\u001b[1;24r\u001b[22;1H\u001b[?25l                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites.append(s)\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msprites.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   47% L122  Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[9;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[9;34H\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[9;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.......................\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[32m\u001b[40m............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[32m\u001b[40m...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....................\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.....\u001b[31m\u001b[40m+----------------+\r\u001b[11d\u001b[32m\u001b[40m...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[31m\u001b[40m|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\r\u001b[12d\u001b[32m\u001b[40m......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[31m\u001b[40m|Ramen, move out!|\r\u001b[13d\u001b[32m\u001b[40m.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[31m\u001b[40m+----------------+\r\u001b[14d\u001b[32m\u001b[40m......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[13;40H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[32m\u001b[40m.\u001b[2d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[3d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 95, in run\r\n    gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 88, in refresh\r\n    if gfx: return gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 105, in refresh\r\n    curses.napms(20)\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n                \u001b[33mglyph\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.surface[j][i]\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m glyph:\u001b[K\r\n                    gfx.draw(dx,dy,glyph.icon,glyph.color())\u001b[K\r\n\u001b[K\n        \u001b[31m# Set all the sprites as no longer having been moved.                   \u001b[39;49m\r\n\u001b[A\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites:\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m s.visible:\u001b[K\r\n                \u001b[33mupdate\u001b[39;49m += s.dirty\u001b[K\r\n                s.render(x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x,y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y, bounds, [(i-s.x,j-s.y)\u001b[K\r\n                                                     \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (i,j) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m update])\u001b[K\r\n            \u001b[33ms.moved\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\n        \u001b[31m# Set this sprite as no longer dirty. If any children died due to the   \u001b[39;49m\r\n\u001b[A\n        \u001b[31m# timer clock running out, store their information in self.dirty so     \u001b[39;49m\r\n\u001b[A\n        \u001b[31m# that the next pass overwrites them.                                   \u001b[39;49m\r\n\u001b[A\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.dirty = []\u001b[K\r\n        \u001b[33moldsprites\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites = []\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m oldsprites:\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m s.alive:\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites.append(s)\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msprites.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   47% L122  Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[9;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default rules.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrules.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l*scratch*\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lsession.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n,loc \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\u001b[K\u001b[3;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications.append(n)\u001b[4;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(n.sprite)\u001b[K\u001b[5;13H\u001b[33mns\u001b[39;49m = n.sprite\r\n\t    \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = 0,0\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m loc == \u001b[32m\"center\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = (sx+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w//2-ns.w//2,\u001b[8;13H                           sy+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h//2-ns.h//2)\u001b[9;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"ul\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx-ns.w,cy-ns.h\u001b[10;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"ur\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx+1,cy-ns.h\u001b[K\u001b[11;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"bl\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx-ns.w,cy+1\u001b[K\u001b[12;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"br\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx+1,cy+1\u001b[13;13Hn.sprite.move_to(x,y)\r\n\u001b[K\n\u001b[K\u001b[16;11H\u001b[31mIf control belongs to the human, then we process all inputs that way.\u001b[39;49m\u001b[K\r\n\t\u001b[31m# If control does not belong to the human, then the control simply      \u001b[39;49m\r\n\t\u001b[31m# allows the player to move the map around.                             \u001b[39;49m\r\n\tresult = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\tinfo = {}\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().control == \u001b[32m\"human\"\u001b[39;49m:\u001b[22;13H\u001b[33mresult\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[23;15H\u001b[7m\u001b[1mession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   34% L98 \u001b[0m\u001b[39;49m\u001b[27m\u001b[8;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[3;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[?25l\u001b[1P\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@c\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@o\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@a\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@i\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@e\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@r\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[4;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[4;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[19;9H\u001b[?25l\u001b[33mresult\u001b[39;49m\r\n\t\u001b[33minfo\u001b[39;49m\n\nresult\u001b[4;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[7;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.......................\u001b[34m\u001b[40m~~~~~~\r\u001b[2d\u001b[32m\u001b[40m............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\u001b[34m\u001b[40m~~~~~~\r\u001b[3d\u001b[32m\u001b[40m...............\u001b(B\u001b[0;1m\u001b[34m\u001b[40m###$\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[34m\u001b[40m~~~~~\r\u001b[4d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....................\u001b[34m\u001b[40m~~~~\r\u001b[5d\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[6d...............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[7d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m.....\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...........\r\u001b[8d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[9d\u001b[34m\u001b[40m~~\u001b[32m\u001b[40m.............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m..............\r\u001b[10d\u001b[34m\u001b[40m~\u001b[32m\u001b[40m..............\u001b[33m\u001b[40m^\u001b[32m\u001b[40m.....\u001b[31m\u001b[40m+----------------+\r\u001b[11d\u001b[32m\u001b[40m...............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[31m\u001b[40m|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\r\u001b[12d\u001b[32m\u001b[40m......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m##\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m#\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[31m\u001b[40m|Ramen, move out!|\r\u001b[13d\u001b[32m\u001b[40m.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[31m\u001b[40m+----------------+\r\u001b[14d\u001b[32m\u001b[40m......\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!$\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m$\u001b[32m\u001b[40m...............\r\u001b[15d..............................\u001b[13;40H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[32m\u001b[40m.\u001b[2d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[3d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[5d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[6d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b[7d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b[8d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b[9d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b[10d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m~\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[34m\u001b[40m~\u001b[11d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;22H\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[11;6H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[11;22H\u001b(B\u001b[0m\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[12;22H\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[13;22H\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[11;7H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[C+---------+\u001b[12;27H|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[13;27H|Surrender|\u001b[14;27H|End Turn |\u001b[15;27H+---------+\u001b[12d\b\b\u001b[14;15H\u001b[12;28HClose    \u001b[14;28H\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;27H\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[12;27H\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[13;27H\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[14;27H\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[15;27H\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[11;26H\u001b[A\b\b\b\b\u001b[34m\u001b[40m+-----------------+\u001b[11;22H|Day 1 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m    \u001b[34m\u001b[40m|\u001b[12;22H|Ishara, move out!|\u001b[13;22H+-----------------+\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;26H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m1\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;22H\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[11;22H\u001b[32m\u001b[40m.....\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[12;22H\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[13;22H\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[11;27H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[C+---------+\u001b[12;29H|\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mClose    \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[13;29H|Surrender|\u001b[14;29H|End Turn |\u001b[15;29H+---------+\u001b[12d\b\b\u001b[12;30HClose    \u001b[14;30H\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn \b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;29H\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[12d\b\b\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[13d\b\b\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[14d\b\b\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[15d\b\b\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[11;28H\u001b[10;22H\u001b[31m\u001b[40m+----------------+\u001b[34m\u001b[40m+\u001b[11;22H\u001b[31m\u001b[40m|Day 2 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\u001b[34m\u001b[40m|\u001b[12;22H\u001b[31m\u001b[40m|Ramen, move out!|\u001b[34m\u001b[40m|\u001b[13;22H\u001b[31m\u001b[40m+----------------+\u001b[34m\u001b[40m+\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;27H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\b\b\b\b\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[11;22H\u001b[32m\u001b[40m...\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[12;22H\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[13;22H\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[11;25H\u001b[A\b\b\b\u001b[31m\u001b[40m+----------------+\u001b[11;22H|Day 2 - Intro\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[31m\u001b[40m|\u001b[12;22H|Ramen, move out!|\u001b[13;22H+----------------+\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;24H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40ma\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\b\b\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[11;22H\u001b[32m\u001b[40m..\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[12;22H\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[13;22H\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[11;24H\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 95, in run\r\n    gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 88, in refresh\r\n    if gfx: return gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 105, in refresh\r\n    curses.napms(20)\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n,loc \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications.append(n)\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_container.add_sprite(n.sprite)\u001b[K\r\n            \u001b[33mns\u001b[39;49m = n.sprite\u001b[K\r\n            \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = 0,0\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m loc == \u001b[32m\"center\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = (sx+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w//2-ns.w//2,\u001b[K\r\n                                       sy+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h//2-ns.h//2)\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"ul\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx-ns.w,cy-ns.h\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"ur\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx+1,cy-ns.h\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"bl\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx-ns.w,cy+1\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"br\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx+1,cy+1\u001b[K\r\n            n.sprite.move_to(x,y)\u001b[K\r\n\u001b[K\n\u001b[K\n        \u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\u001b[K\r\n        \u001b[31m# If control does not belong to the human, then the control simply      \u001b[39;49m\r\n\u001b[A\n        \u001b[31m# allows the player to move the map around.                             \u001b[39;49m\r\n\u001b[A\n        \u001b[33mresult\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n        \u001b[33minfo\u001b[39;49m = {}\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().control == \u001b[32m\"human\"\u001b[39;49m:\u001b[K\r\n            result = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   34% L97   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[7;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lC-x\u001b[7;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;5H\u001b[?25lv\u001b[7;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;6H\u001b[?25l-\u001b[7;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u001b[24;6H\u001b[?25l C-g is undefined\u001b[7;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[7;40H\u001b[24;1H\u001b[?25lUndo!\u001b[7;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[4;23H\u001b[?25l\u001b[9P\u001b[23;6H\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   34% L94\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[4;23H\u001b[24;1H\u001b[?25lUndo!\u001b[4;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@c\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[4;24H\u001b[24;1H\u001b[?25lUndo!\u001b[4;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@a\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[4;25H\u001b[24;1H\u001b[?25lUndo!\u001b[4;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[4;26H\u001b[24;1H\u001b[?25lUndo!\u001b[4;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@v\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[4;27H\u001b[24;1H\u001b[?25lUndo!\u001b[4;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@a\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[4;28H\u001b[24;1H\u001b[?25lUndo!\u001b[4;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@s\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[4;29H\u001b[24;1H\u001b[?25lUndo!\u001b[4;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[8;48H\u001b[?25l\u001b[1@.\u001b[23;35H\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[8;48H\u001b[24;1H\u001b[?25lUndo!\u001b[8;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@d\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[8;48H\u001b[24;1H\u001b[?25lUndo!\u001b[8;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mi\u001b[0m\u001b[39;49m\u001b[1@\u001b[1m\u001b[34md\u001b[0m\u001b[39;49m\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[8;48H\u001b[24;1H\u001b[?25lUndo!\u001b[8;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lri\u001b[1@d\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[8;48H\u001b[24;1H\u001b[?25lUndo!\u001b[8;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@g\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[8;48H\u001b[24;1H\u001b[?25lUndo!\u001b[8;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[A\u001b[?25l\u001b[1@.\u001b[23;35H\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[7;48H\u001b[24;1H\u001b[?25lUndo!\u001b[7;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@d\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[7;48H\u001b[24;1H\u001b[?25lUndo!\u001b[7;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mi\u001b[0m\u001b[39;49m\u001b[1@\u001b[1m\u001b[34md\u001b[0m\u001b[39;49m\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[7;48H\u001b[24;1H\u001b[?25lUndo!\u001b[7;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lri\u001b[1@d\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[7;48H\u001b[24;1H\u001b[?25lUndo!\u001b[7;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@g\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[7;48H\u001b[24;1H\u001b[?25lUndo!\u001b[7;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[13;30H\u001b[?25lcx,y)\u001b[23;34H\u001b[7m103\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[13;30H\u001b[?25lx,y)\u001b[K\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m99 \u001b[0m\u001b[39;49m\u001b[27m\u001b[9;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mid\u001b[0m\u001b[39;49m\u001b[1P\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[1P\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mid\u001b[0m\u001b[39;49m\u001b[1P\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[1P\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/session.py...\u001b[7;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/session.py\u001b[K\u001b[7;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   34% L97   Git-\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[19;9H\u001b[?25lresult\r\n\tinfo\u001b[7;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[7;48H\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default sprites.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lsprites.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\t        \u001b[33mglyph\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.surface[j][i]\u001b[3;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m glyph:\u001b[K\u001b[4;13H        gfx.draw(dx,dy,glyph.icon,glyph.color())\r\n\u001b[K\n\t\u001b[31m# Set all the sprites as no longer having been moved.                   \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites:\u001b[K\u001b[8;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m s.visible:\u001b[K\u001b[9;13H    \u001b[33mupdate\u001b[39;49m += s.dirty\u001b[K\u001b[10;13H    s.render(x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x,y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y, bounds, [(i-s.x,j-s.y)\u001b[11;13H                                         \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (i,j) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m update])\u001b[12;13H\u001b[33ms.moved\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[31m# Set this sprite as no longer dirty. If any children died due to the   \u001b[39;49m\r\n\t\u001b[31m# timer clock running out, store their information in self.dirty so     \u001b[39;49m\r\n\u001b[16;11H\u001b[31mthat the next pass overwrites them.                                   \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.dirty = []\u001b[K\r\n\t\u001b[33moldsprites\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites = []\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m oldsprites:\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m s.alive:\u001b[K\u001b[22;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.sprites.append(s)\u001b[23;15H\u001b[7m\u001b[1mprites.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   47% L122  Git:\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msprites.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   48\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[11;1H\u001b[1M\u001b[1;24r\u001b[9;17H\u001b[?25ls.render(x+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.x,y+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.y, bounds, [(i-s.x,j-s.y)\r\n\t\t                                     \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (i,j) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m update])\u001b[22;1H            \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;23r\u001b[22;1H\u001b[1M\u001b[1;24r\u001b[24;1H\u001b[?25l.\u001b[A\bSaving file /home/isharacomix/Documents/rules-of-war/code/graphics/sprites.py..\\\r\n\u001b[A\u001b[9d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[A\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/graphics/sprites.py\u001b[K\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;24r\u001b[23;1H\u001b[1L\u001b[1;24r\u001b[22;1H\u001b[?25l            \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1msprites.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   48% L122  Git-master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[9d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[9d\u001b[24d\u001b[?25l\u001b[34mSwitch to buffer (default session.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lsession.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m n,loc \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.info():\u001b[K\u001b[3;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.notifications.append(n)\u001b[4;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid_canvas.add_sprite(n.sprite)\u001b[K\u001b[5;13H\u001b[33mns\u001b[39;49m = n.sprite\r\n\t    \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = 0,0\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m loc == \u001b[32m\"center\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = (sx+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w//2-ns.w//2,\u001b[8;13H                           sy+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h//2-ns.h//2)\u001b[9;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"ul\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx-ns.w,cy-ns.h\u001b[K\u001b[10;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"ur\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx+1,cy-ns.h\u001b[K\u001b[11;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"bl\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx-ns.w,cy+1\u001b[12;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"br\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx+1,cy+1\r\n\t    n.sprite.move_to(x,y)\u001b[K\r\n\u001b[K\n\u001b[K\n\t\u001b[31m# If control belongs to the human, then we process all inputs that way.\u001b[39;49m\r\n\t\u001b[31m# If control does not belong to the human, then the control simply      \u001b[39;49m\r\n\t\u001b[31m# allows the player to move the map around.                             \u001b[39;49m\r\n\tresult = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\tinfo = {}\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().control == \u001b[32m\"human\"\u001b[39;49m:\u001b[22;13Hresult = \u001b[35mNone\u001b[39;49m\u001b[23;15H\u001b[7m\u001b[1mession.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   34% L97 \u001b[0m\u001b[39;49m\u001b[27m\u001b[7;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l(No files need saving)\u001b[7;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[7;48H\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default sprites.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lsprites.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrules.py\u001b[K\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l*scratch*\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mLisp-Interaction Help\u001b[0m\u001b[39;49m\u001b[27m\r\nAll right. That makes me feel a little better. It still seems like these\r\nnotifications need to be made more opaque than they currently are. I don't\r\nlike how they are still such low-level beasts. There's no way to get around\r\nit though. Some things just have to control base graphics. Grid, notifications,\r\netc. I just wish I could take some of that out of the rules, but the rules\r\nalso need a way to provide information back to the player! There's no getting\r\naround it.\u001b[K\r\n\u001b[K\nPart of why I'm frstrated is that I don't... ugh. Well, when I'm making AI,\r\nI don't want the AI to have to sort through the stuff designed for humans, but\r\nI guess I've made it easy enough to ignore. It's just frustrating. Anyway,\r\nit's still not as bad as it used to be. The sprite rendering system isn't\r\nperfect, but it's getting there. I'm irritated by this bug with the sibling\r\nsprites not rendering correctly. Ah. That makes sense. I think I get it. So\r\nthe siblings aren't updating because they don't say WHERE to update!\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;4H\u001b[7mU:**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1m*scratch*   \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L59    (Lisp Interaction) -\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;69H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[18;1H\u001b[1L\u001b[1;24r\u001b[18;1H\u001b[K\u001b[23;29H\u001b[?25l\u001b[7m70% L60\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[19;1H\u001b[1L\u001b[1;24r\u001b[19;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lA\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lT\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lf\u001b[23;29H\u001b[7m69\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lU\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[20;1H\u001b[1L\u001b[1;24r\u001b[18;80H\u001b[?25l\\\r\n,\n\b\u001b[K\u001b[A\u001b[C\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[21;1H\u001b[1L\u001b[1;24r\u001b[21;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;2H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[20;1H\u001b[1M\u001b[1;24r\u001b[18;80H\u001b[K\r\n\u001b[K\n\n\n\u001b[K\u001b[18;80H\b\u001b[K\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[20;1H\u001b[1L\u001b[1;24r\u001b[20;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ld\u001b[23;30H\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;4H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\u001b[C\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\u001b[C\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\b\u001b[K\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\b\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\t\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lq\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lA\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[23;30H\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;55H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[23;30H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;54H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[23;30H\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;55H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[21;1H\u001b[1L\u001b[1;24r\u001b[21;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25lF\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[C\u001b[?25lF\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\u001b[C\b\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\b\u001b[K\t\b\b\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\n\n\n\b\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[20d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\u001b[C\b\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lp\u001b[23;30H\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;8H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\u001b[K\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[23;30H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;7H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb\u001b[23;30H\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;8H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l-\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lM\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[23;30H\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;63H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\t\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[C\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lA\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;30H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[A\t\t\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[2;1H\u001b[11M\u001b[1;24r\u001b[12;1H\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[?25l\u001b[7mBot L66\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[15;1H\u001b[1L\u001b[1;24r\u001b[15;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[14;1H\u001b[1M\u001b[1;24r\u001b[22;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[13;1H\u001b[1M\u001b[1;24r\u001b[22;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;71H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u001b[24d\u001b[?25lEnd of buffer\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m69\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lO\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lz\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lA\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lC\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25lS\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lC\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\b\u001b[K\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25l[\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[C\b\b\u001b[K\b\b\u001b[K\t\b\b\u001b[K\b\b\u001b[K\u001b[C\b\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\b\u001b[K\t\b\b\b\b\u001b[K\u001b[C\b\b\u001b[K\b\u001b[K\b\u001b[K\b\b\u001b[K\t\b\b\u001b[K\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lq\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32m\"              \u001b[39;49m\r\n\u001b[15;67H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ml\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32m\"                                                      \u001b[39;49m\r\n\u001b[16;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mx\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mu\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ml\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32m\"                         \u001b[39;49m\r\n\u001b[16;56H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mf\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mc\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32my\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lT\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\u001b[C\b\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\t\b\b\u001b[K\b\b\u001b[K\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l2\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\u001b[C\u001b[?25l2\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l3\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l8\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l8\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25l4\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l8\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\u001b[?25l0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lT\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[C\b\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lB\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lB\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l!\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\u001b[?25l\u001b[34mFile to save in: \u001b[39;49m~/Documents/rules-of-war/\u001b[1;33H\u001b[7mMinibuf Help         \u001b[0m\u001b[39;49m\u001b[27m\u001b[24;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l2\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l4\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[?25lWrote /home/isharacomix/day24\u001b[21;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;33H\u001b[?25l\u001b[7mLisp-Interaction Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[23;6H\u001b[7m----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mday24    \u001b[0m\u001b[39;49m\u001b[27m\u001b[A\u001b[A\t\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\u001b[K\u001b[21;25H\r\n\n\n\u001b[?25l(No files need saving)\u001b[21;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ git coom\b\u001b[K\b\u001b[Kmmit -am\r\nerror: switch `m' requires a value\r\nusage: git commit [options] [--] <pathspec>...\r\n\r\n    -q, --quiet           suppress summary after successful commit\r\n    -v, --verbose         show diff in commit message template\r\n\r\nCommit message options\r\n    -F, --file <file>     read message from file\r\n    --author <author>     override author for commit\r\n    --date <date>         override date for commit\r\n    -m, --message <message>\r\n                          commit message\r\n    -c, --reedit-message <commit>\r\n                          reuse and edit message from specified commit\r\n    -C, --reuse-message <commit>\r\n                          reuse message from specified commit\r\n    --fixup <commit>      use autosquash formatted message to fixup specified commit\r\n    --squash <commit>     use autosquash formatted message to squash specified commit\r\n    --reset-author        the commit is authored by me now (used with -C/-c/--amend)\r\n    -s, --signoff         add Signed-off-by:\r\n    -t, --template <file>\r\n                          use specified template file\r\n    -e, --edit            force edit of commit\r\n    --cleanup <default>   how to strip spaces and #comments from message\r\n    --status              include status in commit message template\r\n    -S, --gpg-sign[=<key id>]\r\n                          GPG sign commit\r\n\r\nCommit contents options\r\n    -a, --all             commit all changed files\r\n    -i, --include         add specified files to index for commit\r\n    --interactive         interactively add files\r\n    -p, --patch           interactively add changes\r\n    -o, --only            commit only specified files\r\n    -n, --no-verify       bypass pre-commit hook\r\n    --dry-run             show what would be committed\r\n    --short               show status concisely\r\n    --branch              show branch information\r\n    --porcelain           machine-readable output\r\n    --long                show status in long format (default)\r\n    -z, --null            terminate entries with NUL\r\n    --amend               amend previous commit\r\n    --no-post-rewrite     bypass post-rewrite hook\r\n    -u, --untracked-files[=<mode>]\r\n                          show untracked files, optional modes: all, normal, no. (Default: all)\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ git commit -am foo\r\n# On branch master\r\nnothing to commit, working directory clean\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ exit\r\n\nScript done on Thu 06 Feb 2014 12:14:51 AM EST\n"}
