{"private":null,"typescript":"Script started on Thu 23 Jan 2014 10:03:18 PM EST\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ emadcs\b\u001b[K\b\u001b[K\b\u001b[Kcs r\b\u001b[K\b\u001b[K\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[H\u001b[2J\u001b[24d\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[H\u001b[2J\u001b[23d\u001b[?25l\u001b[7m-UUU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1m*scratch*   \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   All L1     (Fundamental) ---------------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[2d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lLoading 00debian-vars...\u001b[K\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;25H\u001b[?25ldone\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;9H\u001b[?25l/etc/emacs/site-start.d/50autoconf.el (source)...\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;58H\u001b[?25ldone\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;35H\u001b[?25ldictionaries-common.el (source)...\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;9H\u001b[?25ldebian-ispell...\u001b[K\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;9H\u001b[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25le\u001b[K\u001b[H\u001b[7mFile Edit Options Buffers Tools Help                                            \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[7m-UUU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1m*scratch*   \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   All L1     (Fundamental) ---------------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\nLoading /var/cache/dictionaries-common/emacsen-ispell-default.el (source)...don\\\r\n\u001b[A\u001b[2d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[A\t\u001b[?25ldebian-ispell...done\u001b[K\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;9H\u001b[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;75H\u001b[?25ldone\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;10H\u001b[?25letc/emacs/site-start.d/50dictionaries-common\u001b[6P\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[>0c\u001b[24d\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Lisp-Interaction Help                           \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[7m-UUU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1m*scratch*   \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   All L1     (Lisp Interaction) ----------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\nLoading /etc/emacs/site-start.d/50dictionaries-common.el (source)...done\u001b[K\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;23r\u001b[22;1H\u001b[1L\u001b[1;24r\u001b[24;1H\u001b[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.\u001b[22;1H\u001b[K\u001b[2d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.\u001b[K\u001b[H\u001b[7mFile Edit Options Buffers Tools Help                                            \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\nWelcome to GNU Emacs, one component of the GNU/Linux operating system.\u001b[K\r\n\u001b[K\nGet help           C-h  (Hold down CTRL and press h)\u001b[K\r\n\u001b[4m\u001b[34mEmacs manual\u001b[0m\u001b[39;49m       C-h r        \u001b[4m\u001b[34mBrowse manuals\u001b[0m\u001b[39;49m     C-h i\u001b[K\r\n\u001b[4m\u001b[34mEmacs tutorial\u001b[0m\u001b[39;49m     C-h t        Undo changes       C-x u\u001b[K\r\n\u001b[4m\u001b[34mBuy manuals\u001b[0m\u001b[39;49m        C-h RET      Exit Emacs         C-x C-c\u001b[K\r\n\u001b[4m\u001b[34mActivate menubar\u001b[0m\u001b[39;49m   M-`\u001b[K\r\n(`C-' means use the CTRL key.  `M-' means use the Meta (or Alt) key.\u001b[K\r\nIf you have no Meta key, you may instead type ESC followed by the character.)\u001b[K\r\nUseful tasks:\u001b[K\r\n\u001b[4m\u001b[34mVisit New File\u001b[0m\u001b[39;49m                  \u001b[4m\u001b[34mOpen Home Directory\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[4m\u001b[34mCustomize Startup\u001b[0m\u001b[39;49m               \u001b[4m\u001b[34mOpen *scratch* buffer\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\nGNU Emacs 24.3.1 (i686-pc-linux-gnu)\u001b[K\r\n of 2013-07-26 on komainu, modified by Debian\u001b[K\r\nCopyright (C) 2013 Free Software Foundation, Inc.\u001b[K\r\n\u001b[K\nGNU Emacs comes with ABSOLUTELY NO WARRANTY; type C-h C-w for \u001b[4m\u001b[34mfull details\u001b[0m\u001b[39;49m.\u001b[K\r\nEmacs is Free Software--Free as in Freedom--so you can redistribute copies\u001b[K\r\nof Emacs and modify it; type C-h C-c to see \u001b[4m\u001b[34mthe conditions\u001b[0m\u001b[39;49m.\u001b[K\r\nType C-h C-o for information on \u001b[4m\u001b[34mgetting the latest version\u001b[0m\u001b[39;49m.\u001b[K\r\n\u001b[7m-UUU:%%--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1m*GNU Emacs* \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Top L1     (Fundamental) ---------------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[2d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[2d\u001b[24d\u001b[?25l\u001b[34mSwitch to buffer (default *scratch*): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l*scratch*\u001b[24;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lMessages*\u001b[24;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lscratch*\u001b[K\u001b[24;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mLisp-Interaction Help\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[31m;; This buffer is for notes you don't want to save, and for Lisp evaluation.    \u001b[39;49m\r\n\u001b[31m;; If you want to create a file, visit that file with C-x C-f,                  \u001b[39;49m\r\n\u001b[31m;; then enter the text in that file's own buffer.                               \u001b[39;49m\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\n\u001b[K\n\u001b[K\n\u001b[K\n\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;6H\u001b[7m----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1m*scratch*   \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   All L5     (Lisp Interaction) \u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1m*scratch*   \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   All L6\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l1\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l9\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[C\b\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l!\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lq\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\b\u001b[K\t\b\b\u001b[K\b\u001b[K\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\u001b[K\b\u001b[K\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lj\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l!\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lz\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lW\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l!\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\u001b[K\b\u001b[K\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lT\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\u001b[23;34H\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m10\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lA\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lL\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lT\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\t\b\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l9\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\t\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\r\t\t\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[13;51H\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mFile to save in: \u001b[39;49m~/Documents/rules-of-war/\u001b[1;33H\u001b[7mMinibuf Help         \u001b[0m\u001b[39;49m\u001b[27m\u001b[24;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\r\u001b[?25lQuit\u001b[K\u001b[1;33H\u001b[7mLisp-Interaction Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[13;52H\u001b[24;1H\u001b[?25l\u001b[34mSet fill-column to (default 51): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help         \u001b[0m\u001b[39;49m\u001b[27m\u001b[24;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\r\u001b[?25lQuit\u001b[K\u001b[1;33H\u001b[7mLisp-Interaction Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[13;52H\u001b[24;1H\u001b[?25l\u001b[34mFind file: \u001b[39;49m~/Documents/rules-of-war/\u001b[1;33H\u001b[7mMinibuf Help         \u001b[0m\u001b[39;49m\u001b[27m\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lD\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\t\u001b[?25l[No match]\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lde/\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lre/\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lles.py\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[?25lLoading vc-git...\u001b[K\u001b[13;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;18H\u001b[?25ldone\u001b[13;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lLoading vc-git...done\u001b[K\u001b[H\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n\u001b[31m# A rules object handles all of the actual game play elements. The rules        \u001b[39;49m\r\n\u001b[A\n\u001b[31m# are what give meaning to the pieces in a Grid, and is controlled (usually)    \u001b[39;49m\r\n\u001b[A\n\u001b[31m# by a Controller that provides piecewise input.                                \u001b[39;49m\r\n\u001b[A\n\u001b[K\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m . \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m grid, widgets, storage, log\u001b[K\r\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m graphics \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m draw\u001b[K\r\n\u001b[K\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m copy, json\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# Global strings. Stored to avoid mistyping.                                    \u001b[39;49m\r\n\u001b[A\n\u001b[33mCTRL_COORD\u001b[39;49m = \u001b[32m\"coord\"\u001b[39;49m\u001b[K\r\n\u001b[33mCTRL_MENU\u001b[39;49m = \u001b[32m\"menu\"\u001b[39;49m\u001b[K\r\n\u001b[33mCTRL_UNDO\u001b[39;49m = \u001b[32m\"undo\"\u001b[39;49m\u001b[K\r\n\u001b[33mCTRL_EDITOR\u001b[39;49m = \u001b[32m\"editor\"\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# Custom Cell subclass. Contains information such as terrain defensive bonus.   \u001b[39;49m\r\n\u001b[A\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mCell\u001b[39;49m(grid.Cell):\u001b[K\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, name, rules):\u001b[K\r\n        \u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Cell, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(name, rules[\u001b[32m\"icon\"\u001b[39;49m], rules[\u001b[32m\"color\"\u001b[39;49m])\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Top L1    Git-master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[2d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[2d\u001b[?25l    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, name, rules):\u001b[K\r\n        \u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Cell, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(name, rules[\u001b[32m\"icon\"\u001b[39;49m], rules[\u001b[32m\"color\"\u001b[39;49m])\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defense = rules[\u001b[32m\"defense\"\u001b[39;49m]\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties = \u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"properties\"\u001b[39;49m,[]))\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.hp = 100\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cash = rules.get(\u001b[32m\"cash\"\u001b[39;49m,0)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.build = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"build\"\u001b[39;49m,{}))\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.description = rules.get(\u001b[32m\"description\"\u001b[39;49m,\u001b[32m\"\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.repair = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"repair\"\u001b[39;49m,{}))\n\n\b\b\b\b\b\u001b[4P\r\u001b[4@\t\b\b\u001b[31mCreate a rulebook section for this terrain.\u001b[39;49m\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrulebook\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n        \u001b[33mreport\u001b[39;49m = []\r\n        report.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name+\u001b[32m\"\\n\"\u001b[39;49m+(\u001b[32m\"-\"\u001b[39;49m*\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name)))\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.description:\u001b[17;13Hreport.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.description+\u001b[32m\"\\n \"\u001b[39;49m)\r\n\treport.append(\u001b[32m\"Icon on map: %s\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.icon)\r\n        report.append(\u001b[32m\"Defensive cover: %d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defense)\u001b[K\r\n\u001b[K\u001b[21;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\r\n\t    report.append(\u001b[32m\"Can be captured\"\u001b[39;49m)\u001b[K\u001b[23;29H\u001b[7m 2% L20\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\r\n\t    report.append(\u001b[32m\"Can be captured\"\u001b[39;49m)\u001b[K\r\n\t    report.append(\u001b[32m\"Produces $%d per turn\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cash)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"build\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[K\r\n\t    report.append(\u001b[32m\"Can produce units:\"\u001b[39;49m)\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.build:\u001b[K\r\n\t        report.append(\u001b[32m\"    %s costs $%d\"\u001b[39;49m%(b,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.build[b]))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"hq\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[K\r\n\t    report.append(\u001b[32m\"This team loses if this property is captured\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"repair\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[12;5H        report.append(\u001b[32m\"Repairs the following units at start of a day:\"\u001b[39;49m)\u001b[K\u001b[13;5H        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.repair:\r\n\t        report.append(\u001b[32m\"    %s (+%d%%)\"\u001b[39;49m%(b,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.repair[b]))\r\n\u001b[K\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# Custom Team subclass. Contains information such as resources.                 \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mTeam\u001b[39;49m(grid.Team):\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, name, color):\u001b[K\r\n\t\u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Team, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(name, color)\u001b[23;30H\u001b[7m4% L39\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m40\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;74H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[11;1H\u001b[1L\u001b[1;24r\u001b[11;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m    4% L48\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[11;13H\r\t\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32m\"                                                                    \u001b[39;49m\r\n\u001b[32m        if \"\u001b[39;49mrepair\u001b[32m\" in self.properties:                                         \u001b[39;49m\r\n\u001b[11;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mc\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mv\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"repair\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[K\u001b[11;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25li\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36min\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[13;1H\u001b[1L\u001b[1;24r\u001b[12;1H\u001b[K\n\u001b[?25l        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"repair\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[K\u001b[23;35H\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;13H\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;22r\u001b[13;1H\u001b[1M\u001b[1;24r\u001b[11;13H\u001b[?25lreport.append()\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"repair\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[22;1H    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, name, color):\u001b[K\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[1;22r\u001b[13;1H\u001b[1M\u001b[1;24r\u001b[11;9H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"repair\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\r\n\t    report.append(\u001b[32m\"Repairs the following units at start of a day:\"\u001b[39;49m)\u001b[22;1H        \u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Team, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(name, color)\u001b[K\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, name, color):\u001b[K\r\n\t\u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Team, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(name, color)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cash = 0\u001b[K\r\n\u001b[K\n\u001b[31m# Custom Unit subclass. Contains information such as HP, readiness, and         \u001b[39;49m\r\n\u001b[31m# a custom drawing method.                                                      \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mUnit\u001b[39;49m(grid.Unit):\u001b[K\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, name, rules):\r\n\t\u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Unit, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(name, rules[\u001b[32m\"icon\"\u001b[39;49m])\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.hp = 100\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.ready = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.move = rules[\u001b[32m\"move\"\u001b[39;49m]\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.anim = 0.0\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(rules[\u001b[32m\"damage\"\u001b[39;49m])\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties = \u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"properties\"\u001b[39;49m,[]))\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.terrain = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(rules[\u001b[32m\"terrain\"\u001b[39;49m])\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng = \u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"range\"\u001b[39;49m,[1,1]))\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.description = rules.get(\u001b[32m\"description\"\u001b[39;49m,\u001b[32m\"\"\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.capacity = rules.get(\u001b[32m\"capacity\"\u001b[39;49m,0)\u001b[21;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.carry = \u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"carry\"\u001b[39;49m,[]))\r\n\u001b[K\u001b[23;30H\u001b[7m5% L5\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.carry = \u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"carry\"\u001b[39;49m,[]))\r\n\u001b[K\u001b[4;5H\u001b[31m# Create a rulebook section for this unit.                                  \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrulebook\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n        \u001b[33mreport\u001b[39;49m = []\u001b[K\r\n        report.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name+\u001b[32m\"\\n\"\u001b[39;49m+(\u001b[32m\"-\"\u001b[39;49m*\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name)))\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.description:\u001b[9;5H        report.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.description+\u001b[32m\"\\n \"\u001b[39;49m)\r\n\treport.append(\u001b[32m\"Icon on map: %s\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.icon)\u001b[K\r\n\treport.append(\u001b[32m\"Movement Range: %d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.move)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.terrain:\r\n\t    report.append(\u001b[32m\"    %d over %s\"\u001b[39;49m%(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.terrain[t],t))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"indirect\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\r\n\t    report.append(\u001b[32m\"Indirect attack unit\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[0] != \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[1]:\u001b[K\r\n\t    report.append(\u001b[32m\"Firing Range: %d-%d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng)\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    report.append(\u001b[32m\"Firing Range: %d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[0])\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage:\u001b[K\r\n\t    report.append(\u001b[32m\"    vs %s -%d%%\"\u001b[39;49m%(u, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage[u]))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[23;30H\u001b[7m7% L77\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lAuto-saving...\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;34H\u001b[?25l\u001b[7m80\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m90\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l    report.append(\u001b[32m\"    %d over %s\"\u001b[39;49m%(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.terrain[t],t))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"indirect\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[4;5H        report.append(\u001b[32m\"Indirect attack unit\"\u001b[39;49m)\u001b[K\u001b[5;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[0] != \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[1]:\r\n\t    report.append(\u001b[32m\"Firing Range: %d-%d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng)\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    report.append(\u001b[32m\"Firing Range: %d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[0])\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage:\u001b[K\r\n\t\u001b[4@\u001b[10;28H\u001b[32m    vs %s -%d%%\"\u001b[39;49m%(u, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage[u]))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[K\r\n\t    report.append(\u001b[32m\"Can capture properties\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"carry\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[K\r\n\t    \u001b[33ma\u001b[39;49m = \u001b[32m\"Can carry up to %d of the following units:\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.capacity\u001b[15;27Ha)\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.carry:\u001b[K\u001b[17;13H\u001b[4@\t\t\t\b\u001b[32m    %s\"\u001b[39;49m%u)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\u001b[K\u001b[21;5H\u001b[31m# Simulate an attack from this unit on a target including unit              \u001b[39;49m\r\n\u001b[22;5H\u001b[31m# bonuses and terrain effects.                                              \u001b[39;49m\r\n\u001b[23;30H\u001b[7m8% L98\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m100\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m99 \u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m89\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.carry = \u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"carry\"\u001b[39;49m,[]))\u001b[K\r\n\u001b[K\u001b[4;5H\u001b[31m# Create a rulebook section for this unit.                                  \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrulebook\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m = []\u001b[K\r\n\treport.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name+\u001b[32m\"\\n\"\u001b[39;49m+(\u001b[32m\"-\"\u001b[39;49m*\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name)))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.description:\u001b[K\r\n\t    report.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.description+\u001b[32m\"\\n \"\u001b[39;49m)\r\n\t\u001b[4P\t\t\b\u001b[32mIcon on map: %s\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.icon)\u001b[K\r\n\treport.append(\u001b[32m\"Movement Range: %d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.move)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.terrain:\u001b[K\r\n\t    report.append(\u001b[32m\"    %d over %s\"\u001b[39;49m%(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.terrain[t],t))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"indirect\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[K\u001b[15;27H\u001b[32m\"Indirect attack unit\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[0] != \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[1]:\u001b[17;13H\u001b[4P\u001b[17;28H\u001b[32mFiring Range: %d-%d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng)\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\r\n\t    report.append(\u001b[32m\"Firing Range: %d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[0])\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage:\u001b[21;5H        report.append(\u001b[32m\"    vs %s -%d%%\"\u001b[39;49m%(u, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage[u]))\u001b[K\u001b[22;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[K\u001b[23;30H\u001b[7m7% L87\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;64H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[15;1H\u001b[1L\u001b[1;24r\u001b[14;1H\u001b[K\n\u001b[?25l        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"indirect\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[K\u001b[23;35H\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lMark set\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[16;1H\u001b[2L\u001b[1;24r\u001b[14;9H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"nocover\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\r\n\t    report.append()\u001b[K\r\n\u001b[K\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"indirect\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[K\u001b[23;34H\u001b[7m91\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[17;1H\u001b[1M\u001b[1;24r\u001b[24;1H\u001b[K\u001b[16;9H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"indirect\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[22;1H        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage:\u001b[K\u001b[23;35H\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m89\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[23;34H\u001b[?25l\u001b[7m90\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\u001b[?25l\u001b[32m\")                                                    \u001b[39;49m\r\n\u001b[32m        if \"\u001b[39;49mindirect\u001b[32m\" in self.properties:                                       \u001b[39;49m\r\n\u001b[15;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"indirect\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[K\u001b[15;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32mT\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mh\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mi\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ms\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m \"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mu\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mn\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mi\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m \"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32md\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mo\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ms\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m \"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mn\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mo\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m \"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mr\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mc\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mi\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mv\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m \"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32md\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mv\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m\"\u001b[39;49m)\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m\"\u001b[39;49m)\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mf\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mr\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mn\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m\"\u001b[39;49m)\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m\"\u001b[39;49m)\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m\"\u001b[39;49m)\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ms\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mi\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m\"\u001b[39;49m)\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m\"\u001b[39;49m)\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mn\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ms\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mi\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mc\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mv\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m\"\u001b[39;49m)\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m\"\u001b[39;49m)\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m\"\u001b[39;49m)\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mv\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m \"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mc\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mo\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mv\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mr\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m.\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[15;71H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[15;71H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m    7% L90   Git:\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;71H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[15;70H\u001b[?25l\u001b[32m\"\u001b[39;49m)\u001b[K\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;70H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[15;70H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[15;70H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;70H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[H\n\t\u001b[?25l    report.append(\u001b[32m\"Firing Range: %d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[0])\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage:\u001b[4;5H        report.append(\u001b[32m\"    vs %s -%d%%\"\u001b[39;49m%(u, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage[u]))\u001b[K\u001b[5;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\r\n\t    report.append(\u001b[32m\"Can capture properties\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"carry\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[K\r\n\t    \u001b[33ma\u001b[39;49m = \u001b[32m\"Can carry up to %d of the following units:\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.capacity\u001b[9;27Ha)\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.carry:\u001b[K\r\n\t\u001b[8@\t\t\t\b\u001b[32m    %s\"\u001b[39;49m%u)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\u001b[K\u001b[15;5H\u001b[31m# Simulate an attack from this unit on a target including unit              \u001b[39;49m\r\n\u001b[16;5H\u001b[31m# bonuses and terrain effects.                                              \u001b[39;49m\r\n\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34msimulate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, target, terrain, hp=\u001b[35mNone\u001b[39;49m):\u001b[18;12H\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m hp: \u001b[33mhp\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.hp\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m target \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage:\u001b[K\r\n\t    \u001b[33mbase\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage[target]\u001b[21;13H\u001b[33mcover\u001b[39;49m = 1.0 - (.1*terrain.defense)\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(base*.01*hp*cover)\u001b[23;30H\u001b[7m9% L96\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[33mcover\u001b[39;49m = 1.0 - (.1*terrain.defense)\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(base*.01*hp*cover)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[6;5H\u001b[31m# This returns False if out of range and true if in range.                  \u001b[39;49m\r\n\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34min_range\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, dist):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m (dist >= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[0] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m dist <= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[1])\u001b[K\r\n\u001b[K\u001b[10;5H\u001b[31m# This drawing method overrides the default method by handling              \u001b[39;49m\r\n\u001b[11;5H\u001b[31m# animations for when this unit is low on resources such as HP,             \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# ammo, etc.                                                                \u001b[39;49m\r\n\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, col):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.anim += .02\r\n\u001b[K\u001b[16;60H\u001b[4P\u001b[16;5H\u001b[4@\u001b[16;11H\u001b[31mGray out units that can't act. Units are always bold.\u001b[39;49m\u001b[17;5H    \u001b[33mready\u001b[39;49m = \u001b[32m\"x\"\u001b[39;49m \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.ready \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n\t\u001b[33mcolor\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.team.color + ready + col + \u001b[32m\"!\"\u001b[39;49m\r\n\u001b[K\n\t\u001b[31m# Build the animation for this unit based on values                     \u001b[39;49m\r\n\t\u001b[31m# that are running low (hp, fuel, etc).                                 \u001b[39;49m\r\n\t\u001b[33mframes\u001b[39;49m = [\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.icon]\u001b[K\n\u001b[7m11% L115\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[31m# that are running low (hp, fuel, etc).                                 \u001b[39;49m\r\n\t\u001b[33mframes\u001b[39;49m = [\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.icon]\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.hp < 90):\u001b[5;13Hframes.append( \u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m((\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.hp//10)+1)  )\u001b[6;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.anim) >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(frames):\u001b[K\u001b[7;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.anim = 0.0\u001b[K\r\n\t\u001b[33mimg\u001b[39;49m = frames[\u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.anim)]\u001b[K\u001b[10;63H\u001b[4P\u001b[10;5H\u001b[4@\u001b[10;11H\u001b[31mDraw the character.                                     \u001b[39;49m\u001b[11;5H    draw.char(x, y, img, color)\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# The Rules serve two purposes. Firstly, it is a factory that produces          \u001b[39;49m\r\n\u001b[31m# new objects according the needs of the game being played. Secondly, they      \u001b[39;49m\r\n\u001b[31m# serve as a state machine for performing legal actions and changing the        \u001b[39;49m\r\n\u001b[31m# state of the game grid.                                                       \u001b[39;49m\r\n\u001b[31m#                                                                               \u001b[39;49m\r\n\u001b[31m# Required methods:                                                             \u001b[39;49m\r\n\u001b[8P\u001b[C\u001b[C\u001b[31m  make_unit                                      \u001b[39;49m\u001b[8@\u001b[31m        \u001b[39;49m\r\n\u001b[8P\u001b[C\u001b[C\u001b[31m  make_team                          \u001b[39;49m\u001b[8@\u001b[31m        \u001b[39;49m\r\n\u001b[31m#   make_cell                                                                   \u001b[39;49m\r\n\u001b[23;30H\u001b[7m3% L134\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[8P\u001b[2;3H\u001b[?25l\u001b[31m  make_team                          \u001b[39;49m\u001b[8@\u001b[31m        \u001b[39;49m\r\n\u001b[31m#   make_cell                                                                   \u001b[39;49m\r\n\u001b[31m#   pop_alerts                                                                  \u001b[39;49m\r\n\u001b[31m#   process                                                                     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mRules\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data, edit=\u001b[35mFalse\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data = data\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.edit = edit\r\n\u001b[K\n\t\u001b[31m# Create the grid with what's left.                                     \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = grid.Grid(data[\u001b[32m\"grid\"\u001b[39;49m], \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m)\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.edit:\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\u001b[K\r\n                \u001b[33mt.active\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m p \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data[\u001b[32m\"players\"\u001b[39;49m]:\u001b[K\r\n                \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams[data[\u001b[32m\"players\"\u001b[39;49m][p][\u001b[32m\"team\"\u001b[39;49m]]\u001b[K\r\n                \u001b[33mt.name\u001b[39;49m = p\u001b[K\r\n                \u001b[33mt.color\u001b[39;49m = data[\u001b[32m\"players\"\u001b[39;49m][p][\u001b[32m\"color\"\u001b[39;49m]\u001b[K\r\n                \u001b[33mt.active\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\u001b[K\u001b[23;30H\u001b[7m4% L153\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l                \u001b[33mt.active\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t.active:\u001b[K\r\n                    \u001b[33mt.name\u001b[39;49m = \u001b[32m\"Absent\"\u001b[39;49m\u001b[K\r\n                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defeated(t)\u001b[7;5H            \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().active \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.day==1:\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.end_turn()\u001b[9;14Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.restartpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\u001b[K\n\t\u001b[31m# The history contains all actions for this player turn.                \u001b[39;49m\r\n\u001b[13;14Hhistory = []\u001b[K\r\n\u001b[K\n\t\u001b[31m# These are the state variables                                         \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"play\"\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m edit:\u001b[K\n\b\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m] = []\u001b[20;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"edit\"\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[23;30H\u001b[7m5% L172\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\n\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.winners = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[31m# other                                                                 \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[31m# Replay turn history.                                                  \u001b[39;49m\r\n\t\u001b[33mreplay\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data.pop(\u001b[32m\"history\"\u001b[39;49m,[])\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m] = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m turn \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m replay:\u001b[14;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m action \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m turn:\r\n\t        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m step \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m action:\u001b[K\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process(step)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end_turn()\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[21;5H\u001b[31m# Return a JSON string that can be saved to a file. The current             \u001b[39;49m\r\n\u001b[22;5H\u001b[31m# turn in progress will be lost.                                            \u001b[39;49m\r\n\u001b[23;30H\u001b[7m7% L191\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m# Return a JSON string that can be saved to a file. The current             \u001b[39;49m\r\n\u001b[3;5H\u001b[31m# turn in progress will be lost.                                            \u001b[39;49m\r\n\u001b[4;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, griddata=\u001b[35mFalse\u001b[39;49m):\r\n\t\u001b[33mdata\u001b[39;49m = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m griddata:\u001b[K\r\n\t    \u001b[33mdata\u001b[39;49m[\u001b[32m\"grid\"\u001b[39;49m] = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.export()\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m json.dumps(data, indent=4)\u001b[10;5H\u001b[4P\t\b\b\u001b[31mThis function produces a Unit object based on the unit c\u001b[39;49m\u001b[4@\u001b[31mode.\u001b[39;49m\u001b[11;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mmake_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data):\u001b[K\r\n\t\u001b[33mname\u001b[39;49m = data[\u001b[32m\"name\"\u001b[39;49m]\u001b[K\r\n\t\u001b[33mu\u001b[39;49m = Unit(name, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m][name])\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m u\u001b[K\r\n\u001b[K\u001b[16;5H\u001b[31m# This function produces a Cell object based on the terrain code.           \u001b[39;49m\r\n\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mmake_cell\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data):\r\n\t\u001b[33mname\u001b[39;49m = data[\u001b[32m\"name\"\u001b[39;49m]\r\n\t\u001b[33mc\u001b[39;49m = Cell(name, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m][name])\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m c\r\n\u001b[K\n\t\b\b\u001b[31mThis function produces a team\u001b[39;49m\n\b\b\b\b\b\b\u001b[7m8% L210\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[3;7H\u001b[?25l\u001b[31mThis function produces a team\u001b[39;49m\r\n\t\u001b[1m\u001b[34mmake_team\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data):\u001b[K\r\n\t\u001b[33mt\u001b[39;49m = Team(data[\u001b[32m\"name\"\u001b[39;49m],data[\u001b[32m\"color\"\u001b[39;49m])\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m t\u001b[K\r\n\u001b[K\n\u001b[K\u001b[9;5H\u001b[31m# The rulebook has three pages. An overview, a page for units, and          \u001b[39;49m\r\n\t\b\b\u001b[31ma page for terrain.                                         \u001b[39;49m\u001b[11;14H\u001b[1m\u001b[34mrulebook\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33moverview\u001b[39;49m = [(\u001b[32m\"Overview\\n========\"\u001b[39;49m,\u001b[32m\"w!\"\u001b[39;49m)]\r\n\toverview.append(\u001b[32m\" \"\u001b[39;49m)\u001b[K\r\n\toverview.append(\u001b[32m\"One day I'll put the rules here.\"\u001b[39;49m)\r\n\n\u001b[K\u001b[17;5H    \u001b[33mquick\u001b[39;49m = [(\u001b[32m\"Quick Reference\\n===============\"\u001b[39;49m,\u001b[32m\"w!\"\u001b[39;49m)]\r\n\u001b[K\n\t\u001b[31m# The third section has all of the units, listed in order.              \u001b[39;49m\r\n\t\u001b[31m# We create temporary unit objects that are responsible for             \u001b[39;49m\r\n\t\u001b[31m# writing their own sections.                                           \u001b[39;49m\r\n\u001b[22;5H    \u001b[33munits\u001b[39;49m = [(\u001b[32m\"Unit Intel\\n==========\"\u001b[39;49m,\u001b[32m\"w!\"\u001b[39;49m)]\u001b[K\u001b[23;29H\u001b[7m20% L229\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[31m# writing their own sections.                                           \u001b[39;49m\r\n\u001b[3;5H    \u001b[33munits\u001b[39;49m = [(\u001b[32m\"Unit Intel\\n==========\"\u001b[39;49m,\u001b[32m\"w!\"\u001b[39;49m)]\u001b[K\u001b[4;5H    quick.append(\u001b[32m\" \"\u001b[39;49m)\u001b[K\r\n\tquick.append(\u001b[32m\"Units\\n----------------------\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m uni \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\u001b[7;13H\u001b[33mU\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_unit({\u001b[32m\"name\"\u001b[39;49m:uni})\u001b[8;13H\u001b[33munits\u001b[39;49m += [\u001b[32m\" \"\u001b[39;49m]+U.rulebook()+[\u001b[32m\" \"\u001b[39;49m]\u001b[9;5H        quick.append(\u001b[32m\"%20s %s\"\u001b[39;49m%(U.name, U.icon))\u001b[K\r\n\u001b[K\u001b[11;5H    \u001b[31m# The fourth part is just like the second, except for terrain.          \u001b[39;49m\r\n\t\u001b[33mterrain\u001b[39;49m = [(\u001b[32m\"Terrain Int\u001b[39;49m\u001b[9@\u001b[32mel\\n=====\u001b[39;49m\r\n\tquick\u001b[3P\r\n\tquick.append(\u001b[32m\"Terrain\\n----------------------\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m ter \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\u001b[16;13H\u001b[33mT\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_cell({\u001b[32m\"name\"\u001b[39;49m:ter})\r\n\t    \u001b[33mterrain\u001b[39;49m += [\u001b[32m\" \"\u001b[39;49m]+T.rulebook()+[\u001b[32m\" \"\u001b[39;49m]\u001b[K\u001b[18;13Hquick.append(\u001b[32m\"%20s %s\"\u001b[39;49m%(T.name, T.icon))\r\n\u001b[K\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m [overview,quick,units,terrain]\u001b[K\r\n\u001b[K\n\u001b[K\u001b[23;30H\u001b[7m1% L248\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[7;5H\u001b[?25l\u001b[31m# Get movement range of the unit at x,y. Returns nothing                    \u001b[39;49m\r\n\u001b[8;5H\u001b[31m# if the tile is empty or does not exist. All of the positions              \u001b[39;49m\r\n\u001b[9;5H\u001b[31m# returned are guaranteed to be tiles that the unit could                   \u001b[39;49m\r\n\u001b[10;5H\u001b[31m# stop moving on.                                                           \u001b[39;49m\r\n\u001b[11;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mget_move_range\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[33munit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m unit:\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m []\u001b[K\r\n\u001b[K\n\t\u001b[31m# Use the naive flood-fill algorithm to get neighboring                 \u001b[39;49m\r\n\t\u001b[31m# tiles. TODO: handle allied units                                      \u001b[39;49m\r\n\t\u001b[33mreport\u001b[39;49m = []\u001b[K\r\n\t\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m_floodfill\u001b[0m\u001b[39;49m(pos,r,top=\u001b[35mFalse\u001b[39;49m):\r\n\t    \u001b[33ma\u001b[39;49m,\u001b[33mb\u001b[39;49m = pos\u001b[K\u001b[21;13H\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(a,b)\u001b[22;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t.unit \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m t.unit.allied(unit)):\u001b[23;30H\u001b[7m3% L267\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(a,b)\u001b[3;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t.unit \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m t.unit.allied(unit)):\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m top:\u001b[5;21H\u001b[33mr\u001b[39;49m -= unit.terrain.get(t.name,r)\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (a,b) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m report \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.name \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m unit.terrain:\u001b[7;5H                report.append((a,b))\u001b[K\u001b[8;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m r > 0:\u001b[K\u001b[9;5H                _floodfill((a-1,b),r)\u001b[K\u001b[10;5H                _floodfill((a+1,b),r)\u001b[K\u001b[11;5H                _floodfill((a,b-1),r)\r\n\t            _floodfill((a,b+1),r)\r\n\t_floodfill((x,y),unit.move,\u001b[35mTrue\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m [(x,y) \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m report \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y) \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m\r\n\t                                      \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y) \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m\u001b[K\r\n\t                                      \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y).team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m\u001b[K\r\n\t                                      unit.team)]\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;30H\u001b[7m4% L286\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\n\u001b[K\n\u001b[K\u001b[5;5H\u001b[?25l\u001b[31m# This is the attack action. This is what actually has side effects.        \u001b[39;49m\r\n\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34maction_attack\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, atk_pos, def_pos):\u001b[K\r\n\t\u001b[33max\u001b[39;49m,\u001b[33may\u001b[39;49m = atk_pos\u001b[K\r\n\t\u001b[33mdx\u001b[39;49m,\u001b[33mdy\u001b[39;49m = def_pos\u001b[K\r\n\t\u001b[33matk_unit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(ax,ay)\r\n\t\u001b[33mdef_unit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(dx,dy)\r\n\t\u001b[33mdist\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.dist((ax,ay),(dx,dy))\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m atk_unit: \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Attack square is empty.\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m def_unit: \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Defend square is empty.\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[31m# This is the basic attack formula.                                     \u001b[39;49m\r\n\t\u001b[33ma_terrain\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(ax,ay)\u001b[K\r\n\t\u001b[33md_terrain\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(dx,dy)\u001b[K\r\n\t\u001b[33mdef_unit.hp\u001b[39;49m -= atk_unit.simulate(def_unit.name, d_terrain)\r\n\n\t\u001b[33mcounter\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_unit.hp <= 0: \u001b[33mcounter\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[23;30H\u001b[7m6% L305\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[33mcounter\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_unit.hp <= 0: \u001b[33mcounter\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"indirect\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m def_unit.properties: \u001b[33mcounter\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[5;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m def_unit.in_range(dist): \u001b[33mcounter\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m counter:\u001b[K\r\n\t    \u001b[33matk_unit.hp\u001b[39;49m -= def_unit.simulate(atk_unit.name, a_terrain)\r\n\u001b[K\n\t\u001b[31m# Remove destroyed units from grid and prevent HP from falling into     \u001b[39;49m\r\n\t\u001b[31m# the negatives.                                                        \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m atk_unit.hp <= 0:\r\n\t    \u001b[33matk_unit.hp\u001b[39;49m = 0\u001b[K\r\n\t    \u001b[33ma_terrain.hp\u001b[39;49m = 100\u001b[K\u001b[15;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(ax,ay)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_unit.hp <= 0:\u001b[K\r\n\t    \u001b[33mdef_unit.hp\u001b[39;49m = 0\u001b[K\r\n\t\u001b[4@\u001b[18;22H\u001b[33m.hp\u001b[39;49m = 100\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(dx,dy)\u001b[K\r\n\n\t\u001b[31m# Check and see if the last unit died.                                  \u001b[39;49m\r\n\t\u001b[33ma_alive\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[23;30H\u001b[7m8% L324\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[31m# Check and see if the last unit died.                                  \u001b[39;49m\r\n\t\u001b[33ma_alive\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[33md_alive\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (tx,ty) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles_xy():\u001b[K\u001b[6;13H\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(tx,ty)\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m atk_unit.team: \u001b[33ma_alive\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[8;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m def_unit.team: \u001b[33md_alive\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m a_alive: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defeated(atk_unit.team)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m d_alive: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defeated(def_unit.team)\u001b[K\r\n\u001b[K\u001b[12;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mpump_info\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.edit:\u001b[15;18Hstart_turn()\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = []\u001b[K\r\n\u001b[K\n\t\u001b[31m# Info 1 is global team information.                                    \u001b[39;49m\r\n\t\u001b[33minfo1\u001b[39;49m = [ (\u001b[32m\"Day %d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.day,\u001b[32m\"w!\"\u001b[39;49m)]\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.edit:\u001b[K\r\n\t    \u001b[33minfo1\u001b[39;49m = [(\u001b[32m\"Map Editing\"\u001b[39;49m,\u001b[32m\"w!\"\u001b[39;49m)]\u001b[23;30H\u001b[7m9% L343\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.edit:\u001b[K\r\n\t    \u001b[33minfo1\u001b[39;49m = [(\u001b[32m\"Map Editing\"\u001b[39;49m,\u001b[32m\"w!\"\u001b[39;49m)]\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\r\n\t    \u001b[33mmoney\u001b[39;49m = \u001b[32m\"$%d\"\u001b[39;49m%t.cash\u001b[K\u001b[6;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.cash >= 10000:\u001b[K\u001b[7;13H    \u001b[33mmoney\u001b[39;49m = \u001b[32m\"$%dK\"\u001b[39;49m%(t.cash/1000)\u001b[K\r\n\t\t\bt.cash >= 1000000:\u001b[K\r\n\t        \u001b[33mmoney\u001b[39;49m = \u001b[32m\"$RICH\"\u001b[39;49m\u001b[K\r\n\t    \u001b[33mspace\u001b[39;49m = \u001b[32m\" \"\u001b[39;49m*(14-\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(t.name[:8])-\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(money))\u001b[11;13H\u001b[33mcol\u001b[39;49m = t.color\u001b[12;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t.active:\u001b[K\u001b[13;5H            \u001b[33mcol\u001b[39;49m = \u001b[32m\"x!\"\u001b[39;49m\u001b[K\r\n\t    info1.append( (\u001b[32m\"%s%s%s\"\u001b[39;49m%(t.name[:8], space, money), col) )\r\n\u001b[K\n\t\u001b[31m# If attack is in the action, we need to get the estimated              \u001b[39;49m\r\n\t\u001b[31m# damage to show the player.                                            \u001b[39;49m\r\n\t\u001b[33mdmg1\u001b[39;49m, \u001b[33mdmg2\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m,\u001b[32m\"\"\u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"Attack\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\r\n\t    \u001b[33max\u001b[39;49m,\u001b[33may\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]\u001b[K\r\n\t    \u001b[33matk_unit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(ax,ay)\u001b[22;13H\u001b[33mdef_unit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[23;29H\u001b[7m31% L362\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[31m# Check and see if the last unit died.                                  \u001b[39;49m\r\n\t\u001b[33ma_alive\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[33md_alive\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (tx,ty) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles_xy():\u001b[6;13H\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(tx,ty)\u001b[7;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m atk_unit.team: \u001b[33ma_alive\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t\t\bu \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m def_unit.team: \u001b[33md_alive\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m a_alive: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defeated(atk_unit.team)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m d_alive: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defeated(def_unit.team)\u001b[K\r\n\u001b[K\u001b[12;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mpump_info\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.edit:\u001b[K\u001b[15;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start_turn()\r\n\t\u001b[33mreport\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = []\u001b[K\r\n\u001b[K\n\t\u001b[31m# Info 1 is global team information.                                    \u001b[39;49m\r\n\t\u001b[33minfo1\u001b[39;49m = [ (\u001b[32m\"Day %d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.day,\u001b[32m\"w!\"\u001b[39;49m)]\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.edit:\u001b[K\u001b[22;13H\u001b[33minfo1\u001b[39;49m = [(\u001b[32m\"Map Editing\"\u001b[39;49m,\u001b[32m\"w!\"\u001b[39;49m)]\u001b[K\u001b[23;29H\u001b[7m29\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.edit:\u001b[K\r\n\t    \u001b[33minfo1\u001b[39;49m = [(\u001b[32m\"Map Editing\"\u001b[39;49m,\u001b[32m\"w!\"\u001b[39;49m)]\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\r\n\t    \u001b[33mmoney\u001b[39;49m = \u001b[32m\"$%d\"\u001b[39;49m%t.cash\u001b[K\u001b[6;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.cash >= 10000:\u001b[K\u001b[7;13H    \u001b[33mmoney\u001b[39;49m = \u001b[32m\"$%dK\"\u001b[39;49m%(t.cash/1000)\u001b[K\r\n\t\t\bt.cash >= 1000000:\u001b[K\r\n\t        \u001b[33mmoney\u001b[39;49m = \u001b[32m\"$RICH\"\u001b[39;49m\u001b[K\r\n\t    \u001b[33mspace\u001b[39;49m = \u001b[32m\" \"\u001b[39;49m*(14-\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(t.name[:8])-\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(money))\u001b[11;13H\u001b[33mcol\u001b[39;49m = t.color\u001b[12;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t.active:\u001b[K\u001b[13;5H            \u001b[33mcol\u001b[39;49m = \u001b[32m\"x!\"\u001b[39;49m\u001b[K\r\n\t    info1.append( (\u001b[32m\"%s%s%s\"\u001b[39;49m%(t.name[:8], space, money), col) )\r\n\u001b[K\n\t\u001b[31m# If attack is in the action, we need to get the estimated              \u001b[39;49m\r\n\t\u001b[31m# damage to show the player.                                            \u001b[39;49m\r\n\t\u001b[33mdmg1\u001b[39;49m, \u001b[33mdmg2\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m,\u001b[32m\"\"\u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"Attack\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\r\n\t    \u001b[33max\u001b[39;49m,\u001b[33may\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]\u001b[K\r\n\t    \u001b[33matk_unit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(ax,ay)\u001b[22;13H\u001b[33mdef_unit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[23;29H\u001b[7m31\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l    \u001b[33matk_unit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(ax,ay)\u001b[3;13H\u001b[33mdef_unit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m atk_unit \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m def_unit:\u001b[5;13H    \u001b[33ma_terrain\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(ax,ay)\u001b[6;13H    \u001b[33md_terrain\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\r\n\t\t\u001b[33mdist\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.dist((ax,ay),(x,y))\u001b[8;13H    \u001b[33mest\u001b[39;49m = atk_unit.simulate(def_unit.name,d_terrain)\r\n\t\t\u001b[33mdmg1\u001b[39;49m = \u001b[32m\"-%d%%\"\u001b[39;49m%est\u001b[10;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m est > def_unit.hp:\u001b[K\u001b[11;13H        \u001b[33mest\u001b[39;49m = def_unit.hp\u001b[12;13H    \u001b[33mdmg2\u001b[39;49m = \u001b[32m\"-%d%%\"\u001b[39;49m%(def_unit.simulate(atk_unit.name,a_terrain,\r\n\t\t                                  atk_unit.hp-est))\r\n\u001b[K\n\t\t\u001b[33mcounter\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"indirect\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m def_unit.properties: \u001b[33mcounter\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m def_unit.in_range(dist): \u001b[33mcounter\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m counter: \u001b[33mdmg2\u001b[39;49m = \u001b[32m\"-0%\"\u001b[39;49m\r\n\u001b[K\n\t\u001b[31m# Info 2 is for the intel on the hovering tile.                         \u001b[39;49m\r\n\t\u001b[33minfo2\u001b[39;49m = []\u001b[K\r\n\t\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[K\n\b\b\b\b\b\u001b[7m3% L381\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[33minfo2\u001b[39;49m = []\u001b[K\r\n\t\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[K\r\n\t\u001b[33mtcol\u001b[39;49m = \u001b[32m\"w\"\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t:\u001b[K\n\b\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.team:\u001b[K\r\n\t\t\u001b[33mtcol\u001b[39;49m = t.team.color\u001b[K\u001b[8;13H\u001b[33minfo2\u001b[39;49m += [ (t.name,tcol),\u001b[K\r\n\t\t       (\u001b[32m\"DEF +%d\"\u001b[39;49m%t.defense,tcol)]\u001b[10;13H\u001b[33mu\u001b[39;49m = t.unit\u001b[K\u001b[11;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\u001b[K\n\b\u001b[33mucol\u001b[39;49m = u.team.color\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.hp < 100:\u001b[K\u001b[14;21H\u001b[33minfo2\u001b[39;49m += [(\u001b[32m\"Capturing: %d%%\"\u001b[39;49m%t.hp,ucol)]\r\n\t\t\u001b[33minfo2\u001b[39;49m += [ (\u001b[32m\" \"\u001b[39;49m,\u001b[32m\"\"\u001b[39;49m),\r\n\t\t           (u.name,ucol+\u001b[32m\"!\"\u001b[39;49m),\u001b[K\r\n\t\t           (\u001b[32m\"HP %d%% %s\"\u001b[39;49m%(u.hp,dmg1),ucol) ]\u001b[K\r\n\u001b[K\n\n\u001b[K\n\t\u001b[31m# Info 3 is for the unit that is currently selected.                    \u001b[39;49m\r\n\t\u001b[33minfo3\u001b[39;49m = []\u001b[K\u001b[23;30H\u001b[7m5% L400\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[31m# Info 3 is for the unit that is currently selected.                    \u001b[39;49m\r\n\t\u001b[33minfo3\u001b[39;49m = []\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action) > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.edit:\r\n\t    \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\r\n\t\t\b\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action) > 1:\r\n\t\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]\u001b[8;13H\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[9;13H\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\u001b[10;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\u001b[K\n\b\b\b\b\b    \u001b[33mcol\u001b[39;49m = u.team.color\r\n\t\t\u001b[33minfo3\u001b[39;49m = [(u.name,col+\u001b[32m\"!\"\u001b[39;49m),\r\n\t\t         (\u001b[32m\"DEF +%d\"\u001b[39;49m%t.defense,col),\u001b[14;21H     (\u001b[32m\"HP %d%% %s\"\u001b[39;49m%(u.hp,dmg2),col)]\u001b[K\r\n\u001b[K\n\u001b[K\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report, info1, info2, info3\u001b[K\u001b[19;5H\u001b[31m# This sets the state back to start while also restoring the previous       \u001b[39;49m\r\n\u001b[20;5H\u001b[31m# checkpoint of the world. When the controller gets CTRL_UNDO, it is        \u001b[39;49m\r\n\u001b[21;5H\u001b[4P\t\b\b\u001b[31msupposed to set its camera's grid to the new one. \u001b[39;49m\u001b[4@\u001b[31m    \u001b[39;49m\u001b[22;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mstart_over\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[23;30H\u001b[7m6% L419\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[4P\t\b\b\u001b[?25l\u001b[31msupposed to set its camera's grid to the new one. \u001b[39;49m\u001b[4@\u001b[31m    \u001b[39;49m\u001b[3;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mstart_over\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"play\"\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_UNDO\u001b[K\r\n\u001b[K\u001b[10;5H\u001b[31m# When a move is completed and we return to the start state, we             \u001b[39;49m\r\n\u001b[11;5H\u001b[31m# change the checkpoint and save the move in our history.                   \u001b[39;49m\r\n\u001b[12;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mcommit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.append((\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action))\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"play\"\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"play\"\u001b[39;49m)\r\n\u001b[K\n\t\b\b\u001b[31mWhen we undo, we go back to a previous spot in the history.       \u001b[39;49m\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mundo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, total=\u001b[35mFalse\u001b[39;49m):\u001b[K\u001b[22;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history) > 0:\n\b\b\b\b\u001b[7m8% L438\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mundo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, total=\u001b[35mFalse\u001b[39;49m):\u001b[K\u001b[3;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history) > 0:\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m total:\u001b[K\r\n\t        \u001b[33mcp\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.restartcopy\r\n\t\u001b[8@\u001b[6;22Hhistory\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[33mcp\u001b[39;49m,\u001b[33maction\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.pop()\u001b[10;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = cp\u001b[K\u001b[11;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(cp)\u001b[K\u001b[12;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[13;14Hstate = \u001b[32m\"play\"\u001b[39;49m\u001b[K\u001b[14;14Hchoices = []\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_UNDO\u001b[K\r\n\u001b[K\u001b[17;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mstart_turn\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.restartcopy = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[20;5H    \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[K\r\n\u001b[K\n\t\u001b[31m# Give the player their money.                                          \u001b[39;49m\r\n\u001b[23;29H\u001b[7m40% L457\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\n\t\u001b[?25l\u001b[31m# Give the player their money.                                          \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tile \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles():\u001b[5;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m t:\u001b[K\r\n\t\t\u001b[33mu\u001b[39;49m = tile.unit\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.hp < 100 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.name \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair:\u001b[8;13H        \u001b[33mu.hp\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(100,u.hp+tile.repair[u.name])\r\n\t\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[10;13H        \u001b[33mt.cash\u001b[39;49m += tile.cash\r\n\u001b[K\n\t\u001b[31m# Make the turn-start alert.                                            \u001b[39;49m\r\n\t\u001b[33mm1\u001b[39;49m = \u001b[32m\"%s: Day %d\"\u001b[39;49m%(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.name, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.day)\r\n\t\u001b[33mm2\u001b[39;49m = \u001b[32m\"%s - move out!\"\u001b[39;49m%t.name\r\n\t\u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(m1),\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(m2))+1\r\n\t\u001b[33ma\u001b[39;49m = widgets.Alert(w,2,m1+\u001b[32m\"\\n\"\u001b[39;49m+m2,t.color)\u001b[17;5H    \u001b[33ma.time\u001b[39;49m = 50\u001b[K\u001b[18;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append((a,\u001b[32m\"c\"\u001b[39;49m))\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = \u001b[35mFalse\u001b[39;49m\r\n\u001b[K\u001b[23;30H\u001b[7m1% L476\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = \u001b[35mFalse\u001b[39;49m\r\n\u001b[K\u001b[4;5H\u001b[31m# Mark the team as defeated. This destroys all of their units, sets their   \u001b[39;49m\r\n\u001b[5;5H\u001b[31m# funds to zero, and marks them as inactive, unable to take future turns.   \u001b[39;49m\r\n\u001b[6;5H\u001b[31m# Properties are still left intact - capturing the enemy HQ will reward     \u001b[39;49m\r\n\u001b[7;5H\u001b[31m# you by giving you all of the properties belonging to the team.            \u001b[39;49m\r\n\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdefeated\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, team):\u001b[K\r\n\t\u001b[33mteam.active\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (tx,ty) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles_xy():\u001b[11;13H\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(tx,ty)\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team == team:\u001b[K\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(tx,ty)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units = [u \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m team]\r\n\u001b[K\n\tm = \u001b[32m\"%s has been defeated!\"\u001b[39;49m%(team.name)\u001b[K\r\n\ta = widgets.Alert(\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(m)+1,1,m,team.color)\r\n\ta.time = 50\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append((a,\u001b[32m\"c\"\u001b[39;49m))\r\n\u001b[K\u001b[21;5H\u001b[31m# When we end the turn, we flush the history buffer and save a new          \u001b[39;49m\r\n\u001b[22;5H\u001b[31m# checkpoint.                                                               \u001b[39;49m\r\n\u001b[23;30H\u001b[7m3% L495\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m# When we end the turn, we flush the history buffer and save a new          \u001b[39;49m\r\n\u001b[3;5H\u001b[31m# checkpoint.                                                               \u001b[39;49m\r\n\u001b[4;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mend_turn\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\u001b[5;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state != \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action != []:\u001b[K\u001b[6;5H        \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Can't end right now\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[8;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units:\r\n\t    \u001b[33mu.ready\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m].append([acts \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (cp,acts) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history])\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.end_turn()\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[K\u001b[14;14Haction = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\u001b[K\n\t\u001b[31m# Finally, figure out if we've won. If we have, then put the map in     \u001b[39;49m\r\n\t\u001b[31m# \"finished\" mode and allow the player to leave. The game is only       \u001b[39;49m\r\n\t\u001b[31m# won when the final player ends their turn.                            \u001b[39;49m\r\n\u001b[21;5H    \u001b[33mwinner\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[22;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m at \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]:\u001b[K\u001b[23;30H\u001b[7m4% L514\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[33mwinner\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[3;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m at \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]:\u001b[K\u001b[4;5H        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m ot \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]:\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m at.allied(ot):\u001b[K\u001b[6;13H        \u001b[33mwinner\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m winner:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.winners = [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]\r\n\t    \u001b[31m#self.state = \"over\"                                                \u001b[39;49m\r\n\u001b[K\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"play\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[13;5H\u001b[31m# This sets the new state and returns the appropriate code                  \u001b[39;49m\r\n\u001b[14;5H\u001b[31m# to the caller for what kind of input should come next.                    \u001b[39;49m\r\n\u001b[15;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtransition\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, new_state):\u001b[16;14Hstate = new_state\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m   \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"play\"\u001b[39;49m     : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"main menu\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"moving\"\u001b[39;49m   : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\u001b[K\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"unload\"\u001b[39;49m   : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"unload drop\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"action\"\u001b[39;49m   : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\u001b[23;30H\u001b[7m6% L533\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"unload drop\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"action\"\u001b[39;49m   : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"attacking\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\u001b[K\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"building\"\u001b[39;49m : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\r\n\u001b[K\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m     : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit menu\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"unit team\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"draw terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\u001b[13;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"terrain team\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\u001b[14;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"save map\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_EDITOR\u001b[K\u001b[15;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"rule unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"rule terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"page unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_EDITOR\u001b[18;29H\u001b[32mpage terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_EDITOR\r\n\u001b[K\u001b[20;11H\u001b[1m\u001b[36mse\u001b[0m\u001b[39;49m: \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"No such state.\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[22;5H\u001b[31m# This processes input of two types: coordinates and strings.               \u001b[39;49m\r\n\u001b[23;30H\u001b[7m8% L552\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[3;5H\u001b[?25l\u001b[31m# This processes input of two types: coordinates and strings.               \u001b[39;49m\r\n\u001b[4;5H\u001b[31m# A string is the input from a menu, such as \"attack\" or \"wait\".            \u001b[39;49m\r\n\u001b[5;5H\u001b[31m# A coordinate is an x,y location on the grid.                              \u001b[39;49m\r\n\u001b[6;5H\u001b[31m# Has one of four return values:                                            \u001b[39;49m\r\n\u001b[7;5H\u001b[31m#     None: Tell the controller to do nothing                               \u001b[39;49m\r\n\u001b[8;5H\u001b[31m#     menu: Tell the controller to render a menu                            \u001b[39;49m\r\n\u001b[9;5H\u001b[31m#     coord: Tell the controller to give it a coord                         \u001b[39;49m\r\n\u001b[10;5H\u001b[31m#     undo: Tell the controller to reload the grid                          \u001b[39;49m\r\n\u001b[11;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m   \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"play\"\u001b[39;49m     : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_play(c)\u001b[13;29H\u001b[32mmain menu\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_main_menu(c)\u001b[14;29H\u001b[32mmoving\"\u001b[39;49m   : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_moving(c)\u001b[15;29H\u001b[32maction\"\u001b[39;49m   : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_action(c)\u001b[16;29H\u001b[32mattacking\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_attacking(c)\u001b[17;29H\u001b[32mbuilding\"\u001b[39;49m : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_building(c)\u001b[18;29H\u001b[32munload\"\u001b[39;49m   : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_unload(c)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"unload drop\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_unload_drop(c)\r\n\u001b[K\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m     : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_edit(c)\u001b[22;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit menu\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_edit_menu(c)\u001b[K\u001b[23;29H\u001b[7m51% L571\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m     : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_edit(c)\u001b[3;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit menu\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_edit_menu(c)\u001b[K\u001b[4;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_edit_unit(c)\u001b[K\u001b[5;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_edit_terrain(c)\u001b[K\u001b[6;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"unit team\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_unit_team(c)\u001b[K\u001b[7;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"terrain team\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_terrain_team(c)\u001b[K\u001b[8;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"draw terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_draw_terrain(c)\u001b[K\u001b[9;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"save map\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_save_map(c)\u001b[K\u001b[10;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"rule unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_rule_unit(c)\u001b[K\u001b[11;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"rule terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_rule_terrain(c)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"page unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_page_unit(c)\u001b[13;29H\u001b[32mpage terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_page_terrain(c)\r\n\u001b[K\n\u001b[K\u001b[16;5H\u001b[31m# State    : Play (expected input, tuple)                                   \u001b[39;49m\r\n\u001b[17;5H\u001b[31m# Expected : Tuple (unit or friendly factory)                               \u001b[39;49m\r\n\u001b[18;5H\u001b[31m# Next step: If unit: coordinates of range of unit                          \u001b[39;49m\r\n\u001b[19;5H\u001b[31m#            If factory: list of possible buildables                        \u001b[39;49m\r\n\u001b[20;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_play\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[K\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\u001b[K\u001b[23;30H\u001b[7m3% L590\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[K\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,y = coord\u001b[K\r\n\tt = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[K\r\n\tu = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\r\n\t\u001b[33mteam\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[K\r\n\u001b[K\n\t\u001b[31m# If no unit, check for terrain                                         \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append((x,y))\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[32m\"build\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m t.properties \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m team:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m t.build:\u001b[K\r\n\t\t\u001b[33mp\u001b[39;49m = t.build[b]\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m p <= team.cash:\u001b[16;5H                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"%s $%d\"\u001b[39;49m%(b,p))\u001b[K\u001b[17;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Cancel\"\u001b[39;49m)\u001b[K\u001b[18;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"building\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[20;5H    \u001b[31m# Even if the unit isn't ours (or isn't ready) we still enter the       \u001b[39;49m\r\n\t\u001b[31m# \"move\" state so that we can see its movement range. Actually          \u001b[39;49m\r\n\t\u001b[31m# moving the unit will be stopped at the process_moving step.           \u001b[39;49m\r\n\u001b[23;30H\u001b[7m6% L609\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[31m# \"move\" state so that we can see its movement range. Actually          \u001b[39;49m\r\n\t\u001b[31m# moving the unit will be stopped at the process_moving step.           \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (qx,qy) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_move_range(x,y):\r\n\t        \u001b[33munit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(qx,qy)\r\n\t\t\u001b[33mkeep\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m unit:\u001b[K\r\n\t            \u001b[33mkeep\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m unit \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m u: \u001b[33mkeep\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[12;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m unit.name == u.name: keep = \u001b[35mTrue\u001b[39;49m\u001b[13;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[32m\"carry\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m unit.properties \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.name \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m unit.carry\r\n\t\t        \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(unit.carrying) < unit.capacity):\r\n\t\t        \u001b[33mkeep\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m keep:\u001b[K\u001b[17;13H\u001b[8@\t\t\t\t(qx,qy))\u001b[K\u001b[18;37H\u001b[32mmoving\"\u001b[39;49m)\u001b[K\u001b[20;11H\u001b[31mWhatever else happens, main menu.                              \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Back\"\u001b[39;49m,\u001b[32m\"End Turn\"\u001b[39;49m,\u001b[32m\"Surrender\"\u001b[39;49m,\u001b[32m\"Undo\"\u001b[39;49m,\u001b[32m\"Start Over\"\u001b[39;49m]\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"main menu\"\u001b[39;49m)\u001b[K\u001b[23;30H\u001b[7m7% L628\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Back\"\u001b[39;49m,\u001b[32m\"End Turn\"\u001b[39;49m,\u001b[32m\"Surrender\"\u001b[39;49m,\u001b[32m\"Undo\"\u001b[39;49m,\u001b[32m\"Start Over\"\u001b[39;49m]\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"main menu\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\u001b[K\u001b[6;5H\u001b[31m# State    : Moving (expected input, tuple)                                 \u001b[39;49m\r\n\u001b[7;5H\u001b[31m# Expected : Tuple in range                                                 \u001b[39;49m\r\n\u001b[8;5H\u001b[31m# Next step: If in range, move                                              \u001b[39;49m\r\n\u001b[9;5H\u001b[31m#            If out of range, cancel                                        \u001b[39;49m\r\n\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_moving\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[K\u001b[12;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = coord\u001b[K\r\n\t\u001b[33mox\u001b[39;49m,\u001b[33moy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\t\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(ox,oy)\r\n\t\u001b[33mteam\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\r\n\t\u001b[33mutarg\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\r\n\u001b[K\n\t\u001b[31m# If coord was in range, move the unit and return possible actions.     \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m team \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.ready:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append((x,y))\u001b[K\r\n\u001b[K\u001b[23;30H\u001b[7m9% L647\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append((x,y))\u001b[K\r\n\u001b[K\u001b[4;13H\u001b[31m# Join units with the same name.                                    \u001b[39;49m\r\n\u001b[5;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (utarg \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m utarg.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m team \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m\u001b[6;5H           utarg.name == u.name \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m utarg \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u):\u001b[K\u001b[7;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(ox,oy)\u001b[K\u001b[8;5H            \u001b[33mstart_hp\u001b[39;49m = utarg.hp\u001b[K\u001b[9;5H            \u001b[33mutarg.hp\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(100, utarg.hp+u.hp)\u001b[K\u001b[10;5H            \u001b[33ma\u001b[39;49m = widgets.HPAlert(6,1,utarg.team.color,start_hp,utarg.hp,0)\r\n\t        \u001b[33ma.time\u001b[39;49m = (utarg.hp - start_hp) + 50\u001b[12;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts += [(a,\u001b[32m\"tr\"\u001b[39;49m)]\u001b[K\r\n\t        \u001b[33mutarg.ready\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (utarg \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m utarg \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[32m\"carry\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m utarg.properties):\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(ox,oy)\u001b[33m.unit\u001b[39;49m = \u001b[35mNone\u001b[39;49m\r\n\t        utarg.carrying.append(u)\r\n\t\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\r\n\u001b[K\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\u001b[K\u001b[22;13H\u001b[33mmoved\u001b[39;49m = (x,y)!=(ox,oy)\n\b\b\b\b\b\b\u001b[7m61% L666\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[3;13H\u001b[?25l\u001b[33mmoved\u001b[39;49m = (x,y)!=(ox,oy)\u001b[4;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m moved:\u001b[K\u001b[5;13H    \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(ox,oy)\u001b[K\r\n\t\t\b \u001b[33mt.hp\u001b[39;49m = 100\u001b[K\r\n\u001b[K\u001b[8;13H\u001b[31m# Determine if a target is in range.                                \u001b[39;49m\r\n\u001b[9;13H\u001b[33mattackable\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[10;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m px,py \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_range((x,y),u.rng[0],u.rng[1]):\u001b[K\u001b[11;18H = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(px,py)\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m a \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m a.allied(u):\r\n\t\t    \u001b[33mattackable\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[14;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"indirect\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.properties \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m moved:\u001b[15;13H    \u001b[33mattackable\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[16;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m attackable:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Attack\"\u001b[39;49m)\r\n\u001b[K\u001b[19;13H\u001b[31m# If the cell you are on is capturable, add that option to          \u001b[39;49m\r\n\u001b[20;13H\u001b[31m# the list.                                                         \u001b[39;49m\r\n\u001b[21;13H\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[22;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m t.properties \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.properties\u001b[23;30H\u001b[7m3% L685\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append((x,y))\r\n\u001b[K\u001b[4;13H\u001b[31m# Join units with the same name.                                    \u001b[39;49m\r\n\u001b[5;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (utarg \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m utarg.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m team \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m\r\n\t\t\butarg.name == u.name \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m utarg \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u):\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(ox,oy)\u001b[8;13H    \u001b[33mstart_hp\u001b[39;49m = utarg.hp\u001b[K\u001b[9;13H    \u001b[33mutarg.hp\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(100, utarg.hp+u.hp)\u001b[10;13H    \u001b[33ma\u001b[39;49m = widgets.HPAlert(6,1,utarg.team.color,start_hp,utarg.hp,0)\u001b[11;18H\u001b[33m.time\u001b[39;49m = (utarg.hp - start_hp) + 50\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts += [(a,\u001b[32m\"tr\"\u001b[39;49m)]\r\n\t\t\u001b[33mutarg.ready\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[14;13H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\u001b[K\u001b[15;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (utarg \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m utarg \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[32m\"carry\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m utarg.properties):\u001b[16;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(ox,oy)\u001b[33m.unit\u001b[39;49m = \u001b[35mNone\u001b[39;49m\r\n\t\tutarg.carrying.append(u)\u001b[K\r\n\t\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\r\n\u001b[K\u001b[20;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\u001b[K\u001b[22;13H\u001b[33mmoved\u001b[39;49m = (x,y)!=(ox,oy)\u001b[K\n\b\b\b\b\b\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Back\"\u001b[39;49m,\u001b[32m\"End Turn\"\u001b[39;49m,\u001b[32m\"Surrender\"\u001b[39;49m,\u001b[32m\"Undo\"\u001b[39;49m,\u001b[32m\"Start Over\"\u001b[39;49m]\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"main menu\"\u001b[39;49m)\r\n\u001b[K\n\u001b[K\u001b[6;5H\u001b[31m# State    : Moving (expected input, tuple)                                 \u001b[39;49m\r\n\u001b[7;5H\u001b[31m# Expected : Tuple in range                                                 \u001b[39;49m\r\n\u001b[8;5H\u001b[31m# Next step: If in range, move                                              \u001b[39;49m\r\n\u001b[9;5H\u001b[31m#            If out of range, cancel                                        \u001b[39;49m\r\n\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_moving\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[K\u001b[12;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = coord\u001b[K\r\n\t\u001b[33mox\u001b[39;49m,\u001b[33moy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\t\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(ox,oy)\u001b[K\r\n\t\u001b[33mteam\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[K\r\n\t\u001b[33mutarg\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\r\n\u001b[K\n\t\u001b[31m# If coord was in range, move the unit and return possible actions.     \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m team \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.ready:\u001b[21;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append((x,y))\r\n\u001b[K\u001b[23;29H\u001b[7m59% L667\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[31m# \"move\" state so that we can see its movement range. Actually          \u001b[39;49m\r\n\t\u001b[31m# moving the unit will be stopped at the process_moving step.           \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\n\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[6;5H        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (qx,qy) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_move_range(x,y):\u001b[K\u001b[7;5H            \u001b[33munit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(qx,qy)\u001b[K\u001b[8;5H            \u001b[33mkeep\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[9;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m unit:\u001b[K\u001b[10;5H                \u001b[33mkeep\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m unit \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m u: \u001b[33mkeep\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[12;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m unit.name == u.name: keep = \u001b[35mTrue\u001b[39;49m\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[32m\"carry\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m unit.properties \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.name \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m unit.carry\r\n\t                \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(unit.carrying) < unit.capacity):\r\n\t                \u001b[33mkeep\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m keep:\u001b[K\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append((qx,qy))\u001b[18;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"moving\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[31m# Whatever else happens, main menu.                                     \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Back\"\u001b[39;49m,\u001b[32m\"End Turn\"\u001b[39;49m,\u001b[32m\"Surrender\"\u001b[39;49m,\u001b[32m\"Undo\"\u001b[39;49m,\u001b[32m\"Start Over\"\u001b[39;49m]\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"main menu\"\u001b[39;49m)\u001b[23;30H\u001b[7m7% L648\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[K\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,y = coord\r\n\tt = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\r\n\tu = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\r\n\t\u001b[33mteam\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[K\r\n\u001b[K\n\t\u001b[31m# If no unit, check for terrain                                         \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append((x,y))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[32m\"build\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m t.properties \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m team:\u001b[12;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[13;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m t.build:\u001b[K\r\n\t\t\u001b[33mp\u001b[39;49m = t.build[b]\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m p <= team.cash:\u001b[K\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"%s $%d\"\u001b[39;49m%(b,p))\u001b[17;13H\u001b[8P\t\t\t\u001b[32m\"Cancel\"\u001b[39;49m)\n\b\b\b\b\b\u001b[32mbuilding\"\u001b[39;49m)\u001b[20;11H\u001b[31mEven if the unit isn't ours (or isn't ready) we still enter the\u001b[39;49m\r\n\t\u001b[31m# \"move\" state so that we can see its movement range. Actually          \u001b[39;49m\r\n\t\u001b[31m# moving the unit will be stopped at the process_moving step.           \u001b[39;49m\r\n\u001b[23;30H\u001b[7m6% L629\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m     : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_edit(c)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit menu\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_edit_menu(c)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_edit_unit(c)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_edit_terrain(c)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"unit team\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_unit_team(c)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"terrain team\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_terrain_team(c)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"draw terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_draw_terrain(c)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"save map\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_save_map(c)\u001b[K\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"rule unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_rule_unit(c)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"rule terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_rule_terrain(c)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"page unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_page_unit(c)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"page terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_page_terrain(c)\r\n\u001b[K\n\u001b[K\u001b[16;5H\u001b[31m# State    : Play (expected input, tuple)                                   \u001b[39;49m\r\n\u001b[17;5H\u001b[31m# Expected : Tuple (unit or friendly factory)                               \u001b[39;49m\r\n\u001b[18;5H\u001b[31m# Next step: If unit: coordinates of range of unit                          \u001b[39;49m\r\n\u001b[19;5H\u001b[31m#            If factory: list of possible buildables                        \u001b[39;49m\r\n\u001b[20;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_play\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[K\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\u001b[K\u001b[23;30H\u001b[7m3% L610\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\u001b[3;5H\u001b[?25l\u001b[31m# This processes input of two types: coordinates and strings.               \u001b[39;49m\r\n\u001b[4;5H\u001b[31m# A string is the input from a menu, such as \"attack\" or \"wait\".            \u001b[39;49m\r\n\u001b[5;5H\u001b[31m# A coordinate is an x,y location on the grid.                              \u001b[39;49m\r\n\u001b[6;5H\u001b[31m# Has one of four return values:                                            \u001b[39;49m\r\n\u001b[7;5H\u001b[31m#     None: Tell the controller to do nothing                               \u001b[39;49m\r\n\u001b[8;5H\u001b[31m#     menu: Tell the controller to render a menu                            \u001b[39;49m\r\n\u001b[9;5H\u001b[31m#     coord: Tell the controller to give it a coord                         \u001b[39;49m\r\n\u001b[10;5H\u001b[31m#     undo: Tell the controller to reload the grid                          \u001b[39;49m\r\n\u001b[11;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m   \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"play\"\u001b[39;49m     : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_play(c)\u001b[K\u001b[13;29H\u001b[32mmain menu\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_main_menu(c)\u001b[K\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"moving\"\u001b[39;49m   : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_moving(c)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"action\"\u001b[39;49m   : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_action(c)\u001b[16;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"attacking\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_attacking(c)\u001b[K\u001b[17;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"building\"\u001b[39;49m : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_building(c)\u001b[K\u001b[18;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"unload\"\u001b[39;49m   : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_unload(c)\u001b[K\u001b[19;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"unload drop\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_unload_drop(c)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m     : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_edit(c)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit menu\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_edit_menu(c)\u001b[23;30H\u001b[7m1% L591\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"unload drop\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\u001b[3;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"action\"\u001b[39;49m   : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\u001b[4;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"attacking\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\u001b[K\u001b[5;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"building\"\u001b[39;49m : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\r\n\u001b[K\u001b[7;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m     : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\u001b[K\u001b[8;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit menu\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\u001b[9;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\u001b[10;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\u001b[11;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"unit team\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"draw terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\u001b[K\u001b[13;29H\u001b[32mterrain team\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\u001b[14;29H\u001b[32msave map\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_EDITOR\u001b[K\u001b[15;29H\u001b[32mrule unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\u001b[16;29H\u001b[32mrule terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\u001b[17;29H\u001b[32mpage unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_EDITOR\u001b[K\u001b[18;29H\u001b[32mpage terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_EDITOR\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m: \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"No such state.\"\u001b[39;49m)\r\n\u001b[K\u001b[22;5H\u001b[31m# This processes input of two types: coordinates and strings.               \u001b[39;49m\r\n\u001b[23;29H\u001b[7m48% L572\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[33mwinner\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m at \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]:\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m ot \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]:\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m at.allied(ot):\u001b[K\u001b[6;21H\u001b[33mwinner\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m winner:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.winners = [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]\r\n\t    \u001b[31m#self.state = \"over\"                                                \u001b[39;49m\r\n\u001b[K\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"play\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[13;5H\u001b[31m# This sets the new state and returns the appropriate code                  \u001b[39;49m\r\n\u001b[14;5H\u001b[31m# to the caller for what kind of input should come next.                    \u001b[39;49m\r\n\u001b[15;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtransition\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, new_state):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = new_state\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m   \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"play\"\u001b[39;49m     : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\u001b[K\u001b[18;29H\u001b[32mmain menu\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"moving\"\u001b[39;49m   : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\u001b[20;11H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"unload\"\u001b[39;49m   : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"unload drop\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\u001b[22;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"action\"\u001b[39;49m   : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\u001b[23;30H\u001b[7m6% L553\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m# When we end the turn, we flush the history buffer and save a new          \u001b[39;49m\r\n\u001b[3;5H\u001b[31m# checkpoint.                                                               \u001b[39;49m\r\n\u001b[4;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mend_turn\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state != \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action != []:\u001b[6;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Can't end right now\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units:\u001b[K\u001b[10;13H\u001b[33mu.ready\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m].append([acts \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (cp,acts) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history])\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.end_turn()\u001b[13;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[K\u001b[14;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[K\u001b[15;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[16;14Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\u001b[K\n\t\u001b[31m# Finally, figure out if we've won. If we have, then put the map in     \u001b[39;49m\r\n\t\u001b[31m# \"finished\" mode and allow the player to leave. The game is only       \u001b[39;49m\r\n\t\u001b[31m# won when the final player ends their turn.                            \u001b[39;49m\r\n\t\u001b[33mwinner\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m at \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]:\u001b[23;30H\u001b[7m4% L534\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[4;5H\u001b[31m# Mark the team as defeated. This destroys all of their units, sets their   \u001b[39;49m\r\n\u001b[5;5H\u001b[31m# funds to zero, and marks them as inactive, unable to take future turns.   \u001b[39;49m\r\n\u001b[6;5H\u001b[31m# Properties are still left intact - capturing the enemy HQ will reward     \u001b[39;49m\r\n\u001b[7;5H\u001b[31m# you by giving you all of the properties belonging to the team.            \u001b[39;49m\r\n\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdefeated\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, team):\r\n\t\u001b[33mteam.active\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (tx,ty) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles_xy():\r\n\t    \u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(tx,ty)\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team == team:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(tx,ty)\u001b[14;14Hgrid.units = [u \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m team]\r\n\u001b[K\n\tm = \u001b[32m\"%s has been defeated!\"\u001b[39;49m%(team.name)\u001b[K\r\n\ta = widgets.Alert(\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(m)+1,1,m,team.color)\r\n\ta.time = 50\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append((a,\u001b[32m\"c\"\u001b[39;49m))\u001b[K\r\n\u001b[K\u001b[21;5H\u001b[31m# When we end the turn, we flush the history buffer and save a new          \u001b[39;49m\r\n\u001b[22;5H\u001b[31m# checkpoint.                                                               \u001b[39;49m\r\n\u001b[23;30H\u001b[7m3% L515\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\n\t\u001b[?25l\u001b[31m# Give the player their money.                                          \u001b[39;49m\r\n\u001b[4;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tile \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles():\u001b[K\u001b[5;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m t:\u001b[K\u001b[6;5H            \u001b[33mu\u001b[39;49m = tile.unit\u001b[K\u001b[7;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.hp < 100 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.name \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair:\u001b[K\u001b[8;5H                \u001b[33mu.hp\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(100,u.hp+tile.repair[u.name])\r\n\t        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t            \u001b[33mt.cash\u001b[39;49m += tile.cash\u001b[K\r\n\u001b[K\n\t\u001b[31m# Make the turn-start alert.                                            \u001b[39;49m\r\n\t\u001b[33mm1\u001b[39;49m = \u001b[32m\"%s: Day %d\"\u001b[39;49m%(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.name, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.day)\r\n\t\u001b[33mm2\u001b[39;49m = \u001b[32m\"%s - move out!\"\u001b[39;49m%t.name\u001b[K\r\n\t\u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(m1),\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(m2))+1\r\n\t\u001b[33ma\u001b[39;49m = widgets.Alert(w,2,m1+\u001b[32m\"\\n\"\u001b[39;49m+m2,t.color)\r\n\t\u001b[33ma.time\u001b[39;49m = 50\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append((a,\u001b[32m\"c\"\u001b[39;49m))\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[21;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[23;30H\u001b[7m1% L496\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mundo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, total=\u001b[35mFalse\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history) > 0:\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m total:\u001b[K\u001b[5;13H    \u001b[33mcp\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.restartcopy\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[8;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[33mcp\u001b[39;49m,\u001b[33maction\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.pop()\u001b[10;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = cp\u001b[K\u001b[11;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(cp)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"play\"\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_UNDO\u001b[K\r\n\u001b[K\u001b[17;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mstart_turn\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.restartcopy = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[K\r\n\u001b[K\n\t\u001b[31m# Give the player their money.                                          \u001b[39;49m\r\n\u001b[23;30H\u001b[7m0% L477\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m# supposed to set its camera's grid to the new one.                         \u001b[39;49m\r\n\u001b[3;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mstart_over\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"play\"\u001b[39;49m\u001b[K\r\n\t\u001b[8P\u001b[6;14Hchoices\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_UNDO\r\n\u001b[K\u001b[10;5H\u001b[31m# When a move is completed and we return to the start state, we             \u001b[39;49m\r\n\u001b[11;5H\u001b[31m# change the checkpoint and save the move in our history.                   \u001b[39;49m\r\n\u001b[12;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mcommit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\u001b[13;14Hhistory.append((\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action))\u001b[14;14Haction = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"play\"\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[17;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\u001b[18;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"play\"\u001b[39;49m)\r\n\u001b[K\u001b[20;5H\u001b[31m# When we undo, we go back to a previous spot in the history.               \u001b[39;49m\r\n\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mundo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, total=\u001b[35mFalse\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history) > 0:\u001b[K\n\b\b\b\b\b\u001b[7m38% L458\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;57H\u001b[4P\u001b[2;5H\u001b[4@\u001b[2;11H\u001b[?25l\u001b[31mInfo 3 is for the unit that is currently selected.\u001b[39;49m\u001b[3;5H    \u001b[33minfo3\u001b[39;49m = []\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action) > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.edit:\r\n\t    \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action) > 1:\r\n\t        \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]\u001b[K\r\n\t    \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[9;13H\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[10;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\u001b[K\u001b[11;5H            \u001b[33mcol\u001b[39;49m = u.team.color\u001b[K\u001b[12;5H            \u001b[33minfo3\u001b[39;49m = [(u.name,col+\u001b[32m\"!\"\u001b[39;49m),\r\n\t                 (\u001b[32m\"DEF +%d\"\u001b[39;49m%t.defense,col),\u001b[K\r\n\t                 (\u001b[32m\"HP %d%% %s\"\u001b[39;49m%(u.hp,dmg2),col)]\r\n\u001b[K\n\u001b[K\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report, info1, info2, info3\u001b[K\r\n\u001b[K\u001b[19;5H\u001b[31m# This sets the state back to start while also restoring the previous       \u001b[39;49m\r\n\t\b\b\u001b[31mcheckpoint of the world. When the controller gets CTRL_UNDO, it is\u001b[39;49m\u001b[21;5H\u001b[31m# supposed to set its camera's grid to the new one.                         \u001b[39;49m\r\n\u001b[22;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mstart_over\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\u001b[23;30H\u001b[7m6% L439\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[33minfo2\u001b[39;49m = []\u001b[K\r\n\t\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\r\n\t\u001b[33mtcol\u001b[39;49m = \u001b[32m\"w\"\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t:\u001b[K\n\t\bt.team:\u001b[K\r\n\t\t\u001b[33mtcol\u001b[39;49m = t.team.color\u001b[K\u001b[8;13H\u001b[33minfo2\u001b[39;49m += [ (t.name,tcol),\u001b[K\u001b[9;13H           (\u001b[32m\"DEF +%d\"\u001b[39;49m%t.defense,tcol)]\u001b[10;13H\u001b[33mu\u001b[39;49m = t.unit\u001b[11;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\u001b[K\n\b\u001b[33mucol\u001b[39;49m = u.team.color\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.hp < 100:\u001b[K\u001b[14;21H\u001b[33minfo2\u001b[39;49m += [(\u001b[32m\"Capturing: %d%%\"\u001b[39;49m%t.hp,ucol)]\r\n\t\t\u001b[33minfo2\u001b[39;49m += [ (\u001b[32m\" \"\u001b[39;49m,\u001b[32m\"\"\u001b[39;49m),\u001b[16;28H(u.name,ucol+\u001b[32m\"!\"\u001b[39;49m),\r\n\t                   (\u001b[32m\"HP %d%% %s\"\u001b[39;49m%(u.hp,dmg1),ucol) ]\r\n\n\u001b[K\n\u001b[K\u001b[21;57H\u001b[4P\u001b[21;5H\u001b[4@\u001b[21;11H\u001b[31mInfo 3 is for the unit that is currently selected.\u001b[39;49m\u001b[22;5H    \u001b[33minfo3\u001b[39;49m = []\u001b[K\u001b[23;30H\u001b[7m5% L420\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l    \u001b[33matk_unit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(ax,ay)\r\n\t    \u001b[33mdef_unit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m atk_unit \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m def_unit:\r\n\t        \u001b[33ma_terrain\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(ax,ay)\u001b[6;13H    \u001b[33md_terrain\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\r\n\t\t\u001b[33mdist\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.dist((ax,ay),(x,y))\u001b[8;13H    \u001b[33mest\u001b[39;49m = atk_unit.simulate(def_unit.name,d_terrain)\r\n\t\t\u001b[33mdmg1\u001b[39;49m = \u001b[32m\"-%d%%\"\u001b[39;49m%est\u001b[K\u001b[10;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m est > def_unit.hp:\u001b[11;13H        \u001b[33mest\u001b[39;49m = def_unit.hp\r\n\t\t\u001b[33mdmg2\u001b[39;49m = \u001b[32m\"-%d%%\"\u001b[39;49m%(def_unit.simulate(atk_unit.name,a_terrain,\r\n\t\t                                  atk_unit.hp-est))\r\n\u001b[K\n\t\t\u001b[33mcounter\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"indirect\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m def_unit.properties: \u001b[33mcounter\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m def_unit.in_range(dist): \u001b[33mcounter\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m counter: \u001b[33mdmg2\u001b[39;49m = \u001b[32m\"-0%\"\u001b[39;49m\r\n\n\t\u001b[31m# Info 2 is for the intel on the hovering tile.                         \u001b[39;49m\r\n\t\u001b[33minfo2\u001b[39;49m = []\u001b[K\r\n\t\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\n\b\b\b\b\b\u001b[7m3% L401\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.edit:\u001b[K\u001b[3;13H\u001b[33minfo1\u001b[39;49m = [(\u001b[32m\"Map Editing\"\u001b[39;49m,\u001b[32m\"w!\"\u001b[39;49m)]\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\u001b[K\u001b[5;13H\u001b[33mmoney\u001b[39;49m = \u001b[32m\"$%d\"\u001b[39;49m%t.cash\u001b[K\u001b[6;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.cash >= 10000:\u001b[K\r\n\t\t\u001b[33mmoney\u001b[39;49m = \u001b[32m\"$%dK\"\u001b[39;49m%(t.cash/1000)\u001b[K\u001b[8;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.cash >= 1000000:\u001b[K\r\n\t\t\u001b[33mmoney\u001b[39;49m = \u001b[32m\"$RICH\"\u001b[39;49m\u001b[K\u001b[10;13H\u001b[33mspace\u001b[39;49m = \u001b[32m\" \"\u001b[39;49m*(14-\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(t.name[:8])-\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(money))\u001b[11;13H\u001b[33mcol\u001b[39;49m = t.color\u001b[K\u001b[12;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t.active:\u001b[K\r\n\t\t\u001b[33mcol\u001b[39;49m = \u001b[32m\"x!\"\u001b[39;49m\u001b[K\u001b[14;13Hinfo1.append( (\u001b[32m\"%s%s%s\"\u001b[39;49m%(t.name[:8], space, money), col) )\r\n\u001b[K\n\t\u001b[31m# If attack is in the action, we need to get the estimated              \u001b[39;49m\r\n\t\u001b[31m# damage to show the player.                                            \u001b[39;49m\r\n\t\u001b[33mdmg1\u001b[39;49m, \u001b[33mdmg2\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m,\u001b[32m\"\"\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"Attack\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\r\n\t    \u001b[33max\u001b[39;49m,\u001b[33may\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]\u001b[K\r\n\t    \u001b[33matk_unit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(ax,ay)\r\n\t    \u001b[33mdef_unit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[23;30H\u001b[7m1% L382\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[31m# Check and see if the last unit died.                                  \u001b[39;49m\r\n\t\u001b[33ma_alive\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[33md_alive\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (tx,ty) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles_xy():\u001b[6;13H\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(tx,ty)\u001b[7;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m atk_unit.team: \u001b[33ma_alive\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t\t\bu \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m def_unit.team: \u001b[33md_alive\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m a_alive: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defeated(atk_unit.team)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m d_alive: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defeated(def_unit.team)\u001b[K\r\n\u001b[K\u001b[12;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mpump_info\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.edit:\u001b[K\u001b[15;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start_turn()\r\n\t\u001b[33mreport\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = []\u001b[K\r\n\u001b[K\n\t\u001b[31m# Info 1 is global team information.                                    \u001b[39;49m\r\n\t\u001b[33minfo1\u001b[39;49m = [ (\u001b[32m\"Day %d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.day,\u001b[32m\"w!\"\u001b[39;49m)]\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.edit:\u001b[K\u001b[22;13H\u001b[33minfo1\u001b[39;49m = [(\u001b[32m\"Map Editing\"\u001b[39;49m,\u001b[32m\"w!\"\u001b[39;49m)]\u001b[K\u001b[23;29H\u001b[7m29% L363\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[33mcounter\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_unit.hp <= 0: \u001b[33mcounter\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"indirect\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m def_unit.properties: \u001b[33mcounter\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m def_unit.in_range(dist): \u001b[33mcounter\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m counter:\u001b[K\u001b[8;13H\u001b[33matk_unit.hp\u001b[39;49m -= def_unit.simulate(atk_unit.name, a_terrain)\r\n\u001b[K\n\t\u001b[31m# Remove destroyed units from grid and prevent HP from falling into     \u001b[39;49m\r\n\t\u001b[31m# the negatives.                                                        \u001b[39;49m\r\n\u001b[12;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m atk_unit.hp <= 0:\u001b[K\u001b[13;5H        \u001b[33matk_unit.hp\u001b[39;49m = 0\u001b[K\r\n\t    \u001b[33ma_terrain.hp\u001b[39;49m = 100\u001b[K\u001b[15;18Hgrid.remove_unit(ax,ay)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_unit.hp <= 0:\r\n\t    \u001b[33mdef_unit.hp\u001b[39;49m = 0\u001b[18;13H\u001b[33md_terrain.hp\u001b[39;49m = 100\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(dx,dy)\u001b[K\r\n\u001b[K\n\t\u001b[31m# Check and see if the last unit died.                                  \u001b[39;49m\r\n\t\u001b[33ma_alive\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[23;30H\u001b[7m8% L344\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\n\u001b[K\n\u001b[K\u001b[5;5H\u001b[?25l\u001b[31m# This is the attack action. This is what actually has side effects.        \u001b[39;49m\r\n\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34maction_attack\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, atk_pos, def_pos):\r\n\t\u001b[33max\u001b[39;49m,\u001b[33may\u001b[39;49m = atk_pos\r\n\t\u001b[33mdx\u001b[39;49m,\u001b[33mdy\u001b[39;49m = def_pos\u001b[K\r\n\t\u001b[33matk_unit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(ax,ay)\r\n\t\u001b[33mdef_unit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(dx,dy)\u001b[K\r\n\t\u001b[33mdist\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.dist((ax,ay),(dx,dy))\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m atk_unit: \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Attack square is empty.\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m def_unit: \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Defend square is empty.\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[31m# This is the basic attack formula.                                     \u001b[39;49m\r\n\t\u001b[33ma_terrain\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(ax,ay)\r\n\t\u001b[4P\t\u001b[C = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(dx,dy)\r\n\t\u001b[33mdef_unit.hp\u001b[39;49m -= atk_unit.simulate(def_unit.name, d_terrain)\r\n\n\t\u001b[33mcounter\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_unit.hp <= 0: \u001b[33mcounter\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[23;30H\u001b[7m6% L325\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(a,b)\u001b[3;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t.unit \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m t.unit.allied(unit)):\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m top:\u001b[5;5H                \u001b[33mr\u001b[39;49m -= unit.terrain.get(t.name,r)\u001b[K\u001b[6;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (a,b) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m report \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.name \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m unit.terrain:\r\n\t            report.append((a,b))\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m r > 0:\r\n\t            _floodfill((a-1,b),r)\u001b[K\r\n\t            _floodfill((a+1,b),r)\u001b[K\r\n\t            _floodfill((a,b-1),r)\u001b[K\u001b[12;21H_floodfill((a,b+1),r)\r\n\t_floodfill((x,y),unit.move,\u001b[35mTrue\u001b[39;49m)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m [(x,y) \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m report \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y) \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m\r\n\t                                      \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y) \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m\u001b[K\r\n\t                                      \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y).team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m\r\n\t                                      unit.team)]\r\n\u001b[K\n\n\u001b[K\n\u001b[K\u001b[23;30H\u001b[7m4% L306\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[7;5H\u001b[?25l\u001b[31m# Get movement range of the unit at x,y. Returns nothing                    \u001b[39;49m\r\n\u001b[8;5H\u001b[31m# if the tile is empty or does not exist. All of the positions              \u001b[39;49m\r\n\u001b[9;5H\u001b[31m# returned are guaranteed to be tiles that the unit could                   \u001b[39;49m\r\n\u001b[10;5H\u001b[31m# stop moving on.                                                           \u001b[39;49m\r\n\u001b[11;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mget_move_range\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[33munit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m unit:\u001b[K\u001b[14;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m []\r\n\u001b[K\n\t\u001b[31m# Use the naive flood-fill algorithm to get neighboring                 \u001b[39;49m\r\n\t\u001b[31m# tiles. TODO: handle allied units                                      \u001b[39;49m\r\n\t\u001b[33mreport\u001b[39;49m = []\u001b[K\r\n\t\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m_floodfill\u001b[0m\u001b[39;49m(pos,r,top=\u001b[35mFalse\u001b[39;49m):\u001b[20;13H\u001b[33ma\u001b[39;49m,\u001b[33mb\u001b[39;49m = pos\u001b[21;13H\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(a,b)\u001b[22;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t.unit \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m t.unit.allied(unit)):\u001b[23;30H\u001b[7m3% L287\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[31m# writing their own sections.                                           \u001b[39;49m\r\n\t\u001b[33munits\u001b[39;49m = [(\u001b[32m\"Unit Intel\\n==========\"\u001b[39;49m,\u001b[32m\"w!\"\u001b[39;49m)]\r\n\tquick.append(\u001b[32m\" \"\u001b[39;49m)\r\n\tquick.append(\u001b[32m\"Units\\n----------------------\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m uni \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\u001b[7;5H        \u001b[33mU\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_unit({\u001b[32m\"name\"\u001b[39;49m:uni})\u001b[K\u001b[8;5H        \u001b[33munits\u001b[39;49m += [\u001b[32m\" \"\u001b[39;49m]+U.rulebook()+[\u001b[32m\" \"\u001b[39;49m]\u001b[K\u001b[9;5H        quick.append(\u001b[32m\"%20s %s\"\u001b[39;49m%(U.name, U.icon))\u001b[K\r\n\u001b[K\u001b[11;5H    \u001b[31m# The fourth part is just like the second, except for terrain.          \u001b[39;49m\r\n\t\u001b[33mterrain\u001b[39;49m = [(\u001b[32m\"Terrain Intel\\n=============\"\u001b[39;49m,\u001b[32m\"w!\"\u001b[39;49m)]\r\n\tquick.append(\u001b[32m\" \"\u001b[39;49m)\r\n\tquick.append(\u001b[32m\"Terrain\\n----------------------\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m ter \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\r\n\t    \u001b[33mT\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_cell({\u001b[32m\"name\"\u001b[39;49m:ter})\u001b[K\r\n\t    \u001b[33mterrain\u001b[39;49m += [\u001b[32m\" \"\u001b[39;49m]+T.rulebook()+[\u001b[32m\" \"\u001b[39;49m]\u001b[K\r\n\t    quick.append(\u001b[32m\"%20s %s\"\u001b[39;49m%(T.name, T.icon))\r\n\u001b[K\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m [overview,quick,units,terrain]\r\n\u001b[K\n\u001b[K\u001b[23;30H\u001b[7m1% L268\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\u001b[3;5H\u001b[?25l\u001b[31m# This function produces a team.                                            \u001b[39;49m\r\n\u001b[4;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mmake_team\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data):\r\n\t\u001b[33mt\u001b[39;49m = Team(data[\u001b[32m\"name\"\u001b[39;49m],data[\u001b[32m\"color\"\u001b[39;49m])\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m t\u001b[K\r\n\u001b[K\n\u001b[K\u001b[9;5H\u001b[31m# The rulebook has three pages. An overview, a page for units, and          \u001b[39;49m\r\n\u001b[10;5H\u001b[31m# a page for terrain.                                                       \u001b[39;49m\r\n\u001b[11;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mmake_rulebook\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33moverview\u001b[39;49m = [(\u001b[32m\"Overview\\n\u001b[39;49m\u001b[9P\r\n\toverv\u001b[3@iew\r\n\toverview.append(\u001b[32m\"One day I'll put the rules here.\"\u001b[39;49m)\r\n\u001b[K\n\u001b[K\n\t\u001b[33mquick\u001b[39;49m = [(\u001b[32m\"Quick Reference\\n===============\"\u001b[39;49m,\u001b[32m\"w!\"\u001b[39;49m)]\r\n\u001b[K\n\t\u001b[31m# The third section has all of the units, listed in order.              \u001b[39;49m\r\n\t\u001b[31m# We create temporary unit objects that are responsible for             \u001b[39;49m\r\n\t\u001b[31m# writing their own sections.                                           \u001b[39;49m\r\n\t\u001b[33munits\u001b[39;49m = [(\u001b[32m\"Unit Intel\\n==========\"\u001b[39;49m,\u001b[32m\"w!\"\u001b[39;49m)]\u001b[23;30H\u001b[7m0% L249\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m# Return a JSON string that can be saved to a file. The current             \u001b[39;49m\r\n\t\b\b\u001b[31mturn in progress will be lost\u001b[39;49m\r\n\t\u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, griddata=\u001b[35mFalse\u001b[39;49m):\r\n\t\u001b[33mdata\u001b[39;49m = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data)\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m griddata:\u001b[7;13H\u001b[33mdata\u001b[39;49m[\u001b[32m\"grid\"\u001b[39;49m] = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.export()\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m json.dumps(data, indent=4)\r\n\u001b[K\n\t\b\b\u001b[31mThis function produces a Unit object based on the unit code.\u001b[39;49m\u001b[11;14H\u001b[1m\u001b[34munit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data):\r\n\t\u001b[33mname\u001b[39;49m = data[\u001b[32m\"name\"\u001b[39;49m]\u001b[K\r\n\t\u001b[33mu\u001b[39;49m = Unit(name, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m][name])\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m u\u001b[K\u001b[16;5H\u001b[31m# This function produces a Cell object based on the terrain code.           \u001b[39;49m\r\n\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mmake_cell\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data):\u001b[K\r\n\t\u001b[33mname\u001b[39;49m = data[\u001b[32m\"name\"\u001b[39;49m]\r\n\t\u001b[33mc\u001b[39;49m = Cell(name, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m][name])\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m c\u001b[K\r\n\u001b[K\u001b[22;5H\u001b[31m# This function produces a team.                                            \u001b[39;49m\r\n\u001b[23;29H\u001b[7m18% L230\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\u001b[3;5H\u001b[?25l    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[4;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.winners = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[31m# other                                                                 \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[10;63H\u001b[4P\u001b[10;5H\u001b[4@\u001b[10;11H\u001b[31mReplay turn history.                                    \u001b[39;49m\u001b[11;5H    \u001b[33mreplay\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data.pop(\u001b[32m\"history\"\u001b[39;49m,[])\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m] = []\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m turn \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m replay:\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m action \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m turn:\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m step \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m action:\u001b[16;5H                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process(step)\u001b[K\u001b[17;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end_turn()\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[21;5H\u001b[31m# Return a JSON string that can be saved to a file. The current             \u001b[39;49m\r\n\t\b\b\u001b[31mturn in progress will be lost\u001b[39;49m\n\b\b\b\b\b\b\u001b[7m7% L211\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\t\u001b[?25l\u001b[33mt.active\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t.active:\u001b[5;21H\u001b[33mt.name\u001b[39;49m = \u001b[32m\"Absent\"\u001b[39;49m\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defeated(t)\u001b[K\r\n\t        \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().active \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.day==1:\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.end_turn()\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.restartpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\r\n\u001b[K\n\t\u001b[31m# The history contains all actions for this player turn.                \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[K\r\n\u001b[K\n\t\u001b[31m# These are the state variables                                         \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"play\"\u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m edit:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m] = []\u001b[20;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"edit\"\u001b[39;49m\r\n\u001b[K\u001b[22;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[23;30H\u001b[7m5% L192\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l\u001b[31m#   make_team                                                                   \u001b[39;49m\r\n\u001b[31m#   make_cell                                                                   \u001b[39;49m\r\n\u001b[31m#   pop_alerts                                                                  \u001b[39;49m\r\n\u001b[31m#   process                                                                     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mRules\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data, edit=\u001b[35mFalse\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data = data\u001b[K\u001b[9;14Hedit = edit\u001b[K\r\n\u001b[K\n\t\u001b[31m# Create the grid with what's left.                                     \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = []\u001b[K\u001b[13;14Hgrid = grid.Grid(data[\u001b[32m\"grid\"\u001b[39;49m], \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.edit:\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\u001b[K\r\n\t        \u001b[33mt.active\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m p \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data[\u001b[32m\"players\"\u001b[39;49m]:\r\n\t        \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams[data[\u001b[32m\"players\"\u001b[39;49m][p][\u001b[32m\"team\"\u001b[39;49m]]\u001b[19;13H    \u001b[33mt.name\u001b[39;49m = p\u001b[K\u001b[20;13H    \u001b[33mt.color\u001b[39;49m = data[\u001b[32m\"players\"\u001b[39;49m][p][\u001b[32m\"color\"\u001b[39;49m]\r\n\t\t\u001b[33mt.active\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\u001b[23;30H\u001b[7m4% L173\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;40H\u001b[8P\r\u001b[8@\u001b[2;11H\u001b[?25l\u001b[31mthat are running low (hp, fuel, etc).\u001b[39;49m\r\n        \u001b[33mframes\u001b[39;49m = [\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.icon]\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.hp < 90):\u001b[K\r\n            frames.append( \u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m((\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.hp//10)+1)  )\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.anim) >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(frames):\u001b[7;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.anim = 0.0\u001b[K\r\n\t\u001b[33mimg\u001b[39;49m = frames[\u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.anim)]\r\n\u001b[K\n\t\u001b[31m# Draw the character.                                                   \u001b[39;49m\r\n\tdraw.char(x, y, img, color)\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# The Rules serve two purposes. Firstly, it is a factory that produces          \u001b[39;49m\r\n\u001b[31m# new objects according the needs of the game being played. Secondly, they      \u001b[39;49m\r\n\u001b[31m# serve as a state machine for performing legal actions and changing the        \u001b[39;49m\r\n\u001b[31m# state of the game grid.                                                       \u001b[39;49m\r\n\u001b[31m#                                                                               \u001b[39;49m\r\n\u001b[31m# Required methods:                                                             \u001b[39;49m\r\n\u001b[31m#   make_unit                                                                   \u001b[39;49m\r\n\u001b[31m#   make_team                                                                   \u001b[39;49m\r\n\u001b[31m#   make_cell                                                                   \u001b[39;49m\r\n\u001b[23;30H\u001b[7m3% L154\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l    \u001b[33mcover\u001b[39;49m = 1.0 - (.1*terrain.defense)\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(base*.01*hp*cover)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[6;5H\u001b[31m# This returns False if out of range and true if in range.                  \u001b[39;49m\r\n\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34min_range\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, dist):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m (dist >= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[0] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m dist <= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[1])\u001b[10;5H\u001b[4P\t\b\b\u001b[31mThis drawing method overrides the default method by hand\u001b[39;49m\u001b[4@\u001b[31mling\u001b[39;49m\u001b[11;5H\u001b[31m# animations for when this unit is low on resources such as HP,             \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# ammo, etc.                                                                \u001b[39;49m\r\n\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, col):\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.anim += .02\u001b[K\r\n\u001b[K\n        \u001b[31m# Gray out units that can't act. Units are always bold.                 \u001b[39;49m\r\n        \u001b[33mready\u001b[39;49m = \u001b[32m\"x\"\u001b[39;49m \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.ready \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n        \u001b[33mcolor\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.team.color + ready + col + \u001b[32m\"!\"\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[20;52H\u001b[8P\r\u001b[8@\u001b[20;11H\u001b[31mBuild the animation for this unit based on values\u001b[39;49m\u001b[21;40H\u001b[8P\r\u001b[8@\u001b[21;11H\u001b[31mthat are running low (hp, fuel, etc).\u001b[39;49m\r\n        \u001b[33mframes\u001b[39;49m = [\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.icon]\u001b[K\n\u001b[C\u001b[7m1% L135\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25lreport.append(\u001b[32m\"Firing Range: %d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[0])\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage:\u001b[K\r\n\t    report.append(\u001b[32m\"    vs %s -%d%%\"\u001b[39;49m%(u, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage[u]))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[6;5H        report.append(\u001b[32m\"Can capture properties\"\u001b[39;49m)\u001b[K\u001b[7;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"carry\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\r\n\t    \u001b[33ma\u001b[39;49m = \u001b[32m\"Can carry up to %d of the following units:\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.capacity\u001b[9;13Hreport.append(a)\u001b[10;5H        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.carry:\u001b[K\u001b[11;5H            report.append(\u001b[32m\"    %s\"\u001b[39;49m%u)\u001b[K\r\n\u001b[K\u001b[13;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\u001b[K\u001b[15;5H\u001b[31m# Simulate an attack from this unit on a target including unit              \u001b[39;49m\r\n\u001b[16;5H\u001b[4P\t\b\b\u001b[31mbonuses and terrain effects.                         \u001b[39;49m\u001b[4@\u001b[31m    \u001b[39;49m\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34msimulate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, target, terrain, hp=\u001b[35mNone\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m hp: \u001b[33mhp\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.hp\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m target \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage:\r\n\t    \u001b[33mbase\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage[target]\u001b[K\r\n\t    \u001b[33mcover\u001b[39;49m = 1.0 - (.1*terrain.defense)\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(base*.01*hp*cover)\u001b[23;29H\u001b[7m 9% L116\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.carry = \u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"carry\"\u001b[39;49m,[]))\u001b[K\r\n\u001b[K\u001b[4;5H\u001b[31m# Create a rulebook section for this unit.                                  \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrulebook\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m = []\u001b[K\r\n\treport.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name+\u001b[32m\"\\n\"\u001b[39;49m+(\u001b[32m\"-\"\u001b[39;49m*\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name)))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.description:\u001b[K\n\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.description+\u001b[32m\"\\n \"\u001b[39;49m)\r\n\treport.append(\u001b[32m\"Icon on map: %s\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.icon)\r\n\t\u001b[8P\t\t\b\u001b[32mMovement Range: %d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.move)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.terrain:\r\n\t    report.append(\u001b[32m\"    %d over %s\"\u001b[39;49m%(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.terrain[t],t))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"nocover\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[15;5H        report.append(\u001b[32m\"This unit does not receive defensive cover\"\u001b[39;49m)\u001b[K\u001b[16;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"indirect\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[K\u001b[17;5H        report.append(\u001b[32m\"Indirect attack unit\"\u001b[39;49m)\u001b[18;12H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[0] != \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[1]:\r\n\t    report.append(\u001b[32m\"Firing Range: %d-%d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng)\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\breport.append(\u001b[32m\"Firing Range: %d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[0])\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage:\u001b[K\n\u001b[7m7% L97 \u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, name, color):\u001b[K\r\n\t\u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Team, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(name, color)\u001b[4;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cash = 0\u001b[K\r\n\u001b[K\n\u001b[31m# Custom Unit subclass. Contains information such as HP, readiness, and         \u001b[39;49m\r\n\u001b[31m# a custom drawing method.                                                      \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mUnit\u001b[39;49m(grid.Unit):\u001b[K\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, name, rules):\u001b[K\r\n\t\u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Unit, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(name, rules[\u001b[32m\"icon\"\u001b[39;49m])\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.hp = 100\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.ready = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.move = rules[\u001b[32m\"move\"\u001b[39;49m]\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.anim = 0.0\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(rules[\u001b[32m\"damage\"\u001b[39;49m])\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties = \u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"properties\"\u001b[39;49m,[]))\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.terrain = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(rules[\u001b[32m\"terrain\"\u001b[39;49m])\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng = \u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"range\"\u001b[39;49m,[1,1]))\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.description = rules.get(\u001b[32m\"description\"\u001b[39;49m,\u001b[32m\"\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.capacity = rules.get(\u001b[32m\"capacity\"\u001b[39;49m,0)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.carry = \u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"carry\"\u001b[39;49m,[]))\u001b[K\r\n\u001b[K\u001b[23;30H\u001b[7m5% L78\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\r\n\t    report.append(\u001b[32m\"Can be captured\"\u001b[39;49m)\u001b[K\r\n\t    report.append(\u001b[32m\"Produces $%d per turn\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cash)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"build\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\r\n            report.append(\u001b[32m\"Can produce units:\"\u001b[39;49m)\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.build:\u001b[K\r\n                report.append(\u001b[32m\"    %s costs $%d\"\u001b[39;49m%(b,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.build[b]))\u001b[9;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"hq\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[K\r\n\t    report.append(\u001b[32m\"This team loses if this property is captured\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"repair\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\r\n\t    report.append(\u001b[32m\"Repairs the following units at start of a day:\"\u001b[39;49m)\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.repair:\r\n\t        report.append(\u001b[32m\"    %s (+%d%%)\"\u001b[39;49m%(b,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.repair[b]))\r\n\u001b[K\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# Custom Team subclass. Contains information such as resources.                 \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mTeam\u001b[39;49m(grid.Team):\u001b[K\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, name, color):\u001b[K\r\n\t\u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Team, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(name, color)\u001b[23;30H\u001b[7m4% L59\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, name, rules):\u001b[K\r\n\t\u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Cell, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(name, rules[\u001b[32m\"icon\"\u001b[39;49m], rules[\u001b[32m\"color\"\u001b[39;49m])\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defense = rules[\u001b[32m\"defense\"\u001b[39;49m]\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties = \u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"properties\"\u001b[39;49m,[]))\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.hp = 100\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cash = rules.get(\u001b[32m\"cash\"\u001b[39;49m,0)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.build = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"build\"\u001b[39;49m,{}))\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.description = rules.get(\u001b[32m\"description\"\u001b[39;49m,\u001b[32m\"\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.repair = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"repair\"\u001b[39;49m,{}))\u001b[K\r\n\u001b[K\u001b[12;5H\u001b[31m# Create a rulebook section for this terrain.                               \u001b[39;49m\r\n\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrulebook\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m = []\u001b[K\r\n\treport.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name+\u001b[32m\"\\n\"\u001b[39;49m+(\u001b[32m\"-\"\u001b[39;49m*\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name)))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.description:\u001b[17;13Hreport.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.description+\u001b[32m\"\\n \"\u001b[39;49m)\r\n\treport.append(\u001b[32m\"Icon on map: %s\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.icon)\r\n        report.append(\u001b[32m\"Defensive cover: %d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defense)\u001b[K\r\n\u001b[K\u001b[21;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\r\n\t    report.append(\u001b[32m\"Can be captured\"\u001b[39;49m)\u001b[K\u001b[23;30H\u001b[7m2% L40\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l\u001b[31m# A rules object handles all of the actual game play elements. The rules        \u001b[39;49m\r\n\u001b[31m# are what give meaning to the pieces in a Grid, and is controlled (usually)    \u001b[39;49m\r\n\u001b[31m# by a Controller that provides piecewise input.                                \u001b[39;49m\r\n\u001b[K\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m . \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m grid, widgets, storage, log\r\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m graphics \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m draw\u001b[K\r\n\u001b[K\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m copy, json\u001b[K\r\n\u001b[K\n\n\u001b[4P\u001b[C\u001b[C\u001b[31mGlobal strings. Stored to avoid mistyping. \u001b[39;49m\u001b[4@\u001b[31m    \u001b[39;49m\r\n\u001b[33mCTRL_COORD\u001b[39;49m = \u001b[32m\"coord\"\u001b[39;49m\u001b[K\r\n\u001b[33mCTRL_MENU\u001b[39;49m = \u001b[32m\"menu\"\u001b[39;49m\u001b[K\r\n\u001b[33mCTRL_UNDO\u001b[39;49m = \u001b[32m\"undo\"\u001b[39;49m\u001b[K\r\n\u001b[33mCTRL_EDITOR\u001b[39;49m = \u001b[32m\"editor\"\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# Custom Cell subclass. Contains information such as terrain defensive bonus.   \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mCell\u001b[39;49m(grid.Cell):\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, name, rules):\u001b[K\r\n\t\u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Cell, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(name, rules[\u001b[32m\"icon\"\u001b[39;49m], rules[\u001b[32m\"color\"\u001b[39;49m])\u001b[23;29H\u001b[7mTop L21\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\n\n\u001b[?25lBeginning of buffer\u001b[22;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u0007\u0007\u0007\u0007\u0007\n\n\u001b[K\u001b[2d\u001b[?25l    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, name, rules):\u001b[K\r\n        \u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Cell, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(name, rules[\u001b[32m\"icon\"\u001b[39;49m], rules[\u001b[32m\"color\"\u001b[39;49m])\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defense = rules[\u001b[32m\"defense\"\u001b[39;49m]\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties = \u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"properties\"\u001b[39;49m,[]))\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.hp = 100\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cash = rules.get(\u001b[32m\"cash\"\u001b[39;49m,0)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.build = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"build\"\u001b[39;49m,{}))\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.description = rules.get(\u001b[32m\"description\"\u001b[39;49m,\u001b[32m\"\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.repair = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"repair\"\u001b[39;49m,{}))\n\n\b\b\b\b\b\u001b[4P\r\u001b[4@\t\b\b\u001b[31mCreate a rulebook section for this terrain.\u001b[39;49m\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrulebook\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n        \u001b[33mreport\u001b[39;49m = []\r\n        report.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name+\u001b[32m\"\\n\"\u001b[39;49m+(\u001b[32m\"-\"\u001b[39;49m*\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name)))\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.description:\u001b[17;13Hreport.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.description+\u001b[32m\"\\n \"\u001b[39;49m)\r\n\treport.append(\u001b[32m\"Icon on map: %s\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.icon)\r\n        report.append(\u001b[32m\"Defensive cover: %d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defense)\u001b[K\r\n\u001b[K\u001b[21;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\r\n\t    report.append(\u001b[32m\"Can be captured\"\u001b[39;49m)\u001b[K\u001b[23;29H\u001b[7m 2%\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\r\n\t    report.append(\u001b[32m\"Can be captured\"\u001b[39;49m)\u001b[K\r\n\t    report.append(\u001b[32m\"Produces $%d per turn\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cash)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"build\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[K\r\n\t    report.append(\u001b[32m\"Can produce units:\"\u001b[39;49m)\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.build:\u001b[K\r\n\t        report.append(\u001b[32m\"    %s costs $%d\"\u001b[39;49m%(b,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.build[b]))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"hq\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[K\r\n\t    report.append(\u001b[32m\"This team loses if this property is captured\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"repair\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[12;5H        report.append(\u001b[32m\"Repairs the following units at start of a day:\"\u001b[39;49m)\u001b[K\u001b[13;5H        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.repair:\r\n\t        report.append(\u001b[32m\"    %s (+%d%%)\"\u001b[39;49m%(b,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.repair[b]))\r\n\u001b[K\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# Custom Team subclass. Contains information such as resources.                 \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mTeam\u001b[39;49m(grid.Team):\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, name, color):\u001b[K\r\n\t\u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Team, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(name, color)\u001b[23;30H\u001b[7m4% L39\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, name, color):\u001b[K\r\n\t\u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Team, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(name, color)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cash = 0\u001b[K\r\n\u001b[K\n\u001b[31m# Custom Unit subclass. Contains information such as HP, readiness, and         \u001b[39;49m\r\n\u001b[31m# a custom drawing method.                                                      \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mUnit\u001b[39;49m(grid.Unit):\u001b[K\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, name, rules):\r\n\t\u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Unit, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(name, rules[\u001b[32m\"icon\"\u001b[39;49m])\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.hp = 100\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.ready = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.move = rules[\u001b[32m\"move\"\u001b[39;49m]\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.anim = 0.0\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(rules[\u001b[32m\"damage\"\u001b[39;49m])\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties = \u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"properties\"\u001b[39;49m,[]))\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.terrain = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(rules[\u001b[32m\"terrain\"\u001b[39;49m])\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng = \u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"range\"\u001b[39;49m,[1,1]))\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.description = rules.get(\u001b[32m\"description\"\u001b[39;49m,\u001b[32m\"\"\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.capacity = rules.get(\u001b[32m\"capacity\"\u001b[39;49m,0)\u001b[21;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.carry = \u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"carry\"\u001b[39;49m,[]))\r\n\u001b[K\u001b[23;30H\u001b[7m5% L58\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.carry = \u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"carry\"\u001b[39;49m,[]))\r\n\u001b[K\u001b[4;5H\u001b[31m# Create a rulebook section for this unit.                                  \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrulebook\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n        \u001b[33mreport\u001b[39;49m = []\u001b[K\r\n        report.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name+\u001b[32m\"\\n\"\u001b[39;49m+(\u001b[32m\"-\"\u001b[39;49m*\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name)))\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.description:\u001b[9;5H        report.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.description+\u001b[32m\"\\n \"\u001b[39;49m)\r\n\treport.append(\u001b[32m\"Icon on map: %s\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.icon)\u001b[K\r\n\treport.append(\u001b[32m\"Movement Range: %d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.move)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.terrain:\r\n\t    report.append(\u001b[32m\"    %d over %s\"\u001b[39;49m%(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.terrain[t],t))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"nocover\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\r\n\t    report.append(\u001b[32m\"This unit does not receive defensive cover\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"indirect\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[K\r\n\t    report.append(\u001b[32m\"Indirect attack unit\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[0] != \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[1]:\u001b[K\r\n\t    report.append(\u001b[32m\"Firing Range: %d-%d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng)\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    report.append(\u001b[32m\"Firing Range: %d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[0])\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage:\n\u001b[7m7% L77\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l    report.append(\u001b[32m\"Firing Range: %d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[0])\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage:\u001b[4;5H        report.append(\u001b[32m\"    vs %s -%d%%\"\u001b[39;49m%(u, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage[u]))\u001b[K\u001b[5;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\r\n\t    report.append(\u001b[32m\"Can capture properties\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"carry\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[K\r\n\t    \u001b[33ma\u001b[39;49m = \u001b[32m\"Can carry up to %d of the following units:\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.capacity\u001b[9;27Ha)\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.carry:\u001b[K\r\n\t\u001b[8@\t\t\t\b\u001b[32m    %s\"\u001b[39;49m%u)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\u001b[K\u001b[15;5H\u001b[31m# Simulate an attack from this unit on a target including unit              \u001b[39;49m\r\n\u001b[16;5H\u001b[31m# bonuses and terrain effects.                                              \u001b[39;49m\r\n\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34msimulate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, target, terrain, hp=\u001b[35mNone\u001b[39;49m):\u001b[18;12H\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m hp: \u001b[33mhp\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.hp\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m target \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage:\u001b[K\r\n\t    \u001b[33mbase\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage[target]\u001b[21;13H\u001b[33mcover\u001b[39;49m = 1.0 - (.1*terrain.defense)\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(base*.01*hp*cover)\u001b[23;30H\u001b[7m9% L96\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[33mcover\u001b[39;49m = 1.0 - (.1*terrain.defense)\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(base*.01*hp*cover)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[6;5H\u001b[31m# This returns False if out of range and true if in range.                  \u001b[39;49m\r\n\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34min_range\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, dist):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m (dist >= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[0] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m dist <= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[1])\u001b[K\r\n\u001b[K\u001b[10;5H\u001b[31m# This drawing method overrides the default method by handling              \u001b[39;49m\r\n\u001b[11;5H\u001b[31m# animations for when this unit is low on resources such as HP,             \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# ammo, etc.                                                                \u001b[39;49m\r\n\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, col):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.anim += .02\r\n\u001b[K\u001b[16;60H\u001b[4P\u001b[16;5H\u001b[4@\u001b[16;11H\u001b[31mGray out units that can't act. Units are always bold.\u001b[39;49m\u001b[17;5H    \u001b[33mready\u001b[39;49m = \u001b[32m\"x\"\u001b[39;49m \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.ready \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n\t\u001b[33mcolor\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.team.color + ready + col + \u001b[32m\"!\"\u001b[39;49m\r\n\u001b[K\n\t\u001b[31m# Build the animation for this unit based on values                     \u001b[39;49m\r\n\t\u001b[31m# that are running low (hp, fuel, etc).                                 \u001b[39;49m\r\n\t\u001b[33mframes\u001b[39;49m = [\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.icon]\u001b[K\n\u001b[7m11% L115\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.carry:\u001b[K\u001b[3;13H    report.append(\u001b[32m\"    %s\"\u001b[39;49m%u\r\n\u001b[K\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\r\n\u001b[K\u001b[7;5H\u001b[31m# Simulate an attack from this unit on a target including unit              \u001b[39;49m\r\n\u001b[8;5H\u001b[31m# bonuses and terrain effects.                                              \u001b[39;49m\r\n\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34msimulate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, target, terrain, hp=\u001b[35mNone\u001b[39;49m):\u001b[10;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m hp: \u001b[33mhp\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.hp\u001b[K\u001b[11;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m target \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage:\u001b[K\u001b[12;5H        \u001b[33mbase\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage[target]\u001b[K\u001b[13;5H        \u001b[33mcover\u001b[39;49m = 1.0 - (.1*terrain.defense)\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(base*.01*hp*cover)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\r\n\u001b[K\u001b[17;5H\u001b[31m# This returns False if out of range and true if in range.                  \u001b[39;49m\r\n\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34min_range\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, dist):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m (dist >= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[0] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m dist <= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[1])\r\n\u001b[K\u001b[21;5H\u001b[4P\t\b\b\u001b[31mThis drawing method overrides the default method by hand\u001b[39;49m\u001b[4@\u001b[31mling\u001b[39;49m\u001b[22;5H\u001b[31m# animations for when this unit is low on resources such as HP,             \u001b[39;49m\r\n\u001b[23;30H\u001b[7m0% L114\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[11;1H\u001b[1L\u001b[1;24r\u001b[11;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   10% L113\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32m\"                                                                    \u001b[39;49m\r\n\u001b[32m        if target in self.damage:                                               \u001b[39;49m\r\n\u001b[11;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m target \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage:\u001b[K\u001b[11;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32mn\"\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mo\"\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mc\"\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mo\"\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mv\"\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\"\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mr\"\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36min\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[11;42H\u001b[?25l\u001b[33mterrain\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mI-search: \u001b[39;49m\u001b[11;53H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;58H\u001b[?25l\u001b[7m Isearch) \u001b[0m\u001b[39;49m\u001b[27m\u001b[11;53H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u001b[24;1H\u001b[?25lQuit\u001b[K\u001b[23;58H\u001b[7m) --------\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;53H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[11;53H\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[11;53H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[11;53H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;53H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[11;53H\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[11;53H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\t\t\t\b\b\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l(No changes need to be saved)\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[17d\u001b[24d\u001b[?25l\u001b[34mSwitch to buffer (default *scratch*): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l*scratch*\u001b[24;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mLisp-Interaction Help\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[31m;; This buffer is for notes you don't want to save, and for Lisp evaluation.    \u001b[39;49m\r\n\u001b[31m;; If you want to create a file, visit that file with C-x C-f,                  \u001b[39;49m\r\n\u001b[31m;; then enter the text in that file's own buffer.                               \u001b[39;49m\r\n\u001b[K\nIt's day 19, and for once I'm at a loss for what to work on! I'm actually\r\nquite restless since tomorrow is the beginning of the global game jam!\u001b[K\r\nI'm the social media wizard apparently. Woohoo for me! I'll probably be\u001b[K\r\nstreaming my game dev for this event on Twitch.tv. (sorry if I'm a bit\r\nscattered, still responding to emails)\r\n\u001b[K\nAnyway. Let's see. The first thing I want to do is add a property that makes\r\nunits exempt from terrain cover (aka flying units).\r\n\u001b[K\n\u001b[K\n\u001b[K\n\n\u001b[K\n\u001b[K\n\u001b[K\n\n\u001b[K\u001b[23;4H\u001b[7mU:**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1m*scratch*   \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   All L12    (Lisp Interaction) -\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lT\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\b\u001b[K\t\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\b\u001b[K\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l1\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l%\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lB\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\b\u001b[K\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lT\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\b\u001b[K\t\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\t\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\u001b[K\b\b\u001b[K\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l-\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\u001b[C\b\b\u001b[K\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l-\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m20\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m19\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m20\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\n\n\u001b[?25lEnd of buffer\u001b[22;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m19\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;70H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[C\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lJ\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lS\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lO\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lN\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lP\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\u001b[C\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\b\u001b[K\t\b\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m20\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;20r\u001b[2;1H\u001b[11M\u001b[1;24r\u001b[10;1H\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[?25l\u001b[7mBot L22\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lA\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32m\"                             \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[11;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mu\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[11;59H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lT\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;76H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[C\b\b\u001b[K\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lT\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lW\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\t\b\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l\u001b[32m\"                        \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[14;57H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mh\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\r\n\u001b[K\u001b[14;56H\b\t\b\u001b[?25l\u001b[32m\"                        \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[14;57H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mx\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mE\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[14;68H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u001b[24d\u001b[?25lEnd of buffer\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;10H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lL\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lJ\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lS\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lO\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lN\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\u001b[C\b\b\u001b[K\b\u001b[K\b\b\u001b[K\t\b\b\b\u001b[K\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lC-x\u001b[18;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;4H\u001b[?25l-\u001b[18;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u001b[24;4H\u001b[?25l C-g is undefined\u001b[18;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[18;52H\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default rules.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help         \u001b[0m\u001b[39;49m\u001b[27m\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrules.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.carry:\u001b[K\r\n\t\treport.append(\u001b[32m\"    %s\"\u001b[39;49m%u)\r\n\u001b[K\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\u001b[K\n    \u001b[31m# Simulate an attack from this unit on a target including unit              \u001b[39;49m\r\n    \u001b[31m# bonuses and terrain effects.                                              \u001b[39;49m\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34msimulate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, target, terrain, hp=\u001b[35mNone\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m hp: \u001b[33mhp\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.hp\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"nocover\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties: \u001b[33mterrain\u001b[39;49m = 0\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m target \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage:\u001b[K\r\n            \u001b[33mbase\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage[target]\u001b[K\r\n            \u001b[33mcover\u001b[39;49m = 1.0 - (.1*terrain.defense)\u001b[K\r\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(base*.01*hp*cover)\u001b[K\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\n    \u001b[31m# This returns False if out of range and true if in range.                  \u001b[39;49m\r\n\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34min_range\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, dist):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m (dist >= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[0] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m dist <= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[1])\u001b[22;5H\u001b[31m# This drawing method overrides the default method by handling              \u001b[39;49m\r\n\u001b[23;4H\u001b[7m-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   10% L119  Git:master  (Python) \u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m20\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[33mbase\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage[target]\u001b[3;13H\u001b[33mcover\u001b[39;49m = 1.0 - (.1*terrain.defense)\u001b[4;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(base*.01*hp*cover)\r\n\t\t\b\u001b[35mNone\u001b[39;49m\u001b[K\u001b[7;7H\u001b[31mThis returns False if out of range and true if in range.    \u001b[39;49m\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34min_range\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, dist):\u001b[K\u001b[9;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m (dist >= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[0] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m dist <= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[1])\r\n\u001b[K\u001b[11;5H\u001b[31m# This drawing method overrides the default method by handling              \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# animations for when this unit is low on resources such as HP,             \u001b[39;49m\r\n\u001b[13;5H\u001b[31m# ammo, etc.                                                                \u001b[39;49m\r\n\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, col):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.anim += .02\u001b[K\r\n\u001b[K\n\t\u001b[31m# Gray out units that can't act. Units are always bold.                 \u001b[39;49m\r\n\u001b[18;5H    \u001b[33mready\u001b[39;49m = \u001b[32m\"x\"\u001b[39;49m \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.ready \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m \u001b[32m\"\"\u001b[39;49m\u001b[K\u001b[19;5H    \u001b[33mcolor\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.team.color + ready + col + \u001b[32m\"!\"\u001b[39;49m\r\n\u001b[K\n\t\u001b[31m# Build the animation for this unit based on values                     \u001b[39;49m\r\n\u001b[22;63H\u001b[4P\u001b[22;5H\u001b[4@\u001b[22;11H\u001b[31mthat are running low (hp, fuel, etc).                   \u001b[39;49m\u001b[23;30H\u001b[7m1% L125\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[31m# Build the animation for this unit based on values                     \u001b[39;49m\r\n\t\u001b[31m# that are running low (hp, fuel, etc).                                 \u001b[39;49m\r\n\t\u001b[33mframes\u001b[39;49m = [\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.icon]\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.hp < 90):\u001b[6;13Hframes.append( \u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m((\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.hp//10)+1)  )\u001b[7;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.anim) >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(frames):\u001b[K\u001b[8;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.anim = 0.0\u001b[K\r\n\t\u001b[33mimg\u001b[39;49m = frames[\u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.anim)]\u001b[K\u001b[11;63H\u001b[4P\u001b[11;5H\u001b[4@\u001b[11;11H\u001b[31mDraw the character.                                     \u001b[39;49m\u001b[12;5H    draw.char(x, y, img, color)\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# The Rules serve two purposes. Firstly, it is a factory that produces          \u001b[39;49m\r\n\u001b[31m# new objects according the needs of the game being played. Secondly, they      \u001b[39;49m\r\n\u001b[31m# serve as a state machine for performing legal actions and changing the        \u001b[39;49m\r\n\u001b[31m# state of the game grid.                                                       \u001b[39;49m\r\n\u001b[31m#                                                                               \u001b[39;49m\r\n\u001b[31m# Required methods:                                                             \u001b[39;49m\r\n\u001b[8P\u001b[C\u001b[C\u001b[31m  make_unit                                      \u001b[39;49m\u001b[8@\u001b[31m        \u001b[39;49m\r\n\u001b[8P\u001b[C\u001b[C\u001b[31m  make_team                          \u001b[39;49m\u001b[8@\u001b[31m        \u001b[39;49m\u001b[23;30H\u001b[7m3% L134\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[8P\u001b[2;3H\u001b[?25l\u001b[31m  make_unit                                      \u001b[39;49m\u001b[8@\u001b[31m        \u001b[39;49m\r\n\u001b[8P\u001b[3;3H\u001b[31m  make_team                          \u001b[39;49m\u001b[8@\u001b[31m        \u001b[39;49m\r\n\u001b[31m#   make_cell                                                                   \u001b[39;49m\r\n\u001b[31m#   pop_alerts                                                                  \u001b[39;49m\r\n\u001b[31m#   process                                                                     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mRules\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data, edit=\u001b[35mFalse\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data = data\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.edit = edit\r\n\u001b[K\n\t\u001b[31m# Create the grid with what's left.                                     \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = grid.Grid(data[\u001b[32m\"grid\"\u001b[39;49m], \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m)\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.edit:\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\u001b[K\r\n                \u001b[33mt.active\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m p \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data[\u001b[32m\"players\"\u001b[39;49m]:\u001b[K\r\n                \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams[data[\u001b[32m\"players\"\u001b[39;49m][p][\u001b[32m\"team\"\u001b[39;49m]]\u001b[K\r\n                \u001b[33mt.name\u001b[39;49m = p\u001b[K\r\n                \u001b[33mt.color\u001b[39;49m = data[\u001b[32m\"players\"\u001b[39;49m][p][\u001b[32m\"color\"\u001b[39;49m]\u001b[K\r\n                \u001b[33mt.active\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\n\b\b\u001b[7m4% L153\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l                \u001b[33mt.color\u001b[39;49m = data[\u001b[32m\"players\"\u001b[39;49m][p][\u001b[32m\"color\"\u001b[39;49m]\u001b[K\r\n                \u001b[33mt.active\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t.active:\u001b[K\r\n                    \u001b[33mt.name\u001b[39;49m = \u001b[32m\"Absent\"\u001b[39;49m\u001b[K\r\n                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defeated(t)\u001b[8;5H            \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().active \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.day==1:\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.end_turn()\u001b[10;14Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.restartpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\u001b[K\n\t\u001b[31m# The history contains all actions for this player turn.                \u001b[39;49m\r\n\u001b[14;14Hhistory = []\u001b[K\r\n\u001b[K\n\t\u001b[31m# These are the state variables                                         \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"play\"\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m edit:\u001b[K\n\b\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m] = []\u001b[21;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"edit\"\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[23;30H\u001b[7m5% L172\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"edit\"\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.winners = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[31m# other                                                                 \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[31m# Replay turn history.                                                  \u001b[39;49m\r\n\t\u001b[33mreplay\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data.pop(\u001b[32m\"history\"\u001b[39;49m,[])\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m] = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m turn \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m replay:\u001b[15;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m action \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m turn:\r\n\t        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m step \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m action:\u001b[K\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process(step)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end_turn()\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[22;5H\u001b[31m# Return a JSON string that can be saved to a file. The current             \u001b[39;49m\r\n\u001b[23;30H\u001b[7m7% L191\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[3;5H\u001b[?25l\u001b[31m# Return a JSON string that can be saved to a file. The current             \u001b[39;49m\r\n\u001b[4;5H\u001b[31m# turn in progress will be lost.                                            \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, griddata=\u001b[35mFalse\u001b[39;49m):\r\n\t\u001b[33mdata\u001b[39;49m = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m griddata:\u001b[K\r\n\t    \u001b[33mdata\u001b[39;49m[\u001b[32m\"grid\"\u001b[39;49m] = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.export()\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m json.dumps(data, indent=4)\u001b[11;5H\u001b[4P\t\b\b\u001b[31mThis function produces a Unit object based on the unit c\u001b[39;49m\u001b[4@\u001b[31mode.\u001b[39;49m\u001b[12;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mmake_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data):\u001b[K\r\n\t\u001b[33mname\u001b[39;49m = data[\u001b[32m\"name\"\u001b[39;49m]\u001b[K\r\n\t\u001b[33mu\u001b[39;49m = Unit(name, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m][name])\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m u\u001b[K\r\n\u001b[K\u001b[17;5H\u001b[31m# This function produces a Cell object based on the terrain code.           \u001b[39;49m\r\n\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mmake_cell\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data):\r\n\t\u001b[33mname\u001b[39;49m = data[\u001b[32m\"name\"\u001b[39;49m]\r\n\t\u001b[33mc\u001b[39;49m = Cell(name, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m][name])\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m c\r\n\u001b[K\u001b[23;30H\u001b[7m8% L210\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m c\r\n\u001b[K\u001b[4;7H\u001b[31mThis function produces a team\u001b[39;49m\r\n\t\u001b[1m\u001b[34mmake_team\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data):\u001b[K\r\n\t\u001b[33mt\u001b[39;49m = Team(data[\u001b[32m\"name\"\u001b[39;49m],data[\u001b[32m\"color\"\u001b[39;49m])\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m t\u001b[K\r\n\u001b[K\n\u001b[K\u001b[10;5H\u001b[31m# The rulebook has three pages. An overview, a page for units, and          \u001b[39;49m\r\n\t\b\b\u001b[31ma page for terrain.                                         \u001b[39;49m\u001b[12;14H\u001b[1m\u001b[34mrulebook\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33moverview\u001b[39;49m = [(\u001b[32m\"Overview\\n========\"\u001b[39;49m,\u001b[32m\"w!\"\u001b[39;49m)]\r\n\toverview.append(\u001b[32m\" \"\u001b[39;49m)\u001b[K\r\n\toverview.append(\u001b[32m\"One day I'll put the rules here.\"\u001b[39;49m)\r\n\n\u001b[K\u001b[18;5H    \u001b[33mquick\u001b[39;49m = [(\u001b[32m\"Quick Reference\\n===============\"\u001b[39;49m,\u001b[32m\"w!\"\u001b[39;49m)]\r\n\u001b[K\n\t\u001b[31m# The third section has all of the units, listed in order.              \u001b[39;49m\r\n\t\u001b[31m# We create temporary unit objects that are responsible for             \u001b[39;49m\r\n\t\u001b[31m# writing their own sections.                                           \u001b[39;49m\r\n\u001b[23;29H\u001b[7m20% L229\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[31m# We create temporary unit objects that are responsible for             \u001b[39;49m\r\n\t\u001b[31m# writing their own sections.                                           \u001b[39;49m\r\n\u001b[4;5H    \u001b[33munits\u001b[39;49m = [(\u001b[32m\"Unit Intel\\n==========\"\u001b[39;49m,\u001b[32m\"w!\"\u001b[39;49m)]\u001b[K\u001b[5;5H    quick.append(\u001b[32m\" \"\u001b[39;49m)\u001b[K\r\n\tquick.append(\u001b[32m\"Units\\n----------------------\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m uni \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\u001b[8;13H\u001b[33mU\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_unit({\u001b[32m\"name\"\u001b[39;49m:uni})\u001b[9;13H\u001b[33munits\u001b[39;49m += [\u001b[32m\" \"\u001b[39;49m]+U.rulebook()+[\u001b[32m\" \"\u001b[39;49m]\u001b[10;5H        quick.append(\u001b[32m\"%20s %s\"\u001b[39;49m%(U.name, U.icon))\u001b[K\r\n\u001b[K\u001b[12;5H    \u001b[31m# The fourth part is just like the second, except for terrain.          \u001b[39;49m\r\n\t\u001b[33mterrain\u001b[39;49m = [(\u001b[32m\"Terrain Int\u001b[39;49m\u001b[9@\u001b[32mel\\n=====\u001b[39;49m\r\n\tquick\u001b[3P\r\n\tquick.append(\u001b[32m\"Terrain\\n----------------------\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m ter \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\u001b[17;13H\u001b[33mT\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_cell({\u001b[32m\"name\"\u001b[39;49m:ter})\r\n\t    \u001b[33mterrain\u001b[39;49m += [\u001b[32m\" \"\u001b[39;49m]+T.rulebook()+[\u001b[32m\" \"\u001b[39;49m]\u001b[K\u001b[19;13Hquick.append(\u001b[32m\"%20s %s\"\u001b[39;49m%(T.name, T.icon))\r\n\u001b[K\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m [overview,quick,units,terrain]\u001b[K\r\n\u001b[K\u001b[23;30H\u001b[7m1% L248\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m [overview,quick,units,terrain]\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[8;5H\u001b[31m# Get movement range of the unit at x,y. Returns nothing                    \u001b[39;49m\r\n\u001b[9;5H\u001b[31m# if the tile is empty or does not exist. All of the positions              \u001b[39;49m\r\n\u001b[10;5H\u001b[31m# returned are guaranteed to be tiles that the unit could                   \u001b[39;49m\r\n\u001b[11;5H\u001b[31m# stop moving on.                                                           \u001b[39;49m\r\n\u001b[12;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mget_move_range\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[33munit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m unit:\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m []\u001b[K\r\n\u001b[K\n\t\u001b[31m# Use the naive flood-fill algorithm to get neighboring                 \u001b[39;49m\r\n\t\u001b[31m# tiles. TODO: handle allied units                                      \u001b[39;49m\r\n\t\u001b[33mreport\u001b[39;49m = []\u001b[K\r\n\t\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m_floodfill\u001b[0m\u001b[39;49m(pos,r,top=\u001b[35mFalse\u001b[39;49m):\r\n\t    \u001b[33ma\u001b[39;49m,\u001b[33mb\u001b[39;49m = pos\u001b[K\u001b[22;13H\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(a,b)\u001b[23;30H\u001b[7m3% L267\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l    \u001b[33ma\u001b[39;49m,\u001b[33mb\u001b[39;49m = pos\u001b[K\u001b[3;13H\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(a,b)\u001b[4;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t.unit \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m t.unit.allied(unit)):\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m top:\u001b[6;21H\u001b[33mr\u001b[39;49m -= unit.terrain.get(t.name,r)\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (a,b) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m report \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.name \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m unit.terrain:\u001b[8;5H                report.append((a,b))\u001b[K\u001b[9;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m r > 0:\u001b[K\u001b[10;5H                _floodfill((a-1,b),r)\u001b[K\u001b[11;5H                _floodfill((a+1,b),r)\u001b[K\u001b[12;5H                _floodfill((a,b-1),r)\r\n\t            _floodfill((a,b+1),r)\r\n\t_floodfill((x,y),unit.move,\u001b[35mTrue\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m [(x,y) \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m report \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y) \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m\r\n\t                                      \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y) \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m\u001b[K\r\n\t                                      \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y).team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m\u001b[K\r\n\t                                      unit.team)]\r\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;30H\u001b[7m4% L286\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[6;5H\u001b[?25l\u001b[31m# This is the attack action. This is what actually has side effects.        \u001b[39;49m\r\n\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34maction_attack\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, atk_pos, def_pos):\u001b[K\r\n\t\u001b[33max\u001b[39;49m,\u001b[33may\u001b[39;49m = atk_pos\u001b[K\r\n\t\u001b[33mdx\u001b[39;49m,\u001b[33mdy\u001b[39;49m = def_pos\u001b[K\r\n\t\u001b[33matk_unit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(ax,ay)\r\n\t\u001b[33mdef_unit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(dx,dy)\r\n\t\u001b[33mdist\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.dist((ax,ay),(dx,dy))\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m atk_unit: \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Attack square is empty.\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m def_unit: \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Defend square is empty.\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[31m# This is the basic attack formula.                                     \u001b[39;49m\r\n\t\u001b[33ma_terrain\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(ax,ay)\u001b[K\r\n\t\u001b[33md_terrain\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(dx,dy)\u001b[K\r\n\t\u001b[33mdef_unit.hp\u001b[39;49m -= atk_unit.simulate(def_unit.name, d_terrain)\r\n\n\t\u001b[33mcounter\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[23;30H\u001b[7m6% L305\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\n\t\u001b[?25l\u001b[33mcounter\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_unit.hp <= 0: \u001b[33mcounter\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"indirect\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m def_unit.properties: \u001b[33mcounter\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[6;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m def_unit.in_range(dist): \u001b[33mcounter\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m counter:\u001b[K\r\n\t    \u001b[33matk_unit.hp\u001b[39;49m -= def_unit.simulate(atk_unit.name, a_terrain)\r\n\u001b[K\n\t\u001b[31m# Remove destroyed units from grid and prevent HP from falling into     \u001b[39;49m\r\n\t\u001b[31m# the negatives.                                                        \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m atk_unit.hp <= 0:\r\n\t    \u001b[33matk_unit.hp\u001b[39;49m = 0\u001b[K\r\n\t    \u001b[33ma_terrain.hp\u001b[39;49m = 100\u001b[K\u001b[16;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(ax,ay)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_unit.hp <= 0:\u001b[K\r\n\t    \u001b[33mdef_unit.hp\u001b[39;49m = 0\u001b[K\r\n\t\u001b[4@\u001b[19;22H\u001b[33m.hp\u001b[39;49m = 100\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(dx,dy)\u001b[K\r\n\n\t\u001b[31m# Check and see if the last unit died.                                  \u001b[39;49m\r\n\u001b[23;30H\u001b[7m8% L324\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\n\t\u001b[?25l\u001b[31m# Check and see if the last unit died.                                  \u001b[39;49m\r\n\t\u001b[33ma_alive\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[33md_alive\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (tx,ty) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles_xy():\u001b[K\u001b[7;13H\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(tx,ty)\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m atk_unit.team: \u001b[33ma_alive\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[9;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m def_unit.team: \u001b[33md_alive\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m a_alive: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defeated(atk_unit.team)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m d_alive: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defeated(def_unit.team)\u001b[K\r\n\u001b[K\u001b[13;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mpump_info\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.edit:\u001b[16;18Hstart_turn()\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = []\u001b[K\r\n\u001b[K\n\t\u001b[31m# Info 1 is global team information.                                    \u001b[39;49m\r\n\t\u001b[33minfo1\u001b[39;49m = [ (\u001b[32m\"Day %d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.day,\u001b[32m\"w!\"\u001b[39;49m)]\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.edit:\u001b[K\u001b[23;29H\u001b[7m30% L343\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[33minfo1\u001b[39;49m = [ (\u001b[32m\"Day %d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.day,\u001b[32m\"w!\"\u001b[39;49m)]\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.edit:\u001b[K\r\n\t    \u001b[33minfo1\u001b[39;49m = [(\u001b[32m\"Map Editing\"\u001b[39;49m,\u001b[32m\"w!\"\u001b[39;49m)]\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\r\n\t    \u001b[33mmoney\u001b[39;49m = \u001b[32m\"$%d\"\u001b[39;49m%t.cash\u001b[K\u001b[7;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.cash >= 10000:\u001b[K\u001b[8;13H    \u001b[33mmoney\u001b[39;49m = \u001b[32m\"$%dK\"\u001b[39;49m%(t.cash/1000)\u001b[K\r\n\t\t\bt.cash >= 1000000:\u001b[K\r\n\t        \u001b[33mmoney\u001b[39;49m = \u001b[32m\"$RICH\"\u001b[39;49m\u001b[K\r\n\t    \u001b[33mspace\u001b[39;49m = \u001b[32m\" \"\u001b[39;49m*(14-\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(t.name[:8])-\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(money))\u001b[12;13H\u001b[33mcol\u001b[39;49m = t.color\u001b[13;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t.active:\u001b[K\u001b[14;5H            \u001b[33mcol\u001b[39;49m = \u001b[32m\"x!\"\u001b[39;49m\u001b[K\r\n\t    info1.append( (\u001b[32m\"%s%s%s\"\u001b[39;49m%(t.name[:8], space, money), col) )\r\n\u001b[K\n\t\u001b[31m# If attack is in the action, we need to get the estimated              \u001b[39;49m\r\n\t\u001b[31m# damage to show the player.                                            \u001b[39;49m\r\n\t\u001b[33mdmg1\u001b[39;49m, \u001b[33mdmg2\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m,\u001b[32m\"\"\u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"Attack\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\r\n\t    \u001b[33max\u001b[39;49m,\u001b[33may\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]\u001b[K\r\n\t    \u001b[33matk_unit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(ax,ay)\u001b[23;30H\u001b[7m1% L362\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l    \u001b[33max\u001b[39;49m,\u001b[33may\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]\u001b[K\r\n\t    \u001b[33matk_unit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(ax,ay)\u001b[4;13H\u001b[33mdef_unit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m atk_unit \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m def_unit:\u001b[6;13H    \u001b[33ma_terrain\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(ax,ay)\u001b[7;13H    \u001b[33md_terrain\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\r\n\t\t\u001b[33mdist\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.dist((ax,ay),(x,y))\u001b[9;13H    \u001b[33mest\u001b[39;49m = atk_unit.simulate(def_unit.name,d_terrain)\r\n\t\t\u001b[33mdmg1\u001b[39;49m = \u001b[32m\"-%d%%\"\u001b[39;49m%est\u001b[11;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m est > def_unit.hp:\u001b[K\u001b[12;13H        \u001b[33mest\u001b[39;49m = def_unit.hp\u001b[13;13H    \u001b[33mdmg2\u001b[39;49m = \u001b[32m\"-%d%%\"\u001b[39;49m%(def_unit.simulate(atk_unit.name,a_terrain,\r\n\t\t                                  atk_unit.hp-est))\r\n\u001b[K\n\t\t\u001b[33mcounter\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"indirect\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m def_unit.properties: \u001b[33mcounter\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m def_unit.in_range(dist): \u001b[33mcounter\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m counter: \u001b[33mdmg2\u001b[39;49m = \u001b[32m\"-0%\"\u001b[39;49m\r\n\u001b[K\n\t\u001b[31m# Info 2 is for the intel on the hovering tile.                         \u001b[39;49m\r\n\t\u001b[33minfo2\u001b[39;49m = []\u001b[K\u001b[23;30H\u001b[7m3% L381\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[31m# Info 2 is for the intel on the hovering tile.                         \u001b[39;49m\r\n\t\u001b[33minfo2\u001b[39;49m = []\u001b[K\r\n\t\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[K\r\n\t\u001b[33mtcol\u001b[39;49m = \u001b[32m\"w\"\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t:\u001b[K\n\b\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.team:\u001b[K\r\n\t\t\u001b[33mtcol\u001b[39;49m = t.team.color\u001b[K\u001b[9;13H\u001b[33minfo2\u001b[39;49m += [ (t.name,tcol),\u001b[K\r\n\t\t       (\u001b[32m\"DEF +%d\"\u001b[39;49m%t.defense,tcol)]\u001b[11;13H\u001b[33mu\u001b[39;49m = t.unit\u001b[K\u001b[12;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\u001b[K\n\b\u001b[33mucol\u001b[39;49m = u.team.color\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.hp < 100:\u001b[K\u001b[15;21H\u001b[33minfo2\u001b[39;49m += [(\u001b[32m\"Capturing: %d%%\"\u001b[39;49m%t.hp,ucol)]\r\n\t\t\u001b[33minfo2\u001b[39;49m += [ (\u001b[32m\" \"\u001b[39;49m,\u001b[32m\"\"\u001b[39;49m),\r\n\t\t           (u.name,ucol+\u001b[32m\"!\"\u001b[39;49m),\u001b[K\r\n\t\t           (\u001b[32m\"HP %d%% %s\"\u001b[39;49m%(u.hp,dmg1),ucol) ]\u001b[K\r\n\u001b[K\n\n\u001b[K\n\t\u001b[31m# Info 3 is for the unit that is currently selected.                    \u001b[39;49m\r\n\u001b[23;30H\u001b[7m5% L400\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\n\t\u001b[?25l\u001b[31m# Info 3 is for the unit that is currently selected.                    \u001b[39;49m\r\n\t\u001b[33minfo3\u001b[39;49m = []\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action) > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.edit:\r\n\t    \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\r\n\t\t\b\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action) > 1:\r\n\t\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]\u001b[9;13H\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[10;13H\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\u001b[11;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\u001b[K\n\b\b\b\b\b    \u001b[33mcol\u001b[39;49m = u.team.color\r\n\t\t\u001b[33minfo3\u001b[39;49m = [(u.name,col+\u001b[32m\"!\"\u001b[39;49m),\r\n\t\t         (\u001b[32m\"DEF +%d\"\u001b[39;49m%t.defense,col),\u001b[15;21H     (\u001b[32m\"HP %d%% %s\"\u001b[39;49m%(u.hp,dmg2),col)]\u001b[K\r\n\u001b[K\n\u001b[K\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report, info1, info2, info3\u001b[K\u001b[20;5H\u001b[31m# This sets the state back to start while also restoring the previous       \u001b[39;49m\r\n\u001b[21;5H\u001b[31m# checkpoint of the world. When the controller gets CTRL_UNDO, it is        \u001b[39;49m\r\n\u001b[22;5H\u001b[4P\t\b\b\u001b[31msupposed to set its camera's grid to the new one. \u001b[39;49m\u001b[4@\u001b[31m    \u001b[39;49m\u001b[23;30H\u001b[7m6% L419\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m# checkpoint of the world. When the controller gets CTRL_UNDO, it is        \u001b[39;49m\r\n\u001b[3;5H\u001b[4P\t\b\b\u001b[31msupposed to set its camera's grid to the new one. \u001b[39;49m\u001b[4@\u001b[31m    \u001b[39;49m\u001b[4;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mstart_over\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"play\"\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_UNDO\u001b[K\r\n\u001b[K\u001b[11;5H\u001b[31m# When a move is completed and we return to the start state, we             \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# change the checkpoint and save the move in our history.                   \u001b[39;49m\r\n\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mcommit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.append((\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action))\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"play\"\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"play\"\u001b[39;49m)\r\n\u001b[K\n\t\b\b\u001b[31mWhen we undo, we go back to a previous spot in the history.       \u001b[39;49m\u001b[22;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mundo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, total=\u001b[35mFalse\u001b[39;49m):\u001b[K\n\b\b\b\u001b[7m8% L438\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\b\u001b[?25l\u001b[31mWhen we undo, we go back to a previous spot in the history.       \u001b[39;49m\u001b[3;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mundo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, total=\u001b[35mFalse\u001b[39;49m):\u001b[K\u001b[4;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history) > 0:\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m total:\u001b[K\r\n\t        \u001b[33mcp\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.restartcopy\r\n\t\u001b[8@\u001b[7;22Hhistory\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[33mcp\u001b[39;49m,\u001b[33maction\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.pop()\u001b[11;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = cp\u001b[K\u001b[12;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(cp)\u001b[K\u001b[13;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[14;14Hstate = \u001b[32m\"play\"\u001b[39;49m\u001b[K\u001b[15;14Hchoices = []\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_UNDO\u001b[K\r\n\u001b[K\u001b[18;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mstart_turn\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.restartcopy = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[21;5H    \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[K\r\n\u001b[K\u001b[23;29H\u001b[7m40% L457\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[K\r\n\u001b[K\n\t\u001b[31m# Give the player their money.                                          \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tile \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles():\u001b[6;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m t:\u001b[K\r\n\t\t\u001b[33mu\u001b[39;49m = tile.unit\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.hp < 100 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.name \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair:\u001b[9;13H        \u001b[33mu.hp\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(100,u.hp+tile.repair[u.name])\r\n\t\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[11;13H        \u001b[33mt.cash\u001b[39;49m += tile.cash\r\n\u001b[K\n\t\u001b[31m# Make the turn-start alert.                                            \u001b[39;49m\r\n\t\u001b[33mm1\u001b[39;49m = \u001b[32m\"%s: Day %d\"\u001b[39;49m%(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.name, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.day)\r\n\t\u001b[33mm2\u001b[39;49m = \u001b[32m\"%s - move out!\"\u001b[39;49m%t.name\r\n\t\u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(m1),\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(m2))+1\r\n\t\u001b[33ma\u001b[39;49m = widgets.Alert(w,2,m1+\u001b[32m\"\\n\"\u001b[39;49m+m2,t.color)\u001b[18;5H    \u001b[33ma.time\u001b[39;49m = 50\u001b[K\u001b[19;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append((a,\u001b[32m\"c\"\u001b[39;49m))\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = \u001b[35mFalse\u001b[39;49m\u001b[23;30H\u001b[7m1% L476\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = \u001b[35mFalse\u001b[39;49m\r\n\u001b[K\u001b[5;5H\u001b[31m# Mark the team as defeated. This destroys all of their units, sets their   \u001b[39;49m\r\n\u001b[6;5H\u001b[31m# funds to zero, and marks them as inactive, unable to take future turns.   \u001b[39;49m\r\n\u001b[7;5H\u001b[31m# Properties are still left intact - capturing the enemy HQ will reward     \u001b[39;49m\r\n\u001b[8;5H\u001b[31m# you by giving you all of the properties belonging to the team.            \u001b[39;49m\r\n\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdefeated\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, team):\u001b[K\r\n\t\u001b[33mteam.active\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (tx,ty) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles_xy():\u001b[12;13H\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(tx,ty)\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team == team:\u001b[K\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(tx,ty)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units = [u \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m team]\r\n\u001b[K\n\tm = \u001b[32m\"%s has been defeated!\"\u001b[39;49m%(team.name)\u001b[K\r\n\ta = widgets.Alert(\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(m)+1,1,m,team.color)\r\n\ta.time = 50\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append((a,\u001b[32m\"c\"\u001b[39;49m))\r\n\u001b[K\u001b[22;5H\u001b[31m# When we end the turn, we flush the history buffer and save a new          \u001b[39;49m\r\n\u001b[23;30H\u001b[7m3% L495\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[3;5H\u001b[?25l\u001b[31m# When we end the turn, we flush the history buffer and save a new          \u001b[39;49m\r\n\u001b[4;5H\u001b[31m# checkpoint.                                                               \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mend_turn\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\u001b[6;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state != \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action != []:\u001b[K\u001b[7;5H        \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Can't end right now\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[9;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units:\r\n\t    \u001b[33mu.ready\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m].append([acts \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (cp,acts) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history])\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.end_turn()\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[K\u001b[15;14Haction = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\u001b[K\n\t\u001b[31m# Finally, figure out if we've won. If we have, then put the map in     \u001b[39;49m\r\n\t\u001b[31m# \"finished\" mode and allow the player to leave. The game is only       \u001b[39;49m\r\n\t\u001b[31m# won when the final player ends their turn.                            \u001b[39;49m\r\n\u001b[22;5H    \u001b[33mwinner\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[23;30H\u001b[7m5% L514\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[31m# won when the final player ends their turn.                            \u001b[39;49m\r\n\u001b[3;5H    \u001b[33mwinner\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[4;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m at \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]:\u001b[K\u001b[5;5H        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m ot \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]:\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m at.allied(ot):\u001b[K\u001b[7;13H        \u001b[33mwinner\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m winner:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.winners = [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]\r\n\t    \u001b[31m#self.state = \"over\"                                                \u001b[39;49m\r\n\u001b[K\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"play\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[14;5H\u001b[31m# This sets the new state and returns the appropriate code                  \u001b[39;49m\r\n\u001b[15;5H\u001b[31m# to the caller for what kind of input should come next.                    \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtransition\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, new_state):\u001b[17;14Hstate = new_state\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m   \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"play\"\u001b[39;49m     : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"main menu\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"moving\"\u001b[39;49m   : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\u001b[K\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"unload\"\u001b[39;49m   : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"unload drop\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\u001b[23;30H\u001b[7m6% L533\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"unload\"\u001b[39;49m   : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"unload drop\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"action\"\u001b[39;49m   : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"attacking\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\u001b[K\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"building\"\u001b[39;49m : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\r\n\u001b[K\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m     : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit menu\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"unit team\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"draw terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\u001b[14;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"terrain team\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\u001b[15;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"save map\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_EDITOR\u001b[K\u001b[16;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"rule unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"rule terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"page unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_EDITOR\u001b[19;29H\u001b[32mpage terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_EDITOR\r\n\u001b[K\u001b[21;11H\u001b[1m\u001b[36mse\u001b[0m\u001b[39;49m: \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"No such state.\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[23;30H\u001b[7m8% L552\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;11H\u001b[?25l\u001b[1m\u001b[36mse\u001b[0m\u001b[39;49m: \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"No such state.\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[4;5H\u001b[31m# This processes input of two types: coordinates and strings.               \u001b[39;49m\r\n\u001b[5;5H\u001b[31m# A string is the input from a menu, such as \"attack\" or \"wait\".            \u001b[39;49m\r\n\u001b[6;5H\u001b[31m# A coordinate is an x,y location on the grid.                              \u001b[39;49m\r\n\u001b[7;5H\u001b[31m# Has one of four return values:                                            \u001b[39;49m\r\n\u001b[8;5H\u001b[31m#     None: Tell the controller to do nothing                               \u001b[39;49m\r\n\u001b[9;5H\u001b[31m#     menu: Tell the controller to render a menu                            \u001b[39;49m\r\n\u001b[10;5H\u001b[31m#     coord: Tell the controller to give it a coord                         \u001b[39;49m\r\n\u001b[11;5H\u001b[31m#     undo: Tell the controller to reload the grid                          \u001b[39;49m\r\n\u001b[12;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m   \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"play\"\u001b[39;49m     : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_play(c)\u001b[14;29H\u001b[32mmain menu\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_main_menu(c)\u001b[15;29H\u001b[32mmoving\"\u001b[39;49m   : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_moving(c)\u001b[16;29H\u001b[32maction\"\u001b[39;49m   : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_action(c)\u001b[17;29H\u001b[32mattacking\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_attacking(c)\u001b[18;29H\u001b[32mbuilding\"\u001b[39;49m : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_building(c)\u001b[19;29H\u001b[32munload\"\u001b[39;49m   : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_unload(c)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"unload drop\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_unload_drop(c)\r\n\u001b[K\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m     : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_edit(c)\u001b[23;29H\u001b[7m50% L571\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\n\t\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m     : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_edit(c)\u001b[4;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit menu\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_edit_menu(c)\u001b[K\u001b[5;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_edit_unit(c)\u001b[K\u001b[6;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_edit_terrain(c)\u001b[K\u001b[7;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"unit team\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_unit_team(c)\u001b[K\u001b[8;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"terrain team\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_terrain_team(c)\u001b[K\u001b[9;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"draw terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_draw_terrain(c)\u001b[K\u001b[10;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"save map\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_save_map(c)\u001b[K\u001b[11;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"rule unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_rule_unit(c)\u001b[K\u001b[12;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"rule terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_rule_terrain(c)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"page unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_page_unit(c)\u001b[14;29H\u001b[32mpage terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_page_terrain(c)\r\n\u001b[K\n\u001b[K\u001b[17;5H\u001b[31m# State    : Play (expected input, tuple)                                   \u001b[39;49m\r\n\u001b[18;5H\u001b[31m# Expected : Tuple (unit or friendly factory)                               \u001b[39;49m\r\n\u001b[19;5H\u001b[31m# Next step: If unit: coordinates of range of unit                          \u001b[39;49m\r\n\u001b[20;5H\u001b[31m#            If factory: list of possible buildables                        \u001b[39;49m\r\n\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_play\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[K\u001b[23;30H\u001b[7m3% L590\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_play\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[K\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,y = coord\u001b[K\r\n\tt = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[K\r\n\tu = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\r\n\t\u001b[33mteam\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[K\r\n\u001b[K\n\t\u001b[31m# If no unit, check for terrain                                         \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append((x,y))\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[32m\"build\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m t.properties \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m team:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m t.build:\u001b[K\r\n\t\t\u001b[33mp\u001b[39;49m = t.build[b]\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m p <= team.cash:\u001b[17;5H                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"%s $%d\"\u001b[39;49m%(b,p))\u001b[K\u001b[18;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Cancel\"\u001b[39;49m)\u001b[K\u001b[19;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"building\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[21;5H    \u001b[31m# Even if the unit isn't ours (or isn't ready) we still enter the       \u001b[39;49m\r\n\t\u001b[31m# \"move\" state so that we can see its movement range. Actually          \u001b[39;49m\r\n\u001b[23;30H\u001b[7m6% L609\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[31m# Even if the unit isn't ours (or isn't ready) we still enter the       \u001b[39;49m\r\n\t\u001b[31m# \"move\" state so that we can see its movement range. Actually          \u001b[39;49m\r\n\t\u001b[31m# moving the unit will be stopped at the process_moving step.           \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (qx,qy) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_move_range(x,y):\r\n\t        \u001b[33munit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(qx,qy)\r\n\t\t\u001b[33mkeep\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m unit:\u001b[K\r\n\t            \u001b[33mkeep\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m unit \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m u: \u001b[33mkeep\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[13;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m unit.name == u.name: keep = \u001b[35mTrue\u001b[39;49m\u001b[14;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[32m\"carry\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m unit.properties \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.name \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m unit.carry\r\n\t\t        \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(unit.carrying) < unit.capacity):\r\n\t\t        \u001b[33mkeep\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m keep:\u001b[K\u001b[18;13H\u001b[8@\t\t\t\t(qx,qy))\u001b[K\u001b[19;37H\u001b[32mmoving\"\u001b[39;49m)\u001b[K\u001b[21;11H\u001b[31mWhatever else happens, main menu.                              \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Back\"\u001b[39;49m,\u001b[32m\"End Turn\"\u001b[39;49m,\u001b[32m\"Surrender\"\u001b[39;49m,\u001b[32m\"Undo\"\u001b[39;49m,\u001b[32m\"Start Over\"\u001b[39;49m]\u001b[K\u001b[23;30H\u001b[7m7% L628\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;11H\u001b[?25l\u001b[31mWhatever else happens, main menu.                              \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Back\"\u001b[39;49m,\u001b[32m\"End Turn\"\u001b[39;49m,\u001b[32m\"Surrender\"\u001b[39;49m,\u001b[32m\"Undo\"\u001b[39;49m,\u001b[32m\"Start Over\"\u001b[39;49m]\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"main menu\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\u001b[K\u001b[7;5H\u001b[31m# State    : Moving (expected input, tuple)                                 \u001b[39;49m\r\n\u001b[8;5H\u001b[31m# Expected : Tuple in range                                                 \u001b[39;49m\r\n\u001b[9;5H\u001b[31m# Next step: If in range, move                                              \u001b[39;49m\r\n\u001b[10;5H\u001b[31m#            If out of range, cancel                                        \u001b[39;49m\r\n\u001b[11;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_moving\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[K\u001b[13;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = coord\u001b[K\r\n\t\u001b[33mox\u001b[39;49m,\u001b[33moy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\t\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(ox,oy)\r\n\t\u001b[33mteam\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\r\n\t\u001b[33mutarg\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\r\n\u001b[K\n\t\u001b[31m# If coord was in range, move the unit and return possible actions.     \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m team \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.ready:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append((x,y))\u001b[K\u001b[23;30H\u001b[7m9% L647\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m team \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.ready:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append((x,y))\u001b[K\r\n\u001b[K\u001b[5;13H\u001b[31m# Join units with the same name.                                    \u001b[39;49m\r\n\u001b[6;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (utarg \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m utarg.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m team \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m\u001b[7;5H           utarg.name == u.name \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m utarg \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u):\u001b[K\u001b[8;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(ox,oy)\u001b[K\u001b[9;5H            \u001b[33mstart_hp\u001b[39;49m = utarg.hp\u001b[K\u001b[10;5H            \u001b[33mutarg.hp\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(100, utarg.hp+u.hp)\u001b[K\u001b[11;5H            \u001b[33ma\u001b[39;49m = widgets.HPAlert(6,1,utarg.team.color,start_hp,utarg.hp,0)\r\n\t        \u001b[33ma.time\u001b[39;49m = (utarg.hp - start_hp) + 50\u001b[13;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts += [(a,\u001b[32m\"tr\"\u001b[39;49m)]\u001b[K\r\n\t        \u001b[33mutarg.ready\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (utarg \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m utarg \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[32m\"carry\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m utarg.properties):\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(ox,oy)\u001b[33m.unit\u001b[39;49m = \u001b[35mNone\u001b[39;49m\r\n\t        utarg.carrying.append(u)\r\n\t\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\r\n\u001b[K\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\u001b[K\u001b[23;29H\u001b[7m61% L666\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\u001b[K\u001b[4;13H\u001b[33mmoved\u001b[39;49m = (x,y)!=(ox,oy)\u001b[5;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m moved:\u001b[K\u001b[6;13H    \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(ox,oy)\u001b[K\r\n\t\t\b \u001b[33mt.hp\u001b[39;49m = 100\u001b[K\r\n\u001b[K\u001b[9;13H\u001b[31m# Determine if a target is in range.                                \u001b[39;49m\r\n\u001b[10;13H\u001b[33mattackable\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[11;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m px,py \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_range((x,y),u.rng[0],u.rng[1]):\u001b[K\u001b[12;18H = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(px,py)\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m a \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m a.allied(u):\r\n\t\t    \u001b[33mattackable\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[15;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"indirect\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.properties \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m moved:\u001b[16;13H    \u001b[33mattackable\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[17;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m attackable:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Attack\"\u001b[39;49m)\r\n\u001b[K\u001b[20;13H\u001b[31m# If the cell you are on is capturable, add that option to          \u001b[39;49m\r\n\u001b[21;13H\u001b[31m# the list.                                                         \u001b[39;49m\r\n\u001b[22;13H\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[23;30H\u001b[7m3% L685\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[31m# the list.                                                         \u001b[39;49m\r\n\u001b[3;13H\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[4;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m t.properties \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.properties\u001b[5;13H    \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m team.allied(t.team)):\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Capture\"\u001b[39;49m)\u001b[7;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(u.carrying) > 0):\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Unload\"\u001b[39;49m)\r\n\u001b[K\u001b[10;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.move_unit((ox,oy),(x,y))\u001b[11;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices += [\u001b[32m\"Wait\"\u001b[39;49m,\u001b[32m\"Cancel\"\u001b[39;49m]\u001b[K\u001b[12;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"action\"\u001b[39;49m\r\n\u001b[K\n\t\u001b[31m# If the coord was out of range, undo everything.                       \u001b[39;49m\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start_over()\u001b[K\r\n\u001b[K\u001b[17;5H\u001b[31m# State: main menu (expected, menu option)                                  \u001b[39;49m\r\n\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_main_menu\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[20;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\t\u001b[31m# Leave the menu.                                                       \u001b[39;49m\r\n\u001b[23;30H\u001b[7m5% L704\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\n\t\u001b[?25l\u001b[31m# Leave the menu.                                                       \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Back\"\u001b[39;49m:\u001b[K\u001b[5;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start_over()\u001b[K\r\n\u001b[K\n\t\u001b[31m# End my turn.                                                          \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"End Turn\"\u001b[39;49m:\u001b[K\u001b[9;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[10;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end_turn()\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Undo\"\u001b[39;49m:\u001b[K\u001b[13;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.undo()\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Start Over\"\u001b[39;49m:\u001b[K\u001b[16;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.undo(\u001b[35mTrue\u001b[39;49m)\r\n\u001b[K\u001b[18;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Surrender\"\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defeated(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team())\u001b[20;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[K\u001b[21;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\r\n\u001b[K\u001b[23;30H\u001b[7m6% L723\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\r\n\u001b[K\n\u001b[K\u001b[5;5H\u001b[31m# State: main menu (expected, menu option)                                  \u001b[39;49m\r\n\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_building\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[31m# Leave the menu.                                                       \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Cancel\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start_over()\r\n\u001b[K\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\r\n\t    \u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[16;13Hteam = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[17;13H\u001b[33munit\u001b[39;49m, cost = opt.rsplit(\u001b[35mNone\u001b[39;49m,1)\r\n\t    u = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_unit({\u001b[32m\"name\"\u001b[39;49m:unit})\u001b[19;18Hgrid.add_unit(u, team, x, y)\u001b[K\u001b[20;13Hteam.cash -= \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(cost[1:])\u001b[21;13Hu.ready = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[22;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\n\b\b\b\b\b\b\u001b[7m7% L742\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25lu.ready = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[3;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[4;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\r\n\u001b[K\u001b[6;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_action\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[9;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\u001b[K\u001b[11;20H\u001b[32mUnload\u001b[39;49m\u001b[12;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\n\t    \u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]\u001b[15;13Hme = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[16;13Hi = 0\u001b[K\n\b\b\b\b\b\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m me.carrying:\u001b[K\u001b[18;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"%d %s %d%%\"\u001b[39;49m%(i, u.name, u.hp))\u001b[19;13H    i+=1\u001b[K\u001b[20;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Done\"\u001b[39;49m)\u001b[21;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[22;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"unload\"\u001b[39;49m)\u001b[23;30H\u001b[7m9% L761\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[3;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"unload\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Attack\"\u001b[39;49m:\u001b[6;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\u001b[K\n\t    \u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[-1]\u001b[K\u001b[9;13Hu = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\r\n\n\t    \u001b[31m# Get possible targets.                                             \u001b[39;49m\r\n\u001b[12;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m px,py \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_range((x,y),u.rng[0],u.rng[1]):\r\n\t\ta = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(px,py)\u001b[14;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m a \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m a.allied(u):\u001b[15;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append((px,py))\r\n\u001b[K\u001b[17;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[18;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"attacking\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Capture\"\u001b[39;49m:\u001b[K\u001b[21;18Hchoices = []\u001b[K\r\n\u001b[K\u001b[23;29H\u001b[7m70% L780\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;18H\u001b[?25lchoices = []\u001b[K\r\n\u001b[K\u001b[4;13H\u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[-1]\r\n\t    t = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[6;13Hunit = t.unit\u001b[K\u001b[7;13Hunit.ready = \u001b[35mFalse\u001b[39;49m\r\n\u001b[K\u001b[9;13H\u001b[31m# Capturing.                                                        \u001b[39;49m\r\n\u001b[10;13Hstart_hp = t.hp\u001b[11;13Ht.hp -= \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(unit.hp*.5)\u001b[K\u001b[12;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.hp <= 0:\u001b[K\r\n\t\tt.hp = 0\u001b[K\u001b[14;13Hcol = t.team.color \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.team \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m \u001b[32m\"w\"\u001b[39;49m\u001b[15;13Ha = widgets.HPAlert(6,1,col,start_hp,t.hp,0)\u001b[16;13Ha.time = (start_hp - t.hp) + 50\u001b[17;19Hlerts += [(a,\u001b[32m\"tr\"\u001b[39;49m)]\u001b[18;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.hp == 0:\u001b[K\r\n\t\tt.hp = 100\r\n\t        old = t.team\u001b[21;13H    t.team = unit.team\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"hq\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m t.properties:\u001b[23;30H\u001b[7m1% L799\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l    t.team = unit.team\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"hq\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m t.properties:\u001b[4;13H        t.properties.remove(\u001b[32m\"hq\"\u001b[39;49m)\u001b[5;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m old:\u001b[K\u001b[6;13H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m old.active:\u001b[7;13H                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defeated(old)\r\n\t\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tt \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles():\u001b[9;13H                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tt.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m old:\u001b[K\u001b[10;13H                    tt.team = unit.team\r\n\u001b[K\u001b[12;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[13;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\r\n\u001b[K\n\t\u001b[31m# Wait.                                                                 \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Wait\"\u001b[39;49m:\u001b[K\u001b[17;13H\u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[-1]\u001b[K\u001b[18;13Hunit = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[19;13Hunit.ready = \u001b[35mFalse\u001b[39;49m\u001b[20;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[21;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\u001b[K\r\n\u001b[K\u001b[23;30H\u001b[7m3% L818\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Cancel\"\u001b[39;49m:\u001b[K\u001b[5;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start_over()\r\n\u001b[K\u001b[7;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_unload\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[10;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Nope.\"\u001b[39;49m)\u001b[K\r\n\n\t\u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]\u001b[K\r\n\tt = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\r\n\tunit = t.unit\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Done\"\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[17;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\t.ready = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[19;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[22;13Hu = unit.carrying[\u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(opt.split()[0])]\u001b[23;30H\u001b[7m4% L837\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[3;13Hu = unit.carrying[\u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(opt.split()[0])]\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[5;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (tx,ty) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [(x-1,y),(x,y+1),(x+1,y),(x,y-1)]:\r\n\t\tt = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(tx,ty)\u001b[7;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.name \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.terrain \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t.unit:\u001b[K\u001b[8;5H                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append((tx,ty))\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices) == 0:\u001b[10;13H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"unload\"\u001b[39;49m)\u001b[11;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\r\n\t        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"unload drop\"\u001b[39;49m)\r\n\u001b[K\n\u001b[K\n\u001b[K\u001b[17;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_unload_drop\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]\u001b[K\n\u001b[C\u001b[7m6% L856\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\n\t\u001b[?25l\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]\u001b[K\r\n\t\u001b[33munit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\r\n\t\u001b[33mdropper\u001b[39;49m = \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[-1].split()[0])\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m coord \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[7;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(coord)\u001b[K\u001b[8;13H\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(*coord)\u001b[K\u001b[9;13H\u001b[33mt.unit\u001b[39;49m = unit.carrying.pop(dropper)\u001b[10;13H\u001b[33mt.unit.ready\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[4P\u001b[12;13H\u001b[4P\t\tpop()\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]\r\n\t\u001b[33mme\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[17;5H    \u001b[33mi\u001b[39;49m = 0\u001b[K\u001b[18;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m me.carrying:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"%d %s %d%%\"\u001b[39;49m%(i, u.name, u.hp))\u001b[20;13H\u001b[33mi\u001b[39;49m += 1\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Done\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"unload\"\u001b[39;49m)\u001b[23;30H\u001b[7m7% L875\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Done\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"unload\"\u001b[39;49m)\r\n\u001b[K\n\u001b[K\u001b[6;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_attacking\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[9;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = coord\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m coord \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[13;13H\u001b[33mox\u001b[39;49m,\u001b[33moy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[-2]\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append((ox,oy))\r\n\t    \u001b[33ma\u001b[39;49m, \u001b[33md\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(ox,oy), \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\r\n\u001b[K\n\t    \u001b[33mstart_hp\u001b[39;49m = d.hp, a.hp\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action_attack((ox,oy),(x,y))\u001b[19;13H\u001b[33mend_hp\u001b[39;49m = d.hp, a.hp\u001b[K\r\n\u001b[K\n\t    \u001b[31m# Build the animation.                                              \u001b[39;49m\r\n\t    \u001b[33mt1\u001b[39;49m = start_hp[0]-end_hp[0]\u001b[K\u001b[23;30H\u001b[7m9% L894\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l    \u001b[31m# Build the animation.                                              \u001b[39;49m\r\n\t    \u001b[33mt1\u001b[39;49m = start_hp[0]-end_hp[0]\u001b[K\u001b[4;13H\u001b[33mt2\u001b[39;49m = start_hp[1]-end_hp[1]\u001b[5;13H\u001b[33ma1\u001b[39;49m = widgets.HPAlert(6,1,d.team.color,start_hp[0],end_hp[0],0)\u001b[6;5H        \u001b[33ma2\u001b[39;49m = widgets.HPAlert(6,1,a.team.color,start_hp[1],end_hp[1],t1)\u001b[K\u001b[7;5H        \u001b[33mx1\u001b[39;49m,\u001b[33my1\u001b[39;49m = x,y\u001b[K\r\n\t    \u001b[33mx2\u001b[39;49m,\u001b[33my2\u001b[39;49m = ox,oy\u001b[K\u001b[9;13H\u001b[33ma1.time\u001b[39;49m = t1+t2+50\u001b[K\r\n\t    \u001b[33ma2.time\u001b[39;49m = t1+t2+50\u001b[11;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts += [(a1,\u001b[32m\"tr\"\u001b[39;49m),(a2,\u001b[32m\"bl\"\u001b[39;49m)]\r\n\t    \u001b[33ma.ready\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[14;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\u001b[K\r\n\u001b[K\n\n\u001b[K\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start_over()\r\n\n\u001b[K\u001b[22;5H\u001b[31m# This is the root state for the editor. We put the editor states           \u001b[39;49m\r\n\u001b[23;29H\u001b[7m80% L913\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[3;5H\u001b[?25l\u001b[31m# This is the root state for the editor. We put the editor states           \u001b[39;49m\r\n\u001b[4;5H\u001b[31m# in the same system as the rules so that we can take advantage of          \u001b[39;49m\r\n\u001b[5;5H\u001b[31m# the \"make\" constructors.                                                  \u001b[39;49m\r\n\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[8;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = coord\u001b[K\r\n\t\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = [(x,y)]\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Repeat\"\u001b[39;49m,\u001b[32m\"Place Unit\"\u001b[39;49m, \u001b[32m\"Place Terrain\"\u001b[39;49m,\u001b[32m\"Map Settings\"\u001b[39;49m,\u001b[14;13H            \u001b[32m\"Unit Rules\"\u001b[39;49m, \u001b[32m\"Terrain Rules\"\u001b[39;49m,\u001b[32m\"Save Map\"\u001b[39;49m,\u001b[32m\"Back\"\u001b[39;49m]\r\n\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit menu\"\u001b[39;49m)\u001b[18;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_menu\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m,opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[21;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[22;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[23;30H\u001b[7m1% L932\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[3;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[4;5H    \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\u001b[K\u001b[6;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Repeat\"\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit:\u001b[K\u001b[8;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[K\r\n\t        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\t    \u001b[33mkind\u001b[39;49m,\u001b[33mthing\u001b[39;49m,team = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m kind == \u001b[32m\"terrain\"\u001b[39;49m:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(thing)\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m team:\u001b[K\n\b\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(team)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [(x,y)]\r\n\t\u001b[8@\t\t\t\t\u001b[32mdraw terrain\"\u001b[39;49m)\u001b[17;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m kind == \u001b[32m\"unit\"\u001b[39;49m:\u001b[18;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(thing)\u001b[K\u001b[19;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [team]\r\n\t        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_unit_team(team)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Unit\"\u001b[39;49m:\n\b\b\u001b[7m3% L951\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Unit\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[5;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[7;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit unit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Terrain\"\u001b[39;49m:\u001b[K\u001b[10;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[K\u001b[11;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\u001b[12;22Hchoices.append(u)\u001b[K\u001b[13;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit terrain\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Map Settings\"\u001b[39;49m:\u001b[K\u001b[16;13H\u001b[4P\u001b[16;37H\u001b[32medit\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Unit Rules\"\u001b[39;49m:\u001b[K\u001b[19;13H\u001b[4P\u001b[19;29H]\u001b[K\u001b[20;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Unit)\"\u001b[39;49m)\u001b[23;30H\u001b[7m4% L970\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Unit)\"\u001b[39;49m)\u001b[4;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule unit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Terrain Rules\"\u001b[39;49m:\u001b[K\u001b[7;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[8;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\r\n\t\t\t.append(\u001b[32m\"(New Terrain)\"\u001b[39;49m)\u001b[11;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule terrain\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Save Map\"\u001b[39;49m:\u001b[K\u001b[14;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = {\u001b[32m\"Map Name\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m:\u001b[32m\"\"\u001b[39;49m,\u001b[32m\"type\"\u001b[39;49m:\u001b[32m\"str 15\"\u001b[39;49m}}\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"save map\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Back\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\u001b[K\u001b[20;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\n\b\b\b\b\b\b\u001b[7m6% L989\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Unit\"\u001b[39;49m:\u001b[K\u001b[4;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[K\u001b[5;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[7;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit unit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Terrain\"\u001b[39;49m:\u001b[K\r\n\t\t\t = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[K\u001b[11;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit terrain\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Map Settings\"\u001b[39;49m:\u001b[K\u001b[16;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Unit Rules\"\u001b[39;49m:\u001b[K\u001b[19;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[20;5H        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\u001b[K\u001b[21;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Unit)\"\u001b[39;49m)\u001b[23;30H\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Repeat\"\u001b[39;49m:\u001b[K\u001b[7;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\r\n\t        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\u001b[10;13H\u001b[33mkind\u001b[39;49m,\u001b[33mthing\u001b[39;49m,team = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit\u001b[11;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m kind == \u001b[32m\"terrain\"\u001b[39;49m:\u001b[K\u001b[12;22Haction.append(thing)\u001b[13;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m team:\u001b[K\n\b\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(team)\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [(x,y)]\u001b[16;13H\u001b[4@\t\t\t\t\u001b[32mdraw terrain\"\u001b[39;49m)\u001b[17;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m kind == \u001b[32m\"unit\"\u001b[39;49m:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(thing)\u001b[19;13H\u001b[4@\t\t\tteam]\u001b[20;13H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_unit_team(team)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Unit\"\u001b[39;49m:\u001b[K\n\b\b\u001b[7m3% L971\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\u001b[3;5H\u001b[?25l\u001b[31m# This is the root state for the editor. We put the editor states           \u001b[39;49m\r\n\u001b[4;5H\u001b[31m# in the same system as the rules so that we can take advantage of          \u001b[39;49m\r\n\u001b[5;5H\u001b[31m# the \"make\" constructors.                                                  \u001b[39;49m\r\n\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[8;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = coord\u001b[K\r\n\t\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = [(x,y)]\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Repeat\"\u001b[39;49m,\u001b[32m\"Place Unit\"\u001b[39;49m, \u001b[32m\"Place Terrain\"\u001b[39;49m,\u001b[32m\"Map Settings\"\u001b[39;49m,\u001b[14;21H    \u001b[32m\"Unit Rules\"\u001b[39;49m, \u001b[32m\"Terrain Rules\"\u001b[39;49m,\u001b[32m\"Save Map\"\u001b[39;49m,\u001b[32m\"Back\"\u001b[39;49m]\r\n\u001b[K\n\t\u001b[8P\t\t\t\u001b[32medit menu\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[18;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_menu\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m,opt):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[21;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[23;30H\u001b[7m1% L952\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[31m# Build the animation.                                              \u001b[39;49m\r\n\u001b[3;5H        \u001b[33mt1\u001b[39;49m = start_hp[0]-end_hp[0]\u001b[K\u001b[4;5H        \u001b[33mt2\u001b[39;49m = start_hp[1]-end_hp[1]\u001b[K\u001b[5;5H        \u001b[33ma1\u001b[39;49m = widgets.HPAlert(6,1,d.team.color,start_hp[0],end_hp[0],0)\u001b[K\u001b[6;5H        \u001b[33ma2\u001b[39;49m = widgets.HPAlert(6,1,a.team.color,start_hp[1],end_hp[1],t1)\r\n\t    \u001b[33mx1\u001b[39;49m,\u001b[33my1\u001b[39;49m = x,y\u001b[K\u001b[8;13H\u001b[33mx2\u001b[39;49m,\u001b[33my2\u001b[39;49m = ox,oy\u001b[K\r\n\t    \u001b[33ma1.time\u001b[39;49m = t1+t2+50\r\n\t    \u001b[33ma2.time\u001b[39;49m = t1+t2+50\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts += [(a1,\u001b[32m\"tr\"\u001b[39;49m),(a2,\u001b[32m\"bl\"\u001b[39;49m)]\u001b[12;13H\u001b[33ma.ready\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\u001b[K\u001b[14;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\u001b[K\r\n\n\u001b[K\u001b[18;5H    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[19;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start_over()\r\n\u001b[K\n\u001b[K\u001b[22;5H\u001b[31m# This is the root state for the editor. We put the editor states           \u001b[39;49m\r\n\u001b[23;30H\u001b[7m0% L933\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Done\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"unload\"\u001b[39;49m)\r\n\u001b[K\n\u001b[K\u001b[6;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_attacking\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[9;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = coord\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m coord \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[13;13H\u001b[33mox\u001b[39;49m,\u001b[33moy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[-2]\u001b[14;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append((ox,oy))\u001b[15;13H\u001b[33ma\u001b[39;49m, \u001b[33md\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(ox,oy), \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[17;13H\u001b[33mstart_hp\u001b[39;49m = d.hp, a.hp\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action_attack((ox,oy),(x,y))\u001b[19;13H\u001b[33mend_hp\u001b[39;49m = d.hp, a.hp\u001b[K\u001b[21;13H\u001b[31m# Build the animation.                                              \u001b[39;49m\r\n\u001b[22;5H        \u001b[33mt1\u001b[39;49m = start_hp[0]-end_hp[0]\u001b[K\u001b[23;29H\u001b[7m79% L914\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l    \u001b[31m# Build the animation.                                              \u001b[39;49m\r\n\t    \u001b[33mt1\u001b[39;49m = start_hp[0]-end_hp[0]\u001b[K\u001b[4;13H\u001b[33mt2\u001b[39;49m = start_hp[1]-end_hp[1]\u001b[5;13H\u001b[33ma1\u001b[39;49m = widgets.HPAlert(6,1,d.team.color,start_hp[0],end_hp[0],0)\u001b[6;5H        \u001b[33ma2\u001b[39;49m = widgets.HPAlert(6,1,a.team.color,start_hp[1],end_hp[1],t1)\u001b[K\u001b[7;5H        \u001b[33mx1\u001b[39;49m,\u001b[33my1\u001b[39;49m = x,y\u001b[K\r\n\t    \u001b[33mx2\u001b[39;49m,\u001b[33my2\u001b[39;49m = ox,oy\u001b[K\u001b[9;13H\u001b[33ma1.time\u001b[39;49m = t1+t2+50\u001b[K\r\n\t    \u001b[33ma2.time\u001b[39;49m = t1+t2+50\u001b[11;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts += [(a1,\u001b[32m\"tr\"\u001b[39;49m),(a2,\u001b[32m\"bl\"\u001b[39;49m)]\r\n\t    \u001b[33ma.ready\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[14;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\u001b[K\r\n\u001b[K\n\n\u001b[K\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start_over()\r\n\n\u001b[K\u001b[22;5H\u001b[31m# This is the root state for the editor. We put the editor states           \u001b[39;49m\r\n\u001b[23;29H\u001b[7m80\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m20\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m30\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\u001b[3;5H\u001b[?25l\u001b[31m# This is the root state for the editor. We put the editor states           \u001b[39;49m\r\n\u001b[4;5H\u001b[31m# in the same system as the rules so that we can take advantage of          \u001b[39;49m\r\n\u001b[5;5H\u001b[31m# the \"make\" constructors.                                                  \u001b[39;49m\r\n\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[8;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = coord\u001b[K\r\n\t\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = [(x,y)]\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Repeat\"\u001b[39;49m,\u001b[32m\"Place Unit\"\u001b[39;49m, \u001b[32m\"Place Terrain\"\u001b[39;49m,\u001b[32m\"Map Settings\"\u001b[39;49m,\u001b[14;13H            \u001b[32m\"Unit Rules\"\u001b[39;49m, \u001b[32m\"Terrain Rules\"\u001b[39;49m,\u001b[32m\"Save Map\"\u001b[39;49m,\u001b[32m\"Back\"\u001b[39;49m]\r\n\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit menu\"\u001b[39;49m)\u001b[18;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_menu\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m,opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[21;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[22;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[23;30H\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[3;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[4;5H    \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\u001b[K\u001b[6;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Repeat\"\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit:\u001b[K\u001b[8;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[K\r\n\t        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\t    \u001b[33mkind\u001b[39;49m,\u001b[33mthing\u001b[39;49m,team = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m kind == \u001b[32m\"terrain\"\u001b[39;49m:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(thing)\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m team:\u001b[K\n\b\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(team)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [(x,y)]\r\n\t\u001b[8@\t\t\t\t\u001b[32mdraw terrain\"\u001b[39;49m)\u001b[17;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m kind == \u001b[32m\"unit\"\u001b[39;49m:\u001b[18;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(thing)\u001b[K\u001b[19;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [team]\r\n\t        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_unit_team(team)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Unit\"\u001b[39;49m:\n\b\b\u001b[7m3% L951\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Unit\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[5;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[7;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit unit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Terrain\"\u001b[39;49m:\u001b[K\u001b[10;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[K\u001b[11;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\u001b[12;22Hchoices.append(u)\u001b[K\u001b[13;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit terrain\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Map Settings\"\u001b[39;49m:\u001b[K\u001b[16;13H\u001b[4P\u001b[16;37H\u001b[32medit\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Unit Rules\"\u001b[39;49m:\u001b[K\u001b[19;13H\u001b[4P\u001b[19;29H]\u001b[K\u001b[20;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Unit)\"\u001b[39;49m)\u001b[23;30H\u001b[7m4% L970\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Unit)\"\u001b[39;49m)\u001b[4;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule unit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Terrain Rules\"\u001b[39;49m:\u001b[K\u001b[7;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[8;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\r\n\t\t\t.append(\u001b[32m\"(New Terrain)\"\u001b[39;49m)\u001b[11;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule terrain\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Save Map\"\u001b[39;49m:\u001b[K\u001b[14;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = {\u001b[32m\"Map Name\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m:\u001b[32m\"\"\u001b[39;49m,\u001b[32m\"type\"\u001b[39;49m:\u001b[32m\"str 15\"\u001b[39;49m}}\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"save map\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Back\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\u001b[K\u001b[20;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\n\b\b\b\b\b\b\u001b[7m6% L989\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[4;14H\u001b[1m\u001b[36maise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\t\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"(None)\"\u001b[39;49m:\u001b[K\u001b[11;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\u001b[K\n\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(x,y)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[K\u001b[14;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\t\u001b[31m# Before moving forward, we need to know the team.                      \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\u001b[K\u001b[19;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(t.name)\u001b[20;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"unit team\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[22;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[23;30H\u001b[7m7% L1008\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[3;5H\u001b[?25l\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[4;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_unit_team\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\t\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t:\u001b[K\n\b\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.unit:\u001b[K\u001b[14;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(x,y\u001b[15;13H\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_unit({\u001b[32m\"name\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]})\r\n\t    \u001b[33mteam\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m q \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q.name == opt\u001b[19;13H        \u001b[33mteam\u001b[39;49m = q\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.add_unit(u, team, x, y)\u001b[21;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit = \u001b[32m\"unit\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1],opt\r\n\u001b[K\u001b[23;30H\u001b[7m9% L1027\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit = \u001b[32m\"unit\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1],opt\r\n\u001b[K\u001b[4;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\u001b[K\u001b[6;5H\u001b[31m# Editing terrain is slightly different. After picking the type of          \u001b[39;49m\r\n\u001b[7;5H\u001b[31m# terrain you want, you pick another coordinate, and a box is filled        \u001b[39;49m\r\n\u001b[8;5H\u001b[31m# between the two endpoints.                                                \u001b[39;49m\r\n\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_terrain\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[11;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\r\n\t\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [(x,y)]\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"(None)\"\u001b[39;49m:\u001b[K\u001b[19;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"draw terrain\"\u001b[39;49m)\r\n\u001b[K\n\tt = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_cell({\u001b[32m\"name\"\u001b[39;49m:opt})\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m t.properties:\u001b[23;29H\u001b[7m90% L1046\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lt = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_cell({\u001b[32m\"name\"\u001b[39;49m:opt})\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m t.properties:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[K\u001b[5;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\u001b[6;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(t.name)\u001b[K\u001b[7;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"terrain team\"\u001b[39;49m)\u001b[K\u001b[8;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"draw terrain\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[10;5H\u001b[31m# If the tile in question is capturable, then we need to pick the           \u001b[39;49m\r\n\u001b[11;5H\u001b[31m# team.                                                                     \u001b[39;49m\r\n\u001b[12;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_terrain_team\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[15;14Hchoices = []\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"draw terrain\"\u001b[39;49m)\r\n\u001b[K\u001b[20;5H\u001b[31m# Now, pick the endpoint.                                                   \u001b[39;49m\r\n\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_draw_terrain\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\u001b[22;12H\u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[23;30H\u001b[7m2% L1065\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_draw_terrain\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\u001b[3;12H\u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[4;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\r\n\t\u001b[33mex\u001b[39;49m,\u001b[33mey\u001b[39;49m = coord\u001b[K\r\n\t\u001b[33mox\u001b[39;49m,\u001b[33moy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m ex < ox:\u001b[K\u001b[9;13H\u001b[33mex\u001b[39;49m,\u001b[33mox\u001b[39;49m = ox,ex\u001b[10;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m ey < oy:\u001b[K\u001b[11;5H        \u001b[33mey\u001b[39;49m,\u001b[33moy\u001b[39;49m = oy,ey\u001b[K\r\n\u001b[K\n\t\u001b[31m# Now fill!                                                             \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(ox,ex+1):\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(oy,ey+1):\r\n\t        \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1] == \u001b[32m\"(None)\"\u001b[39;49m:\r\n\t            u = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y\u001b[19;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\u001b[20;5H                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(x,y)\u001b[K\u001b[21;5H                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.grid.pop((x,y),\u001b[35mNone\u001b[39;49m)\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit = \u001b[32m\"terrain\"\u001b[39;49m,\u001b[32m\"(None)\"\u001b[39;49m,\u001b[35mNone\u001b[39;49m\u001b[23;30H\u001b[7m3% L1084\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.grid.pop((x,y),\u001b[35mNone\u001b[39;49m)\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit = \u001b[32m\"terrain\"\u001b[39;49m,\u001b[32m\"(None)\"\u001b[39;49m,\u001b[35mNone\u001b[39;49m\u001b[4;13H    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t            \u001b[33mtile\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_cell({\u001b[32m\"name\"\u001b[39;49m:\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]})\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit = \u001b[32m\"terrain\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1],\u001b[35mNone\u001b[39;49m\u001b[7;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action) > 2:\r\n\t                \u001b[33mteam\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[9;13H            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m q \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\r\n\t                    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q.name == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[2]:\u001b[11;13H                    team = q\r\n\t\t\ttile.team = team\r\n\t                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit=\u001b[32m\"terrain\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1],\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[2]\u001b[K\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t:\u001b[K\u001b[15;13H            \u001b[33mtile.unit\u001b[39;49m = t.unit\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.grid[(x,y)] = tile\r\n\u001b[K\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[22;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[23;30H\u001b[7m5% L1103\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[3;5H\u001b[?25l\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[4;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_save_map\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"Map Name\"\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m opt:\u001b[K\u001b[6;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Not there!\"\u001b[39;49m)\u001b[K\r\n\t\u001b[33mnewname\u001b[39;49m = opt[\u001b[32m\"Map Name\"\u001b[39;49m]\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(newname) > 15:\u001b[K\u001b[9;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Too long.\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(opt) != 0:\u001b[K\u001b[13;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.name = newname\u001b[K\u001b[14;13H\u001b[33mdata\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.export(\u001b[35mTrue\u001b[39;49m)\u001b[15;13H\u001b[33mnewname\u001b[39;49m = newname.replace(\u001b[32m\" \"\u001b[39;49m,\u001b[32m\"_\"\u001b[39;49m)\u001b[16;13Hstorage.save(data, \u001b[32m\"maps\"\u001b[39;49m,\u001b[32m\"%s.json\"\u001b[39;49m%newname)\r\n\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\u001b[K\u001b[22;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_rule_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\u001b[23;30H\u001b[7m7% L1122\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[3;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_rule_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\u001b[4;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[K\r\n\u001b[K\n\t\u001b[33mu\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt != \u001b[32m\"(New)\"\u001b[39;49m:\u001b[K\u001b[10;13H\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_unit({\u001b[32m\"name\"\u001b[39;49m:opt})\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = { \u001b[32m\"Name\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m: u.name \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m \u001b[32m\"\"\u001b[39;49m,\u001b[13;13H                      \u001b[32m\"type\"\u001b[39;49m: \u001b[32m\"str 12\"\u001b[39;49m,\u001b[14;13H                      \u001b[32m\"ordering\"\u001b[39;49m: 1 },\u001b[15;13H             \u001b[32m\"Move\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m: \u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(u.move) \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m \u001b[32m\"\"\u001b[39;49m,\u001b[16;13H                      \u001b[32m\"type\"\u001b[39;49m: \u001b[32m\"int\"\u001b[39;49m,\u001b[K\u001b[17;35H\u001b[32m\"ordering\"\u001b[39;49m: 2 }\r\n\t               }\n\t\u001b[32mpage unit\"\u001b[39;49m)\r\n\n\n\t\t\u001b[1m\u001b[34mpage_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data):\u001b[23;30H\u001b[7m8% L1141\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\n\t\t\u001b[?25l\u001b[1m\u001b[34mpage_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\u001b[K\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_rule_terrain\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\u001b[K\n\u001b[K\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_page_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\n\n\u001b[K\u001b[23;29H\u001b[7mBot L1160\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u001b[24d\u001b[?25lEnd of buffer\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u0007\u0007\u0007\u0007\u0007\u001b[24d\u001b[K\u001b[2;13H\u001b[?25l\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_unit({\u001b[32m\"name\"\u001b[39;49m:opt})\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = { \u001b[32m\"Name\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m: u.name \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m \u001b[32m\"\"\u001b[39;49m,\u001b[5;35H\u001b[32m\"type\"\u001b[39;49m: \u001b[32m\"str 12\"\u001b[39;49m,\u001b[6;5H                              \u001b[32m\"ordering\"\u001b[39;49m: 1 },\r\n\t                 \u001b[32m\"Move\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m: \u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(u.move) \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m \u001b[32m\"\"\u001b[39;49m,\u001b[8;13H                      \u001b[32m\"type\"\u001b[39;49m: \u001b[32m\"int\"\u001b[39;49m,\r\n\t                          \u001b[32m\"ordering\"\u001b[39;49m: 2 }\r\n\t               }\u001b[K\n\t\u001b[32mpage unit\"\u001b[39;49m)\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_rule_terrain\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[19;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\u001b[23;29H\u001b[7m98% L1159\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m49\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\u001b[K\n\u001b[K\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_rule_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[8;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[K\r\n\u001b[K\n\t\u001b[33mu\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt != \u001b[32m\"(New)\"\u001b[39;49m:\u001b[13;13H\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_unit({\u001b[32m\"name\"\u001b[39;49m:opt})\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = { \u001b[32m\"Name\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m: u.name \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m \u001b[32m\"\"\u001b[39;49m,\u001b[16;35H\u001b[32m\"type\"\u001b[39;49m: \u001b[32m\"str 12\"\u001b[39;49m,\u001b[17;5H                              \u001b[32m\"ordering\"\u001b[39;49m: 1 },\r\n\t                 \u001b[32m\"Move\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m: \u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(u.move) \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m \u001b[32m\"\"\u001b[39;49m,\u001b[19;13H                      \u001b[32m\"type\"\u001b[39;49m: \u001b[32m\"int\"\u001b[39;49m,\r\n\t                          \u001b[32m\"ordering\"\u001b[39;49m: 2 }\r\n\t               }\u001b[K\n\t\u001b[32mpage unit\"\u001b[39;49m)\u001b[23;37H\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m39\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[33mnewname\u001b[39;49m = opt[\u001b[32m\"Map Name\"\u001b[39;49m]\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(newname) > 15:\u001b[K\u001b[4;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Too long.\"\u001b[39;49m)\u001b[6;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[7;12H\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(opt) != 0:\u001b[K\u001b[8;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.name = newname\u001b[K\r\n\t    \u001b[33mdata\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.export(\u001b[35mTrue\u001b[39;49m)\u001b[10;13H\u001b[33mnewname\u001b[39;49m = newname.replace(\u001b[32m\" \"\u001b[39;49m,\u001b[32m\"_\"\u001b[39;49m)\r\n\t    storage.save(data, \u001b[32m\"maps\"\u001b[39;49m,\u001b[32m\"%s.json\"\u001b[39;49m%newname)\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\u001b[K\n\u001b[K\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_rule_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[19;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[K\r\n\u001b[K\n\t\u001b[33mu\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[23;30H\u001b[7m7% L1137\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m29\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l                \u001b[33mtile.unit\u001b[39;49m = t.unit\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.grid[(x,y)] = tile\r\n\u001b[K\n\n\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\u001b[K\u001b[9;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_save_map\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"Map Name\"\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m opt:\u001b[K\u001b[12;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Not there!\"\u001b[39;49m)\r\n\t\u001b[33mnewname\u001b[39;49m = opt[\u001b[32m\"Map Name\"\u001b[39;49m]\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(newname) > 15:\u001b[K\u001b[15;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Too long.\"\u001b[39;49m)\u001b[17;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[18;12H\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(opt) != 0:\u001b[K\u001b[19;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.name = newname\u001b[K\r\n\t    \u001b[33mdata\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.export(\u001b[35mTrue\u001b[39;49m)\u001b[21;13H\u001b[33mnewname\u001b[39;49m = newname.replace(\u001b[32m\" \"\u001b[39;49m,\u001b[32m\"_\"\u001b[39;49m)\r\n\t    storage.save(data, \u001b[32m\"maps\"\u001b[39;49m,\u001b[32m\"%s.json\"\u001b[39;49m%newname)\u001b[23;30H\u001b[7m6% L1126\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m19\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25l\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[33mtile\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_cell({\u001b[32m\"name\"\u001b[39;49m:\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]})\u001b[4;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit = \u001b[32m\"terrain\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1],\u001b[35mNone\u001b[39;49m\u001b[5;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action) > 2:\r\n\t                \u001b[33mteam\u001b[39;49m = \u001b[35mNone\u001b[39;49m\r\n\t                \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m q \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\u001b[8;29H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q.name == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[2]:\u001b[9;5H                            team = q\u001b[K\u001b[10;5H                    tile.team = team\r\n\t                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit=\u001b[32m\"terrain\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1],\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[2]\u001b[12;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t:\u001b[K\r\n\t                \u001b[33mtile.unit\u001b[39;49m = t.unit\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.grid[(x,y)] = tile\r\n\u001b[K\n\n\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\u001b[K\u001b[20;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_save_map\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"Map Name\"\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m opt:\u001b[K\n\b\b\b\b\u001b[7m5% L1115\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m09\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\n\t\u001b[?25l\u001b[31m# Now fill!                                                             \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(ox,ex+1):\u001b[K\u001b[5;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(oy,ey+1):\u001b[K\r\n\t\t\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1] == \u001b[32m\"(None)\"\u001b[39;49m:\u001b[K\u001b[8;21Hu = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\u001b[9;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\u001b[K\n\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(x,y)\u001b[11;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.grid.pop((x,y),\u001b[35mNone\u001b[39;49m)\u001b[K\u001b[12;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit = \u001b[32m\"terrain\"\u001b[39;49m,\u001b[32m\"(None)\"\u001b[39;49m,\u001b[35mNone\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[33mtile\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_cell({\u001b[32m\"name\"\u001b[39;49m:\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]})\u001b[15;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit = \u001b[32m\"terrain\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1],\u001b[35mNone\u001b[39;49m\u001b[16;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action) > 2:\r\n\t                \u001b[33mteam\u001b[39;49m = \u001b[35mNone\u001b[39;49m\r\n\t                \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m q \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\u001b[19;29H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q.name == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[2]:\u001b[20;5H                            team = q\u001b[K\u001b[21;5H                    tile.team = team\r\n\t                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit=\u001b[32m\"terrain\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1],\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[2]\u001b[23;30H\u001b[7m4% L1104\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m099\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m# Now, pick the endpoint.                                                   \u001b[39;49m\r\n\u001b[3;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_draw_terrain\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[5;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\r\n\t\u001b[33mex\u001b[39;49m,\u001b[33mey\u001b[39;49m = coord\u001b[K\r\n\t\u001b[33mox\u001b[39;49m,\u001b[33moy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m ex < ox:\u001b[K\u001b[10;13H\u001b[33mex\u001b[39;49m,\u001b[33mox\u001b[39;49m = ox,ex\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m ey < oy:\u001b[K\u001b[12;13H\u001b[33mey\u001b[39;49m,\u001b[33moy\u001b[39;49m = oy,ey\u001b[K\r\n\u001b[K\n\t\u001b[31m# Now fill!                                                             \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(ox,ex+1):\u001b[K\u001b[16;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(oy,ey+1):\u001b[K\r\n\t\t\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1] == \u001b[32m\"(None)\"\u001b[39;49m:\u001b[K\u001b[19;21Hu = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\u001b[20;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\u001b[K\n\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(x,y)\u001b[22;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.grid.pop((x,y),\u001b[35mNone\u001b[39;49m)\u001b[K\u001b[23;30H\u001b[7m3% L1093\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m89\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[3;5H\u001b[?25l\u001b[31m# If the tile in question is capturable, then we need to pick the           \u001b[39;49m\r\n\u001b[4;5H\u001b[31m# team.                                                                     \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_terrain_team\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"draw terrain\"\u001b[39;49m)\r\n\u001b[K\u001b[13;5H\u001b[31m# Now, pick the endpoint.                                                   \u001b[39;49m\r\n\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_draw_terrain\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[16;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\r\n\t\u001b[33mex\u001b[39;49m,\u001b[33mey\u001b[39;49m = coord\u001b[K\r\n\t\u001b[33mox\u001b[39;49m,\u001b[33moy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m ex < ox:\u001b[K\u001b[21;13H\u001b[33mex\u001b[39;49m,\u001b[33mox\u001b[39;49m = ox,ex\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m ey < oy:\u001b[K\u001b[23;30H\u001b[7m2% L1082\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m79\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[3;5H\u001b[?25l    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"(None)\"\u001b[39;49m:\u001b[K\u001b[4;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"draw terrain\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\tt = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_cell({\u001b[32m\"name\"\u001b[39;49m:opt})\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m t.properties:\u001b[K\r\n\t\u001b[4@\u001b[8;29H\u001b[32m\"(None)\"\u001b[39;49m]\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(t.name)\r\n\t\u001b[4@\u001b[11;37H\u001b[32mterrain team\u001b[39;49m\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"draw terrain\"\u001b[39;49m)\r\n\u001b[K\u001b[14;5H\u001b[31m# If the tile in question is capturable, then we need to pick the           \u001b[39;49m\r\n\u001b[15;5H\u001b[31m# team.                                                                     \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_terrain_team\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"draw terrain\"\u001b[39;49m)\u001b[23;37H\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m69\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m# Editing terrain is slightly different. After picking the type of          \u001b[39;49m\r\n\u001b[3;5H\u001b[31m# terrain you want, you pick another coordinate, and a box is filled        \u001b[39;49m\r\n\u001b[4;5H\u001b[31m# between the two endpoints.                                                \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_terrain\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\t\u001b[4P\t\t]\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\t\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [(x,y)]\u001b[K\u001b[14;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"(None)\"\u001b[39;49m:\u001b[K\u001b[15;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"draw terrain\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\tt = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_cell({\u001b[32m\"name\"\u001b[39;49m:opt})\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m t.properties:\u001b[K\r\n\t\u001b[4@\u001b[19;29H\u001b[32m\"(None)\"\u001b[39;49m]\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(t.name)\r\n\t\u001b[4@\u001b[22;37H\u001b[32mterrain team\u001b[39;49m\u001b[23;30H\u001b[7m0% L1060\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m59\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l        \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[K\u001b[3;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[4;5H    \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\u001b[5;5H    \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t:\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.unit:\u001b[K\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(x,y)\r\n\t    \u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_unit({\u001b[32m\"name\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]})\r\n\t    \u001b[33mteam\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[13;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m q \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q.name == opt:\u001b[15;13H        \u001b[33mteam\u001b[39;49m = q\u001b[K\u001b[16;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.add_unit(u, team, x, y)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit = \u001b[32m\"unit\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1],opt\r\n\u001b[K\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\u001b[K\u001b[21;5H\u001b[31m# Editing terrain is slightly different. After picking the type of          \u001b[39;49m\r\n\u001b[22;5H\u001b[31m# terrain you want, you pick another coordinate, and a box is filled        \u001b[39;49m\r\n\u001b[23;29H\u001b[7m89% L1051\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\t\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"(None)\"\u001b[39;49m:\u001b[K\u001b[7;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(x,y)\u001b[9;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[10;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m\r\n\u001b[K\n\t\u001b[31m# Before moving forward, we need to know the team.                      \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams\u001b[15;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(t.name)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"unit team\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[18;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_unit_team\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[21;5H        \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[K\u001b[22;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[23;30H\u001b[7m8% L1032\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[16;1H\u001b[2M\u001b[1;24r\u001b[2;9H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Terrain Rules\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Terrain)\"\u001b[39;49m)\u001b[7;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule terrain\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Save Map\"\u001b[39;49m:\u001b[10;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = {\u001b[32m\"Map Name\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m:\u001b[32m\"\"\u001b[39;49m,\u001b[32m\"type\"\u001b[39;49m:\u001b[32m\"str 15\"\u001b[39;49m}}\u001b[11;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"save map\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Back\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\u001b[K\n\n\t\t\u001b[1m\u001b[34medit_unit\u001b[0m\u001b[39;49m\r\n\n\n\n        \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n        \u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\n\b\b\b\b\b\u001b[7m6% L1013\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m09\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m999 \u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Map Settings\"\u001b[39;49m:\u001b[4;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Unit Rules\"\u001b[39;49m:\u001b[K\u001b[7;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[8;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\r\n\t\t\t.append(\u001b[32m\"(New Unit)\"\u001b[39;49m)\u001b[K\u001b[11;37H\u001b[32mrule unit\"\u001b[39;49m)\u001b[13;20H\u001b[32mTerrain Rules\"\u001b[39;49m:\u001b[14;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[15;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\u001b[16;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[K\u001b[17;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Terrain)\"\u001b[39;49m)\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule terrain\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Save Map\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = {\u001b[32m\"Map Name\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m:\u001b[32m\"\"\u001b[39;49m,\u001b[32m\"type\"\u001b[39;49m:\u001b[32m\"str 15\"\u001b[39;49m}}\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"save map\"\u001b[39;49m)\u001b[23;36H\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;21H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(team)\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [(x,y)]\u001b[4;13H\u001b[4@\t\t\t\t\u001b[32mdraw terrain\"\u001b[39;49m)\u001b[5;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m kind == \u001b[32m\"unit\"\u001b[39;49m:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(thing)\u001b[7;13H\u001b[4@\t\t\tteam]\u001b[8;13H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_unit_team(team)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Unit\"\u001b[39;49m:\u001b[K\u001b[11;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[K\u001b[12;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[14;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit unit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Terrain\"\u001b[39;49m:\u001b[K\r\n\t\t\t = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[K\u001b[18;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit terrain\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Map Settings\"\u001b[39;49m:\u001b[K\n\b\b\b\b\u001b[7m4% L983\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[K\u001b[3;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit unit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Terrain\"\u001b[39;49m:\u001b[6;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[K\u001b[7;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[K\u001b[9;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit terrain\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Map Settings\"\u001b[39;49m:\u001b[K\u001b[12;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Unit Rules\"\u001b[39;49m:\u001b[K\u001b[15;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\u001b[17;13H\u001b[4@\u001b[17;29H.append(u)\u001b[K\u001b[18;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Unit)\"\u001b[39;49m)\u001b[K\u001b[19;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule unit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Terrain Rules\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\n\u001b[7m5% L984\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[32m\"\u001b[39;49m:\u001b[K\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m\"\u001b[39;49m:\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m\"\u001b[39;49m:\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m\"\u001b[39;49m:\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m\"\u001b[39;49m:\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m\"\u001b[39;49m:\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m\"\u001b[39;49m:\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m\"\u001b[39;49m:\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m\"\u001b[39;49m:\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m\"\u001b[39;49m:\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m\"\u001b[39;49m:\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m\"\u001b[39;49m:\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mE\"\u001b[39;49m:\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32md\"\u001b[39;49m:\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mi\"\u001b[39;49m:\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt\"\u001b[39;49m:\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m \"\u001b[39;49m:\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mT\"\u001b[39;49m:\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\"\u001b[39;49m:\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ma\"\u001b[39;49m:\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mm\"\u001b[39;49m:\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ms\"\u001b[39;49m:\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;43H\b\b\b\u001b[?25l\u001b[32m\"\u001b[39;49m)\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m\"\u001b[39;49m)\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m\"\u001b[39;49m)\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32md\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mi\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m \"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ma\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mm\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ms\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mI-search: \u001b[39;49m\u001b[12;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;58H\u001b[?25l\u001b[7m Isearch) \u001b[0m\u001b[39;49m\u001b[27m\u001b[12;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u001b[24;1H\u001b[?25lQuit\u001b[K\u001b[23;58H\u001b[7m) --------\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[12;47H\u001b[1;23r\u001b[22;1H\u001b[1M\u001b[1;24r\u001b[24;1H\u001b[?25l\u001b[34m, ., q, C-r, d or C-h) \u001b[39;49m\r\u001b[A\u001b[34mSave file /home/isharacomix/Documents/rules-of-war/code/core/rules.py? (y, n, !\u001b[39;49m\\\r\n\u001b[A\n\t\t\t\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[?25l, ., q, C-r, d or C-h) C-s\r\u001b[ASave file /home/isharacomix/Documents/rules-of-war/code/core/rules.py? (y, n, !\u001b[24;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[A\u001b[?25lType C-h for help.\u001b[K\u001b[12;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u0007\u001b[1;23r\u001b[22;1H\u001b[1L\u001b[1;24r\u001b[24;1H\u001b[?25lQuit\u001b[22;1H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[12;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[12;47H\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[12;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[12;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Repeat\"\u001b[39;49m:\u001b[K\u001b[3;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\r\n\t        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\u001b[6;13H\u001b[33mkind\u001b[39;49m,\u001b[33mthing\u001b[39;49m,team = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit\u001b[7;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m kind == \u001b[32m\"terrain\"\u001b[39;49m:\u001b[K\u001b[8;22Haction.append(thing)\u001b[9;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m team:\u001b[K\n\b\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(team)\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [(x,y)]\u001b[12;13H\u001b[4@\t\t\t\t\u001b[32mdraw terrain\"\u001b[39;49m)\u001b[13;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m kind == \u001b[32m\"unit\"\u001b[39;49m:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(thing)\u001b[15;13H\u001b[4@\t\t\tteam]\u001b[16;13H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_unit_team(team)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Unit\"\u001b[39;49m:\u001b[K\u001b[19;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[K\u001b[20;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[22;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit unit\"\u001b[39;49m)\u001b[23;30H\u001b[7m3% L975\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[4;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = coord\u001b[K\r\n\t\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = [(x,y)]\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Repeat\"\u001b[39;49m,\u001b[32m\"Place Unit\"\u001b[39;49m, \u001b[32m\"Place Terrain\"\u001b[39;49m,\u001b[32m\"Map Settings\"\u001b[39;49m,\u001b[10;21H    \u001b[32m\"Unit Rules\"\u001b[39;49m, \u001b[32m\"Terrain Rules\"\u001b[39;49m,\u001b[32m\"Save Map\"\u001b[39;49m,\u001b[32m\"Back\"\u001b[39;49m]\r\n\u001b[K\n\t\u001b[8P\t\t\t\u001b[32medit menu\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[14;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[15;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_menu\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m,opt):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[17;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Repeat\"\u001b[39;49m:\u001b[K\u001b[22;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit:\u001b[K\n\b\b\b\b\b\u001b[7m2% L956\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m49\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[9;79H\b\b\b\u001b[?25l\u001b[32m\"\u001b[39;49m,\u001b[K\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;76H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m\"\u001b[39;49m,\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m\"\u001b[39;49m,\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m\"\u001b[39;49m,\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m\"\u001b[39;49m,\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m\"\u001b[39;49m,\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m\"\u001b[39;49m,\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m\"\u001b[39;49m,\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m\"\u001b[39;49m,\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m\"\u001b[39;49m,\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m\"\u001b[39;49m,\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m\"\u001b[39;49m,\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mE\"\u001b[39;49m,\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32md\"\u001b[39;49m,\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mi\"\u001b[39;49m,\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt\"\u001b[39;49m,\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m \"\u001b[39;49m,\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mT\"\u001b[39;49m,\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\"\u001b[39;49m,\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ma\"\u001b[39;49m,\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mm\"\u001b[39;49m,\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ms\"\u001b[39;49m,\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[9d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[9;75H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;75H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[2;5H\u001b[?25l    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Repeat\"\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit:\u001b[K\u001b[4;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[K\r\n\t        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\t    \u001b[33mkind\u001b[39;49m,\u001b[33mthing\u001b[39;49m,team = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m kind == \u001b[32m\"terrain\"\u001b[39;49m:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(thing)\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m team:\u001b[K\n\b\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(team)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [(x,y)]\r\n\t\u001b[8@\t\t\t\t\u001b[32mdraw terrain\"\u001b[39;49m)\u001b[13;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m kind == \u001b[32m\"unit\"\u001b[39;49m:\u001b[14;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(thing)\u001b[K\u001b[15;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [team]\r\n\t        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_unit_team(team)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Unit\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[20;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[22;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit unit\"\u001b[39;49m)\u001b[23;30H\u001b[7m3% L955\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[3;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit unit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Terrain\"\u001b[39;49m:\u001b[K\u001b[6;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[K\u001b[7;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\u001b[8;22Hchoices.append(u)\u001b[K\u001b[9;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit terrain\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Edit Teams\"\u001b[39;49m:\u001b[K\u001b[12;13H\u001b[4P\u001b[12;37H\u001b[32medit teams\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Unit Rules\"\u001b[39;49m:\u001b[K\u001b[15;13H\u001b[4P\u001b[15;29H]\u001b[K\u001b[16;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Unit)\"\u001b[39;49m)\u001b[19;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule unit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Terrain Rules\"\u001b[39;49m:\u001b[K\u001b[22;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\n\u001b[7m5% L974\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Terrain Rules\"\u001b[39;49m:\u001b[K\u001b[3;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[4;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\r\n\t\t\t.append(\u001b[32m\"(New Terrain)\"\u001b[39;49m)\u001b[7;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule terrain\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Save Map\"\u001b[39;49m:\u001b[K\u001b[10;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = {\u001b[32m\"Map Name\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m:\u001b[32m\"\"\u001b[39;49m,\u001b[32m\"type\"\u001b[39;49m:\u001b[32m\"str 15\"\u001b[39;49m}}\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"save map\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Back\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\u001b[K\u001b[16;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[19;14H\u001b[1m\u001b[36maise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\t\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\n\b\b\b\b\b\u001b[7m6% L993\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m1000\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[16;1H\u001b[1L\u001b[1;24r\u001b[16;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   86% L1007\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[18;1H\u001b[1L\u001b[1;24r\u001b[17;1H\u001b[K\n\u001b[?25l    \u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[A\u001b[23;37H\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[16;13H\r\t\b\b\b\b\u001b[?25l\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[16;6H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[1;22r\u001b[18;1H\u001b[1L\u001b[1;24r\u001b[18;1H\u001b[K\u001b[23;37H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[17;5H\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[34mp\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mr\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mo\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mc\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34me\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34ms\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34ms\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34m_\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34me\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34md\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mi\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mt\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34m_\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mt\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34me\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34ma\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mm\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34ms\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;7H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[3;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit unit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Terrain\"\u001b[39;49m:\u001b[K\r\n\t\t\t = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[K\u001b[7;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit terrain\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Edit Teams\"\u001b[39;49m:\u001b[K\u001b[12;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit teams\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Unit Rules\"\u001b[39;49m:\u001b[K\u001b[15;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[16;5H        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\u001b[K\u001b[17;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[18;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Unit)\"\u001b[39;49m)\u001b[19;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule unit\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\t\t\b== \u001b[32m\"Terrain Rules\"\u001b[39;49m:\u001b[K\u001b[22;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\n\u001b[7m5% L994 \u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Unit Rules\"\u001b[39;49m:\u001b[K\u001b[4;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\u001b[6;13H\u001b[4@\u001b[6;29H.append(u)\u001b[K\u001b[7;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Unit)\"\u001b[39;49m)\u001b[K\u001b[8;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule unit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Terrain Rules\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[12;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Terrain)\"\u001b[39;49m)\u001b[15;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule terrain\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Save Map\"\u001b[39;49m:\u001b[K\r\n\t\t\t = {\u001b[32m\"Map Name\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m:\u001b[32m\"\"\u001b[39;49m,\u001b[32m\"type\"\u001b[39;49m:\u001b[32m\"str 15\"\u001b[39;49m}}\u001b[19;37H\u001b[32msave map\"\u001b[39;49m)\u001b[K\u001b[21;20H\u001b[32mBack\"\u001b[39;49m:\u001b[K\u001b[22;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\u001b[23;30H\u001b[7m6% L995\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m kind == \u001b[32m\"unit\"\u001b[39;49m:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(thing)\u001b[4;13H\u001b[4@\t\t\tteam]\u001b[5;13H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_unit_team(team)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Unit\"\u001b[39;49m:\u001b[K\u001b[8;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[K\u001b[9;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[11;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit unit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Terrain\"\u001b[39;49m:\u001b[K\r\n\t\t\t = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[K\u001b[15;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit terrain\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Edit Teams\"\u001b[39;49m:\u001b[K\u001b[20;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit teams\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Unit Rules\"\u001b[39;49m:\u001b[K\n\b\b\u001b[7m4% L986\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;49H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\u001b[K\u001b[21;13H\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit teams\"\u001b[39;49m)\r\n\u001b[K\u001b[23;36H\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[20;13H\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l[\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l]\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32m\"]                                                  \u001b[39;49m\r\n\u001b[32m            return self.transition(\"\u001b[39;49medit teams\u001b[32m\")                                \u001b[39;49m\r\n\u001b[20;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mR]\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me]\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32md]\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m,]\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m] \u001b[39;49m\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m]\u001b[K\r\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit teams\"\u001b[39;49m)\u001b[K\u001b[20;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,]\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"]                                            \u001b[39;49m\r\n\u001b[32m            return self.transition(\"\u001b[39;49medit teams\u001b[32m\")                                \u001b[39;49m\r\n\u001b[20;36H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mB]\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ml]\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mu]\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me]\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[20;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m]\u001b[K\r\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit teams\"\u001b[39;49m)\u001b[K\u001b[20;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[K\u001b[20;41H\u001b[?25l,]\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"]                                     \u001b[39;49m\r\n\u001b[32m            return self.transition(\"\u001b[39;49medit teams\u001b[32m\")                                \u001b[39;49m\r\n\u001b[20;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mG]\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mr]\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me]\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me]\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mn]\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m]\u001b[K\r\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit teams\"\u001b[39;49m)\u001b[K\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,]\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"]                             \u001b[39;49m\r\n\u001b[32m            return self.transition(\"\u001b[39;49medit teams\u001b[32m\")                                \u001b[39;49m\r\n\u001b[20;51H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[20;51H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mY]\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me]\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ml]\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mo]\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mw]\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m]\u001b[K\r\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit teams\"\u001b[39;49m)\u001b[K\u001b[A\t\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m]                        \u001b[39;49m\r\n\u001b[32m            return self.transition(\"\u001b[39;49medit teams\u001b[32m\")                                \u001b[39;49m\r\n\u001b[20;56H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m] \u001b[39;49m\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ml]\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m] \u001b[39;49m\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m] \u001b[39;49m\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ml]\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mo]\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mw]\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m]\u001b[K\r\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit teams\"\u001b[39;49m)\u001b[K\u001b[20;58H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,]\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"]                    \u001b[39;49m\r\n\u001b[32m            return self.transition(\"\u001b[39;49medit teams\u001b[32m\")                                \u001b[39;49m\r\n\u001b[20;60H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mC]\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32my]\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ma]\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mn]\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m]\u001b[K\r\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit teams\"\u001b[39;49m)\u001b[K\u001b[A\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm]\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[K\u001b[20;66H\r\n\n\n\n\u001b[?25lAuto-saving...\u001b[20;66H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[20;66H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\u001b[K\u001b[20;65H\u001b[?25l]\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,]\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"]             \u001b[39;49m\r\n\u001b[32m            return self.transition(\"\u001b[39;49medit teams\u001b[32m\")                                \u001b[39;49m\r\n\u001b[20;67H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mM]\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ma]\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mg]\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me]\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mn]\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt]\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ma]\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m]\u001b[K\r\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit teams\"\u001b[39;49m)\u001b[K\u001b[20;75H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,]\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"]   \u001b[39;49m\r\n\u001b[32m            return self.transition(\"\u001b[39;49medit teams\u001b[32m\")                                \u001b[39;49m\r\n\u001b[20;77H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mD]\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mo]\u001b[39;49m\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[21;1H\u001b[1L\u001b[1;24r\u001b[20;79H\u001b[?25l\u001b[32mn\u001b[39;49m\\\r\n\u001b[32m]                                                                               \u001b[39;49m\r\n\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me]\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m]\u001b[K\r\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit teams\"\u001b[39;49m)\u001b[K\u001b[21;3H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[A\n\u001b[C\b\b\b\u001b[20;79H\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[K\r\n\u001b[?25l\u001b[32m\"Magenta\"\u001b[39;49m,\u001b[32m\"Done\"\u001b[39;49m]\u001b[23;36H\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[28@\u001b[21;29H\b\b\b\b\u001b[4P\b\b\b\b\u001b[4P\r\t\t\u001b[4P\b\b\b\b\u001b[4P\r\t\u001b[4P\b\b\b\b\u001b[4P\r\u001b[4P\u001b[28@\u001b[21;29H\r\n\n\n\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[21;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[21;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\u001b[K\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[22;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[22;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Terrain\"\u001b[39;49m:\u001b[3;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[K\u001b[4;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[K\u001b[6;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit terrain\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Edit Teams\"\u001b[39;49m:\u001b[K\u001b[9;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Red\"\u001b[39;49m,\u001b[32m\"Blue\"\u001b[39;49m,\u001b[32m\"Green\"\u001b[39;49m,\u001b[32m\"Yellow\"\u001b[39;49m,\u001b[32m\"Cyan\"\u001b[39;49m,\r\n\t\t            \u001b[32m\"Magenta\"\u001b[39;49m,\u001b[32m\"Done\"\u001b[39;49m]\n\b\b\b\b\u001b[32mteams\"\u001b[39;49m)\u001b[13;20H\u001b[32mUnit Rules\"\u001b[39;49m:\u001b[K\n\b\b\b]\u001b[K\u001b[15;42H\u001b[32munits\"\u001b[39;49m]:\u001b[K\u001b[17;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Unit)\"\u001b[39;49m)\u001b[K\u001b[18;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule unit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Terrain Rules\"\u001b[39;49m:\u001b[K\u001b[21;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[22;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\u001b[23;30H\u001b[7m5% L987\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[10;46H\u001b[1;22r\u001b[11;1H\u001b[1L\u001b[1;24r\u001b[11;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   85% L986\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[11;13H\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36min\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[34mall\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25lall_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[13;1H\u001b[1L\u001b[1;24r\u001b[12;1H\u001b[K\n\u001b[?25l            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit teams\"\u001b[39;49m)\u001b[K\u001b[23;36H\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[11;42H\b\u001b[?25l_:\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx:\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly:\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;44H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@x\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@y\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[11;47H\u001b[1;22r\u001b[13;1H\u001b[1L\u001b[1;24r\u001b[12;1H\u001b[K\n\u001b[?25l                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.unit:\u001b[K\u001b[23;36H\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25lf\u001b[23;30H\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[23;30H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[23;30H\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[C\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[14;1H\u001b[1L\u001b[1;24r\u001b[13;1H\u001b[K\n\u001b[?25l                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.unit:\u001b[K\u001b[23;36H\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[13;21H\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lAuto-saving...\u001b[13;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[13;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[13;32H\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\b\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\b\u001b[K\u001b[C\b\b\b\u001b[?25li\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\t\t\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\u001b[?25l\u001b[33mt\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[14;43H\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[16;1H\u001b[1L\u001b[1;24r\u001b[15;1H\u001b[K\n\u001b[?25l            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit teams\"\u001b[39;49m)\u001b[K\u001b[23;35H\u001b[7m90\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[15;21H\r\t\t\u001b[23;35H\u001b[?25l\u001b[7m89\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[14;44H\b\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m90\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\u001b[C\b\b\b\u001b[?25li\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\t\t\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\t\t\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[C\b\b\b\u001b[?25li\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\t\t\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\r\t\t\u001b[?25l\u001b[33mt.team\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lN\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[35mNone\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[15;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[15;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[15;30H\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[15d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[15;30H\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[15d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[H\n\t\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\r\n\t\t\t.append(\u001b[32m\"(New Unit)\"\u001b[39;49m)\u001b[4;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule unit\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Terrain Rules\"\u001b[39;49m:\u001b[K\u001b[7;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\u001b[9;13H\u001b[4@\u001b[9;29H.append(u)\u001b[K\u001b[10;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Terrain)\"\u001b[39;49m)\u001b[11;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule terrain\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Save Map\"\u001b[39;49m:\u001b[K\u001b[14;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = {\u001b[32m\"Map Name\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m:\u001b[32m\"\"\u001b[39;49m,\u001b[32m\"type\"\u001b[39;49m:\u001b[32m\"str 15\"\u001b[39;49m}}\u001b[15;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"save map\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Back\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\u001b[K\u001b[20;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_teams\u001b[0m\u001b[39;49m()\u001b[K\r\n\u001b[K\u001b[23;30H\u001b[7m6% L996\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_teams\u001b[0m\u001b[39;49m()\u001b[K\r\n\u001b[K\u001b[4;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\t\b\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[7;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\tu = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[K\u001b[13;20H\u001b[32m(None)\"\u001b[39;49m:\u001b[K\u001b[14;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\u001b[K\n\b\b\b\b\b    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(x,y)\u001b[K\u001b[16;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[31m# Before moving forward, we need to know the team.                      \u001b[39;49m\r\n\u001b[20;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[21;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\u001b[22;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(t.name)\u001b[23;30H\u001b[7m7% L1015\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Terrain)\"\u001b[39;49m)\u001b[3;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule terrain\"\u001b[39;49m)\r\n\u001b[K\u001b[5;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Save Map\"\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = {\u001b[32m\"Map Name\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m:\u001b[32m\"\"\u001b[39;49m,\u001b[32m\"type\"\u001b[39;49m:\u001b[32m\"str 15\"\u001b[39;49m}}\u001b[7;14H\u001b[1m\u001b[36meturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"save map\u001b[39;49m\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Back\"\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\u001b[K\u001b[12;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_teams\u001b[0m\u001b[39;49m()\r\n\u001b[K\u001b[15;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[18;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\r\n\tu = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[K\u001b[23;37H\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[13;29H\u001b[1;22r\u001b[15;1H\u001b[1L\u001b[1;24r\u001b[15;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   87% L1016\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[14;5H\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25li\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[14;5H\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[14;5H\r\u001b[14;5H\u001b[21;11H\u001b[?25l\u001b[33my\u001b[39;49m\r\n\t\u001b[33mu\u001b[39;49m\u001b[14;5H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;5H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[13;29H\b\u001b[?25ls)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l )\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[1;22r\u001b[15;1H\u001b[1L\u001b[1;24r\u001b[15;1H\u001b[K\u001b[23;37H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[14;5H\u001b[23;37H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;5H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[13;38H\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l                \u001b[32m\"Magenta\"\u001b[39;49m,\u001b[32m\"Done\"\u001b[39;49m]\u001b[K\u001b[3;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x,y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles_xy:\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y):\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(x,y)\u001b[6;13H    \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[K\u001b[7;13H    \u001b[33mt.team\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[8;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit teams\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Unit Rules\"\u001b[39;49m:\u001b[K\u001b[11;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[12;5H        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\u001b[K\u001b[13;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[14;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Unit)\"\u001b[39;49m)\u001b[15;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule unit\"\u001b[39;49m)\u001b[17;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Terrain Rules\"\u001b[39;49m:\u001b[K\u001b[18;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\u001b[20;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[K\r\n\t\u001b[4@\t\t.append(\u001b[32m\"(New Terrain)\"\u001b[39;49m)\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule terrain\"\u001b[39;49m)\u001b[23;30H\u001b[7m5% L100\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m kind == \u001b[32m\"unit\"\u001b[39;49m:\u001b[K\u001b[3;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(thing)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [team]\u001b[K\r\n\t\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_unit_team(team)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Unit\"\u001b[39;49m:\u001b[8;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[K\u001b[9;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[11;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit unit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Terrain\"\u001b[39;49m:\u001b[K\r\n\t\t\t = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[K\u001b[15;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit terrain\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Edit Teams\"\u001b[39;49m:\u001b[K\u001b[20;13H\u001b[4P\t\t = [\u001b[32m\"Red\"\u001b[39;49m,\u001b[32m\"Blue\"\u001b[39;49m,\u001b[32m\"Green\"\u001b[39;49m,\u001b[32m\"Yellow\"\u001b[39;49m,\u001b[32m\"Cyan\"\u001b[39;49m,\u001b[21;13H                \u001b[32m\"Magenta\"\u001b[39;49m,\u001b[32m\"Done\"\u001b[39;49m]\u001b[K\u001b[22;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x,y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles_xy:\u001b[K\u001b[23;30H\u001b[7m3% L986 \u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Terrain\"\u001b[39;49m:\u001b[3;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[K\u001b[4;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[K\u001b[6;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit terrain\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Edit Teams\"\u001b[39;49m:\u001b[K\u001b[9;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Red\"\u001b[39;49m,\u001b[32m\"Blue\"\u001b[39;49m,\u001b[32m\"Green\"\u001b[39;49m,\u001b[32m\"Yellow\"\u001b[39;49m,\u001b[32m\"Cyan\"\u001b[39;49m,\r\n\t\t            \u001b[32m\"Magenta\"\u001b[39;49m,\u001b[32m\"Done\"\u001b[39;49m]\u001b[11;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x,y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles_xy:\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y):\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(x,y)\u001b[14;13H    \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[15;13H    \u001b[33mt.team\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[16;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit teams\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Unit Rules\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[20;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[K\u001b[22;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Unit)\"\u001b[39;49m)\u001b[K\u001b[23;30H\u001b[7m4% L987\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m90\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[16;1H\u001b[1L\u001b[1;24r\u001b[16;1H\u001b[K\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\b\b\b\b\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l[\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l]\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[16;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[16;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[A\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(x,y)\u001b[3;13H    \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[4;13H    \u001b[33mt.team\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[5;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams = []\u001b[K\u001b[6;44H\u001b[32mams\"\u001b[39;49m)\u001b[K\u001b[8;20H\u001b[32mUnit Rule\u001b[39;49m\n]\u001b[K\u001b[10;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\u001b[11;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[K\u001b[12;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Unit)\"\u001b[39;49m)\u001b[13;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule unit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Terrain Rules\"\u001b[39;49m:\u001b[16;18Hchoices = []\u001b[K\u001b[17;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Terrain)\"\u001b[39;49m)\u001b[20;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule terrain\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Save Map\"\u001b[39;49m:\u001b[K\n\u001b[7m5% L998\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m1000\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[22;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule unit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Terrain Rules\"\u001b[39;49m:\u001b[5;18Hchoices = []\u001b[K\u001b[6;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Terrain)\"\u001b[39;49m)\u001b[9;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule terrain\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Save Map\"\u001b[39;49m:\u001b[K\r\n\t\t\t = {\u001b[32m\"Map Name\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m:\u001b[32m\"\"\u001b[39;49m,\u001b[32m\"type\"\u001b[39;49m:\u001b[32m\"str 15\"\u001b[39;49m}}\u001b[13;37H\u001b[32msave map\"\u001b[39;49m)\u001b[K\u001b[15;20H\u001b[32mBack\"\u001b[39;49m:\u001b[K\u001b[16;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\u001b[K\u001b[18;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_teams\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\r\n\u001b[K\n\n\u001b[K\u001b[23;30H\u001b[7m6% L1009\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m10\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;7H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;5H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\u001b[C\u001b[?25l\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[20;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[20;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\b\b\b\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\u001b[K\u001b[20;9H\u001b[?25li\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;10H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36min\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[21;13H\r\n\n\n\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[21;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[21;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\u001b[K\u001b[23;37H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[22;5H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;37H\u001b[?25l\u001b[32msave map\"\u001b[39;49m)\u001b[K\u001b[4;20H\u001b[32mBack\"\u001b[39;49m:\u001b[K\u001b[5;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\u001b[K\u001b[7;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_teams\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\r\n\n\u001b[K\n\u001b[K\u001b[13;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\t\b\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[16;14H\u001b[1m\u001b[36maise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[18;5H    \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\u001b[19;5H    \u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\r\n\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"(None)\"\u001b[39;49m:\u001b[23;30H\u001b[7m7% L1020\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m19\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;5H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[10;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;21r\u001b[13;1H\u001b[1L\u001b[1;24r\u001b[24;1H\u001b[K\u001b[13d\u001b[K\u001b[22d\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   87% L1019\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[11;13H\r\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[11;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[11;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[14;1H\u001b[1L\u001b[1;24r\u001b[24;1H\u001b[K\u001b[14d\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   87% L1020\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[23;36H\u001b[?25l\u001b[7m19\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\u001b[?25l\u001b[1@ \b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@o\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[36mno\u001b[0m\u001b[39;49m\u001b[1@\u001b[1m\u001b[36mt\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m20\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;5H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;7H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[24d\u001b[?25lMark set\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[18;13H\u001b[?25l\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;37H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;36H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[16d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;7H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;5H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m19\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;36H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[23;37H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[10;5H\r\u001b[24d\u001b[?25lMark set\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[10;13H\u001b[?25l\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[10;47H\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[10;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[10;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;37H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[15;1H\u001b[1L\u001b[1;24r\u001b[15;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   87% L1020\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[12;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[12;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[12;9H\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[12;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[16;1H\u001b[1L\u001b[1;24r\u001b[24;1H\u001b[K\u001b[16d\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   87% L1021\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams = []\u001b[K\u001b[3;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit teams\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Unit Rules\"\u001b[39;49m:\u001b[K\u001b[6;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[7;5H        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\u001b[K\u001b[8;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Unit)\"\u001b[39;49m)\u001b[10;14H\u001b[1m\u001b[36meturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule unit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Terrain Rules\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[14;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[16;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Terrain)\"\u001b[39;49m)\u001b[17;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule terrain\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\t\t\b== \u001b[32m\"Save Map\"\u001b[39;49m:\u001b[K\u001b[20;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = {\u001b[32m\"Map Name\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m:\u001b[32m\"\"\u001b[39;49m,\u001b[32m\"type\"\u001b[39;49m:\u001b[32m\"str 15\"\u001b[39;49m}}\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"save map\"\u001b[39;49m)\r\n\u001b[K\u001b[23;30H\u001b[7m5% L101\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"save map\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Back\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\u001b[K\u001b[7;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_teams\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[10;14H\u001b[1m\u001b[36maise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.remove(opt)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\u001b[17;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\t\b\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[20;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\n\u001b[C\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m20\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;16H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25l\u001b[33mopt\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\u001b[?25lopt\u001b[K\t\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25l\u001b[33mopt\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\u001b[?25lopt ==\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32m\"                                                             \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[13;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[32m    #                                                                           \u001b[39;49m\r\n\u001b[32m    def process_edit_unit(self, opt):                                           \u001b[39;49m\r\n\u001b[32m        if opt not in self.choices:                                             \u001b[39;49m\r\n\u001b[32m            raise Exception(\"\u001b[39;49mInvalid option.\u001b[32m\")                                  \u001b[39;49m\r\n\u001b[32m        self.choices = []                                                       \u001b[39;49m\r\n\u001b[32m        x,y = self.action[0]                                                    \u001b[39;49m\r\n\u001b[13;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lAuto-saving...\u001b[13;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[13;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[13;21H\u001b[?25l\u001b[32mD\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mD\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[A\t\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[K\n\u001b[K\n\u001b[?25l    \u001b[31m#                                                                           \u001b[39;49m\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\r\n            \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n        \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\u001b[13;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[?25llsel\u001b[1@f\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@e\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@n\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36msel\u001b[0m\u001b[39;49m\u001b[1@\u001b[1m\u001b[36mf\u001b[0m\u001b[39;49m\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[22;9H\u001b[?25lx,y\u001b[13;49H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\r\t\t\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[13;51H\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[15;1H\u001b[1L\u001b[1;24r\u001b[15;1H\u001b[K\u001b[23;37H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[14;13H\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[16;1H\u001b[1L\u001b[1;24r\u001b[16;1H\u001b[K\u001b[23;37H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[15;13H\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32m\")                                           \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[15;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[15;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32me\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32md\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mi\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m \"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ma\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ms\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m\"\u001b[39;49m)\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mm\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ms\"\u001b[39;49m)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[15;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[15;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[15;49H\u001b[1;22r\u001b[19;1H\u001b[1L\u001b[1;24r\u001b[19;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   87% L1024\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[16;13H\r\t\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\b\b\b\b\u001b[?25l\u001b[33mopt\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\u001b[?25lopt ==\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32m\"                                                             \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[16;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mD\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[A\t\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[23;30H\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\r\t\t\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[16;51H\u001b[?25l>\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[18;1H\u001b[1L\u001b[1;24r\u001b[18;1H\u001b[K\u001b[23;37H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[17;13H\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"                                            \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[17;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[32m    #                                                                           \u001b[39;49m\r\n\u001b[32m    def process_edit_unit(self, opt):                                           \u001b[39;49m\r\n\u001b[17;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lAuto-saving...\u001b[17;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[17;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[17;38H\u001b[?25l\u001b[32md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[17;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\u001b[17;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[17;43H\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[17;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[17;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[K\n\u001b[K\n\u001b[?25l    \u001b[31m#                                                                           \u001b[39;49m\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\u001b[17;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[17d\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams = []\u001b[K\u001b[3;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit teams\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Unit Rules\"\u001b[39;49m:\u001b[K\u001b[6;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[7;5H        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\u001b[K\u001b[8;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Unit)\"\u001b[39;49m)\u001b[10;14H\u001b[1m\u001b[36meturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule unit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Terrain Rules\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[14;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\u001b[15;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Terrain)\"\u001b[39;49m)\u001b[K\u001b[17;37H\u001b[32mrule terrain\"\u001b[39;49m)\r\n\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Save Map\"\u001b[39;49m:\u001b[20;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = {\u001b[32m\"Map Name\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m:\u001b[32m\"\"\u001b[39;49m,\u001b[32m\"type\"\u001b[39;49m:\u001b[32m\"str 15\"\u001b[39;49m}}\u001b[21;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"save map\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[23;30H\u001b[7m5% L1011\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"save map\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Back\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\u001b[K\u001b[7;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_teams\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[10;14H\u001b[1m\u001b[36maise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.remove(opt)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Done\"\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams) == 0:\u001b[14;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(opt)\u001b[K\u001b[15;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit teams\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Done\"\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams) > 0:\u001b[17;37H\u001b[32medit\"\u001b[39;49m)\u001b[K\r\n\n\u001b[K\n\u001b[K\u001b[21;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[22;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[23;30H\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m20\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[23;37H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lei\u001b[1@f\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;10H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36meli\u001b[0m\u001b[39;49m\u001b[1@\u001b[1m\u001b[36mf\u001b[0m\u001b[39;49m\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;11H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lCloses \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Done\"\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams) > 0:\u001b[18;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[20;1H\u001b[1L\u001b[1;24r\u001b[24;1H\u001b[K\u001b[20d\u001b[K\u001b[23;37H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[19;13H\r\n\n\n\n\n\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[19;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[19;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[K\u001b[19;13H\r\n\n\n\n\n\u001b[?25l(No changes need to be saved)\u001b[19;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[K\u001b[19;13H\u001b[?25ls\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25lsel\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\r\u001b[K\u001b[19;13H\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\u001b[?25l\u001b[33mt\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\b\u001b[K\t\b\b\b\b\u001b[?25lt\u001b[K\u001b[C\u001b[?12l\u001b[?25h\u001b[?12;25h\b\r\u001b[K\u001b[19;13H\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[20;1H\u001b[1L\u001b[1;24r\u001b[19;1H\u001b[K\n\u001b[?25l            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams.append()\u001b[K\n\n\n\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[19;13H\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\u001b[?25l\u001b[33mt\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\r\n\n\n\n\n\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[19;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[19;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[K\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams = []\u001b[K\u001b[3;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit teams\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Unit Rules\"\u001b[39;49m:\u001b[K\u001b[6;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[7;5H        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\u001b[K\u001b[8;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Unit)\"\u001b[39;49m)\u001b[10;14H\u001b[1m\u001b[36meturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule unit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Terrain Rules\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[14;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\u001b[15;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Terrain)\"\u001b[39;49m)\u001b[K\u001b[17;37H\u001b[32mrule terrain\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Save Map\"\u001b[39;49m:\u001b[K\u001b[20;18Hchoices = {\u001b[32m\"Map Name\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m:\u001b[32m\"\"\u001b[39;49m,\u001b[32m\"type\"\u001b[39;49m:\u001b[32m\"str 15\"\u001b[39;49m}}\u001b[21;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"save map\"\u001b[39;49m)\u001b[23;30H\u001b[7m5% L1011\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;18H\u001b[?25lchoices = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[3;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit unit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Terrain\"\u001b[39;49m:\u001b[K\u001b[8;13H\u001b[4P\t\t = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[9;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\u001b[10;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[K\u001b[11;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit terrain\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Edit Teams\"\u001b[39;49m:\u001b[14;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Red\"\u001b[39;49m,\u001b[32m\"Blue\"\u001b[39;49m,\u001b[32m\"Green\"\u001b[39;49m,\u001b[32m\"Yellow\"\u001b[39;49m,\u001b[32m\"Cyan\"\u001b[39;49m,\r\n\t\t            \u001b[32m\"Magenta\"\u001b[39;49m,\u001b[32m\"Done\"\u001b[39;49m]\u001b[16;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x,y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles_xy:\u001b[K\u001b[17;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y):\u001b[K\u001b[18;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(x,y)\r\n\t        \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[20;13H    \u001b[33mt.team\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[21;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams = []\u001b[K\u001b[22;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit teams\"\u001b[39;49m)\u001b[23;30H\u001b[7m3% L992 \u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Repeat\"\u001b[39;49m:\u001b[K\u001b[5;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\r\n\t        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\u001b[8;13H\u001b[33mkind\u001b[39;49m,\u001b[33mthing\u001b[39;49m,team = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit\u001b[9;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m kind == \u001b[32m\"terrain\"\u001b[39;49m:\u001b[K\u001b[10;22Haction.append(thing)\u001b[11;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m team:\u001b[K\n\b\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(team)\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [(x,y)]\u001b[14;13H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"draw terrain\"\u001b[39;49m)\u001b[K\u001b[15;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m kind == \u001b[32m\"unit\"\u001b[39;49m:\u001b[K\u001b[16;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(thing)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [team]\u001b[K\r\n\t\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_unit_team(team)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Unit\"\u001b[39;49m:\u001b[21;18Hchoices = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[22;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\u001b[23;30H\u001b[7m1% L973\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m# in the same system as the rules so that we can take advantage of          \u001b[39;49m\r\n\u001b[3;5H\u001b[31m# the \"make\" constructors.                                                  \u001b[39;49m\r\n\u001b[4;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[6;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = coord\u001b[K\r\n\t\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = [(x,y)]\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Repeat\"\u001b[39;49m,\u001b[32m\"Place Unit\"\u001b[39;49m, \u001b[32m\"Place Terrain\"\u001b[39;49m,\u001b[32m\"Edit Teams\"\u001b[39;49m,\u001b[12;21H    \u001b[32m\"Unit Rules\"\u001b[39;49m, \u001b[32m\"Terrain Rules\"\u001b[39;49m,\u001b[32m\"Save Map\"\u001b[39;49m,\u001b[32m\"Back\"\u001b[39;49m]\r\n\u001b[K\n\t\u001b[8P\t\t\t\u001b[32medit menu\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[16;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_menu\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m,opt):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[19;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\u001b[K\u001b[23;30H\u001b[7m0% L954\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l        \u001b[33mt2\u001b[39;49m = start_hp[1]-end_hp[1]\u001b[K\u001b[3;5H        \u001b[33ma1\u001b[39;49m = widgets.HPAlert(6,1,d.team.color,start_hp[0],end_hp[0],0)\u001b[K\u001b[4;5H        \u001b[33ma2\u001b[39;49m = widgets.HPAlert(6,1,a.team.color,start_hp[1],end_hp[1],t1)\r\n\t    \u001b[33mx1\u001b[39;49m,\u001b[33my1\u001b[39;49m = x,y\u001b[K\u001b[6;13H\u001b[33mx2\u001b[39;49m,\u001b[33my2\u001b[39;49m = ox,oy\u001b[K\r\n\t    \u001b[33ma1.time\u001b[39;49m = t1+t2+50\r\n\t    \u001b[33ma2.time\u001b[39;49m = t1+t2+50\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts += [(a1,\u001b[32m\"tr\"\u001b[39;49m),(a2,\u001b[32m\"bl\"\u001b[39;49m)]\u001b[10;13H\u001b[33ma.ready\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\u001b[K\u001b[12;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\u001b[K\r\n\n\u001b[K\u001b[16;5H    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[17;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start_over()\r\n\u001b[K\n\u001b[K\u001b[20;5H\u001b[31m# This is the root state for the editor. We put the editor states           \u001b[39;49m\r\n\u001b[21;5H\u001b[31m# in the same system as the rules so that we can take advantage of          \u001b[39;49m\r\n\u001b[22;5H\u001b[31m# the \"make\" constructors.                                                  \u001b[39;49m\r\n\u001b[23;29H\u001b[7m78% L935\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\n\u001b[K\u001b[4;5H\u001b[?25l\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_attacking\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[7;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = coord\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m coord \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[11;13H\u001b[33mox\u001b[39;49m,\u001b[33moy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[-2]\u001b[12;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append((ox,oy))\u001b[13;13H\u001b[33ma\u001b[39;49m, \u001b[33md\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(ox,oy), \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[15;13H\u001b[33mstart_hp\u001b[39;49m = d.hp, a.hp\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action_attack((ox,oy),(x,y))\u001b[17;13H\u001b[33mend_hp\u001b[39;49m = d.hp, a.hp\u001b[K\u001b[19;13H\u001b[31m# Build the animation.                                              \u001b[39;49m\r\n\u001b[20;5H        \u001b[33mt1\u001b[39;49m = start_hp[0]-end_hp[0]\u001b[K\u001b[21;5H        \u001b[33mt2\u001b[39;49m = start_hp[1]-end_hp[1]\u001b[K\u001b[22;5H        \u001b[33ma1\u001b[39;49m = widgets.HPAlert(6,1,d.team.color,start_hp[0],end_hp[0],0)\u001b[K\u001b[23;30H\u001b[7m7% L916\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[33munit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\r\n\t\u001b[33mdropper\u001b[39;49m = \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[-1].split()[0])\u001b[4;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m coord \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[5;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(coord)\u001b[K\r\n\t    \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(*coord)\u001b[K\u001b[7;13H\u001b[33mt.unit\u001b[39;49m = unit.carrying.pop(dropper)\r\n\t    \u001b[33mt.unit.ready\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.pop()\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]\u001b[K\r\n\t\u001b[33mme\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\r\n\t\u001b[33mi\u001b[39;49m = 0\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m me.carrying:\u001b[K\u001b[17;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"%d %s %d%%\"\u001b[39;49m%(i, u.name, u.hp))\u001b[18;13H\u001b[33mi\u001b[39;49m += 1\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Done\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"unload\"\u001b[39;49m)\r\n\u001b[K\n\u001b[K\u001b[23;30H\u001b[7m6% L897\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (tx,ty) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [(x-1,y),(x,y+1),(x+1,y),(x,y-1)]:\r\n\t        t = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(tx,ty)\u001b[5;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.name \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.terrain \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t.unit:\u001b[6;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append((tx,ty))\u001b[7;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices) == 0:\u001b[K\u001b[8;13H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"unload\"\u001b[39;49m)\r\n\t\u001b[4@\u001b[10;13H\u001b[4@\u001b[10;29Happend(opt)\r\n\t\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"unload drop\"\u001b[39;49m)\r\n\u001b[K\n\u001b[K\n\u001b[K\u001b[15;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_unload_drop\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[K\u001b[18;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]\u001b[K\r\n\t\u001b[33munit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\r\n\t\u001b[33mdropper\u001b[39;49m = \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[-1].split()[0])\u001b[23;30H\u001b[7m4% L878\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Cancel\"\u001b[39;49m:\u001b[K\u001b[3;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start_over()\u001b[K\r\n\u001b[K\u001b[5;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_unload\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[8;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Nope.\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\t\u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]\u001b[K\r\n\tt = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[K\r\n\tunit = t.unit\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Done\"\u001b[39;49m:\u001b[14;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[15;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[16;5H        unit.ready = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\u001b[K\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\r\n\t    u = unit.carrying[\u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(opt.split()[0])]\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (tx,ty) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [(x-1,y),(x,y+1),(x+1,y),(x,y-1)]:\u001b[23;30H\u001b[7m3% L859\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l            t.properties.remove(\u001b[32m\"hq\"\u001b[39;49m)\u001b[3;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m old:\u001b[K\n\b\b\b\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m old.active:\u001b[5;5H                        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defeated(old)\u001b[K\u001b[6;5H                    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tt \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles():\r\n\t                    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tt.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m old:\u001b[8;13H                    tt.team = unit.team\r\n\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\u001b[K\r\n\u001b[K\n\t\u001b[31m# Wait.                                                                 \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Wait\"\u001b[39;49m:\u001b[K\u001b[15;13H\u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[-1]\r\n\t\t = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[17;13Hunit.ready = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[19;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Cancel\"\u001b[39;49m:\u001b[K\u001b[22;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start_over()\u001b[K\u001b[23;30H\u001b[7m2% L840\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[-1]\u001b[K\u001b[3;13Ht = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[4;13Hunit = t.unit\u001b[K\u001b[5;13Hunit.ready = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[7;13H\u001b[31m# Capturing.                                                        \u001b[39;49m\r\n\u001b[8;13Hstart_hp = t.hp\u001b[K\u001b[9;13Ht.hp -= \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(unit.hp*.5)\u001b[10;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.hp <= 0:\u001b[K\u001b[11;13H    t.hp = 0\u001b[K\u001b[12;13Hcol = t.team.color \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.team \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m \u001b[32m\"w\"\u001b[39;49m\r\n\t    a = widgets.HPAlert(6,1,col,start_hp,t.hp,0)\u001b[K\r\n\t    a.time = (start_hp - t.hp) + 50\u001b[15;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts += [(a,\u001b[32m\"tr\"\u001b[39;49m)]\u001b[16;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.hp == 0:\u001b[K\u001b[17;13H    t.hp = 100\u001b[K\u001b[18;13H    old = t.team\u001b[K\u001b[19;13H    t.team = unit.team\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"hq\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m t.properties:\r\n\t            t.properties.remove(\u001b[32m\"hq\"\u001b[39;49m)\u001b[22;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m old:\u001b[K\u001b[23;30H\u001b[7m0% L821\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Attack\"\u001b[39;49m:\u001b[K\u001b[4;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\u001b[K\u001b[6;13H\u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[-1]\u001b[7;13Hu = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\r\n\u001b[K\u001b[9;13H\u001b[31m# Get possible targets.                                             \u001b[39;49m\r\n\u001b[10;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m px,py \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_range((x,y),u.rng[0],u.rng[1]):\r\n\t\ta = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(px,py)\u001b[12;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m a \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m a.allied(u):\u001b[K\u001b[13;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append((px,py))\u001b[K\r\n\u001b[K\u001b[15;19Hction.append(opt)\u001b[K\u001b[16;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"attacking\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Capture\"\u001b[39;49m:\u001b[19;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\u001b[K\u001b[21;13H\u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[-1]\u001b[K\u001b[22;13Ht = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[23;29H\u001b[7m69% L802\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\r\n\u001b[K\u001b[4;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_action\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[7;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Unload\"\u001b[39;49m:\u001b[K\u001b[10;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\u001b[K\u001b[12;13H\u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]\u001b[K\u001b[13;13Hme = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\u001b[14;13Hi = 0\n\b\b\b\b\b\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m me.carrying:\u001b[K\u001b[16;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"%d %s %d%%\"\u001b[39;49m%(i, u.name, u.hp))\r\n\t\ti+=1\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Done\"\u001b[39;49m)\u001b[19;18Haction.append(opt)\u001b[20;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"unload\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Attack\"\u001b[39;49m:\u001b[K\u001b[23;30H\u001b[7m8% L783\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\u001b[3;5H\u001b[?25l\u001b[31m# State: main menu (expected, menu option)                                  \u001b[39;49m\r\n\u001b[4;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_building\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\u001b[5;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[31m# Leave the menu.                                                       \u001b[39;49m\r\n\u001b[9;20H\u001b[32mCancel\u001b[39;49m\u001b[10;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start_over()\r\n\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\u001b[14;13Hteam = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[15;13H\u001b[33munit\u001b[39;49m, cost = opt.rsplit(\u001b[35mNone\u001b[39;49m,1)\u001b[16;13Hu = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_unit({\u001b[32m\"name\"\u001b[39;49m:unit})\u001b[K\u001b[17;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.add_unit(u, team, x, y)\u001b[18;13Hteam.cash -= \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(cost[1:])\u001b[K\u001b[19;13Hu.ready = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[20;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[K\u001b[21;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\r\n\u001b[K\u001b[23;30H\u001b[7m6% L764\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Back\"\u001b[39;49m:\u001b[3;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start_over()\u001b[K\r\n\u001b[K\n\t\u001b[31m# End my turn.                                                          \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"End Turn\"\u001b[39;49m:\u001b[K\u001b[7;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end_turn()\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Undo\"\u001b[39;49m:\u001b[K\u001b[11;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.undo()\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Start Over\"\u001b[39;49m:\u001b[K\u001b[14;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.undo(\u001b[35mTrue\u001b[39;49m)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Surrender\"\u001b[39;49m:\u001b[K\u001b[17;18Hdefeated(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team())\u001b[18;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[K\u001b[19;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\r\n\u001b[K\n\u001b[K\u001b[22;5H\u001b[31m# State: main menu (expected, menu option)                                  \u001b[39;49m\r\n\u001b[23;30H\u001b[7m5% L745\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m t.properties \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.properties\u001b[3;13H    \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m team.allied(t.team)):\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Capture\"\u001b[39;49m)\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(u.carrying) > 0):\u001b[K\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Unload\"\u001b[39;49m)\r\n\u001b[K\u001b[8;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.move_unit((ox,oy),(x,y))\u001b[9;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices += [\u001b[32m\"Wait\"\u001b[39;49m,\u001b[32m\"Cancel\"\u001b[39;49m]\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"action\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[31m# If the coord was out of range, undo everything.                       \u001b[39;49m\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start_over()\r\n\u001b[K\u001b[15;5H\u001b[31m# State: main menu (expected, menu option)                                  \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_main_menu\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[18;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[31m# Leave the menu.                                                       \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Back\"\u001b[39;49m:\u001b[22;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start_over()\u001b[K\u001b[23;30H\u001b[7m4% L726\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[33mmoved\u001b[39;49m = (x,y)!=(ox,oy)\u001b[K\u001b[3;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m moved:\u001b[K\r\n\t\t\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(ox,oy)\u001b[K\u001b[5;13H    \u001b[33mt.hp\u001b[39;49m = 100\u001b[K\r\n\u001b[K\u001b[7;13H\u001b[31m# Determine if a target is in range.                                \u001b[39;49m\r\n\u001b[8;13H\u001b[33mattackable\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[9;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m px,py \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_range((x,y),u.rng[0],u.rng[1]):\u001b[10;13H    \u001b[33ma\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(px,py\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m a \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m a.allied(u):\r\n\t            \u001b[33mattackable\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"indirect\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.properties \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m moved:\r\n\t\t\u001b[33mattackable\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[15;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m attackable:\u001b[K\u001b[16;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Attack\"\u001b[39;49m)\r\n\u001b[K\u001b[18;13H\u001b[31m# If the cell you are on is capturable, add that option to          \u001b[39;49m\r\n\u001b[19;13H\u001b[31m# the list.                                                         \u001b[39;49m\r\n\t    \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m t.properties \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.properties\u001b[22;13H    \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m team.allied(t.team)):\u001b[23;30H\u001b[7m2% L707\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\u001b[3;13H\u001b[?25l\u001b[31m# Join units with the same name.                                    \u001b[39;49m\r\n\u001b[4;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (utarg \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m utarg.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m team \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m\r\n\t\t\butarg.name == u.name \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m utarg \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u):\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(ox,oy)\u001b[7;13H    \u001b[33mstart_hp\u001b[39;49m = utarg.hp\u001b[K\u001b[8;13H    \u001b[33mutarg.hp\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(100, utarg.hp+u.hp)\u001b[9;13H    \u001b[33ma\u001b[39;49m = widgets.HPAlert(6,1,utarg.team.color,start_hp,utarg.hp,0)\u001b[10;18H\u001b[33m.time\u001b[39;49m = (utarg.hp - start_hp) + 50\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts += [(a,\u001b[32m\"tr\"\u001b[39;49m)]\r\n\t\t\u001b[33mutarg.ready\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[13;13H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\u001b[K\u001b[14;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (utarg \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m utarg \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[32m\"carry\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m utarg.properties):\u001b[15;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(ox,oy)\u001b[33m.unit\u001b[39;49m = \u001b[35mNone\u001b[39;49m\r\n\t\tutarg.carrying.append(u)\u001b[K\r\n\t\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\r\n\u001b[K\u001b[19;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\u001b[K\u001b[21;13H\u001b[33mmoved\u001b[39;49m = (x,y)!=(ox,oy)\u001b[K\u001b[22;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m moved:\u001b[K\u001b[23;30H\u001b[7m0% L688\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"main menu\"\u001b[39;49m)\r\n\u001b[K\n\u001b[K\u001b[5;5H\u001b[31m# State    : Moving (expected input, tuple)                                 \u001b[39;49m\r\n\u001b[6;5H\u001b[31m# Expected : Tuple in range                                                 \u001b[39;49m\r\n\u001b[7;5H\u001b[31m# Next step: If in range, move                                              \u001b[39;49m\r\n\u001b[8;5H\u001b[31m#            If out of range, cancel                                        \u001b[39;49m\r\n\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_moving\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[K\u001b[11;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = coord\u001b[K\r\n\t\u001b[33mox\u001b[39;49m,\u001b[33moy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\t\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(ox,oy)\u001b[K\r\n\t\u001b[33mteam\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[K\r\n\t\u001b[33mutarg\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\r\n\u001b[K\n\t\u001b[31m# If coord was in range, move the unit and return possible actions.     \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m team \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.ready:\u001b[20;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append((x,y))\r\n\u001b[K\u001b[22;13H\u001b[31m# Join units with the same name.                                    \u001b[39;49m\r\n\u001b[23;29H\u001b[7m58% L669\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[31m# moving the unit will be stopped at the process_moving step.           \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\n\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[5;5H        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (qx,qy) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_move_range(x,y):\u001b[K\u001b[6;5H            \u001b[33munit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(qx,qy)\u001b[K\u001b[7;5H            \u001b[33mkeep\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[8;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m unit:\u001b[K\u001b[9;5H                \u001b[33mkeep\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m unit \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m u: \u001b[33mkeep\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[11;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m unit.name == u.name: keep = \u001b[35mTrue\u001b[39;49m\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[32m\"carry\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m unit.properties \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.name \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m unit.carry\r\n\t                \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(unit.carrying) < unit.capacity):\r\n\t                \u001b[33mkeep\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m keep:\u001b[K\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append((qx,qy))\u001b[17;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"moving\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[31m# Whatever else happens, main menu.                                     \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Back\"\u001b[39;49m,\u001b[32m\"End Turn\"\u001b[39;49m,\u001b[32m\"Surrender\"\u001b[39;49m,\u001b[32m\"Undo\"\u001b[39;49m,\u001b[32m\"Start Over\"\u001b[39;49m]\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"main menu\"\u001b[39;49m)\r\n\u001b[K\u001b[23;30H\u001b[7m7% L650\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,y = coord\r\n\tt = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\r\n\tu = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\r\n\t\u001b[33mteam\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[K\r\n\u001b[K\n\t\u001b[31m# If no unit, check for terrain                                         \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append((x,y))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[32m\"build\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m t.properties \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m team:\u001b[11;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[12;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m t.build:\u001b[K\r\n\t\t\u001b[33mp\u001b[39;49m = t.build[b]\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m p <= team.cash:\u001b[K\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"%s $%d\"\u001b[39;49m%(b,p))\u001b[16;13H\u001b[8P\t\t\t\u001b[32m\"Cancel\"\u001b[39;49m)\n\b\b\b\b\b\u001b[32mbuilding\"\u001b[39;49m)\u001b[19;11H\u001b[31mEven if the unit isn't ours (or isn't ready) we still enter the\u001b[39;49m\r\n\t\u001b[31m# \"move\" state so that we can see its movement range. Actually          \u001b[39;49m\r\n\t\u001b[31m# moving the unit will be stopped at the process_moving step.           \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\u001b[23;30H\u001b[7m5% L631\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit menu\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_edit_menu(c)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_edit_unit(c)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_edit_terrain(c)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"unit team\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_unit_team(c)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"terrain team\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_terrain_team(c)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"draw terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_draw_terrain(c)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"save map\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_save_map(c)\u001b[K\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"rule unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_rule_unit(c)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"rule terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_rule_terrain(c)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"page unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_page_unit(c)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"page terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_page_terrain(c)\r\n\u001b[K\n\u001b[K\u001b[15;5H\u001b[31m# State    : Play (expected input, tuple)                                   \u001b[39;49m\r\n\u001b[16;5H\u001b[31m# Expected : Tuple (unit or friendly factory)                               \u001b[39;49m\r\n\u001b[17;5H\u001b[31m# Next step: If unit: coordinates of range of unit                          \u001b[39;49m\r\n\u001b[18;5H\u001b[31m#            If factory: list of possible buildables                        \u001b[39;49m\r\n\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_play\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[K\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,y = coord\u001b[23;30H\u001b[7m2% L612\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;29H\u001b[?25l\u001b[32maction\"\u001b[39;49m   : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\u001b[3;29H\u001b[32mattacking\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\u001b[K\u001b[4;29H\u001b[32mbuilding\"\u001b[39;49m : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\r\n\u001b[K\u001b[6;29H\u001b[32medit\"\u001b[39;49m     : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\u001b[K\u001b[7;29H\u001b[32medit menu\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\u001b[8;29H\u001b[32medit unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\u001b[9;29H\u001b[32medit terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\u001b[10;29H\u001b[32munit team\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\u001b[11;29H\u001b[32mdraw terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\u001b[K\u001b[12;29H\u001b[32mterrain team\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"save map\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_EDITOR\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"rule unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[15;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"rule terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\u001b[16;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"page unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_EDITOR\u001b[K\u001b[17;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"page terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_EDITOR\u001b[K\r\n\u001b[K\u001b[19;5H    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m: \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"No such state.\"\u001b[39;49m)\r\n\u001b[K\u001b[21;5H\u001b[31m# This processes input of two types: coordinates and strings.               \u001b[39;49m\r\n\u001b[22;5H\u001b[31m# A string is the input from a menu, such as \"attack\" or \"wait\".            \u001b[39;49m\r\n\u001b[23;29H\u001b[7m47% L574\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m at \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]:\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m ot \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]:\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m at.allied(ot):\u001b[K\u001b[5;21H\u001b[33mwinner\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m winner:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.winners = [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]\r\n\t    \u001b[31m#self.state = \"over\"                                                \u001b[39;49m\r\n\u001b[K\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"play\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[12;5H\u001b[31m# This sets the new state and returns the appropriate code                  \u001b[39;49m\r\n\u001b[13;5H\u001b[31m# to the caller for what kind of input should come next.                    \u001b[39;49m\r\n\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtransition\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, new_state):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = new_state\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m   \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"play\"\u001b[39;49m     : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\u001b[K\u001b[17;29H\u001b[32mmain menu\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"moving\"\u001b[39;49m   : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\u001b[19;11H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"unload\"\u001b[39;49m   : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"unload drop\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\u001b[21;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"action\"\u001b[39;49m   : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\u001b[22;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"attacking\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\u001b[K\u001b[23;30H\u001b[7m5% L555\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m# checkpoint.                                                               \u001b[39;49m\r\n\u001b[3;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mend_turn\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state != \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action != []:\u001b[5;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Can't end right now\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units:\u001b[K\u001b[9;13H\u001b[33mu.ready\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m].append([acts \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (cp,acts) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history])\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.end_turn()\u001b[12;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[K\u001b[13;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[K\u001b[14;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[15;14Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\u001b[K\n\t\u001b[31m# Finally, figure out if we've won. If we have, then put the map in     \u001b[39;49m\r\n\t\u001b[31m# \"finished\" mode and allow the player to leave. The game is only       \u001b[39;49m\r\n\t\u001b[31m# won when the final player ends their turn.                            \u001b[39;49m\r\n\t\u001b[33mwinner\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m at \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]:\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m ot \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]:\u001b[23;30H\u001b[7m4% L536\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\u001b[3;5H\u001b[?25l\u001b[31m# Mark the team as defeated. This destroys all of their units, sets their   \u001b[39;49m\r\n\u001b[4;5H\u001b[31m# funds to zero, and marks them as inactive, unable to take future turns.   \u001b[39;49m\r\n\u001b[5;5H\u001b[31m# Properties are still left intact - capturing the enemy HQ will reward     \u001b[39;49m\r\n\u001b[6;5H\u001b[31m# you by giving you all of the properties belonging to the team.            \u001b[39;49m\r\n\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdefeated\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, team):\r\n\t\u001b[33mteam.active\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (tx,ty) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles_xy():\r\n\t    \u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(tx,ty)\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team == team:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(tx,ty)\u001b[13;14Hgrid.units = [u \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m team]\r\n\u001b[K\n\tm = \u001b[32m\"%s has been defeated!\"\u001b[39;49m%(team.name)\u001b[K\r\n\ta = widgets.Alert(\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(m)+1,1,m,team.color)\r\n\ta.time = 50\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append((a,\u001b[32m\"c\"\u001b[39;49m))\u001b[K\r\n\u001b[K\u001b[20;5H\u001b[31m# When we end the turn, we flush the history buffer and save a new          \u001b[39;49m\r\n\u001b[21;5H\u001b[31m# checkpoint.                                                               \u001b[39;49m\r\n\u001b[22;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mend_turn\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\u001b[23;30H\u001b[7m2% L517\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[31m# Give the player their money.                                          \u001b[39;49m\r\n\u001b[3;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tile \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles():\u001b[K\u001b[4;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m t:\u001b[K\u001b[5;5H            \u001b[33mu\u001b[39;49m = tile.unit\u001b[K\u001b[6;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.hp < 100 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.name \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair:\u001b[K\u001b[7;5H                \u001b[33mu.hp\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(100,u.hp+tile.repair[u.name])\r\n\t        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t            \u001b[33mt.cash\u001b[39;49m += tile.cash\u001b[K\r\n\u001b[K\n\t\u001b[31m# Make the turn-start alert.                                            \u001b[39;49m\r\n\t\u001b[33mm1\u001b[39;49m = \u001b[32m\"%s: Day %d\"\u001b[39;49m%(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.name, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.day)\r\n\t\u001b[33mm2\u001b[39;49m = \u001b[32m\"%s - move out!\"\u001b[39;49m%t.name\u001b[K\r\n\t\u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(m1),\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(m2))+1\r\n\t\u001b[33ma\u001b[39;49m = widgets.Alert(w,2,m1+\u001b[32m\"\\n\"\u001b[39;49m+m2,t.color)\r\n\t\u001b[33ma.time\u001b[39;49m = 50\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append((a,\u001b[32m\"c\"\u001b[39;49m))\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[20;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[22;5H\u001b[31m# Mark the team as defeated. This destroys all of their units, sets their   \u001b[39;49m\r\n\u001b[23;30H\u001b[7m0% L498\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history) > 0:\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m total:\u001b[K\u001b[4;13H    \u001b[33mcp\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.restartcopy\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[7;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[33mcp\u001b[39;49m,\u001b[33maction\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.pop()\u001b[9;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = cp\u001b[K\u001b[10;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(cp)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"play\"\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_UNDO\u001b[K\r\n\u001b[K\u001b[16;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mstart_turn\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.restartcopy = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[K\r\n\u001b[K\n\t\u001b[31m# Give the player their money.                                          \u001b[39;49m\r\n\u001b[22;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tile \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles():\u001b[K\u001b[23;29H\u001b[7m39% L479\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mstart_over\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"play\"\u001b[39;49m\u001b[K\r\n\t\u001b[8P\u001b[5;14Hchoices\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_UNDO\r\n\u001b[K\u001b[9;5H\u001b[31m# When a move is completed and we return to the start state, we             \u001b[39;49m\r\n\u001b[10;5H\u001b[31m# change the checkpoint and save the move in our history.                   \u001b[39;49m\r\n\u001b[11;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mcommit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\u001b[12;14Hhistory.append((\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action))\u001b[13;14Haction = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"play\"\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[16;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\u001b[17;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"play\"\u001b[39;49m)\r\n\u001b[K\u001b[19;5H\u001b[31m# When we undo, we go back to a previous spot in the history.               \u001b[39;49m\r\n\u001b[20;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mundo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, total=\u001b[35mFalse\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history) > 0:\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m total:\u001b[K\u001b[23;30H\u001b[7m7% L460\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[33minfo3\u001b[39;49m = []\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action) > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.edit:\r\n\t    \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action) > 1:\r\n\t        \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]\u001b[K\r\n\t    \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[8;13H\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[9;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\u001b[K\u001b[10;5H            \u001b[33mcol\u001b[39;49m = u.team.color\u001b[K\u001b[11;5H            \u001b[33minfo3\u001b[39;49m = [(u.name,col+\u001b[32m\"!\"\u001b[39;49m),\r\n\t                 (\u001b[32m\"DEF +%d\"\u001b[39;49m%t.defense,col),\u001b[K\r\n\t                 (\u001b[32m\"HP %d%% %s\"\u001b[39;49m%(u.hp,dmg2),col)]\r\n\u001b[K\n\u001b[K\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report, info1, info2, info3\u001b[K\r\n\u001b[K\u001b[18;5H\u001b[31m# This sets the state back to start while also restoring the previous       \u001b[39;49m\r\n\t\b\b\u001b[31mcheckpoint of the world. When the controller gets CTRL_UNDO, it is\u001b[39;49m\u001b[20;5H\u001b[31m# supposed to set its camera's grid to the new one.                         \u001b[39;49m\r\n\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mstart_over\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[23;30H\u001b[7m6% L441\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\r\n\t\u001b[33mtcol\u001b[39;49m = \u001b[32m\"w\"\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t:\u001b[K\n\t\bt.team:\u001b[K\r\n\t\t\u001b[33mtcol\u001b[39;49m = t.team.color\u001b[K\u001b[7;13H\u001b[33minfo2\u001b[39;49m += [ (t.name,tcol),\u001b[K\u001b[8;13H           (\u001b[32m\"DEF +%d\"\u001b[39;49m%t.defense,tcol)]\u001b[9;13H\u001b[33mu\u001b[39;49m = t.unit\u001b[10;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\u001b[K\n\b\u001b[33mucol\u001b[39;49m = u.team.color\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.hp < 100:\u001b[K\u001b[13;21H\u001b[33minfo2\u001b[39;49m += [(\u001b[32m\"Capturing: %d%%\"\u001b[39;49m%t.hp,ucol)]\r\n\t\t\u001b[33minfo2\u001b[39;49m += [ (\u001b[32m\" \"\u001b[39;49m,\u001b[32m\"\"\u001b[39;49m),\u001b[15;28H(u.name,ucol+\u001b[32m\"!\"\u001b[39;49m),\r\n\t                   (\u001b[32m\"HP %d%% %s\"\u001b[39;49m%(u.hp,dmg1),ucol) ]\r\n\n\u001b[K\n\u001b[K\u001b[20;57H\u001b[4P\u001b[20;5H\u001b[4@\u001b[20;11H\u001b[31mInfo 3 is for the unit that is currently selected.\u001b[39;49m\u001b[21;5H    \u001b[33minfo3\u001b[39;49m = []\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action) > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.edit:\u001b[23;30H\u001b[7m4% L422\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l    \u001b[33mdef_unit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m atk_unit \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m def_unit:\r\n\t        \u001b[33ma_terrain\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(ax,ay)\u001b[5;13H    \u001b[33md_terrain\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\r\n\t\t\u001b[33mdist\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.dist((ax,ay),(x,y))\u001b[7;13H    \u001b[33mest\u001b[39;49m = atk_unit.simulate(def_unit.name,d_terrain)\r\n\t\t\u001b[33mdmg1\u001b[39;49m = \u001b[32m\"-%d%%\"\u001b[39;49m%est\u001b[K\u001b[9;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m est > def_unit.hp:\u001b[10;13H        \u001b[33mest\u001b[39;49m = def_unit.hp\r\n\t\t\u001b[33mdmg2\u001b[39;49m = \u001b[32m\"-%d%%\"\u001b[39;49m%(def_unit.simulate(atk_unit.name,a_terrain,\r\n\t\t                                  atk_unit.hp-est))\r\n\u001b[K\n\t\t\u001b[33mcounter\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"indirect\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m def_unit.properties: \u001b[33mcounter\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m def_unit.in_range(dist): \u001b[33mcounter\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m counter: \u001b[33mdmg2\u001b[39;49m = \u001b[32m\"-0%\"\u001b[39;49m\r\n\n\t\u001b[31m# Info 2 is for the intel on the hovering tile.                         \u001b[39;49m\r\n\t\u001b[33minfo2\u001b[39;49m = []\u001b[K\r\n\t\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\r\n\t\u001b[33mtcol\u001b[39;49m = \u001b[32m\"w\"\u001b[39;49m\u001b[K\u001b[23;30H\u001b[7m2% L403\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[33minfo1\u001b[39;49m = [(\u001b[32m\"Map Editing\"\u001b[39;49m,\u001b[32m\"w!\"\u001b[39;49m)]\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\u001b[K\u001b[4;13H\u001b[33mmoney\u001b[39;49m = \u001b[32m\"$%d\"\u001b[39;49m%t.cash\u001b[K\u001b[5;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.cash >= 10000:\u001b[K\r\n\t\t\u001b[33mmoney\u001b[39;49m = \u001b[32m\"$%dK\"\u001b[39;49m%(t.cash/1000)\u001b[K\u001b[7;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.cash >= 1000000:\u001b[K\r\n\t\t\u001b[33mmoney\u001b[39;49m = \u001b[32m\"$RICH\"\u001b[39;49m\u001b[K\u001b[9;13H\u001b[33mspace\u001b[39;49m = \u001b[32m\" \"\u001b[39;49m*(14-\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(t.name[:8])-\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(money))\u001b[10;13H\u001b[33mcol\u001b[39;49m = t.color\u001b[K\u001b[11;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t.active:\u001b[K\r\n\t\t\u001b[33mcol\u001b[39;49m = \u001b[32m\"x!\"\u001b[39;49m\u001b[K\u001b[13;13Hinfo1.append( (\u001b[32m\"%s%s%s\"\u001b[39;49m%(t.name[:8], space, money), col) )\r\n\u001b[K\n\t\u001b[31m# If attack is in the action, we need to get the estimated              \u001b[39;49m\r\n\t\u001b[31m# damage to show the player.                                            \u001b[39;49m\r\n\t\u001b[33mdmg1\u001b[39;49m, \u001b[33mdmg2\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m,\u001b[32m\"\"\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"Attack\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\r\n\t    \u001b[33max\u001b[39;49m,\u001b[33may\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]\u001b[K\r\n\t    \u001b[33matk_unit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(ax,ay)\r\n\t    \u001b[33mdef_unit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m atk_unit \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m def_unit:\u001b[23;30H\u001b[7m1% L384\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[33ma_alive\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[33md_alive\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (tx,ty) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles_xy():\u001b[5;13H\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(tx,ty)\u001b[6;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m atk_unit.team: \u001b[33ma_alive\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t\t\bu \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m def_unit.team: \u001b[33md_alive\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m a_alive: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defeated(atk_unit.team)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m d_alive: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defeated(def_unit.team)\u001b[K\r\n\u001b[K\u001b[11;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[12;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mpump_info\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.edit:\u001b[K\u001b[14;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start_turn()\r\n\t\u001b[33mreport\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = []\u001b[K\r\n\u001b[K\n\t\u001b[31m# Info 1 is global team information.                                    \u001b[39;49m\r\n\t\u001b[33minfo1\u001b[39;49m = [ (\u001b[32m\"Day %d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.day,\u001b[32m\"w!\"\u001b[39;49m)]\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.edit:\u001b[K\u001b[21;13H\u001b[33minfo1\u001b[39;49m = [(\u001b[32m\"Map Editing\"\u001b[39;49m,\u001b[32m\"w!\"\u001b[39;49m)]\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\u001b[K\n\b\b\b\b\b\u001b[7m29% L365\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_unit.hp <= 0: \u001b[33mcounter\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"indirect\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m def_unit.properties: \u001b[33mcounter\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m def_unit.in_range(dist): \u001b[33mcounter\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m counter:\u001b[K\u001b[7;13H\u001b[33matk_unit.hp\u001b[39;49m -= def_unit.simulate(atk_unit.name, a_terrain)\r\n\u001b[K\n\t\u001b[31m# Remove destroyed units from grid and prevent HP from falling into     \u001b[39;49m\r\n\t\u001b[31m# the negatives.                                                        \u001b[39;49m\r\n\u001b[11;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m atk_unit.hp <= 0:\u001b[K\u001b[12;5H        \u001b[33matk_unit.hp\u001b[39;49m = 0\u001b[K\r\n\t    \u001b[33ma_terrain.hp\u001b[39;49m = 100\u001b[K\u001b[14;18Hgrid.remove_unit(ax,ay)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_unit.hp <= 0:\r\n\t    \u001b[33mdef_unit.hp\u001b[39;49m = 0\u001b[17;13H\u001b[33md_terrain.hp\u001b[39;49m = 100\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(dx,dy)\u001b[K\r\n\u001b[K\n\t\u001b[31m# Check and see if the last unit died.                                  \u001b[39;49m\r\n\t\u001b[33ma_alive\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[33md_alive\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[23;30H\u001b[7m8% L346\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\n\u001b[K\u001b[4;5H\u001b[?25l\u001b[31m# This is the attack action. This is what actually has side effects.        \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34maction_attack\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, atk_pos, def_pos):\r\n\t\u001b[33max\u001b[39;49m,\u001b[33may\u001b[39;49m = atk_pos\r\n\t\u001b[33mdx\u001b[39;49m,\u001b[33mdy\u001b[39;49m = def_pos\u001b[K\r\n\t\u001b[33matk_unit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(ax,ay)\r\n\t\u001b[33mdef_unit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(dx,dy)\u001b[K\r\n\t\u001b[33mdist\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.dist((ax,ay),(dx,dy))\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m atk_unit: \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Attack square is empty.\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m def_unit: \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Defend square is empty.\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[31m# This is the basic attack formula.                                     \u001b[39;49m\r\n\t\u001b[33ma_terrain\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(ax,ay)\r\n\t\u001b[4P\t\u001b[C = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(dx,dy)\r\n\t\u001b[33mdef_unit.hp\u001b[39;49m -= atk_unit.simulate(def_unit.name, d_terrain)\r\n\n\t\u001b[33mcounter\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_unit.hp <= 0: \u001b[33mcounter\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"indirect\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m def_unit.properties: \u001b[33mcounter\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[23;30H\u001b[7m6% L327\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t.unit \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m t.unit.allied(unit)):\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m top:\u001b[4;5H                \u001b[33mr\u001b[39;49m -= unit.terrain.get(t.name,r)\u001b[K\u001b[5;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (a,b) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m report \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.name \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m unit.terrain:\r\n\t            report.append((a,b))\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m r > 0:\r\n\t            _floodfill((a-1,b),r)\u001b[K\r\n\t            _floodfill((a+1,b),r)\u001b[K\r\n\t            _floodfill((a,b-1),r)\u001b[K\u001b[11;21H_floodfill((a,b+1),r)\r\n\t_floodfill((x,y),unit.move,\u001b[35mTrue\u001b[39;49m)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m [(x,y) \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m report \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y) \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m\r\n\t                                      \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y) \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m\u001b[K\r\n\t                                      \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y).team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m\r\n\t                                      unit.team)]\r\n\u001b[K\n\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;30H\u001b[7m4% L308\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[6;5H\u001b[?25l\u001b[31m# Get movement range of the unit at x,y. Returns nothing                    \u001b[39;49m\r\n\u001b[7;5H\u001b[31m# if the tile is empty or does not exist. All of the positions              \u001b[39;49m\r\n\u001b[8;5H\u001b[31m# returned are guaranteed to be tiles that the unit could                   \u001b[39;49m\r\n\u001b[9;5H\u001b[31m# stop moving on.                                                           \u001b[39;49m\r\n\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mget_move_range\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[33munit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m unit:\u001b[K\u001b[13;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m []\r\n\u001b[K\n\t\u001b[31m# Use the naive flood-fill algorithm to get neighboring                 \u001b[39;49m\r\n\t\u001b[31m# tiles. TODO: handle allied units                                      \u001b[39;49m\r\n\t\u001b[33mreport\u001b[39;49m = []\u001b[K\r\n\t\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m_floodfill\u001b[0m\u001b[39;49m(pos,r,top=\u001b[35mFalse\u001b[39;49m):\u001b[19;13H\u001b[33ma\u001b[39;49m,\u001b[33mb\u001b[39;49m = pos\u001b[20;13H\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(a,b)\u001b[21;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t.unit \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m t.unit.allied(unit)):\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m top:\u001b[23;30H\u001b[7m3% L289\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[33munits\u001b[39;49m = [(\u001b[32m\"Unit Intel\\n==========\"\u001b[39;49m,\u001b[32m\"w!\"\u001b[39;49m)]\r\n\tquick.append(\u001b[32m\" \"\u001b[39;49m)\r\n\tquick.append(\u001b[32m\"Units\\n----------------------\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m uni \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\u001b[6;5H        \u001b[33mU\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_unit({\u001b[32m\"name\"\u001b[39;49m:uni})\u001b[K\u001b[7;5H        \u001b[33munits\u001b[39;49m += [\u001b[32m\" \"\u001b[39;49m]+U.rulebook()+[\u001b[32m\" \"\u001b[39;49m]\u001b[K\u001b[8;5H        quick.append(\u001b[32m\"%20s %s\"\u001b[39;49m%(U.name, U.icon))\u001b[K\r\n\u001b[K\u001b[10;5H    \u001b[31m# The fourth part is just like the second, except for terrain.          \u001b[39;49m\r\n\t\u001b[33mterrain\u001b[39;49m = [(\u001b[32m\"Terrain Intel\\n=============\"\u001b[39;49m,\u001b[32m\"w!\"\u001b[39;49m)]\r\n\tquick.append(\u001b[32m\" \"\u001b[39;49m)\r\n\tquick.append(\u001b[32m\"Terrain\\n----------------------\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m ter \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\r\n\t    \u001b[33mT\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_cell({\u001b[32m\"name\"\u001b[39;49m:ter})\u001b[K\r\n\t    \u001b[33mterrain\u001b[39;49m += [\u001b[32m\" \"\u001b[39;49m]+T.rulebook()+[\u001b[32m\" \"\u001b[39;49m]\u001b[K\r\n\t    quick.append(\u001b[32m\"%20s %s\"\u001b[39;49m%(T.name, T.icon))\r\n\u001b[K\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m [overview,quick,units,terrain]\r\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;30H\u001b[7m1% L270\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m# This function produces a team.                                            \u001b[39;49m\r\n\u001b[3;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mmake_team\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data):\r\n\t\u001b[33mt\u001b[39;49m = Team(data[\u001b[32m\"name\"\u001b[39;49m],data[\u001b[32m\"color\"\u001b[39;49m])\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m t\u001b[K\r\n\u001b[K\n\u001b[K\u001b[8;5H\u001b[31m# The rulebook has three pages. An overview, a page for units, and          \u001b[39;49m\r\n\u001b[9;5H\u001b[31m# a page for terrain.                                                       \u001b[39;49m\r\n\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mmake_rulebook\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33moverview\u001b[39;49m = [(\u001b[32m\"Overview\\n\u001b[39;49m\u001b[9P\r\n\toverv\u001b[3@iew\r\n\toverview.append(\u001b[32m\"One day I'll put the rules here.\"\u001b[39;49m)\r\n\u001b[K\n\u001b[K\n\t\u001b[33mquick\u001b[39;49m = [(\u001b[32m\"Quick Reference\\n===============\"\u001b[39;49m,\u001b[32m\"w!\"\u001b[39;49m)]\r\n\u001b[K\n\t\u001b[31m# The third section has all of the units, listed in order.              \u001b[39;49m\r\n\t\u001b[31m# We create temporary unit objects that are responsible for             \u001b[39;49m\r\n\t\u001b[31m# writing their own sections.                                           \u001b[39;49m\r\n\t\u001b[33munits\u001b[39;49m = [(\u001b[32m\"Unit Intel\\n==========\"\u001b[39;49m,\u001b[32m\"w!\"\u001b[39;49m)]\r\n\tquick.append(\u001b[32m\" \"\u001b[39;49m)\u001b[23;29H\u001b[7m19% L251\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;7H\u001b[?25l\u001b[31mturn in progress will be lost\u001b[39;49m\r\n\t\u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, griddata=\u001b[35mFalse\u001b[39;49m):\r\n\t\u001b[33mdata\u001b[39;49m = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data)\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m griddata:\u001b[6;13H\u001b[33mdata\u001b[39;49m[\u001b[32m\"grid\"\u001b[39;49m] = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.export()\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m json.dumps(data, indent=4)\r\n\u001b[K\u001b[9;7H\u001b[31mThis function produces a Unit object based on the unit code.\u001b[39;49m\u001b[10;14H\u001b[1m\u001b[34munit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data):\r\n\t\u001b[33mname\u001b[39;49m = data[\u001b[32m\"name\"\u001b[39;49m]\u001b[K\r\n\t\u001b[33mu\u001b[39;49m = Unit(name, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m][name])\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m u\u001b[K\u001b[15;5H\u001b[31m# This function produces a Cell object based on the terrain code.           \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mmake_cell\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data):\u001b[K\r\n\t\u001b[33mname\u001b[39;49m = data[\u001b[32m\"name\"\u001b[39;49m]\r\n\t\u001b[33mc\u001b[39;49m = Cell(name, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m][name])\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m c\u001b[K\r\n\u001b[K\u001b[21;5H\u001b[31m# This function produces a team.                                            \u001b[39;49m\r\n\u001b[22;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mmake_team\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data):\n\b\u001b[7m8% L232\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[3;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.winners = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[31m# other                                                                 \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[9;63H\u001b[4P\u001b[9;5H\u001b[4@\u001b[9;11H\u001b[31mReplay turn history.                                    \u001b[39;49m\u001b[10;5H    \u001b[33mreplay\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data.pop(\u001b[32m\"history\"\u001b[39;49m,[])\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m] = []\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m turn \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m replay:\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m action \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m turn:\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m step \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m action:\u001b[15;5H                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process(step)\u001b[K\u001b[16;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end_turn()\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[20;5H\u001b[31m# Return a JSON string that can be saved to a file. The current             \u001b[39;49m\r\n\t\b\b\u001b[31mturn in progress will be lost\u001b[39;49m\r\n\t\u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, griddata=\u001b[35mFalse\u001b[39;49m):\u001b[23;30H\u001b[7m7% L213\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t.active:\u001b[4;21H\u001b[33mt.name\u001b[39;49m = \u001b[32m\"Absent\"\u001b[39;49m\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defeated(t)\u001b[K\r\n\t        \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().active \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.day==1:\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.end_turn()\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.restartpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\r\n\u001b[K\n\t\u001b[31m# The history contains all actions for this player turn.                \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[K\r\n\u001b[K\n\t\u001b[31m# These are the state variables                                         \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"play\"\u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m edit:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m] = []\u001b[19;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"edit\"\u001b[39;49m\r\n\u001b[K\u001b[21;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[22;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.winners = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[23;30H\u001b[7m5% L194\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l\u001b[31m#   make_cell                                                                   \u001b[39;49m\r\n\u001b[31m#   pop_alerts                                                                  \u001b[39;49m\r\n\u001b[31m#   process                                                                     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mRules\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data, edit=\u001b[35mFalse\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data = data\u001b[K\u001b[8;14Hedit = edit\u001b[K\r\n\u001b[K\n\t\u001b[31m# Create the grid with what's left.                                     \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = []\u001b[K\u001b[12;14Hgrid = grid.Grid(data[\u001b[32m\"grid\"\u001b[39;49m], \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.edit:\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\u001b[K\r\n\t        \u001b[33mt.active\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m p \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data[\u001b[32m\"players\"\u001b[39;49m]:\r\n\t        \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams[data[\u001b[32m\"players\"\u001b[39;49m][p][\u001b[32m\"team\"\u001b[39;49m]]\u001b[18;13H    \u001b[33mt.name\u001b[39;49m = p\u001b[K\u001b[19;13H    \u001b[33mt.color\u001b[39;49m = data[\u001b[32m\"players\"\u001b[39;49m][p][\u001b[32m\"color\"\u001b[39;49m]\r\n\t\t\u001b[33mt.active\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t.active:\n\b\b\b\u001b[7m4% L175\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l        \u001b[33mframes\u001b[39;49m = [\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.icon]\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.hp < 90):\u001b[K\r\n            frames.append( \u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m((\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.hp//10)+1)  )\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.anim) >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(frames):\u001b[6;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.anim = 0.0\u001b[K\r\n\t\u001b[33mimg\u001b[39;49m = frames[\u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.anim)]\r\n\u001b[K\n\t\u001b[31m# Draw the character.                                                   \u001b[39;49m\r\n\tdraw.char(x, y, img, color)\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# The Rules serve two purposes. Firstly, it is a factory that produces          \u001b[39;49m\r\n\u001b[31m# new objects according the needs of the game being played. Secondly, they      \u001b[39;49m\r\n\u001b[31m# serve as a state machine for performing legal actions and changing the        \u001b[39;49m\r\n\u001b[31m# state of the game grid.                                                       \u001b[39;49m\r\n\u001b[31m#                                                                               \u001b[39;49m\r\n\u001b[31m# Required methods:                                                             \u001b[39;49m\r\n\u001b[31m#   make_unit                                                                   \u001b[39;49m\r\n\u001b[31m#   make_team                                                                   \u001b[39;49m\r\n\u001b[31m#   make_cell                                                                   \u001b[39;49m\r\n\u001b[31m#   pop_alerts                                                                  \u001b[39;49m\r\n\u001b[23;30H\u001b[7m3% L156\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(base*.01*hp*cover)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[5;5H\u001b[31m# This returns False if out of range and true if in range.                  \u001b[39;49m\r\n\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34min_range\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, dist):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m (dist >= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[0] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m dist <= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[1])\u001b[9;5H\u001b[4P\t\b\b\u001b[31mThis drawing method overrides the default method by hand\u001b[39;49m\u001b[4@\u001b[31mling\u001b[39;49m\u001b[10;5H\u001b[31m# animations for when this unit is low on resources such as HP,             \u001b[39;49m\r\n\u001b[11;5H\u001b[31m# ammo, etc.                                                                \u001b[39;49m\r\n\u001b[12;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, col):\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.anim += .02\u001b[K\r\n\u001b[K\n        \u001b[31m# Gray out units that can't act. Units are always bold.                 \u001b[39;49m\r\n        \u001b[33mready\u001b[39;49m = \u001b[32m\"x\"\u001b[39;49m \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.ready \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n        \u001b[33mcolor\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.team.color + ready + col + \u001b[32m\"!\"\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[19;52H\u001b[8P\r\u001b[8@\u001b[19;11H\u001b[31mBuild the animation for this unit based on values\u001b[39;49m\u001b[20;40H\u001b[8P\r\u001b[8@\u001b[20;11H\u001b[31mthat are running low (hp, fuel, etc).\u001b[39;49m\r\n        \u001b[33mframes\u001b[39;49m = [\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.icon]\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.hp < 90):\u001b[K\u001b[23;30H\u001b[7m1% L137\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25lreport.append(\u001b[32m\"    vs %s -%d%%\"\u001b[39;49m%(u, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage[u]))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[4;13Hreport.append(\u001b[32m\"Can capture properties\"\u001b[39;49m)\u001b[5;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"carry\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[K\u001b[6;5H        \u001b[33ma\u001b[39;49m = \u001b[32m\"Can carry up to %d of the following units:\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.capacity\r\n\t    report.append(a)\u001b[K\u001b[8;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.carry:\u001b[9;5H            report.append(\u001b[32m\"    %s\"\u001b[39;49m%u)\u001b[K\r\n\u001b[K\u001b[11;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\u001b[K\u001b[13;5H\u001b[31m# Simulate an attack from this unit on a target including unit              \u001b[39;49m\r\n\u001b[14;5H\u001b[31m# bonuses and terrain effects.                                              \u001b[39;49m\r\n\u001b[15;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34msimulate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, target, terrain, hp=\u001b[35mNone\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m hp: \u001b[33mhp\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.hp\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"nocover\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties: \u001b[33mterrain\u001b[39;49m = 0\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m target \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage:\r\n\t    \u001b[33mbase\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage[target]\u001b[K\r\n\t    \u001b[33mcover\u001b[39;49m = 1.0 - (.1*terrain.defense)\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(base*.01*hp*cover)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\u001b[23;29H\u001b[7m 9% L118\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m# Create a rulebook section for this unit.                                  \u001b[39;49m\r\n\u001b[3;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrulebook\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m = []\u001b[K\r\n\treport.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name+\u001b[32m\"\\n\"\u001b[39;49m+(\u001b[32m\"-\"\u001b[39;49m*\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name)))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.description:\u001b[K\n\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.description+\u001b[32m\"\\n \"\u001b[39;49m)\r\n\treport.append(\u001b[32m\"Icon on map: %s\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.icon)\r\n\t\u001b[8P\t\t\b\u001b[32mMovement Range: %d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.move)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.terrain:\r\n\t    report.append(\u001b[32m\"    %d over %s\"\u001b[39;49m%(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.terrain[t],t))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"nocover\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[13;5H        report.append(\u001b[32m\"This unit does not receive defensive cover\"\u001b[39;49m)\u001b[K\u001b[14;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"indirect\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[K\u001b[15;5H        report.append(\u001b[32m\"Indirect attack unit\"\u001b[39;49m)\u001b[16;12H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[0] != \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[1]:\r\n\t    report.append(\u001b[32m\"Firing Range: %d-%d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng)\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\breport.append(\u001b[32m\"Firing Range: %d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[0])\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage:\u001b[K\u001b[21;13Hreport.append(\u001b[32m\"    vs %s -%d%%\"\u001b[39;49m%(u, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage[u]))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[23;30H\u001b[7m7% L99 \u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cash = 0\u001b[K\r\n\u001b[K\n\u001b[31m# Custom Unit subclass. Contains information such as HP, readiness, and         \u001b[39;49m\r\n\u001b[31m# a custom drawing method.                                                      \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mUnit\u001b[39;49m(grid.Unit):\u001b[K\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, name, rules):\u001b[K\r\n\t\u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Unit, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(name, rules[\u001b[32m\"icon\"\u001b[39;49m])\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.hp = 100\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.ready = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.move = rules[\u001b[32m\"move\"\u001b[39;49m]\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.anim = 0.0\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(rules[\u001b[32m\"damage\"\u001b[39;49m])\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties = \u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"properties\"\u001b[39;49m,[]))\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.terrain = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(rules[\u001b[32m\"terrain\"\u001b[39;49m])\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng = \u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"range\"\u001b[39;49m,[1,1]))\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.description = rules.get(\u001b[32m\"description\"\u001b[39;49m,\u001b[32m\"\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.capacity = rules.get(\u001b[32m\"capacity\"\u001b[39;49m,0)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.carry = \u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"carry\"\u001b[39;49m,[]))\u001b[K\r\n\u001b[K\u001b[21;5H\u001b[31m# Create a rulebook section for this unit.                                  \u001b[39;49m\r\n\u001b[22;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrulebook\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\u001b[23;30H\u001b[7m6% L80\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l    report.append(\u001b[32m\"Produces $%d per turn\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cash)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"build\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\r\n            report.append(\u001b[32m\"Can produce units:\"\u001b[39;49m)\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.build:\u001b[K\r\n                report.append(\u001b[32m\"    %s costs $%d\"\u001b[39;49m%(b,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.build[b]))\u001b[7;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"hq\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[K\r\n\t    report.append(\u001b[32m\"This team loses if this property is captured\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"repair\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\r\n\t    report.append(\u001b[32m\"Repairs the following units at start of a day:\"\u001b[39;49m)\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.repair:\r\n\t        report.append(\u001b[32m\"    %s (+%d%%)\"\u001b[39;49m%(b,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.repair[b]))\r\n\u001b[K\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# Custom Team subclass. Contains information such as resources.                 \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mTeam\u001b[39;49m(grid.Team):\u001b[K\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, name, color):\u001b[K\r\n\t\u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Team, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(name, color)\u001b[21;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cash = 0\u001b[K\r\n\u001b[K\u001b[23;30H\u001b[7m4% L61\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defense = rules[\u001b[32m\"defense\"\u001b[39;49m]\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties = \u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"properties\"\u001b[39;49m,[]))\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.hp = 100\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cash = rules.get(\u001b[32m\"cash\"\u001b[39;49m,0)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.build = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"build\"\u001b[39;49m,{}))\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.description = rules.get(\u001b[32m\"description\"\u001b[39;49m,\u001b[32m\"\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.repair = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"repair\"\u001b[39;49m,{}))\u001b[K\r\n\u001b[K\u001b[10;5H\u001b[31m# Create a rulebook section for this terrain.                               \u001b[39;49m\r\n\u001b[11;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrulebook\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m = []\u001b[K\r\n\treport.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name+\u001b[32m\"\\n\"\u001b[39;49m+(\u001b[32m\"-\"\u001b[39;49m*\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name)))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.description:\u001b[15;13Hreport.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.description+\u001b[32m\"\\n \"\u001b[39;49m)\r\n\treport.append(\u001b[32m\"Icon on map: %s\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.icon)\r\n        report.append(\u001b[32m\"Defensive cover: %d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defense)\u001b[K\r\n\u001b[K\u001b[19;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\r\n\t    report.append(\u001b[32m\"Can be captured\"\u001b[39;49m)\u001b[K\r\n\t    report.append(\u001b[32m\"Produces $%d per turn\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cash)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"build\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[23;30H\u001b[7m2% L42\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l\u001b[31m# by a Controller that provides piecewise input.                                \u001b[39;49m\r\n\u001b[K\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m . \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m grid, widgets, storage, log\r\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m graphics \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m draw\u001b[K\r\n\u001b[K\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m copy, json\u001b[K\r\n\u001b[K\n\n\u001b[4P\u001b[C\u001b[C\u001b[31mGlobal strings. Stored to avoid mistyping. \u001b[39;49m\u001b[4@\u001b[31m    \u001b[39;49m\r\n\u001b[33mCTRL_COORD\u001b[39;49m = \u001b[32m\"coord\"\u001b[39;49m\u001b[K\r\n\u001b[33mCTRL_MENU\u001b[39;49m = \u001b[32m\"menu\"\u001b[39;49m\u001b[K\r\n\u001b[33mCTRL_UNDO\u001b[39;49m = \u001b[32m\"undo\"\u001b[39;49m\u001b[K\r\n\u001b[33mCTRL_EDITOR\u001b[39;49m = \u001b[32m\"editor\"\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# Custom Cell subclass. Contains information such as terrain defensive bonus.   \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mCell\u001b[39;49m(grid.Cell):\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, name, rules):\u001b[K\r\n\t\u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Cell, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(name, rules[\u001b[32m\"icon\"\u001b[39;49m], rules[\u001b[32m\"color\"\u001b[39;49m])\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defense = rules[\u001b[32m\"defense\"\u001b[39;49m]\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties = \u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"properties\"\u001b[39;49m,[]))\u001b[23;30H\u001b[7m1% L23\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[2;1H\u001b[2L\u001b[1;24r\u001b[2;1H\u001b[?25l\u001b[31m# A rules object handles all of the actual game play elements. The rules        \u001b[39;49m\r\n\u001b[A\n\u001b[31m# are what give meaning to the pieces in a Grid, and is controlled (usually)    \u001b[39;49m\r\n\u001b[A\u001b[23;29H\u001b[7mTop L21\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\n\n\u001b[?25lBeginning of buffer\u001b[22;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u0007\u0007\u0007\u0007\u0007\n\n\u001b[K\u001b[2d\u001b[?25l    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, name, rules):\u001b[K\r\n        \u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Cell, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(name, rules[\u001b[32m\"icon\"\u001b[39;49m], rules[\u001b[32m\"color\"\u001b[39;49m])\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defense = rules[\u001b[32m\"defense\"\u001b[39;49m]\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties = \u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"properties\"\u001b[39;49m,[]))\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.hp = 100\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cash = rules.get(\u001b[32m\"cash\"\u001b[39;49m,0)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.build = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"build\"\u001b[39;49m,{}))\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.description = rules.get(\u001b[32m\"description\"\u001b[39;49m,\u001b[32m\"\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.repair = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"repair\"\u001b[39;49m,{}))\n\n\b\b\b\b\b\u001b[4P\r\u001b[4@\t\b\b\u001b[31mCreate a rulebook section for this terrain.\u001b[39;49m\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrulebook\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n        \u001b[33mreport\u001b[39;49m = []\r\n        report.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name+\u001b[32m\"\\n\"\u001b[39;49m+(\u001b[32m\"-\"\u001b[39;49m*\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name)))\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.description:\u001b[17;13Hreport.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.description+\u001b[32m\"\\n \"\u001b[39;49m)\r\n\treport.append(\u001b[32m\"Icon on map: %s\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.icon)\r\n        report.append(\u001b[32m\"Defensive cover: %d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defense)\u001b[K\r\n\u001b[K\u001b[21;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\r\n\t    report.append(\u001b[32m\"Can be captured\"\u001b[39;49m)\u001b[K\u001b[23;29H\u001b[7m 2%\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\r\n\t    report.append(\u001b[32m\"Can be captured\"\u001b[39;49m)\u001b[K\r\n\t    report.append(\u001b[32m\"Produces $%d per turn\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cash)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"build\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[K\r\n\t    report.append(\u001b[32m\"Can produce units:\"\u001b[39;49m)\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.build:\u001b[K\r\n\t        report.append(\u001b[32m\"    %s costs $%d\"\u001b[39;49m%(b,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.build[b]))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"hq\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[K\r\n\t    report.append(\u001b[32m\"This team loses if this property is captured\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"repair\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[12;5H        report.append(\u001b[32m\"Repairs the following units at start of a day:\"\u001b[39;49m)\u001b[K\u001b[13;5H        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.repair:\r\n\t        report.append(\u001b[32m\"    %s (+%d%%)\"\u001b[39;49m%(b,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.repair[b]))\r\n\u001b[K\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# Custom Team subclass. Contains information such as resources.                 \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mTeam\u001b[39;49m(grid.Team):\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, name, color):\u001b[K\r\n\t\u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Team, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(name, color)\u001b[23;30H\u001b[7m4% L39\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, name, color):\u001b[K\r\n\t\u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Team, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(name, color)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cash = 0\u001b[K\r\n\u001b[K\n\u001b[31m# Custom Unit subclass. Contains information such as HP, readiness, and         \u001b[39;49m\r\n\u001b[31m# a custom drawing method.                                                      \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mUnit\u001b[39;49m(grid.Unit):\u001b[K\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, name, rules):\r\n\t\u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Unit, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(name, rules[\u001b[32m\"icon\"\u001b[39;49m])\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.hp = 100\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.ready = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.move = rules[\u001b[32m\"move\"\u001b[39;49m]\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.anim = 0.0\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(rules[\u001b[32m\"damage\"\u001b[39;49m])\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties = \u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"properties\"\u001b[39;49m,[]))\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.terrain = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(rules[\u001b[32m\"terrain\"\u001b[39;49m])\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng = \u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"range\"\u001b[39;49m,[1,1]))\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.description = rules.get(\u001b[32m\"description\"\u001b[39;49m,\u001b[32m\"\"\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.capacity = rules.get(\u001b[32m\"capacity\"\u001b[39;49m,0)\u001b[21;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.carry = \u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"carry\"\u001b[39;49m,[]))\r\n\u001b[K\u001b[23;30H\u001b[7m5% L58\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.carry = \u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"carry\"\u001b[39;49m,[]))\r\n\u001b[K\u001b[4;5H\u001b[31m# Create a rulebook section for this unit.                                  \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrulebook\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n        \u001b[33mreport\u001b[39;49m = []\u001b[K\r\n        report.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name+\u001b[32m\"\\n\"\u001b[39;49m+(\u001b[32m\"-\"\u001b[39;49m*\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name)))\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.description:\u001b[9;5H        report.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.description+\u001b[32m\"\\n \"\u001b[39;49m)\r\n\treport.append(\u001b[32m\"Icon on map: %s\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.icon)\u001b[K\r\n\treport.append(\u001b[32m\"Movement Range: %d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.move)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.terrain:\r\n\t    report.append(\u001b[32m\"    %d over %s\"\u001b[39;49m%(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.terrain[t],t))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"nocover\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\r\n\t    report.append(\u001b[32m\"This unit does not receive defensive cover\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"indirect\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[K\r\n\t    report.append(\u001b[32m\"Indirect attack unit\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[0] != \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[1]:\u001b[K\r\n\t    report.append(\u001b[32m\"Firing Range: %d-%d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng)\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    report.append(\u001b[32m\"Firing Range: %d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[0])\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage:\n\u001b[7m7% L77\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l    report.append(\u001b[32m\"Firing Range: %d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[0])\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage:\u001b[4;5H        report.append(\u001b[32m\"    vs %s -%d%%\"\u001b[39;49m%(u, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage[u]))\u001b[K\u001b[5;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\r\n\t    report.append(\u001b[32m\"Can capture properties\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"carry\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[K\r\n\t    \u001b[33ma\u001b[39;49m = \u001b[32m\"Can carry up to %d of the following units:\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.capacity\u001b[9;27Ha)\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.carry:\u001b[K\r\n\t\u001b[8@\t\t\t\b\u001b[32m    %s\"\u001b[39;49m%u)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\u001b[K\u001b[15;5H\u001b[31m# Simulate an attack from this unit on a target including unit              \u001b[39;49m\r\n\u001b[16;5H\u001b[31m# bonuses and terrain effects.                                              \u001b[39;49m\r\n\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34msimulate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, target, terrain, hp=\u001b[35mNone\u001b[39;49m):\u001b[18;12H\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m hp: \u001b[33mhp\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.hp\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"nocover\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties: \u001b[33mterrain\u001b[39;49m = 0\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m target \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage:\u001b[21;13H\u001b[33mbase\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage[target]\u001b[K\r\n\t    \u001b[33mcover\u001b[39;49m = 1.0 - (.1*terrain.defense)\u001b[23;30H\u001b[7m9% L96\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[33mbase\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage[target]\u001b[K\r\n\t    \u001b[33mcover\u001b[39;49m = 1.0 - (.1*terrain.defense)\u001b[4;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(base*.01*hp*cover)\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[7;5H\u001b[31m# This returns False if out of range and true if in range.                  \u001b[39;49m\r\n\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34min_range\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, dist):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m (dist >= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[0] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m dist <= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[1])\r\n\u001b[K\u001b[11;5H\u001b[31m# This drawing method overrides the default method by handling              \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# animations for when this unit is low on resources such as HP,             \u001b[39;49m\r\n\u001b[13;5H\u001b[31m# ammo, etc.                                                                \u001b[39;49m\r\n\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, col):\u001b[15;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.anim += .02\u001b[K\r\n\u001b[K\u001b[17;5H    \u001b[31m# Gray out units that can't act. Units are always bold.                 \u001b[39;49m\r\n\t\u001b[33mready\u001b[39;49m = \u001b[32m\"x\"\u001b[39;49m \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.ready \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m \u001b[32m\"\"\u001b[39;49m\r\n\t\u001b[33mcolor\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.team.color + ready + col + \u001b[32m\"!\"\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[31m# Build the animation for this unit based on values                     \u001b[39;49m\r\n\t\u001b[31m# that are running low (hp, fuel, etc).                                 \u001b[39;49m\r\n\u001b[23;29H\u001b[7m11% L115\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[31m# Build the animation for this unit based on values                     \u001b[39;49m\r\n\t\u001b[31m# that are running low (hp, fuel, etc).                                 \u001b[39;49m\r\n\t\u001b[33mframes\u001b[39;49m = [\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.icon]\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.hp < 90):\u001b[6;13Hframes.append( \u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m((\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.hp//10)+1)  )\u001b[7;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.anim) >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(frames):\u001b[K\u001b[8;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.anim = 0.0\u001b[K\r\n\t\u001b[33mimg\u001b[39;49m = frames[\u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.anim)]\u001b[K\u001b[11;63H\u001b[4P\u001b[11;5H\u001b[4@\u001b[11;11H\u001b[31mDraw the character.                                     \u001b[39;49m\u001b[12;5H    draw.char(x, y, img, color)\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# The Rules serve two purposes. Firstly, it is a factory that produces          \u001b[39;49m\r\n\u001b[31m# new objects according the needs of the game being played. Secondly, they      \u001b[39;49m\r\n\u001b[31m# serve as a state machine for performing legal actions and changing the        \u001b[39;49m\r\n\u001b[31m# state of the game grid.                                                       \u001b[39;49m\r\n\u001b[31m#                                                                               \u001b[39;49m\r\n\u001b[31m# Required methods:                                                             \u001b[39;49m\r\n\u001b[8P\u001b[C\u001b[C\u001b[31m  make_unit                                      \u001b[39;49m\u001b[8@\u001b[31m        \u001b[39;49m\r\n\u001b[8P\u001b[C\u001b[C\u001b[31m  make_team                          \u001b[39;49m\u001b[8@\u001b[31m        \u001b[39;49m\u001b[23;30H\u001b[7m2% L134\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[8P\u001b[2;3H\u001b[?25l\u001b[31m  make_unit                                      \u001b[39;49m\u001b[8@\u001b[31m        \u001b[39;49m\r\n\u001b[8P\u001b[3;3H\u001b[31m  make_team                          \u001b[39;49m\u001b[8@\u001b[31m        \u001b[39;49m\r\n\u001b[31m#   make_cell                                                                   \u001b[39;49m\r\n\u001b[31m#   pop_alerts                                                                  \u001b[39;49m\r\n\u001b[31m#   process                                                                     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mRules\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data, edit=\u001b[35mFalse\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data = data\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.edit = edit\r\n\u001b[K\n\t\u001b[31m# Create the grid with what's left.                                     \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = grid.Grid(data[\u001b[32m\"grid\"\u001b[39;49m], \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m)\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.edit:\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\u001b[K\r\n                \u001b[33mt.active\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m p \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data[\u001b[32m\"players\"\u001b[39;49m]:\u001b[K\r\n                \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams[data[\u001b[32m\"players\"\u001b[39;49m][p][\u001b[32m\"team\"\u001b[39;49m]]\u001b[K\r\n                \u001b[33mt.name\u001b[39;49m = p\u001b[K\r\n                \u001b[33mt.color\u001b[39;49m = data[\u001b[32m\"players\"\u001b[39;49m][p][\u001b[32m\"color\"\u001b[39;49m]\u001b[K\r\n                \u001b[33mt.active\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\n\b\b\u001b[7m4% L153\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l                \u001b[33mt.color\u001b[39;49m = data[\u001b[32m\"players\"\u001b[39;49m][p][\u001b[32m\"color\"\u001b[39;49m]\u001b[K\r\n                \u001b[33mt.active\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t.active:\u001b[K\r\n                    \u001b[33mt.name\u001b[39;49m = \u001b[32m\"Absent\"\u001b[39;49m\u001b[K\r\n                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defeated(t)\u001b[8;5H            \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().active \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.day==1:\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.end_turn()\u001b[10;14Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.restartpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\u001b[K\n\t\u001b[31m# The history contains all actions for this player turn.                \u001b[39;49m\r\n\u001b[14;14Hhistory = []\u001b[K\r\n\u001b[K\n\t\u001b[31m# These are the state variables                                         \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"play\"\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m edit:\u001b[K\n\b\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m] = []\u001b[21;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"edit\"\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[23;30H\u001b[7m5% L172\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"edit\"\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.winners = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[31m# other                                                                 \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[31m# Replay turn history.                                                  \u001b[39;49m\r\n\t\u001b[33mreplay\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data.pop(\u001b[32m\"history\"\u001b[39;49m,[])\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m] = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m turn \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m replay:\u001b[15;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m action \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m turn:\r\n\t        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m step \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m action:\u001b[K\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process(step)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end_turn()\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[22;5H\u001b[31m# Return a JSON string that can be saved to a file. The current             \u001b[39;49m\r\n\u001b[23;30H\u001b[7m7% L191\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[3;5H\u001b[?25l\u001b[31m# Return a JSON string that can be saved to a file. The current             \u001b[39;49m\r\n\u001b[4;5H\u001b[31m# turn in progress will be lost.                                            \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, griddata=\u001b[35mFalse\u001b[39;49m):\r\n\t\u001b[33mdata\u001b[39;49m = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m griddata:\u001b[K\r\n\t    \u001b[33mdata\u001b[39;49m[\u001b[32m\"grid\"\u001b[39;49m] = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.export()\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m json.dumps(data, indent=4)\u001b[11;5H\u001b[4P\t\b\b\u001b[31mThis function produces a Unit object based on the unit c\u001b[39;49m\u001b[4@\u001b[31mode.\u001b[39;49m\u001b[12;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mmake_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data):\u001b[K\r\n\t\u001b[33mname\u001b[39;49m = data[\u001b[32m\"name\"\u001b[39;49m]\u001b[K\r\n\t\u001b[33mu\u001b[39;49m = Unit(name, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m][name])\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m u\u001b[K\r\n\u001b[K\u001b[17;5H\u001b[31m# This function produces a Cell object based on the terrain code.           \u001b[39;49m\r\n\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mmake_cell\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data):\r\n\t\u001b[33mname\u001b[39;49m = data[\u001b[32m\"name\"\u001b[39;49m]\r\n\t\u001b[33mc\u001b[39;49m = Cell(name, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m][name])\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m c\r\n\u001b[K\u001b[23;30H\u001b[7m8% L210\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m c\r\n\u001b[K\u001b[4;7H\u001b[31mThis function produces a team\u001b[39;49m\r\n\t\u001b[1m\u001b[34mmake_team\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data):\u001b[K\r\n\t\u001b[33mt\u001b[39;49m = Team(data[\u001b[32m\"name\"\u001b[39;49m],data[\u001b[32m\"color\"\u001b[39;49m])\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m t\u001b[K\r\n\u001b[K\n\u001b[K\u001b[10;5H\u001b[31m# The rulebook has three pages. An overview, a page for units, and          \u001b[39;49m\r\n\t\b\b\u001b[31ma page for terrain.                                         \u001b[39;49m\u001b[12;14H\u001b[1m\u001b[34mrulebook\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33moverview\u001b[39;49m = [(\u001b[32m\"Overview\\n========\"\u001b[39;49m,\u001b[32m\"w!\"\u001b[39;49m)]\r\n\toverview.append(\u001b[32m\" \"\u001b[39;49m)\u001b[K\r\n\toverview.append(\u001b[32m\"One day I'll put the rules here.\"\u001b[39;49m)\r\n\n\u001b[K\u001b[18;5H    \u001b[33mquick\u001b[39;49m = [(\u001b[32m\"Quick Reference\\n===============\"\u001b[39;49m,\u001b[32m\"w!\"\u001b[39;49m)]\r\n\u001b[K\n\t\u001b[31m# The third section has all of the units, listed in order.              \u001b[39;49m\r\n\t\u001b[31m# We create temporary unit objects that are responsible for             \u001b[39;49m\r\n\t\u001b[31m# writing their own sections.                                           \u001b[39;49m\r\n\u001b[23;30H\u001b[7m9% L229\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[3;5H\u001b[?25l\u001b[31m# Return a JSON string that can be saved to a file. The current             \u001b[39;49m\r\n\t\b\b\u001b[31mturn in progress will be lost\u001b[39;49m\r\n\t\u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, griddata=\u001b[35mFalse\u001b[39;49m):\r\n\t\u001b[33mdata\u001b[39;49m = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data)\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m griddata:\u001b[8;13H\u001b[33mdata\u001b[39;49m[\u001b[32m\"grid\"\u001b[39;49m] = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.export()\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m json.dumps(data, indent=4)\r\n\u001b[K\n\t\b\b\u001b[31mThis function produces a Unit object based on the unit code.\u001b[39;49m\u001b[12;14H\u001b[1m\u001b[34munit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data):\r\n\t\u001b[33mname\u001b[39;49m = data[\u001b[32m\"name\"\u001b[39;49m]\u001b[K\r\n\t\u001b[33mu\u001b[39;49m = Unit(name, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m][name])\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m u\u001b[K\u001b[17;5H\u001b[31m# This function produces a Cell object based on the terrain code.           \u001b[39;49m\r\n\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mmake_cell\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data):\u001b[K\r\n\t\u001b[33mname\u001b[39;49m = data[\u001b[32m\"name\"\u001b[39;49m]\r\n\t\u001b[33mc\u001b[39;49m = Cell(name, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m][name])\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m c\u001b[K\r\n\u001b[K\u001b[23;30H\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"edit\"\u001b[39;49m\r\n\u001b[K\u001b[4;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[5;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.winners = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[31m# other                                                                 \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[11;63H\u001b[4P\u001b[11;5H\u001b[4@\u001b[11;11H\u001b[31mReplay turn history.                                    \u001b[39;49m\u001b[12;5H    \u001b[33mreplay\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data.pop(\u001b[32m\"history\"\u001b[39;49m,[])\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m] = []\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m turn \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m replay:\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m action \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m turn:\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m step \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m action:\u001b[17;5H                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process(step)\u001b[K\u001b[18;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end_turn()\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[22;5H\u001b[31m# Return a JSON string that can be saved to a file. The current             \u001b[39;49m\r\n\u001b[23;30H\u001b[7m7% L211\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l    \u001b[33mt.color\u001b[39;49m = data[\u001b[32m\"players\"\u001b[39;49m][p][\u001b[32m\"color\"\u001b[39;49m]\r\n\t\t\u001b[33mt.active\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t.active:\u001b[6;21H\u001b[33mt.name\u001b[39;49m = \u001b[32m\"Absent\"\u001b[39;49m\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defeated(t)\u001b[K\r\n\t        \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().active \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.day==1:\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.end_turn()\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.restartpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\r\n\u001b[K\n\t\u001b[31m# The history contains all actions for this player turn.                \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[K\r\n\u001b[K\n\t\u001b[31m# These are the state variables                                         \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"play\"\u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m edit:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m] = []\u001b[21;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"edit\"\u001b[39;49m\r\n\u001b[K\u001b[23;30H\u001b[7m5% L192\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l\u001b[31m#   make_unit                                                                   \u001b[39;49m\r\n\u001b[31m#   make_team                                                                   \u001b[39;49m\r\n\u001b[31m#   make_cell                                                                   \u001b[39;49m\r\n\u001b[31m#   pop_alerts                                                                  \u001b[39;49m\r\n\u001b[31m#   process                                                                     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mRules\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data, edit=\u001b[35mFalse\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data = data\u001b[K\u001b[10;14Hedit = edit\u001b[K\r\n\u001b[K\n\t\u001b[31m# Create the grid with what's left.                                     \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = []\u001b[K\u001b[14;14Hgrid = grid.Grid(data[\u001b[32m\"grid\"\u001b[39;49m], \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.edit:\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\u001b[K\r\n\t        \u001b[33mt.active\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m p \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data[\u001b[32m\"players\"\u001b[39;49m]:\r\n\t        \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams[data[\u001b[32m\"players\"\u001b[39;49m][p][\u001b[32m\"team\"\u001b[39;49m]]\u001b[20;13H    \u001b[33mt.name\u001b[39;49m = p\u001b[K\u001b[21;13H    \u001b[33mt.color\u001b[39;49m = data[\u001b[32m\"players\"\u001b[39;49m][p][\u001b[32m\"color\"\u001b[39;49m]\r\n\t\t\u001b[33mt.active\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\n\b\b\u001b[7m4% L173\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;52H\u001b[8P\r\u001b[8@\u001b[2;11H\u001b[?25l\u001b[31mBuild the animation for this unit based on values\u001b[39;49m\u001b[3;40H\u001b[8P\r\u001b[8@\u001b[3;11H\u001b[31mthat are running low (hp, fuel, etc).\u001b[39;49m\r\n        \u001b[33mframes\u001b[39;49m = [\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.icon]\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.hp < 90):\u001b[K\r\n            frames.append( \u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m((\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.hp//10)+1)  )\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.anim) >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(frames):\u001b[8;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.anim = 0.0\u001b[K\r\n\t\u001b[33mimg\u001b[39;49m = frames[\u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.anim)]\r\n\u001b[K\n\t\u001b[31m# Draw the character.                                                   \u001b[39;49m\r\n\tdraw.char(x, y, img, color)\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# The Rules serve two purposes. Firstly, it is a factory that produces          \u001b[39;49m\r\n\u001b[31m# new objects according the needs of the game being played. Secondly, they      \u001b[39;49m\r\n\u001b[31m# serve as a state machine for performing legal actions and changing the        \u001b[39;49m\r\n\u001b[31m# state of the game grid.                                                       \u001b[39;49m\r\n\u001b[31m#                                                                               \u001b[39;49m\r\n\u001b[31m# Required methods:                                                             \u001b[39;49m\r\n\u001b[31m#   make_unit                                                                   \u001b[39;49m\r\n\u001b[31m#   make_team                                                                   \u001b[39;49m\r\n\u001b[23;30H\u001b[7m2% L154\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l    \u001b[33mbase\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage[target]\u001b[K\r\n\t    \u001b[33mcover\u001b[39;49m = 1.0 - (.1*terrain.defense)\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(base*.01*hp*cover)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[7;5H\u001b[31m# This returns False if out of range and true if in range.                  \u001b[39;49m\r\n\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34min_range\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, dist):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m (dist >= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[0] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m dist <= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[1])\u001b[11;5H\u001b[4P\t\b\b\u001b[31mThis drawing method overrides the default method by hand\u001b[39;49m\u001b[4@\u001b[31mling\u001b[39;49m\u001b[12;5H\u001b[31m# animations for when this unit is low on resources such as HP,             \u001b[39;49m\r\n\u001b[13;5H\u001b[31m# ammo, etc.                                                                \u001b[39;49m\r\n\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, col):\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.anim += .02\u001b[K\r\n\u001b[K\n        \u001b[31m# Gray out units that can't act. Units are always bold.                 \u001b[39;49m\r\n        \u001b[33mready\u001b[39;49m = \u001b[32m\"x\"\u001b[39;49m \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.ready \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n        \u001b[33mcolor\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.team.color + ready + col + \u001b[32m\"!\"\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[21;52H\u001b[8P\r\u001b[8@\u001b[21;11H\u001b[31mBuild the animation for this unit based on values\u001b[39;49m\u001b[22;40H\u001b[8P\r\u001b[8@\u001b[22;11H\u001b[31mthat are running low (hp, fuel, etc).\u001b[39;49m\u001b[23;30H\u001b[7m1% L135\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25lreport.append(\u001b[32m\"Firing Range: %d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[0])\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage:\u001b[K\u001b[4;13Hreport.append(\u001b[32m\"    vs %s -%d%%\"\u001b[39;49m%(u, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage[u]))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[6;13Hreport.append(\u001b[32m\"Can capture properties\"\u001b[39;49m)\u001b[7;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"carry\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[K\u001b[8;5H        \u001b[33ma\u001b[39;49m = \u001b[32m\"Can carry up to %d of the following units:\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.capacity\r\n\t    report.append(a)\u001b[K\u001b[10;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.carry:\u001b[11;5H            report.append(\u001b[32m\"    %s\"\u001b[39;49m%u)\u001b[K\r\n\u001b[K\u001b[13;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\u001b[K\u001b[15;5H\u001b[31m# Simulate an attack from this unit on a target including unit              \u001b[39;49m\r\n\u001b[16;5H\u001b[31m# bonuses and terrain effects.                                              \u001b[39;49m\r\n\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34msimulate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, target, terrain, hp=\u001b[35mNone\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m hp: \u001b[33mhp\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.hp\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"nocover\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties: \u001b[33mterrain\u001b[39;49m = 0\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m target \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage:\r\n\t    \u001b[33mbase\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage[target]\u001b[K\r\n\t    \u001b[33mcover\u001b[39;49m = 1.0 - (.1*terrain.defense)\u001b[K\u001b[23;29H\u001b[7m 9% L116\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.carry = \u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"carry\"\u001b[39;49m,[]))\u001b[K\r\n\u001b[K\u001b[4;5H\u001b[31m# Create a rulebook section for this unit.                                  \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrulebook\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m = []\u001b[K\r\n\treport.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name+\u001b[32m\"\\n\"\u001b[39;49m+(\u001b[32m\"-\"\u001b[39;49m*\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name)))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.description:\u001b[K\n\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.description+\u001b[32m\"\\n \"\u001b[39;49m)\r\n\treport.append(\u001b[32m\"Icon on map: %s\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.icon)\r\n\t\u001b[8P\t\t\b\u001b[32mMovement Range: %d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.move)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.terrain:\r\n\t    report.append(\u001b[32m\"    %d over %s\"\u001b[39;49m%(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.terrain[t],t))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"nocover\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[15;5H        report.append(\u001b[32m\"This unit does not receive defensive cover\"\u001b[39;49m)\u001b[K\u001b[16;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"indirect\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[K\u001b[17;5H        report.append(\u001b[32m\"Indirect attack unit\"\u001b[39;49m)\u001b[18;12H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[0] != \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[1]:\r\n\t    report.append(\u001b[32m\"Firing Range: %d-%d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng)\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\breport.append(\u001b[32m\"Firing Range: %d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[0])\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage:\u001b[K\n\u001b[7m7% L97 \u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, name, color):\u001b[K\r\n\t\u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Team, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(name, color)\u001b[4;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cash = 0\u001b[K\r\n\u001b[K\n\u001b[31m# Custom Unit subclass. Contains information such as HP, readiness, and         \u001b[39;49m\r\n\u001b[31m# a custom drawing method.                                                      \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mUnit\u001b[39;49m(grid.Unit):\u001b[K\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, name, rules):\u001b[K\r\n\t\u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Unit, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(name, rules[\u001b[32m\"icon\"\u001b[39;49m])\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.hp = 100\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.ready = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.move = rules[\u001b[32m\"move\"\u001b[39;49m]\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.anim = 0.0\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(rules[\u001b[32m\"damage\"\u001b[39;49m])\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties = \u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"properties\"\u001b[39;49m,[]))\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.terrain = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(rules[\u001b[32m\"terrain\"\u001b[39;49m])\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng = \u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"range\"\u001b[39;49m,[1,1]))\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.description = rules.get(\u001b[32m\"description\"\u001b[39;49m,\u001b[32m\"\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.capacity = rules.get(\u001b[32m\"capacity\"\u001b[39;49m,0)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.carry = \u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"carry\"\u001b[39;49m,[]))\u001b[K\r\n\u001b[K\u001b[23;30H\u001b[7m5% L78\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\r\n\t    report.append(\u001b[32m\"Can be captured\"\u001b[39;49m)\u001b[K\r\n\t    report.append(\u001b[32m\"Produces $%d per turn\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cash)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"build\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\r\n            report.append(\u001b[32m\"Can produce units:\"\u001b[39;49m)\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.build:\u001b[K\r\n                report.append(\u001b[32m\"    %s costs $%d\"\u001b[39;49m%(b,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.build[b]))\u001b[9;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"hq\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[K\r\n\t    report.append(\u001b[32m\"This team loses if this property is captured\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"repair\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\r\n\t    report.append(\u001b[32m\"Repairs the following units at start of a day:\"\u001b[39;49m)\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.repair:\r\n\t        report.append(\u001b[32m\"    %s (+%d%%)\"\u001b[39;49m%(b,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.repair[b]))\r\n\u001b[K\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# Custom Team subclass. Contains information such as resources.                 \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mTeam\u001b[39;49m(grid.Team):\u001b[K\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, name, color):\u001b[K\r\n\t\u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Team, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(name, color)\u001b[23;30H\u001b[7m4% L59\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, name, rules):\u001b[K\r\n\t\u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Cell, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(name, rules[\u001b[32m\"icon\"\u001b[39;49m], rules[\u001b[32m\"color\"\u001b[39;49m])\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defense = rules[\u001b[32m\"defense\"\u001b[39;49m]\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties = \u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"properties\"\u001b[39;49m,[]))\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.hp = 100\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cash = rules.get(\u001b[32m\"cash\"\u001b[39;49m,0)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.build = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"build\"\u001b[39;49m,{}))\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.description = rules.get(\u001b[32m\"description\"\u001b[39;49m,\u001b[32m\"\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.repair = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"repair\"\u001b[39;49m,{}))\u001b[K\r\n\u001b[K\u001b[12;5H\u001b[31m# Create a rulebook section for this terrain.                               \u001b[39;49m\r\n\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrulebook\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m = []\u001b[K\r\n\treport.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name+\u001b[32m\"\\n\"\u001b[39;49m+(\u001b[32m\"-\"\u001b[39;49m*\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name)))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.description:\u001b[17;13Hreport.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.description+\u001b[32m\"\\n \"\u001b[39;49m)\r\n\treport.append(\u001b[32m\"Icon on map: %s\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.icon)\r\n        report.append(\u001b[32m\"Defensive cover: %d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defense)\u001b[K\r\n\u001b[K\u001b[21;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\r\n\t    report.append(\u001b[32m\"Can be captured\"\u001b[39;49m)\u001b[K\u001b[23;30H\u001b[7m2% L40\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l\u001b[31m# A rules object handles all of the actual game play elements. The rules        \u001b[39;49m\r\n\u001b[31m# are what give meaning to the pieces in a Grid, and is controlled (usually)    \u001b[39;49m\r\n\u001b[31m# by a Controller that provides piecewise input.                                \u001b[39;49m\r\n\u001b[K\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m . \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m grid, widgets, storage, log\r\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m graphics \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m draw\u001b[K\r\n\u001b[K\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m copy, json\u001b[K\r\n\u001b[K\n\n\u001b[4P\u001b[C\u001b[C\u001b[31mGlobal strings. Stored to avoid mistyping. \u001b[39;49m\u001b[4@\u001b[31m    \u001b[39;49m\r\n\u001b[33mCTRL_COORD\u001b[39;49m = \u001b[32m\"coord\"\u001b[39;49m\u001b[K\r\n\u001b[33mCTRL_MENU\u001b[39;49m = \u001b[32m\"menu\"\u001b[39;49m\u001b[K\r\n\u001b[33mCTRL_UNDO\u001b[39;49m = \u001b[32m\"undo\"\u001b[39;49m\u001b[K\r\n\u001b[33mCTRL_EDITOR\u001b[39;49m = \u001b[32m\"editor\"\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# Custom Cell subclass. Contains information such as terrain defensive bonus.   \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mCell\u001b[39;49m(grid.Cell):\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, name, rules):\u001b[K\r\n\t\u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Cell, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(name, rules[\u001b[32m\"icon\"\u001b[39;49m], rules[\u001b[32m\"color\"\u001b[39;49m])\u001b[23;29H\u001b[7mTop L21\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\n\n\u001b[?25lBeginning of buffer\u001b[22;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u0007\u0007\u0007\u0007\u0007\n\n\u001b[K\u001b[2d\u001b[?25l    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, name, rules):\u001b[K\r\n        \u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Cell, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(name, rules[\u001b[32m\"icon\"\u001b[39;49m], rules[\u001b[32m\"color\"\u001b[39;49m])\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defense = rules[\u001b[32m\"defense\"\u001b[39;49m]\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties = \u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"properties\"\u001b[39;49m,[]))\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.hp = 100\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cash = rules.get(\u001b[32m\"cash\"\u001b[39;49m,0)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.build = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"build\"\u001b[39;49m,{}))\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.description = rules.get(\u001b[32m\"description\"\u001b[39;49m,\u001b[32m\"\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.repair = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"repair\"\u001b[39;49m,{}))\n\n\b\b\b\b\b\u001b[4P\r\u001b[4@\t\b\b\u001b[31mCreate a rulebook section for this terrain.\u001b[39;49m\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrulebook\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n        \u001b[33mreport\u001b[39;49m = []\r\n        report.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name+\u001b[32m\"\\n\"\u001b[39;49m+(\u001b[32m\"-\"\u001b[39;49m*\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name)))\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.description:\u001b[17;13Hreport.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.description+\u001b[32m\"\\n \"\u001b[39;49m)\r\n\treport.append(\u001b[32m\"Icon on map: %s\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.icon)\r\n        report.append(\u001b[32m\"Defensive cover: %d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defense)\u001b[K\r\n\u001b[K\u001b[21;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\r\n\t    report.append(\u001b[32m\"Can be captured\"\u001b[39;49m)\u001b[K\u001b[23;29H\u001b[7m 2%\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\r\n\t    report.append(\u001b[32m\"Can be captured\"\u001b[39;49m)\u001b[K\r\n\t    report.append(\u001b[32m\"Produces $%d per turn\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cash)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"build\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[K\r\n\t    report.append(\u001b[32m\"Can produce units:\"\u001b[39;49m)\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.build:\u001b[K\r\n\t        report.append(\u001b[32m\"    %s costs $%d\"\u001b[39;49m%(b,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.build[b]))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"hq\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[K\r\n\t    report.append(\u001b[32m\"This team loses if this property is captured\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"repair\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[12;5H        report.append(\u001b[32m\"Repairs the following units at start of a day:\"\u001b[39;49m)\u001b[K\u001b[13;5H        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.repair:\r\n\t        report.append(\u001b[32m\"    %s (+%d%%)\"\u001b[39;49m%(b,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.repair[b]))\r\n\u001b[K\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# Custom Team subclass. Contains information such as resources.                 \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mTeam\u001b[39;49m(grid.Team):\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, name, color):\u001b[K\r\n\t\u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Team, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(name, color)\u001b[23;30H\u001b[7m4% L39\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, name, color):\u001b[K\r\n\t\u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Team, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(name, color)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cash = 0\u001b[K\r\n\u001b[K\n\u001b[31m# Custom Unit subclass. Contains information such as HP, readiness, and         \u001b[39;49m\r\n\u001b[31m# a custom drawing method.                                                      \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mUnit\u001b[39;49m(grid.Unit):\u001b[K\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, name, rules):\r\n\t\u001b[1m\u001b[34msuper\u001b[0m\u001b[39;49m(Unit, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m).__init__(name, rules[\u001b[32m\"icon\"\u001b[39;49m])\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.hp = 100\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.ready = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.move = rules[\u001b[32m\"move\"\u001b[39;49m]\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.anim = 0.0\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(rules[\u001b[32m\"damage\"\u001b[39;49m])\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties = \u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"properties\"\u001b[39;49m,[]))\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.terrain = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(rules[\u001b[32m\"terrain\"\u001b[39;49m])\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng = \u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"range\"\u001b[39;49m,[1,1]))\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.description = rules.get(\u001b[32m\"description\"\u001b[39;49m,\u001b[32m\"\"\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.capacity = rules.get(\u001b[32m\"capacity\"\u001b[39;49m,0)\u001b[21;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.carry = \u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"carry\"\u001b[39;49m,[]))\r\n\u001b[K\u001b[23;30H\u001b[7m5% L58\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.carry = \u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m(rules.get(\u001b[32m\"carry\"\u001b[39;49m,[]))\r\n\u001b[K\u001b[4;5H\u001b[31m# Create a rulebook section for this unit.                                  \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrulebook\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n        \u001b[33mreport\u001b[39;49m = []\u001b[K\r\n        report.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name+\u001b[32m\"\\n\"\u001b[39;49m+(\u001b[32m\"-\"\u001b[39;49m*\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name)))\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.description:\u001b[9;5H        report.append(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.description+\u001b[32m\"\\n \"\u001b[39;49m)\r\n\treport.append(\u001b[32m\"Icon on map: %s\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.icon)\u001b[K\r\n\treport.append(\u001b[32m\"Movement Range: %d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.move)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.terrain:\r\n\t    report.append(\u001b[32m\"    %d over %s\"\u001b[39;49m%(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.terrain[t],t))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"nocover\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\r\n\t    report.append(\u001b[32m\"This unit does not receive defensive cover\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"indirect\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[K\r\n\t    report.append(\u001b[32m\"Indirect attack unit\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[0] != \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[1]:\u001b[K\r\n\t    report.append(\u001b[32m\"Firing Range: %d-%d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng)\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    report.append(\u001b[32m\"Firing Range: %d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[0])\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage:\n\u001b[7m7% L77\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l    report.append(\u001b[32m\"Firing Range: %d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[0])\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage:\u001b[4;5H        report.append(\u001b[32m\"    vs %s -%d%%\"\u001b[39;49m%(u, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage[u]))\u001b[K\u001b[5;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\r\n\t    report.append(\u001b[32m\"Can capture properties\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"carry\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties:\u001b[K\r\n\t    \u001b[33ma\u001b[39;49m = \u001b[32m\"Can carry up to %d of the following units:\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.capacity\u001b[9;27Ha)\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.carry:\u001b[K\r\n\t\u001b[8@\t\t\t\b\u001b[32m    %s\"\u001b[39;49m%u)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\u001b[K\u001b[15;5H\u001b[31m# Simulate an attack from this unit on a target including unit              \u001b[39;49m\r\n\u001b[16;5H\u001b[31m# bonuses and terrain effects.                                              \u001b[39;49m\r\n\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34msimulate\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, target, terrain, hp=\u001b[35mNone\u001b[39;49m):\u001b[18;12H\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m hp: \u001b[33mhp\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.hp\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"nocover\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.properties: \u001b[33mterrain\u001b[39;49m = 0\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m target \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage:\u001b[21;13H\u001b[33mbase\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage[target]\u001b[K\r\n\t    \u001b[33mcover\u001b[39;49m = 1.0 - (.1*terrain.defense)\u001b[23;30H\u001b[7m9% L96\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[33mbase\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.damage[target]\u001b[K\r\n\t    \u001b[33mcover\u001b[39;49m = 1.0 - (.1*terrain.defense)\u001b[4;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(base*.01*hp*cover)\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[7;5H\u001b[31m# This returns False if out of range and true if in range.                  \u001b[39;49m\r\n\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34min_range\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, dist):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m (dist >= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[0] \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m dist <= \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rng[1])\r\n\u001b[K\u001b[11;5H\u001b[31m# This drawing method overrides the default method by handling              \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# animations for when this unit is low on resources such as HP,             \u001b[39;49m\r\n\u001b[13;5H\u001b[31m# ammo, etc.                                                                \u001b[39;49m\r\n\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, col):\u001b[15;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.anim += .02\u001b[K\r\n\u001b[K\u001b[17;5H    \u001b[31m# Gray out units that can't act. Units are always bold.                 \u001b[39;49m\r\n\t\u001b[33mready\u001b[39;49m = \u001b[32m\"x\"\u001b[39;49m \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.ready \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m \u001b[32m\"\"\u001b[39;49m\r\n\t\u001b[33mcolor\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.team.color + ready + col + \u001b[32m\"!\"\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[31m# Build the animation for this unit based on values                     \u001b[39;49m\r\n\t\u001b[31m# that are running low (hp, fuel, etc).                                 \u001b[39;49m\r\n\u001b[23;29H\u001b[7m11% L115\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[31m# Build the animation for this unit based on values                     \u001b[39;49m\r\n\t\u001b[31m# that are running low (hp, fuel, etc).                                 \u001b[39;49m\r\n\t\u001b[33mframes\u001b[39;49m = [\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.icon]\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.hp < 90):\u001b[6;13Hframes.append( \u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m((\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.hp//10)+1)  )\u001b[7;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.anim) >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(frames):\u001b[K\u001b[8;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.anim = 0.0\u001b[K\r\n\t\u001b[33mimg\u001b[39;49m = frames[\u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.anim)]\u001b[K\u001b[11;63H\u001b[4P\u001b[11;5H\u001b[4@\u001b[11;11H\u001b[31mDraw the character.                                     \u001b[39;49m\u001b[12;5H    draw.char(x, y, img, color)\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# The Rules serve two purposes. Firstly, it is a factory that produces          \u001b[39;49m\r\n\u001b[31m# new objects according the needs of the game being played. Secondly, they      \u001b[39;49m\r\n\u001b[31m# serve as a state machine for performing legal actions and changing the        \u001b[39;49m\r\n\u001b[31m# state of the game grid.                                                       \u001b[39;49m\r\n\u001b[31m#                                                                               \u001b[39;49m\r\n\u001b[31m# Required methods:                                                             \u001b[39;49m\r\n\u001b[8P\u001b[C\u001b[C\u001b[31m  make_unit                                      \u001b[39;49m\u001b[8@\u001b[31m        \u001b[39;49m\r\n\u001b[8P\u001b[C\u001b[C\u001b[31m  make_team                          \u001b[39;49m\u001b[8@\u001b[31m        \u001b[39;49m\u001b[23;30H\u001b[7m2% L134\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[8P\u001b[2;3H\u001b[?25l\u001b[31m  make_unit                                      \u001b[39;49m\u001b[8@\u001b[31m        \u001b[39;49m\r\n\u001b[8P\u001b[3;3H\u001b[31m  make_team                          \u001b[39;49m\u001b[8@\u001b[31m        \u001b[39;49m\r\n\u001b[31m#   make_cell                                                                   \u001b[39;49m\r\n\u001b[31m#   pop_alerts                                                                  \u001b[39;49m\r\n\u001b[31m#   process                                                                     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mRules\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data, edit=\u001b[35mFalse\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data = data\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.edit = edit\r\n\u001b[K\n\t\u001b[31m# Create the grid with what's left.                                     \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = grid.Grid(data[\u001b[32m\"grid\"\u001b[39;49m], \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m)\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.edit:\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\u001b[K\r\n                \u001b[33mt.active\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m p \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data[\u001b[32m\"players\"\u001b[39;49m]:\u001b[K\r\n                \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams[data[\u001b[32m\"players\"\u001b[39;49m][p][\u001b[32m\"team\"\u001b[39;49m]]\u001b[K\r\n                \u001b[33mt.name\u001b[39;49m = p\u001b[K\r\n                \u001b[33mt.color\u001b[39;49m = data[\u001b[32m\"players\"\u001b[39;49m][p][\u001b[32m\"color\"\u001b[39;49m]\u001b[K\r\n                \u001b[33mt.active\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\n\b\b\u001b[7m4% L153\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l                \u001b[33mt.color\u001b[39;49m = data[\u001b[32m\"players\"\u001b[39;49m][p][\u001b[32m\"color\"\u001b[39;49m]\u001b[K\r\n                \u001b[33mt.active\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t.active:\u001b[K\r\n                    \u001b[33mt.name\u001b[39;49m = \u001b[32m\"Absent\"\u001b[39;49m\u001b[K\r\n                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defeated(t)\u001b[8;5H            \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().active \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.day==1:\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.end_turn()\u001b[10;14Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.restartpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\u001b[K\n\t\u001b[31m# The history contains all actions for this player turn.                \u001b[39;49m\r\n\u001b[14;14Hhistory = []\u001b[K\r\n\u001b[K\n\t\u001b[31m# These are the state variables                                         \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"play\"\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m edit:\u001b[K\n\b\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m] = []\u001b[21;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"edit\"\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[23;30H\u001b[7m5% L172\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m#   make_unit                                                                   \u001b[39;49m\r\n\u001b[31m#   make_team                                                                   \u001b[39;49m\r\n\u001b[31m#   make_cell                                                                   \u001b[39;49m\r\n\u001b[31m#   pop_alerts                                                                  \u001b[39;49m\r\n\u001b[31m#   process                                                                     \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mRules\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data, edit=\u001b[35mFalse\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data = data\u001b[K\u001b[10;14Hedit = edit\u001b[K\r\n\u001b[K\n\t\u001b[31m# Create the grid with what's left.                                     \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = []\u001b[K\u001b[14;14Hgrid = grid.Grid(data[\u001b[32m\"grid\"\u001b[39;49m], \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.edit:\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\u001b[K\r\n\t        \u001b[33mt.active\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m p \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data[\u001b[32m\"players\"\u001b[39;49m]:\r\n\t        \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams[data[\u001b[32m\"players\"\u001b[39;49m][p][\u001b[32m\"team\"\u001b[39;49m]]\u001b[20;13H    \u001b[33mt.name\u001b[39;49m = p\u001b[K\u001b[21;13H    \u001b[33mt.color\u001b[39;49m = data[\u001b[32m\"players\"\u001b[39;49m][p][\u001b[32m\"color\"\u001b[39;49m]\r\n\t\t\u001b[33mt.active\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\n\b\b\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l                \u001b[33mt.color\u001b[39;49m = data[\u001b[32m\"players\"\u001b[39;49m][p][\u001b[32m\"color\"\u001b[39;49m]\u001b[K\r\n                \u001b[33mt.active\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t.active:\u001b[K\r\n                    \u001b[33mt.name\u001b[39;49m = \u001b[32m\"Absent\"\u001b[39;49m\u001b[K\r\n                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defeated(t)\u001b[8;5H            \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team().active \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.day==1:\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.end_turn()\u001b[10;14Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.restartpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\u001b[K\n\t\u001b[31m# The history contains all actions for this player turn.                \u001b[39;49m\r\n\u001b[14;14Hhistory = []\u001b[K\r\n\u001b[K\n\t\u001b[31m# These are the state variables                                         \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"play\"\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m edit:\u001b[K\n\b\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m] = []\u001b[21;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"edit\"\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[23;30H\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"edit\"\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.winners = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[31m# other                                                                 \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[31m# Replay turn history.                                                  \u001b[39;49m\r\n\t\u001b[33mreplay\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data.pop(\u001b[32m\"history\"\u001b[39;49m,[])\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m] = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m turn \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m replay:\u001b[15;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m action \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m turn:\r\n\t        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m step \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m action:\u001b[K\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process(step)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end_turn()\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[22;5H\u001b[31m# Return a JSON string that can be saved to a file. The current             \u001b[39;49m\r\n\u001b[23;30H\u001b[7m7% L191\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[3;5H\u001b[?25l\u001b[31m# Return a JSON string that can be saved to a file. The current             \u001b[39;49m\r\n\u001b[4;5H\u001b[31m# turn in progress will be lost.                                            \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, griddata=\u001b[35mFalse\u001b[39;49m):\r\n\t\u001b[33mdata\u001b[39;49m = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m griddata:\u001b[K\r\n\t    \u001b[33mdata\u001b[39;49m[\u001b[32m\"grid\"\u001b[39;49m] = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.export()\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m json.dumps(data, indent=4)\u001b[11;5H\u001b[4P\t\b\b\u001b[31mThis function produces a Unit object based on the unit c\u001b[39;49m\u001b[4@\u001b[31mode.\u001b[39;49m\u001b[12;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mmake_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data):\u001b[K\r\n\t\u001b[33mname\u001b[39;49m = data[\u001b[32m\"name\"\u001b[39;49m]\u001b[K\r\n\t\u001b[33mu\u001b[39;49m = Unit(name, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m][name])\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m u\u001b[K\r\n\u001b[K\u001b[17;5H\u001b[31m# This function produces a Cell object based on the terrain code.           \u001b[39;49m\r\n\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mmake_cell\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data):\r\n\t\u001b[33mname\u001b[39;49m = data[\u001b[32m\"name\"\u001b[39;49m]\r\n\t\u001b[33mc\u001b[39;49m = Cell(name, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m][name])\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m c\r\n\u001b[K\u001b[23;30H\u001b[7m8% L210\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m c\r\n\u001b[K\u001b[4;7H\u001b[31mThis function produces a team\u001b[39;49m\r\n\t\u001b[1m\u001b[34mmake_team\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data):\u001b[K\r\n\t\u001b[33mt\u001b[39;49m = Team(data[\u001b[32m\"name\"\u001b[39;49m],data[\u001b[32m\"color\"\u001b[39;49m])\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m t\u001b[K\r\n\u001b[K\n\u001b[K\u001b[10;5H\u001b[31m# The rulebook has three pages. An overview, a page for units, and          \u001b[39;49m\r\n\t\b\b\u001b[31ma page for terrain.                                         \u001b[39;49m\u001b[12;14H\u001b[1m\u001b[34mrulebook\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33moverview\u001b[39;49m = [(\u001b[32m\"Overview\\n========\"\u001b[39;49m,\u001b[32m\"w!\"\u001b[39;49m)]\r\n\toverview.append(\u001b[32m\" \"\u001b[39;49m)\u001b[K\r\n\toverview.append(\u001b[32m\"One day I'll put the rules here.\"\u001b[39;49m)\r\n\n\u001b[K\u001b[18;5H    \u001b[33mquick\u001b[39;49m = [(\u001b[32m\"Quick Reference\\n===============\"\u001b[39;49m,\u001b[32m\"w!\"\u001b[39;49m)]\r\n\u001b[K\n\t\u001b[31m# The third section has all of the units, listed in order.              \u001b[39;49m\r\n\t\u001b[31m# We create temporary unit objects that are responsible for             \u001b[39;49m\r\n\t\u001b[31m# writing their own sections.                                           \u001b[39;49m\r\n\u001b[23;30H\u001b[7m9% L229\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[31m# We create temporary unit objects that are responsible for             \u001b[39;49m\r\n\t\u001b[31m# writing their own sections.                                           \u001b[39;49m\r\n\u001b[4;5H    \u001b[33munits\u001b[39;49m = [(\u001b[32m\"Unit Intel\\n==========\"\u001b[39;49m,\u001b[32m\"w!\"\u001b[39;49m)]\u001b[K\u001b[5;5H    quick.append(\u001b[32m\" \"\u001b[39;49m)\u001b[K\r\n\tquick.append(\u001b[32m\"Units\\n----------------------\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m uni \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\u001b[8;13H\u001b[33mU\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_unit({\u001b[32m\"name\"\u001b[39;49m:uni})\u001b[9;13H\u001b[33munits\u001b[39;49m += [\u001b[32m\" \"\u001b[39;49m]+U.rulebook()+[\u001b[32m\" \"\u001b[39;49m]\u001b[10;5H        quick.append(\u001b[32m\"%20s %s\"\u001b[39;49m%(U.name, U.icon))\u001b[K\r\n\u001b[K\u001b[12;5H    \u001b[31m# The fourth part is just like the second, except for terrain.          \u001b[39;49m\r\n\t\u001b[33mterrain\u001b[39;49m = [(\u001b[32m\"Terrain Int\u001b[39;49m\u001b[9@\u001b[32mel\\n=====\u001b[39;49m\r\n\tquick\u001b[3P\r\n\tquick.append(\u001b[32m\"Terrain\\n----------------------\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m ter \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\u001b[17;13H\u001b[33mT\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_cell({\u001b[32m\"name\"\u001b[39;49m:ter})\r\n\t    \u001b[33mterrain\u001b[39;49m += [\u001b[32m\" \"\u001b[39;49m]+T.rulebook()+[\u001b[32m\" \"\u001b[39;49m]\u001b[K\u001b[19;13Hquick.append(\u001b[32m\"%20s %s\"\u001b[39;49m%(T.name, T.icon))\r\n\u001b[K\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m [overview,quick,units,terrain]\u001b[K\r\n\u001b[K\u001b[23;29H\u001b[7m21% L248\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m [overview,quick,units,terrain]\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[8;5H\u001b[31m# Get movement range of the unit at x,y. Returns nothing                    \u001b[39;49m\r\n\u001b[9;5H\u001b[31m# if the tile is empty or does not exist. All of the positions              \u001b[39;49m\r\n\u001b[10;5H\u001b[31m# returned are guaranteed to be tiles that the unit could                   \u001b[39;49m\r\n\u001b[11;5H\u001b[31m# stop moving on.                                                           \u001b[39;49m\r\n\u001b[12;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mget_move_range\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[33munit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m unit:\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m []\u001b[K\r\n\u001b[K\n\t\u001b[31m# Use the naive flood-fill algorithm to get neighboring                 \u001b[39;49m\r\n\t\u001b[31m# tiles. TODO: handle allied units                                      \u001b[39;49m\r\n\t\u001b[33mreport\u001b[39;49m = []\u001b[K\r\n\t\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m_floodfill\u001b[0m\u001b[39;49m(pos,r,top=\u001b[35mFalse\u001b[39;49m):\r\n\t    \u001b[33ma\u001b[39;49m,\u001b[33mb\u001b[39;49m = pos\u001b[K\u001b[22;13H\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(a,b)\u001b[23;30H\u001b[7m3% L267\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l    \u001b[33ma\u001b[39;49m,\u001b[33mb\u001b[39;49m = pos\u001b[K\u001b[3;13H\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(a,b)\u001b[4;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t.unit \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m t.unit.allied(unit)):\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m top:\u001b[6;21H\u001b[33mr\u001b[39;49m -= unit.terrain.get(t.name,r)\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (a,b) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m report \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.name \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m unit.terrain:\u001b[8;5H                report.append((a,b))\u001b[K\u001b[9;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m r > 0:\u001b[K\u001b[10;5H                _floodfill((a-1,b),r)\u001b[K\u001b[11;5H                _floodfill((a+1,b),r)\u001b[K\u001b[12;5H                _floodfill((a,b-1),r)\r\n\t            _floodfill((a,b+1),r)\r\n\t_floodfill((x,y),unit.move,\u001b[35mTrue\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m [(x,y) \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m report \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y) \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m\r\n\t                                      \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y) \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m\u001b[K\r\n\t                                      \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y).team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m\u001b[K\r\n\t                                      unit.team)]\r\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;30H\u001b[7m4% L286\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[6;5H\u001b[?25l\u001b[31m# This is the attack action. This is what actually has side effects.        \u001b[39;49m\r\n\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34maction_attack\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, atk_pos, def_pos):\u001b[K\r\n\t\u001b[33max\u001b[39;49m,\u001b[33may\u001b[39;49m = atk_pos\u001b[K\r\n\t\u001b[33mdx\u001b[39;49m,\u001b[33mdy\u001b[39;49m = def_pos\u001b[K\r\n\t\u001b[33matk_unit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(ax,ay)\r\n\t\u001b[33mdef_unit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(dx,dy)\r\n\t\u001b[33mdist\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.dist((ax,ay),(dx,dy))\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m atk_unit: \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Attack square is empty.\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m def_unit: \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Defend square is empty.\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[31m# This is the basic attack formula.                                     \u001b[39;49m\r\n\t\u001b[33ma_terrain\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(ax,ay)\u001b[K\r\n\t\u001b[33md_terrain\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(dx,dy)\u001b[K\r\n\t\u001b[33mdef_unit.hp\u001b[39;49m -= atk_unit.simulate(def_unit.name, d_terrain)\r\n\n\t\u001b[33mcounter\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[23;30H\u001b[7m6% L305\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\n\t\u001b[?25l\u001b[33mcounter\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_unit.hp <= 0: \u001b[33mcounter\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"indirect\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m def_unit.properties: \u001b[33mcounter\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[6;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m def_unit.in_range(dist): \u001b[33mcounter\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m counter:\u001b[K\r\n\t    \u001b[33matk_unit.hp\u001b[39;49m -= def_unit.simulate(atk_unit.name, a_terrain)\r\n\u001b[K\n\t\u001b[31m# Remove destroyed units from grid and prevent HP from falling into     \u001b[39;49m\r\n\t\u001b[31m# the negatives.                                                        \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m atk_unit.hp <= 0:\r\n\t    \u001b[33matk_unit.hp\u001b[39;49m = 0\u001b[K\r\n\t    \u001b[33ma_terrain.hp\u001b[39;49m = 100\u001b[K\u001b[16;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(ax,ay)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_unit.hp <= 0:\u001b[K\r\n\t    \u001b[33mdef_unit.hp\u001b[39;49m = 0\u001b[K\r\n\t\u001b[4@\u001b[19;22H\u001b[33m.hp\u001b[39;49m = 100\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(dx,dy)\u001b[K\r\n\n\t\u001b[31m# Check and see if the last unit died.                                  \u001b[39;49m\r\n\u001b[23;30H\u001b[7m7% L324\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\n\t\u001b[?25l\u001b[31m# Check and see if the last unit died.                                  \u001b[39;49m\r\n\t\u001b[33ma_alive\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[33md_alive\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (tx,ty) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles_xy():\u001b[K\u001b[7;13H\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(tx,ty)\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m atk_unit.team: \u001b[33ma_alive\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[9;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m def_unit.team: \u001b[33md_alive\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m a_alive: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defeated(atk_unit.team)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m d_alive: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defeated(def_unit.team)\u001b[K\r\n\u001b[K\u001b[13;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mpump_info\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.edit:\u001b[16;18Hstart_turn()\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = []\u001b[K\r\n\u001b[K\n\t\u001b[31m# Info 1 is global team information.                                    \u001b[39;49m\r\n\t\u001b[33minfo1\u001b[39;49m = [ (\u001b[32m\"Day %d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.day,\u001b[32m\"w!\"\u001b[39;49m)]\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.edit:\u001b[K\u001b[23;30H\u001b[7m9% L343\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[33minfo1\u001b[39;49m = [ (\u001b[32m\"Day %d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.day,\u001b[32m\"w!\"\u001b[39;49m)]\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.edit:\u001b[K\r\n\t    \u001b[33minfo1\u001b[39;49m = [(\u001b[32m\"Map Editing\"\u001b[39;49m,\u001b[32m\"w!\"\u001b[39;49m)]\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\r\n\t    \u001b[33mmoney\u001b[39;49m = \u001b[32m\"$%d\"\u001b[39;49m%t.cash\u001b[K\u001b[7;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.cash >= 10000:\u001b[K\u001b[8;13H    \u001b[33mmoney\u001b[39;49m = \u001b[32m\"$%dK\"\u001b[39;49m%(t.cash/1000)\u001b[K\r\n\t\t\bt.cash >= 1000000:\u001b[K\r\n\t        \u001b[33mmoney\u001b[39;49m = \u001b[32m\"$RICH\"\u001b[39;49m\u001b[K\r\n\t    \u001b[33mspace\u001b[39;49m = \u001b[32m\" \"\u001b[39;49m*(14-\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(t.name[:8])-\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(money))\u001b[12;13H\u001b[33mcol\u001b[39;49m = t.color\u001b[13;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t.active:\u001b[K\u001b[14;5H            \u001b[33mcol\u001b[39;49m = \u001b[32m\"x!\"\u001b[39;49m\u001b[K\r\n\t    info1.append( (\u001b[32m\"%s%s%s\"\u001b[39;49m%(t.name[:8], space, money), col) )\r\n\u001b[K\n\t\u001b[31m# If attack is in the action, we need to get the estimated              \u001b[39;49m\r\n\t\u001b[31m# damage to show the player.                                            \u001b[39;49m\r\n\t\u001b[33mdmg1\u001b[39;49m, \u001b[33mdmg2\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m,\u001b[32m\"\"\u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"Attack\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\r\n\t    \u001b[33max\u001b[39;49m,\u001b[33may\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]\u001b[K\r\n\t    \u001b[33matk_unit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(ax,ay)\u001b[23;29H\u001b[7m30% L362\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l    \u001b[33max\u001b[39;49m,\u001b[33may\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]\u001b[K\r\n\t    \u001b[33matk_unit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(ax,ay)\u001b[4;13H\u001b[33mdef_unit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m atk_unit \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m def_unit:\u001b[6;13H    \u001b[33ma_terrain\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(ax,ay)\u001b[7;13H    \u001b[33md_terrain\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\r\n\t\t\u001b[33mdist\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.dist((ax,ay),(x,y))\u001b[9;13H    \u001b[33mest\u001b[39;49m = atk_unit.simulate(def_unit.name,d_terrain)\r\n\t\t\u001b[33mdmg1\u001b[39;49m = \u001b[32m\"-%d%%\"\u001b[39;49m%est\u001b[11;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m est > def_unit.hp:\u001b[K\u001b[12;13H        \u001b[33mest\u001b[39;49m = def_unit.hp\u001b[13;13H    \u001b[33mdmg2\u001b[39;49m = \u001b[32m\"-%d%%\"\u001b[39;49m%(def_unit.simulate(atk_unit.name,a_terrain,\r\n\t\t                                  atk_unit.hp-est))\r\n\u001b[K\n\t\t\u001b[33mcounter\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"indirect\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m def_unit.properties: \u001b[33mcounter\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m def_unit.in_range(dist): \u001b[33mcounter\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m counter: \u001b[33mdmg2\u001b[39;49m = \u001b[32m\"-0%\"\u001b[39;49m\r\n\u001b[K\n\t\u001b[31m# Info 2 is for the intel on the hovering tile.                         \u001b[39;49m\r\n\t\u001b[33minfo2\u001b[39;49m = []\u001b[K\u001b[23;30H\u001b[7m2% L381\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[31m# Info 2 is for the intel on the hovering tile.                         \u001b[39;49m\r\n\t\u001b[33minfo2\u001b[39;49m = []\u001b[K\r\n\t\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[K\r\n\t\u001b[33mtcol\u001b[39;49m = \u001b[32m\"w\"\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t:\u001b[K\n\b\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.team:\u001b[K\r\n\t\t\u001b[33mtcol\u001b[39;49m = t.team.color\u001b[K\u001b[9;13H\u001b[33minfo2\u001b[39;49m += [ (t.name,tcol),\u001b[K\r\n\t\t       (\u001b[32m\"DEF +%d\"\u001b[39;49m%t.defense,tcol)]\u001b[11;13H\u001b[33mu\u001b[39;49m = t.unit\u001b[K\u001b[12;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\u001b[K\n\b\u001b[33mucol\u001b[39;49m = u.team.color\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.hp < 100:\u001b[K\u001b[15;21H\u001b[33minfo2\u001b[39;49m += [(\u001b[32m\"Capturing: %d%%\"\u001b[39;49m%t.hp,ucol)]\r\n\t\t\u001b[33minfo2\u001b[39;49m += [ (\u001b[32m\" \"\u001b[39;49m,\u001b[32m\"\"\u001b[39;49m),\r\n\t\t           (u.name,ucol+\u001b[32m\"!\"\u001b[39;49m),\u001b[K\r\n\t\t           (\u001b[32m\"HP %d%% %s\"\u001b[39;49m%(u.hp,dmg1),ucol) ]\u001b[K\r\n\u001b[K\n\n\u001b[K\n\t\u001b[31m# Info 3 is for the unit that is currently selected.                    \u001b[39;49m\r\n\u001b[23;30H\u001b[7m4% L400\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\n\t\u001b[?25l\u001b[31m# Info 3 is for the unit that is currently selected.                    \u001b[39;49m\r\n\t\u001b[33minfo3\u001b[39;49m = []\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action) > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.edit:\r\n\t    \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\r\n\t\t\b\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action) > 1:\r\n\t\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]\u001b[9;13H\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[10;13H\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\u001b[11;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\u001b[K\n\b\b\b\b\b    \u001b[33mcol\u001b[39;49m = u.team.color\r\n\t\t\u001b[33minfo3\u001b[39;49m = [(u.name,col+\u001b[32m\"!\"\u001b[39;49m),\r\n\t\t         (\u001b[32m\"DEF +%d\"\u001b[39;49m%t.defense,col),\u001b[15;21H     (\u001b[32m\"HP %d%% %s\"\u001b[39;49m%(u.hp,dmg2),col)]\u001b[K\r\n\u001b[K\n\u001b[K\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report, info1, info2, info3\u001b[K\u001b[20;5H\u001b[31m# This sets the state back to start while also restoring the previous       \u001b[39;49m\r\n\u001b[21;5H\u001b[31m# checkpoint of the world. When the controller gets CTRL_UNDO, it is        \u001b[39;49m\r\n\u001b[22;5H\u001b[4P\t\b\b\u001b[31msupposed to set its camera's grid to the new one. \u001b[39;49m\u001b[4@\u001b[31m    \u001b[39;49m\u001b[23;30H\u001b[7m6% L419\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m# checkpoint of the world. When the controller gets CTRL_UNDO, it is        \u001b[39;49m\r\n\u001b[3;5H\u001b[4P\t\b\b\u001b[31msupposed to set its camera's grid to the new one. \u001b[39;49m\u001b[4@\u001b[31m    \u001b[39;49m\u001b[4;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mstart_over\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"play\"\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_UNDO\u001b[K\r\n\u001b[K\u001b[11;5H\u001b[31m# When a move is completed and we return to the start state, we             \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# change the checkpoint and save the move in our history.                   \u001b[39;49m\r\n\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mcommit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.append((\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action))\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"play\"\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"play\"\u001b[39;49m)\r\n\u001b[K\n\t\b\b\u001b[31mWhen we undo, we go back to a previous spot in the history.       \u001b[39;49m\u001b[22;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mundo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, total=\u001b[35mFalse\u001b[39;49m):\u001b[K\n\b\b\b\u001b[7m7% L438\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\b\u001b[?25l\u001b[31mWhen we undo, we go back to a previous spot in the history.       \u001b[39;49m\u001b[3;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mundo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, total=\u001b[35mFalse\u001b[39;49m):\u001b[K\u001b[4;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history) > 0:\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m total:\u001b[K\r\n\t        \u001b[33mcp\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.restartcopy\r\n\t\u001b[8@\u001b[7;22Hhistory\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[33mcp\u001b[39;49m,\u001b[33maction\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.pop()\u001b[11;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = cp\u001b[K\u001b[12;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(cp)\u001b[K\u001b[13;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[14;14Hstate = \u001b[32m\"play\"\u001b[39;49m\u001b[K\u001b[15;14Hchoices = []\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_UNDO\u001b[K\r\n\u001b[K\u001b[18;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mstart_turn\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.restartcopy = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[21;5H    \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[K\r\n\u001b[K\u001b[23;30H\u001b[7m9% L457\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[K\r\n\u001b[K\n\t\u001b[31m# Give the player their money.                                          \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tile \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles():\u001b[6;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m t:\u001b[K\r\n\t\t\u001b[33mu\u001b[39;49m = tile.unit\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.hp < 100 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.name \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair:\u001b[9;13H        \u001b[33mu.hp\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(100,u.hp+tile.repair[u.name])\r\n\t\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[11;13H        \u001b[33mt.cash\u001b[39;49m += tile.cash\r\n\u001b[K\n\t\u001b[31m# Make the turn-start alert.                                            \u001b[39;49m\r\n\t\u001b[33mm1\u001b[39;49m = \u001b[32m\"%s: Day %d\"\u001b[39;49m%(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.name, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.day)\r\n\t\u001b[33mm2\u001b[39;49m = \u001b[32m\"%s - move out!\"\u001b[39;49m%t.name\r\n\t\u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(m1),\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(m2))+1\r\n\t\u001b[33ma\u001b[39;49m = widgets.Alert(w,2,m1+\u001b[32m\"\\n\"\u001b[39;49m+m2,t.color)\u001b[18;5H    \u001b[33ma.time\u001b[39;49m = 50\u001b[K\u001b[19;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append((a,\u001b[32m\"c\"\u001b[39;49m))\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = \u001b[35mFalse\u001b[39;49m\u001b[23;29H\u001b[7m40% L476\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = \u001b[35mFalse\u001b[39;49m\r\n\u001b[K\u001b[5;5H\u001b[31m# Mark the team as defeated. This destroys all of their units, sets their   \u001b[39;49m\r\n\u001b[6;5H\u001b[31m# funds to zero, and marks them as inactive, unable to take future turns.   \u001b[39;49m\r\n\u001b[7;5H\u001b[31m# Properties are still left intact - capturing the enemy HQ will reward     \u001b[39;49m\r\n\u001b[8;5H\u001b[31m# you by giving you all of the properties belonging to the team.            \u001b[39;49m\r\n\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdefeated\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, team):\u001b[K\r\n\t\u001b[33mteam.active\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (tx,ty) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles_xy():\u001b[12;13H\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(tx,ty)\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team == team:\u001b[K\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(tx,ty)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units = [u \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m team]\r\n\u001b[K\n\tm = \u001b[32m\"%s has been defeated!\"\u001b[39;49m%(team.name)\u001b[K\r\n\ta = widgets.Alert(\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(m)+1,1,m,team.color)\r\n\ta.time = 50\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append((a,\u001b[32m\"c\"\u001b[39;49m))\r\n\u001b[K\u001b[22;5H\u001b[31m# When we end the turn, we flush the history buffer and save a new          \u001b[39;49m\r\n\u001b[23;30H\u001b[7m2% L495\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[3;5H\u001b[?25l\u001b[31m# When we end the turn, we flush the history buffer and save a new          \u001b[39;49m\r\n\u001b[4;5H\u001b[31m# checkpoint.                                                               \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mend_turn\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\u001b[6;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state != \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action != []:\u001b[K\u001b[7;5H        \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Can't end right now\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[9;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units:\r\n\t    \u001b[33mu.ready\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m].append([acts \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (cp,acts) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history])\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.end_turn()\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[K\u001b[15;14Haction = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\u001b[K\n\t\u001b[31m# Finally, figure out if we've won. If we have, then put the map in     \u001b[39;49m\r\n\t\u001b[31m# \"finished\" mode and allow the player to leave. The game is only       \u001b[39;49m\r\n\t\u001b[31m# won when the final player ends their turn.                            \u001b[39;49m\r\n\u001b[22;5H    \u001b[33mwinner\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[23;30H\u001b[7m4% L514\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[31m# won when the final player ends their turn.                            \u001b[39;49m\r\n\u001b[3;5H    \u001b[33mwinner\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[4;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m at \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]:\u001b[K\u001b[5;5H        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m ot \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]:\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m at.allied(ot):\u001b[K\u001b[7;13H        \u001b[33mwinner\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m winner:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.winners = [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]\r\n\t    \u001b[31m#self.state = \"over\"                                                \u001b[39;49m\r\n\u001b[K\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"play\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[14;5H\u001b[31m# This sets the new state and returns the appropriate code                  \u001b[39;49m\r\n\u001b[15;5H\u001b[31m# to the caller for what kind of input should come next.                    \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtransition\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, new_state):\u001b[17;14Hstate = new_state\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m   \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"play\"\u001b[39;49m     : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"main menu\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"moving\"\u001b[39;49m   : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\u001b[K\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"unload\"\u001b[39;49m   : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"unload drop\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\u001b[23;30H\u001b[7m5% L533\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"unload\"\u001b[39;49m   : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"unload drop\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"action\"\u001b[39;49m   : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"attacking\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\u001b[K\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"building\"\u001b[39;49m : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\r\n\u001b[K\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m     : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit menu\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"unit team\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"draw terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\u001b[14;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"terrain team\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\u001b[15;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"save map\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_EDITOR\u001b[K\u001b[16;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"rule unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"rule terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"page unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_EDITOR\u001b[19;29H\u001b[32mpage terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_EDITOR\r\n\u001b[K\u001b[21;11H\u001b[1m\u001b[36mse\u001b[0m\u001b[39;49m: \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"No such state.\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[23;30H\u001b[7m7% L552\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;11H\u001b[?25l\u001b[1m\u001b[36mse\u001b[0m\u001b[39;49m: \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"No such state.\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[4;5H\u001b[31m# This processes input of two types: coordinates and strings.               \u001b[39;49m\r\n\u001b[5;5H\u001b[31m# A string is the input from a menu, such as \"attack\" or \"wait\".            \u001b[39;49m\r\n\u001b[6;5H\u001b[31m# A coordinate is an x,y location on the grid.                              \u001b[39;49m\r\n\u001b[7;5H\u001b[31m# Has one of four return values:                                            \u001b[39;49m\r\n\u001b[8;5H\u001b[31m#     None: Tell the controller to do nothing                               \u001b[39;49m\r\n\u001b[9;5H\u001b[31m#     menu: Tell the controller to render a menu                            \u001b[39;49m\r\n\u001b[10;5H\u001b[31m#     coord: Tell the controller to give it a coord                         \u001b[39;49m\r\n\u001b[11;5H\u001b[31m#     undo: Tell the controller to reload the grid                          \u001b[39;49m\r\n\u001b[12;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m   \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"play\"\u001b[39;49m     : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_play(c)\u001b[14;29H\u001b[32mmain menu\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_main_menu(c)\u001b[15;29H\u001b[32mmoving\"\u001b[39;49m   : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_moving(c)\u001b[16;29H\u001b[32maction\"\u001b[39;49m   : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_action(c)\u001b[17;29H\u001b[32mattacking\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_attacking(c)\u001b[18;29H\u001b[32mbuilding\"\u001b[39;49m : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_building(c)\u001b[19;29H\u001b[32munload\"\u001b[39;49m   : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_unload(c)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"unload drop\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_unload_drop(c)\r\n\u001b[K\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m     : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_edit(c)\u001b[23;30H\u001b[7m9% L571\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\n\t\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m     : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_edit(c)\u001b[4;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit menu\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_edit_menu(c)\u001b[K\u001b[5;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_edit_unit(c)\u001b[K\u001b[6;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_edit_terrain(c)\u001b[K\u001b[7;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"unit team\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_unit_team(c)\u001b[K\u001b[8;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"terrain team\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_terrain_team(c)\u001b[K\u001b[9;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"draw terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_draw_terrain(c)\u001b[K\u001b[10;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"save map\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_save_map(c)\u001b[K\u001b[11;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"rule unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_rule_unit(c)\u001b[K\u001b[12;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"rule terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_rule_terrain(c)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"page unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_page_unit(c)\u001b[14;29H\u001b[32mpage terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_page_terrain(c)\r\n\u001b[K\n\u001b[K\u001b[17;5H\u001b[31m# State    : Play (expected input, tuple)                                   \u001b[39;49m\r\n\u001b[18;5H\u001b[31m# Expected : Tuple (unit or friendly factory)                               \u001b[39;49m\r\n\u001b[19;5H\u001b[31m# Next step: If unit: coordinates of range of unit                          \u001b[39;49m\r\n\u001b[20;5H\u001b[31m#            If factory: list of possible buildables                        \u001b[39;49m\r\n\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_play\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[K\u001b[23;29H\u001b[7m52% L590\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_play\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[K\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,y = coord\u001b[K\r\n\tt = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[K\r\n\tu = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\r\n\t\u001b[33mteam\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[K\r\n\u001b[K\n\t\u001b[31m# If no unit, check for terrain                                         \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append((x,y))\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[32m\"build\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m t.properties \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m team:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m t.build:\u001b[K\r\n\t\t\u001b[33mp\u001b[39;49m = t.build[b]\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m p <= team.cash:\u001b[17;5H                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"%s $%d\"\u001b[39;49m%(b,p))\u001b[K\u001b[18;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Cancel\"\u001b[39;49m)\u001b[K\u001b[19;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"building\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[21;5H    \u001b[31m# Even if the unit isn't ours (or isn't ready) we still enter the       \u001b[39;49m\r\n\t\u001b[31m# \"move\" state so that we can see its movement range. Actually          \u001b[39;49m\r\n\u001b[23;30H\u001b[7m5% L609\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[31m# Even if the unit isn't ours (or isn't ready) we still enter the       \u001b[39;49m\r\n\t\u001b[31m# \"move\" state so that we can see its movement range. Actually          \u001b[39;49m\r\n\t\u001b[31m# moving the unit will be stopped at the process_moving step.           \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (qx,qy) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_move_range(x,y):\r\n\t        \u001b[33munit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(qx,qy)\r\n\t\t\u001b[33mkeep\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m unit:\u001b[K\r\n\t            \u001b[33mkeep\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m unit \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m u: \u001b[33mkeep\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[13;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m unit.name == u.name: keep = \u001b[35mTrue\u001b[39;49m\u001b[14;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[32m\"carry\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m unit.properties \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.name \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m unit.carry\r\n\t\t        \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(unit.carrying) < unit.capacity):\r\n\t\t        \u001b[33mkeep\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m keep:\u001b[K\u001b[18;13H\u001b[8@\t\t\t\t(qx,qy))\u001b[K\u001b[19;37H\u001b[32mmoving\"\u001b[39;49m)\u001b[K\u001b[21;11H\u001b[31mWhatever else happens, main menu.                              \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Back\"\u001b[39;49m,\u001b[32m\"End Turn\"\u001b[39;49m,\u001b[32m\"Surrender\"\u001b[39;49m,\u001b[32m\"Undo\"\u001b[39;49m,\u001b[32m\"Start Over\"\u001b[39;49m]\u001b[K\u001b[23;30H\u001b[7m6% L628\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;11H\u001b[?25l\u001b[31mWhatever else happens, main menu.                              \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Back\"\u001b[39;49m,\u001b[32m\"End Turn\"\u001b[39;49m,\u001b[32m\"Surrender\"\u001b[39;49m,\u001b[32m\"Undo\"\u001b[39;49m,\u001b[32m\"Start Over\"\u001b[39;49m]\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"main menu\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\u001b[K\u001b[7;5H\u001b[31m# State    : Moving (expected input, tuple)                                 \u001b[39;49m\r\n\u001b[8;5H\u001b[31m# Expected : Tuple in range                                                 \u001b[39;49m\r\n\u001b[9;5H\u001b[31m# Next step: If in range, move                                              \u001b[39;49m\r\n\u001b[10;5H\u001b[31m#            If out of range, cancel                                        \u001b[39;49m\r\n\u001b[11;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_moving\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[K\u001b[13;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = coord\u001b[K\r\n\t\u001b[33mox\u001b[39;49m,\u001b[33moy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\t\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(ox,oy)\r\n\t\u001b[33mteam\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\r\n\t\u001b[33mutarg\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\r\n\u001b[K\n\t\u001b[31m# If coord was in range, move the unit and return possible actions.     \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m team \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.ready:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append((x,y))\u001b[K\u001b[23;30H\u001b[7m8% L647\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m team \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.ready:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append((x,y))\u001b[K\r\n\u001b[K\u001b[5;13H\u001b[31m# Join units with the same name.                                    \u001b[39;49m\r\n\u001b[6;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (utarg \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m utarg.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m team \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m\u001b[7;5H           utarg.name == u.name \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m utarg \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u):\u001b[K\u001b[8;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(ox,oy)\u001b[K\u001b[9;5H            \u001b[33mstart_hp\u001b[39;49m = utarg.hp\u001b[K\u001b[10;5H            \u001b[33mutarg.hp\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(100, utarg.hp+u.hp)\u001b[K\u001b[11;5H            \u001b[33ma\u001b[39;49m = widgets.HPAlert(6,1,utarg.team.color,start_hp,utarg.hp,0)\r\n\t        \u001b[33ma.time\u001b[39;49m = (utarg.hp - start_hp) + 50\u001b[13;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts += [(a,\u001b[32m\"tr\"\u001b[39;49m)]\u001b[K\r\n\t        \u001b[33mutarg.ready\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (utarg \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m utarg \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[32m\"carry\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m utarg.properties):\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(ox,oy)\u001b[33m.unit\u001b[39;49m = \u001b[35mNone\u001b[39;49m\r\n\t        utarg.carrying.append(u)\r\n\t\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\r\n\u001b[K\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\u001b[K\u001b[23;29H\u001b[7m60% L666\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\u001b[K\u001b[4;13H\u001b[33mmoved\u001b[39;49m = (x,y)!=(ox,oy)\u001b[5;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m moved:\u001b[K\u001b[6;13H    \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(ox,oy)\u001b[K\r\n\t\t\b \u001b[33mt.hp\u001b[39;49m = 100\u001b[K\r\n\u001b[K\u001b[9;13H\u001b[31m# Determine if a target is in range.                                \u001b[39;49m\r\n\u001b[10;13H\u001b[33mattackable\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[11;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m px,py \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_range((x,y),u.rng[0],u.rng[1]):\u001b[K\u001b[12;18H = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(px,py)\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m a \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m a.allied(u):\r\n\t\t    \u001b[33mattackable\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[15;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"indirect\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.properties \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m moved:\u001b[16;13H    \u001b[33mattackable\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[17;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m attackable:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Attack\"\u001b[39;49m)\r\n\u001b[K\u001b[20;13H\u001b[31m# If the cell you are on is capturable, add that option to          \u001b[39;49m\r\n\u001b[21;13H\u001b[31m# the list.                                                         \u001b[39;49m\r\n\u001b[22;13H\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[23;30H\u001b[7m2% L685\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[31m# the list.                                                         \u001b[39;49m\r\n\u001b[3;13H\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[4;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m t.properties \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.properties\u001b[5;13H    \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m team.allied(t.team)):\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Capture\"\u001b[39;49m)\u001b[7;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(u.carrying) > 0):\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Unload\"\u001b[39;49m)\r\n\u001b[K\u001b[10;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.move_unit((ox,oy),(x,y))\u001b[11;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices += [\u001b[32m\"Wait\"\u001b[39;49m,\u001b[32m\"Cancel\"\u001b[39;49m]\u001b[K\u001b[12;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"action\"\u001b[39;49m\r\n\u001b[K\n\t\u001b[31m# If the coord was out of range, undo everything.                       \u001b[39;49m\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start_over()\u001b[K\r\n\u001b[K\u001b[17;5H\u001b[31m# State: main menu (expected, menu option)                                  \u001b[39;49m\r\n\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_main_menu\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[20;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\t\u001b[31m# Leave the menu.                                                       \u001b[39;49m\r\n\u001b[23;30H\u001b[7m3% L704\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\n\t\u001b[?25l\u001b[31m# Leave the menu.                                                       \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Back\"\u001b[39;49m:\u001b[K\u001b[5;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start_over()\u001b[K\r\n\u001b[K\n\t\u001b[31m# End my turn.                                                          \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"End Turn\"\u001b[39;49m:\u001b[K\u001b[9;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[10;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end_turn()\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Undo\"\u001b[39;49m:\u001b[K\u001b[13;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.undo()\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Start Over\"\u001b[39;49m:\u001b[K\u001b[16;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.undo(\u001b[35mTrue\u001b[39;49m)\r\n\u001b[K\u001b[18;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Surrender\"\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defeated(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team())\u001b[20;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[K\u001b[21;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\r\n\u001b[K\u001b[23;30H\u001b[7m5% L723\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\r\n\u001b[K\n\u001b[K\u001b[5;5H\u001b[31m# State: main menu (expected, menu option)                                  \u001b[39;49m\r\n\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_building\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[31m# Leave the menu.                                                       \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Cancel\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start_over()\r\n\u001b[K\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\r\n\t    \u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[16;13Hteam = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[17;13H\u001b[33munit\u001b[39;49m, cost = opt.rsplit(\u001b[35mNone\u001b[39;49m,1)\r\n\t    u = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_unit({\u001b[32m\"name\"\u001b[39;49m:unit})\u001b[19;18Hgrid.add_unit(u, team, x, y)\u001b[K\u001b[20;13Hteam.cash -= \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(cost[1:])\u001b[21;13Hu.ready = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[22;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\n\b\b\b\b\b\b\u001b[7m6% L742\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25lu.ready = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[3;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[4;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\r\n\u001b[K\u001b[6;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_action\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[9;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\u001b[K\u001b[11;20H\u001b[32mUnload\u001b[39;49m\u001b[12;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\n\t    \u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]\u001b[15;13Hme = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[16;13Hi = 0\u001b[K\n\b\b\b\b\b\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m me.carrying:\u001b[K\u001b[18;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"%d %s %d%%\"\u001b[39;49m%(i, u.name, u.hp))\u001b[19;13H    i+=1\u001b[K\u001b[20;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Done\"\u001b[39;49m)\u001b[21;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[22;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"unload\"\u001b[39;49m)\u001b[23;30H\u001b[7m7% L761\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[3;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"unload\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Attack\"\u001b[39;49m:\u001b[6;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\u001b[K\n\t    \u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[-1]\u001b[K\u001b[9;13Hu = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\r\n\n\t    \u001b[31m# Get possible targets.                                             \u001b[39;49m\r\n\u001b[12;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m px,py \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_range((x,y),u.rng[0],u.rng[1]):\r\n\t\ta = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(px,py)\u001b[14;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m a \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m a.allied(u):\u001b[15;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append((px,py))\r\n\u001b[K\u001b[17;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[18;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"attacking\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Capture\"\u001b[39;49m:\u001b[K\u001b[21;18Hchoices = []\u001b[K\r\n\u001b[K\u001b[23;30H\u001b[7m9% L780\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;18H\u001b[?25lchoices = []\u001b[K\r\n\u001b[K\u001b[4;13H\u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[-1]\r\n\t    t = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[6;13Hunit = t.unit\u001b[K\u001b[7;13Hunit.ready = \u001b[35mFalse\u001b[39;49m\r\n\u001b[K\u001b[9;13H\u001b[31m# Capturing.                                                        \u001b[39;49m\r\n\u001b[10;13Hstart_hp = t.hp\u001b[11;13Ht.hp -= \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(unit.hp*.5)\u001b[K\u001b[12;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.hp <= 0:\u001b[K\r\n\t\tt.hp = 0\u001b[K\u001b[14;13Hcol = t.team.color \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.team \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m \u001b[32m\"w\"\u001b[39;49m\u001b[15;13Ha = widgets.HPAlert(6,1,col,start_hp,t.hp,0)\u001b[16;13Ha.time = (start_hp - t.hp) + 50\u001b[17;19Hlerts += [(a,\u001b[32m\"tr\"\u001b[39;49m)]\u001b[18;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.hp == 0:\u001b[K\r\n\t\tt.hp = 100\r\n\t        old = t.team\u001b[21;13H    t.team = unit.team\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"hq\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m t.properties:\u001b[23;29H\u001b[7m70% L799\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l    t.team = unit.team\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"hq\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m t.properties:\u001b[4;13H        t.properties.remove(\u001b[32m\"hq\"\u001b[39;49m)\u001b[5;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m old:\u001b[K\u001b[6;13H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m old.active:\u001b[7;13H                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defeated(old)\r\n\t\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tt \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles():\u001b[9;13H                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tt.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m old:\u001b[K\u001b[10;13H                    tt.team = unit.team\r\n\u001b[K\u001b[12;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[13;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\r\n\u001b[K\n\t\u001b[31m# Wait.                                                                 \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Wait\"\u001b[39;49m:\u001b[K\u001b[17;13H\u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[-1]\u001b[K\u001b[18;13Hunit = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[19;13Hunit.ready = \u001b[35mFalse\u001b[39;49m\u001b[20;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[21;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\u001b[K\r\n\u001b[K\u001b[23;30H\u001b[7m1% L818\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Cancel\"\u001b[39;49m:\u001b[K\u001b[5;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start_over()\r\n\u001b[K\u001b[7;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_unload\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[10;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Nope.\"\u001b[39;49m)\u001b[K\r\n\n\t\u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]\u001b[K\r\n\tt = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\r\n\tunit = t.unit\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Done\"\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[17;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\t.ready = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[19;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[22;13Hu = unit.carrying[\u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(opt.split()[0])]\u001b[23;30H\u001b[7m3% L837\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[3;13Hu = unit.carrying[\u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(opt.split()[0])]\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[5;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (tx,ty) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [(x-1,y),(x,y+1),(x+1,y),(x,y-1)]:\r\n\t\tt = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(tx,ty)\u001b[7;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.name \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.terrain \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t.unit:\u001b[K\u001b[8;5H                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append((tx,ty))\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices) == 0:\u001b[10;13H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"unload\"\u001b[39;49m)\u001b[11;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\r\n\t        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"unload drop\"\u001b[39;49m)\r\n\u001b[K\n\u001b[K\n\u001b[K\u001b[17;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_unload_drop\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]\u001b[K\n\u001b[C\u001b[7m4% L856\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\n\t\u001b[?25l\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]\u001b[K\r\n\t\u001b[33munit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\r\n\t\u001b[33mdropper\u001b[39;49m = \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[-1].split()[0])\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m coord \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[7;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(coord)\u001b[K\u001b[8;13H\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(*coord)\u001b[K\u001b[9;13H\u001b[33mt.unit\u001b[39;49m = unit.carrying.pop(dropper)\u001b[10;13H\u001b[33mt.unit.ready\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[4P\u001b[12;13H\u001b[4P\t\tpop()\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]\r\n\t\u001b[33mme\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[17;5H    \u001b[33mi\u001b[39;49m = 0\u001b[K\u001b[18;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m me.carrying:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"%d %s %d%%\"\u001b[39;49m%(i, u.name, u.hp))\u001b[20;13H\u001b[33mi\u001b[39;49m += 1\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Done\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"unload\"\u001b[39;49m)\u001b[23;30H\u001b[7m6% L875\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Done\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"unload\"\u001b[39;49m)\r\n\u001b[K\n\u001b[K\u001b[6;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_attacking\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[9;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = coord\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m coord \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[13;13H\u001b[33mox\u001b[39;49m,\u001b[33moy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[-2]\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append((ox,oy))\r\n\t    \u001b[33ma\u001b[39;49m, \u001b[33md\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(ox,oy), \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\r\n\u001b[K\n\t    \u001b[33mstart_hp\u001b[39;49m = d.hp, a.hp\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action_attack((ox,oy),(x,y))\u001b[19;13H\u001b[33mend_hp\u001b[39;49m = d.hp, a.hp\u001b[K\r\n\u001b[K\n\t    \u001b[31m# Build the animation.                                              \u001b[39;49m\r\n\t    \u001b[33mt1\u001b[39;49m = start_hp[0]-end_hp[0]\u001b[K\u001b[23;30H\u001b[7m7% L894\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l    \u001b[31m# Build the animation.                                              \u001b[39;49m\r\n\t    \u001b[33mt1\u001b[39;49m = start_hp[0]-end_hp[0]\u001b[K\u001b[4;13H\u001b[33mt2\u001b[39;49m = start_hp[1]-end_hp[1]\u001b[5;13H\u001b[33ma1\u001b[39;49m = widgets.HPAlert(6,1,d.team.color,start_hp[0],end_hp[0],0)\u001b[6;5H        \u001b[33ma2\u001b[39;49m = widgets.HPAlert(6,1,a.team.color,start_hp[1],end_hp[1],t1)\u001b[K\u001b[7;5H        \u001b[33mx1\u001b[39;49m,\u001b[33my1\u001b[39;49m = x,y\u001b[K\r\n\t    \u001b[33mx2\u001b[39;49m,\u001b[33my2\u001b[39;49m = ox,oy\u001b[K\u001b[9;13H\u001b[33ma1.time\u001b[39;49m = t1+t2+50\u001b[K\r\n\t    \u001b[33ma2.time\u001b[39;49m = t1+t2+50\u001b[11;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts += [(a1,\u001b[32m\"tr\"\u001b[39;49m),(a2,\u001b[32m\"bl\"\u001b[39;49m)]\r\n\t    \u001b[33ma.ready\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[14;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\u001b[K\r\n\u001b[K\n\n\u001b[K\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start_over()\r\n\n\u001b[K\u001b[22;5H\u001b[31m# This is the root state for the editor. We put the editor states           \u001b[39;49m\r\n\u001b[23;30H\u001b[7m8% L913\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[3;5H\u001b[?25l\u001b[31m# This is the root state for the editor. We put the editor states           \u001b[39;49m\r\n\u001b[4;5H\u001b[31m# in the same system as the rules so that we can take advantage of          \u001b[39;49m\r\n\u001b[5;5H\u001b[31m# the \"make\" constructors.                                                  \u001b[39;49m\r\n\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[8;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = coord\u001b[K\r\n\t\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = [(x,y)]\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Repeat\"\u001b[39;49m,\u001b[32m\"Place Unit\"\u001b[39;49m, \u001b[32m\"Place Terrain\"\u001b[39;49m,\u001b[32m\"Edit Teams\"\u001b[39;49m,\u001b[14;13H            \u001b[32m\"Unit Rules\"\u001b[39;49m, \u001b[32m\"Terrain Rules\"\u001b[39;49m,\u001b[32m\"Save Map\"\u001b[39;49m,\u001b[32m\"Back\"\u001b[39;49m]\r\n\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit menu\"\u001b[39;49m)\u001b[18;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_menu\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m,opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[21;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[22;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[23;29H\u001b[7m80% L932\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[3;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[4;5H    \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\u001b[K\u001b[6;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Repeat\"\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit:\u001b[K\u001b[8;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[K\r\n\t        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\t    \u001b[33mkind\u001b[39;49m,\u001b[33mthing\u001b[39;49m,team = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m kind == \u001b[32m\"terrain\"\u001b[39;49m:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(thing)\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m team:\u001b[K\n\b\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(team)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [(x,y)]\r\n\t\u001b[8@\t\t\t\t\u001b[32mdraw terrain\"\u001b[39;49m)\u001b[17;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m kind == \u001b[32m\"unit\"\u001b[39;49m:\u001b[18;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(thing)\u001b[K\u001b[19;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [team]\r\n\t        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_unit_team(team)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Unit\"\u001b[39;49m:\n\b\b\u001b[7m1% L951\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Unit\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[5;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[7;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit unit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Terrain\"\u001b[39;49m:\u001b[K\u001b[10;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[K\u001b[11;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\u001b[12;22Hchoices.append(u)\u001b[K\u001b[13;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit terrain\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Edit Teams\"\u001b[39;49m:\u001b[K\u001b[16;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Red\"\u001b[39;49m,\u001b[32m\"Blue\"\u001b[39;49m,\u001b[32m\"Green\"\u001b[39;49m,\u001b[32m\"Yellow\"\u001b[39;49m,\u001b[32m\"Cyan\"\u001b[39;49m,\u001b[17;13H                \u001b[32m\"Magenta\"\u001b[39;49m,\u001b[32m\"Done\"\u001b[39;49m]\u001b[18;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x,y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles_xy:\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y):\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(x,y)\u001b[K\r\n\t\t\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\r\n\t        \u001b[33mt.team\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\n\u001b[7m3% L970\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25l\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\r\n\t        \u001b[33mt.team\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[4;18Hgrid.teams = []\u001b[K\u001b[5;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit teams\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Unit Rules\"\u001b[39;49m:\u001b[K\u001b[8;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\u001b[10;13H\u001b[4@\u001b[10;29H.append(u)\u001b[K\u001b[11;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Unit)\"\u001b[39;49m)\u001b[K\u001b[12;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule unit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Terrain Rules\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[16;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[K\u001b[18;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Terrain)\"\u001b[39;49m)\u001b[19;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule terrain\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Save Map\"\u001b[39;49m:\u001b[K\u001b[22;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = {\u001b[32m\"Map Name\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m:\u001b[32m\"\"\u001b[39;49m,\u001b[32m\"type\"\u001b[39;49m:\u001b[32m\"str 15\"\u001b[39;49m}}\u001b[23;30H\u001b[7m4% L989\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Save Map\"\u001b[39;49m:\u001b[K\u001b[3;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = {\u001b[32m\"Map Name\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m:\u001b[32m\"\"\u001b[39;49m,\u001b[32m\"type\"\u001b[39;49m:\u001b[32m\"str 15\"\u001b[39;49m}}\u001b[4;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"save map\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Back\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\u001b[K\u001b[9;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_teams\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[12;14H\u001b[1m\u001b[36maise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.remove(opt)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Done\"\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams) == 0:\u001b[16;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(opt)\u001b[K\u001b[17;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit teams\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Done\"\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams) > 0:\u001b[19;37H\u001b[32medit\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\r\n\t    \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_team()\u001b[22;18Hgrid.teams.append()\u001b[K\u001b[23;30H\u001b[7m6% L1008\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l    \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_team()\u001b[3;18Hgrid.teams.append()\u001b[K\r\n\u001b[K\u001b[6;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[9;5H        \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[K\u001b[10;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\t\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\u001b[13;14Haction.append(opt)\u001b[K\u001b[15;20H\u001b[32m(None)\"\u001b[39;49m:\u001b[K\u001b[16;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\u001b[K\n\b\b\b\b\b    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(x,y)\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[K\r\n\n\u001b[K\n\t\u001b[31m# Before moving forward, we need to know the team.                      \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[23;30H\u001b[7m8% L1027\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;13r\u001b[6;1H\u001b[2L\u001b[1;24r\u001b[2;9H\u001b[?25l\u001b[31m# Before moving forward, we need to know the team.                      \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\u001b[5;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(t.name)\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"unit team\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\n\t\t\u001b[1m\u001b[34munit_team\u001b[0m\u001b[39;49m\u001b[14;9H\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t:\u001b[K\n\b\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.unit:\u001b[K\u001b[19;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(x,y\u001b[20;13H\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_unit({\u001b[32m\"name\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]})\r\n\t    \u001b[33mteam\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m q \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\u001b[23;30H\u001b[7m9% L1046\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l    \u001b[33mteam\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m q \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q.name == opt\u001b[5;13H        team = q\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.add_unit(u, team, x, y)\u001b[7;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit = \u001b[32m\"unit\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1],opt\r\n\u001b[K\u001b[9;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\u001b[K\u001b[11;5H\u001b[31m# Editing terrain is slightly different. After picking the type of          \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# terrain you want, you pick another coordinate, and a box is filled        \u001b[39;49m\r\n\u001b[13;5H\u001b[31m# between the two endpoints.                                                \u001b[39;49m\r\n\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_terrain\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[16;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\r\n\t\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [(x,y)]\r\n\u001b[K\u001b[23;29H\u001b[7m90% L1065\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [(x,y)]\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"(None)\"\u001b[39;49m:\u001b[K\u001b[5;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"draw terrain\"\u001b[39;49m)\r\n\u001b[K\n\tt = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_cell({\u001b[32m\"name\"\u001b[39;49m:opt})\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m t.properties:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[K\u001b[10;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\u001b[11;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(t.name)\u001b[K\u001b[12;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"terrain team\"\u001b[39;49m)\u001b[K\u001b[13;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"draw terrain\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[15;5H\u001b[31m# If the tile in question is capturable, then we need to pick the           \u001b[39;49m\r\n\u001b[16;5H\u001b[31m# team.                                                                     \u001b[39;49m\r\n\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_terrain_team\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[20;14Hchoices = []\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\n\b\b\u001b[7m2% L1084\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"draw terrain\"\u001b[39;49m)\r\n\u001b[K\u001b[6;5H\u001b[31m# Now, pick the endpoint.                                                   \u001b[39;49m\r\n\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_draw_terrain\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\u001b[8;12H\u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[9;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\r\n\t\u001b[33mex\u001b[39;49m,\u001b[33mey\u001b[39;49m = coord\u001b[K\r\n\t\u001b[33mox\u001b[39;49m,\u001b[33moy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m ex < ox:\u001b[K\u001b[14;13H\u001b[33mex\u001b[39;49m,\u001b[33mox\u001b[39;49m = ox,ex\u001b[15;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m ey < oy:\u001b[K\u001b[16;5H        \u001b[33mey\u001b[39;49m,\u001b[33moy\u001b[39;49m = oy,ey\u001b[K\r\n\u001b[K\n\t\u001b[31m# Now fill!                                                             \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(ox,ex+1):\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(oy,ey+1):\r\n\t        \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1] == \u001b[32m\"(None)\"\u001b[39;49m:\u001b[23;30H\u001b[7m3% L1103\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l        \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1] == \u001b[32m\"(None)\"\u001b[39;49m:\r\n\t            u = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y\u001b[5;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\u001b[6;5H                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(x,y)\u001b[K\u001b[7;5H                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.grid.pop((x,y),\u001b[35mNone\u001b[39;49m)\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit = \u001b[32m\"terrain\"\u001b[39;49m,\u001b[32m\"(None)\"\u001b[39;49m,\u001b[35mNone\u001b[39;49m\u001b[9;13H    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t            \u001b[33mtile\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_cell({\u001b[32m\"name\"\u001b[39;49m:\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]})\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit = \u001b[32m\"terrain\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1],\u001b[35mNone\u001b[39;49m\u001b[12;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action) > 2:\r\n\t                \u001b[33mteam\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[14;13H            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m q \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\r\n\t                    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q.name == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[2]:\u001b[16;13H                    team = q\r\n\t\t\ttile.team = team\r\n\t                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit=\u001b[32m\"terrain\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1],\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[2]\u001b[K\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t:\u001b[K\u001b[20;13H            \u001b[33mtile.unit\u001b[39;49m = t.unit\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.grid[(x,y)] = tile\r\n\u001b[K\u001b[23;30H\u001b[7m4% L1122\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25l    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.grid[(x,y)] = tile\r\n\u001b[K\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[8;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_save_map\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"Map Name\"\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m opt:\u001b[K\u001b[11;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Not there!\"\u001b[39;49m)\u001b[K\r\n\t\u001b[33mnewname\u001b[39;49m = opt[\u001b[32m\"Map Name\"\u001b[39;49m]\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(newname) > 15:\u001b[K\u001b[14;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Too long.\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(opt) != 0:\u001b[K\u001b[18;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.name = newname\u001b[K\u001b[19;13H\u001b[33mdata\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.export(\u001b[35mTrue\u001b[39;49m)\u001b[20;13H\u001b[33mnewname\u001b[39;49m = newname.replace(\u001b[32m\" \"\u001b[39;49m,\u001b[32m\"_\"\u001b[39;49m)\u001b[21;13Hstorage.save(data, \u001b[32m\"maps\"\u001b[39;49m,\u001b[32m\"%s.json\"\u001b[39;49m%newname)\u001b[23;30H\u001b[7m6% L1141\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25lstorage.save(data, \u001b[32m\"maps\"\u001b[39;49m,\u001b[32m\"%s.json\"\u001b[39;49m%newname)\r\n\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\u001b[K\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_rule_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\u001b[9;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[K\r\n\u001b[K\n\t\u001b[33mu\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt != \u001b[32m\"(New)\"\u001b[39;49m:\u001b[K\u001b[15;13H\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_unit({\u001b[32m\"name\"\u001b[39;49m:opt})\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = { \u001b[32m\"Name\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m: u.name \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m \u001b[32m\"\"\u001b[39;49m,\u001b[18;13H                      \u001b[32m\"type\"\u001b[39;49m: \u001b[32m\"str 12\"\u001b[39;49m,\u001b[19;13H                      \u001b[32m\"ordering\"\u001b[39;49m: 1 },\u001b[20;13H             \u001b[32m\"Move\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m: \u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(u.move) \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m \u001b[32m\"\"\u001b[39;49m,\u001b[21;13H                      \u001b[32m\"type\"\u001b[39;49m: \u001b[32m\"int\"\u001b[39;49m,\u001b[K\u001b[22;35H\u001b[32m\"ordering\"\u001b[39;49m: 2 }\u001b[23;30H\u001b[7m8% L1160\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.grid[(x,y)] = tile\u001b[K\r\n\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\u001b[8;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_save_map\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"Map Name\"\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m opt:\u001b[K\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Not there!\"\u001b[39;49m)\r\n\t\u001b[33mnewname\u001b[39;49m = opt[\u001b[32m\"Map Name\"\u001b[39;49m]\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(newname) > 15:\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Too long.\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(opt) != 0:\u001b[K\u001b[18;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.name = newname\u001b[K\u001b[19;13H\u001b[33mdata\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.export(\u001b[35mTrue\u001b[39;49m)\u001b[K\u001b[20;13H\u001b[33mnewname\u001b[39;49m = newname.replace(\u001b[32m\" \"\u001b[39;49m,\u001b[32m\"_\"\u001b[39;49m)\u001b[K\u001b[21;13Hstorage.save(data, \u001b[32m\"maps\"\u001b[39;49m,\u001b[32m\"%s.json\"\u001b[39;49m%newname)\r\n\u001b[K\u001b[23;30H\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\t\u001b[?25l\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1] == \u001b[32m\"(None)\"\u001b[39;49m:\u001b[4;21Hu = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\r\n\t                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(x,y)\u001b[7;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.grid.pop((x,y),\u001b[35mNone\u001b[39;49m)\u001b[8;5H                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit = \u001b[32m\"terrain\"\u001b[39;49m,\u001b[32m\"(None)\"\u001b[39;49m,\u001b[35mNone\u001b[39;49m\u001b[K\u001b[9;5H            \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t            \u001b[33mtile\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_cell({\u001b[32m\"name\"\u001b[39;49m:\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]})\u001b[11;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit = \u001b[32m\"terrain\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1],\u001b[35mNone\u001b[39;49m\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action) > 2:\r\n\t                \u001b[33mteam\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[14;13H            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m q \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\u001b[15;29H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q.name == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[2]:\r\n\t                        team = q\r\n\t                tile.team = team\u001b[18;13H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit=\u001b[32m\"terrain\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1],\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[2]\u001b[19;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t:\u001b[K\u001b[20;13H            \u001b[33mtile.unit\u001b[39;49m = t.unit\u001b[K\u001b[21;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.grid[(x,y)] = tile\u001b[K\u001b[23;30H\u001b[7m4% L1142\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"draw terrain\"\u001b[39;49m\r\n\u001b[K\u001b[6;5H\u001b[31m# Now, pick the endpoint.                                                   \u001b[39;49m\r\n\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_draw_terrain\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[K\u001b[9;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\r\n\t\u001b[33mex\u001b[39;49m,\u001b[33mey\u001b[39;49m = coord\u001b[K\r\n\t\u001b[33mox\u001b[39;49m,\u001b[33moy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m ex < ox:\u001b[K\u001b[14;13H\u001b[33mex\u001b[39;49m,\u001b[33mox\u001b[39;49m = ox,ex\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m ey < oy:\u001b[K\u001b[16;13H\u001b[33mey\u001b[39;49m,\u001b[33moy\u001b[39;49m = oy,ey\u001b[K\r\n\u001b[K\n\t\u001b[31m# Now fill!                                                             \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(ox,ex+1):\u001b[20;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(oy,ey+1):\u001b[K\r\n\t\t\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1] == \u001b[32m\"(None)\"\u001b[39;49m:\u001b[23;30H\u001b[7m3% L1123\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [(x,y)]\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"(None)\"\u001b[39;49m:\u001b[K\u001b[5;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"draw terrain\"\u001b[39;49m)\r\n\u001b[K\u001b[7;5H    t = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_cell({\u001b[32m\"name\"\u001b[39;49m:opt})\u001b[K\u001b[8;12H\u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m t.properties:\u001b[K\u001b[9;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(t.name)\u001b[12;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"terrain team\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"draw terrain\"\u001b[39;49m)\r\n\u001b[K\u001b[15;5H\u001b[31m# If the tile in question is capturable, then we need to pick the           \u001b[39;49m\r\n\u001b[16;5H\u001b[31m# team.                                                                     \u001b[39;49m\r\n\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_terrain_team\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[K\n\b\b\u001b[7m2% L1104\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l    \u001b[33mteam\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[3;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m q \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q.name == opt:\u001b[5;13H        team = q\u001b[K\u001b[6;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.add_unit(u, team, x, y)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit = \u001b[32m\"unit\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1],opt\r\n\u001b[K\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\u001b[K\u001b[11;5H\u001b[31m# Editing terrain is slightly different. After picking the type of          \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# terrain you want, you pick another coordinate, and a box is filled        \u001b[39;49m\r\n\u001b[13;5H\u001b[31m# between the two endpoints.                                                \u001b[39;49m\r\n\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_terrain\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[15;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[16;5H        \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[K\u001b[17;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\t\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\u001b[20;14Haction.append(opt)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [(x,y)]\r\n\u001b[K\u001b[23;30H\u001b[7m0% L1085\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[31m# Before moving forward, we need to know the team.                      \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams\u001b[5;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(t.name)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"unit team\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[8;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_unit_team\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[11;5H        \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[K\u001b[12;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[13;5H    \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\u001b[14;5H    \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t:\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.unit:\u001b[K\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(x,y)\r\n\t    \u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_unit({\u001b[32m\"name\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]})\r\n\t    \u001b[33mteam\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[22;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m q \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\u001b[23;29H\u001b[7m89% L1066\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;19r\u001b[6;1H\u001b[2M\u001b[1;24r\u001b[2;9H\u001b[?25l    \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_team()\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams.append()\r\n\u001b[K\n\u001b[K\n\n\t\t\u001b[1m\u001b[34medit_unit\u001b[0m\u001b[39;49m\u001b[12;9H\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit\u001b[15;12Hopt == \u001b[32m\"(None)\"\u001b[39;49m:\r\n\t\t\bu:\u001b[K\r\n\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[K\r\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\t\u001b[31m# Before moving forward, we need to know the team.                      \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[23;30H\u001b[7m8% L1047\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;13r\u001b[6;1H\u001b[2L\u001b[1;24r\u001b[2;9H\u001b[?25l\u001b[31m# Before moving forward, we need to know the team.                      \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\u001b[5;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(t.name)\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"unit team\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\n\t\t\u001b[1m\u001b[34munit_team\u001b[0m\u001b[39;49m\u001b[14;9H\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t:\u001b[K\n\b\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.unit:\u001b[K\u001b[19;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(x,y\u001b[20;13H\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_unit({\u001b[32m\"name\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]})\r\n\t    \u001b[33mteam\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m q \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\u001b[23;30H\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;19r\u001b[6;1H\u001b[2M\u001b[1;24r\u001b[2;9H\u001b[?25l    \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_team()\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams.append()\r\n\u001b[K\n\u001b[K\n\n\t\t\u001b[1m\u001b[34medit_unit\u001b[0m\u001b[39;49m\u001b[12;9H\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit\u001b[15;12Hopt == \u001b[32m\"(None)\"\u001b[39;49m:\r\n\t\t\bu:\u001b[K\r\n\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[K\r\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\t\u001b[31m# Before moving forward, we need to know the team.                      \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[23;30H\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Save Map\"\u001b[39;49m:\u001b[K\u001b[3;18Hchoices = {\u001b[32m\"Map Name\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m:\u001b[32m\"\"\u001b[39;49m,\u001b[32m\"type\"\u001b[39;49m:\u001b[32m\"str 15\"\u001b[39;49m}}\u001b[4;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"save map\"\u001b[39;49m)\u001b[6;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Back\"\u001b[39;49m:\u001b[K\u001b[7;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\u001b[K\u001b[9;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_teams\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[13;14Hchoices.remove(opt)\u001b[15;20H\u001b[32mDone\"\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams) == 0:\u001b[16;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(opt)\u001b[17;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit teams\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Done\"\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams) > 0:\r\n\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\r\n\t    \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_team()\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams.append()\u001b[23;30H\u001b[7m6% L1028\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l        \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[3;13H    \u001b[33mt.team\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[4;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams = []\u001b[K\u001b[5;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit teams\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Unit Rules\"\u001b[39;49m:\u001b[K\u001b[8;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[9;5H        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\u001b[K\u001b[10;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Unit)\"\u001b[39;49m)\u001b[12;14H\u001b[1m\u001b[36meturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule unit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Terrain Rules\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[16;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\u001b[17;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Terrain)\"\u001b[39;49m)\u001b[K\u001b[19;37H\u001b[32mrule terrain\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Save Map\"\u001b[39;49m:\u001b[K\u001b[22;18Hchoices = {\u001b[32m\"Map Name\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m:\u001b[32m\"\"\u001b[39;49m,\u001b[32m\"type\"\u001b[39;49m:\u001b[32m\"str 15\"\u001b[39;49m}}\u001b[23;30H\u001b[7m4% L1009\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Save Map\"\u001b[39;49m:\u001b[K\u001b[3;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = {\u001b[32m\"Map Name\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m:\u001b[32m\"\"\u001b[39;49m,\u001b[32m\"type\"\u001b[39;49m:\u001b[32m\"str 15\"\u001b[39;49m}}\u001b[4;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"save map\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Back\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\u001b[K\u001b[9;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_teams\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[12;14H\u001b[1m\u001b[36maise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.remove(opt)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Done\"\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams) == 0:\u001b[16;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(opt)\u001b[K\u001b[17;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit teams\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Done\"\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams) > 0:\u001b[19;37H\u001b[32medit\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\r\n\t    \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_team()\u001b[22;18Hgrid.teams.append()\u001b[K\u001b[23;30H\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[A\t\u001b[?25l    \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_team()\u001b[3;18Hgrid.teams.append()\u001b[K\r\n\u001b[K\u001b[6;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[9;5H        \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[K\u001b[10;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\t\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\u001b[13;14Haction.append(opt)\u001b[K\u001b[15;20H\u001b[32m(None)\"\u001b[39;49m:\u001b[K\u001b[16;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\u001b[K\n\b\b\b\b\b    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(x,y)\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[K\r\n\n\u001b[K\n\t\u001b[31m# Before moving forward, we need to know the team.                      \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[23;30H\u001b[7m8% L1027\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_teams\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[4;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.remove(opt)\r\n\u001b[K\u001b[7;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Done\"\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams) == 0:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(opt)\u001b[9;14H\u001b[1m\u001b[36meturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit teams\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Done\"\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams) > 0:\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_team()\u001b[14;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams.append()\r\n\u001b[K\n\u001b[K\u001b[17;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[20;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\n\u001b[C\u001b[7m7% L1026\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[23;37H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[23;37H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[13;1H\u001b[1L\u001b[1;24r\u001b[13;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   87% L1027\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;30H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\r\u001b[K\u001b[13;13H\u001b[23;30H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\r\u001b[1;22r\u001b[14;1H\u001b[1M\u001b[1;24r\u001b[13;13H\u001b[?25l\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_team()\u001b[22;1H        \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\u001b[23;37H\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\b\u001b[?25l{)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l})\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[32m\"})                                             \u001b[39;49m\r\n\u001b[32m            self.grid.teams.append()                                            \u001b[39;49m\r\n\u001b[13;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lAuto-saving...\u001b[13;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[13;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[13;34H\u001b[?25l\u001b[32mn})\u001b[39;49m\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ma})\u001b[39;49m\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mm})\u001b[39;49m\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me})\u001b[39;49m\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m})\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams.append()\u001b[K\u001b[13;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:})\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo})\u001b[23;30H\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp})\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt})\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,})\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l })\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"})                                 \u001b[39;49m\r\n\u001b[32m            self.grid.teams.append()                                            \u001b[39;49m\r\n\u001b[13;46H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mc})\u001b[39;49m\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mo})\u001b[39;49m\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ml})\u001b[39;49m\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mo})\u001b[39;49m\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mr})\u001b[39;49m\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m})\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams.append()\u001b[K\u001b[13;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:})\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo})\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp})\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt})\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l[})\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0})\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l]})\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[13;59H\u001b[?25l.})\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll})\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo})\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw})\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le})\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr})\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l*})\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(})\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)})\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l})\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l})\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l})\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l*})\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(})\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l})\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l})\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(})\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)})\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[13;67H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[13;67H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;67H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[13;69H\u001b[23;37H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25lt)\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[14;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[14;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[14;38H\u001b[1;22r\u001b[17;1H\u001b[1L\u001b[1;24r\u001b[17;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   86% L1029\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[15;13H\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32m\")                                           \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[15;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[32m    #                                                                           \u001b[39;49m\r\n\u001b[32m    def process_edit_unit(self, opt):                                           \u001b[39;49m\r\n\u001b[32m        if opt not in self.choices:                                             \u001b[39;49m\r\n\u001b[32m            raise Exception(\"\u001b[39;49mInvalid option.\u001b[32m\")                                  \u001b[39;49m\r\n\u001b[32m        self.choices = []                                                       \u001b[39;49m\r\n\u001b[15;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32md)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mi)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m )\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ma)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mm)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ms)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[15;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[15;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[15;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[2;5H\u001b[?25l            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Unit)\"\u001b[39;49m)\u001b[4;14H\u001b[1m\u001b[36meturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule unit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Terrain Rules\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[8;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\u001b[9;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Terrain)\"\u001b[39;49m)\u001b[K\u001b[11;37H\u001b[32mrule terrain\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Save Map\"\u001b[39;49m:\u001b[K\u001b[14;18Hchoices = {\u001b[32m\"Map Name\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m:\u001b[32m\"\"\u001b[39;49m,\u001b[32m\"type\"\u001b[39;49m:\u001b[32m\"str 15\"\u001b[39;49m}}\u001b[15;37H\u001b[32msave map\"\u001b[39;49m)\u001b[K\r\n\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Back\"\u001b[39;49m:\u001b[K\r\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n    \u001b[31m#                                                                           \u001b[39;49m\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_teams\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\n\b\b\b\b\b\b\u001b[7m5% L1017\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[4P\t\t\u001b[?25l = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[3;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\u001b[4;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[K\u001b[5;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit terrain\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Edit Teams\"\u001b[39;49m:\u001b[8;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Red\"\u001b[39;49m,\u001b[32m\"Blue\"\u001b[39;49m,\u001b[32m\"Green\"\u001b[39;49m,\u001b[32m\"Yellow\"\u001b[39;49m,\u001b[32m\"Cyan\"\u001b[39;49m,\r\n\t\t            \u001b[32m\"Magenta\"\u001b[39;49m,\u001b[32m\"Done\"\u001b[39;49m]\u001b[10;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x,y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles_xy:\u001b[K\u001b[11;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y):\u001b[K\u001b[12;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(x,y)\r\n\t        \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[14;13H    \u001b[33mt.team\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[15;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams = []\u001b[K\u001b[16;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit teams\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Unit Rules\"\u001b[39;49m:\u001b[K\u001b[19;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[20;5H        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\u001b[K\u001b[21;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Unit)\"\u001b[39;49m)\u001b[23;30H\u001b[7m3% L998 \u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[33mkind\u001b[39;49m,\u001b[33mthing\u001b[39;49m,team = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit\u001b[3;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m kind == \u001b[32m\"terrain\"\u001b[39;49m:\u001b[K\u001b[4;22Haction.append(thing)\u001b[5;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m team:\u001b[K\n\b\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(team)\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [(x,y)]\u001b[8;13H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"draw terrain\"\u001b[39;49m)\u001b[K\u001b[9;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m kind == \u001b[32m\"unit\"\u001b[39;49m:\u001b[K\u001b[10;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(thing)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [team]\u001b[K\r\n\t\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_unit_team(team)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Unit\"\u001b[39;49m:\u001b[15;18Hchoices = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[16;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit unit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Terrain\"\u001b[39;49m:\u001b[K\u001b[21;13H\u001b[4P\t\t = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[22;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\u001b[23;30H\u001b[7m2% L979\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = [(x,y)]\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Repeat\"\u001b[39;49m,\u001b[32m\"Place Unit\"\u001b[39;49m, \u001b[32m\"Place Terrain\"\u001b[39;49m,\u001b[32m\"Edit Teams\"\u001b[39;49m,\u001b[6;21H    \u001b[32m\"Unit Rules\"\u001b[39;49m, \u001b[32m\"Terrain Rules\"\u001b[39;49m,\u001b[32m\"Save Map\"\u001b[39;49m,\u001b[32m\"Back\"\u001b[39;49m]\r\n\u001b[K\n\t\u001b[8P\t\t\t\u001b[32medit menu\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[10;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[11;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_menu\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m,opt):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[13;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Repeat\"\u001b[39;49m:\u001b[K\u001b[18;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\r\n\t        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\u001b[21;13H\u001b[33mkind\u001b[39;49m,\u001b[33mthing\u001b[39;49m,team = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit\u001b[22;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m kind == \u001b[32m\"terrain\"\u001b[39;49m:\u001b[K\n\b\b\b\b\u001b[7m0% L960\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l    \u001b[33ma2.time\u001b[39;49m = t1+t2+50\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts += [(a1,\u001b[32m\"tr\"\u001b[39;49m),(a2,\u001b[32m\"bl\"\u001b[39;49m)]\u001b[4;13H\u001b[33ma.ready\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\u001b[K\u001b[6;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\u001b[K\r\n\n\u001b[K\u001b[10;5H    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[11;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start_over()\r\n\u001b[K\n\u001b[K\u001b[14;5H\u001b[31m# This is the root state for the editor. We put the editor states           \u001b[39;49m\r\n\u001b[15;5H\u001b[31m# in the same system as the rules so that we can take advantage of          \u001b[39;49m\r\n\u001b[16;5H\u001b[31m# the \"make\" constructors.                                                  \u001b[39;49m\r\n\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[19;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = coord\u001b[K\r\n\t\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = [(x,y)]\u001b[K\n\b\u001b[7m79% L941\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = coord\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m coord \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[5;13H\u001b[33mox\u001b[39;49m,\u001b[33moy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[-2]\u001b[6;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append((ox,oy))\u001b[7;13H\u001b[33ma\u001b[39;49m, \u001b[33md\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(ox,oy), \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[9;13H\u001b[33mstart_hp\u001b[39;49m = d.hp, a.hp\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action_attack((ox,oy),(x,y))\u001b[11;13H\u001b[33mend_hp\u001b[39;49m = d.hp, a.hp\u001b[K\u001b[13;13H\u001b[31m# Build the animation.                                              \u001b[39;49m\r\n\u001b[14;5H        \u001b[33mt1\u001b[39;49m = start_hp[0]-end_hp[0]\u001b[K\u001b[15;5H        \u001b[33mt2\u001b[39;49m = start_hp[1]-end_hp[1]\u001b[K\u001b[16;5H        \u001b[33ma1\u001b[39;49m = widgets.HPAlert(6,1,d.team.color,start_hp[0],end_hp[0],0)\u001b[K\u001b[17;5H        \u001b[33ma2\u001b[39;49m = widgets.HPAlert(6,1,a.team.color,start_hp[1],end_hp[1],t1)\r\n\t    \u001b[33mx1\u001b[39;49m,\u001b[33my1\u001b[39;49m = x,y\u001b[K\u001b[19;13H\u001b[33mx2\u001b[39;49m,\u001b[33my2\u001b[39;49m = ox,oy\u001b[K\r\n\t    \u001b[33ma1.time\u001b[39;49m = t1+t2+50\r\n\t    \u001b[33ma2.time\u001b[39;49m = t1+t2+50\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts += [(a1,\u001b[32m\"tr\"\u001b[39;49m),(a2,\u001b[32m\"bl\"\u001b[39;49m)]\u001b[23;30H\u001b[7m7% L922\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l    \u001b[33mt.unit.ready\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.pop()\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]\u001b[K\r\n\t\u001b[33mme\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\r\n\t\u001b[33mi\u001b[39;49m = 0\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m me.carrying:\u001b[K\u001b[11;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"%d %s %d%%\"\u001b[39;49m%(i, u.name, u.hp))\u001b[12;13H\u001b[33mi\u001b[39;49m += 1\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Done\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"unload\"\u001b[39;49m)\r\n\u001b[K\n\u001b[K\u001b[17;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_attacking\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[20;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = coord\u001b[K\r\n\u001b[K\u001b[23;30H\u001b[7m6% L903\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"unload\"\u001b[39;49m)\r\n\t\u001b[4@\u001b[4;13H\u001b[4@\u001b[4;29Happend(opt)\r\n\t\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"unload drop\"\u001b[39;49m)\r\n\u001b[K\n\u001b[K\n\u001b[K\u001b[9;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_unload_drop\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[K\u001b[12;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]\u001b[K\r\n\t\u001b[33munit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\r\n\t\u001b[33mdropper\u001b[39;49m = \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[-1].split()[0])\u001b[17;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m coord \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[18;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(coord)\u001b[K\r\n\t    \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(*coord)\u001b[K\u001b[20;13H\u001b[33mt.unit\u001b[39;49m = unit.carrying.pop(dropper)\r\n\t    \u001b[33mt.unit.ready\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[23;30H\u001b[7m5% L884\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Nope.\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\t\u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]\u001b[K\r\n\tt = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[K\r\n\tunit = t.unit\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Done\"\u001b[39;49m:\u001b[8;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[9;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[10;5H        unit.ready = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\u001b[K\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\r\n\t    u = unit.carrying[\u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(opt.split()[0])]\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (tx,ty) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [(x-1,y),(x,y+1),(x+1,y),(x,y-1)]:\r\n\t        t = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(tx,ty)\u001b[18;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.name \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.terrain \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t.unit:\u001b[19;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append((tx,ty))\u001b[20;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices) == 0:\u001b[K\u001b[21;13H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"unload\"\u001b[39;49m)\r\n\t\u001b[4@\u001b[23;30H\u001b[7m3% L865\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l                    tt.team = unit.team\r\n\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\u001b[K\r\n\u001b[K\n\t\u001b[31m# Wait.                                                                 \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Wait\"\u001b[39;49m:\u001b[K\u001b[9;13H\u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[-1]\r\n\t\t = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[11;13Hunit.ready = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[13;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Cancel\"\u001b[39;49m:\u001b[K\u001b[16;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start_over()\u001b[K\r\n\u001b[K\u001b[18;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_unload\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[21;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Nope.\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[23;30H\u001b[7m2% L846\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25lstart_hp = t.hp\u001b[K\u001b[3;13Ht.hp -= \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(unit.hp*.5)\u001b[4;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.hp <= 0:\u001b[K\u001b[5;13H    t.hp = 0\u001b[K\u001b[6;13Hcol = t.team.color \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.team \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m \u001b[32m\"w\"\u001b[39;49m\r\n\t    a = widgets.HPAlert(6,1,col,start_hp,t.hp,0)\u001b[K\r\n\t    a.time = (start_hp - t.hp) + 50\u001b[9;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts += [(a,\u001b[32m\"tr\"\u001b[39;49m)]\u001b[10;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.hp == 0:\u001b[K\u001b[11;13H    t.hp = 100\u001b[K\u001b[12;13H    old = t.team\u001b[K\u001b[13;13H    t.team = unit.team\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"hq\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m t.properties:\r\n\t            t.properties.remove(\u001b[32m\"hq\"\u001b[39;49m)\u001b[16;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m old:\u001b[K\n\b\b\b\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m old.active:\u001b[18;5H                        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defeated(old)\u001b[K\u001b[19;5H                    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tt \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles():\r\n\t                    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tt.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m old:\u001b[21;13H                    tt.team = unit.team\u001b[23;30H\u001b[7m0% L827\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\u001b[3;13H\u001b[?25l\u001b[31m# Get possible targets.                                             \u001b[39;49m\r\n\u001b[4;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m px,py \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_range((x,y),u.rng[0],u.rng[1]):\r\n\t\ta = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(px,py)\u001b[6;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m a \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m a.allied(u):\u001b[K\u001b[7;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append((px,py))\u001b[K\r\n\u001b[K\u001b[9;19Hction.append(opt)\u001b[K\u001b[10;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"attacking\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Capture\"\u001b[39;49m:\u001b[13;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\u001b[K\u001b[15;13H\u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[-1]\u001b[K\u001b[16;13Ht = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[17;13Hunit = t.unit\u001b[K\u001b[18;13Hunit.ready = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[20;13H\u001b[31m# Capturing.                                                        \u001b[39;49m\r\n\u001b[21;13Hstart_hp = t.hp\u001b[K\u001b[22;13Ht.hp -= \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(unit.hp*.5)\u001b[23;29H\u001b[7m69% L808\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[3;9H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Unload\"\u001b[39;49m:\u001b[K\u001b[4;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\u001b[K\u001b[6;13H\u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]\u001b[K\u001b[7;13Hme = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\u001b[8;13Hi = 0\n\b\b\b\b\b\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m me.carrying:\u001b[K\u001b[10;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"%d %s %d%%\"\u001b[39;49m%(i, u.name, u.hp))\r\n\t\ti+=1\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Done\"\u001b[39;49m)\u001b[13;18Haction.append(opt)\u001b[14;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"unload\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Attack\"\u001b[39;49m:\u001b[K\u001b[17;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\u001b[K\u001b[19;13H\u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[-1]\u001b[20;13Hu = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\r\n\u001b[K\u001b[22;13H\u001b[31m# Get possible targets.                                             \u001b[39;49m\r\n\u001b[23;30H\u001b[7m8% L789\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[31m# Leave the menu.                                                       \u001b[39;49m\r\n\u001b[3;20H\u001b[32mCancel\u001b[39;49m\u001b[4;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start_over()\r\n\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\u001b[8;13Hteam = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[9;13H\u001b[33munit\u001b[39;49m, cost = opt.rsplit(\u001b[35mNone\u001b[39;49m,1)\u001b[10;13Hu = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_unit({\u001b[32m\"name\"\u001b[39;49m:unit})\u001b[K\u001b[11;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.add_unit(u, team, x, y)\u001b[12;13Hteam.cash -= \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(cost[1:])\u001b[K\u001b[13;13Hu.ready = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[14;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[K\u001b[15;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\r\n\u001b[K\u001b[17;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_action\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[20;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Unload\"\u001b[39;49m:\u001b[K\u001b[23;30H\u001b[7m6% L770\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end_turn()\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Undo\"\u001b[39;49m:\u001b[K\u001b[5;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.undo()\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Start Over\"\u001b[39;49m:\u001b[K\u001b[8;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.undo(\u001b[35mTrue\u001b[39;49m)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Surrender\"\u001b[39;49m:\u001b[K\u001b[11;18Hdefeated(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team())\u001b[12;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[K\u001b[13;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\r\n\u001b[K\n\u001b[K\u001b[16;5H\u001b[31m# State: main menu (expected, menu option)                                  \u001b[39;49m\r\n\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_building\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\u001b[18;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[31m# Leave the menu.                                                       \u001b[39;49m\r\n\u001b[22;20H\u001b[32mCancel\u001b[39;49m\u001b[23;30H\u001b[7m5% L751\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.move_unit((ox,oy),(x,y))\u001b[3;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices += [\u001b[32m\"Wait\"\u001b[39;49m,\u001b[32m\"Cancel\"\u001b[39;49m]\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"action\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[31m# If the coord was out of range, undo everything.                       \u001b[39;49m\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start_over()\r\n\u001b[K\u001b[9;5H\u001b[31m# State: main menu (expected, menu option)                                  \u001b[39;49m\r\n\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_main_menu\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[12;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[31m# Leave the menu.                                                       \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Back\"\u001b[39;49m:\u001b[16;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start_over()\u001b[K\r\n\u001b[K\n\t\u001b[31m# End my turn.                                                          \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"End Turn\"\u001b[39;49m:\u001b[K\u001b[20;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end_turn()\u001b[K\r\n\u001b[K\u001b[23;30H\u001b[7m4% L732\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[33mattackable\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[3;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m px,py \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_range((x,y),u.rng[0],u.rng[1]):\u001b[4;13H    \u001b[33ma\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(px,py\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m a \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m a.allied(u):\r\n\t            \u001b[33mattackable\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"indirect\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.properties \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m moved:\r\n\t\t\u001b[33mattackable\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[9;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m attackable:\u001b[K\u001b[10;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Attack\"\u001b[39;49m)\r\n\u001b[K\u001b[12;13H\u001b[31m# If the cell you are on is capturable, add that option to          \u001b[39;49m\r\n\u001b[13;13H\u001b[31m# the list.                                                         \u001b[39;49m\r\n\t    \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m t.properties \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.properties\u001b[16;13H    \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m team.allied(t.team)):\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Capture\"\u001b[39;49m)\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(u.carrying) > 0):\u001b[K\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Unload\"\u001b[39;49m)\r\n\u001b[K\u001b[21;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.move_unit((ox,oy),(x,y))\u001b[22;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices += [\u001b[32m\"Wait\"\u001b[39;49m,\u001b[32m\"Cancel\"\u001b[39;49m]\u001b[23;30H\u001b[7m2% L713\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l    \u001b[33mutarg.hp\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(100, utarg.hp+u.hp)\u001b[3;13H    \u001b[33ma\u001b[39;49m = widgets.HPAlert(6,1,utarg.team.color,start_hp,utarg.hp,0)\u001b[4;18H\u001b[33m.time\u001b[39;49m = (utarg.hp - start_hp) + 50\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts += [(a,\u001b[32m\"tr\"\u001b[39;49m)]\r\n\t\t\u001b[33mutarg.ready\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[7;13H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\u001b[K\u001b[8;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (utarg \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m utarg \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[32m\"carry\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m utarg.properties):\u001b[9;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(ox,oy)\u001b[33m.unit\u001b[39;49m = \u001b[35mNone\u001b[39;49m\r\n\t\tutarg.carrying.append(u)\u001b[K\r\n\t\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\r\n\u001b[K\u001b[13;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\u001b[K\u001b[15;13H\u001b[33mmoved\u001b[39;49m = (x,y)!=(ox,oy)\u001b[K\u001b[16;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m moved:\u001b[K\r\n\t\t\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(ox,oy)\u001b[K\u001b[18;13H    \u001b[33mt.hp\u001b[39;49m = 100\u001b[K\r\n\u001b[K\u001b[20;13H\u001b[31m# Determine if a target is in range.                                \u001b[39;49m\r\n\u001b[21;13H\u001b[33mattackable\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[22;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m px,py \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_range((x,y),u.rng[0],u.rng[1]):\u001b[23;30H\u001b[7m0% L694\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m#            If out of range, cancel                                        \u001b[39;49m\r\n\u001b[3;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_moving\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[K\u001b[5;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = coord\u001b[K\r\n\t\u001b[33mox\u001b[39;49m,\u001b[33moy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\t\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(ox,oy)\u001b[K\r\n\t\u001b[33mteam\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[K\r\n\t\u001b[33mutarg\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\r\n\u001b[K\n\t\u001b[31m# If coord was in range, move the unit and return possible actions.     \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m team \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.ready:\u001b[14;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append((x,y))\r\n\u001b[K\u001b[16;13H\u001b[31m# Join units with the same name.                                    \u001b[39;49m\r\n\u001b[17;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (utarg \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m utarg.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m team \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m\r\n\t\t\butarg.name == u.name \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m utarg \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u):\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(ox,oy)\u001b[20;13H    \u001b[33mstart_hp\u001b[39;49m = utarg.hp\u001b[K\u001b[21;13H    \u001b[33mutarg.hp\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(100, utarg.hp+u.hp)\u001b[22;13H    \u001b[33ma\u001b[39;49m = widgets.HPAlert(6,1,utarg.team.color,start_hp,utarg.hp,0)\u001b[23;29H\u001b[7m59% L675\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m unit:\u001b[K\u001b[3;5H                \u001b[33mkeep\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m unit \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m u: \u001b[33mkeep\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[5;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m unit.name == u.name: keep = \u001b[35mTrue\u001b[39;49m\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[32m\"carry\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m unit.properties \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.name \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m unit.carry\r\n\t                \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(unit.carrying) < unit.capacity):\r\n\t                \u001b[33mkeep\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m keep:\u001b[K\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append((qx,qy))\u001b[11;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"moving\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[31m# Whatever else happens, main menu.                                     \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Back\"\u001b[39;49m,\u001b[32m\"End Turn\"\u001b[39;49m,\u001b[32m\"Surrender\"\u001b[39;49m,\u001b[32m\"Undo\"\u001b[39;49m,\u001b[32m\"Start Over\"\u001b[39;49m]\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"main menu\"\u001b[39;49m)\r\n\u001b[K\n\u001b[K\u001b[18;5H\u001b[31m# State    : Moving (expected input, tuple)                                 \u001b[39;49m\r\n\u001b[19;5H\u001b[31m# Expected : Tuple in range                                                 \u001b[39;49m\r\n\u001b[20;5H\u001b[31m# Next step: If in range, move                                              \u001b[39;49m\r\n\u001b[21;5H\u001b[31m#            If out of range, cancel                                        \u001b[39;49m\r\n\u001b[22;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_moving\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\u001b[K\u001b[23;30H\u001b[7m7% L656\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[31m# If no unit, check for terrain                                         \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append((x,y))\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[32m\"build\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m t.properties \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m team:\u001b[5;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[6;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m t.build:\u001b[K\r\n\t\t\u001b[33mp\u001b[39;49m = t.build[b]\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m p <= team.cash:\u001b[K\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"%s $%d\"\u001b[39;49m%(b,p))\u001b[10;13H\u001b[8P\t\t\t\u001b[32m\"Cancel\"\u001b[39;49m)\n\b\b\b\b\b\u001b[32mbuilding\"\u001b[39;49m)\u001b[13;11H\u001b[31mEven if the unit isn't ours (or isn't ready) we still enter the\u001b[39;49m\r\n\t\u001b[31m# \"move\" state so that we can see its movement range. Actually          \u001b[39;49m\r\n\t\u001b[31m# moving the unit will be stopped at the process_moving step.           \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\n\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[18;5H        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (qx,qy) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_move_range(x,y):\u001b[K\u001b[19;5H            \u001b[33munit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(qx,qy)\u001b[K\u001b[20;5H            \u001b[33mkeep\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[21;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m unit:\u001b[K\u001b[22;5H                \u001b[33mkeep\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\n\b\b\b\u001b[7m5% L637\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"save map\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_save_map(c)\u001b[K\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"rule unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_rule_unit(c)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"rule terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_rule_terrain(c)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"page unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_page_unit(c)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"page terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_page_terrain(c)\r\n\u001b[K\n\u001b[K\u001b[9;5H\u001b[31m# State    : Play (expected input, tuple)                                   \u001b[39;49m\r\n\u001b[10;5H\u001b[31m# Expected : Tuple (unit or friendly factory)                               \u001b[39;49m\r\n\u001b[11;5H\u001b[31m# Next step: If unit: coordinates of range of unit                          \u001b[39;49m\r\n\u001b[12;5H\u001b[31m#            If factory: list of possible buildables                        \u001b[39;49m\r\n\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_play\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[K\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,y = coord\r\n\tt = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\r\n\tu = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\r\n\t\u001b[33mteam\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[K\r\n\u001b[K\n\t\u001b[31m# If no unit, check for terrain                                         \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append((x,y))\n\b\b\b\b\u001b[7m3% L618\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m#     coord: Tell the controller to give it a coord                         \u001b[39;49m\r\n\u001b[3;5H\u001b[31m#     undo: Tell the controller to reload the grid                          \u001b[39;49m\r\n\u001b[4;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m   \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"play\"\u001b[39;49m     : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_play(c)\u001b[K\u001b[6;29H\u001b[32mmain menu\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_main_menu(c)\u001b[K\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"moving\"\u001b[39;49m   : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_moving(c)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"action\"\u001b[39;49m   : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_action(c)\u001b[9;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"attacking\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_attacking(c)\u001b[K\u001b[10;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"building\"\u001b[39;49m : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_building(c)\u001b[K\u001b[11;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"unload\"\u001b[39;49m   : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_unload(c)\u001b[K\u001b[12;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"unload drop\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_unload_drop(c)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m     : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_edit(c)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit menu\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_edit_menu(c)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_edit_unit(c)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_edit_terrain(c)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"unit team\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_unit_team(c)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"terrain team\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_terrain_team(c)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"draw terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_draw_terrain(c)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"save map\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_save_map(c)\u001b[K\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"rule unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_rule_unit(c)\u001b[23;30H\u001b[7m0% L599\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\u001b[3;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\u001b[4;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"unit team\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"draw terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\u001b[K\u001b[6;29H\u001b[32mterrain team\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\u001b[7;29H\u001b[32msave map\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_EDITOR\u001b[K\u001b[8;29H\u001b[32mrule unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\u001b[9;29H\u001b[32mrule terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\u001b[10;29H\u001b[32mpage unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_EDITOR\u001b[K\u001b[11;29H\u001b[32mpage terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_EDITOR\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m: \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"No such state.\"\u001b[39;49m)\r\n\u001b[K\u001b[15;5H\u001b[31m# This processes input of two types: coordinates and strings.               \u001b[39;49m\r\n\u001b[16;5H\u001b[31m# A string is the input from a menu, such as \"attack\" or \"wait\".            \u001b[39;49m\r\n\u001b[17;5H\u001b[31m# A coordinate is an x,y location on the grid.                              \u001b[39;49m\r\n\u001b[18;5H\u001b[31m# Has one of four return values:                                            \u001b[39;49m\r\n\u001b[19;5H\u001b[31m#     None: Tell the controller to do nothing                               \u001b[39;49m\r\n\u001b[20;5H\u001b[31m#     menu: Tell the controller to render a menu                            \u001b[39;49m\r\n\u001b[21;5H\u001b[31m#     coord: Tell the controller to give it a coord                         \u001b[39;49m\r\n\u001b[22;5H\u001b[31m#     undo: Tell the controller to reload the grid                          \u001b[39;49m\r\n\u001b[23;29H\u001b[7m48% L580\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l    \u001b[31m#self.state = \"over\"                                                \u001b[39;49m\r\n\u001b[K\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"play\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[6;5H\u001b[31m# This sets the new state and returns the appropriate code                  \u001b[39;49m\r\n\u001b[7;5H\u001b[31m# to the caller for what kind of input should come next.                    \u001b[39;49m\r\n\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtransition\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, new_state):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = new_state\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m   \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"play\"\u001b[39;49m     : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\u001b[K\u001b[11;29H\u001b[32mmain menu\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"moving\"\u001b[39;49m   : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\u001b[13;11H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"unload\"\u001b[39;49m   : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"unload drop\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\u001b[15;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"action\"\u001b[39;49m   : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\u001b[16;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"attacking\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\u001b[K\u001b[17;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"building\"\u001b[39;49m : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\r\n\u001b[K\u001b[19;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m     : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\u001b[K\u001b[20;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit menu\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\u001b[21;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\u001b[22;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\u001b[23;30H\u001b[7m6% L561\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units:\u001b[K\u001b[3;13H\u001b[33mu.ready\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m].append([acts \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (cp,acts) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history])\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.end_turn()\u001b[6;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[K\u001b[7;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[K\u001b[8;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[9;14Hcheckpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\u001b[K\n\t\u001b[31m# Finally, figure out if we've won. If we have, then put the map in     \u001b[39;49m\r\n\t\u001b[31m# \"finished\" mode and allow the player to leave. The game is only       \u001b[39;49m\r\n\t\u001b[31m# won when the final player ends their turn.                            \u001b[39;49m\r\n\t\u001b[33mwinner\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m at \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]:\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m ot \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]:\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m at.allied(ot):\u001b[K\u001b[18;21H\u001b[33mwinner\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m winner:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.winners = [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]\r\n\t    \u001b[31m#self.state = \"over\"                                                \u001b[39;49m\r\n\u001b[K\u001b[23;30H\u001b[7m4% L542\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[33mteam.active\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (tx,ty) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles_xy():\r\n\t    \u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(tx,ty)\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team == team:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(tx,ty)\u001b[7;14Hgrid.units = [u \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m team]\r\n\u001b[K\n\tm = \u001b[32m\"%s has been defeated!\"\u001b[39;49m%(team.name)\u001b[K\r\n\ta = widgets.Alert(\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(m)+1,1,m,team.color)\r\n\ta.time = 50\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append((a,\u001b[32m\"c\"\u001b[39;49m))\u001b[K\r\n\u001b[K\u001b[14;5H\u001b[31m# When we end the turn, we flush the history buffer and save a new          \u001b[39;49m\r\n\u001b[15;5H\u001b[31m# checkpoint.                                                               \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mend_turn\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state != \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action != []:\u001b[18;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Can't end right now\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units:\u001b[K\u001b[22;13H\u001b[33mu.ready\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[23;30H\u001b[7m3% L523\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t            \u001b[33mt.cash\u001b[39;49m += tile.cash\u001b[K\r\n\u001b[K\n\t\u001b[31m# Make the turn-start alert.                                            \u001b[39;49m\r\n\t\u001b[33mm1\u001b[39;49m = \u001b[32m\"%s: Day %d\"\u001b[39;49m%(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.name, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.day)\r\n\t\u001b[33mm2\u001b[39;49m = \u001b[32m\"%s - move out!\"\u001b[39;49m%t.name\u001b[K\r\n\t\u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(m1),\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(m2))+1\r\n\t\u001b[33ma\u001b[39;49m = widgets.Alert(w,2,m1+\u001b[32m\"\\n\"\u001b[39;49m+m2,t.color)\r\n\t\u001b[33ma.time\u001b[39;49m = 50\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append((a,\u001b[32m\"c\"\u001b[39;49m))\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[14;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[16;5H\u001b[31m# Mark the team as defeated. This destroys all of their units, sets their   \u001b[39;49m\r\n\u001b[17;5H\u001b[31m# funds to zero, and marks them as inactive, unable to take future turns.   \u001b[39;49m\r\n\u001b[18;5H\u001b[31m# Properties are still left intact - capturing the enemy HQ will reward     \u001b[39;49m\r\n\u001b[19;5H\u001b[31m# you by giving you all of the properties belonging to the team.            \u001b[39;49m\r\n\u001b[20;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdefeated\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, team):\r\n\t\u001b[33mteam.active\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (tx,ty) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles_xy():\u001b[23;30H\u001b[7m1% L504\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\t\u001b[?25l\u001b[33mcp\u001b[39;49m,\u001b[33maction\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.pop()\u001b[3;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = cp\u001b[K\u001b[4;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(cp)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"play\"\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_UNDO\u001b[K\r\n\u001b[K\u001b[10;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[11;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mstart_turn\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.restartcopy = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[K\r\n\u001b[K\n\t\u001b[31m# Give the player their money.                                          \u001b[39;49m\r\n\u001b[16;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tile \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles():\u001b[K\u001b[17;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m t:\u001b[K\u001b[18;5H            \u001b[33mu\u001b[39;49m = tile.unit\u001b[K\u001b[19;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.hp < 100 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.name \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair:\u001b[K\u001b[20;5H                \u001b[33mu.hp\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(100,u.hp+tile.repair[u.name])\r\n\t        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t            \u001b[33mt.cash\u001b[39;49m += tile.cash\u001b[K\u001b[23;29H\u001b[7m39% L485\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\u001b[3;5H\u001b[?25l\u001b[31m# When a move is completed and we return to the start state, we             \u001b[39;49m\r\n\u001b[4;5H\u001b[31m# change the checkpoint and save the move in our history.                   \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mcommit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\u001b[6;14Hhistory.append((\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action))\u001b[7;14Haction = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"play\"\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[10;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[K\u001b[11;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"play\"\u001b[39;49m)\r\n\u001b[K\u001b[13;5H\u001b[31m# When we undo, we go back to a previous spot in the history.               \u001b[39;49m\r\n\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mundo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, total=\u001b[35mFalse\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history) > 0:\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m total:\u001b[K\u001b[17;13H    \u001b[33mcp\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.restartcopy\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[20;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[33mcp\u001b[39;49m,\u001b[33maction\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.pop()\u001b[22;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = cp\u001b[K\u001b[23;30H\u001b[7m8% L466\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[3;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\u001b[K\u001b[4;5H            \u001b[33mcol\u001b[39;49m = u.team.color\u001b[K\u001b[5;5H            \u001b[33minfo3\u001b[39;49m = [(u.name,col+\u001b[32m\"!\"\u001b[39;49m),\r\n\t                 (\u001b[32m\"DEF +%d\"\u001b[39;49m%t.defense,col),\u001b[K\r\n\t                 (\u001b[32m\"HP %d%% %s\"\u001b[39;49m%(u.hp,dmg2),col)]\r\n\u001b[K\n\u001b[K\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report, info1, info2, info3\u001b[K\r\n\u001b[K\u001b[12;5H\u001b[31m# This sets the state back to start while also restoring the previous       \u001b[39;49m\r\n\t\b\b\u001b[31mcheckpoint of the world. When the controller gets CTRL_UNDO, it is\u001b[39;49m\u001b[14;5H\u001b[31m# supposed to set its camera's grid to the new one.                         \u001b[39;49m\r\n\u001b[15;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mstart_over\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"play\"\u001b[39;49m\u001b[K\r\n\t\u001b[8P\t\b\b\bchoices\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_UNDO\r\n\u001b[K\u001b[22;5H\u001b[31m# When a move is completed and we return to the start state, we             \u001b[39;49m\r\n\u001b[23;30H\u001b[7m6% L447\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l           (\u001b[32m\"DEF +%d\"\u001b[39;49m%t.defense,tcol)]\u001b[3;13H\u001b[33mu\u001b[39;49m = t.unit\u001b[4;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\u001b[K\n\b\u001b[33mucol\u001b[39;49m = u.team.color\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.hp < 100:\u001b[K\u001b[7;21H\u001b[33minfo2\u001b[39;49m += [(\u001b[32m\"Capturing: %d%%\"\u001b[39;49m%t.hp,ucol)]\r\n\t\t\u001b[33minfo2\u001b[39;49m += [ (\u001b[32m\" \"\u001b[39;49m,\u001b[32m\"\"\u001b[39;49m),\u001b[9;28H(u.name,ucol+\u001b[32m\"!\"\u001b[39;49m),\r\n\t                   (\u001b[32m\"HP %d%% %s\"\u001b[39;49m%(u.hp,dmg1),ucol) ]\r\n\n\u001b[K\n\u001b[K\u001b[14;57H\u001b[4P\u001b[14;5H\u001b[4@\u001b[14;11H\u001b[31mInfo 3 is for the unit that is currently selected.\u001b[39;49m\u001b[15;5H    \u001b[33minfo3\u001b[39;49m = []\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action) > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.edit:\r\n\t    \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action) > 1:\r\n\t        \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]\u001b[K\r\n\t    \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[21;13H\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[22;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\u001b[K\u001b[23;30H\u001b[7m5% L428\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\t\u001b[?25l\u001b[33mdmg1\u001b[39;49m = \u001b[32m\"-%d%%\"\u001b[39;49m%est\u001b[K\u001b[3;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m est > def_unit.hp:\u001b[4;13H        \u001b[33mest\u001b[39;49m = def_unit.hp\r\n\t\t\u001b[33mdmg2\u001b[39;49m = \u001b[32m\"-%d%%\"\u001b[39;49m%(def_unit.simulate(atk_unit.name,a_terrain,\r\n\t\t                                  atk_unit.hp-est))\r\n\u001b[K\n\t\t\u001b[33mcounter\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"indirect\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m def_unit.properties: \u001b[33mcounter\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m def_unit.in_range(dist): \u001b[33mcounter\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m counter: \u001b[33mdmg2\u001b[39;49m = \u001b[32m\"-0%\"\u001b[39;49m\r\n\n\t\u001b[31m# Info 2 is for the intel on the hovering tile.                         \u001b[39;49m\r\n\t\u001b[33minfo2\u001b[39;49m = []\u001b[K\r\n\t\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\r\n\t\u001b[33mtcol\u001b[39;49m = \u001b[32m\"w\"\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t:\u001b[K\n\t\bt.team:\u001b[K\r\n\t\t\u001b[33mtcol\u001b[39;49m = t.team.color\u001b[K\u001b[20;13H\u001b[33minfo2\u001b[39;49m += [ (t.name,tcol),\u001b[K\u001b[21;13H           (\u001b[32m\"DEF +%d\"\u001b[39;49m%t.defense,tcol)]\u001b[22;13H\u001b[33mu\u001b[39;49m = t.unit\u001b[23;30H\u001b[7m3% L409\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\t\u001b[?25l\u001b[33mmoney\u001b[39;49m = \u001b[32m\"$RICH\"\u001b[39;49m\u001b[K\u001b[3;13H\u001b[33mspace\u001b[39;49m = \u001b[32m\" \"\u001b[39;49m*(14-\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(t.name[:8])-\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(money))\u001b[4;13H\u001b[33mcol\u001b[39;49m = t.color\u001b[K\u001b[5;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t.active:\u001b[K\r\n\t\t\u001b[33mcol\u001b[39;49m = \u001b[32m\"x!\"\u001b[39;49m\u001b[K\u001b[7;13Hinfo1.append( (\u001b[32m\"%s%s%s\"\u001b[39;49m%(t.name[:8], space, money), col) )\r\n\u001b[K\n\t\u001b[31m# If attack is in the action, we need to get the estimated              \u001b[39;49m\r\n\t\u001b[31m# damage to show the player.                                            \u001b[39;49m\r\n\t\u001b[33mdmg1\u001b[39;49m, \u001b[33mdmg2\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m,\u001b[32m\"\"\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"Attack\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\r\n\t    \u001b[33max\u001b[39;49m,\u001b[33may\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]\u001b[K\r\n\t    \u001b[33matk_unit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(ax,ay)\r\n\t    \u001b[33mdef_unit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m atk_unit \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m def_unit:\r\n\t        \u001b[33ma_terrain\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(ax,ay)\u001b[18;13H    \u001b[33md_terrain\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\r\n\t\t\u001b[33mdist\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.dist((ax,ay),(x,y))\u001b[20;13H    \u001b[33mest\u001b[39;49m = atk_unit.simulate(def_unit.name,d_terrain)\r\n\t\t\u001b[33mdmg1\u001b[39;49m = \u001b[32m\"-%d%%\"\u001b[39;49m%est\u001b[K\u001b[22;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m est > def_unit.hp:\u001b[23;30H\u001b[7m1% L390\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m a_alive: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defeated(atk_unit.team)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m d_alive: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defeated(def_unit.team)\u001b[K\r\n\u001b[K\u001b[5;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mpump_info\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.edit:\u001b[K\u001b[8;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start_turn()\r\n\t\u001b[33mreport\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = []\u001b[K\r\n\u001b[K\n\t\u001b[31m# Info 1 is global team information.                                    \u001b[39;49m\r\n\t\u001b[33minfo1\u001b[39;49m = [ (\u001b[32m\"Day %d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.day,\u001b[32m\"w!\"\u001b[39;49m)]\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.edit:\u001b[K\u001b[15;13H\u001b[33minfo1\u001b[39;49m = [(\u001b[32m\"Map Editing\"\u001b[39;49m,\u001b[32m\"w!\"\u001b[39;49m)]\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\u001b[K\u001b[17;13H\u001b[33mmoney\u001b[39;49m = \u001b[32m\"$%d\"\u001b[39;49m%t.cash\u001b[K\u001b[18;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.cash >= 10000:\u001b[K\r\n\t\t\u001b[33mmoney\u001b[39;49m = \u001b[32m\"$%dK\"\u001b[39;49m%(t.cash/1000)\u001b[K\u001b[20;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.cash >= 1000000:\u001b[K\r\n\t\t\u001b[33mmoney\u001b[39;49m = \u001b[32m\"$RICH\"\u001b[39;49m\u001b[K\u001b[22;13H\u001b[33mspace\u001b[39;49m = \u001b[32m\" \"\u001b[39;49m*(14-\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(t.name[:8])-\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(money))\u001b[23;30H\u001b[7m0% L371\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\n\t\u001b[?25l\u001b[31m# Remove destroyed units from grid and prevent HP from falling into     \u001b[39;49m\r\n\t\u001b[31m# the negatives.                                                        \u001b[39;49m\r\n\u001b[5;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m atk_unit.hp <= 0:\u001b[K\u001b[6;5H        \u001b[33matk_unit.hp\u001b[39;49m = 0\u001b[K\r\n\t    \u001b[33ma_terrain.hp\u001b[39;49m = 100\u001b[K\u001b[8;18Hgrid.remove_unit(ax,ay)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m def_unit.hp <= 0:\r\n\t    \u001b[33mdef_unit.hp\u001b[39;49m = 0\u001b[11;13H\u001b[33md_terrain.hp\u001b[39;49m = 100\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(dx,dy)\u001b[K\r\n\u001b[K\n\t\u001b[31m# Check and see if the last unit died.                                  \u001b[39;49m\r\n\t\u001b[33ma_alive\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[33md_alive\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (tx,ty) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles_xy():\u001b[18;13H\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(tx,ty)\u001b[19;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m atk_unit.team: \u001b[33ma_alive\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t\t\bu \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m def_unit.team: \u001b[33md_alive\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m a_alive: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defeated(atk_unit.team)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m d_alive: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defeated(def_unit.team)\u001b[K\u001b[23;29H\u001b[7m28% L352\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m a_alive: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defeated(atk_unit.team)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m d_alive: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defeated(def_unit.team)\u001b[K\r\n\u001b[K\u001b[5;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mpump_info\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.edit:\u001b[8;18Hstart_turn()\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = []\u001b[K\r\n\u001b[K\n\t\u001b[31m# Info 1 is global team information.                                    \u001b[39;49m\r\n\t\u001b[33minfo1\u001b[39;49m = [ (\u001b[32m\"Day %d\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.day,\u001b[32m\"w!\"\u001b[39;49m)]\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.edit:\u001b[K\r\n\t    \u001b[33minfo1\u001b[39;49m = [(\u001b[32m\"Map Editing\"\u001b[39;49m,\u001b[32m\"w!\"\u001b[39;49m)]\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\r\n\t    \u001b[33mmoney\u001b[39;49m = \u001b[32m\"$%d\"\u001b[39;49m%t.cash\u001b[K\u001b[18;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.cash >= 10000:\u001b[K\u001b[19;13H    \u001b[33mmoney\u001b[39;49m = \u001b[32m\"$%dK\"\u001b[39;49m%(t.cash/1000)\u001b[K\r\n\t\t\bt.cash >= 1000000:\u001b[K\r\n\t        \u001b[33mmoney\u001b[39;49m = \u001b[32m\"$RICH\"\u001b[39;49m\u001b[K\r\n\t    \u001b[33mspace\u001b[39;49m = \u001b[32m\" \"\u001b[39;49m*(14-\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(t.name[:8])-\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(money))\u001b[23;29H\u001b[7m30\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[A\t\u001b[?25l        \u001b[33mmoney\u001b[39;49m = \u001b[32m\"$RICH\"\u001b[39;49m\u001b[K\r\n\t    \u001b[33mspace\u001b[39;49m = \u001b[32m\" \"\u001b[39;49m*(14-\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(t.name[:8])-\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(money))\u001b[4;13H\u001b[33mcol\u001b[39;49m = t.color\u001b[5;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t.active:\u001b[K\u001b[6;5H            \u001b[33mcol\u001b[39;49m = \u001b[32m\"x!\"\u001b[39;49m\u001b[K\r\n\t    info1.append( (\u001b[32m\"%s%s%s\"\u001b[39;49m%(t.name[:8], space, money), col) )\r\n\u001b[K\n\t\u001b[31m# If attack is in the action, we need to get the estimated              \u001b[39;49m\r\n\t\u001b[31m# damage to show the player.                                            \u001b[39;49m\r\n\t\u001b[33mdmg1\u001b[39;49m, \u001b[33mdmg2\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m,\u001b[32m\"\"\u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"Attack\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\r\n\t    \u001b[33max\u001b[39;49m,\u001b[33may\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]\u001b[K\r\n\t    \u001b[33matk_unit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(ax,ay)\u001b[15;13H\u001b[33mdef_unit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m atk_unit \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m def_unit:\u001b[17;13H    \u001b[33ma_terrain\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(ax,ay)\u001b[18;13H    \u001b[33md_terrain\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\r\n\t\t\u001b[33mdist\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.dist((ax,ay),(x,y))\u001b[20;13H    \u001b[33mest\u001b[39;49m = atk_unit.simulate(def_unit.name,d_terrain)\r\n\t\t\u001b[33mdmg1\u001b[39;49m = \u001b[32m\"-%d%%\"\u001b[39;49m%est\u001b[22;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m est > def_unit.hp:\u001b[K\u001b[23;30H\u001b[7m1% L370\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25l\u001b[33mdmg1\u001b[39;49m = \u001b[32m\"-%d%%\"\u001b[39;49m%est\u001b[3;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m est > def_unit.hp:\u001b[K\u001b[4;13H        \u001b[33mest\u001b[39;49m = def_unit.hp\u001b[5;13H    \u001b[33mdmg2\u001b[39;49m = \u001b[32m\"-%d%%\"\u001b[39;49m%(def_unit.simulate(atk_unit.name,a_terrain,\r\n\t\t                                  atk_unit.hp-est))\r\n\u001b[K\n\t\t\u001b[33mcounter\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"indirect\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m def_unit.properties: \u001b[33mcounter\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m def_unit.in_range(dist): \u001b[33mcounter\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m counter: \u001b[33mdmg2\u001b[39;49m = \u001b[32m\"-0%\"\u001b[39;49m\r\n\u001b[K\n\t\u001b[31m# Info 2 is for the intel on the hovering tile.                         \u001b[39;49m\r\n\t\u001b[33minfo2\u001b[39;49m = []\u001b[K\r\n\t\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[K\r\n\t\u001b[33mtcol\u001b[39;49m = \u001b[32m\"w\"\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t:\u001b[K\n\b\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.team:\u001b[K\r\n\t\t\u001b[33mtcol\u001b[39;49m = t.team.color\u001b[K\u001b[20;13H\u001b[33minfo2\u001b[39;49m += [ (t.name,tcol),\u001b[K\r\n\t\t       (\u001b[32m\"DEF +%d\"\u001b[39;49m%t.defense,tcol)]\u001b[22;13H\u001b[33mu\u001b[39;49m = t.unit\u001b[K\u001b[23;30H\u001b[7m3% L389\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25l       (\u001b[32m\"DEF +%d\"\u001b[39;49m%t.defense,tcol)]\u001b[3;13H\u001b[33mu\u001b[39;49m = t.unit\u001b[K\u001b[4;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\u001b[K\n\b\u001b[33mucol\u001b[39;49m = u.team.color\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.hp < 100:\u001b[K\u001b[7;21H\u001b[33minfo2\u001b[39;49m += [(\u001b[32m\"Capturing: %d%%\"\u001b[39;49m%t.hp,ucol)]\r\n\t\t\u001b[33minfo2\u001b[39;49m += [ (\u001b[32m\" \"\u001b[39;49m,\u001b[32m\"\"\u001b[39;49m),\r\n\t\t           (u.name,ucol+\u001b[32m\"!\"\u001b[39;49m),\u001b[K\r\n\t\t           (\u001b[32m\"HP %d%% %s\"\u001b[39;49m%(u.hp,dmg1),ucol) ]\u001b[K\r\n\u001b[K\n\n\u001b[K\n\t\u001b[31m# Info 3 is for the unit that is currently selected.                    \u001b[39;49m\r\n\t\u001b[33minfo3\u001b[39;49m = []\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action) > 0 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.edit:\r\n\t    \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\r\n\t\t\b\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action) > 1:\r\n\t\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]\u001b[20;13H\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[21;13H\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\u001b[22;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\u001b[K\u001b[23;30H\u001b[7m5% L408\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\u001b[3;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\u001b[K\n\b\b\b\b\b    \u001b[33mcol\u001b[39;49m = u.team.color\r\n\t\t\u001b[33minfo3\u001b[39;49m = [(u.name,col+\u001b[32m\"!\"\u001b[39;49m),\r\n\t\t         (\u001b[32m\"DEF +%d\"\u001b[39;49m%t.defense,col),\u001b[7;21H     (\u001b[32m\"HP %d%% %s\"\u001b[39;49m%(u.hp,dmg2),col)]\u001b[K\r\n\u001b[K\n\u001b[K\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report, info1, info2, info3\u001b[K\u001b[12;5H\u001b[31m# This sets the state back to start while also restoring the previous       \u001b[39;49m\r\n\u001b[13;5H\u001b[31m# checkpoint of the world. When the controller gets CTRL_UNDO, it is        \u001b[39;49m\r\n\u001b[14;5H\u001b[4P\t\b\b\u001b[31msupposed to set its camera's grid to the new one. \u001b[39;49m\u001b[4@\u001b[31m    \u001b[39;49m\u001b[15;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mstart_over\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"play\"\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_UNDO\u001b[K\r\n\u001b[K\u001b[22;5H\u001b[31m# When a move is completed and we return to the start state, we             \u001b[39;49m\r\n\u001b[23;30H\u001b[7m6% L427\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[3;5H\u001b[?25l\u001b[31m# When a move is completed and we return to the start state, we             \u001b[39;49m\r\n\u001b[4;5H\u001b[31m# change the checkpoint and save the move in our history.                   \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mcommit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.append((\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action))\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"play\"\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"play\"\u001b[39;49m)\r\n\u001b[K\n\t\b\b\u001b[31mWhen we undo, we go back to a previous spot in the history.       \u001b[39;49m\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mundo\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, total=\u001b[35mFalse\u001b[39;49m):\u001b[K\u001b[15;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history) > 0:\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m total:\u001b[K\r\n\t        \u001b[33mcp\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.restartcopy\r\n\t\u001b[8@\u001b[18;22Hhistory\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[33mcp\u001b[39;49m,\u001b[33maction\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.pop()\u001b[22;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = cp\u001b[K\u001b[23;30H\u001b[7m8% L446\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25l\u001b[33mcp\u001b[39;49m,\u001b[33maction\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history.pop()\u001b[3;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = cp\u001b[K\u001b[4;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(cp)\u001b[K\u001b[5;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[6;14Hstate = \u001b[32m\"play\"\u001b[39;49m\u001b[K\u001b[7;14Hchoices = []\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_UNDO\u001b[K\r\n\u001b[K\u001b[10;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[11;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mstart_turn\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.restartcopy = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\u001b[13;5H    \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[K\r\n\u001b[K\n\t\u001b[31m# Give the player their money.                                          \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tile \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles():\u001b[17;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m t:\u001b[K\r\n\t\t\u001b[33mu\u001b[39;49m = tile.unit\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.hp < 100 \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.name \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m tile.repair:\u001b[20;13H        \u001b[33mu.hp\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(100,u.hp+tile.repair[u.name])\r\n\t\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[22;13H        \u001b[33mt.cash\u001b[39;49m += tile.cash\u001b[23;30H\u001b[7m9% L465\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25l\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[3;13H        \u001b[33mt.cash\u001b[39;49m += tile.cash\r\n\u001b[K\n\t\u001b[31m# Make the turn-start alert.                                            \u001b[39;49m\r\n\t\u001b[33mm1\u001b[39;49m = \u001b[32m\"%s: Day %d\"\u001b[39;49m%(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.name, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.day)\r\n\t\u001b[33mm2\u001b[39;49m = \u001b[32m\"%s - move out!\"\u001b[39;49m%t.name\r\n\t\u001b[33mw\u001b[39;49m = \u001b[1m\u001b[34mmax\u001b[0m\u001b[39;49m(\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(m1),\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(m2))+1\r\n\t\u001b[33ma\u001b[39;49m = widgets.Alert(w,2,m1+\u001b[32m\"\\n\"\u001b[39;49m+m2,t.color)\u001b[10;5H    \u001b[33ma.time\u001b[39;49m = 50\u001b[K\u001b[11;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append((a,\u001b[32m\"c\"\u001b[39;49m))\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = \u001b[35mFalse\u001b[39;49m\r\n\u001b[K\u001b[16;5H\u001b[31m# Mark the team as defeated. This destroys all of their units, sets their   \u001b[39;49m\r\n\u001b[17;5H\u001b[31m# funds to zero, and marks them as inactive, unable to take future turns.   \u001b[39;49m\r\n\u001b[18;5H\u001b[31m# Properties are still left intact - capturing the enemy HQ will reward     \u001b[39;49m\r\n\u001b[19;5H\u001b[31m# you by giving you all of the properties belonging to the team.            \u001b[39;49m\r\n\u001b[20;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdefeated\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, team):\u001b[K\r\n\t\u001b[33mteam.active\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (tx,ty) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles_xy():\u001b[23;29H\u001b[7m41% L484\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[33mteam.active\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (tx,ty) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles_xy():\u001b[4;13H\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(tx,ty)\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team == team:\u001b[K\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(tx,ty)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units = [u \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m team]\r\n\u001b[K\n\tm = \u001b[32m\"%s has been defeated!\"\u001b[39;49m%(team.name)\u001b[K\r\n\ta = widgets.Alert(\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(m)+1,1,m,team.color)\r\n\ta.time = 50\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append((a,\u001b[32m\"c\"\u001b[39;49m))\r\n\u001b[K\u001b[14;5H\u001b[31m# When we end the turn, we flush the history buffer and save a new          \u001b[39;49m\r\n\u001b[15;5H\u001b[31m# checkpoint.                                                               \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mend_turn\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\u001b[17;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state != \u001b[35mNone\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action != []:\u001b[K\u001b[18;5H        \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Can't end right now\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[20;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units:\r\n\t    \u001b[33mu.ready\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[23;30H\u001b[7m3% L503\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.units:\r\n\t    \u001b[33mu.ready\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"history\"\u001b[39;49m].append([acts \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (cp,acts) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history])\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.end_turn()\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.history = []\u001b[K\u001b[7;14Haction = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.checkpoint = copy.deepcopy(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid)\r\n\u001b[K\n\t\u001b[31m# Finally, figure out if we've won. If we have, then put the map in     \u001b[39;49m\r\n\t\u001b[31m# \"finished\" mode and allow the player to leave. The game is only       \u001b[39;49m\r\n\t\u001b[31m# won when the final player ends their turn.                            \u001b[39;49m\r\n\u001b[14;5H    \u001b[33mwinner\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[15;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m at \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]:\u001b[K\u001b[16;5H        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m ot \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]:\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m at.allied(ot):\u001b[K\u001b[18;13H        \u001b[33mwinner\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m winner:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.winners = [t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]\r\n\t    \u001b[31m#self.state = \"over\"                                                \u001b[39;49m\r\n\u001b[K\u001b[23;30H\u001b[7m4% L522\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l    \u001b[31m#self.state = \"over\"                                                \u001b[39;49m\r\n\u001b[K\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"play\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[6;5H\u001b[31m# This sets the new state and returns the appropriate code                  \u001b[39;49m\r\n\u001b[7;5H\u001b[31m# to the caller for what kind of input should come next.                    \u001b[39;49m\r\n\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtransition\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, new_state):\u001b[9;14Hstate = new_state\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m   \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"play\"\u001b[39;49m     : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"main menu\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"moving\"\u001b[39;49m   : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\u001b[K\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"unload\"\u001b[39;49m   : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"unload drop\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"action\"\u001b[39;49m   : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"attacking\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\u001b[K\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"building\"\u001b[39;49m : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\r\n\u001b[K\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m     : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit menu\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[23;30H\u001b[7m6% L541\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"unit team\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"draw terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_COORD\u001b[6;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"terrain team\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\u001b[K\u001b[7;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"save map\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_EDITOR\u001b[K\u001b[8;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"rule unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"rule terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_MENU\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"page unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_EDITOR\u001b[11;29H\u001b[32mpage terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_EDITOR\r\n\u001b[K\u001b[13;11H\u001b[1m\u001b[36mse\u001b[0m\u001b[39;49m: \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"No such state.\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[15;5H\u001b[31m# This processes input of two types: coordinates and strings.               \u001b[39;49m\r\n\u001b[16;5H\u001b[31m# A string is the input from a menu, such as \"attack\" or \"wait\".            \u001b[39;49m\r\n\u001b[17;5H\u001b[31m# A coordinate is an x,y location on the grid.                              \u001b[39;49m\r\n\u001b[18;5H\u001b[31m# Has one of four return values:                                            \u001b[39;49m\r\n\u001b[19;5H\u001b[31m#     None: Tell the controller to do nothing                               \u001b[39;49m\r\n\u001b[20;5H\u001b[31m#     menu: Tell the controller to render a menu                            \u001b[39;49m\r\n\u001b[21;5H\u001b[31m#     coord: Tell the controller to give it a coord                         \u001b[39;49m\r\n\u001b[22;5H\u001b[31m#     undo: Tell the controller to reload the grid                          \u001b[39;49m\r\n\u001b[23;30H\u001b[7m8% L560\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m69\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;62H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[13;1H\u001b[1L\u001b[1;24r\u001b[13;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   48% L570\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32m\"                                                    \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[12;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mm\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[12;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lCloses \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"page terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m CTRL_EDITOR\u001b[12;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[12;42H\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lC\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lT\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lR\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lL\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lM\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lE\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lN\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lU\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[12;58H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[12;58H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;58H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[2;5H\u001b[?25l\u001b[31m#     menu: Tell the controller to render a menu                            \u001b[39;49m\r\n\u001b[3;5H\u001b[31m#     coord: Tell the controller to give it a coord                         \u001b[39;49m\r\n\u001b[4;5H\u001b[31m#     undo: Tell the controller to reload the grid                          \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m   \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"play\"\u001b[39;49m     : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_play(c)\u001b[7;29H\u001b[32mmain menu\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_main_menu(c)\u001b[8;29H\u001b[32mmoving\"\u001b[39;49m   : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_moving(c)\u001b[9;29H\u001b[32maction\"\u001b[39;49m   : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_action(c)\u001b[10;29H\u001b[32mattacking\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_attacking(c)\u001b[11;29H\u001b[32mbuilding\"\u001b[39;49m : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_building(c)\u001b[12;29H\u001b[32munload\"\u001b[39;49m   : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_unload(c)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"unload drop\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_unload_drop(c)\r\n\u001b[K\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m     : \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_edit(c)\u001b[16;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit menu\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_edit_menu(c)\u001b[K\u001b[17;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_edit_unit(c)\u001b[K\u001b[18;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_edit_terrain(c)\u001b[K\u001b[19;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"unit team\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_unit_team(c)\u001b[K\u001b[20;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"terrain team\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_terrain_team(c)\u001b[K\u001b[21;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"draw terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_draw_terrain(c)\u001b[K\u001b[22;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"save map\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_save_map(c)\u001b[K\u001b[23;29H\u001b[7m50% L579\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"draw terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_draw_terrain(c)\u001b[K\u001b[3;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"save map\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_save_map(c)\u001b[K\u001b[4;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"rule unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_rule_unit(c)\u001b[K\u001b[5;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"rule terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_rule_terrain(c)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"page unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_page_unit(c)\u001b[7;29H\u001b[32mpage terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_page_terrain(c)\r\n\u001b[K\n\u001b[K\u001b[10;5H\u001b[31m# State    : Play (expected input, tuple)                                   \u001b[39;49m\r\n\u001b[11;5H\u001b[31m# Expected : Tuple (unit or friendly factory)                               \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# Next step: If unit: coordinates of range of unit                          \u001b[39;49m\r\n\u001b[13;5H\u001b[31m#            If factory: list of possible buildables                        \u001b[39;49m\r\n\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_play\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[K\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = coord\u001b[K\r\n\t\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[K\r\n\t\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\r\n\t\u001b[33mteam\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[K\r\n\u001b[K\n\t\u001b[31m# If no unit, check for terrain                                         \u001b[39;49m\r\n\u001b[23;30H\u001b[7m3% L598\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m600\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;73H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;73H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[7;79H\u001b[1;21r\u001b[10;1H\u001b[1L\u001b[1;24r\u001b[10;1H\u001b[K\u001b[22d\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   53% L604\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32m\"                                                    \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[8;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[32m    # State    : Play (expected input, tuple)                                   \u001b[39;49m\r\n\u001b[32m    # Expected : Tuple (unit or friendly factory)                               \u001b[39;49m\r\n\u001b[32m    # Next step: If unit: coordinates of range of unit                          \u001b[39;49m\r\n\u001b[32m    #            If factory: list of possible buildables                        \u001b[39;49m\r\n\u001b[32m    def process_play(self, coord):                                              \u001b[39;49m\r\n\u001b[32m        if type(coord) not in (tuple,list):                                     \u001b[39;49m\r\n\u001b[32m            raise Exception(\"\u001b[39;49mExpected \u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m!\u001b[32m\")                                  \u001b[39;49m\r\n\u001b[32m        x,y = coord                                                             \u001b[39;49m\r\n\u001b[32m        t = self.grid.tile_at(x,y)                                              \u001b[39;49m\r\n\u001b[32m        u = self.grid.unit_at(x,y)                                              \u001b[39;49m\r\n\u001b[32m        team = self.grid.current_team()                                         \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[8;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mm\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[8;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lCloses \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"page terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_page_terrain(c)\u001b[8;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[8;42H\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[K\n\u001b[?25l    \u001b[31m# State    : Play (expected input, tuple)                                   \u001b[39;49m\r\n    \u001b[31m# Expected : Tuple (unit or friendly factory)                               \u001b[39;49m\r\n    \u001b[31m# Next step: If unit: coordinates of range of unit                          \u001b[39;49m\r\n    \u001b[31m#            If factory: list of possible buildables                        \u001b[39;49m\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_play\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[K\r\n            \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\u001b[K\r\n        \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = coord\u001b[K\r\n        \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[K\r\n        \u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\r\n        \u001b[33mteam\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[K\r\n\u001b[K\u001b[8;72H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[8;75H\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[8d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[8;75H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;75H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ls\r\nLICENSE  README.md  \u001b[0m\u001b[01;34mcode\u001b[0m  \u001b[01;34mdata\u001b[0m  \u001b[01;34mdocs\u001b[0m  \u001b[01;32mrules-of-war.py\u001b[0m\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J+--------------------------------------------------------------+---------------+\u001b[2;1H|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..................\u001b[2;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[3;1H|\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[3;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[4;1H|#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[0;1m\u001b[34m\u001b[40mi\u001b[4;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[5;1H|\u001b[32m\u001b[40m......................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[5;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[6;1H|\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b(B\u001b[0;1m\u001b[34m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m............\u001b[6;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[7;1H|\u001b[32m\u001b[40m...........................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b[7;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[8;1H|\u001b[32m\u001b[40m....................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[8;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[9;1H|\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[9;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+---------------+\u001b[10;1H|#\u001b[32m\u001b[40m.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b[10;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[11;1H|#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.................\u001b[11;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[12;1H|\u001b[32m\u001b[40m..\u001b(B\u001b[0;1m\u001b[34m\u001b[40mL\u001b(B\u001b[0m\u001b[32m\u001b[40m................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[12;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[13;1H|\u001b[32m\u001b[40m.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......................\u001b[13;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[14;1H|\u001b[32m\u001b[40m......\u001b(B\u001b[0;1m\u001b[34m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[14;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[15;1H|\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[15;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[16;1H|#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m...\u001b[16;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[17;1H|\u001b[17;64H+---------------+\u001b[18;1H|\u001b[18;64H|\u001b[80G|\u001b[19;1H|\u001b[19;64H|\u001b[80G|\u001b[20;1H|\u001b[20;64H|\u001b[80G|\u001b[21;1H|\u001b[21;64H|\u001b[80G|\u001b[22;1H|\u001b[22;64H+---------------+\u001b[23;1H|\u001b[23;64H|\r\u001b[24d+--------------------------------------------------------------+\r\u001b[2;65H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mDay 1\u001b[3;65H\u001b(B\u001b[0m\u001b[31m\u001b[40mRamen    $1000\u001b[4;65H\u001b[34m\u001b[40mIshara      $0\u001b[10;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mGrass\u001b[11;21H+----------------------+\u001b[11;65HDEF +1\u001b[12;21H|\u001b[31m\u001b[40mthis is a test: Day 1\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m |\u001b[13;21H|\u001b[31m\u001b[40mRamen - move out!\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m     |\u001b[14;21H+----------------------+\u001b[12d\b\b\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bls\u001b[K\b\bemacs\b\b\b\b\b\u001b[3Pls\b\b./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[K\u0007fg\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"draw terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_draw_terrain(c)\u001b[K\r\n        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"save map\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_save_map(c)\u001b[K\r\n        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"rule unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_rule_unit(c)\u001b[K\r\n        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"rule terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_rule_terrain(c)\u001b[K\r\n        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"page unit\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_page_unit(c)\u001b[K\r\n        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"page terrain\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_page_terrain(c)\u001b[K\r\n        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit teams\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_edit_teams(c)\u001b[K\r\n\u001b[K\n\u001b[K\n    \u001b[31m# State    : Play (expected input, tuple)                                   \u001b[39;49m\r\n\u001b[A\n    \u001b[31m# Expected : Tuple (unit or friendly factory)                               \u001b[39;49m\r\n\u001b[A\n    \u001b[31m# Next step: If unit: coordinates of range of unit                          \u001b[39;49m\r\n\u001b[A\n    \u001b[31m#            If factory: list of possible buildables                        \u001b[39;49m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_play\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[K\r\n            \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\u001b[K\r\n        \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = coord\u001b[K\r\n        \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[K\r\n        \u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\r\n        \u001b[33mteam\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[K\r\n\u001b[K\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   53% L604  Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[8;75H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[33mteam\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[K\r\n\u001b[K\n\t\u001b[31m# If no unit, check for terrain                                         \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append((x,y))\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[32m\"build\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m t.properties \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m team:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m t.build:\u001b[K\r\n\t\t\u001b[33mp\u001b[39;49m = t.build[b]\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m p <= team.cash:\u001b[11;5H                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"%s $%d\"\u001b[39;49m%(b,p))\u001b[K\u001b[12;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Cancel\"\u001b[39;49m)\u001b[K\u001b[13;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"building\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[15;5H    \u001b[31m# Even if the unit isn't ours (or isn't ready) we still enter the       \u001b[39;49m\r\n\t\u001b[31m# \"move\" state so that we can see its movement range. Actually          \u001b[39;49m\r\n\t\u001b[31m# moving the unit will be stopped at the process_moving step.           \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (qx,qy) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.get_move_range(x,y):\r\n\t        \u001b[33munit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(qx,qy)\r\n\t\t\u001b[33mkeep\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[23;30H\u001b[7m5% L617\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l(No changes need to be saved)\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[H\n\t\u001b[?25l        \u001b[33munit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(qx,qy)\r\n\t\t\u001b[33mkeep\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m unit:\u001b[K\r\n\t            \u001b[33mkeep\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m unit \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m u: \u001b[33mkeep\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[7;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m unit.name == u.name: keep = \u001b[35mTrue\u001b[39;49m\u001b[8;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[32m\"carry\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m unit.properties \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.name \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m unit.carry\r\n\t\t        \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(unit.carrying) < unit.capacity):\r\n\t\t        \u001b[33mkeep\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m keep:\u001b[K\u001b[12;13H\u001b[8@\t\t\t\t(qx,qy))\u001b[K\u001b[13;37H\u001b[32mmoving\"\u001b[39;49m)\u001b[K\u001b[15;11H\u001b[31mWhatever else happens, main menu.                              \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Back\"\u001b[39;49m,\u001b[32m\"End Turn\"\u001b[39;49m,\u001b[32m\"Surrender\"\u001b[39;49m,\u001b[32m\"Undo\"\u001b[39;49m,\u001b[32m\"Start Over\"\u001b[39;49m]\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"main menu\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\u001b[K\u001b[20;5H\u001b[31m# State    : Moving (expected input, tuple)                                 \u001b[39;49m\r\n\u001b[21;5H\u001b[31m# Expected : Tuple in range                                                 \u001b[39;49m\r\n\u001b[22;5H\u001b[31m# Next step: If in range, move                                              \u001b[39;49m\r\n\u001b[23;30H\u001b[7m7% L636\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l\u001b[34mFind file: \u001b[39;49m~/Documents/rules-of-war/code/core/\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lll.py\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[31m# The Shell is where it all starts. A Shell is an abstract and thin package in  \u001b[39;49m\r\n\u001b[31m# which all of the elements of the game are stored. It is responsible for       \u001b[39;49m\r\n\u001b[31m# creating the world, parsing and writing to save files, and turning on/off     \u001b[39;49m\r\n\u001b[31m# graphics.                                                                     \u001b[39;49m\r\n\u001b[K\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m graphics \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m gfx, draw\u001b[K\r\n\u001b[K\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m . \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m rules, grid, widgets, storage\u001b[K\r\n\u001b[K\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m sys\u001b[K\r\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m os\u001b[K\r\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m traceback\u001b[K\r\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m random\r\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m unittest\u001b[K\r\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m json\u001b[K\r\n\u001b[K\n\u001b[31m# A Shell represents a single instance of a game, including its maps,           \u001b[39;49m\r\n\u001b[31m# data, and everything else.                                                    \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mShell\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, *args):\u001b[K\r\n\u001b[K\u001b[23;14H\u001b[7m\u001b[1mshell.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Top L1    Git-\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, *args):\u001b[K\r\n\u001b[K\n\u001b[K\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode = \u001b[32m\"play\"\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics = \u001b[32m\"ascii\"\u001b[39;49m\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"--test\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args:\u001b[K\u001b[8;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode = \u001b[32m\"test\"\u001b[39;49m\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"--sdl\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args:\u001b[K\u001b[10;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics = \u001b[32m\"sdl\"\u001b[39;49m\r\n\u001b[K\n        \u001b[31m# IN THE FUTURE ALL OF THIS WILL NOT EXIST                              \u001b[39;49m\r\n        \u001b[33mqdata\u001b[39;49m = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[32m\"default.json\"\u001b[39;49m)\r\n        \u001b[33mqdict\u001b[39;49m = json.loads(qdata)\r\n        \u001b[33mqdict\u001b[39;49m[\u001b[32m\"players\"\u001b[39;49m] = {\u001b[32m\"Ishara\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:1,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"b\"\u001b[39;49m},\r\n                            \u001b[32m\"Ramen\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:0,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"r\"\u001b[39;49m}\u001b[17;28H}\r\n        \u001b[33mr\u001b[39;49m = rules.Rules(qdict)\u001b[31m#,True)                                \u001b[39;49m\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g = grid.Controller(78,22,r)\u001b[K\r\n\u001b[K\u001b[21;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[31m#self.buff = widgets.Buffer(10,5)                                       \u001b[39;49m\r\n\u001b[23;29H\u001b[7m20% L20\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[31m#self.buff = widgets.Buffer(10,5)                                       \u001b[39;49m\r\n\t\u001b[31m#self.buff.write(\"Hello, world!\")                                       \u001b[39;49m\r\n\u001b[K\n\u001b[K\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdisplay\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\u001b[K\u001b[9;12H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu:\u001b[K\n\b\b\b\bmenu.draw(1,20,\u001b[32m\"r\"\u001b[39;49m)\r\n\n\u001b[K\u001b[13;5H\u001b[31m# Runs an interactive session of our game with the player until either      \u001b[39;49m\r\n\u001b[14;5H\u001b[31m# the player stops playing or an error occurs. Here, we pass input to the   \u001b[39;49m\r\n\u001b[15;5H\u001b[31m# world until we are told we don't need to anymore. If an error occurs, we  \u001b[39;49m\r\n\u001b[16;5H\u001b[31m# turn off graphics, print the traceback, and kill the program.             \u001b[39;49m\r\n\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrun\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode == \u001b[32m\"test\"\u001b[39;49m:\u001b[K\r\n\t    gfx.start(\u001b[32m\"testing\"\u001b[39;49m)\u001b[K\u001b[20;13Hstart = os.path.join(os.path.dirname(os.path.realpath(__file__)),\r\n\t                         \u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"tests\"\u001b[39;49m)\r\n\t    suite = unittest.TestLoader().discover(start)\u001b[K\u001b[23;29H\u001b[7m42% L39\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m40\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m39\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics = \u001b[32m\"sdl\"\u001b[39;49m\r\n\u001b[K\u001b[4;10H\u001b[31m IN THE FUTURE ALL OF THIS WILL NOT EXIST\u001b[39;49m\r\n\t\u001b[33mqdata\u001b[39;49m = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[32m\"default.json\"\u001b[39;49m)\r\n\t\u001b[33mqdict\u001b[39;49m = json.loads(qdata)\u001b[7;5H    \u001b[33mqdict\u001b[39;49m[\u001b[32m\"players\"\u001b[39;49m] = {\u001b[32m\"Ishara\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:1,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"b\"\u001b[39;49m},\r\n\t                    \u001b[32m\"Ramen\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:0,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"r\"\u001b[39;49m}\r\n\t                   }\r\n\t\u001b[33mr\u001b[39;49m = rules.Rules(qdict)\u001b[31m#,True)                                           \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g = grid.Controller(78,22,r)\u001b[13;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[14;5H    \u001b[31m#self.buff = widgets.Buffer(10,5)                                       \u001b[39;49m\r\n\u001b[15;5H    \u001b[31m#self.buff.write(\"Hello, world!\")                                       \u001b[39;49m\r\n\u001b[K\n\u001b[K\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdisplay\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu:\u001b[K\u001b[21;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.draw(1,20,\u001b[32m\"r\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[23;29H\u001b[7m27% L38\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\u001b[?25l,\u001b[35mTrue\u001b[39;49m)\u001b[K\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l,\u001b[35mTrue\u001b[39;49m)\u001b[K\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l,\u001b[35mTrue\u001b[39;49m)\u001b[K\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt,\u001b[35mTrue\u001b[39;49m)\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/shell.py...\u001b[10;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/shell.py\u001b[K\u001b[10;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mshell.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   27% L36   Git:\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J+--------------------------------------------------------------+---------------+\u001b[2;1H|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..................\u001b[2;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[3;1H|\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[3;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[4;1H|#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[0;1m\u001b[34m\u001b[40mi\u001b[4;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[5;1H|\u001b[32m\u001b[40m......................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[5;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[6;1H|\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b(B\u001b[0;1m\u001b[34m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m............\u001b[6;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[7;1H|\u001b[32m\u001b[40m...........................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b[7;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[8;1H|\u001b[32m\u001b[40m....................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[8;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[9;1H|\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[9;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+---------------+\u001b[10;1H|#\u001b[32m\u001b[40m.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b[10;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[11;1H|#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.................\u001b[11;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[12;1H|\u001b[32m\u001b[40m..\u001b(B\u001b[0;1m\u001b[34m\u001b[40mL\u001b(B\u001b[0m\u001b[32m\u001b[40m................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[12;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[13;1H|\u001b[32m\u001b[40m.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......................\u001b[13;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[14;1H|\u001b[32m\u001b[40m......\u001b(B\u001b[0;1m\u001b[34m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[14;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[15;1H|\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[15;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[16;1H|#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m...\u001b[16;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[17;1H|\u001b[17;64H+---------------+\u001b[18;1H|\u001b[18;64H|\u001b[80G|\u001b[19;1H|\u001b[19;64H|\u001b[80G|\u001b[20;1H|\u001b[20;64H|\u001b[80G|\u001b[21;1H|\u001b[21;64H|\u001b[80G|\u001b[22;1H|\u001b[22;64H+---------------+\u001b[23;1H|\u001b[23;64H|\r\u001b[24d+--------------------------------------------------------------+\r\u001b[2;65H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mMap Editing\u001b[3;65H\u001b(B\u001b[0m\u001b[31m\u001b[40mRed         $0\u001b[4;65H\u001b[34m\u001b[40mBlue        $0\u001b[10;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mGrass\u001b[11;65HDEF +1\r\u001b[24d\u001b[2d|\u001b[32m\u001b[40m.\u001b[3d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3d|\u001b[32m\u001b[40m.\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[10;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mCity \u001b[11d3\r\u001b[24d\u001b[4d|#\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[10;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mGrass\u001b[11d1\r\u001b[24d\u001b[4d|#\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[10;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mCity \u001b[11d3\r\u001b[24d\u001b[3;5H+-------------+\u001b[4;5H|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mRepeat\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m       |\u001b[5;5H|Place Unit   |\u001b[6;5H|Place Terrain|\u001b[7;5H|Edit Teams   |\u001b[8;5H|Unit Rules   |\u001b[9;5H|Terrain Rules|\u001b[10;5H|Save Map     |\u001b[11;5H|Back         |\u001b[12;5H+-------------+\u001b[11;10H\u001b[4;6HRepeat\u001b[5;6H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlace Unit\u001b[11;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;6HPlace Unit\u001b[6;6H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlace Terrain\u001b[11;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;6HPlace Terrain\u001b[7;6H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mEdit Teams\u001b[11;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 80, in run\r\n    self.g.handle_input(c)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/grid.py\", line 296, in handle_input\r\n    r = self.world.process(q)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/rules.py\", line 593, in process\r\n    elif self.state == \"edit menu\": return self.process_edit_menu(c)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/rules.py\", line 988, in process_edit_menu\r\n    for x,y in self.grid.all_tiles_xy:\r\nTypeError: 'instancemethod' object is not iterable\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics = \u001b[32m\"sdl\"\u001b[39;49m\u001b[K\r\n\u001b[K\n        \u001b[31m# IN THE FUTURE ALL OF THIS WILL NOT EXIST                              \u001b[39;49m\r\n\u001b[A\n        \u001b[33mqdata\u001b[39;49m = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[32m\"default.json\"\u001b[39;49m)\u001b[K\r\n        \u001b[33mqdict\u001b[39;49m = json.loads(qdata)\u001b[K\r\n        \u001b[33mqdict\u001b[39;49m[\u001b[32m\"players\"\u001b[39;49m] = {\u001b[32m\"Ishara\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:1,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"b\"\u001b[39;49m},\u001b[K\r\n                            \u001b[32m\"Ramen\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:0,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"r\"\u001b[39;49m}\u001b[K\r\n                           }\u001b[K\r\n        \u001b[33mr\u001b[39;49m = rules.Rules(qdict,\u001b[35mTrue\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g = grid.Controller(78,22,r)\u001b[K\r\n\u001b[K\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n        \u001b[31m#self.buff = widgets.Buffer(10,5)                                       \u001b[39;49m\r\n\u001b[A\n        \u001b[31m#self.buff.write(\"Hello, world!\")                                       \u001b[39;49m\r\n\u001b[A\n\u001b[K\n\u001b[K\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdisplay\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.draw(1,20,\u001b[32m\"r\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mshell.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   27% L36   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[10;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default rules.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrules.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[2;13H    \u001b[33munit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(qx,qy)\r\n\t\t\u001b[33mkeep\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m unit:\u001b[K\r\n\t            \u001b[33mkeep\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m unit \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m u: \u001b[33mkeep\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m unit.name == u.name: keep = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[8;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[32m\"carry\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m unit.properties \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.name \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m unit.carry\r\n\t\t\t\u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(unit.carrying) < unit.capacity):\r\n\t                \u001b[33mkeep\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m keep:\u001b[K\n\b\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append((qx,qy))\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"moving\"\u001b[39;49m)\r\n\u001b[K\u001b[15;10H\u001b[31m Whatever else happens, main menu.\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Back\"\u001b[39;49m,\u001b[32m\"End Turn\"\u001b[39;49m,\u001b[32m\"Surrender\"\u001b[39;49m,\u001b[32m\"Undo\"\u001b[39;49m,\u001b[32m\"Start Over\"\u001b[39;49m]\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"main menu\"\u001b[39;49m)\r\n\u001b[K\n\u001b[K\u001b[20;5H\u001b[31m# State    : Moving (expected input, tuple)                                 \u001b[39;49m\r\n\u001b[21;5H\u001b[31m# Expected : Tuple in range                                                 \u001b[39;49m\r\n\u001b[22;5H\u001b[31m# Next step: If in range, move                                              \u001b[39;49m\r\n\u001b[23;14H\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   57% L636\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m# Expected : Tuple in range                                                 \u001b[39;49m\r\n\u001b[3;5H\u001b[31m# Next step: If in range, move                                              \u001b[39;49m\r\n\u001b[4;5H\u001b[31m#            If out of range, cancel                                        \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_moving\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[K\u001b[7;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = coord\u001b[K\r\n\t\u001b[33mox\u001b[39;49m,\u001b[33moy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\t\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(ox,oy)\r\n\t\u001b[33mteam\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\r\n\t\u001b[33mutarg\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\r\n\u001b[K\n\t\u001b[31m# If coord was in range, move the unit and return possible actions.     \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (x,y) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m team \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m u.ready:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append((x,y))\u001b[K\r\n\u001b[K\u001b[18;13H\u001b[31m# Join units with the same name.                                    \u001b[39;49m\r\n\u001b[19;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (utarg \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m utarg.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m team \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m\u001b[20;5H           utarg.name == u.name \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m utarg \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u):\u001b[K\u001b[21;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(ox,oy)\u001b[K\u001b[22;5H            \u001b[33mstart_hp\u001b[39;49m = utarg.hp\u001b[K\n\b\b\b\b\b\b\u001b[7m9% L655\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(ox,oy)\u001b[K\u001b[3;5H            \u001b[33mstart_hp\u001b[39;49m = utarg.hp\u001b[K\u001b[4;5H            \u001b[33mutarg.hp\u001b[39;49m = \u001b[1m\u001b[34mmin\u001b[0m\u001b[39;49m(100, utarg.hp+u.hp)\u001b[K\u001b[5;5H            \u001b[33ma\u001b[39;49m = widgets.HPAlert(6,1,utarg.team.color,start_hp,utarg.hp,0)\r\n\t        \u001b[33ma.time\u001b[39;49m = (utarg.hp - start_hp) + 50\u001b[7;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts += [(a,\u001b[32m\"tr\"\u001b[39;49m)]\u001b[K\r\n\t        \u001b[33mutarg.ready\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (utarg \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m utarg \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[32m\"carry\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m utarg.properties):\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(ox,oy)\u001b[33m.unit\u001b[39;49m = \u001b[35mNone\u001b[39;49m\r\n\t        utarg.carrying.append(u)\r\n\t\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\r\n\u001b[K\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\u001b[K\u001b[17;13H\u001b[33mmoved\u001b[39;49m = (x,y)!=(ox,oy)\u001b[18;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m moved:\u001b[K\u001b[19;13H    \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(ox,oy)\u001b[K\r\n\t\t\b \u001b[33mt.hp\u001b[39;49m = 100\u001b[K\r\n\u001b[K\u001b[22;13H\u001b[31m# Determine if a target is in range.                                \u001b[39;49m\r\n\u001b[23;29H\u001b[7m60% L674\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[3;13H\u001b[?25l\u001b[31m# Determine if a target is in range.                                \u001b[39;49m\r\n\u001b[4;13H\u001b[33mattackable\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[5;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m px,py \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_range((x,y),u.rng[0],u.rng[1]):\u001b[K\u001b[6;18H = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(px,py)\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m a \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m a.allied(u):\r\n\t\t    \u001b[33mattackable\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[9;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"indirect\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.properties \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m moved:\u001b[10;13H    \u001b[33mattackable\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[11;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m attackable:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Attack\"\u001b[39;49m)\r\n\u001b[K\u001b[14;13H\u001b[31m# If the cell you are on is capturable, add that option to          \u001b[39;49m\r\n\u001b[15;13H\u001b[31m# the list.                                                         \u001b[39;49m\r\n\u001b[16;13H\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[17;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m t.properties \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.properties\u001b[18;13H    \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m team.allied(t.team)):\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Capture\"\u001b[39;49m)\u001b[20;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(u.carrying) > 0):\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Unload\"\u001b[39;49m)\r\n\u001b[K\u001b[23;30H\u001b[7m2% L693\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Unload\"\u001b[39;49m)\r\n\u001b[K\u001b[4;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.move_unit((ox,oy),(x,y))\u001b[5;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices += [\u001b[32m\"Wait\"\u001b[39;49m,\u001b[32m\"Cancel\"\u001b[39;49m]\u001b[K\u001b[6;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"action\"\u001b[39;49m\r\n\u001b[K\n\t\u001b[31m# If the coord was out of range, undo everything.                       \u001b[39;49m\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start_over()\u001b[K\r\n\u001b[K\u001b[11;5H\u001b[31m# State: main menu (expected, menu option)                                  \u001b[39;49m\r\n\u001b[12;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_main_menu\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[14;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\t\u001b[31m# Leave the menu.                                                       \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Back\"\u001b[39;49m:\u001b[K\u001b[18;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start_over()\u001b[K\r\n\u001b[K\n\t\u001b[31m# End my turn.                                                          \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"End Turn\"\u001b[39;49m:\u001b[K\u001b[22;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\n\u001b[C\u001b[7m4% L712\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"End Turn\"\u001b[39;49m:\u001b[K\u001b[3;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[4;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.end_turn()\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Undo\"\u001b[39;49m:\u001b[K\u001b[7;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.undo()\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Start Over\"\u001b[39;49m:\u001b[K\u001b[10;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.undo(\u001b[35mTrue\u001b[39;49m)\r\n\u001b[K\u001b[12;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Surrender\"\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defeated(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team())\u001b[14;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[K\u001b[15;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\r\n\u001b[K\n\u001b[K\u001b[18;5H\u001b[31m# State: main menu (expected, menu option)                                  \u001b[39;49m\r\n\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_building\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\u001b[K\u001b[23;30H\u001b[7m5% L731\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[31m# Leave the menu.                                                       \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Cancel\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start_over()\r\n\u001b[K\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\r\n\t    \u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[10;13Hteam = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.current_team()\u001b[11;13H\u001b[33munit\u001b[39;49m, cost = opt.rsplit(\u001b[35mNone\u001b[39;49m,1)\r\n\t    u = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_unit({\u001b[32m\"name\"\u001b[39;49m:unit})\u001b[13;18Hgrid.add_unit(u, team, x, y)\u001b[K\u001b[14;13Hteam.cash -= \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(cost[1:])\u001b[15;13Hu.ready = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[16;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[17;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\r\n\u001b[K\u001b[19;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[20;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_action\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[22;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[23;30H\u001b[7m6% L750\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[3;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\u001b[K\u001b[5;20H\u001b[32mUnload\u001b[39;49m\u001b[6;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\n\t    \u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]\u001b[9;13Hme = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[10;13Hi = 0\u001b[K\n\b\b\b\b\b\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m me.carrying:\u001b[K\u001b[12;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"%d %s %d%%\"\u001b[39;49m%(i, u.name, u.hp))\u001b[13;13H    i+=1\u001b[K\u001b[14;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Done\"\u001b[39;49m)\u001b[15;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[16;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"unload\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Attack\"\u001b[39;49m:\u001b[19;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\u001b[K\n\t    \u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[-1]\u001b[K\u001b[22;13Hu = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\u001b[23;30H\u001b[7m8% L769\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l    \u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[-1]\u001b[K\u001b[3;13Hu = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\r\n\n\t    \u001b[31m# Get possible targets.                                             \u001b[39;49m\r\n\u001b[6;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m px,py \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get_range((x,y),u.rng[0],u.rng[1]):\r\n\t\ta = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(px,py)\u001b[8;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m a \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m a.allied(u):\u001b[9;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append((px,py))\r\n\u001b[K\u001b[11;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[12;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"attacking\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Capture\"\u001b[39;49m:\u001b[K\u001b[15;18Hchoices = []\u001b[K\r\n\u001b[K\u001b[17;13H\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[-1]\r\n\t    \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[19;13H\u001b[33munit\u001b[39;49m = t.unit\u001b[K\u001b[20;13H\u001b[33munit.ready\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\u001b[K\u001b[22;13H\u001b[31m# Capturing.                                                        \u001b[39;49m\r\n\u001b[23;30H\u001b[7m9% L788\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[3;13H\u001b[?25l\u001b[31m# Capturing.                                                        \u001b[39;49m\r\n\u001b[4;13H\u001b[33mstart_hp\u001b[39;49m = t.hp\u001b[5;13H\u001b[33mt.hp\u001b[39;49m -= \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(unit.hp*.5)\u001b[K\u001b[6;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.hp <= 0:\u001b[K\r\n\t\t\u001b[33mt.hp\u001b[39;49m = 0\u001b[K\u001b[8;13H\u001b[33mcol\u001b[39;49m = t.team.color \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.team \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m \u001b[32m\"w\"\u001b[39;49m\u001b[9;13H\u001b[33ma\u001b[39;49m = widgets.HPAlert(6,1,col,start_hp,t.hp,0)\u001b[10;13H\u001b[33ma.time\u001b[39;49m = (start_hp - t.hp) + 50\u001b[11;19Hlerts += [(a,\u001b[32m\"tr\"\u001b[39;49m)]\u001b[12;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.hp == 0:\u001b[K\r\n\t\tt.hp = 100\r\n\t        \u001b[33mold\u001b[39;49m = t.team\u001b[15;13H    \u001b[33mt.team\u001b[39;49m = unit.team\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"hq\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m t.properties:\u001b[17;13H        t.properties.remove(\u001b[32m\"hq\"\u001b[39;49m)\u001b[18;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m old:\u001b[K\u001b[19;13H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m old.active:\u001b[20;13H                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.defeated(old)\r\n\t\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tt \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles():\u001b[22;13H                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tt.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m old:\u001b[K\u001b[23;29H\u001b[7m70% L807\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\u001b[?25l\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m tt \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles():\u001b[3;13H                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tt.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m old:\u001b[K\u001b[4;13H                    \u001b[33mtt.team\u001b[39;49m = unit.team\r\n\u001b[K\u001b[6;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[7;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\r\n\u001b[K\n\t\u001b[31m# Wait.                                                                 \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Wait\"\u001b[39;49m:\u001b[K\u001b[11;13H\u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[-1]\u001b[K\u001b[12;13Hunit = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[13;13Hunit.ready = \u001b[35mFalse\u001b[39;49m\u001b[14;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[15;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Cancel\"\u001b[39;49m:\u001b[K\u001b[18;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start_over()\r\n\u001b[K\u001b[20;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_unload\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\n\b\b\b\b\b\b\u001b[7m2% L826\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_unload\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[4;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Nope.\"\u001b[39;49m)\u001b[K\r\n\n\t\u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]\u001b[K\r\n\tt = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\r\n\tunit = t.unit\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Done\"\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[11;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[12;13H\u001b[33munit.ready\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[13;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[16;13H\u001b[33mu\u001b[39;49m = unit.carrying[\u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(opt.split()[0])]\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[18;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (tx,ty) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [(x-1,y),(x,y+1),(x+1,y),(x,y-1)]:\r\n\t\t\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(tx,ty)\u001b[20;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.name \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.terrain \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t.unit:\u001b[K\u001b[21;5H                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append((tx,ty))\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices) == 0:\u001b[23;30H\u001b[7m3% L845\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append((tx,ty))\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices) == 0:\u001b[4;13H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"unload\"\u001b[39;49m)\u001b[5;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\r\n\t        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"unload drop\"\u001b[39;49m)\r\n\u001b[K\n\u001b[K\n\u001b[K\u001b[11;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[12;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_unload_drop\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]\u001b[K\r\n\t\u001b[33munit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\r\n\t\u001b[33mdropper\u001b[39;49m = \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[-1].split()[0])\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m coord \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[20;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(coord)\u001b[K\u001b[21;13H\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(*coord)\u001b[K\u001b[22;13H\u001b[33mt.unit\u001b[39;49m = unit.carrying.pop(dropper)\u001b[23;30H\u001b[7m5% L864\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(*coord)\u001b[K\u001b[3;13H\u001b[33mt.unit\u001b[39;49m = unit.carrying.pop(dropper)\u001b[4;13H\u001b[33mt.unit.ready\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[4P\u001b[6;13H\u001b[4P\t\tpop()\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]\r\n\t\u001b[33mme\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[11;5H    \u001b[33mi\u001b[39;49m = 0\u001b[K\u001b[12;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m me.carrying:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"%d %s %d%%\"\u001b[39;49m%(i, u.name, u.hp))\u001b[14;13H\u001b[33mi\u001b[39;49m += 1\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Done\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"unload\"\u001b[39;49m)\r\n\u001b[K\n\u001b[K\u001b[19;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[20;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_attacking\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[22;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\u001b[K\u001b[23;30H\u001b[7m6% L883\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[3;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = coord\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m coord \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[7;13H\u001b[33mox\u001b[39;49m,\u001b[33moy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[-2]\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append((ox,oy))\r\n\t    \u001b[33ma\u001b[39;49m, \u001b[33md\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(ox,oy), \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\r\n\u001b[K\n\t    \u001b[33mstart_hp\u001b[39;49m = d.hp, a.hp\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action_attack((ox,oy),(x,y))\u001b[13;13H\u001b[33mend_hp\u001b[39;49m = d.hp, a.hp\u001b[K\r\n\u001b[K\n\t    \u001b[31m# Build the animation.                                              \u001b[39;49m\r\n\t    \u001b[33mt1\u001b[39;49m = start_hp[0]-end_hp[0]\u001b[K\u001b[17;13H\u001b[33mt2\u001b[39;49m = start_hp[1]-end_hp[1]\u001b[18;13H\u001b[33ma1\u001b[39;49m = widgets.HPAlert(6,1,d.team.color,start_hp[0],end_hp[0],0)\u001b[19;5H        \u001b[33ma2\u001b[39;49m = widgets.HPAlert(6,1,a.team.color,start_hp[1],end_hp[1],t1)\u001b[K\u001b[20;5H        \u001b[33mx1\u001b[39;49m,\u001b[33my1\u001b[39;49m = x,y\u001b[K\r\n\t    \u001b[33mx2\u001b[39;49m,\u001b[33my2\u001b[39;49m = ox,oy\u001b[K\u001b[22;13H\u001b[33ma1.time\u001b[39;49m = t1+t2+50\u001b[K\n\b\u001b[7m7% L902\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l    \u001b[33mx2\u001b[39;49m,\u001b[33my2\u001b[39;49m = ox,oy\u001b[K\u001b[3;13H\u001b[33ma1.time\u001b[39;49m = t1+t2+50\u001b[K\r\n\t    \u001b[33ma2.time\u001b[39;49m = t1+t2+50\u001b[5;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts += [(a1,\u001b[32m\"tr\"\u001b[39;49m),(a2,\u001b[32m\"bl\"\u001b[39;49m)]\r\n\t    \u001b[33ma.ready\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[8;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\u001b[K\r\n\u001b[K\n\n\u001b[K\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start_over()\r\n\n\u001b[K\u001b[16;5H\u001b[31m# This is the root state for the editor. We put the editor states           \u001b[39;49m\r\n\u001b[17;5H\u001b[31m# in the same system as the rules so that we can take advantage of          \u001b[39;49m\r\n\u001b[18;5H\u001b[31m# the \"make\" constructors.                                                  \u001b[39;49m\r\n\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[21;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = coord\u001b[K\u001b[23;30H\u001b[7m9% L921\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = coord\u001b[K\r\n\t\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = [(x,y)]\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Repeat\"\u001b[39;49m,\u001b[32m\"Place Unit\"\u001b[39;49m, \u001b[32m\"Place Terrain\"\u001b[39;49m,\u001b[32m\"Edit Teams\"\u001b[39;49m,\u001b[8;13H            \u001b[32m\"Unit Rules\"\u001b[39;49m, \u001b[32m\"Terrain Rules\"\u001b[39;49m,\u001b[32m\"Save Map\"\u001b[39;49m,\u001b[32m\"Back\"\u001b[39;49m]\r\n\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit menu\"\u001b[39;49m)\u001b[12;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_menu\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m,opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[15;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[16;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[17;5H    \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\u001b[K\u001b[19;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Repeat\"\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit:\u001b[K\u001b[21;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[K\r\n\t        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\u001b[23;29H\u001b[7m80% L940\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[K\r\n\t        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\t    \u001b[33mkind\u001b[39;49m,\u001b[33mthing\u001b[39;49m,team = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m kind == \u001b[32m\"terrain\"\u001b[39;49m:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(thing)\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m team:\u001b[K\n\b\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(team)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [(x,y)]\r\n\t\u001b[8@\t\t\t\t\u001b[32mdraw terrain\"\u001b[39;49m)\u001b[11;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m kind == \u001b[32m\"unit\"\u001b[39;49m:\u001b[12;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(thing)\u001b[K\u001b[13;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [team]\r\n\t        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_unit_team(team)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Unit\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[18;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[20;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit unit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Terrain\"\u001b[39;49m:\u001b[K\n\b\b\b\b\b\u001b[7m1% L959\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Terrain\"\u001b[39;49m:\u001b[K\u001b[4;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[K\u001b[5;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\u001b[6;22Hchoices.append(u)\u001b[K\u001b[7;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit terrain\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Edit Teams\"\u001b[39;49m:\u001b[K\u001b[10;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Red\"\u001b[39;49m,\u001b[32m\"Blue\"\u001b[39;49m,\u001b[32m\"Green\"\u001b[39;49m,\u001b[32m\"Yellow\"\u001b[39;49m,\u001b[32m\"Cyan\"\u001b[39;49m,\u001b[11;13H                \u001b[32m\"Magenta\"\u001b[39;49m,\u001b[32m\"Done\"\u001b[39;49m]\u001b[12;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x,y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles_xy:\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y):\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(x,y)\u001b[K\r\n\t\tt = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\r\n\t        t.team = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[17;18Hgrid.teams = []\u001b[K\u001b[18;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit teams\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Unit Rules\"\u001b[39;49m:\u001b[K\u001b[21;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\u001b[23;30H\u001b[7m3% L978\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\u001b[4;13H\u001b[4@\u001b[4;29H.append(u)\u001b[K\u001b[5;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Unit)\"\u001b[39;49m)\u001b[K\u001b[6;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule unit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Terrain Rules\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[10;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[K\u001b[12;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Terrain)\"\u001b[39;49m)\u001b[13;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule terrain\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Save Map\"\u001b[39;49m:\u001b[K\u001b[16;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = {\u001b[32m\"Map Name\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m:\u001b[32m\"\"\u001b[39;49m,\u001b[32m\"type\"\u001b[39;49m:\u001b[32m\"str 15\"\u001b[39;49m}}\u001b[17;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"save map\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Back\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\u001b[K\u001b[22;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[23;30H\u001b[7m5% L997\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[3;5H\u001b[?25l\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[4;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_teams\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[6;14H\u001b[1m\u001b[36maise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.remove(opt)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Done\"\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams) == 0:\u001b[10;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(opt)\u001b[K\u001b[11;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit teams\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Done\"\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams) > 0:\u001b[13;37H\u001b[32medit\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\r\n\t    t = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_team({\u001b[32m\"name\"\u001b[39;49m:opt, \u001b[32m\"color\"\u001b[39;49m:opt[0].lower()})\u001b[16;18Hgrid.teams.append(t)\u001b[K\n\b\u001b[32medit teams\"\u001b[39;49m)\r\n\n\u001b[K\u001b[20;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[22;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\n\b\b\b\b\b\b\u001b[7m6% L1016\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[3;5H        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\u001b[K\u001b[4;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Unit)\"\u001b[39;49m)\u001b[6;14H\u001b[1m\u001b[36meturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule unit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Terrain Rules\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[10;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\u001b[11;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Terrain)\"\u001b[39;49m)\u001b[K\u001b[13;37H\u001b[32mrule terrain\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Save Map\"\u001b[39;49m:\u001b[K\u001b[16;18Hchoices = {\u001b[32m\"Map Name\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m:\u001b[32m\"\"\u001b[39;49m,\u001b[32m\"type\"\u001b[39;49m:\u001b[32m\"str 15\"\u001b[39;49m}}\u001b[17;37H\u001b[32msave map\"\u001b[39;49m)\u001b[K\r\n\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Back\"\u001b[39;49m:\u001b[20;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[22;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[23;30H\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\u001b[3;5H\u001b[?25l\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[4;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_teams\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[6;14H\u001b[1m\u001b[36maise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.remove(opt)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Done\"\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams) == 0:\u001b[10;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(opt)\u001b[K\u001b[11;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit teams\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Done\"\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams) > 0:\u001b[13;37H\u001b[32medit\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\r\n\t    t = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_team({\u001b[32m\"name\"\u001b[39;49m:opt, \u001b[32m\"color\"\u001b[39;49m:opt[0].lower()})\u001b[16;18Hgrid.teams.append(t)\u001b[K\n\b\u001b[32medit teams\"\u001b[39;49m)\r\n\n\u001b[K\u001b[20;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[22;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\n\b\b\b\b\b\b\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[3;5H        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\u001b[K\u001b[4;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Unit)\"\u001b[39;49m)\u001b[6;14H\u001b[1m\u001b[36meturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule unit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Terrain Rules\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[10;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\u001b[11;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Terrain)\"\u001b[39;49m)\u001b[K\u001b[13;37H\u001b[32mrule terrain\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Save Map\"\u001b[39;49m:\u001b[K\u001b[16;18Hchoices = {\u001b[32m\"Map Name\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m:\u001b[32m\"\"\u001b[39;49m,\u001b[32m\"type\"\u001b[39;49m:\u001b[32m\"str 15\"\u001b[39;49m}}\u001b[17;37H\u001b[32msave map\"\u001b[39;49m)\u001b[K\r\n\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Back\"\u001b[39;49m:\u001b[20;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[22;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[23;30H\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\u001b[3;5H\u001b[?25l\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[4;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_teams\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[6;14H\u001b[1m\u001b[36maise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.remove(opt)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Done\"\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams) == 0:\u001b[10;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(opt)\u001b[K\u001b[11;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit teams\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Done\"\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams) > 0:\u001b[13;37H\u001b[32medit\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\r\n\t    t = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_team({\u001b[32m\"name\"\u001b[39;49m:opt, \u001b[32m\"color\"\u001b[39;49m:opt[0].lower()})\u001b[16;18Hgrid.teams.append(t)\u001b[K\n\b\u001b[32medit teams\"\u001b[39;49m)\r\n\n\u001b[K\u001b[20;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[22;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\n\b\b\b\b\b\b\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m20\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[3;5H        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\u001b[K\u001b[4;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Unit)\"\u001b[39;49m)\u001b[6;14H\u001b[1m\u001b[36meturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule unit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Terrain Rules\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[10;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\u001b[11;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Terrain)\"\u001b[39;49m)\u001b[K\u001b[13;37H\u001b[32mrule terrain\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Save Map\"\u001b[39;49m:\u001b[K\u001b[16;18Hchoices = {\u001b[32m\"Map Name\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m:\u001b[32m\"\"\u001b[39;49m,\u001b[32m\"type\"\u001b[39;49m:\u001b[32m\"str 15\"\u001b[39;49m}}\u001b[17;37H\u001b[32msave map\"\u001b[39;49m)\u001b[K\r\n\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Back\"\u001b[39;49m:\u001b[20;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[22;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[23;30H\u001b[7m5% L1017\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Terrain\"\u001b[39;49m:\u001b[K\u001b[4;13H\u001b[4P\t\t = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[5;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\u001b[6;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[K\u001b[7;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit terrain\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Edit Teams\"\u001b[39;49m:\u001b[10;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Red\"\u001b[39;49m,\u001b[32m\"Blue\"\u001b[39;49m,\u001b[32m\"Green\"\u001b[39;49m,\u001b[32m\"Yellow\"\u001b[39;49m,\u001b[32m\"Cyan\"\u001b[39;49m,\r\n\t\t            \u001b[32m\"Magenta\"\u001b[39;49m,\u001b[32m\"Done\"\u001b[39;49m]\u001b[12;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x,y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles_xy:\u001b[K\u001b[13;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y):\u001b[K\u001b[14;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(x,y)\r\n\t        t = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[16;13H    t.team = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[17;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams = []\u001b[K\u001b[18;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit teams\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Unit Rules\"\u001b[39;49m:\u001b[K\u001b[21;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[22;5H        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\u001b[K\u001b[23;30H\u001b[7m3% L998 \u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m89\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l(:\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l):\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[12;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[12;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J+--------------------------------------------------------------+---------------+\u001b[2;1H|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..................\u001b[2;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[3;1H|\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[3;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[4;1H|#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[0;1m\u001b[34m\u001b[40mi\u001b[4;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[5;1H|\u001b[32m\u001b[40m......................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[5;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[6;1H|\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b(B\u001b[0;1m\u001b[34m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m............\u001b[6;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[7;1H|\u001b[32m\u001b[40m...........................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b[7;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[8;1H|\u001b[32m\u001b[40m....................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[8;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[9;1H|\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[9;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+---------------+\u001b[10;1H|#\u001b[32m\u001b[40m.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b[10;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[11;1H|#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.................\u001b[11;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[12;1H|\u001b[32m\u001b[40m..\u001b(B\u001b[0;1m\u001b[34m\u001b[40mL\u001b(B\u001b[0m\u001b[32m\u001b[40m................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[12;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[13;1H|\u001b[32m\u001b[40m.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......................\u001b[13;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[14;1H|\u001b[32m\u001b[40m......\u001b(B\u001b[0;1m\u001b[34m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[14;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[15;1H|\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b(B\u001b[0;1m\u001b[34m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[15;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[16;1H|#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m...\u001b[16;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[17;1H|\u001b[17;64H+---------------+\u001b[18;1H|\u001b[18;64H|\u001b[80G|\u001b[19;1H|\u001b[19;64H|\u001b[80G|\u001b[20;1H|\u001b[20;64H|\u001b[80G|\u001b[21;1H|\u001b[21;64H|\u001b[80G|\u001b[22;1H|\u001b[22;64H+---------------+\u001b[23;1H|\u001b[23;64H|\r\u001b[24d+--------------------------------------------------------------+\r\u001b[2;65H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mMap Editing\u001b[3;65H\u001b(B\u001b[0m\u001b[31m\u001b[40mRed         $0\u001b[4;65H\u001b[34m\u001b[40mBlue        $0\u001b[10;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mGrass\u001b[11;65HDEF +1\r\u001b[24d\u001b[2d|\u001b[32m\u001b[40m.\u001b[3d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2;3H+-------------+\u001b[3;3H|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mRepeat\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m       |\u001b[4;3H|Place Unit   |\u001b[5;3H|Place Terrain|\u001b[6;3H|Edit Teams   |\u001b[7;3H|Unit Rules   |\u001b[8;3H|Terrain Rules|\u001b[9;3H|Save Map     |\u001b[10;3H|Back         |\u001b[11;3H+-------------+\u001b[10;8H\u001b[3;4HRepeat\u001b[4;4H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlace Unit\u001b[10;8H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;4HPlace Unit\u001b[5;4H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlace Terrain\u001b[10;8H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;4HPlace Terrain\u001b[6;4H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mEdit Teams\u001b[10;8H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2;11H+\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b[3;4H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mRed\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m    |\u001b[32m\u001b[40m......\u001b[3;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14X\u001b[4;4HBlue   |\u001b[32m\u001b[40m......\u001b[4;31H.\u001b[4;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14X\u001b[5;4HGreen  |\u001b[32m\u001b[40m......\u001b[6;2H.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|Yellow |\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b[7;4H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mCyan   |\u001b[32m\u001b[40m......\u001b[8;4H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mMagenta|\u001b[32m\u001b[40m......\u001b[9;4H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mDone   |\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b[10;3H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+-------+\u001b[32m\u001b[40m......\u001b[11;3H...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[12;4H.\u001b[14;8H.\u001b[15;15H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[9;8H\u001b[3;4HRed\u001b[4;4H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mBlue\u001b[9d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;4H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mRed\u001b[3;65H\u001b(B\u001b[0m\u001b[34m\u001b[40mBlue        $0\u001b[4;4H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mGreen\u001b[5;4HYellow\u001b[6;4HCyan  \u001b[7;4HMagenta\u001b[8;4HDone   \u001b[9;3H+-------+\u001b[10;3H\u001b[32m\u001b[40m.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b[8;8H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;4HRed\u001b[4;4H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mGreen\u001b[8d\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;4HGreen\u001b[5;4H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mYellow\u001b[8d\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;4H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mRed\u001b[4;65H\u001b(B\u001b[0m\u001b[33m\u001b[40mYellow      $0\u001b[5;4H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mCyan  \u001b[6;4HMagenta\u001b[7;4HDone   \u001b[8;3H+-------+\u001b[9;3H\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b[7;8H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;4HRed\u001b[4;4H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mGreen\u001b[7d\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;4HGreen\u001b[5;4H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mCyan\u001b[7d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;4H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mRed\u001b[5;4H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mMagenta\u001b[5;65H\u001b[36m\u001b[40mCyan        $0\u001b[6;4H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mDone   \u001b[7;3H+-------+\u001b[8;3H\u001b[32m\u001b[40m.........\u001b[6;8H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;4HRed\u001b[4;4H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mGreen\u001b[6d\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;4HGreen\u001b[5;4H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mMagenta\u001b[6;8H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2d-+\u001b[32m\u001b[40m..\u001b[3;4H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mRed\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m  |\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[4;9H|\u001b[32m\u001b[40m..\u001b[5;4H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mDone |\u001b[32m\u001b[40m..\u001b[6;3H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+-----+\u001b[32m\u001b[40m..\u001b[6;65H\u001b[35m\u001b[40mMagenta     $0\u001b[7;3H\u001b[32m\u001b[40m.........\u001b[5;8H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;4H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mGreen\u001b[4;4H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mDone \u001b[5;3H+-----+\u001b[6;3H\u001b[32m\u001b[40m.......\u001b[7;65H\u001b[31m\u001b[40mRed         $0\u001b[4;8H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2d+\u001b[32m\u001b[40m.\u001b[3;4H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mDone\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[32m\u001b[40m.\u001b[4;3H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+----+\u001b[32m\u001b[40m.\u001b[5;3H.......\u001b[8;65HGreen       $0\u001b[3;8H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2;3H\u001b[32m\u001b[40m......\u001b[3;3H......\u001b[4;3H.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3d|\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;3H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;4H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;5H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;6H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;7H\u001b[32m\u001b[40m.\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;7H\u001b[32m\u001b[40m.\u001b[5d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;8H+-------------+\u001b[5;8H|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mRepeat\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m       |\u001b[6;8H|Place Unit   |\u001b[7;8H|Place Terrain|\u001b[8;8H|Edit Teams   |\u001b[9;8H|Unit Rules   |\u001b[10;8H|Terrain Rules|\u001b[11;8H|Save Map     |\u001b[12;8H|Back         |\u001b[13;8H+-------------+\u001b[12;13H\u001b[5;9HRepeat\u001b[6;9H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlace Unit\u001b[12;13H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;18H+#\u001b[32m\u001b[40m...\u001b[5;9H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m(None)\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   |\u001b[32m\u001b[40m....\u001b[6;9H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mInfantry |\u001b[32m\u001b[40m....\u001b[7;9H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mArtillery|\u001b[32m\u001b[40m....\u001b[8;8H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+---------+\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[9;8H\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\u001b[10;8H..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m............\u001b[11;8H.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m........\u001b[12;8H.............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b[13;8H.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.............\u001b[7;18H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;9H(None)\u001b[6;9H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mInfantry\u001b[7;18H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4d\b\b+\u001b[32m\u001b[40m..\u001b[5;9H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mBlue\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   |\u001b[32m\u001b[40m..\u001b[6;9H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mYellow |\u001b[32m\u001b[40m..\u001b[7;9H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mCyan   |\u001b[32m\u001b[40m..\u001b[8;8H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|Magenta|\u001b[32m\u001b[40m..\u001b[9;8H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|Red    |\u001b[10;8H|Green  |\u001b[11;8H+-------+\u001b[A\b\b\b\u001b[5;9HBlue\u001b[6;9H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mYellow\u001b[10d\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;9HYellow\u001b[7;9H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mCyan\u001b[10;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7;9HCyan\u001b[8;9H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mMagenta\u001b[10d\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[8;9HMagenta\u001b[9;9H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mRed\u001b[10;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;8H\u001b[32m\u001b[40m.........\u001b[5;7H\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.........\u001b[6;8H.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b[7;8H.........\u001b[8;8H.........\u001b[9;8H.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[10;8H..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[11;8H.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b[13;65H\u001b(B\u001b[0;1m\u001b[31m\u001b[40mInfantry\u001b[14;65H\u001b(B\u001b[0m\u001b[31m\u001b[40mHP 100% \r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;7H\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b[6d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[13;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m        \u001b[14;65H        \r\u001b[24d\u001b[6;7H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;9H+-------------+\u001b[6;9H|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mRepeat\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m       |\u001b[7;9H|Place Unit   |\u001b[8;9H|Place Terrain|\u001b[9;9H|Edit Teams   |\u001b[10;9H|Unit Rules   |\u001b[11;9H|Terrain Rules|\u001b[12;9H|Save Map     |\u001b[13;9H|Back         |\u001b[14;9H+-------------+\u001b[13;14H\u001b[6;10HRepeat\u001b[7;10H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlace Unit\u001b[13;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;19H+\u001b[32m\u001b[40m....\u001b[6;10H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m(None)\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   |\u001b[32m\u001b[40m....\u001b[7;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mInfantry |\u001b[32m\u001b[40m....\u001b[8;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mArtillery|\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b[9;9H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+---------+\u001b[32m\u001b[40m....\u001b[10;9H.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.............\u001b[11;9H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.........\u001b[12;9H............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b[13;9H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\u001b[14;9H...............\u001b[8;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;10H(None)\u001b[7;10H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mInfantry\u001b[8;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7;10HInfantry\u001b[8;10H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mArtillery\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5d\b\b+\u001b[32m\u001b[40m..\u001b[6;10H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mBlue\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   |\u001b[32m\u001b[40m..\u001b[7;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mYellow |\u001b[32m\u001b[40m..\u001b[8;10H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mCyan   |\u001b[32m\u001b[40m..\u001b[9;9H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|Magenta|\u001b[32m\u001b[40m..\u001b[10;9H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|Red    |\u001b[11;9H|Green  |\u001b[12;9H+-------+\u001b[A\b\b\b\u001b[6;10HBlue\u001b[7;10H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mYellow\u001b[11d\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7;10HYellow\u001b[8;10H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mCyan\u001b[11;15H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[8;10HCyan\u001b[9;10H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mMagenta\u001b[11d\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[9;10HMagenta\u001b[10;10H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mRed\u001b[11;15H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;10HRed\u001b[11;10H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mGreen\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;9H\u001b[32m\u001b[40m.........\u001b[6;8H\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mL\u001b(B\u001b[0m\u001b[32m\u001b[40m......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b[7;9H.........\u001b[8;9H.........\u001b[9;9H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b[10;9H.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[11;9H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[12;9H.........\u001b[13;65H\u001b(B\u001b[0;1m\u001b[32m\u001b[40mArtillery\u001b[14;65H\u001b(B\u001b[0m\u001b[32m\u001b[40mHP 100% \r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;8H\u001b(B\u001b[0;1m\u001b[32m\u001b[40mL\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[13;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m         \u001b[14;65H        \r\u001b[24d\u001b[6;9H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;10H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;11H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;12H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;13H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[6d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;14H+-------------+\u001b[5;14H|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mRepeat\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m       |\u001b[6;14H|Place Unit   |\u001b[7;14H|Place Terrain|\u001b[8;14H|Edit Teams   |\u001b[9;14H|Unit Rules   |\u001b[10;14H|Terrain Rules|\u001b[11;14H|Save Map     |\u001b[12;14H|Back         |\u001b[13;14H+-------------+\u001b[12;19H\u001b[5;15HRepeat\u001b[6;15H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlace Unit\u001b[12;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;24H+\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b[5;15H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m(None)\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   |\u001b[32m\u001b[40m....\u001b[6;15H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mInfantry |\u001b[32m\u001b[40m....\u001b[7;15H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mArtillery|\u001b[32m\u001b[40m....\u001b[8;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+---------+\u001b[32m\u001b[40m....\u001b[9;14H...........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[10;14H...............\u001b[11;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\u001b[12;14H.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b[13;14H...............\u001b[7;24H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;15H(None)\u001b[6;15H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mInfantry\u001b[7;24H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4d\b\b+#\u001b[32m\u001b[40m.\u001b[5;15H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mBlue\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   |\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[6;15HYellow |\u001b[32m\u001b[40m..\u001b[7;15H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mCyan   |\u001b[32m\u001b[40m..\u001b[8;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|Magenta|\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[9;14H|Red    |\u001b[10;14H|Green  |\u001b[11;14H+-------+\u001b[A\b\b\b\u001b[5;15HBlue\u001b[6;15H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mYellow\u001b[10d\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;15HYellow\u001b[7;15H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mCyan\u001b[10;20H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;14H\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[5;13H\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.........\u001b[6;14H.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[7;14H.........\u001b[8;14H........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[9;14H\u001b[32m\u001b[40m.........\u001b[10;14H.........\u001b[11;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m........\u001b[13;65H\u001b(B\u001b[0;1m\u001b[36m\u001b[40mInfantry\u001b[14;65H\u001b(B\u001b[0m\u001b[36m\u001b[40mHP 100% \r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;13H\u001b(B\u001b[0;1m\u001b[36m\u001b[40mi\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[13;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m        \u001b[14;65H        \r\u001b[24d\u001b[5;14H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;15H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;16H\u001b[32m\u001b[40m.\u001b[6d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;16H\u001b[32m\u001b[40m.\u001b[7d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7;16H\u001b[32m\u001b[40m.\u001b[8d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[8;16H\u001b[32m\u001b[40m.\u001b[9d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[9;16H\u001b[32m\u001b[40m.\u001b[10d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;16H\u001b[32m\u001b[40m.\u001b[11d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;16H\u001b[32m\u001b[40m.\u001b[12d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[12;16H\u001b[32m\u001b[40m.\u001b[13d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;16H\u001b[32m\u001b[40m.\u001b[14d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;16H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;18H+-------------+\u001b[14;18H|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mRepeat\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m       |\u001b[15;18H|Place Unit   |\u001b[16;18H|Place Terrain|\u001b[17;18H|Edit Teams   |\u001b[18;18H|Unit Rules   |\u001b[19;18H|Terrain Rules|\u001b[20;18H|Save Map     |\u001b[21;18H|Back\u001b[21;32H|\u001b[22;18H+-------------+\u001b[21;23H\u001b[14;19HRepeat\u001b[15;19H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlace Unit\u001b[21;23H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[15;19HPlace Unit\u001b[16;19H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlace Terrain\u001b[21;23H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[15;19H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlace Unit\u001b[16;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mPlace Terrain\u001b[21;23H\u001b[13;28H+\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m \u001b[14;19H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m(None)\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   |\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m \u001b[15;19HInfantry |\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m \u001b[16;19HArtillery|\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m \u001b[17;18H+---------+    \u001b[18;18H\u001b[15X\u001b[19d\u001b[15X\u001b[20d\u001b[15X\u001b[21d     \u001b[21;32H \u001b[22;18H\u001b[15X\u001b[16;28H\u001b[14;19H(None)\u001b[15;19H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mInfantry\u001b[16;28H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[15;19HInfantry\u001b[16;19H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mArtillery\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[15;19H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mInfantry\u001b[16;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mArtillery\u001b[13d\b\b+\u001b[32m\u001b[40m..\u001b[14;19H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mBlue\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   |\u001b[32m\u001b[40m..\u001b[15;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mYellow |\u001b[32m\u001b[40m..\u001b[16;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mCyan   |##\u001b[17;18H|Magenta|  \u001b[18;18H|Red    |\u001b[19;18H|Green  |\u001b[20;18H+-------+\u001b[A\b\b\b\u001b[14;19HBlue\u001b[15;19H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mYellow\u001b[19d\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[15;19HYellow\u001b[16;19H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mCyan\u001b[19;24H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;18H\u001b[32m\u001b[40m.........\u001b[13;65H\u001b(B\u001b[0;1m\u001b[36m\u001b[40mInfantry\u001b[14;17H\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b[14;65H\u001b[36m\u001b[40mHP 100% \u001b[15;18H\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[16;18H\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[17;18H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m         \u001b[18;18H         \u001b[19;18H         \u001b[20;18H         \r\u001b[24d\u001b[13;65H        \u001b[14;16H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0;1m\u001b[36m\u001b[40mi\u001b[14;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m        \r\u001b[24d\u001b[14;15H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;16H+-------------+\u001b[14;16H|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mRepeat\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m       |\u001b[15;16H|Place Unit   |\u001b[16;16H|Place Terrain|\u001b[17;16H|Edit Teams   |\u001b[18;16H|Unit Rules   |\u001b[19;16H|Terrain Rules|\u001b[20;16H|Save Map     |\u001b[21;16H|Back\u001b[21;30H|\u001b[22;16H+-------------+\u001b[21;21H\u001b[14;17HRepeat\u001b[15;17H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlace Unit\u001b[21;21H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[15;17HPlace Unit\u001b[16;17H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlace Terrain\u001b[21;21H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[16;17HPlace Terrain\u001b[17;17H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mEdit Teams\u001b[21;21H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[17;17HEdit Teams\u001b[18;17H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mUnit Rules\u001b[21;21H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[17;17H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mEdit Teams\u001b[18;17H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mUnit Rules\u001b[21;21H\u001b[16;17H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlace Terrain\u001b[17;17H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mEdit Teams\u001b[21;21H\u001b[16;17HPlace Terrain\u001b[17;17H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mEdit Teams\u001b[21;21H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;65H\u001b[14X\u001b[4d\u001b[14X\u001b[5;7H\u001b[32m\u001b[40m.......\u001b[5;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14X\u001b[6;8H\u001b[32m\u001b[40m.\u001b[6;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14X\u001b[7d\u001b[14X\u001b[8d\u001b[14X\u001b[13;24H+\u001b[32m\u001b[40m......\u001b[14;17H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mRed\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m    |#\u001b[32m\u001b[40m.....\u001b[15;17H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mBlue   |\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b[16;17H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mGreen  |\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m..\u001b[17;17H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mYellow |      \u001b[18;17HCyan   |      \u001b[19;17HMagenta|      \u001b[20;17HDone   |      \u001b[21;16H+-------+      \u001b[22;16H\u001b[15X\u001b[20;21H\u001b[14;17HRed\u001b[15;17H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mBlue\u001b[20d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[15;17HBlue\u001b[16;17H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mGreen\u001b[20d\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[16;17HGreen\u001b[17;17H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mYellow\u001b[20d\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[17;17HYellow\u001b[18;17H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mCyan\u001b[20d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[18;17HCyan\u001b[19;17H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mMagenta\u001b[20;21H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;65H\u001b[35m\u001b[40mMagenta     $0\u001b[13;23H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+\u001b[32m\u001b[40m.\u001b[14;17H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mRed\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   |\u001b[32m\u001b[40m.\u001b[15d\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[32m\u001b[40m.\u001b[16d\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[32m\u001b[40m.\u001b[17d\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m| \u001b[18d\b\b| \u001b[19;17HDone  | \u001b[20;16H+------+ \u001b[21;16H         \u001b[19;21H\u001b[14;17HRed\u001b[15;17H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mBlue\u001b[19d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[18;21r\u001b[21;1H\n\u001b[1;24r\u001b[4;65H\u001b[34m\u001b[40mBlue        $0\u001b[14;17H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mRed\u001b[15;17H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mGreen\u001b[16;17HYellow\u001b[17;17HCyan  \r\u001b[21d|\u001b[21;64H|\u001b[80G|\u001b[18;21H\u001b[14;17HRed\u001b[18;17H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mDone\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;16H\u001b[32m\u001b[40m........\u001b[14;16H........\u001b[15;16H.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[32m\u001b[40m......\u001b[16;16H.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b[17;16H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m        \u001b[18;16H        \u001b[19;16H        \r\u001b[24d\u001b[14;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;14H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;16H+-------------+\u001b[14;16H|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mRepeat\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m       |\u001b[15;16H|Place Unit   |\u001b[16;16H|Place Terrain|\u001b[17;16H|Edit Teams   |\u001b[18;16H|Unit Rules   |\u001b[19;16H|Terrain Rules|\u001b[20;16H|Save Map     |\u001b[21;16H|Back\u001b[21;30H|\u001b[22;16H+-------------+\u001b[21;21H\u001b[14;17HRepeat\u001b[15;17H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlace Unit\u001b[21;21H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;26H+\u001b[32m\u001b[40m....\u001b[14;17H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m(None)\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   |\u001b[32m\u001b[40m....\u001b[15;17H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mInfantry |\u001b[32m\u001b[40m....\u001b[16;17H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mArtillery|##\u001b[32m\u001b[40m..\u001b[17;16H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+---------+    \u001b[18;16H\u001b[15X\u001b[19d\u001b[15X\u001b[20d\u001b[15X\u001b[21d     \u001b[21;30H \u001b[22;16H\u001b[15X\u001b[16;26H\u001b[14;17H(None)\u001b[15;17H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mInfantry\u001b[16;26H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13d\b\b+\u001b[32m\u001b[40m..\u001b[14;17H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mMagenta\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|#\u001b[32m\u001b[40m.\u001b[15;17H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mBlue   |\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[16;16H+-------+\u001b[32m\u001b[40m..\u001b[17;16H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m           \u001b[15;21H\u001b[13;16H\u001b[32m\u001b[40m.........\u001b[13;65H\u001b(B\u001b[0;1m\u001b[35m\u001b[40mInfantry\u001b[14;15H\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.........\u001b[14;65H\u001b[35m\u001b[40mHP 100% \u001b[15;16H\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[32m\u001b[40m.......\u001b[16;16H.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;65H        \u001b[14;15H\u001b(B\u001b[0;1m\u001b[35m\u001b[40mi\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[14;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m        \r\u001b[24d\u001b[14;16H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;18H+-------------+\u001b[14;18H|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mRepeat\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m       |\u001b[15;18H|Place Unit   |\u001b[16;18H|Place Terrain|\u001b[17;18H|Edit Teams   |\u001b[18;18H|Unit Rules   |\u001b[19;18H|Terrain Rules|\u001b[20;18H|Save Map     |\u001b[21;18H|Back\u001b[21;32H|\u001b[22;18H+-------------+\u001b[21;23H\u001b[14;19HRepeat\u001b[15;19H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlace Unit\u001b[21;23H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;28H+\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m \u001b[14;19H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m(None)\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   |\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m \u001b[15;19HInfantry |\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m \u001b[16;19HArtillery|\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m \u001b[17;18H+---------+    \u001b[18;18H\u001b[15X\u001b[19d\u001b[15X\u001b[20d\u001b[15X\u001b[21d     \u001b[21;32H \u001b[22;18H\u001b[15X\u001b[16;28H\u001b[14;19H(None)\u001b[15;19H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mInfantry\u001b[16;28H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13d\b\b+\u001b[32m\u001b[40m..\u001b[14;19H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mMagenta\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[32m\u001b[40m..\u001b[15;19H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mBlue   |\u001b[32m\u001b[40m..\u001b[16;18H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+-------+##\u001b[17;18H           \u001b[15;23H\u001b[A\b\b\b\bMagenta\u001b[15;19H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mBlue\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;18H\u001b[32m\u001b[40m.........\u001b[13;65H\u001b(B\u001b[0;1m\u001b[34m\u001b[40mInfantry\u001b[14;17H\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b[14;65H\u001b[34m\u001b[40mHP 100% \u001b[15;18H\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[16;18H\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;65H        \u001b[14;17H\u001b(B\u001b[0;1m\u001b[34m\u001b[40mi\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[14;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m        \r\u001b[24d\u001b[14;18H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;20H+-------------+\u001b[14;20H|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mRepeat\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m       |\u001b[15;20H|Place Unit   |\u001b[16;20H|Place Terrain|\u001b[17;20H|Edit Teams   |\u001b[18;20H|Unit Rules   |\u001b[19;20H|Terrain Rules|\u001b[20;20H|Save Map     |\u001b[21;20H|Back\u001b[21;34H|\u001b[22;20H+-------------+\u001b[21;25H\u001b[14;21HRepeat\u001b[15;21H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlace Unit\u001b[21;25H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[15;21HPlace Unit\u001b[16;21H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlace Terrain\u001b[21;25H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[16;21HPlace Terrain\u001b[17;21H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mEdit Teams\u001b[21;25H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[17;21HEdit Teams\u001b[18;21H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mUnit Rules\u001b[21;25H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[18;21HUnit Rules\u001b[19;21H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mTerrain Rules\u001b[21;25H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[19;21HTerrain Rules\u001b[20;21H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mSave Map\u001b[21;25H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;34H------------+\u001b[14;21H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mMap Name\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m    \u001b[14;46H|\u001b[15;20H+-------------------------+\u001b[16;20H\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[17;20H\u001b[15X\u001b[18d\u001b[15X\u001b[19d\u001b[15X\u001b[20d\u001b[15X\u001b[21d     \u001b[21;34H \u001b[22;20H\u001b[15X\u001b[14;31H\bt\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\bs\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\bt\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\bm\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\ba\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\bp\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;20H\u001b[32m\u001b[40m............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[15X\u001b[14;20H\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m     \u001b[14;46H \u001b[15;20H\u001b[32m\u001b[40m......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[15X\r\u001b[24d\u001b[13;20H+-------------+\u001b[14;20H|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mRepeat\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m       |\u001b[15;20H|Place Unit   |\u001b[16;20H|Place Terrain|\u001b[17;20H|Edit Teams   |\u001b[18;20H|Unit Rules   |\u001b[19;20H|Terrain Rules|\u001b[20;20H|Save Map     |\u001b[21;20H|Back\u001b[21;34H|\u001b[22;20H+-------------+\u001b[21;25H\u001b[14;21HRepeat\u001b[21;21H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mBack\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;20H\u001b[32m\u001b[40m............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[14;20H\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[15;20H\u001b[32m\u001b[40m......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[16;20H\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[17;20H\u001b[15X\u001b[18d\u001b[15X\u001b[19d\u001b[15X\u001b[20d\u001b[15X\u001b[21d     \u001b[21;34H \u001b[22;20H\u001b[15X\r\u001b[24d\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n\u001b[K\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Terrain\"\u001b[39;49m:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[K\r\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit terrain\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Edit Teams\"\u001b[39;49m:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Red\"\u001b[39;49m,\u001b[32m\"Blue\"\u001b[39;49m,\u001b[32m\"Green\"\u001b[39;49m,\u001b[32m\"Yellow\"\u001b[39;49m,\u001b[32m\"Cyan\"\u001b[39;49m,\u001b[K\r\n                            \u001b[32m\"Magenta\"\u001b[39;49m,\u001b[32m\"Done\"\u001b[39;49m]\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x,y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles_xy():\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y):\u001b[K\r\n                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(x,y)\u001b[K\r\n                t = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[K\r\n                t.team = \u001b[35mNone\u001b[39;49m\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams = []\u001b[K\r\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit teams\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Unit Rules\"\u001b[39;49m:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   83% L988  Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[12;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\t\t\u001b[?25l\u001b[33mt\u001b[39;49m\n\b\u001b[33mt.team\u001b[39;49m\u001b[12;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default shell.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lshell.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l*scratch*\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lshell.py\u001b[K\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\r\u001b[?25lQuit\u001b[K\u001b[1;33H\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[12;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[12;48H\u001b[24;1H\u001b[?25l\u001b[34mFind file: \u001b[39;49m~/Documents/rules-of-war/code/core/\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lorage.py\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[31m# The storage module is a platform-independent way of saving and loading        \u001b[39;49m\r\n\u001b[31m# files to certain locations.                                                   \u001b[39;49m\r\n\u001b[K\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m os\u001b[K\r\n\u001b[K\n\u001b[31m# This reads the text from a file from the home directory. Each arg is a        \u001b[39;49m\r\n\u001b[31m# folder in the filename, and will be joined as appropriate. Returns None if    \u001b[39;49m\r\n\u001b[31m# the file does not exist.                                                      \u001b[39;49m\r\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mread\u001b[0m\u001b[39;49m(*args):\u001b[K\u001b[11;5H\u001b[33mhome\u001b[39;49m = os.path.join(os.path.expanduser(\u001b[32m\"~\"\u001b[39;49m),\u001b[32m\".rule-of-war\"\u001b[39;49m)\u001b[12;5H\u001b[33mtarget\u001b[39;49m = os.path.join(home, *args)\u001b[K\u001b[13;5H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(target):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\u001b[15;5H\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\n\u001b[33mf\u001b[39;49m = \u001b[1m\u001b[34mopen\u001b[0m\u001b[39;49m(target,\u001b[32m\"r\"\u001b[39;49m)\u001b[K\r\n\t\u001b[33ms\u001b[39;49m = f.read()\u001b[K\r\n\tf.close()\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m s\u001b[20;5H\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[23;14H\u001b[7m\u001b[1mstorage.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Top L1    Git-\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m10\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[11;64H\b\b\b\b\b\b\b\b\b\u001b[?25l\u001b[1@\u001b[32ms\u001b[39;49m\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;56H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\u001b[?25l        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[31m# This saves a file to the home directory, overwriting if appropriate.          \u001b[39;49m\r\n\u001b[31m# Returns False if something goes wrong.                                        \u001b[39;49m\r\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34msave\u001b[0m\u001b[39;49m(data, *args):\r\n    \u001b[33mhome\u001b[39;49m = os.path.join(os.path.expanduser(\u001b[32m\"~\"\u001b[39;49m),\u001b[32m\".rule-of-war\"\u001b[39;49m)\u001b[K\r\n    \u001b[33mtargetdir\u001b[39;49m = os.path.join(home, *(args[:-1]))\u001b[K\r\n    \u001b[33mtarget\u001b[39;49m = os.path.join(home, *args)\u001b[K\r\n    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(targetdir):\u001b[11;5H    os.makedirs(targetdir)\u001b[K\u001b[12;5H\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b    \u001b[33mf\u001b[39;49m = \u001b[1m\u001b[34mopen\u001b[0m\u001b[39;49m(target,\u001b[32m\"w\"\u001b[39;49m)\u001b[K\r\n\tf.write(data)\u001b[15;5H    f.close()\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[17;5H\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mFalse\u001b[39;49m\r\n\u001b[K\n\u001b[K\n\u001b[31m# This reads a file from the provided data directory.                           \u001b[39;49m\r\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mread_data\u001b[0m\u001b[39;49m(*args):\u001b[23;29H\u001b[7m39% L2\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[7;64H\b\b\b\b\b\b\b\b\b\u001b[?25l\u001b[1@\u001b[32ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\u001b[?25l\u001b[31m# This reads a file from the provided data directory.                           \u001b[39;49m\r\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mread_data\u001b[0m\u001b[39;49m(*args):\r\n    \u001b[33mdata\u001b[39;49m = os.path.join(os.path.dirname(os.path.realpath(__file__)),\u001b[K\r\n                        \u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"data\"\u001b[39;49m)\u001b[K\r\n    \u001b[33mtarget\u001b[39;49m = os.path.join(data, *args)\u001b[7;5H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(target):\u001b[K\u001b[8;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\u001b[9;5H\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b    \u001b[33mf\u001b[39;49m = \u001b[1m\u001b[34mopen\u001b[0m\u001b[39;49m(target,\u001b[32m\"r\"\u001b[39;49m)\u001b[K\r\n\t\u001b[33ms\u001b[39;49m = f.read()\u001b[K\u001b[12;5H    f.close()\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m s\u001b[K\u001b[14;5H\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\r\n\u001b[K\n\u001b[K\n\u001b[K\n\n\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L39\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lAuto-saving...\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[2d\u001b[24d\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/storage.py...\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/storage.py\u001b[K\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mstorage.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L39   Git:\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J+--------------------------------------------------------------+---------------+\u001b[2;1H|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..................\u001b[2;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[3;1H|\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[3;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[4;1H|#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[4;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[5;1H|\u001b[32m\u001b[40m......................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[5;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[6;1H|\u001b[32m\u001b[40m.............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m................\u001b[6;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[7;1H|\u001b[32m\u001b[40m...........................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b[7;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[8;1H|\u001b[32m\u001b[40m....................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[8;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[9;1H|\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[9;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+---------------+\u001b[10;1H|#\u001b[32m\u001b[40m.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b[10;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[11;1H|#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.................\u001b[11;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[12;1H|\u001b[32m\u001b[40m...................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[12;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[13;1H|\u001b[32m\u001b[40m.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......................\u001b[13;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[14;1H|\u001b[32m\u001b[40m.............\u001b(B\u001b[0;1m\u001b[35m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[14;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[15;1H|\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#!\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[15;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[16;1H|#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m...\u001b[16;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[17;1H|\u001b[17;64H+---------------+\u001b[18;1H|\u001b[18;64H|\u001b[80G|\u001b[19;1H|\u001b[19;64H|\u001b[80G|\u001b[20;1H|\u001b[20;64H|\u001b[80G|\u001b[21;1H|\u001b[21;64H|\u001b[80G|\u001b[22;1H|\u001b[22;64H+---------------+\u001b[23;1H|\u001b[23;64H|\r\u001b[24d+--------------------------------------------------------------+\r\u001b[2;65H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mMap Editing\u001b[3;65H\u001b(B\u001b[0m\u001b[35m\u001b[40mMagenta     $0\u001b[4;65H\u001b[34m\u001b[40mBlue        $0\u001b[10;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mGrass\u001b[11;65HDEF +1\r\u001b[24d\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n\u001b[31m# This reads a file from the provided data directory.                           \u001b[39;49m\r\n\u001b[A\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mread_data\u001b[0m\u001b[39;49m(*args):\u001b[K\r\n    \u001b[33mdata\u001b[39;49m = os.path.join(os.path.dirname(os.path.realpath(__file__)),\u001b[K\r\n                        \u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"data\"\u001b[39;49m)\u001b[K\r\n    \u001b[33mtarget\u001b[39;49m = os.path.join(data, *args)\u001b[K\r\n    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(target):\u001b[K\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n    \u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\r\n        \u001b[33mf\u001b[39;49m = \u001b[1m\u001b[34mopen\u001b[0m\u001b[39;49m(target,\u001b[32m\"r\"\u001b[39;49m)\u001b[K\r\n        \u001b[33ms\u001b[39;49m = f.read()\u001b[K\r\n        f.close()\u001b[K\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m s\u001b[K\r\n    \u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mstorage.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L39   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[2d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l\u001b[34mSwitch to buffer (default rules.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrules.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lshell\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics = \u001b[32m\"sdl\"\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[4;5H    \u001b[31m# IN THE FUTURE ALL OF THIS WILL NOT EXIST                              \u001b[39;49m\r\n\t\u001b[33mqdata\u001b[39;49m = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[32m\"default.json\"\u001b[39;49m)\u001b[6;5H    \u001b[33mqdict\u001b[39;49m = json.loads(qdata)\u001b[K\u001b[7;5H    \u001b[33mqdict\u001b[39;49m[\u001b[32m\"players\"\u001b[39;49m] = {\u001b[32m\"Ishara\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:1,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"b\"\u001b[39;49m},\r\n\t                    \u001b[32m\"Ramen\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:0,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"r\"\u001b[39;49m}\u001b[9;5H                       }\r\n\t\u001b[33mr\u001b[39;49m = rules.Rules(qdict,\u001b[35mTrue\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g = grid.Controller(78,22,r)\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[14;5H    \u001b[31m#self.buff = widgets.Buffer(10,5)                                       \u001b[39;49m\r\n\t\u001b[31m#self.buff.write(\"Hello, world!\")                                       \u001b[39;49m\r\n\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdisplay\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu:\u001b[21;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.draw(1,20,\u001b[32m\"r\"\u001b[39;49m)\u001b[23;15H\u001b[7m\u001b[1mhell.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   27% L36\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lTrue)\u001b[K\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrue)\u001b[K\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lue)\u001b[K\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le)\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/shell.py...\u001b[10;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/shell.py\u001b[K\u001b[10;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J+--------------------------------------------------------------+---------------+\u001b[2;1H|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..................\u001b[2;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[3;1H|\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[3;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[4;1H|#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[4;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[5;1H|\u001b[32m\u001b[40m......................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[5;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[6;1H|\u001b[32m\u001b[40m.............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m................\u001b[6;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[7;1H|\u001b[32m\u001b[40m...........................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b[7;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[8;1H|\u001b[32m\u001b[40m....................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[8;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[9;1H|\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[9;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+---------------+\u001b[10;1H|#\u001b[32m\u001b[40m.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b[10;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[11;1H|#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.................\u001b[11;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[12;1H|\u001b[32m\u001b[40m...................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[12;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[13;1H|\u001b[32m\u001b[40m.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......................\u001b[13;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[14;1H|\u001b[32m\u001b[40m.............\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[14;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[15;1H|\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#!\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[15;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[16;1H|#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m...\u001b[16;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[17;1H|\u001b[17;64H+---------------+\u001b[18;1H|\u001b[18;64H|\u001b[80G|\u001b[19;1H|\u001b[19;64H|\u001b[80G|\u001b[20;1H|\u001b[20;64H|\u001b[80G|\u001b[21;1H|\u001b[21;64H|\u001b[80G|\u001b[22;1H|\u001b[22;64H+---------------+\u001b[23;1H|\u001b[23;64H|\r\u001b[24d+--------------------------------------------------------------+\r\u001b[2;65H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mDay 1\u001b[3;65H\u001b(B\u001b[0m\u001b[31m\u001b[40mRamen       $0\u001b[4;65H\u001b[34m\u001b[40mIshara      $0\u001b[10;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mGrass\u001b[11;23H+------------------+\u001b[11;65HDEF +1\u001b[12;23H|\u001b[31m\u001b[40mtstmap: Day 1\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m     |\u001b[13;23H|\u001b[31m\u001b[40mRamen - move out!\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m |\u001b[14;23H+------------------+\u001b[12;37H\r\u001b[2d|\u001b[32m\u001b[40m.\u001b[3d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[3d|\u001b[32m\u001b[40m.\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[10;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mCity \u001b[11d3\u001b[12;37H\r\u001b[4d|#\u001b[5d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[10;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mGrass\u001b[11d1\u001b[12;37H\r\u001b[5d|\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;3H\u001b[32m\u001b[40m.\u001b[6d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;3H\u001b[32m\u001b[40m.\u001b[7d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7;3H\u001b[32m\u001b[40m.\u001b[8d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[8;3H\u001b[32m\u001b[40m.\u001b[9d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[9;3H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[9;4H\u001b[32m\u001b[40m.\u001b[10d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;4H\u001b[32m\u001b[40m.\u001b[11d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;4H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;65HCity \u001b[11;5H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[11;70H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m3\u001b[12;37H\u001b[11;6H#\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;65HGrass\u001b[11;7H#\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[11;70H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m1\u001b[12;37H\u001b[10;65HCity \u001b[11;8H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[11;70H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m3\u001b[12;37H\u001b[11;9H#\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;65HGrass\u001b[11;10H#\u001b[11;70H1\u001b[12;10H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[12;10H\u001b[32m\u001b[40m.\u001b[13d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;10H\u001b[32m\u001b[40m.\u001b[14d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;10H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;23H\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m           \u001b[12;23H\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m           \u001b[13;23H\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m           \u001b[14;11H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[14;23H\u001b(B\u001b[0m\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m           \r\u001b[24d\u001b[14;12H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;13H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;65H\u001b(B\u001b[0;1m\u001b[31m\u001b[40mInfantry\u001b[14;14H\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b[14;65H\u001b(B\u001b[0m\u001b[31m\u001b[40mHP 100% \r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;15H\u001b(B\u001b[0;7m\u001b[32m\u001b[40m.\u001b[12d\b\b...\u001b[13;13H.....\u001b[14;12H...\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b(B\u001b[0;7m\u001b[32m\u001b[40m.\u001b[15;13H.\u001b[39;49m\u001b[37m\u001b[40m#!\u001b[32m\u001b[40m.\u001b[39;49m\u001b[37m\u001b[40m!\u001b[16;14H\u001b[32m\u001b[40m...\u001b[18;65H\u001b(B\u001b[0;1m\u001b[31m\u001b[40mInfantry\u001b[19;65H\u001b(B\u001b[0m\u001b[31m\u001b[40mDEF +1\u001b[20;65HHP 100% \r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;65HHQ   \u001b[11d3\u001b[13;65H        \u001b[14;15H\u001b(B\u001b[0;1;7m\u001b[31m\u001b[40mi\u001b[14;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m        \r\u001b[24d\u001b[11;15H\u001b[32m\u001b[40m.\u001b[12d\b\b...\u001b[13;13H.....\u001b[13;65H\u001b(B\u001b[0;1m\u001b[31m\u001b[40mInfantry\u001b[14;12H\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+-------+\u001b[14;65H\u001b[31m\u001b[40mHP 100% \u001b[15;13H\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mCapture\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[16;14H\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|Wait   |\u001b[17;16H|Cancel |\u001b[18;16H+-------+\u001b[19;70H\u001b[31m\u001b[40m3\u001b[17;23H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[12;16H+------+\u001b[12;65H\u001b[31m\u001b[40mCapturing: 50%\u001b[13;16H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|99%   |\u001b[13;65H        \u001b[14;23H+\u001b[32m\u001b[40m.\u001b[14;65H\u001b(B\u001b[0;1m\u001b[31m\u001b[40mInfantry\u001b[15;16H\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[32m\u001b[40m.......\u001b[15;65H\u001b[31m\u001b[40mHP 100% \u001b[16;16H\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[17;16H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m         \u001b[18;16H         \u001b[18;65H        \u001b[19;65H      \u001b[20;65H        \u001b[13;20H\b\b8%\b\b7%\u001b[10;65HGrass\u001b[11d1\u001b[12;65H\u001b[14X\u001b[13;18H6\u001b[14;15H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[14;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m        \u001b[15;15H\u001b(B\u001b[0;1m\u001b[30m\u001b[40mi\u001b[15;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m        \u001b[13;20H\b\b5%\b\b4%\b\b3%\b\b2%\b\b1%\b\b0%\b\b\b89%\b\b8%\b\b7%\b\b6%\b\b5%   |---+\u001b[14;24H   |\u001b[15;16H|End Turn  |\u001b[16;16H|Surrender |\u001b[17;16H|Undo\u001b[27G|\u001b[18;16H|Start Over|\u001b[19;16H+----------+\u001b[13;20H\b\b4%\b\b3%\b\b2\u001b[15d\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn\u001b[13;20H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b1%\u001b[11;23H+-------------------+\u001b[12;23H|\u001b[34m\u001b[40mtstmap: Day 1\u001b[43G\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[13;18H0%   |\u001b[34m\u001b[40mIshara - move out!\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m |\u001b[14;24H-------------------+\u001b[15;15H\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b[16;16H.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[17;16H     \u001b[27G \u001b[18;16H            \u001b[19;16H            \u001b[12;37H\u001b[13;17H79\u001b[12;37H\u001b[13;18H8\u001b[12;37H\u001b[13;18H7\u001b[12;37H\u001b[13;18H6\u001b[12;37H\u001b[13;18H5\u001b[12;37H\u001b[13;18H4\u001b[12;37H\u001b[13;18H3\u001b[15;16H|End Turn  |\u001b[16;16H|Surrender |\u001b[17;16H|Undo\u001b[27G|\u001b[18;16H|Start Over|\u001b[19;16H+----------+\u001b[12;37H\u001b[13;18H2\u001b[12;37H\u001b[13;18H1\u001b[15d\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2;69H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40m2\u001b[11;42H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+\u001b[12;24H\u001b[31m\u001b[40mtstmap: Day 2\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m     |\u001b[13;18H0%   |\u001b[31m\u001b[40mRamen - move out!\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m |\u001b[14d\b+\u001b[15;16H\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b[16;16H.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[17;16H     \u001b[27G \u001b[18;16H            \u001b[19;16H            \u001b[12;37H\u001b[13;17H69\u001b[12;37H\u001b[13;18H8\u001b[12;37H\u001b[13;18H7\u001b[12;37H\u001b[13;18H6\u001b[12;37H\u001b[13;18H5\u001b[12;37H\u001b[13;18H4\u001b[12;37H\u001b[13;18H3\u001b[12;37H\u001b[13;18H2\u001b[12;37H\u001b[13;18H1\u001b[12;37H\u001b[10;65HHQ   \u001b[11d3\u001b[12;65H\u001b[31m\u001b[40mCapturing: 50%\u001b[13;18H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m0\u001b[14;15H\u001b[32m\u001b[40m.\u001b[14;65H\u001b(B\u001b[0;1m\u001b[31m\u001b[40mInfantry\u001b[15;15H\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b[15;65H\u001b(B\u001b[0m\u001b[31m\u001b[40mHP 100% \u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;17H59\u001b[12;37H\u001b[12;15H\u001b(B\u001b[0;7m\u001b[32m\u001b[40m.\u001b[13d\b\b..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|58\u001b[14;13H\u001b(B\u001b[0;7m\u001b[32m\u001b[40m...\u001b[15;12H\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b[39;49m\u001b[37m\u001b[40m#\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b(B\u001b[0;7m\u001b[32m\u001b[40m.\u001b[39;49m\u001b[37m\u001b[40m!\u001b[32m\u001b[40m.\u001b[16;13H.....\u001b[18;65H\u001b(B\u001b[0;1m\u001b[31m\u001b[40mInfantry\u001b[19;65H\u001b(B\u001b[0m\u001b[31m\u001b[40mDEF +3\u001b[20;65HHP 100% \u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;18H7\u001b[12;37H\u001b[13;18H6\u001b[12;37H\u001b[13;18H5\u001b[12;37H\u001b[12;15H\u001b[32m\u001b[40m.\u001b[13d\b\b..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|54\u001b[14;13H\u001b[32m\u001b[40m...\u001b[15;12H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mCapture\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[16;13H\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|Wait   |\u001b[17;16H|Cancel |\u001b[18;16H+-------+\u001b[12;37H\u001b[13;18H3\u001b[12;37H\u001b[13;18H2\u001b[12;37H\u001b[13;18H1\u001b[12;37H\u001b[13;18H0\u001b[12;37H\u001b[10;65H\u001b[31m\u001b[40mHQ\u001b[11d\b\bDEF +3\u001b[12;23H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+\u001b[12;65H\u001b[14X\u001b[13;17H49\u001b[13;65H\u001b(B\u001b[0;1m\u001b[31m\u001b[40mInfantry\u001b[14;65H\u001b(B\u001b[0m\u001b[31m\u001b[40mHP 100% \u001b[15;16H\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[32m\u001b[40m.......\u001b[15;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m        \u001b[16;16H\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[17;16H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m         \u001b[18;16H         \u001b[18;65H        \u001b[19;65H      \u001b[20;65H        \u001b[13;20H\b\b8%\b\b7%\b\b6%\b\b5%\b\b4%\u001b[10;65HGrass\u001b[11;65HDEF +1\u001b[13;18H3\u001b[13;65H        \u001b[14;15H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[14;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m        \u001b[15;15H\u001b(B\u001b[0;1m\u001b[30m\u001b[40mi\u001b[13;20H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b2%\b\b1%\b\b0%\b\b\b39\u001b[15;16H|End Turn  |\u001b[16;16H|Surrender |\u001b[17;16H|Undo\u001b[27G|\u001b[18;16H|Start Over|\u001b[19;16H+----------+\u001b[13;20H\b\b8%\b\b7\u001b[15d\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn\u001b[13;20H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b6%\u001b[11;42H-\u001b[12;23H|\u001b[34m\u001b[40mtstmap: Day 2\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m      \u001b[13;18H5%   |\u001b[34m\u001b[40mIshara - move out!\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m \u001b[14d\b-\u001b[15;15H\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b[16;16H.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[17;16H     \u001b[27G \u001b[18;16H            \u001b[19;16H            \u001b[12;37H\u001b[13;18H4\u001b[12;37H\u001b[13;18H3\u001b[12;37H\u001b[13;18H2\u001b[12;37H\u001b[13;18H1\u001b[12;37H\u001b[13;18H0\u001b[12;37H\u001b[10;65H\u001b[31m\u001b[40mHQ\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[11;65H\u001b[31m\u001b[40mDEF +3\u001b[13;17H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m29\u001b[13;65H\u001b(B\u001b[0;1m\u001b[31m\u001b[40mInfantry\u001b[14;15H\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[14;65H\u001b[31m\u001b[40mHP 100% \u001b[15;15H\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;18H8\u001b[12;37H\u001b[12;15H\u001b(B\u001b[0;7m\u001b[32m\u001b[40m.\u001b[13d\b\b..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|27\u001b[14;13H\u001b(B\u001b[0;7m\u001b[32m\u001b[40m...\u001b[15;12H\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b[39;49m\u001b[37m\u001b[40m#\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b(B\u001b[0;7m\u001b[32m\u001b[40m.\u001b[39;49m\u001b[37m\u001b[40m!\u001b[32m\u001b[40m.\u001b[16;13H.....\u001b[18;65H\u001b(B\u001b[0;1m\u001b[31m\u001b[40mInfantry\u001b[19;65H\u001b(B\u001b[0m\u001b[31m\u001b[40mDEF +3\u001b[20;65HHP 100% \u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;18H6\u001b[12;37H\u001b[13;18H5\u001b[12;37H\u001b[13;18H4\u001b[12;37H\u001b[13;18H3\u001b[12;37H\u001b[13;18H2\u001b[12;37H\u001b[13;18H1\u001b[12;37H\u001b[13;18H0\u001b[12;37H\u001b[13;17H19\u001b[12;37H\u001b[13;18H8\u001b[12;37H\u001b[12;15H\u001b[32m\u001b[40m.\u001b[13d\b\b..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|17\u001b[14;13H\u001b[32m\u001b[40m...\u001b[15;12H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[32m\u001b[40m.\u001b[16;13H.....\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;18H6\u001b[12;37H\u001b[13;18H5\u001b[12;37H\u001b[13;18H4\u001b[18;65H        \u001b[19;65H      \u001b[20;65H        \u001b[12;37H\u001b[13;18H3\u001b[12;37H\u001b[13;18H2\u001b[12;37H\u001b[13;18H1\u001b[12;37H\u001b[13;18H0\u001b[12;37H\u001b[13;17H9% \u001b[12;37H\u001b[13;17H8\u001b[12;37H\u001b[13;17H7\u001b[12;37H\u001b[13;17H6\u001b[12;37H\u001b[13;17H5\u001b[12;37H\u001b[13;17H4\u001b[12;37H\u001b[13;17H3\u001b[12;37H\u001b[13;17H2\u001b[12;37H\u001b[10;65HGrass\u001b[11;65HDEF +1\u001b[13;17H1\u001b[13;65H        \u001b[14;15H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[14;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m        \u001b[15;15H\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;17H0\u001b[12;37H\u001b[15;16H|End Turn  |\u001b[16;16H|Surrender |\u001b[17;16H|Undo\u001b[27G|\u001b[18;16H|Start Over|\u001b[19;16H+----------+\u001b[12;37H\u001b[15;17H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2;69H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40m3\u001b[3;74H\u001b(B\u001b[0m\u001b[31m\u001b[40m$100\u001b[11;42H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+\u001b[12;24H\u001b[31m\u001b[40mtstmap: Day 3\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m     |\u001b[13;24H\u001b[31m\u001b[40mRamen - move out!\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m |\u001b[14d\b+\u001b[15;16H\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b[16;16H.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[17;16H     \u001b[27G \u001b[18;16H            \u001b[19;16H            \u001b[12;37H\u001b[10;65H\u001b[31m\u001b[40mHQ\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[11;43H \u001b[11;65H\u001b[31m\u001b[40mDEF +3\u001b[12;43H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m \u001b[13d\b \u001b[13;65H\u001b(B\u001b[0;1m\u001b[31m\u001b[40mInfantry\u001b[14;15H\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[14;43H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m \u001b[14;65H\u001b[31m\u001b[40mHP 100% \u001b[15;15H\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[12;15H\u001b(B\u001b[0;7m\u001b[32m\u001b[40m.\u001b[13d\b\b..\u001b[14;13H...\u001b[15;12H\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b[39;49m\u001b[37m\u001b[40m#\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b(B\u001b[0;7m\u001b[32m\u001b[40m.\u001b[39;49m\u001b[37m\u001b[40m!\u001b[32m\u001b[40m.\u001b[16;13H.....\u001b[18;65H\u001b(B\u001b[0;1m\u001b[31m\u001b[40mInfantry\u001b[19;65H\u001b(B\u001b[0m\u001b[31m\u001b[40mDEF +3\u001b[20;65HHP 100% \u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;65HGrass\u001b[11;65HDEF +1\u001b[13;65H        \u001b[14;15H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[14;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m        \u001b[15;15H\u001b(B\u001b[0;1;7m\u001b[31m\u001b[40mi\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[12;15H\u001b[32m\u001b[40m.\u001b[13d\b\b..\u001b[13;65H\u001b(B\u001b[0;1m\u001b[31m\u001b[40mInfantry\u001b[14;13H\u001b(B\u001b[0m\u001b[32m\u001b[40m..\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b[14;65H\u001b(B\u001b[0m\u001b[31m\u001b[40mHP 100% \u001b[15;12H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|Cancel|\u001b[16;13H\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+------+\u001b[19;70H\u001b[31m\u001b[40m1\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[15;16H\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[32m\u001b[40m......\u001b[16;16H.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b[18;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m        \u001b[19;65H      \u001b[20;65H        \u001b[12;37H\u001b[13;65H        \u001b[14;15H\u001b(B\u001b[0;1m\u001b[30m\u001b[40mi\u001b[14;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m        \u001b[12;37H\u001b[15;17H|Surrender |\u001b[16;17H|Undo      |\u001b[17;17H|Start Over|\u001b[18;17H+----------+\u001b[12;37H\u001b[12;16H\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+\u001b[13d\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mBack\u001b[14;16H\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|End T\u001b[12;37H\u001b[13;18HBack\u001b[14;18H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mEnd T\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;42H-+\u001b[12;17H\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[34m\u001b[40mtstmap: Day 3\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m      |\u001b[13;17H\u001b[32m\u001b[40m......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[34m\u001b[40mIshara - move out!\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m |\u001b[14;15H\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.....\u001b[14;42H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m-+\u001b[15;17H!\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b[16;17H....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[17;17H            \u001b[18;17H            \u001b[12;37H\u001b[13;16H\u001b[32m\u001b[40m.\u001b[14d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;65H\u001b(B\u001b[0;1m\u001b[34m\u001b[40mInfantry\u001b[14;16H\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b[14;65H\u001b(B\u001b[0m\u001b[34m\u001b[40mHP 100% \u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;17H\u001b(B\u001b[0;7m\u001b[32m\u001b[40m.\u001b[12d\b\b...\u001b[13;15H.....\u001b[14;16H.\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b(B\u001b[0;7m\u001b[32m\u001b[40m...\u001b[15;15H\u001b(B\u001b[0;1;7m\u001b[31m\u001b[40m!\u001b(B\u001b[0;7m\u001b[32m\u001b[40m.\u001b[39;49m\u001b[37m\u001b[40m!\u001b[32m\u001b[40m..\u001b[16;16H...\u001b[18;65H\u001b(B\u001b[0;1m\u001b[34m\u001b[40mInfantry\u001b[19;65H\u001b(B\u001b[0m\u001b[34m\u001b[40mDEF +1\u001b[20;65HHP 100% \u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;65HHQ   \u001b[11d3\u001b[13;65H        \u001b[14;17H\u001b(B\u001b[0;1;7m\u001b[34m\u001b[40mi\u001b[14;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m        \u001b[12;37H\u001b[10;65HGrass\u001b[11d1\u001b[15;16H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;17H\u001b[32m\u001b[40m.\u001b[12d\b\b...\u001b[13;15H.....\u001b[14;16H.\u001b(B\u001b[0;1m\u001b[34m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m...\u001b[15;15H\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[32m\u001b[40m..\u001b[16;16H...\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;65H\u001b[31m\u001b[40mHQ\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[11;65H\u001b[31m\u001b[40mDEF +3\u001b[15;15H\u001b(B\u001b[0;1;7m\u001b[31m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;65H\u001b(B\u001b[0;1m\u001b[34m\u001b[40mInfantry\u001b[14;16H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+------\u001b[14;65H\u001b[34m\u001b[40mHP 100% \u001b[15;15H\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mAttack\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m |\u001b[16;16H|Capture|\u001b[17;16H|Wait   |\u001b[18;16H|Cancel |\u001b[19;16H+-------+\u001b[19;70H\u001b[34m\u001b[40m3\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;15H\u001b(B\u001b[0;1;7m\u001b[31m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.......\u001b[15;16H.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[32m\u001b[40m.......\u001b[16;16H.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[17;16H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m         \u001b[18;16H         \u001b[19;16H         \u001b[12;37H\u001b[14;15H\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;23H\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m            \u001b[12;23H\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m     \u001b[43G \u001b[13;23H\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m            \u001b[14;23H\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m            \r\u001b[24d\u001b[14;15H\u001b(B\u001b[0;1;7m\u001b[31m\u001b[40mi\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;15H\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;15H\u001b(B\u001b[0;1;7m\u001b[31m\u001b[40mi\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;65HGrass\u001b[11;65HDEF +1\u001b[13;65H        \u001b[14;65H        \u001b[15;15H\u001b(B\u001b[0;1m\u001b[34m\u001b[40mi\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;15H\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;17H\u001b(B\u001b[0;1m\u001b[34m\u001b[40mi\u001b[15;15H\u001b[31m\u001b[40m!\u001b[18;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m        \u001b[19;65H      \u001b[20;65H        \r\u001b[24d\u001b[14;16H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[15d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;65H\u001b(B\u001b[0;1m\u001b[34m\u001b[40mInfantry\u001b[14;16H\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b[14;65H\u001b(B\u001b[0m\u001b[34m\u001b[40mHP 100% \r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;17H\u001b(B\u001b[0;7m\u001b[32m\u001b[40m.\u001b[12d\b\b...\u001b[13;15H.....\u001b[14;16H.\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b(B\u001b[0;7m\u001b[32m\u001b[40m...\u001b[15;15H\u001b(B\u001b[0;1;7m\u001b[31m\u001b[40m!\u001b(B\u001b[0;7m\u001b[32m\u001b[40m.\u001b[39;49m\u001b[37m\u001b[40m!\u001b[32m\u001b[40m..\u001b[16;16H...\u001b[18;65H\u001b(B\u001b[0;1m\u001b[34m\u001b[40mInfantry\u001b[19;65H\u001b(B\u001b[0m\u001b[34m\u001b[40mDEF +1\u001b[20;65HHP 100% \r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;65HHQ   \u001b[11d3\u001b[13;65H        \u001b[14;17H\u001b(B\u001b[0;1;7m\u001b[34m\u001b[40mi\u001b[14;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m        \r\u001b[24d\u001b[10;65HGrass\u001b[11d1\u001b[15;16H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;65H\u001b[31m\u001b[40mHQ\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[11;17H\u001b[32m\u001b[40m.\u001b[11;65H\u001b[31m\u001b[40mDEF +3\u001b[12;16H\u001b[32m\u001b[40m...\u001b[13;15H.....\u001b[14;16H.\u001b(B\u001b[0;1m\u001b[34m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m...\u001b[15;16H.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[32m\u001b[40m..\u001b[16;16H...\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;65H\u001b(B\u001b[0;1m\u001b[34m\u001b[40mInfantry\u001b[14;16H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+-------+\u001b[14;65H\u001b[34m\u001b[40mHP 100% \u001b[15;15H\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mAttack\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m |\u001b[16;16H|Capture|\u001b[17;16H|Wait   |\u001b[18;16H|Cancel |\u001b[19;16H+-------+\u001b[19;70H\u001b[34m\u001b[40m3\u001b[18;23H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[15;17HAttack\u001b[16;17H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mCapture\u001b[18d\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[12;16H+------+\u001b[12;65H\u001b[34m\u001b[40mCapturing: 50%\u001b[13;16H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[31m\u001b[40m99%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   |\u001b[13;65H        \u001b[14;23H+\u001b[32m\u001b[40m.\u001b[14;65H\u001b(B\u001b[0;1m\u001b[34m\u001b[40mInfantry\u001b[15;16H\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[32m\u001b[40m.......\u001b[15;65H\u001b[34m\u001b[40mHP 100% \u001b[16;16H\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[17;16H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m         \u001b[18;16H         \u001b[18;65H        \u001b[19;16H         \u001b[19;65H      \u001b[20;65H        \u001b[13;20H\b\b\u001b[31m\u001b[40m8%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m7%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m6%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;65HGrass\u001b[11;65HDEF +1\u001b[12;65H\u001b[14X\u001b[13;18H\u001b[31m\u001b[40m5\u001b[13;65H\u001b(B\u001b[0;1m\u001b[31m\u001b[40mInfantry\u001b[14;15H\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b[14;65H\u001b(B\u001b[0m\u001b[31m\u001b[40mHP 100% \u001b[15;15H\u001b(B\u001b[0;1m\u001b[30m\u001b[40mi\u001b[15;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m        \u001b[13;20H\b\b\u001b[31m\u001b[40m4%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m3%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m2%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m1\u001b[13;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m        \u001b[14;15H\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b[14;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m        \u001b[13;20H\b\b\u001b[31m\u001b[40m0%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\b\u001b[31m\u001b[40m89%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m8%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m7%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;65HHQ   \u001b[11d3\u001b[13;18H\u001b[31m\u001b[40m6\u001b[15d\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[13;20H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m5%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m4%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m3%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m2\u001b[14;24H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m-----+\u001b[15;18H|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mBack\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m      |\u001b[16;18H|End Turn  |\u001b[17;18H|Surrender |\u001b[18;18H|Undo\u001b[29G|\u001b[19;18H|Start Over|\u001b[20;18H+----------+\u001b[13;20H\b\b\u001b[31m\u001b[40m1%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m0%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\b\u001b[31m\u001b[40m79%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m8%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m7%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m6\u001b[15d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mBack\u001b[16;19H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn\u001b[13;20H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m5%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2;69H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40m4\u001b[3;75H\u001b(B\u001b[0m\u001b[31m\u001b[40m2\u001b[11;23H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+------------------+\u001b[12;23H|\u001b[31m\u001b[40mtstmap: Day 4\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m     |\u001b[13;18H\u001b[31m\u001b[40m4%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   |\u001b[31m\u001b[40mRamen - move out!\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m |\u001b[14;29H-------------+\u001b[15;15H\u001b(B\u001b[0;1m\u001b[34m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[16;18H...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m.\u001b[17;18H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m            \u001b[18;18H     \u001b[29G \u001b[19;18H            \u001b[20;18H            \u001b[12;37H\u001b[13;18H\u001b[31m\u001b[40m3\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;18H\u001b[31m\u001b[40m2\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;18H\u001b[31m\u001b[40m1\u001b[15d\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mBack\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m      |\u001b[16;18H|End Turn  |\u001b[17;18H|Surrender |\u001b[18;18H|Undo\u001b[29G|\u001b[19;18H|Start Over|\u001b[20;18H+----------+\u001b[12;37H\u001b[13;18H\u001b[31m\u001b[40m0\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;17H\u001b[31m\u001b[40m69\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;18H\u001b[31m\u001b[40m8\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;18H\u001b[31m\u001b[40m7\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;18H\u001b[31m\u001b[40m6\u001b[15d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mBack\u001b[16;19H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;18H\u001b[31m\u001b[40m5\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;18H\u001b[31m\u001b[40m4\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;42H-+\u001b[12;24H\u001b[34m\u001b[40mtstmap: Day 4\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m      |\u001b[13;18H\u001b[31m\u001b[40m3%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   |\u001b[34m\u001b[40mIshara - move out!\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m |\u001b[14d\b\b-+\u001b[15;18H\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[16;18H...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m.\u001b[17;18H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m            \u001b[18;18H     \u001b[29G \u001b[19;18H            \u001b[20;18H            \u001b[12;37H\u001b[13;18H\u001b[31m\u001b[40m2\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;65HGrass\u001b[11d1\u001b[13;18H\u001b[31m\u001b[40m1\u001b[15;16H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[12;37H\u001b[13;18H\u001b[31m\u001b[40m0\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;17H\u001b[31m\u001b[40m59\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;18H\u001b[31m\u001b[40m8\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;65H\u001b[31m\u001b[40mHQ\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[11;65H\u001b[31m\u001b[40mDEF +3\u001b[12;65H\u001b[34m\u001b[40mCapturing: 50%\u001b[13;18H\u001b[31m\u001b[40m7\u001b[14;65H\u001b(B\u001b[0;1m\u001b[34m\u001b[40mInfantry\u001b[15;15H\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b[15;65H\u001b[34m\u001b[40mHP 100% \u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;18H\u001b[31m\u001b[40m6\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;18H\u001b[31m\u001b[40m5\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;14H\u001b(B\u001b[0;7m\u001b[32m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[31m\u001b[40m54\u001b[14;13H\u001b(B\u001b[0;7m\u001b[32m\u001b[40m..\u001b[15;12H\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b[39;49m\u001b[37m\u001b[40m#\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b(B\u001b[0;7m\u001b[32m\u001b[40m.\u001b[39;49m\u001b[37m\u001b[40m!\u001b[32m\u001b[40m.\u001b[16;13H.....\u001b[18;65H\u001b(B\u001b[0;1m\u001b[34m\u001b[40mInfantry\u001b[19;65H\u001b(B\u001b[0m\u001b[34m\u001b[40mDEF +3\u001b[20;65HHP 100% \u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;18H\u001b[31m\u001b[40m3\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;18H\u001b[31m\u001b[40m2\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;18H\u001b[31m\u001b[40m1\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;18H\u001b[31m\u001b[40m0\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;14H\u001b[32m\u001b[40m.\u001b[14d\b\b..\u001b[15;12H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mAttack\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m |\u001b[16;13H\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|Capture|\u001b[17;16H|Wait   |\u001b[18;16H|Cancel |\u001b[19;16H+-------+\u001b[12;37H\u001b[15;17HAttack\u001b[16;17H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mCapture\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;65H\u001b[34m\u001b[40mHQ\u001b[11d\b\bDEF +3\u001b[12;23H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+\u001b[12;65H\u001b[14X\u001b[13;17H\u001b[31m\u001b[40m49\u001b[13;65H\u001b(B\u001b[0;1m\u001b[34m\u001b[40mInfantry\u001b[14;65H\u001b(B\u001b[0m\u001b[34m\u001b[40mHP 100% \u001b[15;16H\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[32m\u001b[40m.......\u001b[15;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m        \u001b[16;16H\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[17;16H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m         \u001b[18;16H         \u001b[18;65H        \u001b[19;16H         \u001b[19;65H      \u001b[20;65H        \u001b[13;20H\b\b\u001b[31m\u001b[40m8%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m7%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m6%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m5%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m4%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m3%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m2%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m1%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m0%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;65HGrass\u001b[11;65HDEF +1\u001b[13;17H\u001b[31m\u001b[40m39\u001b[13;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m        \u001b[14;65H        \u001b[15;15H\u001b(B\u001b[0;1m\u001b[30m\u001b[40mi\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[13;20H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m8%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m7%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m6%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m5%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m4%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m3%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m2%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m1%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m0%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\b\u001b[31m\u001b[40m29%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m8%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m7%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m6%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m5%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;23H\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m            \u001b[12;24H\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m     \u001b[43G \u001b[13;18H\u001b[31m\u001b[40m4%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   |\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m            \u001b[14;24H\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m            \u001b[13;20H\b\b\u001b[31m\u001b[40m3%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m2\u001b[14;24H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m----+\u001b[15;17H|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mBack\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m      |\u001b[16;17H|End Turn  |\u001b[17;17H|Surrender |\u001b[18;17H|Undo\u001b[28G|\u001b[19;17H|Start Over|\u001b[20;17H+----------+\u001b[13;20H\b\b\u001b[31m\u001b[40m1%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m0%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\b\u001b[31m\u001b[40m19%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m8%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m7\u001b[15d\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mBack\u001b[16;18H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn\u001b[13;20H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m6%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\b\b\u001b[31m\u001b[40m5%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2;69H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40m5\u001b[11;23H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+------------------+\u001b[12;23H|\u001b[31m\u001b[40mtstmap: Day 5\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m     |\u001b[13;18H\u001b[31m\u001b[40m4%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   |\u001b[31m\u001b[40mRamen - move out!\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m |\u001b[14;28H--------------+\u001b[15;15H\u001b(B\u001b[0;1m\u001b[34m\u001b[40mi\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b[16;17H....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[17;17H            \u001b[18;17H     \u001b[28G \u001b[19;17H            \u001b[20;17H            \u001b[12;37H\u001b[13;18H\u001b[31m\u001b[40m3\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;18H\u001b[31m\u001b[40m2\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;18H\u001b[31m\u001b[40m1\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;18H\u001b[31m\u001b[40m0\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;17H\u001b[31m\u001b[40m9%\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m \u001b[12;37H\u001b[13;17H\u001b[31m\u001b[40m8\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;17H\u001b[31m\u001b[40m7\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;17H\u001b[31m\u001b[40m6\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;17H\u001b[31m\u001b[40m5\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;17H\u001b[31m\u001b[40m4\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;17H\u001b[31m\u001b[40m3\u001b[15d\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mBack\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m      |\u001b[16;17H|End Turn  |\u001b[17;17H|Surrender |\u001b[18;17H|Undo\u001b[28G|\u001b[19;17H|Start Over|\u001b[20;17H+----------+\u001b[12;37H\u001b[13;17H\u001b[31m\u001b[40m2\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;17H\u001b[31m\u001b[40m1\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;17H\u001b[31m\u001b[40m0\u001b[15d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mBack\u001b[16;18H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mEnd Turn\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;74H\u001b[34m\u001b[40m$100\u001b[11;42H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m-+\u001b[12;24H\u001b[34m\u001b[40mtstmap: Day 5\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m      |\u001b[13;24H\u001b[34m\u001b[40mIshara - move out!\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m |\u001b[14d\b\b-+\u001b[15;17H!\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b[16;17H....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[17;17H            \u001b[18;17H     \u001b[28G \u001b[19;17H            \u001b[20;17H            \u001b[12;37H\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics = \u001b[32m\"sdl\"\u001b[39;49m\u001b[K\r\n\u001b[K\n        \u001b[31m# IN THE FUTURE ALL OF THIS WILL NOT EXIST                              \u001b[39;49m\r\n\u001b[A\n        \u001b[33mqdata\u001b[39;49m = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[32m\"default.json\"\u001b[39;49m)\u001b[K\r\n        \u001b[33mqdict\u001b[39;49m = json.loads(qdata)\u001b[K\r\n        \u001b[33mqdict\u001b[39;49m[\u001b[32m\"players\"\u001b[39;49m] = {\u001b[32m\"Ishara\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:1,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"b\"\u001b[39;49m},\u001b[K\r\n                            \u001b[32m\"Ramen\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:0,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"r\"\u001b[39;49m}\u001b[K\r\n                           }\u001b[K\r\n        \u001b[33mr\u001b[39;49m = rules.Rules(qdict)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g = grid.Controller(78,22,r)\u001b[K\r\n\u001b[K\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n        \u001b[31m#self.buff = widgets.Buffer(10,5)                                       \u001b[39;49m\r\n\u001b[A\n        \u001b[31m#self.buff.write(\"Hello, world!\")                                       \u001b[39;49m\r\n\u001b[A\n\u001b[K\n\u001b[K\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdisplay\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.draw(1,20,\u001b[32m\"r\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mshell.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   27% L36   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[10;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;18H\u001b[?25lmenu.draw(1,20,\u001b[32m\"r\"\u001b[39;49m)\r\n\n\u001b[K\u001b[5;5H\u001b[31m# Runs an interactive session of our game with the player until either      \u001b[39;49m\r\n\u001b[6;5H\u001b[31m# the player stops playing or an error occurs. Here, we pass input to the   \u001b[39;49m\r\n\u001b[7;5H\u001b[31m# world until we are told we don't need to anymore. If an error occurs, we  \u001b[39;49m\r\n\u001b[8;5H\u001b[31m# turn off graphics, print the traceback, and kill the program.             \u001b[39;49m\r\n\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrun\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode == \u001b[32m\"test\"\u001b[39;49m:\r\n\t    gfx.start(\u001b[32m\"testing\"\u001b[39;49m)\u001b[K\u001b[12;13Hstart = os.path.join(os.path.dirname(os.path.realpath(__file__)),\r\n\t                         \u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"tests\"\u001b[39;49m)\r\n\t    suite = unittest.TestLoader().discover(start)\u001b[K\r\n\t    unittest.TextTestRunner().run(suite)\u001b[K\u001b[16;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[18;5H    \u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    gfx.start(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\r\n\t\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\u001b[1m\u001b[36mprint\u001b[0m\u001b[39;49m(\u001b[32m\"Can't run in %d mode.\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\u001b[22;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[23;29H\u001b[7m49% L47\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mprint\u001b[0m\u001b[39;49m(\u001b[32m\"Can't run in %d mode.\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\u001b[3;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[5;5H    \u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\u001b[6;5H        c = -1\u001b[K\u001b[7;5H        gfx.clear()\u001b[K\u001b[8;5H        \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m c != \u001b[32m\"q\"\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.world.winners:\u001b[K\u001b[9;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.display()\r\n\t        \u001b[33mc\u001b[39;49m = gfx.get_input()\u001b[11;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu:\u001b[K\u001b[12;13H        \u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\u001b[K\u001b[13;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q:\u001b[K\u001b[14;13H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[15;13H    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[16;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.handle_input(c)\r\n\n\t        gfx.refresh()\r\n\t\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    gfx.stop()\n\b\b\b\btraceback.format_exc())\u001b[K\u001b[22;13Hsys.\u001b[35mexit\u001b[39;49m(-1)\u001b[23;29H\u001b[7m76% L66\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;19H\u001b[?25ltraceback.format_exc())\u001b[K\u001b[3;13Hsys.\u001b[35mexit\u001b[39;49m(-1)\r\n\n\tgfx.stop()\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L85\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;19H\u001b[?25l\u001b[32m\"Can't run in %d mode.\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\u001b[3;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\n\t\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\nc = -1\u001b[7;13Hgfx.clear()\u001b[8;13H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m c != \u001b[32m\"q\"\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.world.winners:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.display()\r\n\t\t\u001b[33mc\u001b[39;49m = gfx.get_input()\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu:\u001b[12;21H\u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\u001b[13;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q:\n\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\n\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.handle_input(c)\r\n\n\t\tgfx.refresh()\r\n\t\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\n\b\b\bgfx.stop()\u001b[21;13H\u001b[1m\u001b[36mprint\u001b[0m\u001b[39;49m(traceback.format_exc())\u001b[22;13Hsys.\u001b[35mexit\u001b[39;49m(-1)\u001b[23;29H\u001b[7m76%\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.draw(1,20,\u001b[32m\"r\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[5;5H\u001b[31m# Runs an interactive session of our game with the player until either      \u001b[39;49m\r\n\u001b[6;5H\u001b[31m# the player stops playing or an error occurs. Here, we pass input to the   \u001b[39;49m\r\n\u001b[7;5H\u001b[31m# world until we are told we don't need to anymore. If an error occurs, we  \u001b[39;49m\r\n\u001b[8;5H\u001b[31m# turn off graphics, print the traceback, and kill the program.             \u001b[39;49m\r\n\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrun\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode == \u001b[32m\"test\"\u001b[39;49m:\u001b[K\u001b[11;13Hgfx.start(\u001b[32m\"testing\"\u001b[39;49m)\u001b[12;13Hstart = os.path.join(os.path.dirname(os.path.realpath(__file__)),\u001b[13;21H             \u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"tests\"\u001b[39;49m)\u001b[14;13Hsuite = unittest.TestLoader().discover(start)\u001b[15;13Hunittest.TextTestRunner().run(suite)\u001b[16;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\n\t\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    gfx.start(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\r\n\t\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\u001b[21;19H\u001b[32m\"Can't run in %d mode.\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\u001b[22;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\u001b[23;29H\u001b[7m49% L67\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;18H\u001b[?25lgraphics = \u001b[32m\"sdl\"\u001b[39;49m\u001b[K\r\n\n\t\u001b[31m# IN THE FUTURE ALL OF THIS WILL NOT EXIST                              \u001b[39;49m\r\n\u001b[5;5H    \u001b[33mqdata\u001b[39;49m = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[32m\"default.json\"\u001b[39;49m)\u001b[K\u001b[6;5H    \u001b[33mqdict\u001b[39;49m = json.loads(qdata)\u001b[K\u001b[7;5H    \u001b[33mqdict\u001b[39;49m[\u001b[32m\"players\"\u001b[39;49m] = {\u001b[32m\"Ishara\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:1,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"b\"\u001b[39;49m},\u001b[K\u001b[8;5H                        \u001b[32m\"Ramen\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:0,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"r\"\u001b[39;49m}\u001b[K\u001b[9;5H                       }\r\n\t\u001b[33mr\u001b[39;49m = rules.Rules(qdict)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g = grid.Controller(78,22,r)\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[31m#self.buff = widgets.Buffer(10,5)                                       \u001b[39;49m\r\n\t\u001b[31m#self.buff.write(\"Hello, world!\")                                       \u001b[39;49m\r\n\u001b[K\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdisplay\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu:\u001b[21;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.draw(1,20,\u001b[32m\"r\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[23;29H\u001b[7m27% L48\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\n\u001b[?25l\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m sys\r\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m os\u001b[K\r\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m traceback\u001b[K\r\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m random\u001b[K\r\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m unittest\u001b[K\r\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m json\u001b[K\r\n\u001b[K\n\u001b[31m# A Shell represents a single instance of a game, including its maps,           \u001b[39;49m\r\n\u001b[31m# data, and everything else.                                                    \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mShell\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, *args):\r\n\u001b[K\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode = \u001b[32m\"play\"\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics = \u001b[32m\"ascii\"\u001b[39;49m\u001b[18;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"--test\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode = \u001b[32m\"test\"\u001b[39;49m\u001b[20;12H\u001b[32m\"--sdl\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args:\u001b[21;18Hgraphics = \u001b[32m\"sdl\"\u001b[39;49m\u001b[K\n\n\b\b\b\b\b\u001b[7m12% L29\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\u001b[?25l\u001b[34mSwitch to buffer (default storage.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lstorage.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrules.py\u001b[K\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Terrain\"\u001b[39;49m:\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"(None)\"\u001b[39;49m]\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\r\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit terrain\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Edit Teams\"\u001b[39;49m:\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Red\"\u001b[39;49m,\u001b[32m\"Blue\"\u001b[39;49m,\u001b[32m\"Green\"\u001b[39;49m,\u001b[32m\"Yellow\"\u001b[39;49m,\u001b[32m\"Cyan\"\u001b[39;49m,\u001b[K\r\n                            \u001b[32m\"Magenta\"\u001b[39;49m,\u001b[32m\"Done\"\u001b[39;49m]\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x,y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles_xy():\u001b[13;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y):\u001b[14;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(x,y)\r\n\t\t\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\r\n\t        \u001b[33mt.team\u001b[39;49m = \u001b[35mNone\u001b[39;49m\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams = []\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit teams\"\u001b[39;49m)\r\n\u001b[K\u001b[20;12Hopt == \u001b[32m\"Unit Rules\"\u001b[39;49m:\u001b[21;18Hchoices = []\u001b[K\u001b[22;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\u001b[23;14H\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   83% L988\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\u001b[4;13H\u001b[4@\u001b[4;29H.append(u)\u001b[K\u001b[5;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Unit)\"\u001b[39;49m)\u001b[K\u001b[6;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule unit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Terrain Rules\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[10;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[K\u001b[12;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Terrain)\"\u001b[39;49m)\u001b[13;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule terrain\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Save Map\"\u001b[39;49m:\u001b[K\u001b[16;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = {\u001b[32m\"Map Name\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m:\u001b[32m\"\"\u001b[39;49m,\u001b[32m\"type\"\u001b[39;49m:\u001b[32m\"str 15\"\u001b[39;49m}}\u001b[17;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"save map\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Back\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\u001b[K\u001b[22;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[23;30H\u001b[7m5% L997\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[3;5H\u001b[?25l\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[4;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_teams\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[6;14H\u001b[1m\u001b[36maise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.remove(opt)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Done\"\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams) == 0:\u001b[10;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(opt)\u001b[K\u001b[11;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit teams\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Done\"\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams) > 0:\u001b[13;37H\u001b[32medit\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\r\n\t    t = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_team({\u001b[32m\"name\"\u001b[39;49m:opt, \u001b[32m\"color\"\u001b[39;49m:opt[0].lower()})\u001b[16;18Hgrid.teams.append(t)\u001b[K\n\b\u001b[32medit teams\"\u001b[39;49m)\r\n\n\u001b[K\u001b[20;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[22;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\n\b\b\b\b\b\b\u001b[7m6% L1016\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[3;5H        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\u001b[K\u001b[4;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Unit)\"\u001b[39;49m)\u001b[6;14H\u001b[1m\u001b[36meturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule unit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Terrain Rules\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[10;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\u001b[11;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Terrain)\"\u001b[39;49m)\u001b[K\u001b[13;37H\u001b[32mrule terrain\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Save Map\"\u001b[39;49m:\u001b[K\u001b[16;18Hchoices = {\u001b[32m\"Map Name\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m:\u001b[32m\"\"\u001b[39;49m,\u001b[32m\"type\"\u001b[39;49m:\u001b[32m\"str 15\"\u001b[39;49m}}\u001b[17;37H\u001b[32msave map\"\u001b[39;49m)\u001b[K\r\n\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Back\"\u001b[39;49m:\u001b[20;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[22;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[23;30H\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;21r\u001b[16;1H\u001b[1L\u001b[1;24r\u001b[16;1H\u001b[K\u001b[22d\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   85% L1011\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[16;13H\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[16;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[16;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[16;13H\u001b[?25lf\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36min\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[18;1H\u001b[1L\u001b[1;24r\u001b[17;1H\u001b[K\n\u001b[?25l            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = {\u001b[32m\"Map Name\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m:\u001b[32m\"\"\u001b[39;49m,\u001b[32m\"type\"\u001b[39;49m:\u001b[32m\"str 15\"\u001b[39;49m}}\u001b[K\u001b[23;37H\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[23;37H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[15;30H\u001b[1;22r\u001b[18;1H\u001b[1L\u001b[1;24r\u001b[16;1H\u001b[K\u001b[17;13H\u001b[?25l\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\r\n\u001b[K\u001b[23;37H\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[16;13H\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\b\b\b\u001b[?25l\u001b[33mkill\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l[\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l]\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\b\b\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[16;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[16;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;37H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\r\u001b[K\t\t\u001b[1;22r\u001b[20;1H\u001b[1L\u001b[1;24r\u001b[19;1H\u001b[K\n\u001b[?25l            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = {\u001b[32m\"Map Name\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m:\u001b[32m\"\"\u001b[39;49m,\u001b[32m\"type\"\u001b[39;49m:\u001b[32m\"str 15\"\u001b[39;49m}}\u001b[K\u001b[23;37H\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\b\b\b\b\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36min\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\r\u001b[K\u001b[1;21r\u001b[19;1H\u001b[1M\u001b[1;24r\u001b[21;1H\u001b[K\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Back\"\u001b[39;49m:\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[1;22r\u001b[18;1H\u001b[1M\u001b[1;24r\u001b[16;13H\u001b[?25l\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\r\n\u001b[K\u001b[22d            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\u001b[K\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[16;38H\b\u001b[?25l[:\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l]:\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\b\b\u001b[?25l:]:\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[1;22r\u001b[18;1H\u001b[1L\u001b[1;24r\u001b[18;1H\u001b[K\u001b[23;37H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[17;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[17;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[17;17H\u001b[?25li\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\b\u001b[?25li\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\t\t\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[17;27H\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36min\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[24;1H\u001b[?25lAuto-saving...\u001b[17;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[17;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[17;30H\b\b\b\b\b\b\b\b\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@c\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\b\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[34mall\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25lall_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\b\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[19;1H\u001b[1L\u001b[1;24r\u001b[19;1H\u001b[K\u001b[23;37H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[18;21H\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[18;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[18;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;37H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\u001b[1;22r\u001b[17;1H\u001b[1L\u001b[1;24r\u001b[17;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   85% L1012\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;30H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\r\t\t\u001b[?25l\u001b[33mkill\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lT\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[35mTrue\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25lan\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\b\u001b[K\u001b[C\b\b\b\u001b[K\t\b\b\b\u001b[?25li\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\u001b[C\b\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[C\b\b\b\u001b[?25lo\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\u001b[C\b\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\b\b\b\u001b[?25l\u001b[33mkill\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lF\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25l\u001b[35mFalse\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[21;1H\u001b[1L\u001b[1;24r\u001b[21;1H\u001b[K\u001b[23;37H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[20;21H\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l\u001b[32m\"                                        \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[20;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l\u001b[32m            self.choices = {\"\u001b[39;49mMap Name\u001b[32m\": {\"\u001b[39;49mdata\u001b[32m\":\"\",\"\u001b[39;49m\u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m\u001b[32m\":\"\u001b[39;49m\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m 15\u001b[32m\"}}            \u001b[39;49m\r\n\u001b[20;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mb\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mu\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ml\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[20;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36min\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\r\n\n\u001b[?25l            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = {\u001b[32m\"Map Name\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m:\u001b[32m\"\"\u001b[39;49m,\u001b[32m\"type\"\u001b[39;49m:\u001b[32m\"str 15\"\u001b[39;49m}}\u001b[K\u001b[20;51H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\b\b\b\u001b[?25lsel\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\b\b\b\u001b[?25l\u001b[33mkill\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lF\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25l\u001b[35mFalse\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[20;77H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[20;77H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;77H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\u001b[K\u001b[20;77H\r\n\n\n\n\u001b[?25l(No changes need to be saved)\u001b[20;77H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\u001b[K\u001b[23;37H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\u001b[K\u001b[23;37H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[22;21H\r\n\n\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[22;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[22;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[22;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[K\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule terrain\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Save Map\"\u001b[39;49m:\u001b[K\u001b[5;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams[:]:\u001b[K\u001b[6;13H    \u001b[33mkill\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m c \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles():\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c.unit \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m c.unit.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m t: \u001b[33mkill\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[9;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[32m\"build\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m c.properties: \u001b[33mkill\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[10;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m kill:\u001b[K\r\n\u001b[K\n\t\t\t = {\u001b[32m\"Map Name\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m:\u001b[32m\"\"\u001b[39;49m,\u001b[32m\"type\"\u001b[39;49m:\u001b[32m\"str 15\"\u001b[39;49m}}\u001b[13;37H\u001b[32msave map\"\u001b[39;49m)\u001b[K\u001b[15;20H\u001b[32mBack\"\u001b[39;49m:\u001b[K\u001b[16;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\u001b[K\u001b[18;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_teams\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[21;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.remove(opt)\n\b\b\b\u001b[7m5% L1018\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[11;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;37H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[9;77H\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[?25l\u001b[1@ \u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;64H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@a\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[11;1H\u001b[1L\u001b[1;24r\u001b[9;64H\u001b[?25l\u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m: \u001b[33mkill\u001b[39;49m = \u001b[35mFals\u001b[39;49m\\\r\n\u001b[35me\u001b[39;49m\u001b[K\n\b                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m kill:\u001b[K\u001b[9;67H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\r\n\u001b[?25l: \u001b[33mkill\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[23;37H\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[20@\u001b[10;21H\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\t\b\u001b[1@\t\u001b[?25l\u001b[1@l\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@e\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[34mle\u001b[0m\u001b[39;49m\u001b[1@\u001b[1m\u001b[34mn\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(: kill = \u001b[35mFalse\u001b[39;49m\u001b[10;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l: \u001b[33mkill\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[10;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25lle\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\t\u001b[8P\b\b\b\b\u001b[4P\r\t\u001b[4P\b\b\b\b\u001b[4P\r\u001b[4P\u001b[9;67H\u001b[?25l: \u001b[33mkill\u001b[39;49m = \u001b[35mFals\u001b[39;49m\\\r\n\u001b[35me\u001b[39;49m\u001b[K\u001b[23;37H\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;67H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[11;1H\u001b[1M\u001b[1;24r\u001b[9;64H\u001b[?25lan: \u001b[33mkill\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m kill:\u001b[22;1H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.remove(opt)\u001b[K\u001b[9;66H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25li\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m: kill = False                     \u001b[39;49m\r\n\u001b[32m                if kill:                                                        \u001b[39;49m\r\n\u001b[9;46H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m: kill = False \u001b[39;49m\u001b[9;45H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m: kill = False \u001b[39;49m\u001b[9;44H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m: kill = False \u001b[39;49m\u001b[9;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m: kill = False \u001b[39;49m\u001b[9;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m: kill = False \u001b[39;49m\r\t\t\t\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[32m            self.choices = {\"\u001b[39;49mMap Name\u001b[32m\": {\"\u001b[39;49mdata\u001b[32m\":\"\",\"\u001b[39;49m\u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m\u001b[32m\":\"\u001b[39;49m\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m 15\u001b[32m\"}}            \u001b[39;49m\r\n\u001b[32m            return self.transition(\"\u001b[39;49msave \u001b[1m\u001b[34mmap\u001b[0m\u001b[39;49m\u001b[32m\")                                  \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[32m        if opt == \"\u001b[39;49mBack\u001b[32m\":                                                       \u001b[39;49m\r\n\u001b[32m            return self.transition(\"\u001b[39;49medit\u001b[32m\")                                      \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[32m    #                                                                           \u001b[39;49m\r\n\u001b[32m    def process_edit_teams(self, opt):                                          \u001b[39;49m\r\n\u001b[32m        if opt not in self.choices:                                             \u001b[39;49m\r\n\u001b[32m            raise Exception(\"\u001b[39;49mInvalid option.\u001b[32m\")                                  \u001b[39;49m\r\n\u001b[32m        self.choices.remove(opt)                                                \u001b[39;49m\r\n\u001b[9;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mq: kill = False\u001b[39;49m\u001b[9;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m: kill = False \u001b[39;49m\r\t\t\t\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mh: kill = False\u001b[39;49m\u001b[9;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mq: kill = False\u001b[39;49m\u001b[9;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m: \u001b[33mkill\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m kill:\u001b[K\u001b[9;44H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@ \u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@i\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mi\u001b[0m\u001b[39;49m\u001b[1@\u001b[1m\u001b[36mn\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@ \u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[K\n\u001b[?25l            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = {\u001b[32m\"Map Name\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m:\u001b[32m\"\"\u001b[39;49m,\u001b[32m\"type\"\u001b[39;49m:\u001b[32m\"str 15\"\u001b[39;49m}}\u001b[K\r\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"save map\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Back\"\u001b[39;49m:\u001b[K\r\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n    \u001b[31m#                                                                           \u001b[39;49m\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_teams\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\r\n            \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.remove(opt)\u001b[K\u001b[9;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@c\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@p\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@o\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@e\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@r\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@r\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@o\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@p\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@e\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@r\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@i\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@e\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@s\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[9;60H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[9;60H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;60H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[9;74H\u001b[23;37H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\b\b\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[11;46H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[11;46H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;46H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py \r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J+--------------------------------------------------------------+---------------+\u001b[2;1H|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..................\u001b[2;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[3;1H|\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[3;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[4;1H|#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[4;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[5;1H|\u001b[32m\u001b[40m......................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[5;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[6;1H|\u001b[32m\u001b[40m.............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m................\u001b[6;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[7;1H|\u001b[32m\u001b[40m...........................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b[7;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[8;1H|\u001b[32m\u001b[40m....................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[8;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[9;1H|\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[9;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+---------------+\u001b[10;1H|#\u001b[32m\u001b[40m.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b[10;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[11;1H|#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.................\u001b[11;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[12;1H|\u001b[32m\u001b[40m...................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[12;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[13;1H|\u001b[32m\u001b[40m.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......................\u001b[13;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[14;1H|\u001b[32m\u001b[40m.............\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[14;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[15;1H|\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#!\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[15;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[16;1H|#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m...\u001b[16;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[17;1H|\u001b[17;64H+---------------+\u001b[18;1H|\u001b[18;64H|\u001b[80G|\u001b[19;1H|\u001b[19;64H|\u001b[80G|\u001b[20;1H|\u001b[20;64H|\u001b[80G|\u001b[21;1H|\u001b[21;64H|\u001b[80G|\u001b[22;1H|\u001b[22;64H+---------------+\u001b[23;1H|\u001b[23;64H|\r\u001b[24d+--------------------------------------------------------------+\r\u001b[2;65H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mDay 1\u001b[3;65H\u001b(B\u001b[0m\u001b[31m\u001b[40mRamen       $0\u001b[4;65H\u001b[34m\u001b[40mIshara      $0\u001b[10;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mGrass\u001b[11;23H+------------------+\u001b[11;65HDEF +1\u001b[12;23H|\u001b[31m\u001b[40mtstmap: Day 1\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m     |\u001b[13;23H|\u001b[31m\u001b[40mRamen - move out!\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m |\u001b[14;23H+------------------+\u001b[12;37H\r\u001b[2d|\u001b[32m\u001b[40m.\u001b[3d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[12;37H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[3d|\u001b[32m\u001b[40m.\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[10;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mCity \u001b[11d3\u001b[12;37H\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule terrain\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Save Map\"\u001b[39;49m:\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams[:]:\u001b[K\r\n                \u001b[33mkill\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n                \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m c \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles():\u001b[K\r\n                    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c.unit \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m c.unit.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m t: \u001b[33mkill\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n                    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[32m\"hq\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m c.properties: \u001b[33mkill\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m kill:\u001b[K\r\n                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams.remove(t)\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = {\u001b[32m\"Map Name\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m:\u001b[32m\"\"\u001b[39;49m,\u001b[32m\"type\"\u001b[39;49m:\u001b[32m\"str 15\"\u001b[39;49m}}\u001b[K\r\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"save map\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Back\"\u001b[39;49m:\u001b[K\r\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n    \u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_teams\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\r\n            \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.remove(opt)\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   85% L1017 Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[11;46H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default shell.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lshell.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[K\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m sys\r\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m os\u001b[K\r\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m traceback\u001b[K\r\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m random\u001b[K\r\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m unittest\u001b[K\r\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m json\u001b[K\r\n\u001b[K\n\u001b[31m# A Shell represents a single instance of a game, including its maps,           \u001b[39;49m\r\n\u001b[31m# data, and everything else.                                                    \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mShell\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, *args):\u001b[K\r\n\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode = \u001b[32m\"play\"\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics = \u001b[32m\"ascii\"\u001b[39;49m\u001b[18;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"--test\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args:\u001b[K\u001b[19;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode = \u001b[32m\"test\"\u001b[39;49m\u001b[K\u001b[20;12H\u001b[32m\"--sdl\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args:\u001b[K\u001b[21;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics = \u001b[32m\"sdl\"\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[23;14H\u001b[7m\u001b[1mshell.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   12% L29  \u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics = \u001b[32m\"sdl\"\u001b[39;49m\r\n\u001b[K\n        \u001b[31m# IN THE FUTURE ALL OF THIS WILL NOT EXIST                              \u001b[39;49m\r\n        \u001b[33mqdata\u001b[39;49m = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[32m\"default.json\"\u001b[39;49m)\r\n        \u001b[33mqdict\u001b[39;49m = json.loads(qdata)\r\n        \u001b[33mqdict\u001b[39;49m[\u001b[32m\"players\"\u001b[39;49m] = {\u001b[32m\"Ishara\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:1,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"b\"\u001b[39;49m},\r\n                            \u001b[32m\"Ramen\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:0,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"r\"\u001b[39;49m}\u001b[9;28H}\r\n        \u001b[33mr\u001b[39;49m = rules.Rules(qdict)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g = grid.Controller(78,22,r)\u001b[K\r\n\u001b[K\u001b[13;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[31m#self.buff = widgets.Buffer(10,5)                                       \u001b[39;49m\r\n\t\u001b[31m#self.buff.write(\"Hello, world!\")                                       \u001b[39;49m\r\n\u001b[K\n\u001b[K\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdisplay\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\u001b[K\u001b[20;12H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu:\u001b[K\n\b\b\b\bmenu.draw(1,20,\u001b[32m\"r\"\u001b[39;49m)\u001b[23;29H\u001b[7m27\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;18H\u001b[?25lmenu.draw(1,20,\u001b[32m\"r\"\u001b[39;49m)\r\n\n\u001b[K\u001b[5;5H\u001b[31m# Runs an interactive session of our game with the player until either      \u001b[39;49m\r\n\u001b[6;5H\u001b[31m# the player stops playing or an error occurs. Here, we pass input to the   \u001b[39;49m\r\n\u001b[7;5H\u001b[31m# world until we are told we don't need to anymore. If an error occurs, we  \u001b[39;49m\r\n\u001b[8;5H\u001b[31m# turn off graphics, print the traceback, and kill the program.             \u001b[39;49m\r\n\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrun\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode == \u001b[32m\"test\"\u001b[39;49m:\r\n\t    gfx.start(\u001b[32m\"testing\"\u001b[39;49m)\u001b[K\u001b[12;13Hstart = os.path.join(os.path.dirname(os.path.realpath(__file__)),\r\n\t                         \u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"tests\"\u001b[39;49m)\r\n\t    suite = unittest.TestLoader().discover(start)\u001b[K\r\n\t    unittest.TextTestRunner().run(suite)\u001b[K\u001b[16;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[18;5H    \u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    gfx.start(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\r\n\t\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\u001b[1m\u001b[36mprint\u001b[0m\u001b[39;49m(\u001b[32m\"Can't run in %d mode.\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\u001b[22;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[23;29H\u001b[7m49% L47\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mprint\u001b[0m\u001b[39;49m(\u001b[32m\"Can't run in %d mode.\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\u001b[3;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[5;5H    \u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\u001b[6;5H        c = -1\u001b[K\u001b[7;5H        gfx.clear()\u001b[K\u001b[8;5H        \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m c != \u001b[32m\"q\"\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.world.winners:\u001b[K\u001b[9;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.display()\r\n\t        \u001b[33mc\u001b[39;49m = gfx.get_input()\u001b[11;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu:\u001b[K\u001b[12;13H        \u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\u001b[K\u001b[13;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q:\u001b[K\u001b[14;13H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[15;13H    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[16;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.handle_input(c)\r\n\n\t        gfx.refresh()\r\n\t\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    gfx.stop()\n\b\b\b\btraceback.format_exc())\u001b[K\u001b[22;13Hsys.\u001b[35mexit\u001b[39;49m(-1)\u001b[23;29H\u001b[7m76% L66\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.draw(1,20,\u001b[32m\"r\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[5;5H\u001b[31m# Runs an interactive session of our game with the player until either      \u001b[39;49m\r\n\u001b[6;5H\u001b[31m# the player stops playing or an error occurs. Here, we pass input to the   \u001b[39;49m\r\n\u001b[7;5H\u001b[31m# world until we are told we don't need to anymore. If an error occurs, we  \u001b[39;49m\r\n\u001b[8;5H\u001b[31m# turn off graphics, print the traceback, and kill the program.             \u001b[39;49m\r\n\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrun\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode == \u001b[32m\"test\"\u001b[39;49m:\u001b[K\u001b[11;13Hgfx.start(\u001b[32m\"testing\"\u001b[39;49m)\u001b[12;13Hstart = os.path.join(os.path.dirname(os.path.realpath(__file__)),\u001b[13;21H             \u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"tests\"\u001b[39;49m)\u001b[14;13Hsuite = unittest.TestLoader().discover(start)\u001b[15;13Hunittest.TextTestRunner().run(suite)\u001b[16;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\n\t\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    gfx.start(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\r\n\t\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\u001b[21;19H\u001b[32m\"Can't run in %d mode.\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\u001b[22;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\u001b[23;29H\u001b[7m49\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;18H\u001b[?25lgraphics = \u001b[32m\"sdl\"\u001b[39;49m\u001b[K\r\n\n\t\u001b[31m# IN THE FUTURE ALL OF THIS WILL NOT EXIST                              \u001b[39;49m\r\n\u001b[5;5H    \u001b[33mqdata\u001b[39;49m = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[32m\"default.json\"\u001b[39;49m)\u001b[K\u001b[6;5H    \u001b[33mqdict\u001b[39;49m = json.loads(qdata)\u001b[K\u001b[7;5H    \u001b[33mqdict\u001b[39;49m[\u001b[32m\"players\"\u001b[39;49m] = {\u001b[32m\"Ishara\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:1,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"b\"\u001b[39;49m},\u001b[K\u001b[8;5H                        \u001b[32m\"Ramen\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:0,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"r\"\u001b[39;49m}\u001b[K\u001b[9;5H                       }\r\n\t\u001b[33mr\u001b[39;49m = rules.Rules(qdict)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g = grid.Controller(78,22,r)\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[31m#self.buff = widgets.Buffer(10,5)                                       \u001b[39;49m\r\n\t\u001b[31m#self.buff.write(\"Hello, world!\")                                       \u001b[39;49m\r\n\u001b[K\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdisplay\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu:\u001b[21;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.draw(1,20,\u001b[32m\"r\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[23;29H\u001b[7m27% L48\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\n\u001b[?25l\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m sys\r\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m os\u001b[K\r\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m traceback\u001b[K\r\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m random\u001b[K\r\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m unittest\u001b[K\r\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m json\u001b[K\r\n\u001b[K\n\u001b[31m# A Shell represents a single instance of a game, including its maps,           \u001b[39;49m\r\n\u001b[31m# data, and everything else.                                                    \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mShell\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, *args):\r\n\u001b[K\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode = \u001b[32m\"play\"\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics = \u001b[32m\"ascii\"\u001b[39;49m\u001b[18;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"--test\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode = \u001b[32m\"test\"\u001b[39;49m\u001b[20;12H\u001b[32m\"--sdl\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args:\u001b[21;18Hgraphics = \u001b[32m\"sdl\"\u001b[39;49m\u001b[K\n\n\b\b\b\b\b\u001b[7m12% L29\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, *args):\r\n\u001b[K\n\u001b[K\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode = \u001b[32m\"play\"\u001b[39;49m\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics = \u001b[32m\"ascii\"\u001b[39;49m\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"--test\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args:\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode = \u001b[32m\"test\"\u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"--sdl\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args:\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics = \u001b[32m\"sdl\"\u001b[39;49m\u001b[K\r\n\u001b[K\n        \u001b[31m# IN THE FUTURE ALL OF THIS WILL NOT EXIST                              \u001b[39;49m\r\n\u001b[13;5H    \u001b[33mqdata\u001b[39;49m = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[32m\"default.json\"\u001b[39;49m)\r\n\t\u001b[33mqdict\u001b[39;49m = json.loads(qdata)\r\n\t\u001b[33mqdict\u001b[39;49m[\u001b[32m\"players\"\u001b[39;49m] = {\u001b[32m\"Ishara\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:1,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"b\"\u001b[39;49m},\r\n\t                    \u001b[32m\"Ramen\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:0,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"r\"\u001b[39;49m}\r\n\t                   }\u001b[K\r\n\t\u001b[33mr\u001b[39;49m = rules.Rules(qdict)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g = grid.Controller(78,22,r)\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[31m#self.buff = widgets.Buffer(10,5)                                       \u001b[39;49m\r\n\u001b[23;29H\u001b[7m20% L30\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m29\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[12;1H\u001b[1L\u001b[1;24r\u001b[12;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mshell.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   20% L29\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[11;13H\r\t\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32m\"                                                                    \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[11;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m-\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m-\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m'\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l\u001b[32m        # IN THE FUTURE ALL OF THIS WILL NOT EXIST                              \u001b[39;49m\r\n\u001b[32m        qdata = storage.read_data(\"\u001b[39;49mmaps\u001b[32m\",\"\u001b[39;49mdefault.json\u001b[32m\")                        \u001b[39;49m\r\n\u001b[32m        qdict = json.loads(qdata)                                               \u001b[39;49m\r\n\u001b[32m        qdict[\"\u001b[39;49mplayers\u001b[32m\"] = {\"\u001b[39;49mIshara\u001b[32m\":{\"\u001b[39;49mteam\u001b[32m\":1,\"\u001b[39;49mcolor\u001b[32m\":\"\u001b[39;49mb\u001b[32m\"},                    \u001b[39;49m\r\n\u001b[32m                            \"\u001b[39;49mRamen\u001b[32m\":{\"\u001b[39;49mteam\u001b[32m\":0,\"\u001b[39;49mcolor\u001b[32m\":\"\u001b[39;49mr\u001b[32m\"}                      \u001b[39;49m\r\n\u001b[32m                           }                                                    \u001b[39;49m\r\n\u001b[32m        r = rules.Rules(qdict)                                                  \u001b[39;49m\r\n\u001b[32m        self.g = grid.Controller(78,22,r)                                       \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[32m        self.menu = None                                                        \u001b[39;49m\r\n\u001b[11;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[11;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36min\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[13;1H\u001b[1L\u001b[1;24r\u001b[13;1H\u001b[K\u001b[23;34H\u001b[?25l\u001b[7m30\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;13H\r\n\n\u001b[?25l        \u001b[31m# IN THE FUTURE ALL OF THIS WILL NOT EXIST                              \u001b[39;49m\r\n        \u001b[33mqdata\u001b[39;49m = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[32m\"default.json\"\u001b[39;49m)\u001b[K\r\n        \u001b[33mqdict\u001b[39;49m = json.loads(qdata)\u001b[K\r\n        \u001b[33mqdict\u001b[39;49m[\u001b[32m\"players\"\u001b[39;49m] = {\u001b[32m\"Ishara\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:1,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"b\"\u001b[39;49m},\u001b[K\r\n                            \u001b[32m\"Ramen\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:0,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"r\"\u001b[39;49m}\u001b[K\r\n                           }\u001b[K\r\n        \u001b[33mr\u001b[39;49m = rules.Rules(qdict)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g = grid.Controller(78,22,r)\u001b[K\r\n\u001b[K\u001b[12;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lT\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[23d\u001b[7m19\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m29\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[23;29H\u001b[?25l\u001b[7m20\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[13;1H\u001b[1M\u001b[1;24r\u001b[11;13H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.edit = Truie\r\n\u001b[K\u001b[22d        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[1;22r\u001b[13;1H\u001b[1M\u001b[1;24r\u001b[12;9H\u001b[?25l\u001b[31m# IN THE FUTURE ALL OF THIS WILL NOT EXIST                              \u001b[39;49m\r\n\u001b[22d        \u001b[31m#self.buff = widgets.Buffer(10,5)                                       \u001b[39;49m\r\n\u001b[A\u001b[11d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[31m#self.buff = widgets.Buffer(10,5)                                       \u001b[39;49m\r\n\t\u001b[31m#self.buff.write(\"Hello, world!\")                                       \u001b[39;49m\r\n\u001b[K\n\u001b[K\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdisplay\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\u001b[K\u001b[9;12H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu:\u001b[K\n\b\b\b\bmenu.draw(1,20,\u001b[32m\"r\"\u001b[39;49m)\r\n\n\u001b[K\u001b[13;5H\u001b[31m# Runs an interactive session of our game with the player until either      \u001b[39;49m\r\n\u001b[14;5H\u001b[31m# the player stops playing or an error occurs. Here, we pass input to the   \u001b[39;49m\r\n\u001b[15;5H\u001b[31m# world until we are told we don't need to anymore. If an error occurs, we  \u001b[39;49m\r\n\u001b[16;5H\u001b[31m# turn off graphics, print the traceback, and kill the program.             \u001b[39;49m\r\n\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrun\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode == \u001b[32m\"test\"\u001b[39;49m:\r\n\t    gfx.start(\u001b[32m\"testing\"\u001b[39;49m)\u001b[K\u001b[20;13Hstart = os.path.join(os.path.dirname(os.path.realpath(__file__)),\r\n\t                         \u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"tests\"\u001b[39;49m)\r\n\t    \u001b[33msuite\u001b[39;49m = unittest.TestLoader().discover(start)\u001b[K\u001b[23;29H\u001b[7m42% L3\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[22;13H\u001b[?25lsuite\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m40\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m39\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics = \u001b[32m\"sdl\"\u001b[39;49m\r\n\u001b[K\u001b[4;10H\u001b[31m IN THE FUTURE ALL OF THIS WILL NOT EXIST\u001b[39;49m\r\n\t\u001b[33mqdata\u001b[39;49m = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[32m\"default.json\"\u001b[39;49m)\r\n\t\u001b[33mqdict\u001b[39;49m = json.loads(qdata)\u001b[7;5H    \u001b[33mqdict\u001b[39;49m[\u001b[32m\"players\"\u001b[39;49m] = {\u001b[32m\"Ishara\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:1,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"b\"\u001b[39;49m},\r\n\t                    \u001b[32m\"Ramen\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:0,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"r\"\u001b[39;49m}\r\n\t                   }\r\n\t\u001b[33mr\u001b[39;49m = rules.Rules(qdict)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g = grid.Controller(78,22,r)\u001b[13;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[14;5H    \u001b[31m#self.buff = widgets.Buffer(10,5)                                       \u001b[39;49m\r\n\u001b[15;5H    \u001b[31m#self.buff.write(\"Hello, world!\")                                       \u001b[39;49m\r\n\u001b[K\n\u001b[K\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdisplay\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu:\u001b[K\u001b[21;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.draw(1,20,\u001b[32m\"r\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[23;29H\u001b[7m27% L38\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m40\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m39\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m40\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lAuto-saving...\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m39\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l )\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\")                                               \u001b[39;49m\r\n\u001b[32m        self.g = grid.Controller(78,22,r)                                       \u001b[39;49m\r\n\u001b[10;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[32m        self.menu = None                                                        \u001b[39;49m\r\n\u001b[32m        #self.buff = widgets.Buffer(10,5)                                       \u001b[39;49m\r\n\u001b[32m        #self.buff.write(\"\u001b[39;49mHello, world!\u001b[32m\")                                       \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[32m    def display(self):                                                          \u001b[39;49m\r\n\u001b[32m        self.g.draw(1,1)                                                        \u001b[39;49m\r\n\u001b[32m        if self.menu:                                                           \u001b[39;49m\r\n\u001b[32m            self.menu.draw(1,20,\"\u001b[39;49mr\u001b[32m\")                                            \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[10;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m-)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m-)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32md)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mi)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g = grid.Controller(78,22,r)\u001b[K\u001b[A\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l )\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36min\u001b[0m\u001b[39;49m)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l )\u001b[23;30H\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;44H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[K\n\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n        \u001b[31m#self.buff = widgets.Buffer(10,5)                                       \u001b[39;49m\r\n        \u001b[31m#self.buff.write(\"Hello, world!\")                                       \u001b[39;49m\r\n\u001b[K\n\u001b[K\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdisplay\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.draw(1,20,\u001b[32m\"r\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[10;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/shell.py...\u001b[10;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/shell.py\u001b[K\u001b[10;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py --edit\r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J+--------------------------------------------------------------+---------------+\u001b[2;1H|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..................\u001b[2;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[3;1H|\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[3;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[4;1H|#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[4;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[5;1H|\u001b[32m\u001b[40m......................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[5;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[6;1H|\u001b[32m\u001b[40m.............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m................\u001b[6;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[7;1H|\u001b[32m\u001b[40m...........................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b[7;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[8;1H|\u001b[32m\u001b[40m....................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[8;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[9;1H|\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[9;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+---------------+\u001b[10;1H|#\u001b[32m\u001b[40m.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b[10;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[11;1H|#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.................\u001b[11;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[12;1H|\u001b[32m\u001b[40m...................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[12;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[13;1H|\u001b[32m\u001b[40m.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......................\u001b[13;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[14;1H|\u001b[32m\u001b[40m.............\u001b(B\u001b[0;1m\u001b[35m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[14;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[15;1H|\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#!\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[15;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[16;1H|#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m...\u001b[16;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[17;1H|\u001b[17;64H+---------------+\u001b[18;1H|\u001b[18;64H|\u001b[80G|\u001b[19;1H|\u001b[19;64H|\u001b[80G|\u001b[20;1H|\u001b[20;64H|\u001b[80G|\u001b[21;1H|\u001b[21;64H|\u001b[80G|\u001b[22;1H|\u001b[22;64H+---------------+\u001b[23;1H|\u001b[23;64H|\r\u001b[24d+--------------------------------------------------------------+\r\u001b[2;65H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mMap Editing\u001b[3;65H\u001b(B\u001b[0m\u001b[35m\u001b[40mMagenta     $0\u001b[4;65H\u001b[34m\u001b[40mBlue        $0\u001b[10;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mGrass\u001b[11;65HDEF +1\r\u001b[24d\u001b[2d|\u001b[32m\u001b[40m.\u001b[3d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3d|\u001b[32m\u001b[40m.\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[10;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mCity \u001b[11d3\r\u001b[24d\u001b[4d|#\u001b[5d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[10;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mGrass\u001b[11d1\r\u001b[24d\u001b[5d|\u001b[32m\u001b[40m.\u001b[6d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6d|\u001b[32m\u001b[40m.\u001b[7d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7d|\u001b[32m\u001b[40m.\u001b[8d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7;3H+-------------+\u001b[8;3H|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mRepeat\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m       |\u001b[9;3H|Place Unit   |\u001b[10;3H|Place Terrain|\u001b[11;3H|Edit Teams   |\u001b[12;3H|Unit Rules   |\u001b[13;3H|Terrain Rules|\u001b[14;3H|Save Map     |\u001b[15;3H|Back         |\u001b[16;3H+-------------+\u001b[15;8H\u001b[8;4HRepeat\u001b[9;4H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlace Unit\u001b[15;8H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[9;4HPlace Unit\u001b[10;4H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlace Terrain\u001b[15;8H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;4HPlace Terrain\u001b[11;4H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mEdit Teams\u001b[15;8H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;4H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlace Terrain\u001b[11;4H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mEdit Teams\u001b[15;8H\u001b[9;4H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlace Unit\u001b[10;4H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mPlace Terrain\u001b[15;8H\u001b[9;4HPlace Unit\u001b[10;4H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlace Terrain\u001b[15;8H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;4HPlace Terrain\u001b[11;4H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mEdit Teams\u001b[15;8H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;4HEdit Teams\u001b[12;4H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mUnit Rules\u001b[15;8H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;4H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mEdit Teams\u001b[12;4H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mUnit Rules\u001b[15;8H\u001b[3;65H\u001b[14X\u001b[4d\u001b[14X\u001b[7;11H+\u001b[32m\u001b[40m......\u001b[8;4H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mRed\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m    |\u001b[32m\u001b[40m......\u001b[9;4H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mBlue   |\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b[10;4H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mGreen  |\u001b[32m\u001b[40m......\u001b[11;4H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mYellow |\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[12;4H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mCyan   |\u001b[32m\u001b[40m......\u001b[13;4H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mMagenta|\u001b[32m\u001b[40m......\u001b[14;4H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mDone   |\u001b[32m\u001b[40m......\u001b[15;3H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+-------+#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#!\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[16;3H\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[14;8H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;65H\u001b[31m\u001b[40mRed         $0\u001b[8;4H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mBlue\u001b[9;4H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mGreen\u001b[10;4HYellow\u001b[11;4HCyan  \u001b[12;4HMagenta\u001b[13;4HDone   \u001b[14;3H+-------+\u001b[15;3H\u001b[32m\u001b[40m.........\u001b[13;8H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[8;4HBlue\u001b[9;4H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mGreen\u001b[13d\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;65H\u001b[32m\u001b[40mGreen       $0\u001b[8;4H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mBlue\u001b[9;4H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mYellow\u001b[10;4HCyan  \u001b[11;4HMagenta\u001b[12;4HDone   \u001b[13;3H+-------+\u001b[14;3H\u001b[32m\u001b[40m.........\u001b[12;8H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[8;4HBlue\u001b[9;4H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mYellow\u001b[12d\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[9;4HYellow\u001b[10;4H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mCyan\u001b[12d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;65H\u001b[36m\u001b[40mCyan        $0\u001b[8;4H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mBlue\u001b[10;4H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mMagenta\u001b[11;4HDone   \u001b[12;3H+-------+\u001b[13;3H\u001b[32m\u001b[40m......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b[11;8H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[8;4HBlue\u001b[11;4H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mDone\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7;3H\u001b[32m\u001b[40m.........\u001b[8;3H.........\u001b[9;3H...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b[10;3H.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b[11;3H...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m.\u001b[12;3H.........\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[8d|\u001b[32m\u001b[40m.\u001b[9d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[9d|\u001b[32m\u001b[40m.\u001b[10d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[10;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mCity \u001b[11d3\r\u001b[24d\u001b[10d|#\u001b[11d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;65HGrass\r\u001b[11d|#\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[11;70H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m1\r\u001b[24d\u001b[11d|#\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;4H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;5H\u001b[32m\u001b[40m.\u001b[12d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;6H+-------------+\u001b[12;6H|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mRepeat\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m       |\u001b[13;6H|Place Unit   |\u001b[14;6H|Place Terrain|\u001b[15;6H|Edit Teams   |\u001b[16;6H|Unit Rules   |\u001b[17;6H|Terrain Rules|\u001b[18;6H|Save Map     |\u001b[19;6H|Back\u001b[19;20H|\u001b[20;6H+-------------+\u001b[19;11H\u001b[12;7HRepeat\u001b[13;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlace Unit\u001b[19;11H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;7HPlace Unit\u001b[14;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlace Terrain\u001b[19;11H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;16H+\u001b[32m\u001b[40m....\u001b[12;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m(None)\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   |\u001b[32m\u001b[40m....\u001b[13;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mCity     |\u001b[32m\u001b[40m....\u001b[14;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mGrass    |\u001b[32m\u001b[40m....\u001b[15;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mHQ       |!\u001b[32m\u001b[40m...\u001b[16;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mMountains|\u001b[32m\u001b[40m....\u001b[17;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mOcean    |    \u001b[18;6H+---------+    \u001b[19;6H     \u001b[19;20H \u001b[20;6H\u001b[15X\u001b[17;12H\u001b[12;7H(None)\u001b[13;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mCity\u001b[17;12H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;7HCity\u001b[14;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mGrass\u001b[17d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;7HGrass\u001b[15;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mHQ\u001b[17;12H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11d-+#\u001b[32m\u001b[40m..\u001b[12;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m(None)\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[32m\u001b[40m...\u001b[13;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mRed   |\u001b[32m\u001b[40m...\u001b[14;9H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40meen |\u001b[32m\u001b[40m...\u001b[15;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mCyan  |#!\u001b[32m\u001b[40m.\u001b[16;6H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+------+\u001b[32m\u001b[40m...\u001b[17;6H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m           \u001b[18;6H           \u001b[15;11H\u001b[12;7H(None)\u001b[13;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mRed\u001b[15;11H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;7HRed\u001b[14;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mGreen\u001b[15d\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\b\b\b\bGreen\u001b[15;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mCyan\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;6H##\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m...\u001b[12;6H........\u001b[13;6H...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b[14;6H........\u001b[15;6H......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b[16;6H......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[12;5H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[12;6H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[12;7H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[12;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[12;6H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[12;5H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;65H\u001b[36m\u001b[40mHQ\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[11;65H\u001b[36m\u001b[40mDEF +3\u001b[12;5H\u001b(B\u001b[0;1;7m\u001b[36m\u001b[40m!\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;65HGrass\u001b[11;65HDEF +1\u001b[12;5H\u001b(B\u001b[0;1m\u001b[36m\u001b[40m!\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[12;6H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[12;7H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[12;8H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[12;9H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;11H+-------------+\u001b[12;11H|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mRepeat\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m       |\u001b[13;11H|Place Unit   |\u001b[14;11H|Place Terrain|\u001b[15;11H|Edit Teams   |\u001b[16;11H|Unit Rules   |\u001b[17;11H|Terrain Rules|\u001b[18;11H|Save Map     |\u001b[19;11H|Back\u001b[19;25H|\u001b[20;11H+-------------+\u001b[19;16H\u001b[12;12HRepeat\u001b[13;12H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlace Unit\u001b[19;16H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;21H+\u001b[32m\u001b[40m....\u001b[12;12H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m(None)\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   |\u001b[32m\u001b[40m....\u001b[13;12H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mInfantry |\u001b[32m\u001b[40m....\u001b[14;12H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mArtillery|\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[15;11H+---------+\u001b[32m\u001b[40m....\u001b[16;11H.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b[17;11H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[15X\u001b[18d\u001b[15X\u001b[19d     \u001b[19;25H \u001b[20;11H\u001b[15X\u001b[14;21H\u001b[12;12H(None)\u001b[13;12H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mInfantry\u001b[14;21H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;17H+\u001b[32m\u001b[40m....\u001b[12;12H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mRed\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m  |\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[13;12HGreen|\u001b[32m\u001b[40m....\u001b[14;12H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mCyan |\u001b[32m\u001b[40m....\u001b[15;17H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+\u001b[32m\u001b[40m....\u001b[14;16H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;11H\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b[12;10H\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.......\u001b[13;11H.......\u001b[13;65H\u001b(B\u001b[0;1m\u001b[31m\u001b[40mInfantry\u001b[14;11H\u001b(B\u001b[0m\u001b[32m\u001b[40m.......\u001b[14;65H\u001b[31m\u001b[40mHP 100% \u001b[15;11H\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#!\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m!\r\u001b[24d\u001b[12;10H\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[13;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m        \u001b[14;65H        \r\u001b[24d\u001b[12;11H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;13H+-------------+\u001b[12;13H|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mRepeat\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m       |\u001b[13;13H|Place Unit   |\u001b[14;13H|Place Terrain|\u001b[15;13H|Edit Teams   |\u001b[16;13H|Unit Rules   |\u001b[17;13H|Terrain Rules|\u001b[18;13H|Save Map     |\u001b[19;13H|Back\u001b[19;27H|\u001b[20;13H+-------------+\u001b[19;18H\u001b[12;14HRepeat\u001b[19;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mBack\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\b\b\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mSave Map\u001b[19;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mBack\u001b[4;65H\u001b[36m\u001b[40mCyan        $0\u001b[5;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14X\u001b[11;27H------------+\u001b[12;14H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mMap Name\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m        \u001b[39G|\u001b[13;13H+-------------------------+\u001b[14;13H\u001b[32m\u001b[40m............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b[15;13H.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#!\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b[16;13H........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[17;13H\u001b[15X\u001b[18d\u001b[15X\u001b[19d     \u001b[19;27H \u001b[20;13H\u001b[15X\u001b[12;24H\bf\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\bo\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\bo\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;13H\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m        \u001b[12;13H\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[39G\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m \u001b[13;13H\u001b[32m\u001b[40m...................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m        \r\u001b[24d\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py --edit\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics = \u001b[32m\"sdl\"\u001b[39;49m\u001b[K\r\n\u001b[K\n        \u001b[31m# IN THE FUTURE ALL OF THIS WILL NOT EXIST                              \u001b[39;49m\r\n\u001b[A\n        \u001b[33mqdata\u001b[39;49m = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[32m\"default.json\"\u001b[39;49m)\u001b[K\r\n        \u001b[33mqdict\u001b[39;49m = json.loads(qdata)\u001b[K\r\n        \u001b[33mqdict\u001b[39;49m[\u001b[32m\"players\"\u001b[39;49m] = {\u001b[32m\"Ishara\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:1,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"b\"\u001b[39;49m},\u001b[K\r\n                            \u001b[32m\"Ramen\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:0,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"r\"\u001b[39;49m}\u001b[K\r\n                           }\u001b[K\r\n        \u001b[33mr\u001b[39;49m = rules.Rules(qdict, \u001b[32m\"--edit\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g = grid.Controller(78,22,r)\u001b[K\r\n\u001b[K\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n        \u001b[31m#self.buff = widgets.Buffer(10,5)                                       \u001b[39;49m\r\n\u001b[A\n        \u001b[31m#self.buff.write(\"Hello, world!\")                                       \u001b[39;49m\r\n\u001b[A\n\u001b[K\n\u001b[K\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdisplay\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.draw(1,20,\u001b[32m\"r\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mshell.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   26% L36   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[10;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default rules.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrules.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lstorage.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l*scratch*\u001b[K\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mLisp-Interaction Help\u001b[0m\u001b[39;49m\u001b[27m\r\nunits exempt from terrain cover (aka flying units).\r\n\nThe arbitrary fact that defensive cover is in multiples of 10% bugs me. I\u001b[K\r\ndon't like arbitrariness, as you can imagine. But right now it isn't a big\r\ndeal. I suppose the only thing that needs to be done that I can immediately\r\nthink of is the rule editor for units. The problem is that you'll never have\r\nas much flexibility with the in-game rule-editor as you will with pure JSON\r\nediting. Perhaps that doesn't have to be a bad thing.\r\n\u001b[K\nAnother thing I'd like to bring in is the idea of \u001b[32m\"ruined\"\u001b[39;49m terrain, like,\r\na city gets hit and turns into ruins, or a plains turns into wastelands.\r\nThe problem is that the rule from one terrain to the other, both terrain must\r\nbe defined. We need some better error checking besides \u001b[32m\"indexError\"\u001b[39;49m crashes\u001b[K\r\nthe game. Like, ways to make sure that all of the units referenced in the\u001b[K\r\nJSON properties are all defined as units in the rules... terrains too.\r\n\nI suppose one thing I can do is do the team adding.\r\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;4H\u001b[7mU:**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1m*scratch*   \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L28    (Lisp Interaction) -\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[20;1H\u001b[1L\u001b[1;24r\u001b[20;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[21;1H\u001b[1L\u001b[1;24r\u001b[21;1H\u001b[K\u001b[23;34H\u001b[?25l\u001b[7m30\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;29H\u001b[?25l\u001b[7m38% L31\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lA\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;30H\u001b[?25l\u001b[7m7% L32\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25lThe problem is that the rule from one terrain to the other, both terrain must\r\nbe defined. We need some better error checking besides \u001b[32m\"indexError\"\u001b[39;49m crashes\r\nthe game. Like, ways to make sure that all of the units referenced in the\r\nJSON properties are all defined as units in the rules... terrains too.\u001b[K\r\n\u001b[K\nI suppose one thing I can do is do the team adding.\u001b[K\r\n\u001b[K\n\u001b[K\nAccomplishments so far:\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\n\u001b[K\n\n\n\u001b[K\u001b[23;29H\u001b[7mBot L33\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l*\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lP\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[13;1H\u001b[1L\u001b[1;24r\u001b[13;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l*\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lO\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\u001b[C\u001b[?25lC\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lH\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lQ\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[14;1H\u001b[1L\u001b[1;24r\u001b[14;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[C\u001b[C\b\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\u001b[1;22r\u001b[15;1H\u001b[1L\u001b[1;24r\u001b[15;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l*\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lA\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32m\"                                                                      \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[14;11H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mc\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mv\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[14;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lN\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\u001b[K\b\b\u001b[K\t\b\b\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u001b[24d\u001b[?25lEnd of buffer\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m40\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m39\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u001b[24d\u001b[?25lEnd of buffer\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u0007\u0007\u0007\u0007\u0007\u0007\u001b[24d\u001b[K\u001b[16d\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31m;\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m_\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m;\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mFile to save in: \u001b[39;49m~/Documents/rules-of-war/\u001b[1;33H\u001b[7mMinibuf Help         \u001b[0m\u001b[39;49m\u001b[27m\u001b[24;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\r\u001b[?25lQuit\u001b[K\u001b[1;33H\u001b[7mLisp-Interaction Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;49H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[16;49H\u001b[?25l\u001b[31m                                \u001b[39;49m\r\n\u001b[23;35H\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lA\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[C\b\b\u001b[K\u001b[C\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\b\u001b[K\u001b[C\b\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\u001b[K\n\u001b[?25lIt's day 19, and for once I'm at a loss for what to work on! I'm actually\u001b[K\r\nquite restless since tomorrow is the beginning of the global game jam!\u001b[K\r\nI'm the social media wizard apparently. Woohoo for me! I'll probably be\r\nstreaming my game dev for this event on Twitch.tv. (sorry if I'm a bit\r\nscattered, still responding to emails)\u001b[K\r\n\nAnyway. Let's see. The first thing I want to do is add a property that makes\r\nunits exempt from terrain cover (aka flying units).\r\n\u001b[K\nThe arbitrary fact that defensive cover is in multiples of 10% bugs me. I\u001b[K\r\ndon't like arbitrariness, as you can imagine. But right now it isn't a big\r\ndeal. I suppose the only thing that needs to be done that I can immediately\r\nthink of is the rule editor for units. The problem is that you'll never have\r\nas much flexibility with the in-game rule-editor as you will with pure JSON\u001b[K\r\nediting. Perhaps that doesn't have to be a bad thing.\r\n\u001b[K\nAnother thing I'd like to bring in is the idea of \u001b[32m\"ruined\"\u001b[39;49m terrain, like,\r\na city gets hit and turns into ruins, or a plains turns into wastelands.\r\nThe problem is that the rule from one terrain to the other, both terrain must\r\nbe defined. We need some better error checking besides \u001b[32m\"indexError\"\u001b[39;49m crashes\u001b[23;29H\u001b[7m10% L24\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25lThe problem is that the rule from one terrain to the other, both terrain must\r\nbe defined. We need some better error checking besides \u001b[32m\"indexError\"\u001b[39;49m crashes\r\nthe game. Like, ways to make sure that all of the units referenced in the\r\nJSON properties are all defined as units in the rules... terrains too.\u001b[K\r\n\u001b[K\nI suppose one thing I can do is do the team adding.\r\n\n\u001b[K\nAccomplishments so far:\u001b[K\r\n\u001b[C* Possible to add new teams and change team order in map editor.\r\n * Can only save maps where either units are deployed or there is an HQ for\r\n   each team.\u001b[K\r\n * Added \u001b[32m\"nocover\"\u001b[39;49m property for units.\u001b[K\r\n\u001b[K\nuggggh i don't wanna do the rule editooooor. \u001b[31m;_;                                \u001b[39;49m\r\n\u001b[K\nAfter working on the rule editor, the next thing to do\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m30\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[18;55H\t\b\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\u001b[K\t\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m40\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\t\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\u001b[K\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lA\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\b\u001b[K\u001b[C\b\b\u001b[K\u001b[C\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m;\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lz\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\b\u001b[K\u001b[C\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mp\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ml\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32my\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mb\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ml\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\r\n\n\u001b[?25lEnd of buffer\u001b[22;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\r\n\n\u001b[K\u001b[2d\u001b[?25l   each team.\u001b[K\r\n * Added \u001b[32m\"nocover\"\u001b[39;49m property for units.\u001b[K\r\n\u001b[K\nuggggh i don't wanna do the rule editooooor. \u001b[31m;_;                                \u001b[39;49m\r\n\nAfter working on the rule editor, the next thing to do is the main menu where\r\nyou select your maps and pick your teams. Actually, once I get that done and\r\nthe rule editor done, we'll have ourselves a first releasable version of the\r\ngame. It won't have much glitz, but it'll be \u001b[32m\"done\"\u001b[39;49m and \u001b[32m\"playable\"\u001b[39;49m for all\r\nintents and purposes.\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\n\n\u001b[K\n\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;35H\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lW\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lT\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lj\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lA\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25lY\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l?\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lL\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lT\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lq\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lS\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m50\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\n\u001b[?25lYou know what? Let's work on that part. The main menu. I don't want to make\r\na rule editor quite yet.\r\n\u001b[K\nSo the main menu should look as follows:\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\n\u001b[K\n\u001b[K\n\n\u001b[K\u001b[23;35H\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[C\u001b[?25lR\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lU\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lL\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lE\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lS\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lO\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lF\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lW\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lA\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lR\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[?25l>\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lV\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lM\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[10;1H\u001b[1L\u001b[1;24r\u001b[10;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[?25l>\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lE\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lM\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l/\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lR\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[11;1H\u001b[1L\u001b[1;24r\u001b[11;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[?25l>\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lQ\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[12;1H\u001b[1L\u001b[1;24r\u001b[12;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l\u001b[34mFile to save in: \u001b[39;49m~/Documents/rules-of-war/\u001b[1;33H\u001b[7mMinibuf Help         \u001b[0m\u001b[39;49m\u001b[27m\u001b[24;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\r\u001b[?25lQuit\u001b[K\u001b[1;33H\u001b[7mLisp-Interaction Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\t\b\u001b[1;22r\u001b[12;1H\u001b[1L\u001b[1;24r\u001b[12;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[13;1H\u001b[1L\u001b[1;24r\u001b[13;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lC\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[C\b\b\u001b[K\b\b\u001b[K\t\b\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[C\b\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[C\b\b\u001b[K\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[C\b\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[C\b\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[C\b\b\u001b[K\b\b\u001b[K\u001b[C\b\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\t\b\b\u001b[K\t\b\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[C\b\u001b[C\b\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lW\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[14;1H\u001b[1L\u001b[1;24r\u001b[14;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l/\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"                                                            \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[13;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\u001b[K\r\n\u001b[K\u001b[13;20H\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\b\u001b[K\b\b\u001b[K\u001b[C\b\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[C\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lW\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lH\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\t\b\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[15;1H\u001b[1L\u001b[1;24r\u001b[15;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\t\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[16;1H\u001b[1L\u001b[1;24r\u001b[16;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\u001b[23;35H\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;68H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[15;11H\u001b[?25l.\u001b[23;35H\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;12H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[17;1H\u001b[1L\u001b[1;24r\u001b[17;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[18;1H\u001b[1L\u001b[1;24r\u001b[18;1H\u001b[K\u001b[23;34H\u001b[?25l\u001b[7m60\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lT\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\b\u001b[K\u001b[C\b\u001b[C\b\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\b\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\b\u001b[K\u001b[C\b\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lT\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[19;1H\u001b[1L\u001b[1;24r\u001b[19;1H\u001b[K\u001b[23;29H\u001b[?25l\u001b[7m80% L61\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;29H\u001b[?25l\u001b[7m79\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[23;30H\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;54H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\b\u001b[K\u001b[C\b\u001b[1;22r\u001b[20;1H\u001b[1L\u001b[1;24r\u001b[20;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[?25l\u001b[34mFile to save in: \u001b[39;49m~/Documents/rules-of-war/\u001b[1;33H\u001b[7mMinibuf Help         \u001b[0m\u001b[39;49m\u001b[27m\u001b[24;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\r\u001b[?25lQuit\u001b[K\u001b[1;33H\u001b[7mLisp-Interaction Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[K\u001b[19;17H\r\n\n\n\n\n\u001b[?25lC-x\u001b[19;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;4H\u001b[?25l-\u001b[19;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;4H\u001b[?25l b\u001b[19;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[?25l\u001b[34mSwitch to buffer (default shell.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help         \u001b[0m\u001b[39;49m\u001b[27m\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lshell.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[2;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics = \u001b[32m\"sdl\"\u001b[39;49m\r\n\u001b[K\n        \u001b[31m# IN THE FUTURE ALL OF THIS WILL NOT EXIST                              \u001b[39;49m\r\n\t\u001b[33mqdata\u001b[39;49m = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[32m\"default.json\"\u001b[39;49m)\r\n        \u001b[33mqdict\u001b[39;49m = json.loads(qdata)\u001b[K\r\n\t\u001b[33mqdict\u001b[39;49m[\u001b[32m\"players\"\u001b[39;49m] = {\u001b[32m\"Ishara\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:1,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"b\"\u001b[39;49m},\u001b[8;4H                         \u001b[32m\"Ramen\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:0,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"r\"\u001b[39;49m}\u001b[9;26H  }\u001b[K\r\n\t\u001b[33mr\u001b[39;49m = rules.Rules(qdict, \u001b[32m\"--edit\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g = grid.Controller(78,22,r)\r\n\u001b[K\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n        \u001b[31m#self.buff = widgets.Buffer(10,5)                                       \u001b[39;49m\r\n        \u001b[31m#self.buff.write(\"Hello, world!\")                                       \u001b[39;49m\r\n\n\u001b[K\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdisplay\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu:\u001b[21;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.draw(1,20,\u001b[32m\"r\"\u001b[39;49m)\u001b[23;4H\u001b[7m-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mshell.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   26% L36   Git:master  (Python) \u001b[0m\u001b[39;49m\u001b[27m\u001b[10;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\u001b[K\n\u001b[?25l\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m sys\r\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m os\u001b[K\r\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m traceback\u001b[K\r\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m random\u001b[K\r\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m unittest\u001b[K\r\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m json\u001b[K\r\n\u001b[K\n\u001b[31m# A Shell represents a single instance of a game, including its maps,           \u001b[39;49m\r\n\u001b[31m# data, and everything else.                                                    \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mShell\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, *args):\r\n\u001b[K\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode = \u001b[32m\"play\"\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics = \u001b[32m\"ascii\"\u001b[39;49m\u001b[18;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"--test\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode = \u001b[32m\"test\"\u001b[39;49m\u001b[20;12H\u001b[32m\"--sdl\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args:\u001b[21;18Hgraphics = \u001b[32m\"sdl\"\u001b[39;49m\u001b[K\n\n\b\b\b\b\b\u001b[7m12% L29\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, *args):\r\n\u001b[K\n\u001b[K\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode = \u001b[32m\"play\"\u001b[39;49m\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics = \u001b[32m\"ascii\"\u001b[39;49m\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"--test\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args:\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode = \u001b[32m\"test\"\u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"--sdl\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args:\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics = \u001b[32m\"sdl\"\u001b[39;49m\u001b[K\r\n\u001b[K\n        \u001b[31m# IN THE FUTURE ALL OF THIS WILL NOT EXIST                              \u001b[39;49m\r\n\u001b[13;5H    \u001b[33mqdata\u001b[39;49m = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[32m\"default.json\"\u001b[39;49m)\r\n\t\u001b[33mqdict\u001b[39;49m = json.loads(qdata)\r\n\t\u001b[33mqdict\u001b[39;49m[\u001b[32m\"players\"\u001b[39;49m] = {\u001b[32m\"Ishara\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:1,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"b\"\u001b[39;49m},\r\n\t                    \u001b[32m\"Ramen\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:0,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"r\"\u001b[39;49m}\r\n\t                   }\u001b[K\r\n\t\u001b[33mr\u001b[39;49m = rules.Rules(qdict, \u001b[32m\"--edit\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g = grid.Controller(78,22,r)\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[31m#self.buff = widgets.Buffer(10,5)                                       \u001b[39;49m\r\n\u001b[23;29H\u001b[7m20% L30\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m40\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[33mqdata\u001b[39;49m = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[32m\"default.json\"\u001b[39;49m)\r\n\t\u001b[33mqdict\u001b[39;49m = json.loads(qdata)\r\n\t\u001b[33mqdict\u001b[39;49m[\u001b[32m\"players\"\u001b[39;49m] = {\u001b[32m\"Ishara\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:1,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"b\"\u001b[39;49m},\r\n\t                    \u001b[32m\"Ramen\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:0,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"r\"\u001b[39;49m}\r\n\t                   }\u001b[K\r\n\t\u001b[33mr\u001b[39;49m = rules.Rules(qdict, \u001b[32m\"--edit\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g = grid.Controller(78,22,r)\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[31m#self.buff = widgets.Buffer(10,5)                                       \u001b[39;49m\r\n\t\u001b[C\u001b[31mself.buff.write(\"Hello, world!\")         \u001b[39;49m\r\n\u001b[K\n\u001b[K\u001b[15;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdisplay\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.draw(1,20,\u001b[32m\"r\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[21;5H\u001b[31m# Runs an interactive session of our game with the player until either      \u001b[39;49m\r\n\u001b[22;5H\u001b[31m# the player stops playing or an error occurs. Here, we pass input to the   \u001b[39;49m\r\n\u001b[23;29H\u001b[7m30% L41\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m50\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\n\u001b[K\u001b[4;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdisplay\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.draw(1,20,\u001b[32m\"r\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[10;5H\u001b[31m# Runs an interactive session of our game with the player until either      \u001b[39;49m\r\n\u001b[11;5H\u001b[31m# the player stops playing or an error occurs. Here, we pass input to the   \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# world until we are told we don't need to anymore. If an error occurs, we  \u001b[39;49m\r\n\u001b[13;5H\u001b[31m# turn off graphics, print the traceback, and kill the program.             \u001b[39;49m\r\n\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrun\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[15;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode == \u001b[32m\"test\"\u001b[39;49m:\r\n\t    gfx.start(\u001b[32m\"testing\"\u001b[39;49m)\r\n\t    start = os.path.join(os.path.dirname(os.path.realpath(__file__)),\u001b[18;13H                     \u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"tests\"\u001b[39;49m)\u001b[19;13Hsuite = unittest.TestLoader().discover(start)\u001b[20;13Hunittest.TextTestRunner().run(suite)\u001b[21;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[23;29H\u001b[7m46% L52\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m49\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[8;1H\u001b[1M\u001b[1;24r\u001b[6;13H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.draw(1,20,\u001b[32m\"r\"\u001b[39;49m)\r\n\u001b[K\u001b[22d        \u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[23;30H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[8;1H\u001b[1M\u001b[1;24r\u001b[22;1H\u001b[?25l            gfx.start(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\u001b[K\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[17;13H\u001b[?25l\u001b[33msuite\u001b[39;49m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\ngfx.start(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\u001b[4;5H    \u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mprint\u001b[0m\u001b[39;49m(\u001b[32m\"Can't run in %d mode.\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\u001b[6;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[8;5H    \u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\u001b[9;5H        \u001b[33mc\u001b[39;49m = -1\u001b[K\u001b[10;5H        gfx.clear()\u001b[K\u001b[11;5H        \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m c != \u001b[32m\"q\"\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.world.winners:\u001b[K\u001b[12;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.display()\r\n\t        \u001b[33mc\u001b[39;49m = gfx.get_input()\u001b[14;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu:\u001b[K\u001b[15;13H        \u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\u001b[K\u001b[16;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q:\u001b[K\u001b[17;13H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[18;13H    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[19;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.handle_input(c)\r\n\n\t        gfx.refresh()\r\n\t\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\u001b[23;29H\u001b[7m74% L61\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lAuto-saving...\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;34H\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;31H\b\b\b\b\b\b\b\b\b\u001b[?25l\u001b[1@g\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@.\u001b[23;30H\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ldisplay()\r\t\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@a\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@r\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@a\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@w\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@U\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@)\u001b[23;34H\u001b[7m69\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;29H\u001b[?25l\u001b[1@(\r\n\t\tc\u001b[23;34H\u001b[7m71\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[15;21H\u001b[?25lq\u001b[12;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\r\n\t\t\u001b[33mc\u001b[39;49m\u001b[12;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[15;21H\u001b[?25l\u001b[33mq\u001b[39;49m\u001b[12;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@(\r\n\t\tc\u001b[12;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@1\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@1\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@,\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@1\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@)\r\n\t\t\u001b[33mc\u001b[39;49m\u001b[12;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lisplay()\u001b[K\r\t\t\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lsplay()\u001b[K\r\t\t\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lplay()\u001b[K\r\t\t\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25llay()\u001b[K\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lay()\u001b[K\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly()\u001b[K\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l()\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/shell.py...\u001b[12;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/shell.py\u001b[K\u001b[12;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[?25l\u001b[1P\u001b[23;6H\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mshell.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   74\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lq\u001b[32m\" and not self.g.world.winners:                              \u001b[39;49m\r\n\u001b[32m                self.g.draw(1,1)                                                \u001b[39;49m\r\n\u001b[11;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\" and not self.g.world.winners: \u001b[39;49m\u001b[11;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.world.winners:\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\u001b[K\u001b[11;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lnd\u001b[1P\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/shell.py...\u001b[11;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/shell.py\u001b[K\u001b[11;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[2d\u001b[K\n\u001b[K\u001b[4;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdisplay\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\u001b[K\r\n\u001b[K\u001b[8;5H\u001b[31m# Runs an interactive session of our game with the player until either      \u001b[39;49m\r\n\u001b[9;5H\u001b[31m# the player stops playing or an error occurs. Here, we pass input to the   \u001b[39;49m\r\n\u001b[10;5H\u001b[31m# world until we are told we don't need to anymore. If an error occurs, we  \u001b[39;49m\r\n\u001b[11;5H\u001b[31m# turn off graphics, print the traceback, and kill the program.             \u001b[39;49m\r\n\u001b[12;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrun\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode == \u001b[32m\"test\"\u001b[39;49m:\u001b[K\u001b[14;13Hgfx.start(\u001b[32m\"testing\"\u001b[39;49m)\u001b[15;13Hstart = os.path.join(os.path.dirname(os.path.realpath(__file__)),\u001b[16;21H             \u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"tests\"\u001b[39;49m)\u001b[17;13H\u001b[33msuite\u001b[39;49m = unittest.TestLoader().discover(start)\u001b[18;13Hunittest.TextTestRunner().run(suite)\u001b[19;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\n\t\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    gfx.start(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\u001b[23;29H\u001b[7m47% L62\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode = \u001b[32m\"play\"\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics = \u001b[32m\"ascii\"\u001b[39;49m\u001b[4;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"--test\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode = \u001b[32m\"test\"\u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"--sdl\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args:\u001b[7;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics = \u001b[32m\"sdl\"\u001b[39;49m\r\n\u001b[K\u001b[9;5H    \u001b[31m# IN THE FUTURE ALL OF THIS WILL NOT EXIST                              \u001b[39;49m\r\n\u001b[10;5H    \u001b[33mqdata\u001b[39;49m = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[32m\"default.json\"\u001b[39;49m)\u001b[K\u001b[11;5H    \u001b[33mqdict\u001b[39;49m = json.loads(qdata)\u001b[K\u001b[12;5H    \u001b[33mqdict\u001b[39;49m[\u001b[32m\"players\"\u001b[39;49m] = {\u001b[32m\"Ishara\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:1,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"b\"\u001b[39;49m},\r\n\t                    \u001b[32m\"Ramen\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:0,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"r\"\u001b[39;49m}\u001b[14;13H               }\u001b[K\r\n\t\u001b[33mr\u001b[39;49m = rules.Rules(qdict, \u001b[32m\"--edit\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g = grid.Controller(78,22,r)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[31m#self.buff = widgets.Buffer(10,5)                                       \u001b[39;49m\r\n\t\u001b[31m#self.buff.write(\"Hello, world!\")                                       \u001b[39;49m\r\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7m22% L43\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\n\u001b[K\u001b[4;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdisplay\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\u001b[K\r\n\u001b[K\n\u001b[K\u001b[8;5H\u001b[31m# Runs an interactive session of our game with the player until either      \u001b[39;49m\r\n\u001b[9;5H\u001b[31m# the player stops playing or an error occurs. Here, we pass input to the   \u001b[39;49m\r\n\u001b[10;5H\u001b[31m# world until we are told we don't need to anymore. If an error occurs, we  \u001b[39;49m\r\n\u001b[11;5H\u001b[31m# turn off graphics, print the traceback, and kill the program.             \u001b[39;49m\r\n\u001b[12;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrun\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode == \u001b[32m\"test\"\u001b[39;49m:\u001b[K\u001b[14;13Hgfx.start(\u001b[32m\"testing\"\u001b[39;49m)\r\n\t    start = os.path.join(os.path.dirname(os.path.realpath(__file__)),\r\n\t                         \u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"tests\"\u001b[39;49m)\u001b[17;13H\u001b[33msuite\u001b[39;49m = unittest.TestLoader().discover(start)\r\n\t    unittest.TextTestRunner().run(suite)\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\ngfx.start(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\u001b[23;29H\u001b[7m47\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[3;1H\u001b[1M\u001b[1;24r\u001b[22;1H\u001b[?25l        \u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[23;30H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[5;1H\u001b[1M\u001b[1;24r\u001b[3;9H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\r\n\u001b[K\u001b[22d            \u001b[1m\u001b[36mprint\u001b[0m\u001b[39;49m(\u001b[32m\"Can't run in %d mode.\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\u001b[K\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[1;22r\u001b[5;1H\u001b[1M\u001b[1;24r\u001b[22;1H\u001b[?25l            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[5;1H\u001b[1M\u001b[1;24r\u001b[4;5H\u001b[?25l\u001b[31m# Runs an interactive session of our game with the player until either      \u001b[39;49m\r\n\u001b[22d\u001b[K\u001b[3d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[5;1H\u001b[1M\u001b[1;24r\u001b[3;5H\u001b[?25l\u001b[31m# Runs an interactive session of our game with the player until either      \u001b[39;49m\r\n\t\b\b\u001b[31mthe player stops playing or an error occurs. Here, we pass input to the\u001b[39;49m\u001b[22;1H        \u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/shell.py...\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/shell.py\u001b[K\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;13H\u001b[?25lsuite\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m50\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m60\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25lunittest.TextTestRunner().run(suite)\u001b[3;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[5;5H    \u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\u001b[6;5H        gfx.start(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\u001b[K\u001b[7;5H    \u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mprint\u001b[0m\u001b[39;49m(\u001b[32m\"Can't run in %d mode.\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\u001b[9;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\n\u001b[33mc\u001b[39;49m = -1\u001b[K\n\b\b\b\b\b\bgfx.clear()\u001b[K\u001b[14;13H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.world.winners:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\r\n\t        \u001b[33mc\u001b[39;49m = gfx.get_input()\u001b[17;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu:\u001b[K\r\n\t            \u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\u001b[19;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q:\u001b[K\u001b[20;13H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.handle_input(c)\u001b[23;29H\u001b[7m71% L63\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25lgfx.clear()\u001b[K\u001b[3;13H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.world.winners:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\r\n\t        \u001b[33mc\u001b[39;49m = gfx.get_input()\u001b[6;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu:\u001b[K\r\n\t            \u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\u001b[8;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q:\u001b[K\u001b[9;13H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.handle_input(c)\r\n\u001b[K\u001b[13;13H    gfx.refresh()\r\n\t\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\bgfx.stop()\u001b[K\u001b[16;13H\u001b[1m\u001b[36mprint\u001b[0m\u001b[39;49m(traceback.format_exc())\u001b[17;13Hsys.\u001b[35mexit\u001b[39;49m(-1)\u001b[K\r\n\u001b[K\n\tgfx.stop()\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L74\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m69\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25lunittest.TextTestRunner().run(suite)\u001b[3;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\ngfx.start(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\r\n\t\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\u001b[1m\u001b[36mprint\u001b[0m\u001b[39;49m(\u001b[32m\"Can't run in %d mode.\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\u001b[9;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\n\u001b[33mc\u001b[39;49m = -1\n\b\b\b\b\b\bgfx.clear()\u001b[K\r\n\t    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.world.winners:\u001b[15;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\u001b[16;13H    \u001b[33mc\u001b[39;49m = gfx.get_input()\u001b[K\u001b[17;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu:\u001b[18;21H\u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q:\n\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\n\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.handle_input(c)\u001b[23;29H\u001b[7m71% L63\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\b\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[22;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m69\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l                \u001b[32m\"Ramen\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:0,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"r\"\u001b[39;49m}\u001b[3;13H               }\r\n\t\u001b[33mr\u001b[39;49m = rules.Rules(qdict, \u001b[32m\"--edit\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g = grid.Controller(78,22,r)\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\r\n\t\u001b[31m#self.buff = widgets.Buffer(10,5)                                       \u001b[39;49m\r\n\t\u001b[31m#self.buff.write(\"Hello, world!\")                                       \u001b[39;49m\r\n\u001b[11;5H\u001b[31m# Runs an interactive session of our game with the player until either      \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# the player stops playing or an error occurs. Here, we pass input to the   \u001b[39;49m\r\n\u001b[13;5H\u001b[31m# world until we are told we don't need to anymore. If an error occurs, we  \u001b[39;49m\r\n\u001b[14;5H\u001b[31m# turn off graphics, print the traceback, and kill the program.             \u001b[39;49m\r\n\u001b[15;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrun\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode == \u001b[32m\"test\"\u001b[39;49m:\u001b[K\u001b[17;13Hgfx.start(\u001b[32m\"testing\"\u001b[39;49m)\u001b[18;13Hstart = os.path.join(os.path.dirname(os.path.realpath(__file__)),\u001b[19;21H             \u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"tests\"\u001b[39;49m)\u001b[20;13Hsuite = unittest.TestLoader().discover(start)\u001b[21;13Hunittest.TextTestRunner().run(suite)\u001b[22;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\u001b[23;29H\u001b[7m37% L5\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25lunittest.TextTestRunner().run(suite)\u001b[K\u001b[3;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\ngfx.start(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\r\n\t\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mprint\u001b[0m\u001b[39;49m(\u001b[32m\"Can't run in %d mode.\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\u001b[11;5H    \u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\u001b[12;5H        \u001b[33mc\u001b[39;49m = -1\u001b[K\u001b[13;5H        gfx.clear()\u001b[K\u001b[14;5H        \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.world.winners:\u001b[K\u001b[15;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\r\n\t        \u001b[33mc\u001b[39;49m = gfx.get_input()\u001b[17;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu:\u001b[K\u001b[18;13H        \u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\u001b[K\u001b[19;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q:\u001b[K\u001b[20;13H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[21;13H    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[22;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.handle_input(c)\u001b[23;29H\u001b[7m71\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l                \u001b[32m\"Ramen\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:0,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"r\"\u001b[39;49m}\u001b[3;13H               }\r\n\t\u001b[33mr\u001b[39;49m = rules.Rules(qdict, \u001b[32m\"--edit\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g = grid.Controller(78,22,r)\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\r\n\t\u001b[31m#self.buff = widgets.Buffer(10,5)                                       \u001b[39;49m\r\n\t\u001b[31m#self.buff.write(\"Hello, world!\")                                       \u001b[39;49m\r\n\u001b[11;5H\u001b[31m# Runs an interactive session of our game with the player until either      \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# the player stops playing or an error occurs. Here, we pass input to the   \u001b[39;49m\r\n\u001b[13;5H\u001b[31m# world until we are told we don't need to anymore. If an error occurs, we  \u001b[39;49m\r\n\u001b[14;5H\u001b[31m# turn off graphics, print the traceback, and kill the program.             \u001b[39;49m\r\n\u001b[15;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrun\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode == \u001b[32m\"test\"\u001b[39;49m:\u001b[K\u001b[17;13Hgfx.start(\u001b[32m\"testing\"\u001b[39;49m)\u001b[18;13Hstart = os.path.join(os.path.dirname(os.path.realpath(__file__)),\u001b[19;21H             \u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"tests\"\u001b[39;49m)\u001b[20;13Hsuite = unittest.TestLoader().discover(start)\u001b[21;13Hunittest.TextTestRunner().run(suite)\u001b[22;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\u001b[23;29H\u001b[7m37% L54\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m json\u001b[K\r\n\u001b[K\n\u001b[31m# A Shell represents a single instance of a game, including its maps,           \u001b[39;49m\r\n\u001b[31m# data, and everything else.                                                    \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mShell\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, *args):\r\n\u001b[K\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode = \u001b[32m\"play\"\u001b[39;49m\u001b[11;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics = \u001b[32m\"ascii\"\u001b[39;49m\u001b[K\u001b[12;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"--test\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args:\u001b[K\u001b[13;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode = \u001b[32m\"test\"\u001b[39;49m\u001b[K\u001b[14;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"--sdl\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args:\u001b[K\u001b[15;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics = \u001b[32m\"sdl\"\u001b[39;49m\r\n\u001b[K\n\t\u001b[31m# IN THE FUTURE ALL OF THIS WILL NOT EXIST                              \u001b[39;49m\r\n\t\u001b[33mqdata\u001b[39;49m = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[32m\"default.json\"\u001b[39;49m)\u001b[K\r\n\t\u001b[33mqdict\u001b[39;49m = json.loads(qdata)\u001b[K\r\n\t\u001b[33mqdict\u001b[39;49m[\u001b[32m\"players\"\u001b[39;49m] = {\u001b[32m\"Ishara\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:1,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"b\"\u001b[39;49m},\u001b[21;13H                \u001b[32m\"Ramen\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:0,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"r\"\u001b[39;49m}\u001b[22;13H               }\n\u001b[7m16% L35\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m29\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[23;30H\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lN\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[35mNone\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/shell.py...\u001b[9;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/shell.py\u001b[K\u001b[9;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[2d\u001b[?25l                            \u001b[32m\"Ramen\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:0,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"r\"\u001b[39;49m}\u001b[3;28H}\r\n        \u001b[33mr\u001b[39;49m = rules.Rules(qdict, \u001b[32m\"--edit\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g = grid.Controller(78,22,r)\u001b[K\r\n\u001b[K\u001b[7;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[31m#self.buff = widgets.Buffer(10,5)                                       \u001b[39;49m\r\n\t\u001b[31m#self.buff.write(\"Hello, world!\")                                       \u001b[39;49m\r\n\u001b[K\u001b[11;5H\u001b[31m# Runs an interactive session of our game with the player until either      \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# the player stops playing or an error occurs. Here, we pass input to the   \u001b[39;49m\r\n\u001b[13;5H\u001b[31m# world until we are told we don't need to anymore. If an error occurs, we  \u001b[39;49m\r\n\u001b[14;5H\u001b[31m# turn off graphics, print the traceback, and kill the program.             \u001b[39;49m\r\n\u001b[15;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrun\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode == \u001b[32m\"test\"\u001b[39;49m:\r\n\t    gfx.start(\u001b[32m\"testing\"\u001b[39;49m)\u001b[K\r\n\t    start = os.path.join(os.path.dirname(os.path.realpath(__file__)),\r\n\t                         \u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"tests\"\u001b[39;49m)\r\n\t    suite = unittest.TestLoader().discover(start)\u001b[K\u001b[21;13Hunittest.TextTestRunner().run(suite)\u001b[K\u001b[22;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\u001b[23;29H\u001b[7m38% L34\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25lunittest.TextTestRunner().run(suite)\u001b[K\u001b[3;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\ngfx.start(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\r\n\t\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mprint\u001b[0m\u001b[39;49m(\u001b[32m\"Can't run in %d mode.\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\u001b[11;5H    \u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\u001b[12;5H        \u001b[33mc\u001b[39;49m = -1\u001b[K\u001b[13;5H        gfx.clear()\u001b[K\u001b[14;5H        \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.world.winners:\u001b[K\u001b[15;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\r\n\t        \u001b[33mc\u001b[39;49m = gfx.get_input()\u001b[17;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu:\u001b[K\u001b[18;13H        \u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\u001b[K\u001b[19;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q:\u001b[K\u001b[20;13H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[21;13H    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[22;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.handle_input(c)\u001b[23;29H\u001b[7m71% L53\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m60\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\b\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[16;36H\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[18d\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\n\n\b\b\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[20d\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\b\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25lgfx.clear()\u001b[K\u001b[3;13H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.world.winners:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\r\n\t        \u001b[33mc\u001b[39;49m = gfx.get_input()\u001b[6;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu:\u001b[K\r\n\t            \u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\u001b[8;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q:\u001b[K\u001b[9;13H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.handle_input(c)\r\n\u001b[K\u001b[13;13H    gfx.refresh()\r\n\t\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\bgfx.stop()\u001b[K\u001b[16;13H\u001b[1m\u001b[36mprint\u001b[0m\u001b[39;49m(traceback.format_exc())\u001b[17;13Hsys.\u001b[35mexit\u001b[39;49m(-1)\u001b[K\r\n\u001b[K\n\tgfx.stop()\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L74\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[11d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[9d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m69\u001b[0m\u001b[39;49m\u001b[27m\u001b[7d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[5d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[3d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[2;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25lunittest.TextTestRunner().run(suite)\u001b[3;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\ngfx.start(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\r\n\t\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\u001b[1m\u001b[36mprint\u001b[0m\u001b[39;49m(\u001b[32m\"Can't run in %d mode.\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\u001b[9;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\n\u001b[33mc\u001b[39;49m = -1\n\b\b\b\b\b\bgfx.clear()\u001b[K\r\n\t    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.world.winners:\u001b[15;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\u001b[16;13H    \u001b[33mc\u001b[39;49m = gfx.get_input()\u001b[K\u001b[17;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu:\u001b[18;21H\u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q:\n\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\n\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.handle_input(c)\u001b[23;29H\u001b[7m71% L63\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[14d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[16d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[18d\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\n\n\b\b\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[20d\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\b\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25lgfx.clear()\u001b[K\u001b[3;13H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.world.winners:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\r\n\t        \u001b[33mc\u001b[39;49m = gfx.get_input()\u001b[6;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu:\u001b[K\r\n\t            \u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\u001b[8;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q:\u001b[K\u001b[9;13H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.handle_input(c)\r\n\u001b[K\u001b[13;13H    gfx.refresh()\r\n\t\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\bgfx.stop()\u001b[K\u001b[16;13H\u001b[1m\u001b[36mprint\u001b[0m\u001b[39;49m(traceback.format_exc())\u001b[17;13Hsys.\u001b[35mexit\u001b[39;49m(-1)\u001b[K\r\n\u001b[K\n\tgfx.stop()\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L74\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[11d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[9d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m69\u001b[0m\u001b[39;49m\u001b[27m\u001b[7d\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[23d\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l:\u001b[K\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l:\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l:\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l:\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf:\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l:\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg:\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\r\u001b[K\t\t\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\u001b[1;22r\u001b[11;1H\u001b[1L\u001b[1;24r\u001b[10;1H\u001b[K\n\u001b[?25l                \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[23;35H\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lMark set\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[10d\u001b[24@\t\t\t\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\t\t\t\u001b[1;22r\u001b[11;1H\u001b[1M\u001b[1;24r\u001b[9;49H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\r\n\t\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[22;1H\u001b[K\u001b[9;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\t\t\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[23;34H\u001b[?25l\u001b[7m69\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[1;22r\u001b[9;1H\u001b[1M\u001b[1;24r\u001b[7;21H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q:\n\b\b\b\b\b                            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\u001b[22;1H\u001b[K\u001b[7d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[1;22r\u001b[9;1H\u001b[1M\u001b[1;24r\u001b[7;49H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\r\n\t\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[22;1H\u001b[K\u001b[7d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[7;48H\u001b[1P\r\u001b[7;47H\u001b[1P\r\u001b[7;46H\u001b[1P\r\u001b[7;45H\u001b[1P\r\u001b[7;44H\u001b[1P\r\u001b[7;43H\u001b[1P\r\u001b[7;42H\u001b[1P\r\t\t\t\t\t\u001b[1P\r\u001b[7;40H\u001b[1P\r\u001b[7;39H\u001b[1P\r\u001b[7;38H\u001b[1P\r\u001b[7;37H\u001b[1P\r\u001b[7;36H\u001b[1P\r\u001b[7;35H\u001b[1P\r\u001b[7;34H\u001b[1P\r\t\t\t\t\u001b[1P\r\t\t\t\t\b\u001b[1P\r\u001b[7;31H\u001b[1P\r\u001b[7;30H\u001b[1P\r\u001b[7;29H\u001b[1P\r\u001b[7;28H\u001b[1P\r\u001b[7;27H\u001b[1P\r\u001b[7;26H\u001b[1P\r\t\t\t\u001b[1P\r\t\t\t\b\u001b[1P\r\u001b[7;23H\u001b[1P\r\u001b[7;22H\u001b[1P\r\u001b[7;21H\u001b[1P\r\u001b[23;34H\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lAuto-saving...\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;34H\u001b[?25l\u001b[7m69\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[9;1H\u001b[1L\u001b[1;24r\u001b[7;1H\u001b[K\n\t\t\u001b[?25l    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\r\n                \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[23;34H\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m69\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lMark set\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[7;21H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.handle_input(c)\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;34H\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[9;21H\r\t\t\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lCloses \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g:\u001b[9;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[2;5H\u001b[?25l\u001b[31m# world until we are told we don't need to anymore. If an error occurs, we  \u001b[39;49m\r\n\u001b[3;5H\u001b[31m# turn off graphics, print the traceback, and kill the program.             \u001b[39;49m\r\n\u001b[4;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrun\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode == \u001b[32m\"test\"\u001b[39;49m:\u001b[K\u001b[6;13Hgfx.start(\u001b[32m\"testing\"\u001b[39;49m)\u001b[7;13Hstart = os.path.join(os.path.dirname(os.path.realpath(__file__)),\u001b[8;21H             \u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"tests\"\u001b[39;49m)\u001b[9;13Hsuite = unittest.TestLoader().discover(start)\u001b[10;13Hunittest.TextTestRunner().run(suite)\u001b[11;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\r\n\u001b[K\n\t\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\u001b[14;19Hart(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\r\n\t\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\u001b[1m\u001b[36mprint\u001b[0m\u001b[39;49m(\u001b[32m\"Can't run in %d mode.\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\u001b[17;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\r\n\u001b[K\n\t\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\n\u001b[33mc\u001b[39;49m = -1\n\b\b\b\b\b\bgfx.clear()\u001b[22;13H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.world.winners:\u001b[23;29H\u001b[7m57% L65\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode = \u001b[32m\"test\"\u001b[39;49m\u001b[K\u001b[3;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"--sdl\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args:\u001b[K\u001b[4;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics = \u001b[32m\"sdl\"\u001b[39;49m\r\n\u001b[K\n\t\u001b[31m# IN THE FUTURE ALL OF THIS WILL NOT EXIST                              \u001b[39;49m\r\n\t\u001b[33mqdata\u001b[39;49m = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[32m\"default.json\"\u001b[39;49m)\u001b[K\r\n\t\u001b[33mqdict\u001b[39;49m = json.loads(qdata)\u001b[K\r\n\t\u001b[33mqdict\u001b[39;49m[\u001b[32m\"players\"\u001b[39;49m] = {\u001b[32m\"Ishara\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:1,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"b\"\u001b[39;49m},\u001b[10;13H                \u001b[32m\"Ramen\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:0,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"r\"\u001b[39;49m}\u001b[11;13H               }\r\n\t\u001b[33mr\u001b[39;49m = rules.Rules(qdict, \u001b[32m\"--edit\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g = grid.Controller(78,22,r)\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\r\n\t\u001b[31m#self.buff = widgets.Buffer(10,5)                                       \u001b[39;49m\r\n\t\u001b[31m#self.buff.write(\"Hello, world!\")                                       \u001b[39;49m\r\n\u001b[19;5H\u001b[31m# Runs an interactive session of our game with the player until either      \u001b[39;49m\r\n\u001b[20;5H\u001b[31m# the player stops playing or an error occurs. Here, we pass input to the   \u001b[39;49m\r\n\u001b[21;5H\u001b[31m# world until we are told we don't need to anymore. If an error occurs, we  \u001b[39;49m\r\n\u001b[22;5H\u001b[31m# turn off graphics, print the traceback, and kill the program.             \u001b[39;49m\r\n\u001b[23;29H\u001b[7m27% L46\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m# world until we are told we don't need to anymore. If an error occurs, we  \u001b[39;49m\r\n\u001b[3;5H\u001b[31m# turn off graphics, print the traceback, and kill the program.             \u001b[39;49m\r\n\u001b[4;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrun\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode == \u001b[32m\"test\"\u001b[39;49m:\r\n\t    gfx.start(\u001b[32m\"testing\"\u001b[39;49m)\u001b[K\r\n\t    start = os.path.join(os.path.dirname(os.path.realpath(__file__)),\r\n\t                         \u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"tests\"\u001b[39;49m)\r\n\t    suite = unittest.TestLoader().discover(start)\u001b[K\u001b[10;13Hunittest.TextTestRunner().run(suite)\u001b[K\u001b[11;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\ngfx.start(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\r\n\t\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mprint\u001b[0m\u001b[39;49m(\u001b[32m\"Can't run in %d mode.\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\u001b[19;5H    \u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\u001b[20;5H        \u001b[33mc\u001b[39;49m = -1\u001b[K\u001b[21;5H        gfx.clear()\u001b[K\u001b[22;5H        \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.world.winners:\u001b[K\u001b[23;29H\u001b[7m57% L45\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l        gfx.clear()\u001b[K\u001b[3;5H        \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.world.winners:\u001b[K\r\n\u001b[K\n\t        \u001b[33mc\u001b[39;49m = gfx.get_input()\u001b[6;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g:\u001b[K\u001b[7;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.handle_input(c)\u001b[K\u001b[8;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\u001b[K\u001b[9;13H    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\u001b[K\n\u001b[K\n\t\tgfx.refresh()\r\n\t\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[14;19Hop()\u001b[K\r\n\t    \u001b[1m\u001b[36mprint\u001b[0m\u001b[39;49m(traceback.format_exc())\u001b[16;13Hsys.\u001b[35mexit\u001b[39;49m(-1)\u001b[K\r\n\u001b[K\n\tgfx.stop()\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L64\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25lunittest.TextTestRunner().run(suite)\u001b[3;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\n\t\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\ngfx.start(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\r\n\t\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\u001b[1m\u001b[36mprint\u001b[0m\u001b[39;49m(\u001b[32m\"Can't run in %d mode.\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\u001b[9;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\n\t\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\n\u001b[33mc\u001b[39;49m = -1\u001b[K\r\n\t    gfx.clear()\u001b[14;13H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.world.winners:\r\n\u001b[K\u001b[16;13H    \u001b[33mc\u001b[39;49m = gfx.get_input()\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g:\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.handle_input(c)\u001b[19;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\r\n\t\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[23;29H\u001b[7m74% L63\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l                \u001b[32m\"Ramen\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:0,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"r\"\u001b[39;49m}\u001b[3;13H               }\r\n\t\u001b[33mr\u001b[39;49m = rules.Rules(qdict, \u001b[32m\"--edit\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g = grid.Controller(78,22,r)\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\r\n\t\u001b[31m#self.buff = widgets.Buffer(10,5)                                       \u001b[39;49m\r\n\t\u001b[31m#self.buff.write(\"Hello, world!\")                                       \u001b[39;49m\r\n\u001b[11;5H\u001b[31m# Runs an interactive session of our game with the player until either      \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# the player stops playing or an error occurs. Here, we pass input to the   \u001b[39;49m\r\n\u001b[13;5H\u001b[31m# world until we are told we don't need to anymore. If an error occurs, we  \u001b[39;49m\r\n\u001b[14;5H\u001b[31m# turn off graphics, print the traceback, and kill the program.             \u001b[39;49m\r\n\u001b[15;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrun\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode == \u001b[32m\"test\"\u001b[39;49m:\u001b[K\u001b[17;13Hgfx.start(\u001b[32m\"testing\"\u001b[39;49m)\u001b[18;13Hstart = os.path.join(os.path.dirname(os.path.realpath(__file__)),\u001b[19;21H             \u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"tests\"\u001b[39;49m)\u001b[20;13Hsuite = unittest.TestLoader().discover(start)\u001b[21;13Hunittest.TextTestRunner().run(suite)\u001b[22;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[23;29H\u001b[7m39% L54\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m# world until we are told we don't need to anymore. If an error occurs, we  \u001b[39;49m\r\n\u001b[3;5H\u001b[31m# turn off graphics, print the traceback, and kill the program.             \u001b[39;49m\r\n\u001b[4;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrun\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode == \u001b[32m\"test\"\u001b[39;49m:\u001b[K\u001b[6;13Hgfx.start(\u001b[32m\"testing\"\u001b[39;49m)\r\n\t    start = os.path.join(os.path.dirname(os.path.realpath(__file__)),\r\n\t                         \u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"tests\"\u001b[39;49m)\u001b[K\r\n\t    suite = unittest.TestLoader().discover(start)\u001b[K\u001b[10;13Hunittest.TextTestRunner().run(suite)\u001b[11;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[13;5H    \u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\u001b[14;5H        gfx.start(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\u001b[K\u001b[15;5H    \u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mprint\u001b[0m\u001b[39;49m(\u001b[32m\"Can't run in %d mode.\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\u001b[17;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\n\u001b[33mc\u001b[39;49m = -1\u001b[K\n\b\b\b\b\b\bgfx.clear()\u001b[K\u001b[22;13H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.world.winners:\u001b[23;29H\u001b[7m57% L55\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/shell.py...\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/shell.py\u001b[K\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[13d\u001b[24d\u001b[?25l(No changes need to be saved)\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m60\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\u001b[3;5H        gfx.start(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\u001b[K\u001b[4;5H    \u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mprint\u001b[0m\u001b[39;49m(\u001b[32m\"Can't run in %d mode.\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\u001b[6;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\n\u001b[33mc\u001b[39;49m = -1\u001b[K\n\b\b\b\b\b\bgfx.clear()\u001b[K\u001b[11;13H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.world.winners:\r\n\n\t        \u001b[33mc\u001b[39;49m = gfx.get_input()\u001b[14;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g:\u001b[K\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.handle_input(c)\u001b[16;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\u001b[K\u001b[17;13H    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\r\n\n\u001b[K\u001b[20;13H    gfx.refresh()\r\n\t\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\bgfx.stop()\u001b[K\u001b[23;29H\u001b[7m76% L66\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\t\t\u001b[?25lgfx.refresh()\r\n\t\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    gfx.stop()\u001b[22;13H\u001b[1m\u001b[36mprint\u001b[0m\u001b[39;49m(traceback.format_exc())\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[20;1H\u001b[1M\u001b[1;24r\u001b[18;17H\u001b[?25lgfx.refresh()\r\n\t\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\r\n\n\n            sys.\u001b[35mexit\u001b[39;49m(-1)\u001b[K\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/shell.py...\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/shell.py\u001b[K\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\u001b[K\n\t\u001b[?25l        gfx.refresh()\r\n\t\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\bgfx.stop()\u001b[K\u001b[22;13H\u001b[1m\u001b[36mprint\u001b[0m\u001b[39;49m(traceback.format_exc())\u001b[23;6H\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mshell.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   76% L72\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/shell.py...\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/shell.py\u001b[K\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m69\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[17;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[17;22H\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[17;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[17;21H\b\u001b[C\r\t\t\u001b[?25lels:\u001b[K\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l:\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li:\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m:\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[1;22r\u001b[19;1H\u001b[1L\u001b[1;24r\u001b[19;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[19;1H\u001b[1M\u001b[1;24r\u001b[22;1H\u001b[?25l            \u001b[1m\u001b[36mprint\u001b[0m\u001b[39;49m(traceback.format_exc())\u001b[K\u001b[23;35H\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lCloses \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g:\u001b[17;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[19;1H\u001b[1L\u001b[1;24r\u001b[24;1H\u001b[K\u001b[19d\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[18;21H\u001b[?25ls\u001b[23;30H\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[18;43H\u001b[1;22r\u001b[20;1H\u001b[1L\u001b[1;24r\u001b[20;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;30H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l1\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l1\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[19;37H\r\n\n\n\n\n\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/shell.py...\u001b[19;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/shell.py\u001b[K\u001b[19;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\n\n\b\b\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\b\b\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g = grid.Controller(78,22,r)\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\r\n\t\u001b[31m#self.buff = widgets.Buffer(10,5)                                       \u001b[39;49m\r\n\t\u001b[31m#self.buff.write(\"Hello, world!\")                                       \u001b[39;49m\r\n\u001b[8;5H\u001b[31m# Runs an interactive session of our game with the player until either      \u001b[39;49m\r\n\u001b[9;5H\u001b[31m# the player stops playing or an error occurs. Here, we pass input to the   \u001b[39;49m\r\n\u001b[10;5H\u001b[31m# world until we are told we don't need to anymore. If an error occurs, we  \u001b[39;49m\r\n\u001b[11;5H\u001b[31m# turn off graphics, print the traceback, and kill the program.             \u001b[39;49m\r\n\u001b[12;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrun\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode == \u001b[32m\"test\"\u001b[39;49m:\u001b[K\u001b[14;13Hgfx.start(\u001b[32m\"testing\"\u001b[39;49m)\u001b[15;13Hstart = os.path.join(os.path.dirname(os.path.realpath(__file__)),\u001b[16;21H             \u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"tests\"\u001b[39;49m)\u001b[17;13Hsuite = unittest.TestLoader().discover(start)\u001b[18;13Hunittest.TextTestRunner().run(suite)\u001b[19;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\n\t\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    gfx.start(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\u001b[23;29H\u001b[7m43% L57\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m49\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m39\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[2;1H\u001b[11L\u001b[1;24r\u001b[2;1H\u001b[?25l            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode = \u001b[32m\"test\"\u001b[39;49m\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"--sdl\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics = \u001b[32m\"sdl\"\u001b[39;49m\u001b[K\r\n\u001b[K\n        \u001b[31m# IN THE FUTURE ALL OF THIS WILL NOT EXIST                              \u001b[39;49m\r\n\u001b[A\n        \u001b[33mqdata\u001b[39;49m = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[32m\"default.json\"\u001b[39;49m)\u001b[K\r\n        \u001b[33mqdict\u001b[39;49m = json.loads(qdata)\u001b[K\r\n        \u001b[33mqdict\u001b[39;49m[\u001b[32m\"players\"\u001b[39;49m] = {\u001b[32m\"Ishara\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:1,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"b\"\u001b[39;49m},\u001b[K\r\n                            \u001b[32m\"Ramen\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:0,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"r\"\u001b[39;49m}\u001b[K\r\n                           }\u001b[K\r\n        \u001b[33mr\u001b[39;49m = rules.Rules(qdict, \u001b[32m\"--edit\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args)\u001b[K\u001b[23;29H\u001b[7m26% L36\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m40\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m39\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[16;1H\u001b[1L\u001b[1;24r\u001b[16;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mshell.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   26% L40\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lN\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[35mNone\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/shell.py...\u001b[16;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/shell.py\u001b[K\u001b[16;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[2;5H\u001b[?25l\u001b[31m# the player stops playing or an error occurs. Here, we pass input to the   \u001b[39;49m\r\n\u001b[3;5H\u001b[31m# world until we are told we don't need to anymore. If an error occurs, we  \u001b[39;49m\r\n\u001b[4;5H\u001b[31m# turn off graphics, print the traceback, and kill the program.             \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrun\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode == \u001b[32m\"test\"\u001b[39;49m:\u001b[K\r\n\t    gfx.start(\u001b[32m\"testing\"\u001b[39;49m)\u001b[K\r\n\t    start = os.path.join(os.path.dirname(os.path.realpath(__file__)),\r\n\t                         \u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"tests\"\u001b[39;49m)\u001b[K\u001b[10;13H\u001b[33msuite\u001b[39;49m = unittest.TestLoader().discover(start)\u001b[K\u001b[11;13Hunittest.TextTestRunner().run(suite)\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\r\n\t    gfx.start(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\r\n\t\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mprint\u001b[0m\u001b[39;49m(\u001b[32m\"Can't run in %d mode.\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\u001b[20;5H    \u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\u001b[21;5H        \u001b[33mc\u001b[39;49m = -1\u001b[K\u001b[22;5H        gfx.clear()\u001b[K\u001b[23;29H\u001b[7m52% L45\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[10;13H\u001b[?25lsuite\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l        \u001b[33mc\u001b[39;49m = -1\u001b[K\u001b[3;5H        gfx.clear()\u001b[K\u001b[4;5H        \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.world.winners:\u001b[K\r\n\u001b[K\n\t        \u001b[33mc\u001b[39;49m = gfx.get_input()\u001b[7;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g:\u001b[K\u001b[8;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.handle_input(c)\u001b[K\u001b[9;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\u001b[K\u001b[10;13H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m:\u001b[K\u001b[11;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m.handle_input(c)\u001b[K\u001b[12;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m.draw(1,1)\r\n\n\t        gfx.refresh()\r\n\t\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    gfx.stop()\n\b\b\b\btraceback.format_exc())\u001b[K\u001b[18;13Hsys.\u001b[35mexit\u001b[39;49m(-1)\r\n\n\tgfx.stop()\r\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L64\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[?25lqsel\u001b[1@f\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l \u001b[1m\u001b[36msel\u001b[0m\u001b[39;49m\u001b[1@\u001b[1m\u001b[36mf\u001b[0m\u001b[39;49m\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[33mq\u001b[39;49m \u001b[1@=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@ \u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;37H\u001b[1;22r\u001b[14;1H\u001b[1L\u001b[1;24r\u001b[14;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[15;1H\u001b[1L\u001b[1;24r\u001b[15;1H\u001b[K\u001b[23;29H\u001b[?25l\u001b[7m80% L76\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[14;21H\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[23;29H\u001b[7m79\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[33mm\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[33mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[33md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[33me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25lmode\u001b[1@,\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\u001b[?25l\u001b[33mmode\u001b[39;49m,\u001b[1@\u001b[33md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[33mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[33mc\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[34mdic\u001b[0m\u001b[39;49m\u001b[1@\u001b[1m\u001b[34mt\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25l\u001b[33mdic\u001b[39;49m\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[33ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[33mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[33ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m# the player stops playing or an error occurs. Here, we pass input to the   \u001b[39;49m\r\n\u001b[3;5H\u001b[31m# world until we are told we don't need to anymore. If an error occurs, we  \u001b[39;49m\r\n\u001b[4;5H\u001b[31m# turn off graphics, print the traceback, and kill the program.             \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrun\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode == \u001b[32m\"test\"\u001b[39;49m:\u001b[K\u001b[7;13Hgfx.start(\u001b[32m\"testing\"\u001b[39;49m)\u001b[8;13Hstart = os.path.join(os.path.dirname(os.path.realpath(__file__)),\u001b[9;21H             \u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"tests\"\u001b[39;49m)\u001b[10;13Hsuite = unittest.TestLoader().discover(start)\u001b[11;13Hunittest.TextTestRunner().run(suite)\u001b[K\u001b[12;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\n\t\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\ngfx.start(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\r\n\t\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mprint\u001b[0m\u001b[39;49m(\u001b[32m\"Can't run in %d mode.\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\u001b[18;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\n\u001b[33mc\u001b[39;49m = -1\r\n\t    gfx.clear()\u001b[23;29H\u001b[7m52% L65\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode = \u001b[32m\"test\"\u001b[39;49m\u001b[K\u001b[3;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"--sdl\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args:\u001b[K\u001b[4;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics = \u001b[32m\"sdl\"\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[31m# IN THE FUTURE ALL OF THIS WILL NOT EXIST                              \u001b[39;49m\r\n\t\u001b[33mqdata\u001b[39;49m = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[32m\"default.json\"\u001b[39;49m)\r\n\t\u001b[33mqdict\u001b[39;49m = json.loads(qdata)\u001b[K\r\n\t\u001b[33mqdict\u001b[39;49m[\u001b[32m\"players\"\u001b[39;49m] = {\u001b[32m\"Ishara\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:1,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"b\"\u001b[39;49m},\u001b[10;13H                \u001b[32m\"Ramen\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:0,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"r\"\u001b[39;49m}\u001b[11;13H               }\u001b[K\r\n\t\u001b[33mr\u001b[39;49m = rules.Rules(qdict, \u001b[32m\"--edit\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g = grid.Controller(78,22,r)\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m = \u001b[35mNone\u001b[39;49m\r\n\t\u001b[31m#self.buff = widgets.Buffer(10,5)                                       \u001b[39;49m\r\n\t\u001b[31m#self.buff.write(\"Hello, world!\")                                       \u001b[39;49m\r\n\u001b[20;5H\u001b[31m# Runs an interactive session of our game with the player until either      \u001b[39;49m\r\n\u001b[21;5H\u001b[31m# the player stops playing or an error occurs. Here, we pass input to the   \u001b[39;49m\r\n\u001b[22;5H\u001b[31m# world until we are told we don't need to anymore. If an error occurs, we  \u001b[39;49m\r\n\u001b[23;29H\u001b[7m26% L46\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m# the player stops playing or an error occurs. Here, we pass input to the   \u001b[39;49m\r\n\u001b[3;5H\u001b[31m# world until we are told we don't need to anymore. If an error occurs, we  \u001b[39;49m\r\n\u001b[4;5H\u001b[31m# turn off graphics, print the traceback, and kill the program.             \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrun\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode == \u001b[32m\"test\"\u001b[39;49m:\u001b[K\r\n\t    gfx.start(\u001b[32m\"testing\"\u001b[39;49m)\u001b[K\r\n\t    start = os.path.join(os.path.dirname(os.path.realpath(__file__)),\r\n\t                         \u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"tests\"\u001b[39;49m)\u001b[K\u001b[10;13Hsuite = unittest.TestLoader().discover(start)\u001b[K\u001b[11;13Hunittest.TextTestRunner().run(suite)\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\r\n\t    gfx.start(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\r\n\t\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mprint\u001b[0m\u001b[39;49m(\u001b[32m\"Can't run in %d mode.\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\u001b[20;5H    \u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\u001b[21;5H        \u001b[33mc\u001b[39;49m = -1\u001b[K\u001b[22;5H        gfx.clear()\u001b[K\u001b[23;29H\u001b[7m52\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l        \u001b[33mc\u001b[39;49m = -1\u001b[K\u001b[3;5H        gfx.clear()\u001b[K\u001b[4;5H        \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.world.winners:\u001b[K\r\n\u001b[K\n\t        \u001b[33mc\u001b[39;49m = gfx.get_input()\u001b[7;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g:\u001b[K\u001b[8;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.handle_input(c)\u001b[K\u001b[9;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\u001b[K\u001b[10;13H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m:\u001b[K\u001b[11;13H        \u001b[33mmode\u001b[39;49m,\u001b[33mdata\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m.handle_input(c)\u001b[12;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m.draw(1,1)\r\n\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\r\n\u001b[K\n\t        gfx.refresh()\r\n\t\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\bgfx.stop()\u001b[19;13H\u001b[1m\u001b[36mprint\u001b[0m\u001b[39;49m(traceback.format_exc())\r\n\t    sys.\u001b[35mexit\u001b[39;49m(-1)\r\n\u001b[K\n\tgfx.stop()\u001b[K\u001b[23;29H\u001b[7m79% L64\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m# the player stops playing or an error occurs. Here, we pass input to the   \u001b[39;49m\r\n\u001b[3;5H\u001b[31m# world until we are told we don't need to anymore. If an error occurs, we  \u001b[39;49m\r\n\u001b[4;5H\u001b[31m# turn off graphics, print the traceback, and kill the program.             \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrun\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode == \u001b[32m\"test\"\u001b[39;49m:\u001b[K\u001b[7;13Hgfx.start(\u001b[32m\"testing\"\u001b[39;49m)\u001b[8;13Hstart = os.path.join(os.path.dirname(os.path.realpath(__file__)),\u001b[9;21H             \u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"tests\"\u001b[39;49m)\u001b[10;13Hsuite = unittest.TestLoader().discover(start)\u001b[11;13Hunittest.TextTestRunner().run(suite)\u001b[K\u001b[12;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\n\t\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\ngfx.start(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\r\n\t\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mprint\u001b[0m\u001b[39;49m(\u001b[32m\"Can't run in %d mode.\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\u001b[18;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\n\u001b[33mc\u001b[39;49m = -1\r\n\t    gfx.clear()\u001b[23;29H\u001b[7m52% L65\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode = \u001b[32m\"test\"\u001b[39;49m\u001b[K\u001b[3;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"--sdl\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args:\u001b[K\u001b[4;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics = \u001b[32m\"sdl\"\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[31m# IN THE FUTURE ALL OF THIS WILL NOT EXIST                              \u001b[39;49m\r\n\t\u001b[33mqdata\u001b[39;49m = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[32m\"default.json\"\u001b[39;49m)\r\n\t\u001b[33mqdict\u001b[39;49m = json.loads(qdata)\u001b[K\r\n\t\u001b[33mqdict\u001b[39;49m[\u001b[32m\"players\"\u001b[39;49m] = {\u001b[32m\"Ishara\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:1,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"b\"\u001b[39;49m},\u001b[10;13H                \u001b[32m\"Ramen\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:0,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"r\"\u001b[39;49m}\u001b[11;13H               }\u001b[K\r\n\t\u001b[33mr\u001b[39;49m = rules.Rules(qdict, \u001b[32m\"--edit\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g = grid.Controller(78,22,r)\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m = \u001b[35mNone\u001b[39;49m\r\n\t\u001b[31m#self.buff = widgets.Buffer(10,5)                                       \u001b[39;49m\r\n\t\u001b[31m#self.buff.write(\"Hello, world!\")                                       \u001b[39;49m\r\n\u001b[20;5H\u001b[31m# Runs an interactive session of our game with the player until either      \u001b[39;49m\r\n\u001b[21;5H\u001b[31m# the player stops playing or an error occurs. Here, we pass input to the   \u001b[39;49m\r\n\u001b[22;5H\u001b[31m# world until we are told we don't need to anymore. If an error occurs, we  \u001b[39;49m\r\n\u001b[23;29H\u001b[7m26% L46\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m# the player stops playing or an error occurs. Here, we pass input to the   \u001b[39;49m\r\n\u001b[3;5H\u001b[31m# world until we are told we don't need to anymore. If an error occurs, we  \u001b[39;49m\r\n\u001b[4;5H\u001b[31m# turn off graphics, print the traceback, and kill the program.             \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrun\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode == \u001b[32m\"test\"\u001b[39;49m:\u001b[K\r\n\t    gfx.start(\u001b[32m\"testing\"\u001b[39;49m)\u001b[K\r\n\t    start = os.path.join(os.path.dirname(os.path.realpath(__file__)),\r\n\t                         \u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"tests\"\u001b[39;49m)\u001b[K\u001b[10;13Hsuite = unittest.TestLoader().discover(start)\u001b[K\u001b[11;13Hunittest.TextTestRunner().run(suite)\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\r\n\t    gfx.start(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\r\n\t\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mprint\u001b[0m\u001b[39;49m(\u001b[32m\"Can't run in %d mode.\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\u001b[20;5H    \u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\u001b[21;5H        \u001b[33mc\u001b[39;49m = -1\u001b[K\u001b[22;5H        gfx.clear()\u001b[K\u001b[23;29H\u001b[7m52\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l        \u001b[33mc\u001b[39;49m = -1\u001b[K\u001b[3;5H        gfx.clear()\u001b[K\u001b[4;5H        \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.world.winners:\u001b[K\r\n\u001b[K\n\t        \u001b[33mc\u001b[39;49m = gfx.get_input()\u001b[7;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g:\u001b[K\u001b[8;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.handle_input(c)\u001b[K\u001b[9;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\u001b[K\u001b[10;13H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m:\u001b[K\u001b[11;13H        \u001b[33mmode\u001b[39;49m,\u001b[33mdata\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m.handle_input(c)\u001b[12;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m.draw(1,1)\r\n\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\r\n\u001b[K\n\t        gfx.refresh()\r\n\t\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\bgfx.stop()\u001b[19;13H\u001b[1m\u001b[36mprint\u001b[0m\u001b[39;49m(traceback.format_exc())\r\n\t    sys.\u001b[35mexit\u001b[39;49m(-1)\r\n\u001b[K\n\tgfx.stop()\u001b[K\u001b[23;29H\u001b[7m79% L64\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\b\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[C\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[16;1H\u001b[1L\u001b[1;24r\u001b[16;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;30H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[23;30H\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[33mq\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\t\b\u001b[?25lata:\u001b[K\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lta:\u001b[K\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la:\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lq:\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[1;22r\u001b[16;1H\u001b[1L\u001b[1;24r\u001b[16;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;30H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\r\t\t\t\u001b[?25l\u001b[33mmode\u001b[39;49m,\u001b[33mdata\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lq\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[17;1H\u001b[1L\u001b[1;24r\u001b[17;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;30H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m# the player stops playing or an error occurs. Here, we pass input to the   \u001b[39;49m\r\n\u001b[3;5H\u001b[31m# world until we are told we don't need to anymore. If an error occurs, we  \u001b[39;49m\r\n\u001b[4;5H\u001b[31m# turn off graphics, print the traceback, and kill the program.             \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrun\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode == \u001b[32m\"test\"\u001b[39;49m:\u001b[K\u001b[7;13Hgfx.start(\u001b[32m\"testing\"\u001b[39;49m)\u001b[8;13Hstart = os.path.join(os.path.dirname(os.path.realpath(__file__)),\u001b[9;21H             \u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"tests\"\u001b[39;49m)\u001b[10;13Hsuite = unittest.TestLoader().discover(start)\u001b[11;13Hunittest.TextTestRunner().run(suite)\u001b[12;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\n\t\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\ngfx.start(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\u001b[K\r\n\t\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\n\b\b\b\u001b[1m\u001b[36mprint\u001b[0m\u001b[39;49m(\u001b[32m\"Can't run in %d mode.\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\u001b[18;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\r\n\u001b[K\n\t\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\n\u001b[33mc\u001b[39;49m = -1\u001b[K\n\b\b\b\b\b\bgfx.clear()\u001b[K\u001b[23;29H\u001b[7m50% L65\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode = \u001b[32m\"test\"\u001b[39;49m\u001b[K\u001b[3;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"--sdl\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args:\u001b[K\u001b[4;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics = \u001b[32m\"sdl\"\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[31m# IN THE FUTURE ALL OF THIS WILL NOT EXIST                              \u001b[39;49m\r\n\t\u001b[33mqdata\u001b[39;49m = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[32m\"default.json\"\u001b[39;49m)\r\n\t\u001b[33mqdict\u001b[39;49m = json.loads(qdata)\u001b[K\r\n\t\u001b[33mqdict\u001b[39;49m[\u001b[32m\"players\"\u001b[39;49m] = {\u001b[32m\"Ishara\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:1,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"b\"\u001b[39;49m},\u001b[10;13H                \u001b[32m\"Ramen\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:0,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"r\"\u001b[39;49m}\u001b[11;13H               }\u001b[K\r\n\t\u001b[33mr\u001b[39;49m = rules.Rules(qdict, \u001b[32m\"--edit\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g = grid.Controller(78,22,r)\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m = \u001b[35mNone\u001b[39;49m\r\n\t\u001b[31m#self.buff = widgets.Buffer(10,5)                                       \u001b[39;49m\r\n\t\u001b[31m#self.buff.write(\"Hello, world!\")                                       \u001b[39;49m\r\n\u001b[20;5H\u001b[31m# Runs an interactive session of our game with the player until either      \u001b[39;49m\r\n\u001b[21;5H\u001b[31m# the player stops playing or an error occurs. Here, we pass input to the   \u001b[39;49m\r\n\u001b[22;5H\u001b[31m# world until we are told we don't need to anymore. If an error occurs, we  \u001b[39;49m\r\n\u001b[23;29H\u001b[7m25% L46\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lAuto-saving...\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m39\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\r\u001b[K\t\u001b[2;5H\u001b[?25l\u001b[31m# the player stops playing or an error occurs. Here, we pass input to the   \u001b[39;49m\r\n\u001b[3;5H\u001b[31m# world until we are told we don't need to anymore. If an error occurs, we  \u001b[39;49m\r\n\u001b[4;5H\u001b[31m# turn off graphics, print the traceback, and kill the program.             \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrun\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode == \u001b[32m\"test\"\u001b[39;49m:\u001b[K\r\n\t    gfx.start(\u001b[32m\"testing\"\u001b[39;49m)\u001b[K\r\n\t    start = os.path.join(os.path.dirname(os.path.realpath(__file__)),\r\n\t                         \u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"tests\"\u001b[39;49m)\u001b[K\u001b[10;13Hsuite = unittest.TestLoader().discover(start)\u001b[K\u001b[11;13Hunittest.TextTestRunner().run(suite)\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\n\t\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\r\n\t    gfx.start(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\r\n\t\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mprint\u001b[0m\u001b[39;49m(\u001b[32m\"Can't run in %d mode.\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\u001b[20;5H    \u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\u001b[21;5H        \u001b[33mc\u001b[39;49m = -1\u001b[K\u001b[22;5H        gfx.clear()\u001b[K\u001b[23;29H\u001b[7m50% L45\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l        \u001b[33mc\u001b[39;49m = -1\u001b[K\u001b[3;5H        gfx.clear()\u001b[K\u001b[4;5H        \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.world.winners:\u001b[K\r\n\u001b[K\n\t        \u001b[33mc\u001b[39;49m = gfx.get_input()\u001b[7;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g:\u001b[K\u001b[8;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.handle_input(c)\u001b[K\u001b[9;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\u001b[K\u001b[10;13H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m:\u001b[K\u001b[11;13H        \u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m.handle_input(c)\u001b[K\u001b[12;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m.draw(1,1)\r\n\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q:\u001b[15;13H            \u001b[33mmode\u001b[39;49m,\u001b[33mdata\u001b[39;49m = q\r\n\u001b[K\n\u001b[K\n\u001b[K\n\t\tgfx.refresh()\r\n\t\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\n\b\b\bgfx.stop()\u001b[22;13H\u001b[1m\u001b[36mprint\u001b[0m\u001b[39;49m(traceback.format_exc())\u001b[23;29H\u001b[7m77% L64\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\u001b[24;1H\u001b[?25lMark set\u001b[16;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g = grid.Controller(78,22,r)\u001b[23;30H\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;58H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[16;57H\u001b[C\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[17;1H\u001b[1L\u001b[1;24r\u001b[16;1H\u001b[K\n\u001b[?25l                        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g = grid.Controller(78,22,r)\u001b[K\u001b[23;35H\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;30H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/shell.py...\u001b[16;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/shell.py\u001b[K\u001b[16;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[16;25H\u001b[?25lr\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\u001b[?25l\u001b[33mr\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[2;5H\u001b[?25l\u001b[31m# the player stops playing or an error occurs. Here, we pass input to the   \u001b[39;49m\r\n\u001b[3;5H\u001b[31m# world until we are told we don't need to anymore. If an error occurs, we  \u001b[39;49m\r\n\u001b[4;5H\u001b[31m# turn off graphics, print the traceback, and kill the program.             \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrun\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode == \u001b[32m\"test\"\u001b[39;49m:\u001b[K\u001b[7;13Hgfx.start(\u001b[32m\"testing\"\u001b[39;49m)\u001b[8;13Hstart = os.path.join(os.path.dirname(os.path.realpath(__file__)),\u001b[9;21H             \u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"tests\"\u001b[39;49m)\u001b[10;13Hsuite = unittest.TestLoader().discover(start)\u001b[11;13Hunittest.TextTestRunner().run(suite)\u001b[12;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\n\t\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\ngfx.start(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\u001b[K\r\n\t\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\u001b[1m\u001b[36mprint\u001b[0m\u001b[39;49m(\u001b[32m\"Can't run in %d mode.\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\u001b[K\u001b[18;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\r\n\n\t\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[33mc\u001b[39;49m = -1\n\b\bclear()\u001b[23;29H\u001b[7m48% L65\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode = \u001b[32m\"test\"\u001b[39;49m\u001b[K\u001b[3;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"--sdl\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args:\u001b[K\u001b[4;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics = \u001b[32m\"sdl\"\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[31m# IN THE FUTURE ALL OF THIS WILL NOT EXIST                              \u001b[39;49m\r\n\t\u001b[33mqdata\u001b[39;49m = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[32m\"default.json\"\u001b[39;49m)\r\n\t\u001b[33mqdict\u001b[39;49m = json.loads(qdata)\u001b[K\r\n\t\u001b[33mqdict\u001b[39;49m[\u001b[32m\"players\"\u001b[39;49m] = {\u001b[32m\"Ishara\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:1,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"b\"\u001b[39;49m},\u001b[10;13H                \u001b[32m\"Ramen\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:0,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"r\"\u001b[39;49m}\u001b[11;13H               }\u001b[K\r\n\t\u001b[33mr\u001b[39;49m = rules.Rules(qdict, \u001b[32m\"--edit\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args)\r\n\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m = \u001b[35mNone\u001b[39;49m\r\n\t\u001b[31m#self.buff = widgets.Buffer(10,5)                                       \u001b[39;49m\r\n\t\u001b[31m#self.buff.write(\"Hello, world!\")                                       \u001b[39;49m\r\n\u001b[20;5H\u001b[31m# Runs an interactive session of our game with the player until either      \u001b[39;49m\r\n\u001b[21;5H\u001b[31m# the player stops playing or an error occurs. Here, we pass input to the   \u001b[39;49m\r\n\u001b[22;5H\u001b[31m# world until we are told we don't need to anymore. If an error occurs, we  \u001b[39;49m\r\n\u001b[23;29H\u001b[7m25% L46\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m39\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[2;5H\u001b[?25l\u001b[31m# the player stops playing or an error occurs. Here, we pass input to the   \u001b[39;49m\r\n\u001b[3;5H\u001b[31m# world until we are told we don't need to anymore. If an error occurs, we  \u001b[39;49m\r\n\u001b[4;5H\u001b[31m# turn off graphics, print the traceback, and kill the program.             \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrun\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode == \u001b[32m\"test\"\u001b[39;49m:\u001b[K\r\n\t    gfx.start(\u001b[32m\"testing\"\u001b[39;49m)\u001b[K\r\n\t    start = os.path.join(os.path.dirname(os.path.realpath(__file__)),\r\n\t                         \u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"tests\"\u001b[39;49m)\u001b[K\u001b[10;13Hsuite = unittest.TestLoader().discover(start)\u001b[K\u001b[11;13Hunittest.TextTestRunner().run(suite)\u001b[12;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\r\n\n\t\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\r\n\t    gfx.start(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\r\n\t\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mprint\u001b[0m\u001b[39;49m(\u001b[32m\"Can't run in %d mode.\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\u001b[20;5H    \u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\u001b[21;5H        \u001b[33mc\u001b[39;49m = -1\u001b[K\u001b[22;5H        gfx.clear()\u001b[K\u001b[23;29H\u001b[7m48% L45\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l        \u001b[33mc\u001b[39;49m = -1\u001b[K\u001b[3;5H        gfx.clear()\u001b[K\u001b[4;5H        \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.world.winners:\u001b[K\r\n\u001b[K\n\t        \u001b[33mc\u001b[39;49m = gfx.get_input()\u001b[7;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g:\u001b[K\u001b[8;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.handle_input(c)\u001b[K\u001b[9;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\u001b[K\u001b[10;13H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m:\u001b[K\u001b[11;13H        \u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m.handle_input(c)\u001b[K\u001b[12;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m.draw(1,1)\r\n\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q:\u001b[15;13H            \u001b[33mmode\u001b[39;49m,\u001b[33mdata\u001b[39;49m = q\r\n\t                \u001b[33mr\u001b[39;49m =\u001b[17;13H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g = grid.Controller(78,22,r)\r\n\u001b[K\n\n\t        gfx.refresh()\r\n\t\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\n\tstop()\u001b[K\u001b[23;29H\u001b[7m74% L64\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[33msuite\u001b[39;49m = unittest.TestLoader().discover(start)\u001b[3;13Hunittest.TextTestRunner().run(suite)\u001b[4;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\n\t\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\ngfx.start(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\r\n\t\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\u001b[1m\u001b[36mprint\u001b[0m\u001b[39;49m(\u001b[32m\"Can't run in %d mode.\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\u001b[10;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\n\u001b[33mc\u001b[39;49m = -1\n\b\b\b\b\b\bgfx.clear()\u001b[K\u001b[15;13H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.world.winners:\r\n\u001b[K\n\t\t\u001b[33mc\u001b[39;49m = gfx.get_input()\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g:\n\b\b\b\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.handle_input(c)\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\r\n\t        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m:\u001b[22;13H        \u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m.handle_input(c)\u001b[23;29H\u001b[7m64% L63\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l                \u001b[32m\"Ramen\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:0,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"r\"\u001b[39;49m}\u001b[3;13H               }\u001b[K\r\n\u001b[K\n\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m = \u001b[35mNone\u001b[39;49m\r\n\t\u001b[31m#self.buff = widgets.Buffer(10,5)                                       \u001b[39;49m\r\n\t\u001b[31m#self.buff.write(\"Hello, world!\")                                       \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# Runs an interactive session of our game with the player until either      \u001b[39;49m\r\n\u001b[13;5H\u001b[31m# the player stops playing or an error occurs. Here, we pass input to the   \u001b[39;49m\r\n\u001b[14;5H\u001b[31m# world until we are told we don't need to anymore. If an error occurs, we  \u001b[39;49m\r\n\u001b[15;5H\u001b[31m# turn off graphics, print the traceback, and kill the program.             \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrun\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode == \u001b[32m\"test\"\u001b[39;49m:\u001b[K\u001b[18;13Hgfx.start(\u001b[32m\"testing\"\u001b[39;49m)\u001b[19;13H\u001b[33mstart\u001b[39;49m = os.path.join(os.path.dirname(os.path.realpath(__file__)),\u001b[20;21H             \u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"tests\"\u001b[39;49m)\u001b[21;13H\u001b[33msuite\u001b[39;49m = unittest.TestLoader().discover(start)\u001b[22;13Hunittest.TextTestRunner().run(suite)\u001b[23;29H\u001b[7m36% L5\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m json\u001b[K\r\n\u001b[K\n\u001b[31m# A Shell represents a single instance of a game, including its maps,           \u001b[39;49m\r\n\u001b[31m# data, and everything else.                                                    \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mShell\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, *args):\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode = \u001b[32m\"play\"\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics = \u001b[32m\"ascii\"\u001b[39;49m\u001b[12;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"--test\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args:\u001b[K\u001b[13;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode = \u001b[32m\"test\"\u001b[39;49m\u001b[K\u001b[14;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"--sdl\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args:\u001b[K\u001b[15;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics = \u001b[32m\"sdl\"\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[31m# IN THE FUTURE ALL OF THIS WILL NOT EXIST                              \u001b[39;49m\r\n\t\u001b[33mqdata\u001b[39;49m = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[32m\"default.json\"\u001b[39;49m)\r\n\t\u001b[33mqdict\u001b[39;49m = json.loads(qdata)\u001b[K\r\n\t\u001b[33mqdict\u001b[39;49m[\u001b[32m\"players\"\u001b[39;49m] = {\u001b[32m\"Ishara\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:1,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"b\"\u001b[39;49m},\u001b[21;13H                \u001b[32m\"Ramen\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:0,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"r\"\u001b[39;49m}\u001b[22;13H               }\u001b[K\n\u001b[7m15% L35\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l                            \u001b[32m\"Ramen\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:0,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"r\"\u001b[39;49m}\u001b[3;28H}\r\n\u001b[K\n\u001b[K\n\u001b[K\u001b[7;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m = \u001b[35mNone\u001b[39;49m\r\n\t\u001b[31m#self.buff = widgets.Buffer(10,5)                                       \u001b[39;49m\r\n\t\u001b[31m#self.buff.write(\"Hello, world!\")                                       \u001b[39;49m\r\n\u001b[K\u001b[12;5H\u001b[31m# Runs an interactive session of our game with the player until either      \u001b[39;49m\r\n\u001b[13;5H\u001b[31m# the player stops playing or an error occurs. Here, we pass input to the   \u001b[39;49m\r\n\u001b[14;5H\u001b[31m# world until we are told we don't need to anymore. If an error occurs, we  \u001b[39;49m\r\n\u001b[15;5H\u001b[31m# turn off graphics, print the traceback, and kill the program.             \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrun\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode == \u001b[32m\"test\"\u001b[39;49m:\u001b[K\r\n\t    gfx.start(\u001b[32m\"testing\"\u001b[39;49m)\u001b[K\r\n\t    \u001b[33mstart\u001b[39;49m = os.path.join(os.path.dirname(os.path.realpath(__file__)),\r\n\t                         \u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"tests\"\u001b[39;49m)\u001b[K\u001b[21;13H\u001b[33msuite\u001b[39;49m = unittest.TestLoader().discover(start)\u001b[K\u001b[22;13Hunittest.TextTestRunner().run(suite)\u001b[23;29H\u001b[7m36\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[33msuite\u001b[39;49m = unittest.TestLoader().discover(start)\u001b[K\u001b[3;13Hunittest.TextTestRunner().run(suite)\u001b[4;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\r\n\n\t\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\r\n\t    gfx.start(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\r\n\t\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mprint\u001b[0m\u001b[39;49m(\u001b[32m\"Can't run in %d mode.\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\u001b[12;5H    \u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\u001b[13;5H        \u001b[33mc\u001b[39;49m = -1\u001b[K\u001b[14;5H        gfx.clear()\u001b[K\u001b[15;5H        \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.world.winners:\u001b[K\r\n\u001b[K\n\t        \u001b[33mc\u001b[39;49m = gfx.get_input()\u001b[18;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g:\u001b[K\u001b[19;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.handle_input(c)\u001b[K\u001b[20;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\u001b[K\u001b[21;13H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m:\u001b[K\u001b[22;13H        \u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m.handle_input(c)\u001b[K\u001b[23;29H\u001b[7m64% L53\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m:\u001b[K\u001b[3;13H        \u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m.handle_input(c)\u001b[K\u001b[4;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m.draw(1,1)\r\n\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q:\u001b[7;13H            \u001b[33mmode\u001b[39;49m,\u001b[33mdata\u001b[39;49m = q\r\n\t                \u001b[33mr\u001b[39;49m =\u001b[9;13H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g = grid.Controller(78,22,r)\r\n\u001b[K\n\n\t        gfx.refresh()\r\n\t\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\n\tstop()\u001b[K\u001b[15;13H\u001b[1m\u001b[36mprint\u001b[0m\u001b[39;49m(traceback.format_exc())\u001b[K\u001b[16;13Hsys.\u001b[35mexit\u001b[39;49m(-1)\r\n\u001b[K\n\tgfx.stop()\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L72\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[8;29H\b\b\b\b\u001b[?25lr\u001b[K\u001b[C\u001b[?12l\u001b[?25h\u001b[?12;25h\b\r\u001b[K\t\t\t\u001b[24;1H\u001b[?25lMark set\u001b[8;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[33mr\u001b[39;49m = rules.Rules(qdict, \u001b[32m\"--edit\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args)\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[8d\t\t\t\t\b\u001b[1P\r\u001b[8;31H\u001b[1P\r\u001b[8;30H\u001b[1P\r\u001b[8;29H\u001b[1P\r\u001b[8;28H\u001b[1P\r\u001b[8;27H\u001b[1P\r\u001b[8;26H\u001b[1P\r\t\t\t\u001b[1P\r\u001b[8;65H\b\b\b\b\b\b\b\b\b\b\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m in args)                       \u001b[39;49m\r\n\u001b[32m                        self.g = grid.Controller(78,22,r)                       \u001b[39;49m\r\n\u001b[8;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args)\u001b[K\r\n                        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g = grid.Controller(78,22,r)\u001b[K\u001b[8;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@o\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@e\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args)\u001b[8;53H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@=\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args)\u001b[8;56H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\" in args)               \u001b[39;49m\r\n\u001b[32m                        self.g = grid.Controller(78,22,r)                       \u001b[39;49m\r\n\u001b[8;57H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me in args)\u001b[39;49m\u001b[8;58H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32md in args)\u001b[39;49m\u001b[8;59H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mi in args)\u001b[39;49m\u001b[8;60H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lAuto-saving...\u001b[8;60H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[8;60H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[8;60H\u001b[?25l\u001b[32mt in args)\u001b[39;49m\u001b[8;61H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args)\u001b[K\r\n                        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g = grid.Controller(78,22,r)\u001b[K\u001b[8;62H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args)\u001b[K\u001b[8;62H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln args)\u001b[K\u001b[8;62H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l args)\u001b[K\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25largs)\u001b[K\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrgs)\u001b[K\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgs)\u001b[K\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls)\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/shell.py...\u001b[8;62H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/shell.py\u001b[K\u001b[8;62H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;62H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;62H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[?25l\u001b[1P\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;45H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@a\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@a\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/shell.py...\u001b[8;45H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/shell.py\u001b[K\u001b[8;45H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;45H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;45H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[9;58H\u001b[1;19r\u001b[12;1H\u001b[1L\u001b[1;24r\u001b[12;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mshell.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L80\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lN\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[35mNone\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/shell.py...\u001b[10;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/shell.py\u001b[K\u001b[10;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[10;38H\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[10;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;34H\u001b[?25l\u001b[7m79\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[3;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[2;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\n\u001b[33mc\u001b[39;49m = -1\u001b[6;13Hgfx.clear()\u001b[K\u001b[7;13H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.world.winners:\r\n\u001b[K\n\t\t\u001b[33mc\u001b[39;49m = gfx.get_input()\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g:\u001b[K\n\b\b\b\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.handle_input(c)\u001b[12;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\r\n\t\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m:\u001b[K\r\n\t            \u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m.handle_input(c)\u001b[15;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m.draw(1,1)\r\n\u001b[K\u001b[17;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q:\n\b\u001b[33mmode\u001b[39;49m,\u001b[33mdata\u001b[39;49m = q\r\n\t                \u001b[33mr\u001b[39;49m = rules.Rules(data, mode == \u001b[32m\"edit\"\u001b[39;49m)\r\n\t\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g = grid.Controller(78,22,r)\r\n\t\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m = \u001b[35mNone\u001b[39;49m\u001b[23;29H\u001b[7m71% L71\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[12;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m69\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[9d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[7;44H\b\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[9d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[17;1H\u001b[1L\u001b[1;24r\u001b[17;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mshell.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   71% L76\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;30H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lq\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\u001b[?25l\u001b[33mq\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25lq ==\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32m\"                                                   \u001b[39;49m\r\n\u001b[32m                    if q:                                                       \u001b[39;49m\r\n\u001b[17;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mq\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mu\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n                    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q:\u001b[K\u001b[17;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[19;1H\u001b[1L\u001b[1;24r\u001b[18;1H\u001b[K\n\u001b[?25l                    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q:\u001b[K\u001b[23;35H\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;29H\u001b[?25l\u001b[7m69\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25l\u001b[33mover\u001b[39;49m=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lT\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\u001b[C\b\r\t\t\t\u001b[?25lover\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\r\t\t\t\u001b[?25l\u001b[33mover\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lT\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[35mTrue\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\n\n\b\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\u001b[?25leif q:\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m q:\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/shell.py...\u001b[19;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/shell.py\u001b[K\u001b[19;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m69\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[3;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[4;1H\u001b[1L\u001b[1;24r\u001b[4;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mshell.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   69% L63\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[4;13H\u001b[19;25H\u001b[?25lover\n\n\u001b[Cdata\r\n\t\t\tr\u001b[4;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lv\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[33mover\u001b[39;49m=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\r\t\u001b[?25lover\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\r\t\u001b[?25l\u001b[33mover\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lF\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25l\u001b[35mFalse\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[?25losel\u001b[1@f\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@v\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@e\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@r\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lwinners:\u001b[K\u001b[8;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25linners:\u001b[K\u001b[8;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lnners:\u001b[K\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lers:\u001b[K\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lers:\u001b[K\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrs:\u001b[K\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls:\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/shell.py...\u001b[8;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/shell.py\u001b[K\u001b[8;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m80\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[22;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\r\n\t\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m:\r\n\t            \u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m.handle_input(c)\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m.draw(1,1)\r\n\u001b[K\u001b[7;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q == \u001b[32m\"quit\"\u001b[39;49m:\u001b[8;13H            over = \u001b[35mTrue\u001b[39;49m\u001b[9;21H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m q:\r\n\t\t        \u001b[33mmode\u001b[39;49m,data = q\r\n\t\t        r = rules.Rules(data, mode == \u001b[32m\"edit\"\u001b[39;49m)\u001b[12;21H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g = grid.Controller(78,22,r)\u001b[13;21H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m = \u001b[35mNone\u001b[39;49m\r\n\u001b[K\n\u001b[K\n\t\tgfx.refresh()\u001b[K\r\n\t\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\n\b\b\bgfx.stop()\u001b[K\u001b[19;13H\u001b[1m\u001b[36mprint\u001b[0m\u001b[39;49m(traceback.format_exc())\u001b[20;13Hsys.\u001b[35mexit\u001b[39;49m(-1)\u001b[K\r\n\u001b[K\n\tgfx.stop()\u001b[K\u001b[23;29H\u001b[7m78% L82\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m79\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[3;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[2;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[33mover\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\n\u001b[33mc\u001b[39;49m = -1\u001b[7;13Hgfx.clear()\u001b[K\u001b[8;13H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m over:\u001b[K\r\n\u001b[K\n\t\t\u001b[33mc\u001b[39;49m = gfx.get_input()\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g:\u001b[K\n\b\b\b\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.handle_input(c)\u001b[K\u001b[13;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\u001b[K\r\n\t\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m:\u001b[15;21H\u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m.handle_input(c)\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m.draw(1,1)\r\n\u001b[K\u001b[18;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q == \u001b[32m\"quit\"\u001b[39;49m:\u001b[19;13H            over = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[20;13H        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m q:\n\b\b\b\u001b[33mmode\u001b[39;49m,data = q\r\n\t                r = rules.Rules(data, mode == \u001b[32m\"edit\"\u001b[39;49m)\u001b[23;29H\u001b[7m69% L71\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m69\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[13;37H\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[?25lqsel\u001b[1@f\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l \u001b[1m\u001b[36msel\u001b[0m\u001b[39;49m\u001b[1@\u001b[1m\u001b[36mf\u001b[0m\u001b[39;49m\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25lself\u001b[1P\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[1P\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[13;37H\u001b[1;22r\u001b[15;1H\u001b[1L\u001b[1;24r\u001b[14;1H\u001b[K\n\u001b[?25l                \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m:\u001b[K\u001b[23;35H\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[16;1H\u001b[1L\u001b[1;24r\u001b[15;1H\u001b[K\n\u001b[?25l                \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m:\u001b[K\u001b[23;35H\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[15;21H\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[23;30H\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[16;1H\u001b[1M\u001b[1;24r\u001b[14;21H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g\r\n\t\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m:\u001b[K\u001b[22;1H                        \u001b[33mmode\u001b[39;49m,data = q\u001b[K\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[23;30H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[16;1H\u001b[1M\u001b[1;24r\u001b[14;17H\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m:\r\n\t\t    \u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m.handle_input(c)\u001b[22;1H                        r = rules.Rules(data, mode == \u001b[32m\"edit\"\u001b[39;49m)\u001b[K\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/shell.py...\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/shell.py\u001b[K\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m69\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[9;1H\u001b[1M\u001b[1;24r\u001b[22;1H\u001b[?25l                        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g = grid.Controller(78,22,r)\u001b[K\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/shell.py...\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/shell.py\u001b[K\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mshell.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   70\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[8;1H\u001b[1M\u001b[1;24r\u001b[6;13H\u001b[?25lgfx.clear()\u001b[7;13H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m over:\u001b[22;1H                        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/shell.py...\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/shell.py\u001b[K\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m80\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l        \u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m.handle_input(c)\u001b[3;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m.draw(1,1)\r\n\u001b[K\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q == \u001b[32m\"quit\"\u001b[39;49m:\u001b[6;13H            over = \u001b[35mTrue\u001b[39;49m\u001b[7;13H        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m q\r\n\t\t        \u001b[33mmode\u001b[39;49m,data = q\r\n\t\t        r = rules.Rules(data, mode == \u001b[32m\"edit\"\u001b[39;49m)\u001b[10;21H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g = grid.Controller(78,22,r)\u001b[11;21H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m = \u001b[35mNone\u001b[39;49m\r\n\u001b[K\n\u001b[K\n\t\tgfx.refresh()\u001b[K\r\n\t\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\n\b\b\bgfx.stop()\u001b[K\u001b[17;13H\u001b[1m\u001b[36mprint\u001b[0m\u001b[39;49m(traceback.format_exc())\u001b[18;13Hsys.\u001b[35mexit\u001b[39;49m(-1)\u001b[K\r\n\u001b[K\n\tgfx.stop()\u001b[K\r\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L82\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m79\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[33mover\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\ngfx.clear()\u001b[K\u001b[7;13H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m over\r\n\t\t\u001b[33mc\u001b[39;49m = gfx.get_input()\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g:\u001b[K\n\b\b\b\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.handle_input(c)\u001b[K\u001b[11;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\u001b[K\r\n\t\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m:\u001b[13;21H\u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m.handle_input(c)\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m.draw(1,1)\r\n\u001b[K\u001b[16;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q == \u001b[32m\"quit\"\u001b[39;49m:\u001b[17;13H            over = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[18;13H        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m q:\n\b\b\b\u001b[33mmode\u001b[39;49m,data = q\r\n\t                r = rules.Rules(data, mode == \u001b[32m\"edit\"\u001b[39;49m)\r\n\t\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g = grid.Controller(78,22,r)\r\n\t\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m = \u001b[35mNone\u001b[39;49m\u001b[23;29H\u001b[7m70% L71\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m69\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m80\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l        \u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m.handle_input(c)\u001b[3;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m.draw(1,1)\r\n\u001b[K\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q == \u001b[32m\"quit\"\u001b[39;49m:\u001b[6;13H            over = \u001b[35mTrue\u001b[39;49m\u001b[7;13H        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m q\r\n\t\t        \u001b[33mmode\u001b[39;49m,data = q\r\n\t\t        r = rules.Rules(data, mode == \u001b[32m\"edit\"\u001b[39;49m)\u001b[10;21H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g = grid.Controller(78,22,r)\u001b[11;21H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m = \u001b[35mNone\u001b[39;49m\r\n\u001b[K\n\u001b[K\n\t\tgfx.refresh()\u001b[K\r\n\t\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\n\b\b\bgfx.stop()\u001b[K\u001b[17;13H\u001b[1m\u001b[36mprint\u001b[0m\u001b[39;49m(traceback.format_exc())\u001b[18;13Hsys.\u001b[35mexit\u001b[39;49m(-1)\u001b[K\r\n\u001b[K\n\tgfx.stop()\u001b[K\r\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L82\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l(No changes need to be saved)\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m79\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[33mover\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\ngfx.clear()\u001b[K\u001b[7;13H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m over\r\n\t\t\u001b[33mc\u001b[39;49m = gfx.get_input()\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g:\u001b[K\n\b\b\b\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.handle_input(c)\u001b[K\u001b[11;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\u001b[K\r\n\t\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m:\u001b[13;21H\u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m.handle_input(c)\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m.draw(1,1)\r\n\u001b[K\u001b[16;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q == \u001b[32m\"quit\"\u001b[39;49m:\u001b[17;13H            over = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[18;13H        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m q:\n\b\b\b\u001b[33mmode\u001b[39;49m,data = q\r\n\t                r = rules.Rules(data, mode == \u001b[32m\"edit\"\u001b[39;49m)\r\n\t\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g = grid.Controller(78,22,r)\r\n\t\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m = \u001b[35mNone\u001b[39;49m\u001b[23;29H\u001b[7m70% L71\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m80\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m79\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[16d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[17d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[18;1H\u001b[1L\u001b[1;24r\u001b[17;25H\u001b[?25l\u001b[33mover\u001b[39;49m\r\n\u001b[K\u001b[23;6H\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mshell.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   70% L77\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;29H\u001b[?25l\u001b[7m69\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lN\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[35mNone\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mI-search: \u001b[39;49m\u001b[18;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;58H\u001b[?25l\u001b[7m Isearch) \u001b[0m\u001b[39;49m\u001b[27m\u001b[18;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[20;30H\u001b[?25l\u001b[33mdata\u001b[39;49m\r\n\t\t\t\u001b[33mr\u001b[39;49m\u001b[18;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u001b[24;1H\u001b[?25lQuit\u001b[K\u001b[23;58H\u001b[7m) --------\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[18;38H\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/shell.py...\u001b[18;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/shell.py\u001b[K\u001b[18;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\b\b\b\b\u001b[?25l\u001b[7m80\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\b\b\b\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[22;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l        \u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m.handle_input(c)\u001b[3;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m.draw(1,1)\r\n\u001b[K\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q == \u001b[32m\"quit\"\u001b[39;49m:\u001b[6;13H            \u001b[33mover\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[7;13H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m = \u001b[35mNone\u001b[39;49m\r\n\t\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m q:\u001b[K\r\n\t\t        \u001b[33mmode\u001b[39;49m,\u001b[33mdata\u001b[39;49m = q\u001b[10;21H    \u001b[33mr\u001b[39;49m = rules.Rules(data, mode == \u001b[32m\"edit\"\u001b[39;49m)\u001b[11;21H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g = grid.Controller(78,22,r)\r\n\t\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m = \u001b[35mNone\u001b[39;49m\r\n\u001b[K\n\u001b[K\n\t\tgfx.refresh()\r\n\t\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\bgfx.stop()\u001b[K\u001b[18;13H\u001b[1m\u001b[36mprint\u001b[0m\u001b[39;49m(traceback.format_exc())\u001b[19;13Hsys.\u001b[35mexit\u001b[39;49m(-1)\u001b[K\r\n\u001b[K\n\tgfx.stop()\u001b[K\r\n\u001b[K\u001b[23;29H\u001b[7mBot L82\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[15;1H\u001b[1L\u001b[1;24r\u001b[15;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mshell.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   79% L83\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;30H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[23;30H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[23;30H\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lN\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[35mNone\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[15;1H\u001b[1L\u001b[1;24r\u001b[15;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;30H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/shell.py...\u001b[14;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/shell.py\u001b[K\u001b[14;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[14;21H\u001b[?25ls\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lL\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l7)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l8)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l2)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l2)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/shell.py...\u001b[14;51H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/shell.py\u001b[K\u001b[14;51H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;51H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[1;21r\u001b[16;1H\u001b[1M\u001b[1;24r\u001b[21;1H\u001b[K\n\t\u001b[?25lgfx.stop()\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[17;1H\u001b[1M\u001b[1;24r\u001b[15;17H\u001b[?25lgfx.refresh()\r\n\t\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\u001b[22;1H\u001b[K\u001b[23;29H\u001b[7mBot\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/shell.py...\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/shell.py\u001b[K\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[14;52H\u001b[1;22r\u001b[15;1H\u001b[1L\u001b[1;24r\u001b[15;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mshell.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   77% L85\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/shell.py...\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/shell.py\u001b[K\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m79\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[33mover\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\ngfx.clear()\u001b[K\u001b[7;13H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m over:\u001b[K\r\n\t\t\u001b[33mc\u001b[39;49m = gfx.get_input()\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g:\u001b[K\n\b\b\b\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.handle_input(c)\u001b[K\u001b[11;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\u001b[K\r\n\t\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m:\u001b[K\r\n\t\t    \u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m.handle_input(c)\u001b[14;27H.draw(1,1)\u001b[K\r\n\n\t\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q == \u001b[32m\"quit\"\u001b[39;49m:\r\n\t                \u001b[33mover\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[18;13H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m = \u001b[35mNone\u001b[39;49m\u001b[19;13H        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m q:\u001b[K\u001b[20;13H            \u001b[33mmode\u001b[39;49m,\u001b[33mdata\u001b[39;49m = q\r\n\t\t\t\u001b[33mr\u001b[39;49m = rules.Rules(data, mode == \u001b[32m\"edit\"\u001b[39;49m)\r\n\t                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g = grid.Controller(78,22,r)\u001b[23;29H\u001b[7m67% L71\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l(No changes need to be saved)\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l\u001b[34mFind file: \u001b[39;49m~/Documents/rules-of-war/code/core/\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lding.py\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[?25lCan't guess python-indent-offset, using defaults: 4\u001b[K\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[K\n\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;4H\u001b[7mU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   All L1     (Python) -----------\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[2d\u001b[?25l\u001b[31m#\u001b[39;49m\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[2;2H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m \u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mT\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mh\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m \u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ml\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mg\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m \u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m \u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mh\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m \u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m\"\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mm\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m \u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mm\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mu\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m\"\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m \u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mf\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m \u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mh\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m \u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mg\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mm\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m.\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m \u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mH\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m \u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31my\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mu\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m \u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m \u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mb\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ml\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m \u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m \u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25l\u001b[31ml\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mc\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m       \u001b[39;49m\r\n\u001b[23;34H\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m#\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m \u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mm\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mp\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m \u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m \u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mb\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mg\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[24;1H\u001b[?25lAuto-saving...\u001b[3;12H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[3;12H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[3;11H\u001b[K\b\u001b[K\u001b[?25l\u001b[31m \u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mb\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mg\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25l\u001b[31mg\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m \u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mp\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ml\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31my\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mg\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m!\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[3;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[3;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m                                                        \u001b[39;49m\r\n\u001b[23;6H\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[3;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[3;25H\u001b[24;1H\u001b[?25l\u001b[34mSet fill-column to (default 24): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\r\u001b[?25lQuit\u001b[K\u001b[1;33H\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\n\t\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[3;25H\u001b[24;1H\u001b[?25l\u001b[34mFind file: \u001b[39;49m~/Documents/rules-of-war/code/core/\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[?25l\u001b[34mFind file: \u001b[39;49m~/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[H\u001b[7mFile Edit Options Buffers Tools Minibuf Help                                    \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n\u001b[31m# The landing is the \"main menu\" of the game. Here you are able to select       \u001b[39;49m\r\n\u001b[A\n\u001b[31m# maps to begin playing!                                                        \u001b[39;49m\r\n\u001b[A\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[7m-UUU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   All L2     (Python) --------------------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[24;57H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lid.py\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[2;3H\u001b[31mA grid is the arena upon which a battle takes place. The entire map should\u001b[39;49m\u001b[3;3H\u001b[31mbe self-contained. Players interact with the map by taking \"actions\" that\u001b[39;49m\r\n\u001b[31m# are interpreted by an instance of the rules class containing the game logic.  \u001b[39;49m\r\n\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m graphics \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m draw\r\n\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m . \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m widgets, log\r\n\n\n\u001b[31m# The Grid is a game-agnostic representation of the world's entities. It        \u001b[39;49m\r\n\u001b[31m# provides an API to game rulesets to create, delete, and move entities         \u001b[39;49m\r\n\u001b[31m# around, but essentially has no functionality other than changing its          \u001b[39;49m\r\n\u001b[31m# configuration. The grid should be initialized with a configuration            \u001b[39;49m\r\n\u001b[31m# Dictionary containing the following keys and values.                          \u001b[39;49m\r\n\u001b[31m#   name: the name of the map!                                                  \u001b[39;49m\r\n\u001b[31m#   cells: (list) cells with x,y positions                                      \u001b[39;49m\r\n\u001b[31m#   teams: (list) the teams in the map                                          \u001b[39;49m\r\n\u001b[31m#   allies: (list) the teams that are allied in a list of lists of ints         \u001b[39;49m\r\n\u001b[31m#   variables: (dictionary) a dictionary of user-defined variables              \u001b[39;49m\r\n\u001b[31m#                                                                               \u001b[39;49m\r\n\u001b[31m# Danger: Do not store 'rules' in a variable. Should fall out of scope.         \u001b[39;49m\r\n\u001b[23;4H\u001b[7m-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mgrid.py     \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Top L1    Git-master  (Python) \u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;3H\u001b[?25l\u001b[31m                                                                          \u001b[39;49m\u001b[3;3H\u001b[31mDanger: Do not store 'rules' in a variable. Should fall out of scope.    \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mGrid\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data, rules):\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name = data[\u001b[32m\"name\"\u001b[39;49m]\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = {}\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.variables = data.get(\u001b[32m\"variables\"\u001b[39;49m,{})\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day = 1\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = 0\u001b[K\r\n\u001b[K\u001b[14;62H\u001b[8P\r\u001b[8@\u001b[14;11H\u001b[31mLoad the teams first, since cells and units reference them.\u001b[39;49m\u001b[15;47H\u001b[8P\r\u001b[8@\u001b[15;11H\u001b[31mThen set up the alliances.                  \u001b[39;49m\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data[\u001b[32m\"teams\"\u001b[39;49m]:\u001b[K\r\n            \u001b[33mthis\u001b[39;49m = rules.make_team( t )\u001b[K\r\n            \u001b[33mthis.variables\u001b[39;49m = t.get(\u001b[32m\"variables\"\u001b[39;49m,{})\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams.append(this)\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m alist \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data.get(\u001b[32m\"allies\"\u001b[39;49m,[]):\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m a \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m alist:\u001b[K\r\n                \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m alist:\u001b[K\n\b\b\b\u001b[7m 7% L20\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m a \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m alist:\u001b[K\r\n                \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m alist:\u001b[K\r\n                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[a].allies.append( \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[b] )\r\n\u001b[K\n\t\u001b[31m# Load the terrain cells. The units are embedded in these elements      \u001b[39;49m\r\n\t\u001b[31m# of the dictionary. Note that when units are loaded in other units     \u001b[39;49m\r\n\t\u001b[31m# we, have to recursively dig them out.                                 \u001b[39;49m\r\n\t\u001b[31m#   x: (int) x position                                                 \u001b[39;49m\r\n\t\u001b[31m#   y: (int) y position                                                 \u001b[39;49m\r\n\t\u001b[31m#   name: (string) the name of the terrain                              \u001b[39;49m\r\n\t\u001b[31m#   unit: the unit on this terrain, if one                              \u001b[39;49m\r\n\t\u001b[31m#   team: (int) the team that owns the terrain, if any                  \u001b[39;49m\r\n\u001b[14;11H\u001b[31m  variables: (dict) User-defined variables                 \u001b[39;49m\u001b[15;14H\u001b[31mre may be other values in this cell that will be parsed by\u001b[39;49m\r\n\t\u001b[31m# the factory of the rules.                                             \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m c \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data[\u001b[32m\"cells\"\u001b[39;49m]:\u001b[K\r\n\t\t = rules.make_cell(c)\u001b[K\u001b[19;18Hgrid[(c[\u001b[32m\"x\"\u001b[39;49m],c[\u001b[32m\"y\"\u001b[39;49m])] = this\r\n\t    \u001b[33mthis.variables\u001b[39;49m = c.get(\u001b[32m\"variables\"\u001b[39;49m,{})\u001b[21;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"team\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m c\r\n\t\t\u001b[33mthis.team\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[c[\u001b[32m\"team\"\u001b[39;49m]]\u001b[23;29H\u001b[7m12% L39\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"team\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m c\r\n\t\t\u001b[33mthis.team\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[c[\u001b[32m\"team\"\u001b[39;49m]]\u001b[4;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"unit\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m c:\u001b[K\r\n\t\t\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m_process_units\u001b[0m\u001b[39;49m(unit):\r\n\t            \u001b[33mu\u001b[39;49m = rules.make_unit(unit)\u001b[K\r\n\t            \u001b[33mu.team\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[unit[\u001b[32m\"team\"\u001b[39;49m]]\u001b[K\r\n\t            \u001b[33mu.variables\u001b[39;49m = unit.get(\u001b[32m\"variables\"\u001b[39;49m,{})\u001b[K\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units.append(u)\u001b[K\r\n\t            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m unit.get(\u001b[32m\"carrying\"\u001b[39;49m,[]):\u001b[K\r\n\t                u.carrying.append(_process_units(u))\u001b[K\r\n\t            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m u\u001b[K\r\n\t        \u001b[33mthis.unit\u001b[39;49m = _process_units(c[\u001b[32m\"unit\"\u001b[39;49m])\u001b[K\r\n\u001b[K\u001b[15;5H\u001b[31m# Export a dictionary of the cells and units in the grid. Usually used      \u001b[39;49m\r\n\u001b[16;5H\u001b[4P\t\b\u001b[31mo save a map!           \u001b[39;49m\u001b[4@\u001b[31m    \u001b[39;49m\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m = {}\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m[\u001b[32m\"name\"\u001b[39;49m] = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m[\u001b[32m\"allies\"\u001b[39;49m] = []\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m[\u001b[32m\"cells\"\u001b[39;49m] = []\r\n\t\u001b[33mreport\u001b[39;49m[\u001b[32m\"teams\"\u001b[39;49m] = []\u001b[K\n\u001b[C\u001b[7m8% L58\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[33mreport\u001b[39;49m[\u001b[32m\"cells\"\u001b[39;49m] = []\r\n\t\u001b[33mreport\u001b[39;49m[\u001b[32m\"teams\"\u001b[39;49m] = []\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m[\u001b[32m\"variables\"\u001b[39;49m] = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.variables)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams:\u001b[K\u001b[6;13H\u001b[33mteam\u001b[39;49m = {}\u001b[K\u001b[7;13H\u001b[33mteam\u001b[39;49m[\u001b[32m\"name\"\u001b[39;49m] = t.name\u001b[K\u001b[8;13H\u001b[33mteam\u001b[39;49m[\u001b[32m\"color\"\u001b[39;49m] = t.color\u001b[K\u001b[9;13H\u001b[33mteam\u001b[39;49m[\u001b[32m\"variables\"\u001b[39;49m] = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(t.variables)\u001b[10;13Hreport[\u001b[32m\"teams\"\u001b[39;49m].append(team)\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m c \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid:\u001b[K\u001b[12;13H\u001b[33mcell\u001b[39;49m = {}\u001b[K\u001b[13;13Hcell[\u001b[32m\"x\"\u001b[39;49m],\u001b[33mcell\u001b[39;49m[\u001b[32m\"y\"\u001b[39;49m] = c\u001b[K\u001b[14;13H\u001b[33mcd\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid[c]\u001b[15;5H        \u001b[33mcell\u001b[39;49m[\u001b[32m\"name\"\u001b[39;49m] = cd.name\u001b[K\u001b[16;5H        \u001b[33mcell\u001b[39;49m[\u001b[32m\"variables\"\u001b[39;49m] = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(cd.variables)\u001b[K\u001b[17;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cd.unit:\r\n\t        \u001b[33mcell\u001b[39;49m[\u001b[32m\"unit\"\u001b[39;49m] = {}\r\n\t        cell[\u001b[32m\"unit\"\u001b[39;49m][\u001b[32m\"name\"\u001b[39;49m] = cd.unit.name\r\n\t        cell[\u001b[32m\"unit\"\u001b[39;49m][\u001b[32m\"team\"\u001b[39;49m] = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams.index(cd.unit.team)\r\n\t        cell[\u001b[32m\"unit\"\u001b[39;49m][\u001b[32m\"variables\"\u001b[39;49m] = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(cd.unit.variables)\r\n\t    report[\u001b[32m\"cells\"\u001b[39;49m].append(cell)\u001b[23;29H\u001b[7m24% L77\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l        cell[\u001b[32m\"unit\"\u001b[39;49m][\u001b[32m\"variables\"\u001b[39;49m] = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(cd.unit.variables)\r\n\t    report[\u001b[32m\"cells\"\u001b[39;49m].append(cell)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\u001b[K\u001b[6;5H\u001b[31m# This returns all of the tiles.                                            \u001b[39;49m\r\n\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mall_tiles\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.values()\u001b[K\r\n\u001b[K\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mall_tiles_xy\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.keys()\r\n\u001b[K\u001b[13;5H\u001b[31m# Get the tile at x,y. Returns None if out of range.                        \u001b[39;49m\r\n\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtile_at\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get((x,y),\u001b[35mNone\u001b[39;49m)\r\n\u001b[K\u001b[17;5H\u001b[31m# Get the unit at x,y.                                                      \u001b[39;49m\r\n\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34munit_at\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[33mtile\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tile_at(x,y)\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m tile.unit\u001b[K\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[23;30H\u001b[7m9% L96\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[4;5H\u001b[31m# Get a range of coordinates, usually for an attack range. Coordinates      \u001b[39;49m\r\n\u001b[5;5H\u001b[31m# may not actually be cells.                                                \u001b[39;49m\r\n\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mget_range\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, center, start, end=\u001b[35mNone\u001b[39;49m):\u001b[K\u001b[7;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m end \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\u001b[K\r\n\t    \u001b[33mend\u001b[39;49m = start\u001b[K\u001b[10;5H    \u001b[33mreport\u001b[39;49m = []\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = center\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m r \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(start,end+1):\u001b[13;5H        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(r):\u001b[K\u001b[14;5H            report.append((x+(r-i),y+i    ))\r\n\t        report.append((x-i    ,y+(r-i)))\r\n\t\treport.append((x-(r-i),y-i    ))\u001b[17;5H            report.append((x+i    ,y-(r-i)))\u001b[K\u001b[18;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\u001b[K\u001b[20;5H\u001b[31m# Return distance (zero norm) between two points.                           \u001b[39;49m\r\n\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdist\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, start, end):\r\n\t\u001b[33mx1\u001b[39;49m,\u001b[33my1\u001b[39;49m = start\u001b[23;29H\u001b[7m34% L115\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdist\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, start, end):\r\n\t\u001b[33mx1\u001b[39;49m,\u001b[33my1\u001b[39;49m = start\u001b[4;5H    \u001b[33mx2\u001b[39;49m,\u001b[33my2\u001b[39;49m = end\u001b[K\u001b[5;5H    \u001b[33mdx\u001b[39;49m = x1-x2\u001b[K\u001b[6;5H    \u001b[33mdy\u001b[39;49m = y1-y2\u001b[K\u001b[7;12H(dx < 0): \u001b[33mdx\u001b[39;49m *= -1\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (dy < 0): \u001b[33mdy\u001b[39;49m *= -1\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m dx+dy\r\n\u001b[K\u001b[11;5H\u001b[31m# Moves a unit from the old tile to the new tile. Will                      \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# throw exception if move is illegal. CHECK FIRST.                          \u001b[39;49m\r\n\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mmove_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, old, new):\r\n\t\u001b[33mox\u001b[39;49m,\u001b[33moy\u001b[39;49m = old\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = new\u001b[K\r\n\t\u001b[33mtile\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tile_at(ox,oy)\u001b[K\r\n\t\u001b[33munit\u001b[39;49m = tile.unit\u001b[K\r\n\t\u001b[33mtile.unit\u001b[39;49m = \u001b[35mNone\u001b[39;49m\r\n\t\u001b[33mtile\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tile_at(x,y)\u001b[20;5H    \u001b[33mtile.unit\u001b[39;49m = unit\u001b[K\r\n\u001b[K\u001b[22;5H\u001b[31m# Add a unit to the game. Throws an exception if the tile                   \u001b[39;49m\r\n\u001b[23;30H\u001b[7m8% L134\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[3;5H\u001b[?25l\u001b[31m# Add a unit to the game. Throws an exception if the tile                   \u001b[39;49m\r\n\u001b[4;5H\u001b[31m# does not exist or if the tile is occupied.                                \u001b[39;49m\r\n\u001b[5;5H\u001b[31m# This should be the ONLY WAY units are added to the game.                  \u001b[39;49m\r\n\u001b[6;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34madd_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, unit, team, x, y):\r\n\t\u001b[33mtile\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tile_at(x,y)\u001b[8;12Htile.unit:\u001b[K\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Tried to add unit to occupied tile %d,%d\"\u001b[39;49m%(x,y))\r\n\t\u001b[33mtile.unit\u001b[39;49m = unit\u001b[11;5H    \u001b[33munit.team\u001b[39;49m = team\u001b[K\u001b[12;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units.append(unit)\u001b[K\r\n\u001b[K\u001b[14;5H\u001b[31m# Remove a unit from the game. This will not only remove the                \u001b[39;49m\r\n\u001b[15;5H\u001b[31m# unit, but all units that it is carrying.                                  \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mremove_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[33mtile\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tile_at(x,y)\r\n\t\u001b[33munit\u001b[39;49m = tile.unit\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units.remove(tile.unit)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m unit.carrying:\u001b[22;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units:\u001b[K\n\b\b\b\u001b[7m42% L153\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m unit.carrying:\u001b[3;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units:\u001b[K\u001b[4;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units.remove(u)\u001b[K\u001b[5;5H    \u001b[33mtile.unit\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[7;5H\u001b[31m# Return the team currently performing its turn.                            \u001b[39;49m\r\n\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mcurrent_team\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn]\u001b[K\r\n\u001b[K\u001b[11;5H\u001b[31m# End the turn and proceed to the next team, so long as there is            \u001b[39;49m\r\n\u001b[12;5H\u001b[31m# at least one active team left.                                            \u001b[39;49m\r\n\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mend_turn\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[14;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m([t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]) == 0:\u001b[K\u001b[15;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day += 1\u001b[K\u001b[16;5H    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t    \u001b[33mflag\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m flag \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn].active:\r\n\t        \u001b[33mflag\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[20;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn += 1\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams):\u001b[22;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = 0\n\b\b\b\b\u001b[7m7% L172\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams):\u001b[3;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = 0\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day += 1\u001b[K\r\n\u001b[K\n\n\u001b[31m# A grid is made up of Cells. The cells all have properties that make up        \u001b[39;49m\r\n\u001b[31m# what would be called their 'terrain'.                                         \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mCell\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, name, icon, color):\u001b[11;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name = name\u001b[K\u001b[12;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.icon = icon\u001b[K\u001b[13;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.color = color\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.unit = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.team = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.variables = {}\r\n\u001b[K\u001b[18;5H\u001b[31m# This function returns the character and color that                        \u001b[39;49m\r\n\u001b[19;5H\u001b[31m# should be drawn. If there is a unit on this terrain,                      \u001b[39;49m\r\n\u001b[20;5H\u001b[31m# the unit's draw will be prioritized.                                      \u001b[39;49m\r\n\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, col=\u001b[32m\"\"\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.team:\u001b[K\u001b[23;29H\u001b[7m52% L191\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, col=\u001b[32m\"\"\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.team:\u001b[K\u001b[4;13H\u001b[33mcol\u001b[39;49m += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.team.color +\u001b[32m\"!\"\u001b[39;49m\r\n\tdraw.char(x, y, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.icon, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.color+col)\r\n\n\u001b[K\u001b[8;3H\u001b[31mUnits are the pieces that move about the game board. Units belong to a\u001b[39;49m\r\n\u001b[31m# team and can be moved about by taking actions.                                \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mUnit\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[11;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, name, icon):\u001b[12;14Hname = name\u001b[13;14Hicon = icon\u001b[K\u001b[14;14Hteam\n\b\b\b\bcarrying = []\u001b[18;7H\u001b[31mDraw this unit on the screen.                     \u001b[39;49m\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, col=\u001b[32m\"\"\u001b[39;49m):\u001b[K\u001b[20;5H    draw.char(x, y, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.icon, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.team.color+\u001b[32m\"!\"\u001b[39;49m+col)\u001b[K\r\n\u001b[K\u001b[22;5H\u001b[31m# Returns true if the two units (or cells) are allied.                      \u001b[39;49m\r\n\u001b[23;30H\u001b[7m7% L210\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[3;5H\u001b[?25l\u001b[31m# Returns true if the two units (or cells) are allied.                      \u001b[39;49m\r\n\u001b[4;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mallied\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, other):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m other.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.team \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m other.team \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.team.allies\u001b[8;3H\u001b[31mThe game is played by teams. Each team commands an army of units and  \u001b[39;49m\u001b[9;3H\u001b[31mmay also have other variables such as money, etc, governed by the\u001b[39;49m\r\n\u001b[31m# subclass of the current set of rules.                                         \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mTeam\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[12;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, name, color):\u001b[13;14Hname = name\u001b[14;14Hcolor = color\u001b[15;14Hallies = []\u001b[K\u001b[16;14Hactive = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.variables = {}\r\n\u001b[K\u001b[19;5H\u001b[31m# Returns true if the two teams are allied.                                 \u001b[39;49m\r\n\u001b[20;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mallied\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, team):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m team \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.allies\r\n\u001b[K\u001b[23;29H\u001b[7m61% L229\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m team \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.allies\r\n\u001b[K\n\u001b[K\n\u001b[31m# The controller of the grid. It takes a rules object and passes                \u001b[39;49m\r\n\u001b[31m# control back and forth between it. It doesn't usually need a                  \u001b[39;49m\r\n\u001b[31m# direct copy of the grid, except for its camera.                               \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mController\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, w, h, rules):\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.world = rules\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w = w\u001b[K\u001b[12;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h = h\u001b[K\r\n\u001b[K\n\t\u001b[31m# The elements of the grid.                                             \u001b[39;49m\r\n\u001b[15;14Hcam = widgets.Camera(w-16,h,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.world.grid)\u001b[16;14Hbuff1 = widgets.Buffer(15,7)\u001b[17;14Hbuff2 = widgets.Buffer(15,7)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.buff3 = widgets.Buffer(15,4)\r\n\u001b[K\u001b[20;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rulebook = \u001b[35mNone\u001b[39;49m\n\u001b[C\u001b[7m6% L248\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rulebook = \u001b[35mNone\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.textentry = \u001b[35mNone\u001b[39;49m\r\n\u001b[K\u001b[6;59H\u001b[4P\r\u001b[4@\t\b\b\u001b[31mThis function handles input passed from gfx.get_input.  \u001b[39;49m\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n        \u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cam.cursor\u001b[9;5H    \u001b[33mr\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[31m#                                                                       \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"?\"\u001b[39;49m:\u001b[13;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rulebook:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rulebook = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t        text = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.world.make_rulebook()\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rulebook = widgets.Rulebook(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h,text)\r\n\u001b[K\n\t\u001b[31m# If we have a menu, it capture the input. Otherwise, the camera        \u001b[39;49m\r\n\t\u001b[31m# does.                                                                 \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rulebook:\r\n\t    q = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rulebook.handle_input(c)\u001b[23;29H\u001b[7m70% L267\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rulebook:\r\n\t    q = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rulebook.handle_input(c)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.textentry:\u001b[K\u001b[5;13H\u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.textentry[0].handle_input(c)\u001b[6;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q:\u001b[K\u001b[7;5H            \u001b[33mr\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.world.process(q)\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.textentry = \u001b[35mNone\u001b[39;49m\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu:\u001b[10;13H\u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu[0].handle_input(c)\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q:\u001b[K\r\n\t        \u001b[33mr\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.world.process(q)\u001b[13;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[33mpos\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cam.handle_input(c)\u001b[16;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m pos:\u001b[K\n\b\b\b\u001b[33mr\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.world.process(pos)\u001b[K\u001b[19;14H\u001b[31mthe rules were processed, figure out if we need to display \u001b[39;49m\u001b[20;11H\u001b[31ma menu or highlight tiles.\u001b[39;49m\u001b[21;12Hr:\u001b[K\n\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cam.blink = []\u001b[K\n\b\b\u001b[7m4% L286\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;12H\u001b[?25lr:\u001b[K\n\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cam.blink = []\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m r == \u001b[32m\"coord\"\u001b[39;49m\u001b[5;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cam.blink = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.world.choices\r\n\t\t\br == \u001b[32m\"menu\"\u001b[39;49m:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = widgets.Menu(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.world.choices),cx,cy\u001b[8;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m r == \u001b[32m\"undo\"\u001b[39;49m:\u001b[K\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cam.grid = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.world.grid\u001b[10;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m r == \u001b[32m\"editor\"\u001b[39;49m:\u001b[K\u001b[11;13H    fields = []\r\n\t\tdata = {}\u001b[K\r\n\t\ttypes = {}\u001b[K\r\n\t        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m f \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.world.choices:\u001b[15;13H        fields.append(f)\u001b[K\u001b[16;13H        \u001b[33mdata\u001b[39;49m[f] = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.world.choices[f][\u001b[32m\"data\"\u001b[39;49m]\r\n\t\t    \u001b[33mtypes\u001b[39;49m[f] = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.world.choices[f][\u001b[32m\"type\"\u001b[39;49m]\r\n\t\tfields.sort(key=\u001b[1m\u001b[36mlambda\u001b[0m\u001b[39;49m x:\r\n\t                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.world.choices[x].get(\u001b[32m\"ordering\"\u001b[39;49m,100))\u001b[K\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.textentry = widgets.Editor(fields,data,types),cx,cy\u001b[K\r\n\u001b[K\n\t\u001b[31m# Get intel from the world's information method.                        \u001b[39;49m\r\n\u001b[23;30H\u001b[7m9% L305\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\n\t\u001b[?25l\u001b[31m# Get intel from the world's information method.                        \u001b[39;49m\r\n\t\u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cam.cursor\r\n\t\u001b[33mvx\u001b[39;49m,\u001b[33mvy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cam.viewport\u001b[K\r\n\t\u001b[33malerts\u001b[39;49m, \u001b[33mi1\u001b[39;49m, \u001b[33mi2\u001b[39;49m, \u001b[33mi3\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.world.pump_info(cx,cy)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m a,loc \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m alerts:\u001b[K\r\n\t\t\bloc == \u001b[32m\"c\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = (vx+(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cam.w//2)-(a.w//2),\r\n\t\t                  vy+(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cam.h//2)-(a.h//2))\u001b[10;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"tl\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx-a.w-1,cy-a.h-1\u001b[11;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"tr\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx+2,cy-a.h-1\u001b[12;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"bl\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx-a.w-1,cy+2\u001b[13;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"br\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx+2,cy+2\r\n\u001b[K\u001b[15;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append((a,x,y))\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (info,buff) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m ((i1,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.buff1),(i2,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.buff2),(i3,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.buff3)):\u001b[17;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m info \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\u001b[K\r\n\t\tbuff.clear()\u001b[K\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s,c \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m info:\u001b[K\r\n\t\t    buff.write(s,c)\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\r\n\u001b[K\u001b[23;29H\u001b[7m85% L324\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\r\n\u001b[K\u001b[4;5H\u001b[31m# Draw the grid to the terminal using the gfx library. Specify the          \u001b[39;49m\r\n\u001b[5;5H\u001b[31m# x,y and w,h of the viewport in the terminal, and the cx,cy of the         \u001b[39;49m\r\n\u001b[6;5H\u001b[31m# top-left of the map (including outside of the map).                       \u001b[39;49m\r\n\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, col=\u001b[35mNone\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rulebook:\u001b[K\u001b[9;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rulebook.draw(x,y)\u001b[K\u001b[10;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cam.draw(x,y)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.buff1.draw(x+(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w-15),y)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.buff2.draw(x+(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w-15),y+8)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.buff3.draw(x+(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w-15),y+16)\r\n\tdraw.fill(x+(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w-15),y+21,16,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h-20)\u001b[K\r\n\t\u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cam.viewport\r\n\u001b[K\n\t\u001b[31m# TODO, if it looks like the menu is going to run off any of            \u001b[39;49m\r\n\t\u001b[31m# the sides, rearrange it on the fly.                                   \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m item \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.textentry]+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts:\u001b[22;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m item:\u001b[23;29H\u001b[7m91% L343\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m item \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.textentry]+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts:\u001b[3;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m item:\u001b[4;5H            \u001b[33mm\u001b[39;49m,\u001b[33mmx\u001b[39;49m,\u001b[33mmy\u001b[39;49m = item\u001b[K\u001b[5;5H            \u001b[33mdx\u001b[39;49m = mx+x-cx\u001b[K\u001b[6;5H            \u001b[33mdy\u001b[39;49m = my+y-cy\u001b[K\u001b[7;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m item \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts:\r\n\t            \u001b[33mm.time\u001b[39;49m-=1\u001b[9;13H    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[10;13H        \u001b[33mdx\u001b[39;49m += 2\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m dx < 0: \u001b[33mdx\u001b[39;49m = 0\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m dx > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w-m.w: \u001b[33mdx\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w-m.w\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m dy < 0: \u001b[33mdy\u001b[39;49m = 0\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m dy > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h-m.h+1: \u001b[33mdy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h-m.h+1\r\n\t        m.draw(dx, dy)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = [a \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m a \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m a[0].time > 0]\r\n\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L362\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u001b[24d\u001b[?25lEnd of buffer\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u0007\u0007\u0007\u0007\u0007\u0007\u001b[24d\u001b[K\u001b[H\n\t\u001b[?25l    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cam.draw(x,y)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.buff1.draw(x+(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w-15),y)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.buff2.draw(x+(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w-15),y+8)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.buff3.draw(x+(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w-15),y+16)\r\n\tdraw.fill(x+(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w-15),y+21,16,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h-20)\r\n\t\u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cam.viewport\r\n\u001b[K\n\t\u001b[31m# TODO, if it looks like the menu is going to run off any of            \u001b[39;49m\r\n\t\u001b[31m# the sides, rearrange it on the fly.                                   \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m item \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.textentry]+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts:\u001b[14;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m item:\u001b[K\r\n\t\t\u001b[33mm\u001b[39;49m,\u001b[33mmx\u001b[39;49m,\u001b[33mmy\u001b[39;49m = item\r\n\t\t\u001b[33mdx\u001b[39;49m = mx+x-cx\r\n\t        \u001b[33mdy\u001b[39;49m = my+y-cy\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m item \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts:\u001b[19;21H\u001b[33mm.time\u001b[39;49m-=1\r\n\t\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\n\b\u001b[33mdx\u001b[39;49m += 2\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m dx < 0: \u001b[33mdx\u001b[39;49m = 0\n\b\b\b\b\b\u001b[7m93% L361\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"tl\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx-a.w-1,cy-a.h-1\u001b[3;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"tr\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx+2,cy-a.h-1\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"bl\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx-a.w-1,cy+2\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"br\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx+2,cy+2\r\n\u001b[K\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append((a,x,y))\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (info,buff) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m ((i1,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.buff1),(i2,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.buff2),(i3,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.buff3)):\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m info \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\u001b[K\r\n\t\tbuff.clear()\r\n\t        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s,c \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m info:\u001b[K\r\n\t            buff.write(s,c)\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[15;5H\u001b[31m# Draw the grid to the terminal using the gfx library. Specify the          \u001b[39;49m\r\n\u001b[16;5H\u001b[31m# x,y and w,h of the viewport in the terminal, and the cx,cy of the         \u001b[39;49m\r\n\u001b[17;5H\u001b[31m# top-left of the map (including outside of the map).                       \u001b[39;49m\r\n\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, col=\u001b[35mNone\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rulebook:\u001b[K\u001b[20;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rulebook.draw(x,y)\u001b[21;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[23;29H\u001b[7m88% L352\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\u001b[?25l\u001b[34mSwitch to buffer (default landing.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25llanding.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lshell.py\u001b[K\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[2;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[33mover\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\ngfx.clear()\u001b[7;13H\u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m over:\u001b[K\r\n\t        \u001b[33mc\u001b[39;49m = gfx.get_input()\u001b[K\u001b[9;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g:\u001b[K\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.handle_input(c)\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g.draw(1,1)\r\n\t\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m:\u001b[K\r\n\t            \u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m.handle_input(c)\u001b[14;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m.draw(1,1)\r\n\u001b[K\u001b[16;5H                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q == \u001b[32m\"quit\"\u001b[39;49m:\u001b[K\u001b[17;5H                    \u001b[33mover\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[18;5H                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m = \u001b[35mNone\u001b[39;49m\r\n\t            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m q:\u001b[20;13H            \u001b[33mmode\u001b[39;49m,\u001b[33mdata\u001b[39;49m = q\u001b[21;13H            \u001b[33mr\u001b[39;49m = rules.Rules(data, mode == \u001b[32m\"edit\"\u001b[39;49m)\r\n\t\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g = grid.Controller(78,22,r)\u001b[23;14H\u001b[7m\u001b[1mshell.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   67% L73   Git:\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[31m#self.buff.write(\"Hello, world!\")                                       \u001b[39;49m\r\n\u001b[4;5H\u001b[31m# Runs an interactive session of our game with the player until either      \u001b[39;49m\r\n\u001b[5;5H\u001b[31m# the player stops playing or an error occurs. Here, we pass input to the   \u001b[39;49m\r\n\u001b[6;5H\u001b[31m# world until we are told we don't need to anymore. If an error occurs, we  \u001b[39;49m\r\n\u001b[7;5H\u001b[31m# turn off graphics, print the traceback, and kill the program.             \u001b[39;49m\r\n\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrun\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode == \u001b[32m\"test\"\u001b[39;49m:\u001b[10;13Hgfx.start(\u001b[32m\"testing\"\u001b[39;49m)\u001b[K\u001b[11;13H\u001b[33mstart\u001b[39;49m = os.path.join(os.path.dirname(os.path.realpath(__file__)),\r\n\t\t                 \u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"tests\"\u001b[39;49m)\u001b[13;13H\u001b[33msuite\u001b[39;49m = unittest.TestLoader().discover(start)\u001b[14;13Hunittest.TextTestRunner().run(suite)\u001b[15;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\r\n\u001b[K\n\t\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\ngfx.start(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\u001b[K\r\n\t\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\u001b[1m\u001b[36mprint\u001b[0m\u001b[39;49m(\u001b[32m\"Can't run in %d mode.\"\u001b[39;49m%\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics)\u001b[21;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[23;29H\u001b[7m40% L62\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode = \u001b[32m\"play\"\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics = \u001b[32m\"ascii\"\u001b[39;49m\u001b[4;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"--test\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args:\u001b[K\u001b[5;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode = \u001b[32m\"test\"\u001b[39;49m\u001b[K\u001b[6;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"--sdl\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args:\u001b[K\u001b[7;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics = \u001b[32m\"sdl\"\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[31m# IN THE FUTURE ALL OF THIS WILL NOT EXIST                              \u001b[39;49m\r\n\t\u001b[33mqdata\u001b[39;49m = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[32m\"default.json\"\u001b[39;49m)\r\n\t\u001b[33mqdict\u001b[39;49m = json.loads(qdata)\u001b[K\r\n\t\u001b[33mqdict\u001b[39;49m[\u001b[32m\"players\"\u001b[39;49m] = {\u001b[32m\"Ishara\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:1,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"b\"\u001b[39;49m},\u001b[13;13H                \u001b[32m\"Ramen\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:0,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"r\"\u001b[39;49m}\u001b[14;13H               }\u001b[K\r\n\u001b[K\n\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m = \u001b[35mNone\u001b[39;49m\r\n\t\u001b[31m#self.buff = widgets.Buffer(10,5)                                       \u001b[39;49m\r\n\t\u001b[31m#self.buff.write(\"Hello, world!\")                                       \u001b[39;49m\r\n\u001b[23;29H\u001b[7m20% L43\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l\u001b[31m# graphics.                                                                     \u001b[39;49m\r\n\u001b[K\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m graphics \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m gfx, draw\r\n\u001b[K\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m . \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m rules, grid, widgets, storage\r\n\u001b[K\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m sys\r\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m os\u001b[K\r\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m traceback\u001b[K\r\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m random\u001b[K\r\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m unittest\u001b[K\r\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m json\u001b[K\r\n\u001b[K\n\u001b[31m# A Shell represents a single instance of a game, including its maps,           \u001b[39;49m\r\n\u001b[31m# data, and everything else.                                                    \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mShell\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, *args):\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode = \u001b[32m\"play\"\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics = \u001b[32m\"ascii\"\u001b[39;49m\n\b\b\b\u001b[7m 8% L24\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;21r\u001b[2;1H\u001b[3L\u001b[1;24r\u001b[2;1H\u001b[?25l\u001b[31m# The Shell is where it all starts. A Shell is an abstract and thin package in  \u001b[39;49m\r\n\u001b[A\n\u001b[31m# which all of the elements of the game are stored. It is responsible for       \u001b[39;49m\r\n\u001b[A\n\u001b[31m# creating the world, parsing and writing to save files, and turning on/off     \u001b[39;49m\r\n\u001b[A\u001b[22d\u001b[K\u001b[23;29H\u001b[7mTop L21\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\n\n\u001b[?25lBeginning of buffer\u001b[22;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u0007\u0007\u0007\u0007\u0007\n\n\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m19\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m9 \u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;44H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;45H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/shell.py...\u001b[9;53H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/shell.py\u001b[K\u001b[9;53H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;53H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[9;53H\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default grid.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25llanding.py\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[2;7H\u001b[31mlanding is the \"main menu\" of the game. Here you are able to select     \u001b[39;49m\u001b[3;3H\u001b[31mmaps to begin playing!                                                 \u001b[39;49m\r\n\u001b[K\n\u001b[K\n\n\u001b[K\n\n\u001b[K\n\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;4H\u001b[7mU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   All L2     (Python) -----------\u001b[0m\u001b[39;49m\u001b[27m\u001b[3;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   All L3\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[?25l\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[5;8H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[5;8H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[5d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;7H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[?25limpor\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[?25l\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\u001b[?25l\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[?25l\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\b\u001b[?25l\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[7;15H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[7;15H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;15H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[7;15H\u001b[?25lr\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;16H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[7;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[7;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   All L7\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m10\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m9 \u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;34H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;2H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[?25l\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lj\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[11;1H\u001b[1L\u001b[1;24r\u001b[11;1H\u001b[K\u001b[23;34H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[12;1H\u001b[1L\u001b[1;24r\u001b[12;1H\u001b[K\u001b[23;34H\u001b[?25l\u001b[7m10\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   All L11\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m9 \u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;12H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m10\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\r\u001b[?25l\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32mL\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mg\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lj)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\u001b[?25l\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[1;22r\u001b[14;1H\u001b[1L\u001b[1;24r\u001b[14;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lL\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[13;5H\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[34m_\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34m_\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mi\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mn\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mi\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mt\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34m_\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34m_\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34ms\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\r\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[13;29H\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[15;1H\u001b[1L\u001b[1;24r\u001b[15;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[14;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[14;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[14;9H\u001b[?25ls\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;10H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[16;1H\u001b[1L\u001b[1;24r\u001b[16;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[15;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[15;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[15;19H\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[15;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   All L15\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[18;1H\u001b[1L\u001b[1;24r\u001b[18;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[19;1H\u001b[1L\u001b[1;24r\u001b[19;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[20;1H\u001b[1L\u001b[1;24r\u001b[20;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32m\"                                                          \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[19;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[19;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mh\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mm\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mm\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[19;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[K\u001b[19;28H\r\n\n\n\n\n\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[19;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[19;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   All L19\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;29H\u001b[?25l\u001b[7mTop L20\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, w, h):\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w = w\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h = h\r\n\u001b[K\n\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"home\"\u001b[39;49m\r\n\u001b[K\n\n\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\n\n\n\u001b[K\u001b[23;29H\u001b[7mBot L22\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\b\b\b\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[34mh\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34ma\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mn\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34md\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34me\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25l\u001b[1m\u001b[34ml\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34me\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34m_\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mi\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mn\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mt\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25l\u001b[1m\u001b[34mp\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mu\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mt\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\u001b[12;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;30H\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\b\b\b\u001b[?25l\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[11;6H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mH\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mw\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mh\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ml\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mp\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mu\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mb\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mu\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[31mc\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mu\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m.\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;55H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u001b[24d\u001b[?25lEnd of buffer\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\b\b\b\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[34md\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34ma\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mr\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mw\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25l\u001b[1m\u001b[34mr\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34ma\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mw\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\u001b[16;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\b\b\b\u001b[?25l\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[15;6H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mH\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mw\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mw\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mu\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l\u001b[31mc\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mu\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m.\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[15;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[15;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m19\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\b\b\b\u001b[K\u001b[C\b\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\r\t\u001b[?25lsel\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\r\u001b[K\t\b\b\b\b\r\u001b[1;22r\u001b[10;1H\u001b[1M\u001b[1;24r\u001b[22;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[8;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[8;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;16r\u001b[10;1H\u001b[1L\u001b[1;24r\u001b[24;1H\u001b[K\u001b[10d\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L19\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lAuto-saving...\u001b[9;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[9;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[9;20H\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25l)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[8;28H\u001b[1;22r\u001b[10;1H\u001b[1L\u001b[1;24r\u001b[9;1H\u001b[K\n\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.generate()\u001b[K\u001b[23;35H\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[24;1H\u001b[?25lMismatched parentheses\u001b[9;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l]\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[9;23H\u001b[K\t\b\u001b[?25l[\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l]\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[11;1H\u001b[1L\u001b[1;24r\u001b[10;1H\u001b[K\n\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.generate()\u001b[K\u001b[23;34H\u001b[7m20\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[10;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[10;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[10;23H\u001b[?25l0\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[10;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[10;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;34H\u001b[?25l\u001b[7m19\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;18r\u001b[7;1H\u001b[1M\u001b[1;24r\u001b[18;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[8;1H\u001b[1M\u001b[1;24r\u001b[6;9H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"home\"\u001b[39;49m\u001b[7;14Hoptions = []\u001b[K\u001b[22;1H\u001b[K\u001b[6d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m20\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;17r\u001b[11;1H\u001b[1L\u001b[1;24r\u001b[11;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L21\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;17r\u001b[11;1H\u001b[1M\u001b[1;24r\u001b[17;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[13;1H\u001b[1L\u001b[1;24r\u001b[11;1H\u001b[K\u001b[12;5H\u001b[?25l\u001b[31m# Here we handle input based on our current state.                          \u001b[39;49m\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\u001b[23;35H\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[14;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[14;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u001b[24d\u001b[?25lEnd of buffer\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[18;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[18;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mI-search: \u001b[39;49m\u001b[K\u001b[18;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;47H\u001b[?25l\u001b[7m Isearch) \u001b[0m\u001b[39;49m\u001b[27m\u001b[18;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[18;9H\u001b[24;1H\u001b[?25lC-x\u001b[18;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;4H\u001b[?25l-\u001b[18;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u001b[24;4H\u001b[?25l C-g is undefined\u001b[18;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;47H\u001b[?25l\u001b[7m) --------\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[18;9H\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[18;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[18;9H\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default shell.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lshell.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[2;5H        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"tl\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx-a.w-1,cy-a.h-1\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"tr\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx+2,cy-a.h-1\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"bl\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx-a.w-1,cy+2\u001b[5;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"br\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx+2,cy+2\r\n\u001b[K\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append((a,x,y))\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (info,buff) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m ((i1,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.buff1),(i2,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.buff2),(i3,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.buff3)):\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m info \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\r\n\t\tbuff.clear()\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s,c \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m info:\u001b[12;5H                buff.write(s,c)\u001b[K\u001b[13;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\u001b[15;5H\u001b[31m# Draw the grid to the terminal using the gfx library. Specify the          \u001b[39;49m\r\n\t\b\b\u001b[31mx,y and w,h of the viewport in the terminal, and the cx,cy of the\u001b[39;49m\u001b[17;5H\u001b[31m# top-left of the map (including outside of the map).                       \u001b[39;49m\r\n\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, col=\u001b[35mNone\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rulebook:\u001b[20;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rulebook.draw(x,y)\u001b[21;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[23;4H\u001b[7m-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mgrid.py     \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   88% L352  Git-master  (Python) \u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cam.draw(x,y)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.buff1.draw(x+(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w-15),y)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.buff2.draw(x+(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w-15),y+8)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.buff3.draw(x+(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w-15),y+16)\r\n\tdraw.fill(x+(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w-15),y+21,16,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h-20)\u001b[K\r\n\t\u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cam.viewport\r\n\u001b[K\n\t\u001b[31m# TODO, if it looks like the menu is going to run off any of            \u001b[39;49m\r\n\t\u001b[31m# the sides, rearrange it on the fly.                                   \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m item \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.textentry]+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts:\u001b[14;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m item:\u001b[15;5H            \u001b[33mm\u001b[39;49m,\u001b[33mmx\u001b[39;49m,\u001b[33mmy\u001b[39;49m = item\u001b[K\u001b[16;5H            \u001b[33mdx\u001b[39;49m = mx+x-cx\u001b[K\u001b[17;5H            \u001b[33mdy\u001b[39;49m = my+y-cy\u001b[K\u001b[18;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m item \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts:\r\n\t            \u001b[33mm.time\u001b[39;49m-=1\u001b[20;13H    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[21;13H        \u001b[33mdx\u001b[39;49m += 2\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m dx < 0: \u001b[33mdx\u001b[39;49m = 0\n\b\b\b\b\b\u001b[7m93\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l        \u001b[33mdx\u001b[39;49m += 2\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m dx < 0: \u001b[33mdx\u001b[39;49m = 0\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m dx > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w-m.w: \u001b[33mdx\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w-m.w\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m dy < 0: \u001b[33mdy\u001b[39;49m = 0\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m dy > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h-m.h+1: \u001b[33mdy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h-m.h+1\r\n\t        m.draw(dx, dy)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = [a \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m a \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m a[0].time > 0]\r\n\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L370\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u001b[24d\u001b[?25lEnd of buffer\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[2d\u001b[K\n\t\u001b[?25l\u001b[31m# TODO, if it looks like the menu is going to run off any of            \u001b[39;49m\r\n\t\u001b[31m# the sides, rearrange it on the fly.                                   \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m item \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.textentry]+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts:\u001b[6;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m item:\u001b[K\r\n\t\t\u001b[33mm\u001b[39;49m,\u001b[33mmx\u001b[39;49m,\u001b[33mmy\u001b[39;49m = item\r\n\t\t\u001b[33mdx\u001b[39;49m = mx+x-cx\r\n\t        \u001b[33mdy\u001b[39;49m = my+y-cy\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m item \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts:\u001b[11;21H\u001b[33mm.time\u001b[39;49m-=1\r\n\t\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\n\b\u001b[33mdx\u001b[39;49m += 2\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m dx < 0: \u001b[33mdx\u001b[39;49m = 0\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m dx > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w-m.w: \u001b[33mdx\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w-m.w\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m dy < 0: \u001b[33mdy\u001b[39;49m = 0\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m dy > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h-m.h+1: \u001b[33mdy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h-m.h+1\r\n\t\tm.draw(dx, dy)\r\n\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = [a \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m a \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m a[0].time > 0]\u001b[23;35H\u001b[7m69\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m59\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, col=\u001b[35mNone\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rulebook:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rulebook.draw(x,y)\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cam.draw(x,y)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.buff1.draw(x+(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w-15),y)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.buff2.draw(x+(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w-15),y+8)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.buff3.draw(x+(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w-15),y+16)\r\n\tdraw.fill(x+(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w-15),y+21,16,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h-20)\r\n\t\u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cam.viewport\r\n\u001b[K\n\t\u001b[31m# TODO, if it looks like the menu is going to run off any of            \u001b[39;49m\r\n\t\u001b[31m# the sides, rearrange it on the fly.                                   \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m item \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.textentry]+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts:\u001b[17;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m item:\u001b[K\r\n\t\t\u001b[33mm\u001b[39;49m,\u001b[33mmx\u001b[39;49m,\u001b[33mmy\u001b[39;49m = item\r\n\t\t\u001b[33mdx\u001b[39;49m = mx+x-cx\r\n\t        \u001b[33mdy\u001b[39;49m = my+y-cy\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m item \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts:\u001b[22;21H\u001b[33mm.time\u001b[39;49m-=1\n\b\u001b[7m93% L358\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m49\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l(No changes need to be saved)\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;36H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m50\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l\u001b[34mSwitch to buffer (default landing.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25llanding.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\t\u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, w, h):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w = w\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h = h\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"home\"\u001b[39;49m\u001b[7;14Hoptions = []\u001b[K\u001b[8;14Hcursor = 0\u001b[K\u001b[9;14Hgenerate()\u001b[K\r\n\u001b[K\n\u001b[K\u001b[12;5H\u001b[31m# Here we handle input based on our current state.                          \u001b[39;49m\r\n\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\r\n\u001b[K\n\u001b[K\u001b[16;5H\u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;4H\u001b[7mU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L28    (Python) -----------\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[18;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;18r\u001b[12;1H\u001b[1L\u001b[1;24r\u001b[12;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L21\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[13;1H\u001b[1L\u001b[1;24r\u001b[13;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[13;1H\u001b[1M\u001b[1;24r\u001b[22;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[12;1H\u001b[1M\u001b[1;24r\u001b[22;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[11;1H\u001b[1M\u001b[1;24r\u001b[22;1H\u001b[K\u001b[23;34H\u001b[?25l\u001b[7m19\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[9;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[9;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[9;24H\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default grid.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lshell.py\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l*scratch*\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrules.py\u001b[K\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lstorage.py\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[31m# This reads a file from the provided data directory.                           \u001b[39;49m\r\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mread_data\u001b[0m\u001b[39;49m(*args):\u001b[4;5H\u001b[33mdata\u001b[39;49m = os.path.join(os.path.dirname(os.path.realpath(__file__)),\r\n\t\t\t\u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"data\"\u001b[39;49m)\u001b[6;5H\u001b[33mtarget\u001b[39;49m = os.path.join(data, *args)\u001b[7;5H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(target):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\u001b[9;5H\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\n\u001b[33mf\u001b[39;49m = \u001b[1m\u001b[34mopen\u001b[0m\u001b[39;49m(target,\u001b[32m\"r\"\u001b[39;49m)\u001b[11;5H    \u001b[33ms\u001b[39;49m = f.read()\u001b[K\u001b[12;5H    f.close()\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m s\u001b[14;5H\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[15;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[23;4H\u001b[7m-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mstorage.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L39   Git:master  (Python) \u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(targetdir):\u001b[K\r\n        os.makedirs(targetdir)\u001b[4;5H\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\n\u001b[33mf\u001b[39;49m = \u001b[1m\u001b[34mopen\u001b[0m\u001b[39;49m(target,\u001b[32m\"w\"\u001b[39;49m)\u001b[K\u001b[6;5H    f.write(data)\u001b[K\u001b[7;5H    f.close()\u001b[K\n\b\b\u001b[35mTru\u001b[39;49m\u001b[9;5H\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# This reads a file from the provided data directory.                           \u001b[39;49m\r\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mread_data\u001b[0m\u001b[39;49m(*args):\u001b[15;5H\u001b[33mdata\u001b[39;49m = os.path.join(os.path.dirname(os.path.realpath(__file__)),\r\n\t\t\t\u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"data\"\u001b[39;49m)\u001b[17;5H\u001b[33mtarget\u001b[39;49m = os.path.join(data, *args)\u001b[18;5H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(target):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[20;5H\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\n\u001b[33mf\u001b[39;49m = \u001b[1m\u001b[34mopen\u001b[0m\u001b[39;49m(target,\u001b[32m\"r\"\u001b[39;49m)\r\n\t\u001b[33ms\u001b[39;49m = f.read()\u001b[23;29H\u001b[7m60% L38\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m29\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    f.close()\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m s\u001b[K\u001b[4;5H\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[31m# This saves a file to the home directory, overwriting if appropriate.          \u001b[39;49m\r\n\u001b[31m# Returns False if something goes wrong.                                        \u001b[39;49m\r\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34msave\u001b[0m\u001b[39;49m(data, *args):\u001b[10;5H\u001b[33mhome\u001b[39;49m = os.path.join(os.path.expanduser(\u001b[32m\"~\"\u001b[39;49m),\u001b[32m\".rules-of-war\"\u001b[39;49m)\u001b[11;5H\u001b[33mtargetdir\u001b[39;49m = os.path.join(home, *(args[:-1]))\u001b[12;5H\u001b[33mtarget\u001b[39;49m = os.path.join(home, *args)\r\n    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(targetdir):\u001b[K\r\n        os.makedirs(targetdir)\u001b[15;5H\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\n\u001b[33mf\u001b[39;49m = \u001b[1m\u001b[34mopen\u001b[0m\u001b[39;49m(target,\u001b[32m\"w\"\u001b[39;49m)\u001b[K\u001b[17;5H    f.write(data)\u001b[K\u001b[18;5H    f.close()\u001b[K\n\b\b\u001b[35mTru\u001b[39;49m\u001b[20;5H\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[23;29H\u001b[7m36% L27\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m19\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m# This reads the text from a file from the home directory. Each arg is a        \u001b[39;49m\r\n\u001b[31m# folder in the filename, and will be joined as appropriate. Returns None if    \u001b[39;49m\r\n\u001b[31m# the file does not exist.                                                      \u001b[39;49m\r\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mread\u001b[0m\u001b[39;49m(*args):\u001b[K\u001b[6;5H\u001b[33mhome\u001b[39;49m = os.path.join(os.path.expanduser(\u001b[32m\"~\"\u001b[39;49m),\u001b[32m\".rules-of-war\"\u001b[39;49m)\r\n    \u001b[33mtarget\u001b[39;49m = os.path.join(home, *args)\u001b[K\r\n    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(target):\u001b[K\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\u001b[10;5H\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b    \u001b[33mf\u001b[39;49m = \u001b[1m\u001b[34mopen\u001b[0m\u001b[39;49m(target,\u001b[32m\"r\"\u001b[39;49m)\u001b[K\u001b[12;5H    \u001b[33ms\u001b[39;49m = f.read()\u001b[K\u001b[13;5H    f.close()\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m s\u001b[K\u001b[15;5H\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[31m# This saves a file to the home directory, overwriting if appropriate.          \u001b[39;49m\r\n\u001b[31m# Returns False if something goes wrong.                                        \u001b[39;49m\r\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34msave\u001b[0m\u001b[39;49m(data, *args):\u001b[21;5H\u001b[33mhome\u001b[39;49m = os.path.join(os.path.expanduser(\u001b[32m\"~\"\u001b[39;49m),\u001b[32m\".rules-of-war\"\u001b[39;49m)\u001b[22;5H\u001b[33mtargetdir\u001b[39;49m = os.path.join(home, *(args[:-1]))\u001b[23;29H\u001b[7m 8% L16\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m9 \u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m10\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m20\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l    \u001b[33mhome\u001b[39;49m = os.path.join(os.path.expanduser(\u001b[32m\"~\"\u001b[39;49m),\u001b[32m\".rules-of-war\"\u001b[39;49m)\u001b[K\r\n    \u001b[33mtargetdir\u001b[39;49m = os.path.join(home, *(args[:-1]))\u001b[K\r\n    \u001b[33mtarget\u001b[39;49m = os.path.join(home, *args)\u001b[K\r\n    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(targetdir):\u001b[6;5H    os.makedirs(targetdir)\u001b[K\u001b[7;5H\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b    \u001b[33mf\u001b[39;49m = \u001b[1m\u001b[34mopen\u001b[0m\u001b[39;49m(target,\u001b[32m\"w\"\u001b[39;49m)\u001b[K\r\n\tf.write(data)\u001b[10;5H    f.close()\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[12;5H\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mFalse\u001b[39;49m\r\n\u001b[K\n\u001b[K\n\u001b[31m# This reads a file from the provided data directory.                           \u001b[39;49m\r\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mread_data\u001b[0m\u001b[39;49m(*args):\r\n    \u001b[33mdata\u001b[39;49m = os.path.join(os.path.dirname(os.path.realpath(__file__)),\u001b[K\r\n                        \u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"data\"\u001b[39;49m)\u001b[K\r\n    \u001b[33mtarget\u001b[39;49m = os.path.join(data, *args)\u001b[21;5H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(target):\u001b[K\u001b[22;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\u001b[23;29H\u001b[7m49% L25\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m30\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(target):\u001b[K\u001b[3;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\u001b[4;5H\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b    \u001b[33mf\u001b[39;49m = \u001b[1m\u001b[34mopen\u001b[0m\u001b[39;49m(target,\u001b[32m\"r\"\u001b[39;49m)\u001b[K\r\n\t\u001b[33ms\u001b[39;49m = f.read()\u001b[K\u001b[7;5H    f.close()\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m s\u001b[K\u001b[9;5H\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\r\n\u001b[K\n\u001b[K\n\u001b[K\n\n\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L44\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[33mhome\u001b[39;49m = os.path.join(os.path.expanduser(\u001b[32m\"~\"\u001b[39;49m),\u001b[32m\".rules-of-war\"\u001b[39;49m)\u001b[3;5H\u001b[33mtargetdir\u001b[39;49m = os.path.join(home, *(args[:-1]))\u001b[4;5H\u001b[33mtarget\u001b[39;49m = os.path.join(home, *args)\u001b[5;5H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(targetdir):\r\n\tos.makedirs(targetdir)\u001b[7;5H\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\n\u001b[33mf\u001b[39;49m = \u001b[1m\u001b[34mopen\u001b[0m\u001b[39;49m(target,\u001b[32m\"w\"\u001b[39;49m)\u001b[9;5H    f.write(data)\r\n\tf.close()\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mTrue\u001b[39;49m\u001b[12;5H\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mFalse\u001b[39;49m\r\n\n\n\u001b[31m# This reads a file from the provided data directory.                           \u001b[39;49m\r\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mread_data\u001b[0m\u001b[39;49m(*args):\u001b[18;5H\u001b[33mdata\u001b[39;49m = os.path.join(os.path.dirname(os.path.realpath(__file__)),\r\n\t\t\t\u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"data\"\u001b[39;49m)\u001b[20;5H\u001b[33mtarget\u001b[39;49m = os.path.join(data, *args)\u001b[21;5H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(target):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[23;29H\u001b[7m49%\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m39\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l\u001b[31m# This reads the text from a file from the home directory. Each arg is a        \u001b[39;49m\r\n\u001b[31m# folder in the filename, and will be joined as appropriate. Returns None if    \u001b[39;49m\r\n\u001b[31m# the file does not exist.                                                      \u001b[39;49m\r\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mread\u001b[0m\u001b[39;49m(*args):\u001b[K\u001b[6;5H\u001b[33mhome\u001b[39;49m = os.path.join(os.path.expanduser(\u001b[32m\"~\"\u001b[39;49m),\u001b[32m\".rules-of-war\"\u001b[39;49m)\u001b[7;5H\u001b[33mtarget\u001b[39;49m = os.path.join(home, *args)\u001b[8;5H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(target):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\u001b[10;5H\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\n\u001b[33mf\u001b[39;49m = \u001b[1m\u001b[34mopen\u001b[0m\u001b[39;49m(target,\u001b[32m\"r\"\u001b[39;49m)\u001b[12;5H    \u001b[33ms\u001b[39;49m = f.read()\r\n\tf.close()\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m s\u001b[15;5H\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[31m# This saves a file to the home directory, overwriting if appropriate.          \u001b[39;49m\r\n\u001b[31m# Returns False if something goes wrong.                                        \u001b[39;49m\r\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34msave\u001b[0m\u001b[39;49m(data, *args):\u001b[K\u001b[21;5H\u001b[33mhome\u001b[39;49m = os.path.join(os.path.expanduser(\u001b[32m\"~\"\u001b[39;49m),\u001b[32m\".rules-of-war\"\u001b[39;49m)\u001b[22;5H\u001b[33mtargetdir\u001b[39;49m = os.path.join(home, *(args[:-1]))\u001b[23;29H\u001b[7m 8% L26\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m19\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m9 \u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l    \u001b[33mhome\u001b[39;49m = os.path.join(os.path.expanduser(\u001b[32m\"~\"\u001b[39;49m),\u001b[32m\".rules-of-war\"\u001b[39;49m)\u001b[K\r\n    \u001b[33mtargetdir\u001b[39;49m = os.path.join(home, *(args[:-1]))\u001b[K\r\n    \u001b[33mtarget\u001b[39;49m = os.path.join(home, *args)\u001b[K\r\n    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(targetdir):\u001b[6;5H    os.makedirs(targetdir)\u001b[K\u001b[7;5H\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b    \u001b[33mf\u001b[39;49m = \u001b[1m\u001b[34mopen\u001b[0m\u001b[39;49m(target,\u001b[32m\"w\"\u001b[39;49m)\u001b[K\r\n\tf.write(data)\u001b[10;5H    f.close()\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[12;5H\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mFalse\u001b[39;49m\r\n\u001b[K\n\u001b[K\n\u001b[31m# This reads a file from the provided data directory.                           \u001b[39;49m\r\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mread_data\u001b[0m\u001b[39;49m(*args):\r\n    \u001b[33mdata\u001b[39;49m = os.path.join(os.path.dirname(os.path.realpath(__file__)),\u001b[K\r\n                        \u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"data\"\u001b[39;49m)\u001b[K\r\n    \u001b[33mtarget\u001b[39;49m = os.path.join(data, *args)\u001b[21;5H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(target):\u001b[K\u001b[22;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\u001b[23;29H\u001b[7m49% L25\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m30\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l\u001b[31m# This reads the text from a file from the home directory. Each arg is a        \u001b[39;49m\r\n\u001b[31m# folder in the filename, and will be joined as appropriate. Returns None if    \u001b[39;49m\r\n\u001b[31m# the file does not exist.                                                      \u001b[39;49m\r\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mread\u001b[0m\u001b[39;49m(*args):\u001b[K\u001b[6;5H\u001b[33mhome\u001b[39;49m = os.path.join(os.path.expanduser(\u001b[32m\"~\"\u001b[39;49m),\u001b[32m\".rules-of-war\"\u001b[39;49m)\u001b[7;5H\u001b[33mtarget\u001b[39;49m = os.path.join(home, *args)\u001b[8;5H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(target):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\u001b[10;5H\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\n\u001b[33mf\u001b[39;49m = \u001b[1m\u001b[34mopen\u001b[0m\u001b[39;49m(target,\u001b[32m\"r\"\u001b[39;49m)\u001b[12;5H    \u001b[33ms\u001b[39;49m = f.read()\r\n\tf.close()\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m s\u001b[15;5H\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[31m# This saves a file to the home directory, overwriting if appropriate.          \u001b[39;49m\r\n\u001b[31m# Returns False if something goes wrong.                                        \u001b[39;49m\r\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34msave\u001b[0m\u001b[39;49m(data, *args):\u001b[K\u001b[21;5H\u001b[33mhome\u001b[39;49m = os.path.join(os.path.expanduser(\u001b[32m\"~\"\u001b[39;49m),\u001b[32m\".rules-of-war\"\u001b[39;49m)\u001b[22;5H\u001b[33mtargetdir\u001b[39;49m = os.path.join(home, *(args[:-1]))\u001b[23;29H\u001b[7m 8% L26\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[18;1H\u001b[1L\u001b[1;24r\u001b[18;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mstorage.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m    8% L22\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[20;1H\u001b[1L\u001b[1;24r\u001b[19;1H\u001b[K\n\u001b[?25l\u001b[31m# This saves a file to the home directory, overwriting if appropriate.          \u001b[39;49m\r\n\u001b[A\u001b[23;35H\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[21;1H\u001b[1L\u001b[1;24r\u001b[20;1H\u001b[K\n\u001b[?25l\u001b[31m# This saves a file to the home directory, overwriting if appropriate.          \u001b[39;49m\r\n\u001b[A\u001b[23;35H\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l;\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[C\u001b[?25l\u001b[1m\u001b[34ml\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mi\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34ms\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mt\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34m_\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mf\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mi\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34ml\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34me\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34ms\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l*\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[19;22H\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m#                                                                               \u001b[39;49m\r\n\u001b[A\u001b[C\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mT\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mj\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mh\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mu\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[31ml\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31ml\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mf\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mf\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ml\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mm\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mu\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mh\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mp\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mv\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mc\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31my\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[31m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31my\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m.\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/storage.py...\u001b[18;65H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/storage.py\u001b[K\u001b[18;65H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;65H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m19\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;12H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23d\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;65H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[8;1H\u001b[1M\u001b[1;24r\u001b[6;5H\u001b[?25l\u001b[33mtarget\u001b[39;49m = os.path.join(home, *args)\u001b[7;5H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(target):\u001b[K\u001b[22;1H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34msave\u001b[0m\u001b[39;49m(data, *args):\u001b[K\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[1;22r\u001b[8;1H\u001b[1M\u001b[1;24r\u001b[6;5H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(target):\u001b[7;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\u001b[22;1H    \u001b[33mhome\u001b[39;49m = os.path.join(os.path.expanduser(\u001b[32m\"~\"\u001b[39;49m),\u001b[32m\".rules-of-war\"\u001b[39;49m)\u001b[K\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[1;22r\u001b[8;1H\u001b[1M\u001b[1;24r\u001b[6;9H\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[7;5H\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\u001b[22;1H    \u001b[33mtargetdir\u001b[39;49m = os.path.join(home, *(args[:-1]))\u001b[K\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[23;30H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lMark set\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[8;1H\u001b[3L\u001b[1;24r\u001b[6;5H\u001b[?25l\u001b[33mhome\u001b[39;49m = os.path.join(os.path.expanduser(\u001b[32m\"~\"\u001b[39;49m),\u001b[32m\".rules-of-war\"\u001b[39;49m)\u001b[7;5H\u001b[33mtarget\u001b[39;49m = os.path.join(home, *args)\r\n    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(target):\u001b[K\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n    \u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\u001b[23;30H\u001b[7m8% L13\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;12H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m20\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\b\u001b[1;22r\u001b[21;1H\u001b[1L\u001b[1;24r\u001b[21;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\n\u001b[?25lMark set\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l        f.close()\u001b[K\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m s\u001b[K\r\n    \u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\r\n\u001b[K\n\u001b[31m# This returns a list of filenames under the provided directory.                \u001b[39;49m\r\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlist_files\u001b[0m\u001b[39;49m(*args):\u001b[K\u001b[9;5H\u001b[33mhome\u001b[39;49m = os.path.join(os.path.expanduser(\u001b[32m\"~\"\u001b[39;49m),\u001b[32m\".rules-of-war\"\u001b[39;49m)\u001b[10;5H\u001b[33mtarget\u001b[39;49m = os.path.join(home, *args)\u001b[11;5H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(target):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[31m# This saves a file to the home directory, overwriting if appropriate.          \u001b[39;49m\r\n\u001b[31m# Returns False if something goes wrong.                                        \u001b[39;49m\r\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34msave\u001b[0m\u001b[39;49m(data, *args):\u001b[17;5H\u001b[33mhome\u001b[39;49m = os.path.join(os.path.expanduser(\u001b[32m\"~\"\u001b[39;49m),\u001b[32m\".rules-of-war\"\u001b[39;49m)\r\n    \u001b[33mtargetdir\u001b[39;49m = os.path.join(home, *(args[:-1]))\u001b[K\r\n    \u001b[33mtarget\u001b[39;49m = os.path.join(home, *args)\u001b[20;5H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(targetdir):\r\n\tos.makedirs(targetdir)\r\n    \u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\u001b[23;29H\u001b[7m31% L27\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[12;20H\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/storage.py...\u001b[12;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/storage.py\u001b[K\u001b[12;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\t\t\t\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;65H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23d\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25lNon\u001b[K\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[24;1H\u001b[?25lOverwrite mode enabled\u001b[12;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;58H\u001b[?25l\u001b[7m Ovwrt) \u001b[0m\u001b[39;49m\u001b[27m\u001b[12;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;16H\u001b[?25ldisabled\u001b[12;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;58H\u001b[?25l\u001b[7m) ------\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[12;15H\u001b[K\t\b\b\t\b\u001b[?25l[\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l]\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[C\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/storage.py...\u001b[12;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/storage.py\u001b[K\u001b[12;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[14;1H\u001b[1L\u001b[1;24r\u001b[24;1H\u001b[K\u001b[14d\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mstorage.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   31% L28\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\b\b\b\u001b[?25l[ f \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m f \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m listdir(mypath) \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m isfile(join(mypath,f)) ]\u001b[23;30H\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;5H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[13;61H\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m30\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[23;34H\u001b[?25l\u001b[7m29\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[?25l\u001b[1@o\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@s\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\u001b[?25l\u001b[1@o\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@s\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@.\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[C\u001b[C\u001b[C\u001b[C\u001b[?25l\u001b[1@r\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@e\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@u\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@r\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\u001b[?25l\u001b[1m\u001b[36mretur\u001b[0m\u001b[39;49m\u001b[1@\u001b[1m\u001b[36mn\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@ \u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/storage.py...\u001b[13;12H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/storage.py\u001b[K\u001b[13;12H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;12H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[13;74H\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[?25l\u001b[1@o\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;58H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@s\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/storage.py...\u001b[13;60H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/storage.py\u001b[K\u001b[13;60H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;60H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[13;59H\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[?25l\u001b[1P\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@a\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@r\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@g\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@e\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[13;77H\b\b\b\b\b\b\b\u001b[C\b\u001b[?25l,f)) ]\u001b[K\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l,f)) ]\u001b[K\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l,f)) ]\u001b[K\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l,f)) ]\u001b[K\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l,f)) ]\u001b[K\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l,f)) ]\u001b[K\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt,f)) ]\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la,f)) ]\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr,f)) ]\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg,f)) ]\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le,f)) ]\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt,f)) ]\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/storage.py...\u001b[13;71H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/storage.py\u001b[K\u001b[13;71H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;71H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23d\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;65H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mstorage.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   31\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[9;1H\u001b[1M\u001b[1;24r\u001b[7;1H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlist_files\u001b[0m\u001b[39;49m(*args):\r\n    \u001b[33mhome\u001b[39;49m = os.path.join(os.path.expanduser(\u001b[32m\"~\"\u001b[39;49m),\u001b[32m\".rules-of-war\"\u001b[39;49m)\u001b[22;1H    \u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[1;22r\u001b[9;1H\u001b[1M\u001b[1;24r\u001b[7;5H\u001b[?25l\u001b[33mhome\u001b[39;49m = os.path.join(os.path.expanduser(\u001b[32m\"~\"\u001b[39;49m),\u001b[32m\".rules-of-war\"\u001b[39;49m)\u001b[8;5H\u001b[33mtarget\u001b[39;49m = os.path.join(home, *args)\u001b[K\u001b[22;1H        \u001b[33mf\u001b[39;49m = \u001b[1m\u001b[34mopen\u001b[0m\u001b[39;49m(target,\u001b[32m\"w\"\u001b[39;49m)\u001b[K\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[23;30H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[9;1H\u001b[1M\u001b[1;24r\u001b[7;5H\u001b[?25l\u001b[33mtarget\u001b[39;49m = os.path.join(home, *args)\u001b[8;5H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(target):\u001b[K\u001b[22;1H        f.write(data)\u001b[K\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[23;30H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[9;1H\u001b[1M\u001b[1;24r\u001b[7;5H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(target):\u001b[8;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m []\u001b[K\u001b[22;1H        f.close()\u001b[K\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[23;30H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[9;1H\u001b[1M\u001b[1;24r\u001b[7;9H\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m []\u001b[8;5H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m [ f \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m f \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m os.listdir(target) \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m os.isfile(os.join(target,f)) ]\u001b[22;1H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[1;22r\u001b[9;1H\u001b[1M\u001b[1;24r\u001b[7;5H\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m [ f \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m f \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m os.listdir(target) \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m os.isfile(os.join(target,f)) ]\r\n\u001b[K\u001b[22d    \u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[23;30H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lMark set\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[9;1H\u001b[6L\u001b[1;24r\u001b[7;1H\u001b[?25l\u001b[31m# This returns a list of filenames under the provided directory.                \u001b[39;49m\r\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlist_files\u001b[0m\u001b[39;49m(*args):\r\n    \u001b[33mhome\u001b[39;49m = os.path.join(os.path.expanduser(\u001b[32m\"~\"\u001b[39;49m),\u001b[32m\".rules-of-war\"\u001b[39;49m)\u001b[K\r\n    \u001b[33mtarget\u001b[39;49m = os.path.join(home, *args)\u001b[K\r\n    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(target):\u001b[K\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m []\u001b[K\r\n    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m [ f \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m f \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m os.listdir(target) \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m os.isfile(os.join(target,f)) ]\u001b[K\r\n\u001b[K\u001b[23;30H\u001b[7m0% L28\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;77H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[13;77H\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/storage.py...\u001b[13d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/storage.py\u001b[K\u001b[13;77H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;77H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(targetdir):\r\n\tos.makedirs(targetdir)\u001b[4;5H\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\n\u001b[33mf\u001b[39;49m = \u001b[1m\u001b[34mopen\u001b[0m\u001b[39;49m(target,\u001b[32m\"w\"\u001b[39;49m)\r\n\tf.write(data)\r\n        f.close()\u001b[K\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[9;5H\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\u001b[10;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# This reads a file from the provided data directory.                           \u001b[39;49m\r\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mread_data\u001b[0m\u001b[39;49m(*args):\r\n    \u001b[33mdata\u001b[39;49m = os.path.join(os.path.dirname(os.path.realpath(__file__)),\u001b[K\r\n                        \u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"data\"\u001b[39;49m)\u001b[K\r\n    \u001b[33mtarget\u001b[39;49m = os.path.join(data, *args)\u001b[18;5H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(target):\u001b[K\u001b[19;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\u001b[20;5H\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b    \u001b[33mf\u001b[39;49m = \u001b[1m\u001b[34mopen\u001b[0m\u001b[39;49m(target,\u001b[32m\"r\"\u001b[39;49m)\u001b[K\r\n\t\u001b[33ms\u001b[39;49m = f.read()\u001b[K\u001b[23;29H\u001b[7m67% L36\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[33mf\u001b[39;49m = \u001b[1m\u001b[34mopen\u001b[0m\u001b[39;49m(target,\u001b[32m\"r\"\u001b[39;49m)\u001b[K\r\n\t\u001b[33ms\u001b[39;49m = f.read()\u001b[K\u001b[4;5H    f.close()\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m s\u001b[K\u001b[6;5H\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\r\n\u001b[K\n\u001b[K\n\u001b[K\n\n\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L55\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m60\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u001b[24d\u001b[?25lEnd of buffer\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u001b[24d\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mstorage.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L62\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lMark set\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m# This returns a list of filenames under the provided directory.                \u001b[39;49m\r\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlist_files\u001b[0m\u001b[39;49m(*args):\u001b[11;5H\u001b[33mhome\u001b[39;49m = os.path.join(os.path.expanduser(\u001b[32m\"~\"\u001b[39;49m),\u001b[32m\".rules-of-war\"\u001b[39;49m)\u001b[12;5H\u001b[33mtarget\u001b[39;49m = os.path.join(home, *args)\u001b[13;5H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(target):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m []\u001b[15;5H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m [ f \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m f \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m os.listdir(target) \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m os.isfile(os.join(target,f)) ]\u001b[23;35H\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;77H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23d\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;65H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;65H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\b\t\b\u001b[?25l\u001b[31mdirectory.\u001b[39;49m\u001b[9;56H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31madirectory.\u001b[39;49m\u001b[9;57H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mtdirectory.\u001b[39;49m\u001b[9;58H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31madirectory.\u001b[39;49m\u001b[9;59H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m directory.\u001b[39;49m\u001b[9;60H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m59\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;12H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[3;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[2;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# This reads a file from the provided data directory.                           \u001b[39;49m\r\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mread_data\u001b[0m\u001b[39;49m(*args):\u001b[7;5H\u001b[33mdata\u001b[39;49m = os.path.join(os.path.dirname(os.path.realpath(__file__)),\r\n\t\t\t\u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"data\"\u001b[39;49m)\r\n    \u001b[33mtarget\u001b[39;49m = os.path.join(data, *args)\u001b[K\r\n    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(target):\u001b[11;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\u001b[12;5H\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b    \u001b[33mf\u001b[39;49m = \u001b[1m\u001b[34mopen\u001b[0m\u001b[39;49m(target,\u001b[32m\"r\"\u001b[39;49m)\u001b[K\r\n\t\u001b[33ms\u001b[39;49m = f.read()\u001b[15;5H    f.close()\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m s\u001b[17;5H\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\r\n\n\u001b[31m# This returns a list of filenames under the provided data directory.           \u001b[39;49m\r\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlist_files\u001b[0m\u001b[39;49m(*args):\u001b[22;5H\u001b[33mhome\u001b[39;49m = os.path.join(os.path.expanduser(\u001b[32m\"~\"\u001b[39;49m),\u001b[32m\".rules-of-war\"\u001b[39;49m)\u001b[23;29H\u001b[7m65% L54\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23d\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m49\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;60H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[23;30H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[9;1H\u001b[1M\u001b[1;24r\u001b[7;25H\u001b[?25l\u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"data\"\u001b[39;49m)\u001b[8;5H\u001b[33mtarget\u001b[39;49m = os.path.join(data, *args)\u001b[K\u001b[22;1H    \u001b[33mtarget\u001b[39;49m = os.path.join(home, *args)\u001b[K\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[23;30H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[9;1H\u001b[1M\u001b[1;24r\u001b[7;5H\u001b[?25l\u001b[33mtarget\u001b[39;49m = os.path.join(data, *args)\u001b[8;5H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(target):\u001b[K\u001b[22;1H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(target):\u001b[K\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lMark set\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[9;1H\u001b[2L\u001b[1;24r\u001b[7;5H\u001b[?25l\u001b[33mdata\u001b[39;49m = os.path.join(os.path.dirname(os.path.realpath(__file__)),\u001b[8;5H                    \u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"data\"\u001b[39;49m)\r\n    \u001b[33mtarget\u001b[39;49m = os.path.join(data, *args)\u001b[K\r\n    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(target):\u001b[K\u001b[23;30H\u001b[7m5% L51\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m60\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[33mf\u001b[39;49m = \u001b[1m\u001b[34mopen\u001b[0m\u001b[39;49m(target,\u001b[32m\"r\"\u001b[39;49m)\r\n\t\u001b[33ms\u001b[39;49m = f.read()\r\n\tf.close()\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m s\u001b[K\r\n    \u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\u001b[7;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[31m# This returns a list of filenames under the provided data directory.           \u001b[39;49m\r\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlist_files\u001b[0m\u001b[39;49m(*args):\u001b[K\u001b[11;5H\u001b[33mhome\u001b[39;49m = os.path.join(os.path.expanduser(\u001b[32m\"~\"\u001b[39;49m),\u001b[32m\".rules-of-war\"\u001b[39;49m)\u001b[12;5H\u001b[33mtarget\u001b[39;49m = os.path.join(home, *args)\u001b[13;5H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(target):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m []\u001b[K\u001b[15;5H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m [ f \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m f \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m os.listdir(target) \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m os.isfile(os.join(target,f)) ]\r\n\u001b[K\n\u001b[K\n\u001b[K\n\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L65\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[13;1H\u001b[1L\u001b[1;24r\u001b[11;1H\u001b[K\u001b[12;5H\u001b[?25l\u001b[33mhome\u001b[39;49m = os.path.join(os.path.expanduser(\u001b[32m\"~\"\u001b[39;49m),\u001b[32m\".rules-of-war\"\u001b[39;49m)\r\n    \u001b[33mtarget\u001b[39;49m = os.path.join(home, *args)\u001b[K\u001b[23;35H\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lMark set\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[13;1H\u001b[2L\u001b[1;24r\u001b[11;5H\u001b[?25l\u001b[33mdata\u001b[39;49m = os.path.join(os.path.dirname(os.path.realpath(__file__)),\u001b[12;5H                    \u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"data\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n    \u001b[33mhome\u001b[39;49m = os.path.join(os.path.expanduser(\u001b[32m\"~\"\u001b[39;49m),\u001b[32m\".rules-of-war\"\u001b[39;49m)\u001b[K\u001b[23;35H\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[15;1H\u001b[1M\u001b[1;24r\u001b[24;1H\u001b[K\u001b[13;5H\u001b[?25l\u001b[33mhome\u001b[39;49m = os.path.join(os.path.expanduser(\u001b[32m\"~\"\u001b[39;49m),\u001b[32m\".rules-of-war\"\u001b[39;49m)\u001b[14;5H\u001b[33mtarget\u001b[39;49m = os.path.join(home, *args)\u001b[K\u001b[22;1H\u001b[K\u001b[13d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[1;22r\u001b[15;1H\u001b[1M\u001b[1;24r\u001b[13;5H\u001b[?25l\u001b[33mtarget\u001b[39;49m = os.path.join(home, *args)\u001b[14;5H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(target):\u001b[K\u001b[22;1H\u001b[K\u001b[13d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[13;39H\u001b[24;1H\u001b[?25lAuto-saving...\u001b[13;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[13;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[13;38H\b\b\b\b\b\b\b\b\u001b[?25l, *args)\u001b[K\u001b[13;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l, *args)\u001b[K\u001b[13;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l, *args)\u001b[K\u001b[13;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l, *args)\u001b[K\u001b[13;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la, *args)\u001b[13;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt, *args)\u001b[13;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la, *args)\u001b[13;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l, *args)\u001b[K\u001b[13;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l, *args)\u001b[K\u001b[13;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l, *args)\u001b[K\u001b[13;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld, *args)\u001b[13;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la, *args)\u001b[13;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt, *args)\u001b[13;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la, *args)\u001b[13;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mI-search: \u001b[39;49m\u001b[13;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;58H\u001b[?25l\u001b[7m Isearch) \u001b[0m\u001b[39;49m\u001b[27m\u001b[13;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u001b[24;1H\u001b[?25lQuit\u001b[K\u001b[23;58H\u001b[7m) --------\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[13;31H\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/storage.py...\u001b[13;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/storage.py\u001b[K\u001b[13;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[13;31H\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default landing.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25llanding.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[2;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, w, h):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w = w\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h = h\r\n\u001b[K\u001b[6;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"home\"\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.options = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.generate()\u001b[K\r\n\u001b[K\u001b[11;5H\u001b[31m# Here we handle input based on our current state.                          \u001b[39;49m\r\n\u001b[12;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n\u001b[K\n\u001b[K\u001b[15;5H\u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\u001b[23;4H\u001b[7mU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L19    (Python) -----------\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;17r\u001b[11;1H\u001b[1L\u001b[1;24r\u001b[11;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L20\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[12;1H\u001b[1L\u001b[1;24r\u001b[12;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[13;1H\u001b[1L\u001b[1;24r\u001b[13;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\b\b\b\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[34mg\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34me\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mn\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34me\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mr\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34ma\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mt\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34me\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m19\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;22r\u001b[11;1H\u001b[1M\u001b[1;24r\u001b[22;1H\u001b[K\u001b[9d\u001b[1;22r\u001b[11;1H\u001b[1M\u001b[1;24r\u001b[10;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mgenerate\u001b[0m\u001b[39;49m\u001b[22;1H\u001b[K\u001b[9d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[11;1H\u001b[1M\u001b[1;24r\u001b[9;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mgenerate\u001b[0m\u001b[39;49m\r\n\u001b[K\u001b[22d\u001b[K\u001b[9d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[1;22r\u001b[11;1H\u001b[1M\u001b[1;24r\u001b[10;5H\u001b[?25l\u001b[31m# Here we handle input based on our current state.                          \u001b[39;49m\r\n\u001b[22d\u001b[K\u001b[9d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[11;1H\u001b[1L\u001b[1;24r\u001b[10;1H\u001b[K\n\u001b[?25l    \u001b[31m# Here we handle input based on our current state.                          \u001b[39;49m\r\n\u001b[A\u001b[23;34H\u001b[7m20\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[16;26H\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32m\"                                                      \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[17;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mh\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mm\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[17;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[19;1H\u001b[1L\u001b[1;24r\u001b[19;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[20;1H\u001b[1L\u001b[1;24r\u001b[20;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[21;1H\u001b[1L\u001b[1;24r\u001b[21;1H\u001b[K\u001b[23;34H\u001b[?25l\u001b[7m30\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;29H\u001b[?25l\u001b[7m36% L31\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[21;13H\r\t\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[23;30H\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32m\"                                                    \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[21;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[23;30H\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[21;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[21;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m29\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[18;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[18;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[18;13H\u001b[?25ld\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[23;30H\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25lstri\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l1)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l1)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\")                                                  \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[18;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[32m        elif self.state == \"\u001b[39;49medit\u001b[32m\":                                              \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[18;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mW)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ml)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mc)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mo)\u001b[39;49m\u001b[23;30H\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mm)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m )\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mo)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m )\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mR)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mu)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ml)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ms)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m )\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mo)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mf)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m )\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mW)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ma)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mr)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m!)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[18;55H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[K\n\u001b[?25l        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m:\u001b[K\r\n\u001b[K\u001b[18;55H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;55H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[23;30H\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;10H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[13;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[13;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m30\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[21;35H\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   31% L32\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[22;13H\r\n\n\u001b[?25lAuto-saving...\u001b[22;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\t\b\b\u001b[?25ldone\u001b[22;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[K\u001b[22;13H\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[22;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[22;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[A\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py --edit\r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[2d Welcome to Rules of War!\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 86, in run\r\n    gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 89, in refresh\r\n    if gfx: return gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 104, in refresh\r\n    curses.napms(20)\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py --edit\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, w, h):\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w = w\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h = h\u001b[K\r\n\u001b[K\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"home\"\u001b[39;49m\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.options = []\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0\u001b[K\r\n\u001b[K\n\u001b[K\n    \u001b[31m# Here we handle input based on our current state.                          \u001b[39;49m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n        \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n    \u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\r\n            draw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\u001b[K\n        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m:\u001b[K\r\n            \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[7m-UUU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   31% L32    (Python) --------------------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[A\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l(No changes need to be saved)\u001b[22;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[K\u001b[2;5H\u001b[?25l    \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[4;5H\u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\r\n\t    draw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\r\n\u001b[K\n\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m:\u001b[11;5H        \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[K\n\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\n\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L33\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m29\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[2;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, w, h):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w = w\u001b[4;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h = h\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"home\"\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.options = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0\r\n\n\u001b[K\u001b[11;5H\u001b[31m# Here we handle input based on our current state.                          \u001b[39;49m\r\n\u001b[12;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\r\n\t\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[15;5H\u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[18;13Hdraw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\r\n\n\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m:\u001b[22;13H\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[23;29H\u001b[7m31% L22\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\t\t\b\r\n\n\n\u001b[K\n\t\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m:\u001b[23;6H\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   30% L29\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[21;1H\u001b[1L\u001b[1;24r\u001b[21;1H\u001b[K\u001b[23;34H\u001b[?25l\u001b[7m30\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[20;13H\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25lstri\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[23;29H\u001b[7m29\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l1\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l3\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"                                                   \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[20;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mP\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ml\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ml\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mc\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32mm\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ma\u001b[39;49m\u001b[23;30H\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mp\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m!\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[20;51H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\r\t\t\t\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[20;52H\r\n\n\n\n\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[20;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[20;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[4;5H\u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\r\n\t    draw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\r\n\u001b[K\u001b[9;13Hdraw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\r\n\n\u001b[K\u001b[12;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m:\r\n\t\u001b[4@\r\n\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\n\u001b[K\u001b[23;29H\u001b[7mBot L33\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m29\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, w, h):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w = w\u001b[4;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h = h\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"home\"\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.options = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0\r\n\u001b[K\u001b[11;5H\u001b[31m# Here we handle input based on our current state.                          \u001b[39;49m\r\n\u001b[12;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n\t\u001b[4P\n\n\b\b\b\b\u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[18;13Hdraw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[20;13Hdraw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\u001b[23;29H\u001b[7m28% L22\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m30\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\u001b[?25l(No changes need to be saved)\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m29\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m30\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[4;5H\u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\r\n\t    draw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\r\n\u001b[K\u001b[9;13Hdraw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\r\n\n\u001b[K\u001b[12;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m:\r\n\t\u001b[4@\r\n\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\n\u001b[K\u001b[23;29H\u001b[7mBot L33\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l(No changes need to be saved)\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[10d\u001b[24d\u001b[?25l(No changes need to be saved)\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[10d\u001b[24d\u001b[?25l(No changes need to be saved)\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m29\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;13r\u001b[8;1H\u001b[1M\u001b[1;24r\u001b[13;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[8;52H\u001b[1;22r\u001b[10;1H\u001b[1L\u001b[1;24r\u001b[10;1H\u001b[K\u001b[23;34H\u001b[?25l\u001b[7m30\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[11;1H\u001b[1L\u001b[1;24r\u001b[11;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[10;13H\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[10;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[10;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[10;13H\u001b[?25lf\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36min\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25llist_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lAuto-saving...\u001b[10;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[10;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[10;39H\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[C\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[10;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[10;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[10;42H\u0007\u001b[24;1H\u001b[?25lC-x n b is undefined\u001b[10;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l\u001b[34mSwitch to buffer (default storage.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lstorage.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lstorage.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\t\u001b[33mf\u001b[39;49m = \u001b[1m\u001b[34mopen\u001b[0m\u001b[39;49m(target,\u001b[32m\"r\"\u001b[39;49m)\r\n\t\u001b[33ms\u001b[39;49m = f.read()\u001b[4;5H    f.close()\u001b[K\u001b[5;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m s\u001b[K\u001b[6;5H\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[31m# This returns a list of filenames under the provided data directory.           \u001b[39;49m\r\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlist_files\u001b[0m\u001b[39;49m(*args):\u001b[K\u001b[11;5H\u001b[33mdata\u001b[39;49m = os.path.join(os.path.dirname(os.path.realpath(__file__)),\r\n\t\t\t\u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"data\"\u001b[39;49m)\u001b[13;5H\u001b[33mtarget\u001b[39;49m = os.path.join(data, *args)\u001b[14;5H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(target):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m []\u001b[16;5H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m [ f \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m f \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m os.listdir(target) \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m os.isfile(os.join(target,f)) ]\u001b[23;4H\u001b[7m-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mstorage.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L66   Git:master  (Python) \u001b[0m\u001b[39;49m\u001b[27m\u001b[13;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;11H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1@\u001b[1m\u001b[34md\u001b[0m\u001b[39;49m\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;11H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[1m\u001b[34ma\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[1m\u001b[34mt\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@\u001b[1m\u001b[34ma\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/storage.py...\u001b[10;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/storage.py\u001b[K\u001b[10;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[10;14H\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default landing.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25llanding.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\t\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[4;5H\u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[6;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\r\n\t    draw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[8;13Hdraw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\r\n\u001b[K\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m storage.list_files()\r\n\u001b[K\n\u001b[K\u001b[13;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m:\u001b[K\u001b[14;5H        \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[K\u001b[23;4H\u001b[7mU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L32    (Python) -----------\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\u001b[?25ldfiles():\u001b[10;36H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lafiles():\u001b[10;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ltfiles():\u001b[10;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lafiles():\u001b[10;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\b\b\b\b\u001b[?25l\u001b[32m\"):                                 \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[10;46H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mm):\u001b[39;49m\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ma):\u001b[39;49m\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mp):\u001b[39;49m\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ms):\u001b[39;49m\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m):\u001b[K\r\n\u001b[K\u001b[10;51H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[10;51H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[10;51H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;51H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[10;53H\r\n\n\n\u001b[K\n\t\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m:\u001b[15;13H\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[23;6H\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L32\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[11;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[11;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;16r\u001b[10;1H\u001b[1L\u001b[1;24r\u001b[10;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L31\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[10;13H\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\u001b[?25l\u001b[33mx\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\u001b[?25l = 0\u001b[K\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[33mi\u001b[39;49m = 0\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[12;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[12;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[12;17H\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[12;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[12;17H\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[12;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[12;17H\u001b[?25ld\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25lstri\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l2)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l1)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l+)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[1;22r\u001b[14;1H\u001b[1L\u001b[1;24r\u001b[14;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l+\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[33mi\u001b[39;49m +=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l1\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[13;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[13;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[11;53H\r\n\u001b[K\n\t\t\u001b[?25ldraw.string(20,1+i,m)\r\n\t\t\u001b[33mi\u001b[39;49m += 1\r\n\n\u001b[K\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m:\u001b[18;13H\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[23;6H\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L33\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\u001b[?25l\u001b[33mi\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25li ==\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32m\"                                    \u001b[39;49m\r\n\u001b[32m                draw.string(20,1+i,m)                                           \u001b[39;49m\r\n\u001b[12;45H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m?\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n                draw.string(20,1+i,m)\u001b[K\u001b[12;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lAuto-saving...\u001b[12;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[12;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[11;53H\u001b[1;22r\u001b[13;1H\u001b[1L\u001b[1;24r\u001b[12;1H\u001b[K\n\u001b[?25l                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\u001b[K\u001b[23;35H\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\r\t\t\u001b[?25l\u001b[33mcol\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32m\"                                                         \u001b[39;49m\r\n\u001b[32m                if i == self.cursor: col = \"\u001b[39;49m?\u001b[32m\"                                  \u001b[39;49m\r\n\u001b[12;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\u001b[K\r\u001b[A\t\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\b\b\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[14;38H\b\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[14;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[14;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py --edit\r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 73, in run\r\n    self.m.draw(1,1)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/landing.py\", line 32, in draw\r\n    for m in storage.list_datafiles(\"maps\"):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/storage.py\", line 69, in list_datafiles\r\n    return [ f for f in os.listdir(target) if os.isfile(os.join(target,f)) ]\r\nAttributeError: 'module' object has no attribute 'isfile'\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py --edit\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n        \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n    \u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\r\n            draw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[K\r\n            draw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n            \u001b[33mi\u001b[39;49m = 0\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m storage.list_datafiles(\u001b[32m\"maps\"\u001b[39;49m):\u001b[K\r\n                \u001b[33mcol\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\u001b[K\r\n                draw.string(20,1+i,m,col)\u001b[K\r\n                \u001b[33mi\u001b[39;49m += 1\u001b[K\r\n\u001b[K\n\u001b[K\n        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m:\u001b[K\r\n            \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[7m-UUU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L35    (Python) --------------------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[14;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default storage.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lstorage.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lstorage.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\t\u001b[33mf\u001b[39;49m = \u001b[1m\u001b[34mopen\u001b[0m\u001b[39;49m(target,\u001b[32m\"r\"\u001b[39;49m)\r\n\t\u001b[33ms\u001b[39;49m = f.read()\u001b[4;5H    f.close()\u001b[K\u001b[5;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m s\u001b[K\u001b[6;5H\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[31m# This returns a list of filenames under the provided data directory.           \u001b[39;49m\r\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlist_datafiles\u001b[0m\u001b[39;49m(*args):\u001b[11;5H\u001b[33mdata\u001b[39;49m = os.path.join(os.path.dirname(os.path.realpath(__file__)),\r\n\t\t        \u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"data\"\u001b[39;49m)\u001b[13;5H\u001b[33mtarget\u001b[39;49m = os.path.join(data, *args)\u001b[K\u001b[14;5H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(target):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m []\u001b[K\u001b[16;5H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m [ f \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m f \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m os.listdir(target) \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m os.isfile(os.join(target,f)) ]\r\n\n\u001b[K\n\u001b[K\u001b[23;4H\u001b[7m-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mstorage.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L63   Git:master  (Python) \u001b[0m\u001b[39;49m\u001b[27m\u001b[10;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m69\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[16;77H\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[?25l\u001b[1@p\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;51H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@a\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lhisfile(os.join(target,f)) \\\r\n]\u001b[16;54H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.isfile(os.join(target,f))\r\n\u001b[1@\u001b[16;55H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[?25l.join(target,f\r\n) ]\u001b[16;65H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp.join(target,f\r\n\u001b[C) ]\u001b[16;66H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la.join(target,\r\nf)) ]\u001b[16;67H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt.join(target\r\n,f)) ]\u001b[16;68H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh.join(targe\r\nt,f)) ]\u001b[16;69H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[K\r\n\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m os.path.isfile(os.path.join(target,f)) ]\u001b[23;34H\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\t\b\u001b[1@\t\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[23;34H\u001b[?25l\u001b[7m69\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(targetdir):\r\n\tos.makedirs(targetdir)\u001b[4;5H\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\u001b[K\n\u001b[33mf\u001b[39;49m = \u001b[1m\u001b[34mopen\u001b[0m\u001b[39;49m(target,\u001b[32m\"w\"\u001b[39;49m)\u001b[6;5H    f.write(data)\r\n\tf.close()\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mTrue\u001b[39;49m\r\n    \u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# This reads a file from the provided data directory.                           \u001b[39;49m\r\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mread_data\u001b[0m\u001b[39;49m(*args):\u001b[K\u001b[15;5H\u001b[33mdata\u001b[39;49m = os.path.join(os.path.dirname(os.path.realpath(__file__)),\u001b[16;5H                    \u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"..\"\u001b[39;49m,\u001b[32m\"data\"\u001b[39;49m)\u001b[K\u001b[17;5H\u001b[33mtarget\u001b[39;49m = os.path.join(data, *args)\u001b[K\u001b[18;5H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(target):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[20;5H\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\n\u001b[33mf\u001b[39;49m = \u001b[1m\u001b[34mopen\u001b[0m\u001b[39;49m(target,\u001b[32m\"r\"\u001b[39;49m)\r\n\t\u001b[33ms\u001b[39;49m = f.read()\u001b[23;29H\u001b[7m55% L56\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    f.close()\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m s\u001b[K\u001b[4;5H\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[31m# This returns a list of filenames under the provided directory.                \u001b[39;49m\r\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlist_files\u001b[0m\u001b[39;49m(*args):\u001b[9;5H\u001b[33mhome\u001b[39;49m = os.path.join(os.path.expanduser(\u001b[32m\"~\"\u001b[39;49m),\u001b[32m\".rules-of-war\"\u001b[39;49m)\u001b[10;5H\u001b[33mtarget\u001b[39;49m = os.path.join(home, *args)\u001b[11;5H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(target):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m []\r\n    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m [ f \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m f \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m os.listdir(target) \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m os.isfile(os.join(target,f)) ]\u001b[K\r\n\u001b[K\n\u001b[31m# This saves a file to the home directory, overwriting if appropriate.          \u001b[39;49m\r\n\u001b[31m# Returns False if something goes wrong.                                        \u001b[39;49m\r\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34msave\u001b[0m\u001b[39;49m(data, *args):\u001b[K\u001b[18;5H\u001b[33mhome\u001b[39;49m = os.path.join(os.path.expanduser(\u001b[32m\"~\"\u001b[39;49m),\u001b[32m\".rules-of-war\"\u001b[39;49m)\u001b[19;5H\u001b[33mtargetdir\u001b[39;49m = os.path.join(home, *(args[:-1]))\u001b[20;5H\u001b[33mtarget\u001b[39;49m = os.path.join(home, *args)\u001b[21;5H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(targetdir):\r\n\tos.makedirs(targetdir)\n\b\b\u001b[7m24% L37\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\u001b[?25lAuto-saving...\u001b[22;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[22;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m29\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[?25l\u001b[1@p\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@a\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[15;1H\u001b[1L\u001b[1;24r\u001b[13;31H\u001b[?25lhlistdir(target) \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m os.isfile(os.join(target,f)) \\\r\n]\n\b\u001b[K\u001b[13;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.listdir(target) \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m os.isfile(os.join(target,f))\r\n\u001b[1@\u001b[A\t\t\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[14;3H\b\b\u001b[13;79H\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[?25lpisfile(os.join(target,f\r\n) ]\u001b[13;56H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25laisfile(os.join(target,f\r\n\u001b[C) ]\u001b[13;57H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ltisfile(os.join(target,\r\nf)) ]\u001b[13;58H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lhisfile(os.join(target\r\n,f)) ]\u001b[13;59H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.isfile(os.join(targe\r\nt,f)) ]\u001b[13;60H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\b\b\b\u001b[K\r\n\u001b[?25l \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m os.path.isfile(os.join(target,f)) ]\u001b[23;35H\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\t\b\u001b[1@\t\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/storage.py...\u001b[14;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/storage.py\u001b[K\u001b[14;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py --edit\r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[2d Welcome to Rules of\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault.json\u001b[3;21H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\r\u001b[4d Please select a map!\u001b[3;34H\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 86, in run\r\n    gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 89, in refresh\r\n    if gfx: return gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 104, in refresh\r\n    curses.napms(20)\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py --edit\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n        f.close()\u001b[K\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m s\u001b[K\r\n    \u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[31m# This returns a list of filenames under the provided directory.                \u001b[39;49m\r\n\u001b[A\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlist_files\u001b[0m\u001b[39;49m(*args):\u001b[K\r\n    \u001b[33mhome\u001b[39;49m = os.path.join(os.path.expanduser(\u001b[32m\"~\"\u001b[39;49m),\u001b[32m\".rules-of-war\"\u001b[39;49m)\u001b[K\r\n    \u001b[33mtarget\u001b[39;49m = os.path.join(home, *args)\u001b[K\r\n    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(target):\u001b[K\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m []\u001b[K\r\n    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m [ f \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m f \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m os.path.listdir(target)\u001b[K\r\n             \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m os.path.isfile(os.join(target,f)) ]\u001b[K\r\n\u001b[K\n\u001b[31m# This saves a file to the home directory, overwriting if appropriate.          \u001b[39;49m\r\n\u001b[A\n\u001b[31m# Returns False if something goes wrong.                                        \u001b[39;49m\r\n\u001b[A\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34msave\u001b[0m\u001b[39;49m(data, *args):\u001b[K\r\n    \u001b[33mhome\u001b[39;49m = os.path.join(os.path.expanduser(\u001b[32m\"~\"\u001b[39;49m),\u001b[32m\".rules-of-war\"\u001b[39;49m)\u001b[K\r\n    \u001b[33mtargetdir\u001b[39;49m = os.path.join(home, *(args[:-1]))\u001b[K\r\n    \u001b[33mtarget\u001b[39;49m = os.path.join(home, *args)\u001b[K\r\n    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(targetdir):\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mstorage.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   24% L29   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[14;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default landing.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25llanding.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\t\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[4;5H\u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\r\n            draw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[K\r\n            draw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\r\n\u001b[K\u001b[10;5H        \u001b[33mi\u001b[39;49m = 0\u001b[K\u001b[11;5H        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m storage.list_datafiles(\u001b[32m\"maps\"\u001b[39;49m):\r\n\t        \u001b[33mcol\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[13;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\u001b[K\u001b[14;14H   draw.string(20,1+i,m,col)\u001b[K\r\n\t\t\u001b[33mi\u001b[39;49m += 1\r\n\u001b[K\n\u001b[K\n        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m:\u001b[19;5H        \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;4H\u001b[7mU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L35    (Python) -----------\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\b\u001b[?25l\u001b[1P\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@4\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[14;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[14;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m29\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[2;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, w, h):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w = w\u001b[4;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h = h\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"home\"\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.options = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0\u001b[K\r\n\n\u001b[K\u001b[11;5H\u001b[31m# Here we handle input based on our current state.                          \u001b[39;49m\r\n\u001b[12;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\r\n\t\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[15;5H\u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\r\n\t    draw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[19;13Hdraw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\u001b[21;13H\u001b[33mi\u001b[39;49m = 0\n\b\b\b\b\b\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m storage.list_datafiles(\u001b[32m\"maps\"\u001b[39;49m):\u001b[23;29H\u001b[7m22% L22\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[1;22r\u001b[13;1H\u001b[1L\u001b[1;24r\u001b[13;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   22% L23\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;30H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"                                                      \u001b[39;49m\r\n\u001b[32m        pass                                                                    \u001b[39;49m\r\n\u001b[13;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[32m    # Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[32m    def draw(self, x, y):                                                       \u001b[39;49m\r\n\u001b[32m        if self.state == \"\u001b[39;49mhome\u001b[32m\":                                                \u001b[39;49m\r\n\u001b[32m            draw.string(1,1,\"\u001b[39;49mWelcome to Rules of War!\u001b[32m\")                         \u001b[39;49m\r\n\u001b[32m            draw.string(1,3,\"\u001b[39;49mPlease select a \u001b[1m\u001b[34mmap\u001b[0m\u001b[39;49m!\u001b[32m\")                             \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[32m            i = 0                                                               \u001b[39;49m\r\n\u001b[13;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mh\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mm\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n        \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\u001b[13;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[15;1H\u001b[1L\u001b[1;24r\u001b[14;1H\u001b[K\n\u001b[?25l        \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\u001b[23;35H\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[14;13H\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\t\r\n\n\u001b[K\n\u001b[?25l    \u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\r\n            draw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[K\r\n            draw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[14;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\b\b\b\u001b[?25lsel\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\r\u001b[K\u001b[14;13H\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\u001b[?25l\u001b[33mc\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25lc ==\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32m\"                                                           \u001b[39;49m\r\n\u001b[32m        pass                                                                    \u001b[39;49m\r\n\u001b[14;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mU\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mI\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[32m    # Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[32m    def draw(self, x, y):                                                       \u001b[39;49m\r\n\u001b[32m        if self.state == \"\u001b[39;49mhome\u001b[32m\":                                                \u001b[39;49m\r\n\u001b[32m            draw.string(1,1,\"\u001b[39;49mWelcome to Rules of War!\u001b[32m\")                         \u001b[39;49m\r\n\u001b[32m            draw.string(1,3,\"\u001b[39;49mPlease select a \u001b[1m\u001b[34mmap\u001b[0m\u001b[39;49m!\u001b[32m\")                             \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[14;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mu\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mp\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n        \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\u001b[A\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\r\n\n\u001b[K\n\u001b[?25l    \u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\r\n            draw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[K\r\n            draw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[14;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l-\u001b[23;30H\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l1\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[16;1H\u001b[1L\u001b[1;24r\u001b[15;1H\u001b[K\n\u001b[?25l        \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\u001b[23;35H\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[15;13H\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\u001b[?25l\u001b[33mc\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25lc ==\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32m\"                                                         \u001b[39;49m\r\n\u001b[32m        pass                                                                    \u001b[39;49m\r\n\u001b[15;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mw\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n        \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\u001b[15;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lCloses \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\u001b[15;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;11H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\u001b[15;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[4P\t\t\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[15d\u001b[24d\u001b[?25lCloses \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[24;1H\u001b[K\u001b[15;9H\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[15;30H\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l+\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l1\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[17;1H\u001b[1L\u001b[1;24r\u001b[16;1H\u001b[K\n\u001b[?25l        \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\u001b[23;35H\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;29H\u001b[?25l\u001b[7m19\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\u001b[?25l\u001b[33mc\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25lc ==\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32m\"                                                         \u001b[39;49m\r\n\u001b[32m        pass                                                                    \u001b[39;49m\r\n\u001b[16;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mq\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n        \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\u001b[16;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lCloses \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor += 1\u001b[16;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;8H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\u001b[16;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[4P\u001b[16;22H\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[16;24H\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32m\"                                                 \u001b[39;49m\r\n\u001b[32m        pass                                                                    \u001b[39;49m\r\n\u001b[16;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mq\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mu\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n        \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\u001b[16;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[1@\r\u001b[C\t\u001b[C\u001b[1@\u001b[16;3H\u001b[16;11H\u001b[1@\u001b[16;4H\u001b[16;12H\u001b[1@\u001b[16;5H\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[16;5H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[16;5H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;5H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py --edit\r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[2d Welcome to Rules of War!\u001b[2;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault.json\u001b[3;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\r\u001b[4d Please select a map!\u001b[3;54H\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py --edit\r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[2d Welcome to Rules of War!\u001b[2;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault.json\u001b[3;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\r\u001b[4d Please select a map!\u001b[3;54H\u001b[2;41Hdefault.json\u001b[3;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;41Hdefault1.json\u001b[3;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault.json\u001b[3;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\u001b[2;41Hdefault.json\u001b[3;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[2;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault.json\u001b[3;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py --edit\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, w, h):\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w = w\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h = h\u001b[K\r\n\u001b[K\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"home\"\u001b[39;49m\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.options = []\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0\u001b[K\r\n\u001b[K\n\u001b[K\n    \u001b[31m# Here we handle input based on our current state.                          \u001b[39;49m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor += 1\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\u001b[K\r\n        \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n    \u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\r\n            draw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[K\r\n\u001b[7m-UUU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   19% L26    (Python) --------------------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[16;5H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\r\n\t    draw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\r\n\t    draw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\r\n\n\t    i = 0\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m storage.list_datafiles(\u001b[32m\"maps\"\u001b[39;49m):\r\n\t        col = \u001b[32m\"\"\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\r\n\t\tdraw.string(40,1+i,m,col)\u001b[11;5H            i += 1\u001b[K\r\n\u001b[K\n\u001b[K\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m:\u001b[K\u001b[15;13H\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[K\n\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L31\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[3;5H\u001b[?25l\u001b[31m# Here we handle input based on our current state.                          \u001b[39;49m\r\n\u001b[4;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[6;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\u001b[7;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor += 1\u001b[K\u001b[8;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\r\n\t\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[11;5H\u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[12;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\r\n\t    draw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[15;13Hdraw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\u001b[17;13Hi = 0\n\b\b\b\b\b\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m storage.list_datafiles(\u001b[32m\"maps\"\u001b[39;49m):\r\n\t\tcol = \u001b[32m\"\"\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\r\n\t\tdraw.string(40,1+i,m,col)\r\n\t\ti += 1\u001b[23;29H\u001b[7m32% L30\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l(No changes need to be saved)\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m40\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[3;5H        draw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[K\u001b[4;5H        draw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\r\n\u001b[K\u001b[6;13Hi = 0\u001b[K\n\b\b\b\b\b\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m storage.list_datafiles(\u001b[32m\"maps\"\u001b[39;49m):\u001b[8;13H    col = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\r\n\t\tdraw.string(40,1+i,m,col)\u001b[11;5H            i += 1\u001b[K\r\n\u001b[K\n\u001b[K\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m:\u001b[K\u001b[15;13H\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L41\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m39\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[3;5H\u001b[?25l\u001b[31m# Here we handle input based on our current state.                          \u001b[39;49m\r\n\u001b[4;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[6;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\u001b[7;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor += 1\u001b[K\u001b[8;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\r\n\t\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[11;5H\u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[12;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\r\n\t    draw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[15;13Hdraw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\u001b[17;13Hi = 0\n\b\b\b\b\b\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m storage.list_datafiles(\u001b[32m\"maps\"\u001b[39;49m):\r\n\t\tcol = \u001b[32m\"\"\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\r\n\t\tdraw.string(40,1+i,m,col)\r\n\t\ti += 1\u001b[23;29H\u001b[7m32% L30\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m29\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\n\u001b[K\n\u001b[?25l\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mLanding\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, w, h):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w = w\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h = h\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"home\"\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.options = []\u001b[11;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0\u001b[K\r\n\u001b[K\n\u001b[K\u001b[14;5H\u001b[31m# Here we handle input based on our current state.                          \u001b[39;49m\r\n\u001b[15;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[17;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\u001b[18;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor += 1\u001b[K\u001b[19;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\r\n\t\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[22;5H\u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[23;29H\u001b[7m17% L19\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m20\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m19\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;21r\u001b[14;1H\u001b[1L\u001b[1;24r\u001b[14;1H\u001b[K\u001b[22d\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   17% L20\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[15;1H\u001b[1L\u001b[1;24r\u001b[15;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;30H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[34ml\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mo\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34ma\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34md\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34m_\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mm\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34ma\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34mp\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1m\u001b[34ms\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\u001b[14;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l c)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[14;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[14;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[14;27H\u001b[?25l:\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[23;30H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[16;1H\u001b[1M\u001b[1;24r\u001b[15;5H\u001b[?25l\u001b[31m# Here we handle input based on our current state.                          \u001b[39;49m\r\n\u001b[22d\u001b[K\u001b[14d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[16;1H\u001b[1M\u001b[1;24r\u001b[14;5H\u001b[?25l\u001b[31m# Here we handle input based on our current state.                          \u001b[39;49m\r\n\u001b[15;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\u001b[22;1H    \u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[A\u001b[14d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u0007\u001b[24d\u001b[?25lC-x C-y is undefined\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lMark set\u001b[K\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[16;1H\u001b[2L\u001b[1;24r\u001b[14;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mload_maps\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\r\n\u001b[K\n    \u001b[31m# Here we handle input based on our current state.                          \u001b[39;49m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\n\n\n\n\n\n\b\u001b[7m6% L23\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;55H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[23;30H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[16;1H\u001b[1M\u001b[1;24r\u001b[15;5H\u001b[?25l\u001b[31m# Here we handle input based on our current state.                          \u001b[39;49m\r\n\u001b[22d\u001b[K\u001b[14d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\r\n\n    \u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\t\u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\r\n\t    draw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[8;13Hdraw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\r\n\u001b[K\n\t    i = 0\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m storage.list_datafiles(\u001b[32m\"maps\"\u001b[39;49m):\r\n\t\tcol = \u001b[32m\"\"\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\r\n\t\tdraw.string(40,1+i,m,col)\u001b[15;5H            i += 1\u001b[K\r\n\u001b[K\n\u001b[K\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m:\u001b[K\u001b[19;13H\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L28\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l(No changes need to be saved)\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m30\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m40\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\n\n\u001b[?25l\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mLanding\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, w, h):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w = w\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h = h\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"home\"\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.options = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\u001b[15;5H\u001b[31m# Here we handle input based on our current state.                          \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\u001b[19;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor += 1\u001b[20;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\r\n\t\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[23;29H\u001b[7m17% L29\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\r\n\n    \u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\t\u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\r\n\t    draw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[8;13Hdraw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\r\n\u001b[K\n\t    i = 0\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m storage.list_datafiles(\u001b[32m\"maps\"\u001b[39;49m):\r\n\t\tcol = \u001b[32m\"\"\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\r\n\t\tdraw.string(40,1+i,m,col)\u001b[15;5H            i += 1\u001b[K\r\n\u001b[K\n\u001b[K\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m:\u001b[K\u001b[19;13H\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L28\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m30\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\n\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\n\n\u001b[K\n\u001b[K\u001b[23;34H\u001b[?25l\u001b[7m47\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[4;5H\u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[7;13Hdraw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[8;13Hdraw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\u001b[10;13Hi = 0\n\b\b\b\b\b\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m storage.list_datafiles(\u001b[32m\"maps\"\u001b[39;49m):\r\n\t\tcol = \u001b[32m\"\"\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\r\n\t\tdraw.string(40,1+i,m,col)\r\n\t\ti += 1\r\n\n\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m:\u001b[19;13H\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\r\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m39\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;20r\u001b[11;1H\u001b[1L\u001b[1;24r\u001b[10;13H\u001b[?25l\u001b[33mi\u001b[39;49m\r\n\u001b[K\u001b[23;6H\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L37\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\t\t\u001b[?25l\u001b[33mcol\u001b[39;49m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\r\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25lstri\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l4)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l1)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l+)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l1)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[13;1H\u001b[1L\u001b[1;24r\u001b[11;31H\u001b[K\r\n\u001b[?25l)\u001b[K\n\b            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m storage.list_datafiles(\u001b[32m\"maps\"\u001b[39;49m):\u001b[K\u001b[23;29H\u001b[7m54% L38\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12@\u001b[23;30H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[4P\b\b\b\b\u001b[4P\u001b[23;30H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;5H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[4P\u001b[1;22r\u001b[13;1H\u001b[1M\u001b[1;24r\u001b[11;31H\u001b[?25l)\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m storage.list_datafiles(\u001b[32m\"maps\"\u001b[39;49m):\u001b[22;1H\u001b[K\u001b[23;29H\u001b[7mBot L37\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m40\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m39\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m40\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\t\b\u001b[?25l\u001b[1P\r\n\t\t\u001b[33mi\u001b[39;49m\u001b[A\t\t\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@2\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\t\t\u001b[?25li\u001b[A\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[15;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[15;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m39\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;53H\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[12;53H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l,)\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\")                                                 \u001b[39;49m\r\n\u001b[32m            for m in storage.list_datafiles(\"\u001b[39;49mmaps\u001b[32m\"):                            \u001b[39;49m\r\n\u001b[11;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l\u001b[32m                col = \"\"                                                        \u001b[39;49m\r\n\u001b[32m                if i == self.cursor: col = \"\u001b[39;49m?\u001b[32m\"                                  \u001b[39;49m\r\n\u001b[32m                draw.string(40,2+i,m,col)                                       \u001b[39;49m\r\n\u001b[32m                i += 1                                                          \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[32m        elif self.state == \"\u001b[39;49medit\u001b[32m\":                                              \u001b[39;49m\r\n\u001b[32m            pass                                                                \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[11;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mB)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mu)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mi)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ml)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m-)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mi)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mn)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m )\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mM)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ma)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mp)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ms)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m)\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m storage.list_datafiles(\u001b[32m\"maps\"\u001b[39;49m):\u001b[K\u001b[11;45H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l                \u001b[33mcol\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\u001b[K\r\n                draw.string(40,2+i,m,col)\u001b[K\r\n                i += 1\u001b[K\r\n\u001b[K\n\u001b[K\n        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m:\u001b[K\r\n            \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[K\u001b[11;45H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\")                                 \u001b[39;49m\r\n\u001b[32m            for m in storage.list_datafiles(\"\u001b[39;49mmaps\u001b[32m\"):                            \u001b[39;49m\r\n\u001b[11;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m!)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m)\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m storage.list_datafiles(\u001b[32m\"maps\"\u001b[39;49m):\u001b[K\u001b[A\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[11;49H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[11;49H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;49H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py --edit\r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[2d Welcome to Rules of War!\u001b[2;41H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mBuilt-in Maps\u001b[3;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault.json\u001b[4;2H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mPlease select a map!\u001b[4;41Hdefault1.json\u001b[3;41Hdefault.json\u001b[4;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault.json\u001b[4;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\u001b[3;41Hdefault.json\u001b[4;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py --edit\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n        \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n    \u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\r\n            draw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[K\r\n            draw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n            \u001b[33mi\u001b[39;49m = 0\u001b[K\r\n            draw.string(40,1,\u001b[32m\"Built-in Maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m storage.list_datafiles(\u001b[32m\"maps\"\u001b[39;49m):\u001b[K\r\n                \u001b[33mcol\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\u001b[K\r\n                draw.string(40,2+i,m,col)\u001b[K\r\n                i += 1\u001b[K\r\n\u001b[K\n\u001b[K\n        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m:\u001b[K\r\n            \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[7m-UUU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L37    (Python) --------------------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[11;49H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;49H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;49H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[24d\u001b[?25l(No changes need to be saved)\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m40\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[15;42H\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\t\u001b[?25l\u001b[33mi\u001b[39;49m\r\n\n\n\u001b[K\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m:\u001b[21;13H\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[23;6H\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   53% L43\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;30H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25lstri\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l4\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l3\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l+\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"                                                \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[17;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[32m        elif self.state == \"\u001b[39;49medit\u001b[32m\":                                              \u001b[39;49m\r\n\u001b[32m            pass                                                                \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[17;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mU\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ms\u001b[39;49m\u001b[23;30H\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m-\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mg\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l\u001b[32mM\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mm\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mp\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[17;53H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[K\n\u001b[?25l        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m:\u001b[K\r\n            \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[17;53H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"                          \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[17;55H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m!\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[17;57H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[23;30H\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;58H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[23;30H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;57H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\u001b[23;30H\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[17;58H\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[17;58H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[17;58H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;58H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py --edit\r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[2d Welcome to Rules of War!\u001b[2;41H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mBuilt-in Maps\u001b[3;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault.json\u001b[4;2H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mPlease select a map!\u001b[4;41Hdefault1.json\u001b[6;41H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mUser-generated maps\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;41Hdefault.json\u001b[4;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\u001b[6;60H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault.json\u001b[4;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\u001b[6;60H\u001b[3;41Hdefault.json\u001b[4;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\u001b[6;60H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;41Hdefault1.json\u001b[6;60H\u001b[4;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\u001b[6;60H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault.json\u001b[4;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\u001b[6;60H\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py --edit\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n        \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n    \u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\r\n            draw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[K\r\n            draw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n            \u001b[33mi\u001b[39;49m = 0\u001b[K\r\n            draw.string(40,1,\u001b[32m\"Built-in Maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m storage.list_datafiles(\u001b[32m\"maps\"\u001b[39;49m):\u001b[K\r\n                \u001b[33mcol\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\u001b[K\r\n                draw.string(40,2+i,m,col)\u001b[K\r\n                \u001b[33mi\u001b[39;49m += 1\u001b[K\r\n            draw.string(40,3+i,\u001b[32m\"User-generated maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\u001b[K\n        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m:\u001b[K\r\n            \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[7m-UUU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   50% L43    (Python) --------------------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[17;58H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;59H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[19;1H\u001b[1L\u001b[1;24r\u001b[19;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[18;21H\r\t\t\b\b\b\b\r\t\b\b\b\b\r\u001b[1;22r\u001b[19;1H\u001b[1M\u001b[1;24r\u001b[22;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;59H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[1;22r\u001b[19;1H\u001b[1L\u001b[1;24r\u001b[19;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[18;13H\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36min\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[23;29H\u001b[7m49\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25llist_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"                                       \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[18;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mm\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mp\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[18;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\u001b[18;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\b\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[20;1H\u001b[1L\u001b[1;24r\u001b[20;1H\u001b[K\u001b[23;30H\u001b[?25l\u001b[7m8% L45\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\r\n\n\n\n\n\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[19;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[19;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m39\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   49\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[15;1H\u001b[1M\u001b[1;24r\u001b[13;17H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\r\n\t\tdraw.string(40,2+i,m,col)\u001b[K\u001b[22;1H            \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[23;29H\u001b[?25l\u001b[7m51\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[15;1H\u001b[1M\u001b[1;24r\u001b[13;17H\u001b[?25ldraw.string(40,2+i,m,col)\r\n\t\t\u001b[33mi\u001b[39;49m += 1\u001b[K\u001b[22;1H\u001b[K\u001b[13d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[23;30H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[15;1H\u001b[1M\u001b[1;24r\u001b[13;17H\u001b[?25l\u001b[33mi\u001b[39;49m += 1\u001b[14;13Hdraw.string(40,3+i,\u001b[32m\"User-generated maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[22;1H\u001b[K\u001b[23;29H\u001b[7mBot\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[24d\u001b[?25lMark set\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[15;1H\u001b[3L\u001b[1;24r\u001b[13;17H\u001b[?25l\u001b[33mcol\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[14;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\u001b[K\r\n                draw.string(40,2+i,m,col)\u001b[K\r\n                i += 1\u001b[K\r\n            draw.string(40,3+i,\u001b[32m\"User-generated maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[K\u001b[23;29H\u001b[7m48% L42\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\t\b\b\b\b\r\t\b\b\b\b\r\u001b[24d\u001b[?25lMark set\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25l\u001b[33mcol\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\r\n\t\tdraw.string(40,2+i,m,col)\r\n\t        i += 1\u001b[K\u001b[23;30H\u001b[7m4% L48\u001b[0m\u001b[39;49m\u001b[27m\u001b[22;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[K\u001b[H\n\t\u001b[?25l        \u001b[33mcol\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\u001b[4;5H            draw.string(40,2+i,m,col)\u001b[K\u001b[5;5H            i += 1\u001b[K\r\n\t    draw.string(40,3+i,\u001b[32m\"User-generated maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[7;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m storage.list_files(\u001b[32m\"maps\"\u001b[39;49m):\u001b[K\u001b[8;13H    \u001b[33mcol\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\u001b[10;13H    draw.string(40,2+i,m,col)\u001b[11;13H    i += 1\u001b[K\r\n\u001b[K\n\u001b[K\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m:\u001b[K\u001b[15;13H\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L49\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[11;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[11;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[10;42H\b\b\b\b\b\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[10;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[10;36H\b\b\b\b\u001b[?25l\u001b[1P\r\n\t\t\u001b[33mi\u001b[39;49m\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@4\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[10;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[10;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[10;33H\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[10;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py --edit\r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 73, in run\r\n    self.m.draw(1,1)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/landing.py\", line 44, in draw\r\n    for m in storage.list_files(\"maps\"):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/storage.py\", line 28, in list_files\r\n    return [ f for f in os.path.listdir(target)\r\nAttributeError: 'module' object has no attribute 'listdir'\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py --edit\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n                \u001b[33mcol\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\u001b[K\r\n                draw.string(40,2+i,m,col)\u001b[K\r\n                i += 1\u001b[K\r\n            draw.string(40,3+i,\u001b[32m\"User-generated maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m storage.list_files(\u001b[32m\"maps\"\u001b[39;49m):\u001b[K\r\n                \u001b[33mcol\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\u001b[K\r\n                draw.string(40,4+i,m,col)\u001b[K\r\n                \u001b[33mi\u001b[39;49m += 1\u001b[K\r\n\u001b[K\n\u001b[K\n        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m:\u001b[K\r\n            \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[7m-UUU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L47    (Python) --------------------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[10;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default storage.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lstorage.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\tf.close()\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m s\u001b[K\u001b[4;5H\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[31m# This returns a list of filenames under the provided directory.                \u001b[39;49m\r\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlist_files\u001b[0m\u001b[39;49m(*args):\u001b[K\u001b[9;5H\u001b[33mhome\u001b[39;49m = os.path.join(os.path.expanduser(\u001b[32m\"~\"\u001b[39;49m),\u001b[32m\".rules-of-war\"\u001b[39;49m)\u001b[10;5H\u001b[33mtarget\u001b[39;49m = os.path.join(home, *args)\u001b[K\u001b[11;5H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(target):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m []\u001b[13;5H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m [ f \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m f \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m os.path.listdir(target)\r\n\t     \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m os.path.isfile(os.join(target,f)) ]\r\n\u001b[K\n\u001b[31m# This saves a file to the home directory, overwriting if appropriate.          \u001b[39;49m\r\n\u001b[31m# Returns False if something goes wrong.                                        \u001b[39;49m\r\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34msave\u001b[0m\u001b[39;49m(data, *args):\u001b[19;5H\u001b[33mhome\u001b[39;49m = os.path.join(os.path.expanduser(\u001b[32m\"~\"\u001b[39;49m),\u001b[32m\".rules-of-war\"\u001b[39;49m)\u001b[20;5H\u001b[33mtargetdir\u001b[39;49m = os.path.join(home, *(args[:-1]))\u001b[21;5H\u001b[33mtarget\u001b[39;49m = os.path.join(home, *args)\u001b[22;5H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(targetdir):\u001b[23;4H\u001b[7m-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mstorage.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   24% L29   Git:master  (Python) \u001b[0m\u001b[39;49m\u001b[27m\u001b[14;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\t\t\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[?25l\u001b[1P\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/storage.py...\u001b[13;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/storage.py\u001b[K\u001b[13;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[?25l\u001b[1@.\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@p\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@a\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@h\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/storage.py...\u001b[14;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/storage.py\u001b[K\u001b[14;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py --edit\r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[2d Welcome to Rules of War!\u001b[2;41H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mBuilt-in Maps\u001b[3;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault.json\u001b[4;2H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mPlease select a map!\u001b[4;41Hdefault1.json\u001b[6;41H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mUser-generated maps\u001b[7;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mfoo.json\u001b[3;41Hdefault.json\u001b[4;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\u001b[7;49H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;41Hdefault1.json\u001b[7;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mfoo.json\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\u001b[7;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mfoo.json\u001b[3;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault.json\u001b[4;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\u001b[7;49H\u001b[3;41Hdefault.json\u001b[4;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\u001b[7;49H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;41Hdefault1.json\u001b[7;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mfoo.json\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\u001b[7;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mfoo.json\u001b[3;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault.json\u001b[4;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\u001b[7;49H\u001b[3;41Hdefault.json\u001b[4;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\u001b[7;49H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;41Hdefault1.json\u001b[7;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mfoo.json\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\u001b[7;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mfoo.json\u001b[3;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault.json\u001b[4;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\u001b[7;49H\u001b[3;41Hdefault.json\u001b[4;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\u001b[7;49H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py --edit\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n        f.close()\u001b[K\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m s\u001b[K\r\n    \u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[31m# This returns a list of filenames under the provided directory.                \u001b[39;49m\r\n\u001b[A\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlist_files\u001b[0m\u001b[39;49m(*args):\u001b[K\r\n    \u001b[33mhome\u001b[39;49m = os.path.join(os.path.expanduser(\u001b[32m\"~\"\u001b[39;49m),\u001b[32m\".rules-of-war\"\u001b[39;49m)\u001b[K\r\n    \u001b[33mtarget\u001b[39;49m = os.path.join(home, *args)\u001b[K\r\n    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(target):\u001b[K\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m []\u001b[K\r\n    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m [ f \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m f \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m os.listdir(target)\u001b[K\r\n             \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m os.path.isfile(os.path.join(target,f)) ]\u001b[K\r\n\u001b[K\n\u001b[31m# This saves a file to the home directory, overwriting if appropriate.          \u001b[39;49m\r\n\u001b[A\n\u001b[31m# Returns False if something goes wrong.                                        \u001b[39;49m\r\n\u001b[A\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34msave\u001b[0m\u001b[39;49m(data, *args):\u001b[K\r\n    \u001b[33mhome\u001b[39;49m = os.path.join(os.path.expanduser(\u001b[32m\"~\"\u001b[39;49m),\u001b[32m\".rules-of-war\"\u001b[39;49m)\u001b[K\r\n    \u001b[33mtargetdir\u001b[39;49m = os.path.join(home, *(args[:-1]))\u001b[K\r\n    \u001b[33mtarget\u001b[39;49m = os.path.join(home, *args)\u001b[K\r\n    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(targetdir):\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mstorage.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   24% L29   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[14;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[14;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[14;39H\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[14;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[14;39H\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default landing.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25llanding.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\t        \u001b[33mcol\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\u001b[4;5H            draw.string(40,2+i,m,col)\r\n\t        i += 1\u001b[6;13Hdraw.string(40,3+i,\u001b[32m\"User-generated maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m storage.list_files(\u001b[32m\"maps\"\u001b[39;49m):\u001b[K\r\n                \u001b[33mcol\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[9;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\u001b[K\u001b[10;5H            draw.string(40,4+i,m,col)\u001b[11;5H            \u001b[33mi\u001b[39;49m += 1\u001b[K\r\n\u001b[K\n\u001b[K\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m:\u001b[K\u001b[15;13H\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;4H\u001b[7mU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L47    (Python) -----------\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[3;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m39\u001b[0m\u001b[39;49m\u001b[27m\u001b[2;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[4;5H\u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\u001b[7;13Hdraw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[8;13Hdraw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\r\n\u001b[K\u001b[10;13H\u001b[33mi\u001b[39;49m = 0\u001b[K\n\b\b\b\b\bdraw.string(40,1,\u001b[32m\"Built-in Maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[12;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m storage.list_datafiles(\u001b[32m\"maps\"\u001b[39;49m):\r\n\t\t\u001b[33mcol\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\u001b[15;13H    draw.string(40,2+i,m,col)\r\n\t\ti += 1\u001b[17;13Hdraw.string(40,3+i,\u001b[32m\"User-generated maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[18;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m storage.list_files(\u001b[32m\"maps\"\u001b[39;49m):\r\n\t\t\u001b[33mcol\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\r\n\t\tdraw.string(40,4+i,m,col)\r\n\t\t\u001b[33mi\u001b[39;49m += 1\u001b[23;29H\u001b[7m44% L38\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l        draw.string(40,4+i,m,col)\r\n\t\t\u001b[33mi\u001b[39;49m += 1\r\n\u001b[K\n\u001b[K\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m:\u001b[7;13H\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L47\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[4;5H\u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\u001b[7;13Hdraw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[8;13Hdraw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\u001b[10;13H\u001b[33mi\u001b[39;49m = 0\n\b\b\b\b\bdraw.string(40,1,\u001b[32m\"Built-in Maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[12;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m storage.list_datafiles(\u001b[32m\"maps\"\u001b[39;49m):\r\n\t\t\u001b[33mcol\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\r\n\t\tdraw.string(40,2+i,m,col)\r\n\t\ti += 1\u001b[17;13Hdraw.string(40,3+i,\u001b[32m\"User-generated maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[18;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m storage.list_files(\u001b[32m\"maps\"\u001b[39;49m):\r\n\t\t\u001b[33mcol\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\r\n\t\tdraw.string(40,4+i,m,col)\r\n\t\t\u001b[33mi\u001b[39;49m += 1\u001b[23;29H\u001b[7m44%\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\n\n\u001b[?25l\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mLanding\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, w, h):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w = w\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h = h\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"home\"\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.options = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\u001b[15;5H\u001b[31m# Here we handle input based on our current state.                          \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\u001b[18;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\u001b[K\u001b[19;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor += 1\u001b[20;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[23;29H\u001b[7m13% L29\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l\u001b[31m# The landing is the \"main menu\" of the game. Here you are able to select       \u001b[39;49m\r\n\u001b[31m# maps to begin playing!                                                        \u001b[39;49m\r\n\u001b[K\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m graphics \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m draw\u001b[K\r\n\u001b[K\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m . \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m rules, grid, storage\r\n\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m json\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mLanding\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, w, h):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w = w\u001b[15;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h = h\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"home\"\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.options = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0\u001b[K\r\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mTop L21\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m19\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m9 \u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[7d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;36H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[7;44H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[7;44H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;44H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[2d\u001b[K\n\u001b[K\u001b[4;5H\u001b[?25l\u001b[31m# Here we handle input based on our current state.                          \u001b[39;49m\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\u001b[K\u001b[8;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor += 1\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\r\n\t\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\r\n\n    \u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\t\u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\r\n\t    draw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[16;13Hdraw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\r\n\u001b[K\n\t    \u001b[33mi\u001b[39;49m = 0\u001b[K\r\n\t    draw.string(40,1,\u001b[32m\"Built-in Maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[20;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m storage.list_datafiles(\u001b[32m\"maps\"\u001b[39;49m):\r\n\t\t\u001b[33mcol\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\u001b[23;29H\u001b[7m26% L20\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[18;13H\u001b[?25li\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\u001b[?25l\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mLanding\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, w, h):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w = w\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h = h\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"home\"\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.options = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0\r\n\u001b[K\n\u001b[K\n\u001b[K\u001b[15;5H\u001b[31m# Here we handle input based on our current state.                          \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[18;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\u001b[19;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor += 1\u001b[K\u001b[20;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[23;29H\u001b[7m14% L19\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l(No changes need to be saved)\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;34H\u001b[?25l\u001b[7m20\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[17;1H\u001b[1L\u001b[1;24r\u001b[17;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   14% L24\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25l;\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[23;30H\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[19;1H\u001b[1L\u001b[1;24r\u001b[18;1H\u001b[K\n\u001b[?25l        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\u001b[23;35H\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[18;13H\u001b[?25lq\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\t\b\b\b\b\u001b[?25l\u001b[33mq\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[C\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[18;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[18;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[17;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[17;22H\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[17;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[17d\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[19;1H\u001b[1M\u001b[1;24r\u001b[17;13H\u001b[?25l\u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\r\n\n\n\n        \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[23;30H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[18;1H\u001b[1L\u001b[1;24r\u001b[18;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[19;1H\u001b[1M\u001b[1;24r\u001b[18;9H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\r\n\n\n\n        \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[19;1H\u001b[1M\u001b[1;24r\u001b[17;9H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\r\n\n\n\n\u001b[K\u001b[17d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[24d\u001b[?25lMark set\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[19;1H\u001b[2L\u001b[1;24r\u001b[18;1H\u001b[K\n\u001b[?25l        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\u001b[K\u001b[23;35H\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[19;1H\u001b[1M\u001b[1;24r\u001b[18;9H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\r\n\n\n\n        \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[19;1H\u001b[1M\u001b[1;24r\u001b[17;9H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\r\n\n\n\n\u001b[K\u001b[17d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\r\n\n    \u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\t\u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\r\n\t    draw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[8;13Hdraw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\r\n\u001b[K\n\t    i = 0\u001b[K\r\n\t    draw.string(40,1,\u001b[32m\"Built-in Maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[12;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m storage.list_datafiles(\u001b[32m\"maps\"\u001b[39;49m):\r\n\t\tcol = \u001b[32m\"\"\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\u001b[15;5H            draw.string(40,2+i,m,col)\u001b[K\u001b[16;5H            \u001b[33mi\u001b[39;49m += 1\u001b[K\r\n\t    draw.string(40,3+i,\u001b[32m\"User-generated maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[18;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m storage.list_files(\u001b[32m\"maps\"\u001b[39;49m):\u001b[19;13H    \u001b[33mcol\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\u001b[20;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\r\n\t        draw.string(40,4+i,m,col)\r\n\t\ti += 1\u001b[23;29H\u001b[7m44% L28\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[16;17H\u001b[?25li\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l        draw.string(40,4+i,m,col)\r\n\t\ti += 1\r\n\u001b[K\n\u001b[K\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m:\u001b[7;13H\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L47\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25li = 0\u001b[K\n\b\b\b\b\bdraw.string(40,1,\u001b[32m\"Built-in Maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[4;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m storage.list_datafiles(\u001b[32m\"maps\"\u001b[39;49m):\r\n\t\tcol = \u001b[32m\"\"\u001b[39;49m\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\u001b[7;13H    draw.string(40,2+i,m,col)\r\n\t\ti += 1\u001b[9;13Hdraw.string(40,3+i,\u001b[32m\"User-generated maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[10;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m storage.list_files(\u001b[32m\"maps\"\u001b[39;49m):\r\n\t\t\u001b[33mcol\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\r\n\t\tdraw.string(40,4+i,m,col)\r\n\t\ti += 1\r\n\n\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m:\u001b[18;13H\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[23;35H\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m39\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\u001b[3;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor += 1\u001b[K\u001b[4;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[7;5H\u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\u001b[10;13Hdraw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[11;13Hdraw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\r\n\u001b[K\u001b[13;13Hi = 0\u001b[K\n\b\b\b\b\bdraw.string(40,1,\u001b[32m\"Built-in Maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[15;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m storage.list_datafiles(\u001b[32m\"maps\"\u001b[39;49m):\r\n\t\tcol = \u001b[32m\"\"\u001b[39;49m\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\u001b[18;13H    draw.string(40,2+i,m,col)\r\n\t\ti += 1\u001b[20;13Hdraw.string(40,3+i,\u001b[32m\"User-generated maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[21;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m storage.list_files(\u001b[32m\"maps\"\u001b[39;49m):\r\n\t\t\u001b[33mcol\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[23;29H\u001b[7m35% L35\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m40\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25li = 0\u001b[K\n\b\b\b\b\bdraw.string(40,1,\u001b[32m\"Built-in Maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[4;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m storage.list_datafiles(\u001b[32m\"maps\"\u001b[39;49m):\r\n\t        col = \u001b[32m\"\"\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\u001b[7;5H            draw.string(40,2+i,m,col)\u001b[K\u001b[8;5H            i += 1\u001b[K\r\n\t    draw.string(40,3+i,\u001b[32m\"User-generated maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[10;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m storage.list_files(\u001b[32m\"maps\"\u001b[39;49m):\u001b[K\u001b[11;13H    \u001b[33mcol\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\u001b[13;13H    draw.string(40,4+i,m,col)\u001b[14;13H    i += 1\u001b[K\r\n\u001b[K\n\u001b[K\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m:\u001b[K\u001b[18;13H\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L46\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m39\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\u001b[3;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor += 1\u001b[K\u001b[4;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[7;5H\u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\u001b[10;13Hdraw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[11;13Hdraw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\r\n\u001b[K\u001b[13;13Hi = 0\u001b[K\n\b\b\b\b\bdraw.string(40,1,\u001b[32m\"Built-in Maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[15;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m storage.list_datafiles(\u001b[32m\"maps\"\u001b[39;49m):\r\n\t\tcol = \u001b[32m\"\"\u001b[39;49m\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\u001b[18;13H    draw.string(40,2+i,m,col)\r\n\t\ti += 1\u001b[20;13Hdraw.string(40,3+i,\u001b[32m\"User-generated maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[21;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m storage.list_files(\u001b[32m\"maps\"\u001b[39;49m):\r\n\t\t\u001b[33mcol\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[23;29H\u001b[7m35% L35\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[14;1H\u001b[1L\u001b[1;24r\u001b[13;1H\u001b[K\n\u001b[?25l            \u001b[33mi\u001b[39;49m = 0\u001b[K\u001b[23;6H\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   35% L36\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\n\t\t\u001b[?25l\u001b[33mcol\u001b[39;49m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;30H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31m#                                                                  \u001b[39;49m\r\n\u001b[13;15H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[13;14H\u001b[23;30H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m#                                                                       \u001b[39;49m\r\n\u001b[13;10H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;30H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;11H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;30H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;10H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\t\u001b[23;30H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m#                                                                   \u001b[39;49m\r\n\u001b[13;14H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mT\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m.\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m.\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m.\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[31mc\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mc\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ml\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31my\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[31ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mc\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31mo\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ml\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31ml\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[31m.\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[13;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[13;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[2d\u001b[?25l\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m . \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m rules, grid, storage, widgets\r\n\u001b[K\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m json\u001b[K\r\n\u001b[K\n\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mLanding\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, w, h):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w = w\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h = h\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"home\"\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.options = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0\r\n\u001b[K\n\u001b[K\n\u001b[K\u001b[18;5H\u001b[31m# Here we handle input based on our current state.                          \u001b[39;49m\r\n\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[21;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\u001b[K\u001b[22;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor += 1\u001b[K\u001b[23;29H\u001b[7m 9% L2\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m19\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[34mmap\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25lmapl\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25l\u001b[1m\u001b[34mmap\u001b[0m\u001b[39;49m\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25lma\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[17;1H\u001b[1L\u001b[1;24r\u001b[17;1H\u001b[K\u001b[23;34H\u001b[?25l\u001b[7m20\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[H\n\u001b[?25l        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\u001b[3;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor += 1\u001b[5;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\r\n\t\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\r\n\u001b[K\u001b[8;5H\u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[11;13Hdraw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\r\n\t    draw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\r\n\u001b[K\n\t    \u001b[31m# Todo... correctly scroll.                                         \u001b[39;49m\r\n\t    \u001b[33mi\u001b[39;49m = 0\u001b[K\r\n\t    draw.string(40,1,\u001b[32m\"Built-in Maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[17;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m storage.list_datafiles(\u001b[32m\"maps\"\u001b[39;49m):\r\n\t\t\u001b[33mcol\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[19;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\u001b[K\u001b[20;5H            draw.string(40,2+i,m,col)\r\n\t        i += 1\u001b[K\u001b[22;13Hdraw.string(40,3+i,\u001b[32m\"User-generated maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[23;29H\u001b[7m34% L25\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[15;13H\u001b[?25li\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m30\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m40\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\b\u001b[K\u001b[23;30H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb\u001b[23;30H\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\u001b[?25l\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m . \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m rules, grid, storage, widgets\r\n\u001b[K\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m json\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mLanding\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, w, h):\u001b[K\u001b[9;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w = w\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h = h\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"home\"\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.options = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in =\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined =\u001b[K\r\n\u001b[K\n\u001b[K\u001b[19;5H\u001b[31m# Here we handle input based on our current state.                          \u001b[39;49m\r\n\u001b[20;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[22;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\u001b[K\u001b[23;29H\u001b[7m 9% L26\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m19\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lMark set\u001b[15;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lstorage.list_datafiles(\u001b[32m\"maps\"\u001b[39;49m):\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[15;54H\u001b[K\r\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\u001b[24;1H\u001b[?25lAuto-saving...\u001b[15;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[15;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[15;24H\u001b[?25l\u001b[1@ \u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m20\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[16;29H\u001b[24;1H\u001b[?25lMark set\u001b[16;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lstorage.list_datafiles(\u001b[32m\"maps\"\u001b[39;49m):\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[16;59H\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\u001b[?25l        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\u001b[3;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor += 1\u001b[5;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\r\n\t\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\r\n\u001b[K\u001b[8;5H\u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[11;13Hdraw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\r\n\t    draw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\r\n\u001b[K\n\t    \u001b[31m# Todo... correctly scroll.                                         \u001b[39;49m\r\n\t    \u001b[33mi\u001b[39;49m = 0\u001b[K\r\n\t    draw.string(40,1,\u001b[32m\"Built-in Maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[K\u001b[17;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in:\r\n\t\t\u001b[33mcol\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[19;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\u001b[K\u001b[20;5H            draw.string(40,2+i,m,col)\r\n\t        i += 1\u001b[K\u001b[22;13Hdraw.string(40,3+i,\u001b[32m\"User-generated maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[23;29H\u001b[7m37% L25\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[15;13H\u001b[?25li\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m30\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m40\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\u001b[3;13H\u001b[?25l\u001b[31m# Todo... correctly scroll.                                         \u001b[39;49m\r\n\u001b[4;13Hi = 0\u001b[K\n\b\b\b\b\bdraw.string(40,1,\u001b[32m\"Built-in Maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in:\r\n\t\t\u001b[33mcol\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[8;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\u001b[K\u001b[9;5H            draw.string(40,2+i,m,col)\r\n\t        i += 1\u001b[K\n\t40,3+i,\u001b[32m\"User-generated maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[12;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m storage.list_files(\u001b[32m\"maps\"\u001b[39;49m):\u001b[K\r\n\t\tcol = \u001b[32m\"\"\u001b[39;49m\u001b[14;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\u001b[K\u001b[15;13H    draw.string(40,4+i,m,col)\u001b[16;13H    i += 1\u001b[K\r\n\u001b[K\n\u001b[K\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m:\u001b[K\u001b[20;13H\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L46\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;58H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;49H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l:\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m:                                  \u001b[39;49m\r\n\u001b[32m                col = \"\"                                                        \u001b[39;49m\r\n\u001b[12;46H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m: \u001b[39;49m\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m: \u001b[39;49m\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m: \u001b[39;49m\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m: \u001b[39;49m\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l:\u001b[K\r\n                col = \u001b[32m\"\"\u001b[39;49m\u001b[K\u001b[A\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l:\u001b[K\r\n\t\t\u001b[33mcol\u001b[39;49m\u001b[12;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l:\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l:\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l:\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l:\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l:\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\u001b[?25l\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m:\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25llis:\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l:\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l:\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l:\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu:\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls:\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le:\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr:\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_:\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld:\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le:\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf:\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li:\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln:\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le:\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld:\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[12;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[12;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py --edit\r\nTraceback (most recent call last):\r\n  File \"./rules-of-war.py\", line 6, in <module>\r\n    from core import shell\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 8, in <module>\r\n    from . import rules, grid, widgets, storage, landing\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/landing.py\", line 20\r\n    self.user_defined = storage.list_files(\"maps\"):\r\n                                                  ^\r\nSyntaxError: invalid syntax\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py --edit\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n\u001b[K\n            \u001b[31m# Todo... correctly scroll.                                         \u001b[39;49m\r\n\u001b[A\n            i = 0\u001b[K\r\n            draw.string(40,1,\u001b[32m\"Built-in Maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in:\u001b[K\r\n                \u001b[33mcol\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\u001b[K\r\n                draw.string(40,2+i,m,col)\u001b[K\r\n                i += 1\u001b[K\r\n            draw.string(40,3+i,\u001b[32m\"User-generated maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m storage.user_defined:\u001b[K\r\n                \u001b[33mcol\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\u001b[K\r\n                draw.string(40,4+i,m,col)\u001b[K\r\n                i += 1\u001b[K\r\n\u001b[K\n\u001b[K\n        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m:\u001b[K\r\n            \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[7m-UUU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L46    (Python) --------------------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[12;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.options = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in = storage.list_datafiles(\u001b[32m\"maps\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined = storage.list_files(\u001b[32m\"maps\"\u001b[39;49m):\r\n\u001b[K\n\u001b[K\u001b[8;5H\u001b[31m# Here we handle input based on our current state.                          \u001b[39;49m\r\n\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[11;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\u001b[K\u001b[12;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor += 1\u001b[13;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\r\n\t\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[16;5H\u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\r\n\t    draw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[20;13Hdraw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\u001b[22;13H\u001b[31m# Todo... correctly scroll.                                         \u001b[39;49m\r\n\u001b[23;29H\u001b[7m21% L37\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m29\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;56H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;55H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[5;55H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[5;55H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;55H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py --edit\r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 73, in run\r\n    self.m.draw(1,1)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/landing.py\", line 46, in draw\r\n    for m in storage.user_defined:\r\nAttributeError: 'module' object has no attribute 'user_defined'\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py --edit\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.options = []\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in = storage.list_datafiles(\u001b[32m\"maps\"\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined = storage.list_files(\u001b[32m\"maps\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\u001b[K\n    \u001b[31m# Here we handle input based on our current state.                          \u001b[39;49m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor += 1\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\u001b[K\r\n        \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n    \u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\r\n            draw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[K\r\n            draw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n            \u001b[31m# Todo... correctly scroll.                                         \u001b[39;49m\r\n\u001b[A\n\u001b[7m-UUU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   21% L20    (Python) --------------------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[5;55H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\u001b[K\n\t\u001b[?25l    \u001b[31m# Todo... correctly scroll.                                         \u001b[39;49m\r\n\t    \u001b[33mi\u001b[39;49m = 0\u001b[K\r\n\t    draw.string(40,1,\u001b[32m\"Built-in Maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[K\u001b[6;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in:\r\n\t\t\u001b[33mcol\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[8;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\u001b[K\u001b[9;5H            draw.string(40,2+i,m,col)\r\n\t        i += 1\u001b[K\u001b[11;13Hdraw.string(40,3+i,\u001b[32m\"User-generated maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[12;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m storage.user_defined:\u001b[K\u001b[13;13H    col = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\r\n\t\tdraw.string(40,4+i,m,col)\u001b[16;5H            i += 1\u001b[K\r\n\u001b[K\n\u001b[K\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m:\u001b[K\u001b[20;13H\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\n\u001b[K\u001b[23;29H\u001b[7mBot L36\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.options = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in = storage.list_datafiles(\u001b[32m\"maps\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined = storage.list_files(\u001b[32m\"maps\"\u001b[39;49m)\r\n\u001b[K\n\u001b[K\u001b[8;5H\u001b[31m# Here we handle input based on our current state.                          \u001b[39;49m\r\n\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[11;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\u001b[K\u001b[12;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor += 1\u001b[13;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\r\n\t\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[16;5H\u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\r\n\t    draw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[20;13Hdraw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\u001b[22;13H\u001b[31m# Todo... correctly scroll.                                         \u001b[39;49m\r\n\u001b[23;29H\u001b[7m21%\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\n\t\u001b[?25l    \u001b[31m# Todo... correctly scroll.                                         \u001b[39;49m\r\n\t    \u001b[33mi\u001b[39;49m = 0\u001b[K\r\n\t    draw.string(40,1,\u001b[32m\"Built-in Maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[K\u001b[6;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in:\r\n\t\t\u001b[33mcol\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[8;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\u001b[K\u001b[9;5H            draw.string(40,2+i,m,col)\r\n\t        i += 1\u001b[K\u001b[11;13Hdraw.string(40,3+i,\u001b[32m\"User-generated maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[12;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m storage.user_defined:\u001b[K\u001b[13;13H    col = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\r\n\t\tdraw.string(40,4+i,m,col)\u001b[16;5H            i += 1\u001b[K\r\n\u001b[K\n\u001b[K\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m:\u001b[K\u001b[20;13H\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\n\u001b[K\u001b[23;29H\u001b[7mBot\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m40\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[?25l\u001b[1@s\r\n\t\t\u001b[33mcol\u001b[39;49m\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@e\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@l\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@f\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[1@.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[12;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[12;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py --edit\r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[2d Welcome to Rules of War!\u001b[2;41H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mBuilt-in Maps\u001b[3;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault.json\u001b[4;2H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mPlease select a map!\u001b[4;41Hdefault1.json\u001b[6;41H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mUser-generated maps\u001b[7;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mfoo.json\u001b[3;41Hdefault.json\u001b[4;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\u001b[7;49H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;41Hdefault1.json\u001b[7;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mfoo.json\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\u001b[7;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mfoo.json\u001b[3;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault.json\u001b[4;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\u001b[7;49H\u001b[3;41Hdefault.json\u001b[4;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\u001b[7;49H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;41Hdefault1.json\u001b[7;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mfoo.json\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\u001b[7;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mfoo.json\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py --edit\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n\u001b[K\n            \u001b[31m# Todo... correctly scroll.                                         \u001b[39;49m\r\n\u001b[A\n            \u001b[33mi\u001b[39;49m = 0\u001b[K\r\n            draw.string(40,1,\u001b[32m\"Built-in Maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in:\u001b[K\r\n                \u001b[33mcol\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\u001b[K\r\n                draw.string(40,2+i,m,col)\u001b[K\r\n                i += 1\u001b[K\r\n            draw.string(40,3+i,\u001b[32m\"User-generated maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined:\u001b[K\r\n                \u001b[33mcol\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\u001b[K\r\n                draw.string(40,4+i,m,col)\u001b[K\r\n                i += 1\u001b[K\r\n\u001b[K\n\u001b[K\n        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m:\u001b[K\r\n            \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[7m-UUU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L46    (Python) --------------------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[12;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.options = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in = storage.list_datafiles(\u001b[32m\"maps\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined = storage.list_files(\u001b[32m\"maps\"\u001b[39;49m)\r\n\u001b[K\n\u001b[K\u001b[8;5H\u001b[31m# Here we handle input based on our current state.                          \u001b[39;49m\r\n\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[11;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\u001b[K\u001b[12;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor += 1\u001b[13;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\r\n\t\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[16;5H\u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\r\n\t    draw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[20;13Hdraw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\u001b[22;13H\u001b[31m# Todo... correctly scroll.                                         \u001b[39;49m\r\n\u001b[23;29H\u001b[7m21% L37\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m29\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\t\u001b[1;21r\u001b[14;1H\u001b[1L\u001b[1;24r\u001b[14;1H\u001b[K\u001b[22d\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   21% L29\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;30H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\u001b[?25l\u001b[33mc\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25lc ==\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32m\"                                                         \u001b[39;49m\r\n\u001b[32m        pass                                                                    \u001b[39;49m\r\n\u001b[14;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mn\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n        \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\u001b[14;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lCloses \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\u001b[14;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;8H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\u001b[14;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[4P\u001b[14;26H\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[14d\u001b[24d\u001b[?25lCloses \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[24;1H\u001b[K\u001b[14;9H\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\u001b[1@\u001b[C\t\t\t\b\b\u001b[1;22r\u001b[16;1H\u001b[1L\u001b[1;24r\u001b[15;1H\u001b[K\n\u001b[?25l        \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\u001b[23;34H\u001b[7m30\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[15;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[15;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[15;17H\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default storage.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\r\u001b[?25lQuit\u001b[K\u001b[1;33H\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[15;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[15;17H\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[15;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[15;17H\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[15;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[15;17H\u001b[?25li\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l>\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\u001b[15;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[15;53H\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[15;53H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[15;53H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;53H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[15;53H\u001b[?25l:\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;54H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[15;54H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[15;54H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;54H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;34H\u001b[?25l\u001b[7m29\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;54H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;54H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l    draw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\r\n\t    draw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\r\n\u001b[K\n\t    \u001b[31m# Todo... correctly scroll.                                         \u001b[39;49m\r\n\u001b[6;13Hi = 0\n\b\b\b\b\bdraw.string(40,1,\u001b[32m\"Built-in Maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[8;5H        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in:\u001b[K\u001b[9;5H            col = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\u001b[11;13H    draw.string(40,2+i,m,col)\u001b[K\u001b[12;13H    i += 1\u001b[K\u001b[13;13Hdraw.string(40,3+i,\u001b[32m\"User-generated maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[14;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined:\r\n\t\t\u001b[33mcol\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\r\n\t\tdraw.string(40,4+i,m,col)\u001b[18;5H            i += 1\u001b[K\r\n\u001b[K\n\u001b[K\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m:\u001b[K\u001b[22;13H\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\u001b[23;29H\u001b[7m58% L36\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m:\u001b[K\u001b[3;13H\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\n\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L55\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l    draw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[3;13Hdraw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\u001b[5;13H\u001b[31m# Todo... correctly scroll.                                         \u001b[39;49m\r\n\u001b[6;13Hi = 0\n\b\b\b\b\bdraw.string(40,1,\u001b[32m\"Built-in Maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[8;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in:\r\n\t\tcol = \u001b[32m\"\"\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\r\n\t\tdraw.string(40,2+i,m,col)\r\n\t\ti += 1\u001b[13;13Hdraw.string(40,3+i,\u001b[32m\"User-generated maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[14;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined:\r\n\t\t\u001b[33mcol\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\r\n\t\tdraw.string(40,4+i,m,col)\r\n\t\ti += 1\r\n\n\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m:\u001b[22;13H\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[23;29H\u001b[7m58%\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.options = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in = storage.list_datafiles(\u001b[32m\"maps\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined = storage.list_files(\u001b[32m\"maps\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\u001b[K\u001b[8;5H\u001b[31m# Here we handle input based on our current state.                          \u001b[39;49m\r\n\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\u001b[11;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\u001b[12;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor += 1\u001b[13;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\u001b[K\u001b[14;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in):\r\n\t\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[18;5H\u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\r\n\t    draw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[22;13Hdraw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\u001b[23;29H\u001b[7m20% L37\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m29\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m19\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;55H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m20\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;55H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[8;1H\u001b[1L\u001b[1;24r\u001b[8;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   20% L21\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;29H\u001b[?25l\u001b[7m19\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[34mmap\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lAuto-saving...\u001b[6;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[6;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[6;14H\u001b[?25lmap_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\b\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lN\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[35mNone\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[6;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[6;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23d\u001b[?25l\u001b[7m30\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[16;54H\u001b[1;22r\u001b[17;1H\u001b[1L\u001b[1;24r\u001b[17;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   19% L32\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[17;21H\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[34mmap\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25lmap_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32m\"                                      \u001b[39;49m\r\n\u001b[32m        pass                                                                    \u001b[39;49m\r\n\u001b[17;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[32m    # Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[32m    def draw(self, x, y):                                                       \u001b[39;49m\r\n\u001b[32m        if self.state == \"\u001b[39;49mhome\u001b[32m\":                                                \u001b[39;49m\r\n\u001b[17;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mu\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mr\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n        \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\u001b[17;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[K\n\u001b[?25l    \u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\u001b[17;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[23;30H\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;63H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l[\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;54H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[18;1H\u001b[1L\u001b[1;24r\u001b[17;1H\u001b[K\n\u001b[?25l                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = \u001b[32m\"user\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[K\u001b[23;35H\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[17;21H\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\u001b[?25l\u001b[33mi\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l-\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l-\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\u001b[17;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;57H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[18;78H\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\b\b\b\u001b[?25lsel\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l]\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[18;69H\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[18;69H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[18;69H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;69H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[19;1H\u001b[1L\u001b[1;24r\u001b[24;1H\u001b[K\u001b[19d\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   18% L34\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[19;21H\r\t\t\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[19;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[19;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[K\u001b[19;17H\u001b[?25leli\u001b[K\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;20H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[?25lCloses \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in):\u001b[19;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[21;1H\u001b[1L\u001b[1;24r\u001b[24;1H\u001b[K\u001b[20d\u001b[K\n\u001b[?25l        \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\u001b[23;35H\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;30H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\u001b[?25l\u001b[33mi\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\r\n\n\n\n\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[20;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[20;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;36H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\b\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18d\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[23;30H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lMark set\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[18;21H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = \u001b[32m\"user\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined[i]\u001b[23;30H\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;69H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[20d\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\u001b[K\n\t\u001b[?25l\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[23;35H\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\u001b[?25lMark set\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[21;21H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = \u001b[32m\"user\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined[i]\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\u001b[K\u001b[21;69H\r\n\n\n\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[21;69H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[21;69H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;69H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[20d\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\b\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;69H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;57H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;69H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;49H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;49H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\t\t\t\t\u001b[1;22r\u001b[18;1H\u001b[1L\u001b[1;24r\u001b[18;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   17% L33\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lMark set\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[18;21H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = \u001b[32m\"user\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined[i]\u001b[23;30H\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;69H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[18d\u001b[K\u001b[23;30H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[20;1H\u001b[1M\u001b[1;24r\u001b[18;21H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = \u001b[32m\"user\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined[i]\r\n\t\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\n\n        \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[18;21H\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\r\u001b[K\u001b[18;21H\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\b\b\b\u001b[?25l\u001b[33mdata\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25lsel\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[20;21H\u001b[?25li\u001b[18;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\b\b\b\u001b[?25lsel\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25l\u001b[32m\"                                       \u001b[39;49m\r\n\u001b[32m                else:                                                           \u001b[39;49m\r\n\u001b[18;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mm\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mp\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n                \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[18;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"                                \u001b[39;49m\r\n\u001b[32m                else:                                                           \u001b[39;49m\r\n\u001b[18;49H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l\u001b[32m                    i = self.cursor                                             \u001b[39;49m\r\n\u001b[32m                    self.map_selection = \"\u001b[39;49muser\u001b[32m\",self.user_defined[i]            \u001b[39;49m\r\n\u001b[32m        pass                                                                    \u001b[39;49m\r\n\u001b[18;49H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\b\u001b[?25l(\u001b[32m\"maps\"\u001b[39;49m,\u001b[32m\" \u001b[39;49m\u001b[18;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l(\u001b[32m\"maps\"\u001b[39;49m,\u001b[32m\" \u001b[39;49m\u001b[18;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l(\u001b[32m\"maps\"\u001b[39;49m,\u001b[32m\" \u001b[39;49m\u001b[18;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l(\u001b[32m\"maps\"\u001b[39;49m,\u001b[32m\" \u001b[39;49m\u001b[18;36H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr(\u001b[32m\"maps\"\u001b[39;49m,\u001b[32m\"\u001b[39;49m\u001b[18;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le(\u001b[32m\"maps\"\u001b[39;49m,\u001b[32m\"\u001b[39;49m\u001b[18;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la(\u001b[32m\"maps\"\u001b[39;49m,\u001b[32m\"\u001b[39;49m\u001b[18;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld(\u001b[32m\"maps\"\u001b[39;49m,\u001b[32m\"\u001b[39;49m\u001b[18;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[18;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[18;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[18;40H\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default storage.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lstorage.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\tf.close()\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m s\u001b[K\u001b[4;5H\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[31m# This returns a list of filenames under the provided directory.                \u001b[39;49m\r\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlist_files\u001b[0m\u001b[39;49m(*args):\u001b[9;5H\u001b[33mhome\u001b[39;49m = os.path.join(os.path.expanduser(\u001b[32m\"~\"\u001b[39;49m),\u001b[32m\".rules-of-war\"\u001b[39;49m)\u001b[K\u001b[10;5H\u001b[33mtarget\u001b[39;49m = os.path.join(home, *args)\u001b[11;5H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(target):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m []\u001b[K\u001b[13;5H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m [ f \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m f \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m os.listdir(target)\u001b[K\u001b[14;13H \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m os.path.isfile(os.path.join(target,f)) ]\r\n\u001b[K\n\u001b[31m# This saves a file to the home directory, overwriting if appropriate.          \u001b[39;49m\r\n\u001b[31m# Returns False if something goes wrong.                                        \u001b[39;49m\r\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34msave\u001b[0m\u001b[39;49m(data, *args):\u001b[K\r\n    \u001b[33mhome\u001b[39;49m = os.path.join(os.path.expanduser(\u001b[32m\"~\"\u001b[39;49m),\u001b[32m\".rules-of-war\"\u001b[39;49m)\u001b[K\r\n    \u001b[33mtargetdir\u001b[39;49m = os.path.join(home, *(args[:-1]))\u001b[K\r\n    \u001b[33mtarget\u001b[39;49m = os.path.join(home, *args)\u001b[K\r\n    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m os.path.exists(targetdir):\u001b[K\u001b[23;4H\u001b[7m-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mstorage.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   24% L29   Git:master  (Python) \u001b[0m\u001b[39;49m\u001b[27m\u001b[14;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;13r\u001b[9;1H\u001b[2L\u001b[1;24r\u001b[2;1H\u001b[?25l\u001b[31m# The storage module is a platform-independent way of saving and loading        \u001b[39;49m\r\n\u001b[31m# files to certain locations.                                                   \u001b[39;49m\r\n\u001b[K\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m os\u001b[K\n\n\u001b[31mads the text from a file from the home directory. Each arg is a\u001b[39;49m\r\n\u001b[31m# folder in the filename, and will be joined as appropriate. Returns None if    \u001b[39;49m\r\n\u001b[31m# the file does not exist.                                                      \u001b[39;49m\r\n\u001b[A\n\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mread\u001b[0m\u001b[39;49m(*args):\u001b[K\r\n\n\n\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\u001b[15;5H\u001b[1m\u001b[36mtry\u001b[0m\u001b[39;49m:\r\n        \u001b[33mf\u001b[39;49m = \u001b[1m\u001b[34mopen\u001b[0m\u001b[39;49m(target,\u001b[32m\"r\"\u001b[39;49m)\u001b[K\r\n        \u001b[33ms\u001b[39;49m = f.read()\u001b[K\r\n        f.close()\u001b[K\u001b[19;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m s\u001b[K\u001b[20;5H\u001b[1m\u001b[36mexcept\u001b[0m\u001b[39;49m:\u001b[K\u001b[21;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[23;29H\u001b[7mTop L21\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\u001b[?25l\u001b[34mSwitch to buffer (default landing.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25llanding.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.options = []\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in = storage.list_datafiles(\u001b[32m\"maps\"\u001b[39;49m)\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined = storage.list_files(\u001b[32m\"maps\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = \u001b[35mNone\u001b[39;49m\r\n\u001b[K\n\u001b[K\u001b[9;51H\u001b[4P\r\u001b[4@\t\b\b\u001b[31mHere we handle input based on our current state.\u001b[39;49m\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[11;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\u001b[12;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\u001b[13;5H        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor += 1\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\u001b[15;5H        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in):\r\n\t            \u001b[33mi\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor - \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in)\r\n\t            \u001b[33mdata\u001b[39;49m = storage.read(\u001b[32m\"maps\"\u001b[39;49m,\u001b[32m\"                                \u001b[39;49m\r\n\u001b[32m                else:                                                           \u001b[39;49m\r\n\u001b[32m                    i = self.cursor                                             \u001b[39;49m\r\n\u001b[32m                    self.map_selection = \"\u001b[39;49muser\u001b[32m\",self.user_defined[i]            \u001b[39;49m\r\n\u001b[32m        pass                                                                    \u001b[39;49m\r\n\u001b[23;4H\u001b[7mU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   17% L33    (Python) -----------\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\b\u001b[K\r\n\u001b[?25l                \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l                    i = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[K\r\n                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = \u001b[32m\"user\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined[i]\u001b[K\r\n        \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\u001b[18;48H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l[\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l]\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[18;68H\u001b[?25l)\u001b[18;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[18;69H\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[18;69H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[18;69H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;69H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[20d\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\b\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;69H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[20;21H\u001b[?25l\u001b[33mi\u001b[39;49m\u001b[21;69H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[20d\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\b\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;69H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lMark set\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[18;21H\u001b[?25l\u001b[33mdata\u001b[39;49m = storage.read(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined[i])\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[20d\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\b\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;69H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\b\b\b\u001b[?25lsel\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[?25l\u001b[32m                                  \u001b[39;49m\r\n\u001b[32m        pass                                                                    \u001b[39;49m\r\n\u001b[21;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\r\n\u001b[?25l        \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\u001b[21;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[K\t\b\b\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\b\b\b\u001b[?25l\u001b[1m\u001b[34mmap\u001b[0m\u001b[39;49m\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25lma\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\b\b\b\b\u001b[?25lsel\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\r\u001b[K\u001b[21;21H\r\t\t\b\b\b\b\r\t\b\b\b\b\r\n\n\n\u001b[?25lMark set\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[21;21H\u001b[?25l\u001b[33mdata\u001b[39;49m = storage.read(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined[i])\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\u001b[K\u001b[21;69H\r\n\n\n\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[21;69H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[21;69H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;69H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\u001b[K\u001b[21;68H\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[?25l\u001b[1@_\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@a\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@e\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@a\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\t\b\t\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\u001b[C\t\b\t\u001b[C\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lined[i])\u001b[K\u001b[21;58H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lned[i])\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25led[i])\u001b[K\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld[i])\u001b[K\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l[i])\u001b[K\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lb[i])\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu[i])\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li[i])\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll[i])\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt[i])\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_[i])\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li[i])\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln[i])\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[21;66H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[21;66H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;66H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[20d\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\b\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[20d\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\b\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;66H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;57H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;54H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[16;1H\u001b[1L\u001b[1;24r\u001b[16;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   17% L31\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;30H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lAuto-saving...\u001b[16;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[16;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[16;17H\u001b[?25l\u001b[33mdata\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l\u001b[32m\"                                                        \u001b[39;49m\r\n\u001b[32m                if self.cursor >= len(self.built_in):                           \u001b[39;49m\r\n\u001b[16;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in):\u001b[K\u001b[16;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[22;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor += 1\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\r\n\t        \u001b[33mdata\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in):\u001b[7;21H\u001b[33mi\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor - \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in)\u001b[8;21H\u001b[33mdata\u001b[39;49m = storage.read(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined[i])\u001b[9;5H            \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[10;5H                \u001b[33mi\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\r\n\t            \u001b[33mdata\u001b[39;49m = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in[i])\r\n\t\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[14;5H\u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[15;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[17;13Hdraw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[18;13Hdraw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[20;13H\u001b[31m# Todo... correctly scroll.                                         \u001b[39;49m\r\n\u001b[21;13H\u001b[33mi\u001b[39;49m = 0\u001b[K\n\b\b\b\b\bdraw.string(40,1,\u001b[32m\"Built-in Maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[K\u001b[23;29H\u001b[7m35% L38\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[11;70H\u001b[1;22r\u001b[13;1H\u001b[1L\u001b[1;24r\u001b[12;1H\u001b[K\n\u001b[?25l        \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\u001b[23;35H\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;21H\r\t\t\u001b[22;13H\u001b[?25li\u001b[12;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[12;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[12;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m29\u001b[0m\u001b[39;49m\u001b[27m\u001b[3;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.options = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in = storage.list_datafiles(\u001b[32m\"maps\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined = storage.list_files(\u001b[32m\"maps\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[K\u001b[9;5H\u001b[31m# Here we handle input based on our current state.                          \u001b[39;49m\r\n\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\u001b[12;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor += 1\u001b[14;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\u001b[15;5H        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\u001b[16;5H            \u001b[33mdata\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in):\u001b[18;13H        \u001b[33mi\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor - \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in)\u001b[19;13H        \u001b[33mdata\u001b[39;49m = storage.read(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined[i])\r\n\t\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[21;13H        \u001b[33mi\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[K\u001b[22;13H        \u001b[33mdata\u001b[39;49m = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in[i])\u001b[23;29H\u001b[7m16% L27\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m30\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor += 1\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\r\n\t        \u001b[33mdata\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in):\u001b[7;21H\u001b[33mi\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor - \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in)\u001b[8;21H\u001b[33mdata\u001b[39;49m = storage.read(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined[i])\u001b[9;5H            \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[10;5H                \u001b[33mi\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\r\n\t            \u001b[33mdata\u001b[39;49m = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in[i])\r\n\u001b[K\n\t\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[15;5H\u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\u001b[18;13Hdraw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[K\u001b[19;13Hdraw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[21;13H\u001b[31m# Todo... correctly scroll.                                         \u001b[39;49m\r\n\u001b[22;13Hi = 0\u001b[K\u001b[23;29H\u001b[7m35% L38\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[12;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[12;17H\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[12;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[12;17H\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[12;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[12;17H\u001b[?25ls\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\r\t\t\u001b[?25lsel\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\r\u001b[K\t\t\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\t\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lj\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[12;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[12;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[12;29H\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default storage.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lstorage.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lshell.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[31m# The Shell is where it all starts. A Shell is an abstract and thin package in  \u001b[39;49m\r\n\u001b[31m# which all of the elements of the game are stored. It is responsible for       \u001b[39;49m\r\n\u001b[31m# creating the world, parsing and writing to save files, and turning on/off     \u001b[39;49m\r\n\u001b[31m# graphics.                                                                     \u001b[39;49m\r\n\u001b[K\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m graphics \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m gfx, draw\u001b[K\r\n\u001b[K\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m . \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m rules, grid, widgets, storage, landing\r\n\u001b[K\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m sys\u001b[K\r\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m os\u001b[K\r\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m traceback\r\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m random\r\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m unittest\u001b[K\r\n\u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m json\u001b[K\r\n\u001b[K\n\u001b[31m# A Shell represents a single instance of a game, including its maps,           \u001b[39;49m\r\n\u001b[31m# data, and everything else.                                                    \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mShell\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, *args):\u001b[K\r\n\u001b[K\u001b[23;4H\u001b[7m-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mshell.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Top L8    Git:master  (Python) \u001b[0m\u001b[39;49m\u001b[27m\u001b[9;53H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\u001b[?25l    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, *args):\u001b[K\r\n\u001b[K\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.g = \u001b[35mNone\u001b[39;49m\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode = \u001b[32m\"play\"\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics = \u001b[32m\"ascii\"\u001b[39;49m\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"--test\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args:\u001b[K\u001b[8;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.mode = \u001b[32m\"test\"\u001b[39;49m\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"--sdl\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m args:\u001b[K\u001b[10;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.graphics = \u001b[32m\"sdl\"\u001b[39;49m\r\n\u001b[K\n        \u001b[31m# IN THE FUTURE ALL OF THIS WILL NOT EXIST                              \u001b[39;49m\r\n        \u001b[33mqdata\u001b[39;49m = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[32m\"default.json\"\u001b[39;49m)\r\n        \u001b[33mqdict\u001b[39;49m = json.loads(qdata)\r\n        \u001b[33mqdict\u001b[39;49m[\u001b[32m\"players\"\u001b[39;49m] = {\u001b[32m\"Ishara\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:1,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"b\"\u001b[39;49m},\r\n                            \u001b[32m\"Ramen\"\u001b[39;49m:{\u001b[32m\"team\"\u001b[39;49m:0,\u001b[32m\"color\"\u001b[39;49m:\u001b[32m\"r\"\u001b[39;49m}\u001b[17;28H}\r\n\u001b[K\n\u001b[K\n\u001b[K\u001b[21;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.m = \u001b[35mNone\u001b[39;49m\u001b[23;29H\u001b[7m19% L20\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l\u001b[34mSwitch to buffer (default landing.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25llanding.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[2;5H        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor += 1\u001b[3;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\r\n\t        \u001b[33mdata\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in):\r\n\t            \u001b[33mi\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor - \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in)\u001b[8;13H        \u001b[33mdata\u001b[39;49m = storage.read(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined[i])\r\n\t        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[10;13H        \u001b[33mi\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[11;21H\u001b[33mdata\u001b[39;49m = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in[i])\r\n\t        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m json.\u001b[K\r\n\t\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[15;5H\u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[18;13Hdraw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[19;13Hdraw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\r\n\n\t    \u001b[31m# Todo... correctly scroll.                                         \u001b[39;49m\r\n\t    i = 0\u001b[K\u001b[23;4H\u001b[7mU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   35% L38    (Python) -----------\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\b\b\u001b[?25l\u001b[32m\"json.loads(                                             \u001b[39;49m\r\n\u001b[32m        pass                                                                    \u001b[39;49m\r\n\u001b[23;30H\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mejson.loads(\u001b[39;49m\u001b[12;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mdjson.loads(\u001b[39;49m\u001b[12;27H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mijson.loads(\u001b[39;49m\u001b[12;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mtjson.loads(\u001b[39;49m\u001b[12;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49mjson.loads(\u001b[K\r\n        \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\u001b[12;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;42H\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\b\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[12;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[12;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py --edit\r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[2d Welcome to Rules of War!\u001b[2;41H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mBuilt-in Maps\u001b[3;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault.json\u001b[4;2H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mPlease select a map!\u001b[4;41Hdefault1.json\u001b[6;41H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mUser-generated maps\u001b[7;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mfoo.json\u001b[3;41Hdefault.json\u001b[4;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\u001b[7;49H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+--------------------------------------------------------------+---------------+\u001b[2;1H|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..................\u001b[2;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m             \u001b[2;64H|\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mMap Editing\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m    |\u001b[3;1H|\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[3;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m            \u001b[3;64H|\u001b[35m\u001b[40mMagenta     $0\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m |\u001b[4;1H|#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[4;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m             \u001b[4;64H|\u001b[34m\u001b[40mBlue        $0\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m |\u001b[5;1H|\u001b[32m\u001b[40m......................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[5;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[6;1H|\u001b[32m\u001b[40m.............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m................\u001b[6;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[23X\u001b[6;64H|\u001b[80G|\u001b[7;1H|\u001b[32m\u001b[40m...........................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b[7;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m        \u001b[7;64H|\u001b[80G|\u001b[8;1H|\u001b[32m\u001b[40m....................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[8;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[9;1H|\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[9;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+---------------+\u001b[10;1H|#\u001b[32m\u001b[40m.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b[10;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|Grass\u001b[80G|\u001b[11;1H|#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.................\u001b[11;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|DEF +1\u001b[80G|\u001b[12;1H|\u001b[32m\u001b[40m...................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[12;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[13;1H|\u001b[32m\u001b[40m.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......................\u001b[13;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[14;1H|\u001b[32m\u001b[40m.............\u001b(B\u001b[0;1m\u001b[35m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[14;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[15;1H|\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#!\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[15;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[16;1H|#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m...\u001b[16;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[17;1H|\u001b[17;64H+---------------+\u001b[18;1H|\u001b[18;64H|\u001b[80G|\u001b[19;1H|\u001b[19;64H|\u001b[80G|\u001b[20;1H|\u001b[20;64H|\u001b[80G|\u001b[21;1H|\u001b[21;64H|\u001b[80G|\u001b[22;1H|\u001b[22;64H+---------------+\u001b[23;1H|\u001b[23;64H|\r\u001b[24d+--------------------------------------------------------------+\r\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 86, in run\r\n    gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 89, in refresh\r\n    if gfx: return gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 104, in refresh\r\n    curses.napms(20)\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py --edit\r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[2d Welcome to Rules of War!\u001b[2;41H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mBuilt-in Maps\u001b[3;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault.json\u001b[4;2H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mPlease select a map!\u001b[4;41Hdefault1.json\u001b[6;41H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mUser-generated maps\u001b[7;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mfoo.json\u001b[3;41Hdefault.json\u001b[4;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\u001b[7;49H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;41Hdefault1.json\u001b[7;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mfoo.json\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+--------------------------------------------------------------+---------------+\u001b[2;1H|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..................\u001b[2;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m             \u001b[2;64H|\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mMap Editing\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m    |\u001b[3;1H|\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[3;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m            \u001b[3;64H|\u001b[31m\u001b[40mRed         $0\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m |\u001b[4;1H|#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[4;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m             \u001b[4;64H|\u001b[36m\u001b[40mCyan        $0\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m |\u001b[5;1H|\u001b[32m\u001b[40m......................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[5;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[6;1H|\u001b[32m\u001b[40m.............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m................\u001b[6;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[23X\u001b[6;64H|\u001b[80G|\u001b[7;1H|\u001b[32m\u001b[40m...........................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b[7;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m        \u001b[7;64H|\u001b[80G|\u001b[8;1H|\u001b[32m\u001b[40m....................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[8;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[9;1H|\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[9;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+---------------+\u001b[10;1H|#\u001b[32m\u001b[40m.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b[10;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|Grass\u001b[80G|\u001b[11;1H|#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.................\u001b[11;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|DEF +1\u001b[80G|\u001b[12;1H|\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[32m\u001b[40m....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[12;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[13;1H|\u001b[32m\u001b[40m.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......................\u001b[13;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[14;1H|\u001b[32m\u001b[40m.......................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[14;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[15;1H|\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#!\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[15;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[16;1H|#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m...\u001b[16;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[17;1H|\u001b[17;64H+---------------+\u001b[18;1H|\u001b[18;64H|\u001b[80G|\u001b[19;1H|\u001b[19;64H|\u001b[80G|\u001b[20;1H|\u001b[20;64H|\u001b[80G|\u001b[21;1H|\u001b[21;64H|\u001b[80G|\u001b[22;1H|\u001b[22;64H+---------------+\u001b[23;1H|\u001b[23;64H|\r\u001b[24d+--------------------------------------------------------------+\r\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 70, in run\r\n    self.g.draw(1,1)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/grid.py\", line 353, in draw\r\n    self.cam.draw(x,y)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/widgets.py\", line 295, in draw\r\n    draw.fill(x,y,w,h)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/draw.py\", line 32, in fill\r\n    gfx.draw(i,j,c,col)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 111, in draw\r\n    if gfx: return gfx.draw(x,y,c,col)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 156, in draw\r\n    _screen.addch(y,x,str(c),mod)\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py --edit\r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[2d Welcome to Rules of War!\u001b[2;41H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mBuilt-in Maps\u001b[3;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault.json\u001b[4;2H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mPlease select a map!\u001b[4;41Hdefault1.json\u001b[6;41H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mUser-generated maps\u001b[7;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mfoo.json\u001b[3;41Hdefault.json\u001b[4;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\u001b[7;49H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;41Hdefault1.json\u001b[7;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mfoo.json\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+--------------------------------------------------------------+---------------+\u001b[2;1H|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..................\u001b[2;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m             \u001b[2;64H|\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mMap Editing\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m    |\u001b[3;1H|\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[3;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m            \u001b[3;64H|\u001b[31m\u001b[40mRed         $0\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m |\u001b[4;1H|#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[4;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m             \u001b[4;64H|\u001b[36m\u001b[40mCyan        $0\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m |\u001b[5;1H|\u001b[32m\u001b[40m......................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[5;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[6;1H|\u001b[32m\u001b[40m.............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m................\u001b[6;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[23X\u001b[6;64H|\u001b[80G|\u001b[7;1H|\u001b[32m\u001b[40m...........................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b[7;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m        \u001b[7;64H|\u001b[80G|\u001b[8;1H|\u001b[32m\u001b[40m....................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[8;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[9;1H|\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[9;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+---------------+\u001b[10;1H|#\u001b[32m\u001b[40m.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b[10;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|Grass\u001b[80G|\u001b[11;1H|#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.................\u001b[11;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|DEF +1\u001b[80G|\u001b[12;1H|\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[32m\u001b[40m....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[12;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[13;1H|\u001b[32m\u001b[40m.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......................\u001b[13;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[14;1H|\u001b[32m\u001b[40m.......................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[14;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[15;1H|\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#!\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[15;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[16;1H|#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m...\u001b[16;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[17;1H|\u001b[17;64H+---------------+\u001b[18;1H|\u001b[18;64H|\u001b[80G|\u001b[19;1H|\u001b[19;64H|\u001b[80G|\u001b[20;1H|\u001b[20;64H|\u001b[80G|\u001b[21;1H|\u001b[21;64H|\u001b[80G|\u001b[22;1H|\u001b[22;64H+---------------+\u001b[23;1H|\u001b[23;64H|\r\u001b[24d+--------------------------------------------------------------+\r\u001b[2d|\u001b[32m\u001b[40m.\u001b[3d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3d|\u001b[32m\u001b[40m.\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[10;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mCity \u001b[11d3\r\u001b[24d\u001b[4d|#\u001b[5d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[10;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mGrass\u001b[11d1\r\u001b[24d\u001b[5d|\u001b[32m\u001b[40m.\u001b[6d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6d|\u001b[32m\u001b[40m.\u001b[7d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7d|\u001b[32m\u001b[40m.\u001b[8d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[8d|\u001b[32m\u001b[40m.\u001b[9d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[9d|\u001b[32m\u001b[40m.\u001b[10d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[10;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mCity \u001b[11d3\r\u001b[24d\u001b[10d|#\u001b[11d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;65HGrass\r\u001b[11d|#\u001b[11;70H1\r\u001b[12d|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[12d|\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[12;3H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;65HHQ   \u001b[11d3\u001b[12;4H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m!\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;65HGrass\u001b[11d1\u001b[12;5H!\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[12;6H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[12;7H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[12;8H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[12;9H\u001b[32m\u001b[40m.\u001b(B\u001b[0;1;7m\u001b[39;49m\u001b[37m\u001b[40mi\u001b[13;65H\u001b(B\u001b[0;1m\u001b[31m\u001b[40mInfantry\u001b[14;65H\u001b(B\u001b[0m\u001b[31m\u001b[40mHP 100% \r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[12;10H\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[13;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m        \u001b[14;65H        \r\u001b[24d\u001b[12;11H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 70, in run\r\n    self.g.draw(1,1)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/grid.py\", line 354, in draw\r\n    self.buff1.draw(x+(self.w-15),y)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/widgets.py\", line 236, in draw\r\n    draw.fill(x, y, self.w, self.h)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/draw.py\", line 32, in fill\r\n    gfx.draw(i,j,c,col)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 111, in draw\r\n    if gfx: return gfx.draw(x,y,c,col)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 156, in draw\r\n    _screen.addch(y,x,str(c),mod)\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py --edit\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor += 1\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\r\n                \u001b[33mdata\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in):\u001b[K\r\n                    \u001b[33mi\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor - \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in)\u001b[K\r\n                    \u001b[33mdata\u001b[39;49m = storage.read(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined[i])\u001b[K\r\n                \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n                    \u001b[33mi\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[K\r\n                    \u001b[33mdata\u001b[39;49m = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in[i])\u001b[K\r\n                \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"edit\"\u001b[39;49m,json.loads(data)\u001b[K\r\n        \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n    \u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\r\n            draw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[K\r\n            draw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n            \u001b[31m# Todo... correctly scroll.                                         \u001b[39;49m\r\n\u001b[A\n            i = 0\u001b[K\r\n\u001b[7m-UUU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   34% L38    (Python) --------------------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[12;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default shell.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lshell.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ltorage.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l*scratch*\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrules.py\u001b[K\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[2;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule terrain\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Save Map\"\u001b[39;49m:\u001b[K\u001b[5;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams[:]:\r\n\t\t\u001b[33mkill\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m c \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles():\u001b[K\u001b[8;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c.unit \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m c.unit.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m t: \u001b[33mkill\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[32m\"hq\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m c.properties: \u001b[33mkill\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m kill:\u001b[K\n\b\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams.remove(t)\u001b[K\u001b[12;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = {\u001b[32m\"Map Name\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m:\u001b[32m\"\"\u001b[39;49m,\u001b[32m\"type\"\u001b[39;49m:\u001b[32m\"str 15\"\u001b[39;49m}}\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"save map\"\u001b[39;49m)\u001b[15;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Back\"\u001b[39;49m:\u001b[K\u001b[16;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\u001b[K\u001b[18;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_teams\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[21;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.remove(opt)\u001b[23;4H\u001b[7m-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   85% L1017 Git:master  (Python) \u001b[0m\u001b[39;49m\u001b[27m\u001b[11;46H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;14H\u001b[?25l\u001b[1m\u001b[36maise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.remove(opt)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Done\"\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams) == 0:\u001b[6;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(opt)\u001b[7;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit teams\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Done\"\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams) > 0:\u001b[K\u001b[9;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_team({\u001b[32m\"name\"\u001b[39;49m:opt, \u001b[32m\"color\"\u001b[39;49m:opt[0].lower()})\u001b[12;18Hgrid.teams.append(t)\u001b[K\n\b\u001b[32medit teams\"\u001b[39;49m)\r\n\n\u001b[K\u001b[16;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[18;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[19;5H        \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\t\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\n\b\b\b\b\b\u001b[7m7% L102\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[16;1H\u001b[2L\u001b[1;24r\u001b[2;9H\u001b[?25l\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\t\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"(None)\"\u001b[39;49m:\u001b[K\u001b[7;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\u001b[K\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(x,y)\u001b[K\u001b[9;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[31m# Before moving forward, we need to know the team.                      \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\u001b[15;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(t.name)\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"unit team\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\n\t\t\u001b[1m\u001b[34munit_team\u001b[0m\u001b[39;49m\u001b[23;30H\u001b[7m8% L1046\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\t\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t:\u001b[K\n\b\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.unit:\u001b[K\u001b[10;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(x,y\u001b[11;13H\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_unit({\u001b[32m\"name\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]})\r\n\t    \u001b[33mteam\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m q \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q.name == opt\u001b[15;13H        team = q\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.add_unit(u, team, x, y)\u001b[17;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit = \u001b[32m\"unit\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1],opt\r\n\u001b[K\u001b[19;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\u001b[K\u001b[21;5H\u001b[31m# Editing terrain is slightly different. After picking the type of          \u001b[39;49m\r\n\u001b[22;5H\u001b[31m# terrain you want, you pick another coordinate, and a box is filled        \u001b[39;49m\r\n\u001b[23;30H\u001b[7m9% L1065\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m# Editing terrain is slightly different. After picking the type of          \u001b[39;49m\r\n\u001b[3;5H\u001b[31m# terrain you want, you pick another coordinate, and a box is filled        \u001b[39;49m\r\n\u001b[4;5H\u001b[31m# between the two endpoints.                                                \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_terrain\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[7;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\r\n\t\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [(x,y)]\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"(None)\"\u001b[39;49m:\u001b[K\u001b[15;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"draw terrain\"\u001b[39;49m)\r\n\u001b[K\n\tt = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_cell({\u001b[32m\"name\"\u001b[39;49m:opt})\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m t.properties:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[K\u001b[20;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\u001b[21;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(t.name)\u001b[K\u001b[22;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"terrain team\"\u001b[39;49m)\u001b[K\u001b[23;29H\u001b[7m91% L1084\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(t.name)\u001b[K\u001b[3;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"terrain team\"\u001b[39;49m)\u001b[K\u001b[4;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"draw terrain\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[6;5H\u001b[31m# If the tile in question is capturable, then we need to pick the           \u001b[39;49m\r\n\u001b[7;5H\u001b[31m# team.                                                                     \u001b[39;49m\r\n\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_terrain_team\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[11;14Hchoices = []\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"draw terrain\"\u001b[39;49m)\r\n\u001b[K\u001b[16;5H\u001b[31m# Now, pick the endpoint.                                                   \u001b[39;49m\r\n\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_draw_terrain\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\u001b[18;12H\u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[19;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\r\n\t\u001b[33mex\u001b[39;49m,\u001b[33mey\u001b[39;49m = coord\u001b[K\r\n\t\u001b[33mox\u001b[39;49m,\u001b[33moy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\u001b[K\u001b[23;30H\u001b[7m2% L1103\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[33mox\u001b[39;49m,\u001b[33moy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m ex < ox:\u001b[K\u001b[5;13H\u001b[33mex\u001b[39;49m,\u001b[33mox\u001b[39;49m = ox,ex\u001b[6;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m ey < oy:\u001b[K\u001b[7;5H        \u001b[33mey\u001b[39;49m,\u001b[33moy\u001b[39;49m = oy,ey\u001b[K\r\n\u001b[K\n\t\u001b[31m# Now fill!                                                             \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(ox,ex+1):\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(oy,ey+1):\r\n\t        \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1] == \u001b[32m\"(None)\"\u001b[39;49m:\r\n\t            u = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y\u001b[15;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\u001b[16;5H                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(x,y)\u001b[K\u001b[17;5H                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.grid.pop((x,y),\u001b[35mNone\u001b[39;49m)\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit = \u001b[32m\"terrain\"\u001b[39;49m,\u001b[32m\"(None)\"\u001b[39;49m,\u001b[35mNone\u001b[39;49m\u001b[19;13H    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t            \u001b[33mtile\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_cell({\u001b[32m\"name\"\u001b[39;49m:\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]})\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit = \u001b[32m\"terrain\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1],\u001b[35mNone\u001b[39;49m\u001b[22;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action) > 2:\u001b[23;30H\u001b[7m4% L1122\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit = \u001b[32m\"terrain\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1],\u001b[35mNone\u001b[39;49m\u001b[3;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action) > 2:\r\n\t                \u001b[33mteam\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[5;13H            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m q \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\r\n\t                    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q.name == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[2]:\u001b[7;13H                    \u001b[33mteam\u001b[39;49m = q\r\n\t\t\t\u001b[33mtile.team\u001b[39;49m = team\r\n\t                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit=\u001b[32m\"terrain\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1],\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[2]\u001b[K\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t:\u001b[K\u001b[11;13H            \u001b[33mtile.unit\u001b[39;49m = t.unit\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.grid[(x,y)] = tile\r\n\u001b[K\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[18;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_save_map\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"Map Name\"\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m opt:\u001b[K\u001b[21;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Not there!\"\u001b[39;49m)\u001b[K\r\n\t\u001b[33mnewname\u001b[39;49m = opt[\u001b[32m\"Map Name\"\u001b[39;49m]\u001b[K\n\b\b\b\b\u001b[7m5% L1141\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Not there!\"\u001b[39;49m)\u001b[K\r\n\t\u001b[33mnewname\u001b[39;49m = opt[\u001b[32m\"Map Name\"\u001b[39;49m]\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(newname) > 15:\u001b[K\u001b[5;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Too long.\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(opt) != 0:\u001b[K\u001b[9;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.name = newname\u001b[K\u001b[10;13H\u001b[33mdata\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.export(\u001b[35mTrue\u001b[39;49m)\u001b[11;13H\u001b[33mnewname\u001b[39;49m = newname.replace(\u001b[32m\" \"\u001b[39;49m,\u001b[32m\"_\"\u001b[39;49m)\u001b[12;13Hstorage.save(data, \u001b[32m\"maps\"\u001b[39;49m,\u001b[32m\"%s.json\"\u001b[39;49m%newname)\r\n\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\u001b[K\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_rule_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\u001b[19;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[K\r\n\u001b[K\u001b[23;30H\u001b[7m7% L1160\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[K\r\n\u001b[K\n\t\u001b[33mu\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt != \u001b[32m\"(New)\"\u001b[39;49m:\u001b[K\u001b[6;13H\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_unit({\u001b[32m\"name\"\u001b[39;49m:opt})\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = { \u001b[32m\"Name\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m: u.name \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m \u001b[32m\"\"\u001b[39;49m,\u001b[9;13H                      \u001b[32m\"type\"\u001b[39;49m: \u001b[32m\"str 12\"\u001b[39;49m,\u001b[10;13H                      \u001b[32m\"ordering\"\u001b[39;49m: 1 },\u001b[11;13H             \u001b[32m\"Move\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m: \u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(u.move) \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m \u001b[32m\"\"\u001b[39;49m,\u001b[12;13H                      \u001b[32m\"type\"\u001b[39;49m: \u001b[32m\"int\"\u001b[39;49m,\u001b[K\u001b[13;35H\u001b[32m\"ordering\"\u001b[39;49m: 2 }\r\n\t               }\n\t\u001b[32mpage unit\"\u001b[39;49m)\r\n\n\n\t\t\u001b[1m\u001b[34mpage_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\u001b[K\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_rule_terrain\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\n\b\b\b\b\b\b\u001b[7m8% L1179\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_rule_terrain\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\u001b[K\n\u001b[K\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_page_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\n\n\u001b[K\n\u001b[K\n\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L1198\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u001b[24d\u001b[?25lEnd of buffer\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u0007\u0007\u0007\u0007\u0007\u001b[24d\u001b[K\u001b[2;5H\u001b[?25l    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[K\r\n\u001b[K\n\t\u001b[33mu\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt != \u001b[32m\"(New)\"\u001b[39;49m:\u001b[K\r\n\t    \u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_unit({\u001b[32m\"name\"\u001b[39;49m:opt})\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = { \u001b[32m\"Name\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m: u.name \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m \u001b[32m\"\"\u001b[39;49m,\u001b[9;35H\u001b[32m\"type\"\u001b[39;49m: \u001b[32m\"str 12\"\u001b[39;49m,\u001b[10;5H                              \u001b[32m\"ordering\"\u001b[39;49m: 1 },\r\n\t                 \u001b[32m\"Move\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m: \u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(u.move) \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m \u001b[32m\"\"\u001b[39;49m,\u001b[12;35H\u001b[32m\"type\"\u001b[39;49m: \u001b[32m\"int\"\u001b[39;49m,\u001b[13;35H\u001b[32m\"ordering\"\u001b[39;49m: 2 }\r\n\t\t\t\b}\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"page unit\"\u001b[39;49m)\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_page_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_rule_terrain\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[23;29H\u001b[7m98%\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\u001b[?25l\u001b[34mSwitch to buffer (default landing.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25llanding.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lshell.py\u001b[K\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ltorage.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[2;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, col=\u001b[35mNone\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rulebook:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rulebook.draw(x,y)\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cam.draw(x,y)\u001b[8;14Hbuff1.draw(x+(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w-15),y)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.buff2.draw(x+(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w-15),y+8)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.buff3.draw(x+(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w-15),y+16)\u001b[K\r\n\tdraw.fill(x+(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w-15),y+21,16,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h-20)\u001b[K\r\n\t\u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cam.viewport\u001b[K\r\n\u001b[K\n\t\u001b[31m# TODO, if it looks like the menu is going to run off any of            \u001b[39;49m\r\n\t\u001b[31m# the sides, rearrange it on the fly.                                   \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m item \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.textentry]+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts:\u001b[17;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m item:\u001b[18;5H            \u001b[33mm\u001b[39;49m,\u001b[33mmx\u001b[39;49m,\u001b[33mmy\u001b[39;49m = item\u001b[K\r\n\t        \u001b[33mdx\u001b[39;49m = mx+x-cx\u001b[K\r\n\t\t\u001b[33mdy\u001b[39;49m = my+y-cy\u001b[21;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m item \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts:\u001b[K\r\n\t            \u001b[33mm.time\u001b[39;49m-=1\u001b[K\u001b[23;14H\u001b[7m\u001b[1mgrid.py     \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   93% L357  Git-\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m item \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts:\r\n\t            \u001b[33mm.time\u001b[39;49m-=1\u001b[4;13H    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[5;13H        \u001b[33mdx\u001b[39;49m += 2\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m dx < 0: \u001b[33mdx\u001b[39;49m = 0\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m dx > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w-m.w: \u001b[33mdx\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w-m.w\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m dy < 0: \u001b[33mdy\u001b[39;49m = 0\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m dy > \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h-m.h+1: \u001b[33mdy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h-m.h+1\r\n\t        m.draw(dx, dy)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = [a \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m a \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m a[0].time > 0]\r\n\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L36\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, col=\u001b[35mNone\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rulebook:\u001b[K\u001b[4;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rulebook.draw(x,y)\u001b[5;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cam.draw(x,y)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.buff1.draw(x+(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w-15),y)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.buff2.draw(x+(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w-15),y+8)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.buff3.draw(x+(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w-15),y+16)\r\n\tdraw.fill(x+(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w-15),y+21,16,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h-20)\r\n\t\u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cam.viewport\u001b[K\r\n\n\t\u001b[31m# TODO, if it looks like the menu is going to run off any of            \u001b[39;49m\r\n\t\u001b[31m# the sides, rearrange it on the fly.                                   \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m item \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.textentry]+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts:\u001b[17;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m item:\r\n\t\t\u001b[33mm\u001b[39;49m,\u001b[33mmx\u001b[39;49m,\u001b[33mmy\u001b[39;49m = item\r\n\t\t\u001b[33mdx\u001b[39;49m = mx+x-cx\r\n\t\t\u001b[33mdy\u001b[39;49m = my+y-cy\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m item \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts:\u001b[22;21H\u001b[33mm.time\u001b[39;49m-=1\n\b\u001b[7m93%\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m a,loc \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m alerts:\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m loc == \u001b[32m\"c\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = (vx+(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cam.w//2)-(a.w//2),\u001b[4;13H                      vy+(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cam.h//2)-(a.h//2))\u001b[5;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"tl\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx-a.w-1,cy-a.h-1\u001b[6;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"tr\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx+2,cy-a.h-1\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"bl\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx-a.w-1,cy+2\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m loc == \u001b[32m\"br\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = cx+2,cy+2\r\n\u001b[K\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts.append((a,x,y))\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (info,buff) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m ((i1,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.buff1),(i2,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.buff2),(i3,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.buff3)):\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m info \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\u001b[K\r\n\t\tbuff.clear()\r\n\t        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m s,c \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m info:\u001b[K\r\n\t            buff.write(s,c)\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[18;5H\u001b[31m# Draw the grid to the terminal using the gfx library. Specify the          \u001b[39;49m\r\n\u001b[19;5H\u001b[31m# x,y and w,h of the viewport in the terminal, and the cx,cy of the         \u001b[39;49m\r\n\u001b[20;5H\u001b[31m# top-left of the map (including outside of the map).                       \u001b[39;49m\r\n\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, col=\u001b[35mNone\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rulebook:\u001b[K\u001b[23;29H\u001b[7m86% L349\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = widgets.Menu(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.world.choices),cx,cy\r\n\t\t\br == \u001b[32m\"undo\"\u001b[39;49m:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cam.grid = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.world.grid\u001b[K\u001b[5;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m r == \u001b[32m\"editor\"\u001b[39;49m:\u001b[K\u001b[6;13H    fields = []\u001b[K\u001b[7;13H    data = {}\u001b[K\u001b[8;13H    types = {}\u001b[K\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m f \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.world.choices:\u001b[10;13H        fields.append(f)\u001b[K\r\n\t            \u001b[33mdata\u001b[39;49m[f] = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.world.choices[f][\u001b[32m\"data\"\u001b[39;49m]\u001b[K\u001b[12;13H        \u001b[33mtypes\u001b[39;49m[f] = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.world.choices[f][\u001b[32m\"type\"\u001b[39;49m]\r\n\t\tfields.sort(key=\u001b[1m\u001b[36mlambda\u001b[0m\u001b[39;49m x:\r\n\t\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.world.choices[x].get(\u001b[32m\"ordering\"\u001b[39;49m,100))\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.textentry = widgets.Editor(fields,data,types),cx,cy\r\n\u001b[K\n\t\u001b[31m# Get intel from the world's information method.                        \u001b[39;49m\r\n\u001b[18;5H    \u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cam.cursor\u001b[K\u001b[19;5H    \u001b[33mvx\u001b[39;49m,\u001b[33mvy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cam.viewport\u001b[K\u001b[20;5H    \u001b[33malerts\u001b[39;49m, \u001b[33mi1\u001b[39;49m, \u001b[33mi2\u001b[39;49m, \u001b[33mi3\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.world.pump_info(cx,cy)\u001b[K\u001b[21;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m a,loc \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m alerts:\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m loc == \u001b[32m\"c\"\u001b[39;49m: \u001b[33mx\u001b[39;49m,y = (vx+(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cam.w//2)-(a.w//2),\u001b[23;30H\u001b[7m0% L330\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\t\u001b[?25l\u001b[33mr\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.world.process(q)\u001b[K\u001b[3;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.textentry = \u001b[35mNone\u001b[39;49m\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu:\u001b[K\u001b[5;13H\u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu[0].handle_input(c)\u001b[6;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q:\u001b[K\n\b\u001b[33mr\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.world.process(q)\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[33mpos\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cam.handle_input(c)\u001b[11;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m pos:\u001b[K\n\b\b\b\u001b[33mr\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.world.process(pos)\u001b[K\r\n\u001b[K\n\t\u001b[31m# If the rules were processed, figure out if we need to display         \u001b[39;49m\r\n\t\u001b[31m# a menu or highlight tiles.                                            \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m r:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cam.blink = []\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m r == \u001b[32m\"coord\"\u001b[39;49m:\u001b[K\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cam.blink = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.world.choices\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m r == \u001b[32m\"menu\"\u001b[39;49m:\u001b[K\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = widgets.Menu(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.world.choices),cx,cy\r\n\t\t\br == \u001b[32m\"undo\"\u001b[39;49m:\u001b[K\n\u001b[C\u001b[7m76% L311\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n\t\u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cam.cursor\u001b[K\r\n\t\u001b[33mr\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[31m#                                                                       \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"?\"\u001b[39;49m:\u001b[K\u001b[8;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rulebook:\u001b[K\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rulebook = \u001b[35mNone\u001b[39;49m\u001b[10;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\b\b\b\b    text = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.world.make_rulebook()\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rulebook = widgets.Rulebook(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h,text)\u001b[14;14H\u001b[31mwe have a menu, it capture the input. Otherwise, the camera\u001b[39;49m\u001b[15;11H\u001b[31mdoes.                     \u001b[39;49m\u001b[16;12H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rulebook:\u001b[17;13Hq = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rulebook.handle_input(c)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.textentry\u001b[19;13H\u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.textentry[0].handle_input(c)\u001b[K\r\n\t\t\bq:\u001b[K\n\b\u001b[33mr\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.world.process(q)\u001b[K\u001b[22;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.textentry = \u001b[35mNone\u001b[39;49m\u001b[23;30H\u001b[7m1% L292\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l\u001b[31m# direct copy of the grid, except for its camera.                               \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mController\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[4;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, w, h, rules):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.world = rules\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w = w\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h = h\u001b[K\r\n\u001b[K\n\t\u001b[31m# The elements of the grid.                                             \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cam = widgets.Camera(w-16,h,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.world.grid)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.buff1 = widgets.Buffer(15,7)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.buff2 = widgets.Buffer(15,7)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.buff3 = widgets.Buffer(15,4)\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.rulebook = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.textentry = \u001b[35mNone\u001b[39;49m\r\n\u001b[K\u001b[20;5H\u001b[31m# This function handles input passed from gfx.get_input.                    \u001b[39;49m\r\n\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n\t\u001b[33mcx\u001b[39;49m,\u001b[33mcy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cam.cursor\u001b[K\n\b\b\b\u001b[7m67% L273\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\n\u001b[?25l\u001b[31m# The game is played by teams. Each team commands an army of units and          \u001b[39;49m\r\n\u001b[31m# may also have other variables such as money, etc, governed by the             \u001b[39;49m\r\n\u001b[31m# subclass of the current set of rules.                                         \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mTeam\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, name, color):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name = name\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.color = color\u001b[K\u001b[10;14Hallies = []\u001b[K\u001b[11;14Hactive = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[12;14Hvariables = {}\u001b[K\r\n\u001b[K\u001b[14;5H\u001b[31m# Returns true if the two teams are allied.                                 \u001b[39;49m\r\n\u001b[15;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mallied\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, team):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m team \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.allies\r\n\u001b[K\n\u001b[K\n\u001b[31m# The controller of the grid. It takes a rules object and passes                \u001b[39;49m\r\n\u001b[4P\u001b[C\u001b[C\u001b[31mcontrol back and forth between it. It doesn't usually ne\u001b[39;49m\u001b[4@\u001b[31med a\u001b[39;49m\r\n\u001b[31m# direct copy of the grid, except for its camera.                               \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mController\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[23;30H\u001b[7m2% L254\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[3;3H\u001b[?25l\u001b[31mUnits are the pieces that move about the game board. Units belong to a\u001b[39;49m\u001b[4;3H\u001b[31mteam and can be moved about by taking actions.                   \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mUnit\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, name, icon):\u001b[7;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name = name\u001b[K\u001b[8;14Hicon = icon\u001b[9;14Hteam = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[10;14Hcarrying = []\u001b[11;14Hvariables = {}\r\n\u001b[K\u001b[13;5H\u001b[31m# Draw this unit on the screen.                                             \u001b[39;49m\r\n\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, col=\u001b[32m\"\"\u001b[39;49m):\u001b[K\u001b[15;5H    draw.char(x, y, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.icon, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.team.color+\u001b[32m\"!\"\u001b[39;49m+col)\r\n\u001b[K\u001b[17;5H\u001b[31m# Returns true if the two units (or cells) are allied.                      \u001b[39;49m\r\n\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mallied\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, other):\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m other.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.team \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m other.team \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.team.allies\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[31m# The game is played by teams. Each team commands an army of units and          \u001b[39;49m\r\n\u001b[23;29H\u001b[7m58% L235\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l\u001b[31m# A grid is made up of Cells. The cells all have properties that make up        \u001b[39;49m\r\n\u001b[3;3H\u001b[31mwhat would be called their 'terrain'.                                 \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mCell\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, name, icon, color):\u001b[6;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name = name\u001b[K\u001b[7;14Hicon = icon\u001b[8;14Hcolor = color\u001b[9;14Hunit\n\b\b\b\bteam = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[13;7H\u001b[31mThis function returns the character and color that\u001b[39;49m\u001b[14;5H\u001b[31m# should be drawn. If there is a unit on this terrain,                      \u001b[39;49m\r\n\u001b[15;5H\u001b[31m# the unit's draw will be prioritized.                                      \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y, col=\u001b[32m\"\"\u001b[39;49m):\u001b[17;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.team:\u001b[K\u001b[18;5H        \u001b[33mcol\u001b[39;49m += \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.team.color +\u001b[32m\"!\"\u001b[39;49m\r\n\tdraw.char(x, y, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.icon, \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.color+col)\u001b[K\u001b[22;3H\u001b[31mUnits are the pieces that move about the game board. Units belong to a\u001b[39;49m\u001b[23;30H\u001b[7m3% L216\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[?25l    \u001b[31m# Return the team currently performing its turn.                            \u001b[39;49m\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mcurrent_team\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn]\r\n\u001b[K\u001b[6;5H\u001b[31m# End the turn and proceed to the next team, so long as there is            \u001b[39;49m\r\n\u001b[7;5H\u001b[31m# at least one active team left.                                            \u001b[39;49m\r\n\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mend_turn\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m([t \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.active]) == 0:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day += 1\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[33mflag\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[13;5H        \u001b[1m\u001b[36mwhile\u001b[0m\u001b[39;49m flag \u001b[1m\u001b[36mor\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn].active:\u001b[K\u001b[14;5H            \u001b[33mflag\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[15;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn += 1\u001b[K\u001b[16;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams):\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = 0\u001b[18;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day += 1\u001b[K\r\n\u001b[K\n\n\u001b[31m# A grid is made up of Cells. The cells all have properties that make up        \u001b[39;49m\r\n\u001b[C\u001b[C\u001b[31mwhat would be called their 'terrain'.                                 \u001b[39;49m\u001b[23;29H\u001b[7m48% L197\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l    \u001b[33mtile\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tile_at(x,y)\u001b[K\u001b[3;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.unit:\u001b[K\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Tried to add unit to occupied tile %d,%d\"\u001b[39;49m%(x,y))\r\n\t\u001b[33mtile.unit\u001b[39;49m = unit\u001b[6;5H    \u001b[33munit.team\u001b[39;49m = team\u001b[K\u001b[7;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units.append(unit)\u001b[K\r\n\u001b[K\u001b[9;5H\u001b[31m# Remove a unit from the game. This will not only remove the                \u001b[39;49m\r\n\u001b[10;5H\u001b[31m# unit, but all units that it is carrying.                                  \u001b[39;49m\r\n\u001b[11;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mremove_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\t\u001b[33mtile\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tile_at(x,y)\r\n\t\u001b[33munit\u001b[39;49m = tile.unit\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m unit \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units:\u001b[15;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units.remove(tile.unit)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m unit.carrying:\u001b[K\u001b[17;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units.remove(u)\r\n\t\u001b[33mtile.unit\u001b[39;49m = \u001b[35mNone\u001b[39;49m\r\n\n    \u001b[31m# Return the team currently performing its turn.                            \u001b[39;49m\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mcurrent_team\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\u001b[23;30H\u001b[7m4% L178\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (dx < 0): \u001b[33mdx\u001b[39;49m *= -1\u001b[K\u001b[3;12H(dy < 0): \u001b[33mdy\u001b[39;49m *= -1\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m dx+dy\u001b[K\r\n\u001b[K\u001b[6;5H\u001b[31m# Moves a unit from the old tile to the new tile. Will                      \u001b[39;49m\r\n\u001b[7;5H\u001b[31m# throw exception if move is illegal. CHECK FIRST.                          \u001b[39;49m\r\n\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mmove_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, old, new):\u001b[9;5H    \u001b[33mox\u001b[39;49m,\u001b[33moy\u001b[39;49m = old\u001b[K\u001b[10;5H    \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = new\u001b[K\u001b[11;5H    \u001b[33mtile\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tile_at(ox,oy)\r\n\t\u001b[33munit\u001b[39;49m = tile.unit\u001b[K\r\n\t\u001b[33mtile.unit\u001b[39;49m = \u001b[35mNone\u001b[39;49m\r\n\t\u001b[33mtile\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tile_at(x,y)\r\n\t\u001b[33mtile.unit\u001b[39;49m = unit\u001b[K\r\n\u001b[K\u001b[17;5H\u001b[31m# Add a unit to the game. Throws an exception if the tile                   \u001b[39;49m\r\n\u001b[18;5H\u001b[31m# does not exist or if the tile is occupied.                                \u001b[39;49m\r\n\u001b[19;5H\u001b[31m# This should be the ONLY WAY units are added to the game.                  \u001b[39;49m\r\n\u001b[20;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34madd_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, unit, team, x, y):\u001b[21;5H    \u001b[33mtile\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tile_at(x,y)\u001b[K\u001b[22;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile.unit:\u001b[K\u001b[23;29H\u001b[7m39% L159\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;12H\u001b[?25lend \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\u001b[K\r\n\t    \u001b[33mend\u001b[39;49m = start\u001b[K\r\n\u001b[K\n\t\u001b[33mreport\u001b[39;49m = []\u001b[6;5H    \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = center\u001b[K\u001b[7;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m r \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(start,end+1):\u001b[K\u001b[8;5H        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m i \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(r):\u001b[K\r\n\t        report.append((x+(r-i),y+i    ))\r\n\t        report.append((x-i    ,y+(r-i)))\r\n\t        report.append((x-(r-i),y-i    ))\r\n\t        report.append((x+i    ,y-(r-i)))\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\u001b[K\u001b[15;5H\u001b[31m# Return distance (zero norm) between two points.                           \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdist\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, start, end):\u001b[17;5H    \u001b[33mx1\u001b[39;49m,\u001b[33my1\u001b[39;49m = start\u001b[K\u001b[18;5H    \u001b[33mx2\u001b[39;49m,\u001b[33my2\u001b[39;49m = end\u001b[K\u001b[19;5H    \u001b[33mdx\u001b[39;49m = x1-x2\u001b[K\u001b[20;5H    \u001b[33mdy\u001b[39;49m = y1-y2\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m (dx < 0): \u001b[33mdx\u001b[39;49m *= -1\u001b[K\u001b[22;12H(dy < 0): \u001b[33mdy\u001b[39;49m *= -1\n\u001b[7m5% L140\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mall_tiles\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.values()\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mall_tiles_xy\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.keys()\r\n\u001b[K\u001b[8;5H\u001b[31m# Get the tile at x,y. Returns None if out of range.                        \u001b[39;49m\r\n\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtile_at\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.get((x,y),\u001b[35mNone\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[12;5H\u001b[31m# Get the unit at x,y.                                                      \u001b[39;49m\r\n\u001b[13;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34munit_at\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\t\u001b[33mtile\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.tile_at(x,y)\u001b[15;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m tile: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m tile.unit\u001b[K\u001b[16;5H    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[18;5H\u001b[31m# Get a range of coordinates, usually for an attack range. Coordinates      \u001b[39;49m\r\n\u001b[19;5H\u001b[31m# may not actually be cells.                                                \u001b[39;49m\r\n\u001b[20;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mget_range\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, center, start, end=\u001b[35mNone\u001b[39;49m):\u001b[21;12Hend \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m \u001b[35mNone\u001b[39;49m:\u001b[K\r\n\t    \u001b[33mend\u001b[39;49m = start\u001b[K\u001b[23;30H\u001b[7m1% L121\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l        \u001b[33mteam\u001b[39;49m[\u001b[32m\"name\"\u001b[39;49m] = t.name\r\n\t    \u001b[33mteam\u001b[39;49m[\u001b[32m\"color\"\u001b[39;49m] = t.color\u001b[4;13H\u001b[33mteam\u001b[39;49m[\u001b[32m\"variables\"\u001b[39;49m] = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(t.variables)\u001b[5;5H        report[\u001b[32m\"teams\"\u001b[39;49m].append(team)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m c \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid:\u001b[K\u001b[7;13H\u001b[33mcell\u001b[39;49m = {}\u001b[8;5H        cell[\u001b[32m\"x\"\u001b[39;49m],\u001b[33mcell\u001b[39;49m[\u001b[32m\"y\"\u001b[39;49m] = c\u001b[K\u001b[9;5H        \u001b[33mcd\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid[c]\r\n\t    \u001b[33mcell\u001b[39;49m[\u001b[32m\"name\"\u001b[39;49m] = cd.name\u001b[K\u001b[11;13H\u001b[33mcell\u001b[39;49m[\u001b[32m\"variables\"\u001b[39;49m] = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(cd.variables)\u001b[12;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cd.unit:\u001b[K\u001b[13;5H            \u001b[33mcell\u001b[39;49m[\u001b[32m\"unit\"\u001b[39;49m] = {}\r\n\t        cell[\u001b[32m\"unit\"\u001b[39;49m][\u001b[32m\"name\"\u001b[39;49m] = cd.unit.name\r\n\t        cell[\u001b[32m\"unit\"\u001b[39;49m][\u001b[32m\"team\"\u001b[39;49m] = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams.index(cd.unit.team)\r\n\t        cell[\u001b[32m\"unit\"\u001b[39;49m][\u001b[32m\"variables\"\u001b[39;49m] = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(cd.unit.variables)\u001b[17;13Hreport[\u001b[32m\"cells\"\u001b[39;49m].append(cell)\u001b[18;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\u001b[K\r\n\u001b[K\u001b[20;5H\u001b[31m# This returns all of the tiles.                                            \u001b[39;49m\r\n\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mall_tiles\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.values()\n\b\b\b\b\b\u001b[7m25% L102\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l        \u001b[33mu.team\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[unit[\u001b[32m\"team\"\u001b[39;49m]]\u001b[3;13H        \u001b[33mu.variables\u001b[39;49m = unit.get(\u001b[32m\"variables\"\u001b[39;49m,{})\u001b[4;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units.append(u)\u001b[K\u001b[5;13H        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m unit.get(\u001b[32m\"carrying\"\u001b[39;49m,[]):\r\n\t                u.carrying.append(_process_units(u))\u001b[7;13H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m u\u001b[8;13H    \u001b[33mthis.unit\u001b[39;49m = _process_units(c[\u001b[32m\"unit\"\u001b[39;49m])\r\n\u001b[K\u001b[10;5H\u001b[31m# Export a dictionary of the cells and units in the grid. Usually used      \u001b[39;49m\r\n\u001b[11;5H\u001b[31m# to save a map!                                                            \u001b[39;49m\r\n\u001b[12;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m = {}\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m[\u001b[32m\"name\"\u001b[39;49m] = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m[\u001b[32m\"allies\"\u001b[39;49m] = []\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m[\u001b[32m\"cells\"\u001b[39;49m] = []\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m[\u001b[32m\"teams\"\u001b[39;49m] = []\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m[\u001b[32m\"variables\"\u001b[39;49m] = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.variables)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams:\u001b[20;5H        \u001b[33mteam\u001b[39;49m = {}\u001b[K\u001b[21;5H        \u001b[33mteam\u001b[39;49m[\u001b[32m\"name\"\u001b[39;49m] = t.name\r\n\t    \u001b[33mteam\u001b[39;49m[\u001b[32m\"color\"\u001b[39;49m] = t.color\n\b\b\b\b\b\b\u001b[7m0% L83 \u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[31m# of the dictionary. Note that when units are loaded in other units     \u001b[39;49m\r\n\t\u001b[31m# we, have to recursively dig them out.                                 \u001b[39;49m\r\n\t\u001b[31m#   x: (int) x position                                                 \u001b[39;49m\r\n\t\u001b[31m#   y: (int) y position                                                 \u001b[39;49m\r\n\t\u001b[31m#   name: (string) the name of the terrain                              \u001b[39;49m\r\n\t\u001b[31m#   unit: the unit on this terrain, if one                              \u001b[39;49m\r\n\t\u001b[31m#   team: (int) the team that owns the terrain, if any                  \u001b[39;49m\r\n\t\u001b[31m#   variables: (dict) User-defined variables                            \u001b[39;49m\r\n\u001b[10;5H    \u001b[31m# There may be other values in this cell that will be parsed by         \u001b[39;49m\r\n\t\t\t\t\b\u001b[4P\u001b[11;5H\u001b[4@\u001b[11;12H\u001b[31mhe factory of the rules.\u001b[39;49m\u001b[12;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m c \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data[\u001b[32m\"cells\"\u001b[39;49m]:\r\n\t    \u001b[33mthis\u001b[39;49m = rules.make_cell(c)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid[(c[\u001b[32m\"x\"\u001b[39;49m],c[\u001b[32m\"y\"\u001b[39;49m])] = this\r\n\t    \u001b[33mthis.variables\u001b[39;49m = c.get(\u001b[32m\"variables\"\u001b[39;49m,{})\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"team\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m c:\u001b[K\r\n\t        \u001b[33mthis.team\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[c[\u001b[32m\"team\"\u001b[39;49m]]\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"unit\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m c:\u001b[K\r\n\t        \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m_process_units\u001b[0m\u001b[39;49m(unit):\u001b[20;13H        \u001b[33mu\u001b[39;49m = rules.make_unit(unit)\u001b[21;13H        \u001b[33mu.team\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[unit[\u001b[32m\"team\"\u001b[39;49m]]\u001b[22;13H        \u001b[33mu.variables\u001b[39;49m = unit.get(\u001b[32m\"variables\"\u001b[39;49m,{})\u001b[23;29H\u001b[7m13% L64\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = {}\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.variables = data.get(\u001b[32m\"variables\"\u001b[39;49m,{})\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day = 1\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = 0\u001b[K\r\n\u001b[K\u001b[9;11H\u001b[31mLoad the teams first, since cells and units reference them.\u001b[39;49m\u001b[10;14H\u001b[31mn set up the alliances.                                   \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data[\u001b[32m\"teams\"\u001b[39;49m]:\u001b[K\r\n\t    \u001b[33mthis\u001b[39;49m = rules.make_team( t )\r\n\t\t\u001b[33m.variables\u001b[39;49m = t.get(\u001b[32m\"variables\"\u001b[39;49m,{})\u001b[14;18Hteams.append(this)\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m alist \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data.get(\u001b[32m\"allies\"\u001b[39;49m,[]):\u001b[K\u001b[16;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m a \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m alist\r\n\t\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m alist:\u001b[K\u001b[18;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[a].allies.append( \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[b] )\r\n\u001b[K\n\t\u001b[31m# Load the terrain cells. The units are embedded in these elements      \u001b[39;49m\r\n\t\u001b[31m# of the dictionary. Note that when units are loaded in other units     \u001b[39;49m\r\n\t\u001b[31m# we, have to recursively dig them out.                                 \u001b[39;49m\r\n\u001b[23;29H\u001b[7m 8% L45\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\n\u001b[?25l\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m . \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m widgets, log\r\n\u001b[K\n\u001b[K\n\u001b[31m# The Grid is a game-agnostic representation of the world's entities. It        \u001b[39;49m\r\n\u001b[31m# provides an API to game rulesets to create, delete, and move entities         \u001b[39;49m\r\n\u001b[31m# around, but essentially has no functionality other than changing its          \u001b[39;49m\r\n\u001b[8P\u001b[9;3H\u001b[31mconfiguration. The grid should be initialized with a config\u001b[39;49m\u001b[8@\u001b[31muration \u001b[39;49m\r\n\u001b[8P\u001b[C\u001b[C\u001b[31mDictionary containing the following keys and\u001b[39;49m\u001b[8@\u001b[31m values.\u001b[39;49m\r\n\u001b[31m#   name: the name of the map!                                                  \u001b[39;49m\r\n\u001b[31m#   cells: (list) cells with x,y positions                                      \u001b[39;49m\r\n\u001b[31m#   teams: (list) the teams in the map                                          \u001b[39;49m\r\n\u001b[31m#   allies: (list) the teams that are allied in a list of lists of ints         \u001b[39;49m\r\n\u001b[31m#   variables: (dictionary) a dictionary of user-defined variables              \u001b[39;49m\r\n\u001b[31m#                                                                               \u001b[39;49m\r\n\u001b[31m# Danger: Do not store 'rules' in a variable. Should fall out of scope.         \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mGrid\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data, rules):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name = data[\u001b[32m\"name\"\u001b[39;49m]\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = {}\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams = []\u001b[K\u001b[23;30H\u001b[7m2% L26\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[3;1H\u001b[5L\u001b[1;24r\u001b[2;1H\u001b[?25l\u001b[31m# A grid is the arena upon which a battle takes place. The entire map should    \u001b[39;49m\r\n\u001b[31m# be self-contained. Players interact with the map by taking \"actions\" that     \u001b[39;49m\r\n\u001b[A\n\u001b[31m# are interpreted by an instance of the rules class containing the game logic.  \u001b[39;49m\r\n\u001b[A\n\u001b[K\n\u001b[1m\u001b[36mfrom\u001b[0m\u001b[39;49m graphics \u001b[1m\u001b[36mimport\u001b[0m\u001b[39;49m draw\u001b[K\r\n\u001b[K\u001b[23;29H\u001b[7mTop L21\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\n\n\u001b[?25lBeginning of buffer\u001b[22;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u0007\u0007\u0007\u0007\u0007\n\n\u001b[K\u001b[2;3H\u001b[?25l\u001b[31m                                                                          \u001b[39;49m\u001b[3;3H\u001b[31mDanger: Do not store 'rules' in a variable. Should fall out of scope.    \u001b[39;49m\r\n\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mGrid\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data, rules):\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name = data[\u001b[32m\"name\"\u001b[39;49m]\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid = {}\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.variables = data.get(\u001b[32m\"variables\"\u001b[39;49m,{})\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.day = 1\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.turn = 0\u001b[K\r\n\u001b[K\u001b[14;62H\u001b[8P\r\u001b[8@\u001b[14;11H\u001b[31mLoad the teams first, since cells and units reference them.\u001b[39;49m\u001b[15;47H\u001b[8P\r\u001b[8@\u001b[15;11H\u001b[31mThen set up the alliances.                  \u001b[39;49m\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data[\u001b[32m\"teams\"\u001b[39;49m]:\u001b[K\r\n            \u001b[33mthis\u001b[39;49m = rules.make_team( t )\u001b[K\r\n            \u001b[33mthis.variables\u001b[39;49m = t.get(\u001b[32m\"variables\"\u001b[39;49m,{})\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams.append(this)\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m alist \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data.get(\u001b[32m\"allies\"\u001b[39;49m,[]):\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m a \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m alist:\u001b[K\r\n                \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m alist:\u001b[K\n\b\b\b\u001b[7m 7%\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[A\u001b[?25l            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m a \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m alist:\u001b[K\r\n                \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m b \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m alist:\u001b[K\r\n                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[a].allies.append( \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[b] )\r\n\u001b[K\n\t\u001b[31m# Load the terrain cells. The units are embedded in these elements      \u001b[39;49m\r\n\t\u001b[31m# of the dictionary. Note that when units are loaded in other units     \u001b[39;49m\r\n\t\u001b[31m# we, have to recursively dig them out.                                 \u001b[39;49m\r\n\t\u001b[31m#   x: (int) x position                                                 \u001b[39;49m\r\n\t\u001b[31m#   y: (int) y position                                                 \u001b[39;49m\r\n\t\u001b[31m#   name: (string) the name of the terrain                              \u001b[39;49m\r\n\t\u001b[31m#   unit: the unit on this terrain, if one                              \u001b[39;49m\r\n\t\u001b[31m#   team: (int) the team that owns the terrain, if any                  \u001b[39;49m\r\n\u001b[14;11H\u001b[31m  variables: (dict) User-defined variables                 \u001b[39;49m\u001b[15;14H\u001b[31mre may be other values in this cell that will be parsed by\u001b[39;49m\r\n\t\u001b[31m# the factory of the rules.                                             \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m c \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m data[\u001b[32m\"cells\"\u001b[39;49m]:\u001b[K\r\n\t\t = rules.make_cell(c)\u001b[K\u001b[19;18Hgrid[(c[\u001b[32m\"x\"\u001b[39;49m],c[\u001b[32m\"y\"\u001b[39;49m])] = this\r\n\t    \u001b[33mthis.variables\u001b[39;49m = c.get(\u001b[32m\"variables\"\u001b[39;49m,{})\u001b[21;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"team\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m c\r\n\t\t\u001b[33mthis.team\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[c[\u001b[32m\"team\"\u001b[39;49m]]\u001b[23;29H\u001b[7m12% L39\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"team\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m c\r\n\t\t\u001b[33mthis.team\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[c[\u001b[32m\"team\"\u001b[39;49m]]\u001b[4;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"unit\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m c:\u001b[K\r\n\t\t\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m_process_units\u001b[0m\u001b[39;49m(unit):\r\n\t            \u001b[33mu\u001b[39;49m = rules.make_unit(unit)\u001b[K\r\n\t            \u001b[33mu.team\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams[unit[\u001b[32m\"team\"\u001b[39;49m]]\u001b[K\r\n\t            \u001b[33mu.variables\u001b[39;49m = unit.get(\u001b[32m\"variables\"\u001b[39;49m,{})\u001b[K\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.units.append(u)\u001b[K\r\n\t            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m unit.get(\u001b[32m\"carrying\"\u001b[39;49m,[]):\u001b[K\r\n\t                u.carrying.append(_process_units(u))\u001b[K\r\n\t            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m u\u001b[K\r\n\t        \u001b[33mthis.unit\u001b[39;49m = _process_units(c[\u001b[32m\"unit\"\u001b[39;49m])\u001b[K\r\n\u001b[K\u001b[15;5H\u001b[31m# Export a dictionary of the cells and units in the grid. Usually used      \u001b[39;49m\r\n\u001b[16;5H\u001b[4P\t\b\u001b[31mo save a map!           \u001b[39;49m\u001b[4@\u001b[31m    \u001b[39;49m\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mexport\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m = {}\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m[\u001b[32m\"name\"\u001b[39;49m] = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.name\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m[\u001b[32m\"allies\"\u001b[39;49m] = []\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m[\u001b[32m\"cells\"\u001b[39;49m] = []\r\n\t\u001b[33mreport\u001b[39;49m[\u001b[32m\"teams\"\u001b[39;49m] = []\u001b[K\n\u001b[C\u001b[7m8% L58\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[A\t\u001b[?25l\u001b[33mreport\u001b[39;49m[\u001b[32m\"cells\"\u001b[39;49m] = []\r\n\t\u001b[33mreport\u001b[39;49m[\u001b[32m\"teams\"\u001b[39;49m] = []\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m[\u001b[32m\"variables\"\u001b[39;49m] = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.variables)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams:\u001b[K\u001b[6;13H\u001b[33mteam\u001b[39;49m = {}\u001b[K\u001b[7;13H\u001b[33mteam\u001b[39;49m[\u001b[32m\"name\"\u001b[39;49m] = t.name\u001b[K\u001b[8;13H\u001b[33mteam\u001b[39;49m[\u001b[32m\"color\"\u001b[39;49m] = t.color\u001b[K\u001b[9;13H\u001b[33mteam\u001b[39;49m[\u001b[32m\"variables\"\u001b[39;49m] = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(t.variables)\u001b[10;13Hreport[\u001b[32m\"teams\"\u001b[39;49m].append(team)\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m c \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid:\u001b[K\u001b[12;13H\u001b[33mcell\u001b[39;49m = {}\u001b[K\u001b[13;13Hcell[\u001b[32m\"x\"\u001b[39;49m],\u001b[33mcell\u001b[39;49m[\u001b[32m\"y\"\u001b[39;49m] = c\u001b[K\u001b[14;13H\u001b[33mcd\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid[c]\u001b[15;5H        \u001b[33mcell\u001b[39;49m[\u001b[32m\"name\"\u001b[39;49m] = cd.name\u001b[K\u001b[16;5H        \u001b[33mcell\u001b[39;49m[\u001b[32m\"variables\"\u001b[39;49m] = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(cd.variables)\u001b[K\u001b[17;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cd.unit:\r\n\t        \u001b[33mcell\u001b[39;49m[\u001b[32m\"unit\"\u001b[39;49m] = {}\r\n\t        cell[\u001b[32m\"unit\"\u001b[39;49m][\u001b[32m\"name\"\u001b[39;49m] = cd.unit.name\r\n\t        cell[\u001b[32m\"unit\"\u001b[39;49m][\u001b[32m\"team\"\u001b[39;49m] = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams.index(cd.unit.team)\r\n\t        cell[\u001b[32m\"unit\"\u001b[39;49m][\u001b[32m\"variables\"\u001b[39;49m] = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(cd.unit.variables)\r\n\t    report[\u001b[32m\"cells\"\u001b[39;49m].append(cell)\u001b[23;29H\u001b[7m24% L77\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m80\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;50H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[13d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m90\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23d\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;50H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;50H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;50H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;50H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[A\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l    cell[\u001b[32m\"x\"\u001b[39;49m],\u001b[33mcell\u001b[39;49m[\u001b[32m\"y\"\u001b[39;49m] = c\r\n\t    \u001b[33mcd\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid[c]\r\n\t    \u001b[33mcell\u001b[39;49m[\u001b[32m\"name\"\u001b[39;49m] = cd.name\u001b[K\r\n\t    \u001b[33mcell\u001b[39;49m[\u001b[32m\"variables\"\u001b[39;49m] = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(cd.variables)\u001b[6;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cd.unit:\u001b[7;13H    \u001b[33mcell\u001b[39;49m[\u001b[32m\"unit\"\u001b[39;49m] = {}\u001b[8;13H    cell[\u001b[32m\"unit\"\u001b[39;49m][\u001b[32m\"name\"\u001b[39;49m] = cd.unit.name\u001b[9;13H    cell[\u001b[32m\"unit\"\u001b[39;49m][\u001b[32m\"team\"\u001b[39;49m] = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams.index(cd.unit.team)\u001b[10;13H    cell[\u001b[32m\"unit\"\u001b[39;49m][\u001b[32m\"variables\"\u001b[39;49m] = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(cd.unit.variables)\r\n\t    report[\u001b[32m\"cells\"\u001b[39;49m].append(cell)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m report\r\n\u001b[K\u001b[14;5H\u001b[31m# This returns all of the tiles.                                            \u001b[39;49m\r\n\u001b[15;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mall_tiles\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.values()\u001b[K\r\n\u001b[K\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mall_tiles_xy\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.keys()\u001b[K\r\n\u001b[K\u001b[21;5H\u001b[31m# Get the tile at x,y. Returns None if out of range.                        \u001b[39;49m\r\n\u001b[22;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtile_at\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\n\u001b[C\u001b[7m7% L98\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;50H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;50H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;50H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;50H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m89\u001b[0m\u001b[39;49m\u001b[27m\u001b[3;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[2d\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[33mreport\u001b[39;49m[\u001b[32m\"cells\"\u001b[39;49m] = []\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m[\u001b[32m\"teams\"\u001b[39;49m] = []\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m[\u001b[32m\"variables\"\u001b[39;49m] = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.variables)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams:\u001b[K\u001b[6;13H\u001b[33mteam\u001b[39;49m = {}\u001b[K\u001b[7;13H\u001b[33mteam\u001b[39;49m[\u001b[32m\"name\"\u001b[39;49m] = t.name\u001b[8;13H\u001b[33mteam\u001b[39;49m[\u001b[32m\"color\"\u001b[39;49m] = t.color\u001b[K\u001b[9;13H\u001b[33mteam\u001b[39;49m[\u001b[32m\"variables\"\u001b[39;49m] = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(t.variables)\u001b[K\u001b[10;13Hreport[\u001b[32m\"teams\"\u001b[39;49m].append(team)\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m c \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid:\u001b[K\r\n\t    \u001b[33mcell\u001b[39;49m = {}\u001b[13;13Hcell[\u001b[32m\"x\"\u001b[39;49m],\u001b[33mcell\u001b[39;49m[\u001b[32m\"y\"\u001b[39;49m] = c\u001b[14;5H        \u001b[33mcd\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid[c]\u001b[K\u001b[15;5H        \u001b[33mcell\u001b[39;49m[\u001b[32m\"name\"\u001b[39;49m] = cd.name\r\n\t    \u001b[33mcell\u001b[39;49m[\u001b[32m\"variables\"\u001b[39;49m] = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(cd.variables)\u001b[17;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cd.unit:\u001b[18;5H            \u001b[33mcell\u001b[39;49m[\u001b[32m\"unit\"\u001b[39;49m] = {}\r\n\t        cell[\u001b[32m\"unit\"\u001b[39;49m][\u001b[32m\"name\"\u001b[39;49m] = cd.unit.name\r\n\t\tcell[\u001b[32m\"unit\"\u001b[39;49m][\u001b[32m\"team\"\u001b[39;49m] = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams.index(cd.unit.team)\u001b[21;5H            cell[\u001b[32m\"unit\"\u001b[39;49m][\u001b[32m\"variables\"\u001b[39;49m] = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(cd.unit.variables)\u001b[K\u001b[22;5H        report[\u001b[32m\"cells\"\u001b[39;49m].append(cell)\u001b[23;30H\u001b[7m4% L87\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[13d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m90\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23d\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;50H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[17;1H\u001b[1L\u001b[1;24r\u001b[16;50H\u001b[K\r\n\u001b[?25l)\u001b[K\u001b[23;6H\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mgrid.py     \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   24% L92\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12@\u001b[17;13H\u001b[?25l                         c)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[29P\b\b\b\b\u001b[4P\r\u001b[4P\u001b[1;22r\u001b[18;1H\u001b[1M\u001b[1;24r\u001b[16;50H\u001b[?25l)\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cd.unit:\r\n\n\n\n\n            report[\u001b[32m\"cells\"\u001b[39;49m].append(cell)\u001b[K\n\b\b\b\b\b\b\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;50H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[1;22r\u001b[18;1H\u001b[1L\u001b[1;24r\u001b[17;1H\u001b[K\n\u001b[?25l            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cd.unit:\u001b[K\u001b[23;35H\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[17;13H\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l[\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"                                                              \u001b[39;49m\r\n\u001b[32m            if cd.unit:                                                         \u001b[39;49m\r\n\u001b[17;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mm\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cd.unit:\u001b[K\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l]\r\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[C\u001b[17;13H\u001b[?25l\u001b[33mcell\u001b[39;49m[\u001b[32m\"team\"\u001b[39;49m] =\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/grid.py...\u001b[17;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/grid.py\u001b[K\u001b[17;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mgrid.py     \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   24% L92   Git:\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py --edit\r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[2d Welcome to Rules of War!\u001b[2;41H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mBuilt-in Maps\u001b[3;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault.json\u001b[4;2H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mPlease select a map!\u001b[4;41Hdefault1.json\u001b[6;41H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mUser-generated maps\u001b[7;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mfoo.json\u001b[3;41Hdefault.json\u001b[4;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\u001b[7;49H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;41Hdefault1.json\u001b[7;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mfoo.json\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+--------------------------------------------------------------+---------------+\u001b[2;1H|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..................\u001b[2;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m             \u001b[2;64H|\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mMap Editing\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m    |\u001b[3;1H|\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[3;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m            \u001b[3;64H|\u001b[31m\u001b[40mRed         $0\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m |\u001b[4;1H|#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[4;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m             \u001b[4;64H|\u001b[36m\u001b[40mCyan        $0\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m |\u001b[5;1H|\u001b[32m\u001b[40m......................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[5;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[6;1H|\u001b[32m\u001b[40m.............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m................\u001b[6;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[23X\u001b[6;64H|\u001b[80G|\u001b[7;1H|\u001b[32m\u001b[40m...........................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b[7;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m        \u001b[7;64H|\u001b[80G|\u001b[8;1H|\u001b[32m\u001b[40m....................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[8;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[9;1H|\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[9;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+---------------+\u001b[10;1H|#\u001b[32m\u001b[40m.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b[10;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|Grass\u001b[80G|\u001b[11;1H|#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.................\u001b[11;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|DEF +1\u001b[80G|\u001b[12;1H|\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[32m\u001b[40m....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[12;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[13;1H|\u001b[32m\u001b[40m.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......................\u001b[13;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[14;1H|\u001b[32m\u001b[40m.......................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[14;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[15;1H|\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#!\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[15;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[16;1H|#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m...\u001b[16;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[17;1H|\u001b[17;64H+---------------+\u001b[18;1H|\u001b[18;64H|\u001b[80G|\u001b[19;1H|\u001b[19;64H|\u001b[80G|\u001b[20;1H|\u001b[20;64H|\u001b[80G|\u001b[21;1H|\u001b[21;64H|\u001b[80G|\u001b[22;1H|\u001b[22;64H+---------------+\u001b[23;1H|\u001b[23;64H|\r\u001b[24d+--------------------------------------------------------------+\r\u001b[2d|\u001b[32m\u001b[40m.\u001b[3d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3d|\u001b[32m\u001b[40m.\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[10;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mCity \u001b[11d3\r\u001b[24d\u001b[4d|#\u001b[5d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[10;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mGrass\u001b[11d1\r\u001b[24d\u001b[5d|\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;3H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;4H\u001b[32m\u001b[40m.\u001b[6d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;4H\u001b[32m\u001b[40m.\u001b[7d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7;4H\u001b[32m\u001b[40m.\u001b[8d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[8;4H\u001b[32m\u001b[40m.\u001b[9d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[9;4H\u001b[32m\u001b[40m.\u001b[10d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;4H\u001b[32m\u001b[40m.\u001b[11d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;4H\u001b[32m\u001b[40m.\u001b[12d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;65HHQ   \u001b[11d3\u001b[12;4H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m!\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;6H+-------------+\u001b[12;6H|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mRepeat\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m       |\u001b[13;6H|Place Unit   |\u001b[14;6H|Place Terrain|\u001b[15;6H|Edit Teams   |\u001b[16;6H|Unit Rules   |\u001b[17;6H|Terrain Rules|\u001b[18;6H|Save Map     |\u001b[19;6H|Back\u001b[19;20H|\u001b[20;6H+-------------+\u001b[19;11H\u001b[12;7HRepeat\u001b[13;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlace Unit\u001b[19;11H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;7HPlace Unit\u001b[14;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlace Terrain\u001b[19;11H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;16H+\u001b[32m\u001b[40m....\u001b[12;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m(None)\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   |\u001b[32m\u001b[40m....\u001b[13;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mCity     |\u001b[32m\u001b[40m....\u001b[14;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mGrass    |\u001b[32m\u001b[40m....\u001b[15;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mHQ       |!\u001b[32m\u001b[40m...\u001b[16;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mOcean    |\u001b[32m\u001b[40m....\u001b[17;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mMountains|    \u001b[18;6H+---------+    \u001b[19;6H     \u001b[19;20H \u001b[20;6H\u001b[15X\u001b[17;16H\u001b[12;7H(None)\u001b[13;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mCity\u001b[17;16H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;7HCity\u001b[14;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mGrass\u001b[17;16H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;7HGrass\u001b[15;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mHQ\u001b[17;16H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;13H+#\u001b[32m\u001b[40m..\u001b[12;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m(None)\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[32m\u001b[40m...\u001b[13;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mRed   |\u001b[32m\u001b[40m...\u001b[14;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mCyan  |\u001b[32m\u001b[40m...\u001b[15;6H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+------+#!\u001b[32m\u001b[40m.\u001b[16;6H......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b[17;6H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m           \u001b[18;6H           \u001b[14;11H\u001b[12;7H(None)\u001b[13;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mRed\u001b[14;11H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\b\b\b\bRed\u001b[14;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mCyan\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;6H##\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m...\u001b[12;6H....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m...\u001b[13;6H...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b[14;6H........\u001b[15;6H......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;65HGrass\u001b[11;5H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[11;70H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m1\u001b[12;5H!\r\u001b[24d\u001b[10;65HHQ   \u001b[11;5H\u001b[32m\u001b[40m.\u001b[11;70H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m3\u001b[12;5H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m!\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;65H\u001b[36m\u001b[40mHQ\u001b[11d\b\bDEF +3\u001b[12;5H\u001b(B\u001b[0;1;7m\u001b[36m\u001b[40m!\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;65HGrass\u001b[11;5H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[11;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mDEF +1\u001b[12;5H\u001b(B\u001b[0;1m\u001b[36m\u001b[40m!\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;5H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[11d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;5H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;5H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;5H\u001b[32m\u001b[40m.\u001b[11d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;65H\u001b[36m\u001b[40mHQ\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[11;5H\u001b[32m\u001b[40m.\u001b[11;65H\u001b[36m\u001b[40mDEF +3\u001b[12;5H\u001b(B\u001b[0;1;7m\u001b[36m\u001b[40m!\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;65HGrass\u001b[11;65HDEF +1\u001b[12;5H\u001b(B\u001b[0;1m\u001b[36m\u001b[40m!\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;7H+-------------+\u001b[12;7H|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mRepeat\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m       |\u001b[13;7H|Place Unit   |\u001b[14;7H|Place Terrain|\u001b[15;7H|Edit Teams   |\u001b[16;7H|Unit Rules   |\u001b[17;7H|Terrain Rules|\u001b[18;7H|Save Map     |\u001b[19;7H|Back\u001b[19;21H|\u001b[20;7H+-------------+\u001b[19;12H\u001b[12;8HRepeat\u001b[13;8H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlace Unit\u001b[19;12H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;8HPlace Unit\u001b[14;8H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlace Terrain\u001b[19;12H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;17H+\u001b[32m\u001b[40m....\u001b[12;8H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m(None)\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   |\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[13;8HCity     |\u001b[32m\u001b[40m....\u001b[14;8H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mGrass    |\u001b[32m\u001b[40m....\u001b[15;8H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mHQ       |\u001b[32m\u001b[40m....\u001b[16;8H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mOcean    |\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[17;8HMountains|    \u001b[18;7H+---------+    \u001b[19;7H     \u001b[19;21H \u001b[20;7H\u001b[15X\u001b[17;17H\u001b[12;8H(None)\u001b[13;8H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mCity\u001b[17;17H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;8HCity\u001b[14;8H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mGrass\u001b[17;17H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;8HGrass\u001b[15;8H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mHQ\u001b[17;17H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;14H+\u001b[32m\u001b[40m...\u001b[12;8H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m(None)\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[32m\u001b[40m...\u001b[13;8H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mRed   |\u001b[32m\u001b[40m...\u001b[14;8H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mCyan  |\u001b[32m\u001b[40m...\u001b[15;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+------+!\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[16;7H\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[17;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m           \u001b[18;7H           \u001b[14;12H\u001b[12;8H(None)\u001b[13;8H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mRed\u001b[14;12H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;7H#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[12;7H\u001b[32m\u001b[40m...\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b[13;7H..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[14;7H........\u001b[15;7H.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\r\u001b[24d\u001b[10;65HCity \u001b[11;6H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[11;70H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m3\u001b[12;6H\u001b[32m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;6H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[10;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mGrass\u001b[11;6H#\u001b[11;70H1\r\u001b[24d\u001b[10;6H\u001b[32m\u001b[40m.\u001b[10;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mCity \u001b[11;6H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[11;70H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m3\r\u001b[24d\u001b[10;65HGrass\u001b[11;6H#\u001b[11;70H1\u001b[12;6H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;65H\u001b[31m\u001b[40mHQ\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[11;65H\u001b[31m\u001b[40mDEF +3\u001b[12;6H\u001b(B\u001b[0;1;7m\u001b[31m\u001b[40m!\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;65HGrass\u001b[11;65HDEF +1\u001b[12;6H\u001b(B\u001b[0;1m\u001b[31m\u001b[40m!\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[12;7H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;9H+-------------+\u001b[12;9H|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mRepeat\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m       |\u001b[13;9H|Place Unit   |\u001b[14;9H|Place Terrain|\u001b[15;9H|Edit Teams   |\u001b[16;9H|Unit Rules   |\u001b[17;9H|Terrain Rules|\u001b[18;9H|Save Map     |\u001b[19;9H|Back\u001b[19;23H|\u001b[20;9H+-------------+\u001b[19;14H\u001b[12;10HRepeat\u001b[13;10H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlace Unit\u001b[19;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;10HPlace Unit\u001b[14;10H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlace Terrain\u001b[19;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;10HPlace Terrain\u001b[15;10H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mEdit Teams\u001b[19;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[15;10HEdit Teams\u001b[16;10H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mUnit Rules\u001b[19;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[16;10HUnit Rules\u001b[17;10H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mTerrain Rules\u001b[19;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[17;10HTerrain Rules\u001b[18;10H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mSave Map\u001b[19;14H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;23H------------+\u001b[12;10H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mMap Name\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[15X\u001b[12;35H|\u001b[13;9H+-------------------------+\u001b[14;9H\u001b[32m\u001b[40m...............\u001b[15;9H...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#!\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[32m\u001b[40m......\u001b[16;9H...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b[17;9H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[15X\u001b[18d\u001b[15X\u001b[19d     \u001b[19;23H \u001b[20;9H\u001b[15X\u001b[12;20H\bM\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\bu\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\bf\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\bf\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\bi\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\bn\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\bs\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 69, in run\r\n    self.g.handle_input(c)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/grid.py\", line 292, in handle_input\r\n    r = self.world.process(q)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/rules.py\", line 599, in process\r\n    elif self.state == \"save map\": return self.process_save_map(c)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/rules.py\", line 1168, in process_save_map\r\n    data = self.export(True)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/rules.py\", line 217, in export\r\n    return json.dumps(data, indent=4)\r\n  File \"/usr/lib/python2.7/json/__init__.py\", line 250, in dumps\r\n    sort_keys=sort_keys, **kw).encode(obj)\r\n  File \"/usr/lib/python2.7/json/encoder.py\", line 209, in encode\r\n    chunks = list(chunks)\r\n  File \"/usr/lib/python2.7/json/encoder.py\", line 434, in _iterencode\r\n    for chunk in _iterencode_dict(o, _current_indent_level):\r\n  File \"/usr/lib/python2.7/json/encoder.py\", line 408, in _iterencode_dict\r\n    for chunk in chunks:\r\n  File \"/usr/lib/python2.7/json/encoder.py\", line 408, in _iterencode_dict\r\n    for chunk in chunks:\r\n  File \"/usr/lib/python2.7/json/encoder.py\", line 332, in _iterencode_list\r\n    for chunk in chunks:\r\n  File \"/usr/lib/python2.7/json/encoder.py\", line 408, in _iterencode_dict\r\n    for chunk in chunks:\r\n  File \"/usr/lib/python2.7/json/encoder.py\", line 442, in _iterencode\r\n    o = _default(o)\r\n  File \"/usr/lib/python2.7/json/encoder.py\", line 184, in default\r\n    raise TypeError(repr(o) + \" is not JSON serializable\")\r\nTypeError: <core.rules.Team object at 0x9cfd64c> is not JSON serializable\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py --edit\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n        \u001b[33mreport\u001b[39;49m[\u001b[32m\"cells\"\u001b[39;49m] = []\u001b[K\r\n        \u001b[33mreport\u001b[39;49m[\u001b[32m\"teams\"\u001b[39;49m] = []\u001b[K\r\n        \u001b[33mreport\u001b[39;49m[\u001b[32m\"variables\"\u001b[39;49m] = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.variables)\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams:\u001b[K\r\n            \u001b[33mteam\u001b[39;49m = {}\u001b[K\r\n            \u001b[33mteam\u001b[39;49m[\u001b[32m\"name\"\u001b[39;49m] = t.name\u001b[K\r\n            \u001b[33mteam\u001b[39;49m[\u001b[32m\"color\"\u001b[39;49m] = t.color\u001b[K\r\n            \u001b[33mteam\u001b[39;49m[\u001b[32m\"variables\"\u001b[39;49m] = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(t.variables)\u001b[K\r\n            report[\u001b[32m\"teams\"\u001b[39;49m].append(team)\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m c \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid:\u001b[K\r\n            \u001b[33mcell\u001b[39;49m = {}\u001b[K\r\n            cell[\u001b[32m\"x\"\u001b[39;49m],\u001b[33mcell\u001b[39;49m[\u001b[32m\"y\"\u001b[39;49m] = c\u001b[K\r\n            \u001b[33mcd\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid[c]\u001b[K\r\n            \u001b[33mcell\u001b[39;49m[\u001b[32m\"name\"\u001b[39;49m] = cd.name\u001b[K\r\n            \u001b[33mcell\u001b[39;49m[\u001b[32m\"variables\"\u001b[39;49m] = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(cd.variables)\u001b[K\r\n            \u001b[33mcell\u001b[39;49m[\u001b[32m\"team\"\u001b[39;49m] = cd.team\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cd.unit:\u001b[K\r\n                \u001b[33mcell\u001b[39;49m[\u001b[32m\"unit\"\u001b[39;49m] = {}\u001b[K\r\n                cell[\u001b[32m\"unit\"\u001b[39;49m][\u001b[32m\"name\"\u001b[39;49m] = cd.unit.name\u001b[K\r\n                cell[\u001b[32m\"unit\"\u001b[39;49m][\u001b[32m\"team\"\u001b[39;49m] = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams.index(cd.unit.team)\u001b[K\r\n                cell[\u001b[32m\"unit\"\u001b[39;49m][\u001b[32m\"variables\"\u001b[39;49m] = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(cd.unit.variables)\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mgrid.py     \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   24% L92   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[17;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23d\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\n\u001b[C\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[A\u001b[A\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\u001b[C\u001b[C\t\b\n\n\b\b\b\b\b\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\n\u001b[C\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\u001b[?25lscd.team\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lecd.team\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25llcd.team\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lfcd.team\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cd.team\r\t\t\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ltcd.team\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lecd.team\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lacd.team\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lmcd.team\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lscd.team\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.cd.team\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25licd.team\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lncd.team\r\t\t\t\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ldcd.team\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lecd.team\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lxcd.team\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(cd.team\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\t\t\u001b[?25lcell\u001b[17;45H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[17;52H\u001b[?25l)\u001b[17;44H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[17;53H\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/grid.py...\u001b[17;53H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/grid.py\u001b[K\u001b[17;53H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;53H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\t\t\u001b[?25l\u001b[33mcell\u001b[39;49m\u001b[17;53H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[17;53H\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default rules.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrules.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25llanding.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor += 1\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\r\n\t        \u001b[33mdata\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\u001b[6;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in):\u001b[7;13H        \u001b[33mi\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor - \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in)\u001b[8;13H        \u001b[33mdata\u001b[39;49m = storage.read(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined[i])\u001b[9;13H    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[10;13H        \u001b[33mi\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[K\r\n\t            \u001b[33mdata\u001b[39;49m = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in[i])\u001b[12;13H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"edit\"\u001b[39;49m,json.loads(data)\r\n\t\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[15;5H\u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\u001b[18;13Hdraw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[19;13Hdraw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\r\n\u001b[K\u001b[21;13H\u001b[31m# Todo... correctly scroll.                                         \u001b[39;49m\r\n\u001b[22;13Hi = 0\u001b[K\u001b[23;4H\u001b[7mU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   34% L38    (Python) -----------\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default grid.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrules.py\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[K\r\n\u001b[K\n\t\u001b[33mu\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt != \u001b[32m\"(New)\"\u001b[39;49m:\u001b[6;13H\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_unit({\u001b[32m\"name\"\u001b[39;49m:opt})\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = { \u001b[32m\"Name\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m: u.name \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m \u001b[32m\"\"\u001b[39;49m,\u001b[K\r\n\t\t                  \u001b[32m\"type\"\u001b[39;49m: \u001b[32m\"str 12\"\u001b[39;49m,\u001b[10;21H              \u001b[32m\"ordering\"\u001b[39;49m: 1 },\u001b[11;21H     \u001b[32m\"Move\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m: \u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(u.move) \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m \u001b[32m\"\"\u001b[39;49m,\u001b[K\r\n\t\t                  \u001b[32m\"type\"\u001b[39;49m: \u001b[32m\"int\"\u001b[39;49m,\r\n\t                          \u001b[32m\"ordering\"\u001b[39;49m: 2 }\r\n\t\t\t\b}\u001b[15;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"page unit\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\u001b[K\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_page_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\u001b[K\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_rule_terrain\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[23;4H\u001b[7m-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   98% L1198 Git:master  (Python) \u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Not there!\"\u001b[39;49m)\r\n\t\u001b[33mnewname\u001b[39;49m = opt[\u001b[32m\"Map Name\"\u001b[39;49m]\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(newname) > 15:\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Too long.\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(opt) != 0:\u001b[K\u001b[9;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.name = newname\u001b[K\u001b[10;13H\u001b[33mdata\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.export(\u001b[35mTrue\u001b[39;49m)\u001b[K\u001b[11;13H\u001b[33mnewname\u001b[39;49m = newname.replace(\u001b[32m\" \"\u001b[39;49m,\u001b[32m\"_\"\u001b[39;49m)\u001b[K\u001b[12;13Hstorage.save(data, \u001b[32m\"maps\"\u001b[39;49m,\u001b[32m\"%s.json\"\u001b[39;49m%newname)\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\n\t\u001b[32medit\"\u001b[39;49m)\u001b[K\r\n\n\n\t\t\u001b[1m\u001b[34mrule_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[20;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[21;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[K\r\n\u001b[K\u001b[23;30H\u001b[7m7% L1180\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit = \u001b[32m\"terrain\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1],\u001b[35mNone\u001b[39;49m\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action) > 2:\r\n\t                \u001b[33mteam\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[5;13H            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m q \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\u001b[6;29H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q.name == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[2]:\r\n\t                        \u001b[33mteam\u001b[39;49m = q\r\n\t                \u001b[33mtile.team\u001b[39;49m = team\u001b[9;13H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit=\u001b[32m\"terrain\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1],\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[2]\u001b[10;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t:\u001b[K\u001b[11;13H            \u001b[33mtile.unit\u001b[39;49m = t.unit\u001b[K\u001b[12;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.grid[(x,y)] = tile\u001b[K\r\n\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\u001b[18;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_save_map\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"Map Name\"\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m opt:\u001b[K\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Not there!\"\u001b[39;49m)\r\n\t\u001b[33mnewname\u001b[39;49m = opt[\u001b[32m\"Map Name\"\u001b[39;49m]\n\b\b\b\b\u001b[7m5% L1161\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[33mox\u001b[39;49m,\u001b[33moy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m ex < ox:\u001b[K\u001b[5;13H\u001b[33mex\u001b[39;49m,\u001b[33mox\u001b[39;49m = ox,ex\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m ey < oy:\u001b[K\u001b[7;13H\u001b[33mey\u001b[39;49m,\u001b[33moy\u001b[39;49m = oy,ey\u001b[K\r\n\u001b[K\n\t\u001b[31m# Now fill!                                                             \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(ox,ex+1):\u001b[11;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(oy,ey+1):\u001b[K\r\n\t\t\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1] == \u001b[32m\"(None)\"\u001b[39;49m:\u001b[14;21Hu = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\r\n\t                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(x,y)\u001b[17;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.grid.pop((x,y),\u001b[35mNone\u001b[39;49m)\u001b[18;5H                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit = \u001b[32m\"terrain\"\u001b[39;49m,\u001b[32m\"(None)\"\u001b[39;49m,\u001b[35mNone\u001b[39;49m\u001b[K\u001b[19;5H            \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t            \u001b[33mtile\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_cell({\u001b[32m\"name\"\u001b[39;49m:\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]})\u001b[21;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit = \u001b[32m\"terrain\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1],\u001b[35mNone\u001b[39;49m\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action) > 2:\u001b[23;30H\u001b[7m4% L1142\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(t.name)\u001b[3;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"terrain team\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"draw terrain\"\u001b[39;49m)\r\n\u001b[K\u001b[6;5H\u001b[31m# If the tile in question is capturable, then we need to pick the           \u001b[39;49m\r\n\u001b[7;5H\u001b[31m# team.                                                                     \u001b[39;49m\r\n\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_terrain_team\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"draw terrain\"\u001b[39;49m\r\n\u001b[K\u001b[16;5H\u001b[31m# Now, pick the endpoint.                                                   \u001b[39;49m\r\n\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_draw_terrain\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[K\u001b[19;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\r\n\t\u001b[33mex\u001b[39;49m,\u001b[33mey\u001b[39;49m = coord\u001b[K\r\n\t\u001b[33mox\u001b[39;49m,\u001b[33moy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\u001b[K\u001b[23;30H\u001b[7m2% L1123\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[31m# Editing terrain is slightly different. After picking the type of          \u001b[39;49m\r\n\u001b[3;5H\u001b[31m# terrain you want, you pick another coordinate, and a box is filled        \u001b[39;49m\r\n\u001b[4;5H\u001b[31m# between the two endpoints.                                                \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_terrain\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[6;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[7;5H        \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[K\u001b[8;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\t\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\u001b[11;14Haction.append(opt)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [(x,y)]\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"(None)\"\u001b[39;49m:\u001b[K\u001b[15;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"draw terrain\"\u001b[39;49m)\r\n\u001b[K\u001b[17;5H    t = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_cell({\u001b[32m\"name\"\u001b[39;49m:opt})\u001b[K\u001b[18;12H\u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m t.properties:\u001b[K\u001b[19;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(t.name)\u001b[22;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"terrain team\"\u001b[39;49m)\u001b[23;30H\u001b[7m1% L1104\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l        \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[K\u001b[3;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[4;5H    \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\u001b[5;5H    \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t:\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.unit:\u001b[K\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(x,y)\r\n\t    \u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_unit({\u001b[32m\"name\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]})\r\n\t    \u001b[33mteam\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[13;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m q \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q.name == opt:\u001b[15;13H        team = q\u001b[K\u001b[16;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.add_unit(u, team, x, y)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit = \u001b[32m\"unit\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1],opt\r\n\u001b[K\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\u001b[K\u001b[21;5H\u001b[31m# Editing terrain is slightly different. After picking the type of          \u001b[39;49m\r\n\u001b[22;5H\u001b[31m# terrain you want, you pick another coordinate, and a box is filled        \u001b[39;49m\r\n\u001b[23;29H\u001b[7m89% L1085\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\t\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"(None)\"\u001b[39;49m:\u001b[K\u001b[7;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(x,y)\u001b[9;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[10;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m\r\n\u001b[K\n\t\u001b[31m# Before moving forward, we need to know the team.                      \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams\u001b[15;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(t.name)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"unit team\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[18;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_unit_team\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[21;5H        \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[K\u001b[22;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[23;30H\u001b[7m8% L1066\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[16;1H\u001b[2M\u001b[1;24r\u001b[2;9H\u001b[?25l    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.remove(opt)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Done\"\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams) == 0:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(opt)\u001b[7;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit teams\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Done\"\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams) > 0:\u001b[9;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_team({\u001b[32m\"name\"\u001b[39;49m:opt, \u001b[32m\"color\"\u001b[39;49m:opt[0].lower()})\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams.append(t)\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit teams\"\u001b[39;49m)\r\n\u001b[K\n\u001b[K\n\n\t\t\u001b[1m\u001b[34medit_unit\u001b[0m\u001b[39;49m\r\n\n\n\n        \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n        \u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\n\b\b\b\b\b\u001b[7m7% L1047\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;14H\u001b[?25l\u001b[1m\u001b[36meturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule terrain\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Save Map\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams[:]:\u001b[K\u001b[6;13H    \u001b[33mkill\u001b[39;49m = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[7;13H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m c \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles():\u001b[K\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c.unit \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m c.unit.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m t: \u001b[33mkill\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[9;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[32m\"hq\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m c.properties: \u001b[33mkill\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m kill:\u001b[11;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams.remove(t)\u001b[K\u001b[12;18Hchoices = {\u001b[32m\"Map Name\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m:\u001b[32m\"\"\u001b[39;49m,\u001b[32m\"type\"\u001b[39;49m:\u001b[32m\"str 15\"\u001b[39;49m}}\u001b[13;37H\u001b[32msave map\"\u001b[39;49m)\u001b[K\r\n\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Back\"\u001b[39;49m:\u001b[16;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[18;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_teams\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.remove(opt)\u001b[K\n\b\b\b\u001b[7m5% L1028\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y):\u001b[K\u001b[3;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(x,y)\r\n\t        \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[5;13H    \u001b[33mt.team\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[6;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams = []\u001b[7;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit teams\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Unit Rules\"\u001b[39;49m:\u001b[K\u001b[10;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[11;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\u001b[12;13H\u001b[4@\u001b[12;29H.append(u)\u001b[K\u001b[13;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Unit)\"\u001b[39;49m)\u001b[K\u001b[14;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule unit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Terrain Rules\"\u001b[39;49m:\u001b[K\u001b[17;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[18;5H        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\u001b[K\u001b[19;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Terrain)\"\u001b[39;49m)\u001b[21;14H\u001b[1m\u001b[36meturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule terrain\"\u001b[39;49m)\r\n\u001b[K\u001b[23;30H\u001b[7m3% L1009\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [team]\u001b[K\r\n\t\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_unit_team(team)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Unit\"\u001b[39;49m:\u001b[6;18Hchoices = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[7;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit unit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Terrain\"\u001b[39;49m:\u001b[K\u001b[12;13H\u001b[4P\t\t = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[13;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\u001b[14;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[K\u001b[15;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit terrain\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Edit Teams\"\u001b[39;49m:\u001b[18;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Red\"\u001b[39;49m,\u001b[32m\"Blue\"\u001b[39;49m,\u001b[32m\"Green\"\u001b[39;49m,\u001b[32m\"Yellow\"\u001b[39;49m,\u001b[32m\"Cyan\"\u001b[39;49m,\r\n\t\t            \u001b[32m\"Magenta\"\u001b[39;49m,\u001b[32m\"Done\"\u001b[39;49m]\u001b[20;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x,y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles_xy():\u001b[21;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y):\u001b[K\u001b[22;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(x,y)\u001b[23;30H\u001b[7m2% L990 \u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_menu\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m,opt):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[4;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Repeat\"\u001b[39;49m:\u001b[K\u001b[9;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\r\n\t        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\u001b[12;13H\u001b[33mkind\u001b[39;49m,\u001b[33mthing\u001b[39;49m,team = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit\u001b[13;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m kind == \u001b[32m\"terrain\"\u001b[39;49m:\u001b[K\u001b[14;22Haction.append(thing)\u001b[15;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m team:\u001b[K\n\b\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(team)\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [(x,y)]\u001b[18;13H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"draw terrain\"\u001b[39;49m)\u001b[K\u001b[19;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m kind == \u001b[32m\"unit\"\u001b[39;49m:\u001b[K\u001b[20;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(thing)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [team]\u001b[K\r\n\t\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_unit_team(team)\u001b[23;30H\u001b[7m0% L971\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m69\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [team]\r\n\t        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_unit_team(team)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Unit\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[7;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[9;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit unit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Terrain\"\u001b[39;49m:\u001b[K\u001b[12;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[K\u001b[13;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\u001b[14;22Hchoices.append(u)\u001b[K\u001b[15;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit terrain\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Edit Teams\"\u001b[39;49m:\u001b[K\u001b[18;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Red\"\u001b[39;49m,\u001b[32m\"Blue\"\u001b[39;49m,\u001b[32m\"Green\"\u001b[39;49m,\u001b[32m\"Yellow\"\u001b[39;49m,\u001b[32m\"Cyan\"\u001b[39;49m,\u001b[19;13H                \u001b[32m\"Magenta\"\u001b[39;49m,\u001b[32m\"Done\"\u001b[39;49m]\u001b[20;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x,y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles_xy():\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y):\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(x,y)\u001b[K\u001b[23;30H\u001b[7m2% L970\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_menu\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m,opt):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[4;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Repeat\"\u001b[39;49m:\u001b[K\u001b[9;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\r\n\t        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\u001b[12;13H\u001b[33mkind\u001b[39;49m,\u001b[33mthing\u001b[39;49m,team = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit\u001b[13;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m kind == \u001b[32m\"terrain\"\u001b[39;49m:\u001b[K\u001b[14;22Haction.append(thing)\u001b[15;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m team:\u001b[K\n\b\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(team)\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [(x,y)]\u001b[18;13H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"draw terrain\"\u001b[39;49m)\u001b[K\u001b[19;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m kind == \u001b[32m\"unit\"\u001b[39;49m:\u001b[K\u001b[20;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(thing)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [team]\u001b[K\r\n\t\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_unit_team(team)\u001b[23;30H\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\u001b[?25l(No changes need to be saved)\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\u001b[K\u001b[23;36H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m kind == \u001b[32m\"terrain\"\u001b[39;49m:\u001b[K\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(thing)\u001b[4;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m team:\u001b[K\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(team)\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [(x,y)]\r\n\t\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"draw terrain\"\u001b[39;49m)\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m kind == \u001b[32m\"unit\"\u001b[39;49m:\u001b[9;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(thing)\u001b[10;22Hchoices = [team]\u001b[11;29Hprocess_unit_team(team)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Unit\"\u001b[39;49m:\u001b[K\u001b[14;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[K\u001b[15;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[K\u001b[17;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit unit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Terrain\"\u001b[39;49m:\u001b[20;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[K\u001b[21;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[K\u001b[23;30H\u001b[7m1% L972\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = [(x,y)]\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Repeat\"\u001b[39;49m,\u001b[32m\"Place Unit\"\u001b[39;49m, \u001b[32m\"Place Terrain\"\u001b[39;49m,\u001b[32m\"Edit Teams\"\u001b[39;49m,\u001b[5;21H    \u001b[32m\"Unit Rules\"\u001b[39;49m, \u001b[32m\"Terrain Rules\"\u001b[39;49m,\u001b[32m\"Save Map\"\u001b[39;49m,\u001b[32m\"Back\"\u001b[39;49m]\r\n\u001b[K\n\t\u001b[8P\t\t\t\u001b[32medit menu\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[9;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_menu\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m,opt):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[12;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Repeat\"\u001b[39;49m:\u001b[K\u001b[17;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\r\n\t        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\u001b[20;13H\u001b[33mkind\u001b[39;49m,\u001b[33mthing\u001b[39;49m,team = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit\u001b[21;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m kind == \u001b[32m\"terrain\"\u001b[39;49m:\u001b[K\u001b[22;22Haction.append(thing)\u001b[23;30H\u001b[7m0% L963\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m kind == \u001b[32m\"terrain\"\u001b[39;49m:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(thing)\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m team:\u001b[K\n\b\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(team)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [(x,y)]\r\n\t\u001b[8@\t\t\t\t\u001b[32mdraw terrain\"\u001b[39;49m)\u001b[8;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m kind == \u001b[32m\"unit\"\u001b[39;49m:\u001b[9;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(thing)\u001b[K\u001b[10;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [team]\r\n\t        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_unit_team(team)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Unit\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[15;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[17;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit unit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Terrain\"\u001b[39;49m:\u001b[K\u001b[20;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[K\u001b[21;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\u001b[22;22Hchoices.append(u)\u001b[K\u001b[23;30H\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@x\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[3;2H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mI-search: \u001b[39;49m\u001b[3;2H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;58H\u001b[?25l\u001b[7m Isearch) \u001b[0m\u001b[39;49m\u001b[27m\u001b[3;2H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u001b[24;1H\u001b[?25lQuit\u001b[K\u001b[23;58H\u001b[7m) --------\u001b[0m\u001b[39;49m\u001b[27m\u001b[3;2H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[3d\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@x\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mI-search: \u001b[39;49m\u001b[3;2H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;58H\u001b[?25l\u001b[7m Isearch) \u001b[0m\u001b[39;49m\u001b[27m\u001b[3;2H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\u0007\u001b[24;1H\u001b[?25lQuit\u001b[K\u001b[23;58H\u001b[7m) --------\u001b[0m\u001b[39;49m\u001b[27m\u001b[3;2H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[3d\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py --edit\r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[2d Welcome to Rules of War!\u001b[2;41H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mBuilt-in Maps\u001b[3;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault.json\u001b[4;2H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mPlease select a map!\u001b[4;41Hdefault1.json\u001b[6;41H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mUser-generated maps\u001b[7;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mfoo.json\u001b[3;41Hdefault.json\u001b[4;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\u001b[7;49H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;41Hdefault1.json\u001b[7;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mfoo.json\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+--------------------------------------------------------------+---------------+\u001b[2;1H|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..................\u001b[2;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m             \u001b[2;64H|\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mMap Editing\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m    |\u001b[3;1H|\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[3;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m            \u001b[3;64H|\u001b[31m\u001b[40mRed         $0\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m |\u001b[4;1H|#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[4;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m             \u001b[4;64H|\u001b[36m\u001b[40mCyan        $0\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m |\u001b[5;1H|\u001b[32m\u001b[40m......................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[5;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[6;1H|\u001b[32m\u001b[40m.............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m................\u001b[6;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[23X\u001b[6;64H|\u001b[80G|\u001b[7;1H|\u001b[32m\u001b[40m...........................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b[7;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m        \u001b[7;64H|\u001b[80G|\u001b[8;1H|\u001b[32m\u001b[40m....................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[8;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[9;1H|\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[9;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+---------------+\u001b[10;1H|#\u001b[32m\u001b[40m.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b[10;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|Grass\u001b[80G|\u001b[11;1H|#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.................\u001b[11;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|DEF +1\u001b[80G|\u001b[12;1H|\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[32m\u001b[40m....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[12;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[13;1H|\u001b[32m\u001b[40m.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......................\u001b[13;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[14;1H|\u001b[32m\u001b[40m.......................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[14;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[15;1H|\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#!\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[15;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[16;1H|#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m...\u001b[16;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[17;1H|\u001b[17;64H+---------------+\u001b[18;1H|\u001b[18;64H|\u001b[80G|\u001b[19;1H|\u001b[19;64H|\u001b[80G|\u001b[20;1H|\u001b[20;64H|\u001b[80G|\u001b[21;1H|\u001b[21;64H|\u001b[80G|\u001b[22;1H|\u001b[22;64H+---------------+\u001b[23;1H|\u001b[23;64H|\r\u001b[24d+--------------------------------------------------------------+\r\u001b[2d|\u001b[32m\u001b[40m.\u001b[3d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3d|\u001b[32m\u001b[40m.\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[10;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mCity \u001b[11d3\r\u001b[24d\u001b[4d|#\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[10;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mGrass\u001b[11d1\r\u001b[24d\u001b[4d|#\u001b[32m\u001b[40m.\u001b[5d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;3H\u001b[32m\u001b[40m.\u001b[6d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;3H\u001b[32m\u001b[40m.\u001b[7d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7;3H\u001b[32m\u001b[40m.\u001b[8d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[8;3H\u001b[32m\u001b[40m.\u001b[9d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[9;3H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[9;4H\u001b[32m\u001b[40m.\u001b[10d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;4H\u001b[32m\u001b[40m.\u001b[11d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;4H\u001b[32m\u001b[40m.\u001b[12d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;65HHQ   \u001b[11d3\u001b[12;4H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m!\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;6H+-------------+\u001b[12;6H|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mRepeat\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m       |\u001b[13;6H|Place Unit   |\u001b[14;6H|Place Terrain|\u001b[15;6H|Edit Teams   |\u001b[16;6H|Unit Rules   |\u001b[17;6H|Terrain Rules|\u001b[18;6H|Save Map     |\u001b[19;6H|Back\u001b[19;20H|\u001b[20;6H+-------------+\u001b[19;11H\u001b[12;7HRepeat\u001b[13;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlace Unit\u001b[19;11H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;7HPlace Unit\u001b[14;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlace Terrain\u001b[19;11H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;16H+\u001b[32m\u001b[40m....\u001b[12;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m(None)\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   |\u001b[32m\u001b[40m....\u001b[13;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mCity     |\u001b[32m\u001b[40m....\u001b[14;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mGrass    |\u001b[32m\u001b[40m....\u001b[15;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mHQ       |!\u001b[32m\u001b[40m...\u001b[16;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mOcean    |\u001b[32m\u001b[40m....\u001b[17;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mMountains|    \u001b[18;6H+---------+    \u001b[19;6H     \u001b[19;20H \u001b[20;6H\u001b[15X\u001b[17;16H\u001b[12;7H(None)\u001b[13;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mCity\u001b[17;16H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;7HCity\u001b[14;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mGrass\u001b[17;16H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;7HGrass\u001b[15;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mHQ\u001b[17;16H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[15;7HHQ\u001b[16d\b\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mOcean\u001b[17;16H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[15;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mHQ\u001b[16d\b\b\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mOcean\u001b[17;16H\u001b[14;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mGrass\u001b[15;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mHQ\u001b[17;16H\u001b[14;7HGrass\u001b[15;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mHQ\u001b[17;16H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;13H+#\u001b[32m\u001b[40m..\u001b[12;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m(None)\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[32m\u001b[40m...\u001b[13;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mRed   |\u001b[32m\u001b[40m...\u001b[14;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mCyan  |\u001b[32m\u001b[40m...\u001b[15;6H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+------+#!\u001b[32m\u001b[40m.\u001b[16;6H......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b[17;6H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m           \u001b[18;6H           \u001b[14;11H\u001b[12;7H(None)\u001b[13;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mRed\u001b[14;11H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\b\b\b\bRed\u001b[14;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mCyan\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;6H##\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m...\u001b[12;6H....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m...\u001b[13;6H...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b[14;6H........\u001b[15;6H......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;65H\u001b[36m\u001b[40mHQ\u001b[11d\b\bDEF +3\u001b[12;5H\u001b(B\u001b[0;1;7m\u001b[36m\u001b[40m!\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;65HGrass\u001b[11;5H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[11;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mDEF +1\u001b[12;5H\u001b(B\u001b[0;1m\u001b[36m\u001b[40m!\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;5H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[11d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[9;5H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[10d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[8;5H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[9d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7;5H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[8d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;6H+-------------+\u001b[7;6H|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mRepeat\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m       |\u001b[8;6H|Place Unit   |\u001b[9;6H|Place Terrain|\u001b[10;6H|Edit Teams   |\u001b[11;6H|Unit Rules   |\u001b[12;6H|Terrain Rules|\u001b[13;6H|Save Map     |\u001b[14;6H|Back         |\u001b[15;6H+-------------+\u001b[14;11H\u001b[6;6H\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[7;6H...............\u001b[8;6H...............\u001b[9;6H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[10;6H....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..........\u001b[11;6H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[12;6H....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b[13;6H...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...........\u001b[14;6H...............\u001b[15;6H......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#!\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[32m\u001b[40m...\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7;5H\u001b(B\u001b[0;7m\u001b[32m\u001b[40m.\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7;5H\u001b[32m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7;6H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7;5H\u001b(B\u001b[0;7m\u001b[32m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7;5H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7;5H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7;5H\u001b[32m\u001b[40m.\u001b[8d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[8;5H\u001b[32m\u001b[40m.\u001b[9d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[9;5H\u001b[32m\u001b[40m.\u001b[10d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7;5H\u001b(B\u001b[0;7m\u001b[32m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7;5H\u001b[32m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7;5H\u001b(B\u001b[0;7m\u001b[32m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[9;5H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[10d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[8;5H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[9d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7;5H\u001b[32m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7;5H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[8d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7;5H\u001b(B\u001b[0;1;7m\u001b[36m\u001b[40m!\u001b[10;65H\u001b(B\u001b[0m\u001b[36m\u001b[40mHQ\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[11;65H\u001b[36m\u001b[40mDEF +3\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7;5H\u001b(B\u001b[0;1m\u001b[36m\u001b[40m!\u001b[8d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[10;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mGrass\u001b[11;65HDEF +1\r\u001b[24d\u001b[8;5H\u001b[32m\u001b[40m.\u001b[9d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[8;6H+-------------+\u001b[9;6H|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mRepeat\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m       |\u001b[10;6H|Place Unit   |\u001b[11;6H|Place Terrain|\u001b[12;6H|Edit Teams   |\u001b[13;6H|Unit Rules   |\u001b[14;6H|Terrain Rules|\u001b[15;6H|Save Map     |\u001b[16;6H|Back         |\u001b[17;6H+-------------+\u001b[16;11H\u001b[9;7HRepeat\u001b[10;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlace Unit\u001b[16;11H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;7HPlace Unit\u001b[11;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlace Terrain\u001b[16;11H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;7HPlace Terrain\u001b[12;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mEdit Teams\u001b[16;11H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[12;7HEdit Teams\u001b[13;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mUnit Rules\u001b[16;11H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;7HUnit Rules\u001b[14;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mTerrain Rules\u001b[16;11H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;7HTerrain Rules\u001b[15;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mSave Map\u001b[16;11H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[8;20H------------+\u001b[9;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mMap Name\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[15X\u001b[9;32H|\u001b[10;6H+-------------------------+\u001b[11;6H##\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[12;6H....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b[13;6H...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...........\u001b[14;6H...............\u001b[15;6H......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#!\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[32m\u001b[40m...\u001b[16;6H......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m........\u001b[17;6H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[15X\u001b[9;17H\bp\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\bo\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\bt\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\ba\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\bt\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\bo\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 69, in run\r\n    self.g.handle_input(c)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/grid.py\", line 292, in handle_input\r\n    r = self.world.process(q)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/rules.py\", line 599, in process\r\n    elif self.state == \"save map\": return self.process_save_map(c)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/rules.py\", line 1168, in process_save_map\r\n    data = self.export(True)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/rules.py\", line 216, in export\r\n    data[\"grid\"] = self.grid.export()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/grid.py\", line 92, in export\r\n    cell[\"team\"] = self.teams.index(cd.team)\r\nValueError: None is not in list\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py --edit\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m kind == \u001b[32m\"terrain\"\u001b[39;49m:\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(thing)\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m team:\u001b[K\r\n                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(team)\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [(x,y)]\u001b[K\r\n                \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"draw terrain\"\u001b[39;49m)\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m kind == \u001b[32m\"unit\"\u001b[39;49m:\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(thing)\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [team]\u001b[K\r\n                \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_unit_team(team)\u001b[K\r\n\u001b[K\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Unit\"\u001b[39;49m:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[K\r\n            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit unit\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Terrain\"\u001b[39;49m:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   81% L963  Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[3d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l\u001b[34mSwitch to buffer (default landing.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25llanding.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\t\u001b[33mreport\u001b[39;49m[\u001b[32m\"cells\"\u001b[39;49m] = []\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m[\u001b[32m\"teams\"\u001b[39;49m] = []\u001b[K\r\n\t\u001b[33mreport\u001b[39;49m[\u001b[32m\"variables\"\u001b[39;49m] = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.variables)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams:\u001b[K\u001b[6;13H\u001b[33mteam\u001b[39;49m = {}\u001b[K\u001b[7;13H\u001b[33mteam\u001b[39;49m[\u001b[32m\"name\"\u001b[39;49m] = t.name\u001b[K\u001b[8;13H\u001b[33mteam\u001b[39;49m[\u001b[32m\"color\"\u001b[39;49m] = t.color\u001b[9;13H\u001b[33mteam\u001b[39;49m[\u001b[32m\"variables\"\u001b[39;49m] = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(t.variables)\u001b[10;13Hreport[\u001b[32m\"teams\"\u001b[39;49m].append(team)\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m c \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid:\u001b[K\u001b[12;13H\u001b[33mcell\u001b[39;49m = {}\r\n\t    cell[\u001b[32m\"x\"\u001b[39;49m],\u001b[33mcell\u001b[39;49m[\u001b[32m\"y\"\u001b[39;49m] = c\u001b[14;13H\u001b[33mcd\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid[c]\u001b[K\u001b[15;13H\u001b[33mcell\u001b[39;49m[\u001b[32m\"name\"\u001b[39;49m] = cd.name\u001b[K\u001b[16;13H\u001b[33mcell\u001b[39;49m[\u001b[32m\"variables\"\u001b[39;49m] = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(cd.variables)\u001b[17;13H\u001b[33mcell\u001b[39;49m[\u001b[32m\"team\"\u001b[39;49m] = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams.index(cd.team)\u001b[18;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cd.unit:\r\n\t        \u001b[33mcell\u001b[39;49m[\u001b[32m\"unit\"\u001b[39;49m] = {}\u001b[K\u001b[20;13H    cell[\u001b[32m\"unit\"\u001b[39;49m][\u001b[32m\"name\"\u001b[39;49m] = cd.unit.name\u001b[21;13H    cell[\u001b[32m\"unit\"\u001b[39;49m][\u001b[32m\"team\"\u001b[39;49m] = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams.index(cd.unit.team)\r\n\t\tcell[\u001b[32m\"unit\"\u001b[39;49m][\u001b[32m\"variables\"\u001b[39;49m] = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(cd.unit.variables)\u001b[23;14H\u001b[7m\u001b[1mgrid.py     \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   24% L92 \u001b[0m\u001b[39;49m\u001b[27m\u001b[17;53H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;51H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23d\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;51H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[17;1H\u001b[1L\u001b[1;24r\u001b[17;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mgrid.py     \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   24% L92\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[17;13H\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[17;13H\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[18;13H\u001b[4@\t\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/grid.py...\u001b[18;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/grid.py\u001b[K\u001b[18;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py --edit\r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[2d Welcome to Rules of War!\u001b[2;41H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mBuilt-in Maps\u001b[3;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault.json\u001b[4;2H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mPlease select a map!\u001b[4;41Hdefault1.json\u001b[6;41H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mUser-generated maps\u001b[7;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mfoo.json\u001b[3;41Hdefault.json\u001b[4;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\u001b[7;49H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;41Hdefault1.json\u001b[7;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mfoo.json\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+--------------------------------------------------------------+---------------+\u001b[2;1H|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..................\u001b[2;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m             \u001b[2;64H|\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mMap Editing\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m    |\u001b[3;1H|\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[3;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m            \u001b[3;64H|\u001b[31m\u001b[40mRed         $0\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m |\u001b[4;1H|#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[4;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m             \u001b[4;64H|\u001b[36m\u001b[40mCyan        $0\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m |\u001b[5;1H|\u001b[32m\u001b[40m......................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[5;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[6;1H|\u001b[32m\u001b[40m.............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m................\u001b[6;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[23X\u001b[6;64H|\u001b[80G|\u001b[7;1H|\u001b[32m\u001b[40m...........................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b[7;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m        \u001b[7;64H|\u001b[80G|\u001b[8;1H|\u001b[32m\u001b[40m....................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[8;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[9;1H|\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[9;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+---------------+\u001b[10;1H|#\u001b[32m\u001b[40m.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b[10;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|Grass\u001b[80G|\u001b[11;1H|#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.................\u001b[11;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|DEF +1\u001b[80G|\u001b[12;1H|\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[32m\u001b[40m....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[12;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[13;1H|\u001b[32m\u001b[40m.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......................\u001b[13;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[14;1H|\u001b[32m\u001b[40m.......................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[14;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[15;1H|\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#!\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[15;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[16;1H|#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m...\u001b[16;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[17;1H|\u001b[17;64H+---------------+\u001b[18;1H|\u001b[18;64H|\u001b[80G|\u001b[19;1H|\u001b[19;64H|\u001b[80G|\u001b[20;1H|\u001b[20;64H|\u001b[80G|\u001b[21;1H|\u001b[21;64H|\u001b[80G|\u001b[22;1H|\u001b[22;64H+---------------+\u001b[23;1H|\u001b[23;64H|\r\u001b[24d+--------------------------------------------------------------+\r\u001b[2d|\u001b[32m\u001b[40m.\u001b[3d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3d|\u001b[32m\u001b[40m.\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[10;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mCity \u001b[11d3\r\u001b[24d\u001b[4d|#\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[10;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mGrass\u001b[11d1\r\u001b[24d\u001b[4d|#\u001b[32m\u001b[40m.\u001b[5d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[5;3H\u001b[32m\u001b[40m.\u001b[6d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[6;3H\u001b[32m\u001b[40m.\u001b[7d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7;3H\u001b[32m\u001b[40m.\u001b[8d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[8;3H\u001b[32m\u001b[40m.\u001b[9d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[9;3H\u001b[32m\u001b[40m.\u001b[10d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10d|#\u001b[32m\u001b[40m.\u001b[11d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11d|#\u001b[32m\u001b[40m.\u001b[12d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[12;3H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[12;4H\u001b[32m\u001b[40m.\u001b[13d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[12;4H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[13d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;65HHQ   \u001b[11d3\u001b[12;4H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m!\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;6H+-------------+\u001b[12;6H|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mRepeat\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m       |\u001b[13;6H|Place Unit   |\u001b[14;6H|Place Terrain|\u001b[15;6H|Edit Teams   |\u001b[16;6H|Unit Rules   |\u001b[17;6H|Terrain Rules|\u001b[18;6H|Save Map     |\u001b[19;6H|Back\u001b[19;20H|\u001b[20;6H+-------------+\u001b[19;11H\u001b[12;7HRepeat\u001b[13;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlace Unit\u001b[19;11H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;7HPlace Unit\u001b[14;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlace Terrain\u001b[19;11H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;16H+\u001b[32m\u001b[40m....\u001b[12;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m(None)\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   |\u001b[32m\u001b[40m....\u001b[13;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mCity     |\u001b[32m\u001b[40m....\u001b[14;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mGrass    |\u001b[32m\u001b[40m....\u001b[15;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mHQ       |!\u001b[32m\u001b[40m...\u001b[16;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mOcean    |\u001b[32m\u001b[40m....\u001b[17;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mMountains|    \u001b[18;6H+---------+    \u001b[19;6H     \u001b[19;20H \u001b[20;6H\u001b[15X\u001b[17;16H\u001b[12;7H(None)\u001b[13;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mCity\u001b[17;16H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;7HCity\u001b[14;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mGrass\u001b[17;16H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;7HGrass\u001b[15;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mHQ\u001b[17;16H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;13H+#\u001b[32m\u001b[40m..\u001b[12;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m(None)\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[32m\u001b[40m...\u001b[13;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mRed   |\u001b[32m\u001b[40m...\u001b[14;7H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mCyan  |\u001b[32m\u001b[40m...\u001b[15;6H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+------+#!\u001b[32m\u001b[40m.\u001b[16;6H......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b[17;6H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m           \u001b[18;6H           \u001b[14;11H\u001b[12;7H(None)\u001b[13;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mRed\u001b[14;11H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\b\b\b\bRed\u001b[14;7H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mCyan\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;6H##\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m...\u001b[12;6H....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m...\u001b[13;6H...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b[14;6H........\u001b[15;6H......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;65HGrass\u001b[11;5H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[11;70H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m1\u001b[12;5H!\r\u001b[24d\u001b[10;5H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[11d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[9;5H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[10d\b\u001b(B\u001b[0m\u001b[32m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[9;5H\u001b[32m\u001b[40m.\u001b[10d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;5H\u001b[32m\u001b[40m.\u001b[11d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;65HHQ   \u001b[11;5H\u001b[32m\u001b[40m.\u001b[11;70H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m3\u001b[12;5H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m!\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;65HGrass\u001b[11;5H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b[11;70H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m1\u001b[12;5H!\r\u001b[24d\u001b[10;65HHQ   \u001b[11;5H\u001b[32m\u001b[40m.\u001b[11;70H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m3\u001b[12;5H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m!\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;65H\u001b[36m\u001b[40mHQ\u001b[11d\b\bDEF +3\u001b[12;5H\u001b(B\u001b[0;1;7m\u001b[36m\u001b[40m!\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[10;65HGrass\u001b[11;65HDEF +1\u001b[12;5H\u001b(B\u001b[0;1m\u001b[36m\u001b[40m!\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[12;6H\u001b[32m\u001b[40m.\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;8H+-------------+\u001b[12;8H|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mRepeat\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m       |\u001b[13;8H|Place Unit   |\u001b[14;8H|Place Terrain|\u001b[15;8H|Edit Teams   |\u001b[16;8H|Unit Rules   |\u001b[17;8H|Terrain Rules|\u001b[18;8H|Save Map     |\u001b[19;8H|Back\u001b[19;22H|\u001b[20;8H+-------------+\u001b[19;13H\u001b[12;9HRepeat\u001b[13;9H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlace Unit\u001b[19;13H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[13;9HPlace Unit\u001b[14;9H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlace Terrain\u001b[19;13H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[14;9HPlace Terrain\u001b[15;9H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mEdit Teams\u001b[19;13H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[15;9HEdit Teams\u001b[16;9H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mUnit Rules\u001b[19;13H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[16;9HUnit Rules\u001b[17;9H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mTerrain Rules\u001b[19;13H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[17;9HTerrain Rules\u001b[18;9H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mSave Map\u001b[19;13H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;22H------------+\u001b[12;9H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mMap Name\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[15X\u001b[12;34H|\u001b[13;8H+-------------------------+\u001b[14;8H\u001b[32m\u001b[40m...............\u001b[15;8H....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#!\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[32m\u001b[40m.....\u001b[16;8H....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b[17;8H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[15X\u001b[18d\u001b[15X\u001b[19d     \u001b[19;22H \u001b[20;8H\u001b[15X\u001b[12;19H\bp\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\bo\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\bt\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\ba\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\bt\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\bo\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m \u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[11;8H\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[12;8H\u001b[32m\u001b[40m..\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \u001b[13;8H\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m   \r\u001b[24d\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 70, in run\r\n    self.g.draw(1,1)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/grid.py\", line 357, in draw\r\n    self.buff2.draw(x+(self.w-15),y+8)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/widgets.py\", line 236, in draw\r\n    draw.fill(x, y, self.w, self.h)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/draw.py\", line 32, in fill\r\n    gfx.draw(i,j,c,col)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 111, in draw\r\n    if gfx: return gfx.draw(x,y,c,col)\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py --edit\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[2d Welcome to Rules of War!\u001b[2;41H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mBuilt-in Maps\u001b[3;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault.json\u001b[4;2H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mPlease select a map!\u001b[4;41Hdefault1.json\u001b[6;41H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mUser-generated maps\u001b[7;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mpotato.json\u001b[8;41Hfoo.json\u001b[3;41Hdefault.json\u001b[4;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\u001b[8;49H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;41Hdefault1.json\u001b[7;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mpotato.json\u001b[8;49H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7;41Hpotato.json\u001b[8;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mfoo.json\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mpotato.json\u001b[8;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mfoo.json\u001b[H+--------------------------------------------------------------+---------------+\u001b[2;1H|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..................\u001b[2;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m             \u001b[2;64H|\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mMap Editing\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m    |\u001b[3;1H|\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[3;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m            \u001b[3;64H|\u001b[31m\u001b[40mRed         $0\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m |\u001b[4;1H|#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[4;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m             \u001b[4;64H|\u001b[36m\u001b[40mCyan        $0\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m |\u001b[5;1H|\u001b[32m\u001b[40m......................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[5;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[6;1H|\u001b[32m\u001b[40m.............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m................\u001b[6;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[23X\u001b[6;64H|\u001b[80G|\u001b[7;1H|\u001b[32m\u001b[40m...........................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b[7;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m           \u001b[7;64H|\u001b[80G|\u001b[8;1H|\u001b[32m\u001b[40m....................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[8;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m        \u001b[8;64H|\u001b[80G|\u001b[9;1H|\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[9;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+---------------+\u001b[10;1H|#\u001b[32m\u001b[40m.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b[10;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|Grass\u001b[80G|\u001b[11;1H|#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.................\u001b[11;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|DEF +1\u001b[80G|\u001b[12;1H|\u001b[32m\u001b[40m...\u001b(B\u001b[0;1m\u001b[36m\u001b[40m!\u001b(B\u001b[0m\u001b[32m\u001b[40m....\u001b(B\u001b[0;1m\u001b[31m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[12;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[13;1H|\u001b[32m\u001b[40m.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......................\u001b[13;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[14;1H|\u001b[32m\u001b[40m.......................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[14;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[15;1H|\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#!\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[15;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[16;1H|#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m...\u001b[16;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[17;1H|\u001b[17;64H+---------------+\u001b[18;1H|\u001b[18;64H|\u001b[80G|\u001b[19;1H|\u001b[19;64H|\u001b[80G|\u001b[20;1H|\u001b[20;64H|\u001b[80G|\u001b[21;1H|\u001b[21;64H|\u001b[80G|\u001b[22;1H|\u001b[22;64H+---------------+\u001b[23;1H|\u001b[23;64H|\r\u001b[24d+--------------------------------------------------------------+\r\u001b[2d|\u001b[32m\u001b[40m.\u001b[3d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\r\u001b[24d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3d|\u001b[32m\u001b[40m.\u001b[4d\b\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[10;65H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mCity \u001b[11d3\r\u001b[24d\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 86, in run\r\n    gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 89, in refresh\r\n    if gfx: return gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 104, in refresh\r\n    curses.napms(20)\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py --edit\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n        \u001b[33mreport\u001b[39;49m[\u001b[32m\"cells\"\u001b[39;49m] = []\u001b[K\r\n        \u001b[33mreport\u001b[39;49m[\u001b[32m\"teams\"\u001b[39;49m] = []\u001b[K\r\n        \u001b[33mreport\u001b[39;49m[\u001b[32m\"variables\"\u001b[39;49m] = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.variables)\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams:\u001b[K\r\n            \u001b[33mteam\u001b[39;49m = {}\u001b[K\r\n            \u001b[33mteam\u001b[39;49m[\u001b[32m\"name\"\u001b[39;49m] = t.name\u001b[K\r\n            \u001b[33mteam\u001b[39;49m[\u001b[32m\"color\"\u001b[39;49m] = t.color\u001b[K\r\n            \u001b[33mteam\u001b[39;49m[\u001b[32m\"variables\"\u001b[39;49m] = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(t.variables)\u001b[K\r\n            report[\u001b[32m\"teams\"\u001b[39;49m].append(team)\u001b[K\r\n        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m c \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid:\u001b[K\r\n            \u001b[33mcell\u001b[39;49m = {}\u001b[K\r\n            cell[\u001b[32m\"x\"\u001b[39;49m],\u001b[33mcell\u001b[39;49m[\u001b[32m\"y\"\u001b[39;49m] = c\u001b[K\r\n            \u001b[33mcd\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid[c]\u001b[K\r\n            \u001b[33mcell\u001b[39;49m[\u001b[32m\"name\"\u001b[39;49m] = cd.name\u001b[K\r\n            \u001b[33mcell\u001b[39;49m[\u001b[32m\"variables\"\u001b[39;49m] = \u001b[1m\u001b[34mdict\u001b[0m\u001b[39;49m(cd.variables)\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cd.team:\u001b[K\r\n                \u001b[33mcell\u001b[39;49m[\u001b[32m\"team\"\u001b[39;49m] = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams.index(cd.team)\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m cd.unit:\u001b[K\r\n                \u001b[33mcell\u001b[39;49m[\u001b[32m\"unit\"\u001b[39;49m] = {}\u001b[K\r\n                cell[\u001b[32m\"unit\"\u001b[39;49m][\u001b[32m\"name\"\u001b[39;49m] = cd.unit.name\u001b[K\r\n                cell[\u001b[32m\"unit\"\u001b[39;49m][\u001b[32m\"team\"\u001b[39;49m] = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.teams.index(cd.unit.team)\u001b[K\r\n\u001b[7m-UU-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mgrid.py     \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   24% L93   Git:master  (Python) ---------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[18;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default rules.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrules.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m kind == \u001b[32m\"terrain\"\u001b[39;49m:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(thing)\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m team:\u001b[K\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(team)\u001b[6;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [(x,y)]\u001b[7;13H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"draw terrain\"\u001b[39;49m)\u001b[8;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m kind == \u001b[32m\"unit\"\u001b[39;49m:\u001b[K\u001b[9;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(thing)\u001b[K\u001b[10;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [team]\u001b[K\r\n\t        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_unit_team(team)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Unit\"\u001b[39;49m:\u001b[K\u001b[14;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[15;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\u001b[16;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[K\u001b[17;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit unit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Terrain\"\u001b[39;49m:\u001b[20;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[21;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[K\u001b[23;14H\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   81% L963\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[A\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = [(x,y)]\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Repeat\"\u001b[39;49m,\u001b[32m\"Place Unit\"\u001b[39;49m, \u001b[32m\"Place Terrain\"\u001b[39;49m,\u001b[32m\"Edit Teams\"\u001b[39;49m,\u001b[5;21H    \u001b[32m\"Unit Rules\"\u001b[39;49m, \u001b[32m\"Terrain Rules\"\u001b[39;49m,\u001b[32m\"Save Map\"\u001b[39;49m,\u001b[32m\"Back\"\u001b[39;49m]\r\n\u001b[K\n\t\u001b[8P\t\t\t\u001b[32medit menu\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[9;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_menu\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m,opt):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[12;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Repeat\"\u001b[39;49m:\u001b[K\u001b[17;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\r\n\t        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\u001b[20;13H\u001b[33mkind\u001b[39;49m,\u001b[33mthing\u001b[39;49m,team = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit\u001b[21;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m kind == \u001b[32m\"terrain\"\u001b[39;49m:\u001b[K\u001b[22;22Haction.append(thing)\u001b[23;30H\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts += [(a1,\u001b[32m\"tr\"\u001b[39;49m),(a2,\u001b[32m\"bl\"\u001b[39;49m)]\u001b[3;13H\u001b[33ma.ready\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\u001b[K\u001b[5;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\u001b[K\r\n\n\u001b[K\u001b[9;5H    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[10;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start_over()\r\n\u001b[K\n\u001b[K\u001b[13;5H\u001b[31m# This is the root state for the editor. We put the editor states           \u001b[39;49m\r\n\u001b[14;5H\u001b[31m# in the same system as the rules so that we can take advantage of          \u001b[39;49m\r\n\u001b[15;5H\u001b[31m# the \"make\" constructors.                                                  \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[18;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = coord\u001b[K\r\n\t\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = [(x,y)]\u001b[K\r\n\u001b[K\u001b[23;29H\u001b[7m78% L944\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m coord \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[4;13H\u001b[33mox\u001b[39;49m,\u001b[33moy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[-2]\u001b[5;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append((ox,oy))\u001b[6;13H\u001b[33ma\u001b[39;49m, \u001b[33md\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(ox,oy), \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[8;13H\u001b[33mstart_hp\u001b[39;49m = d.hp, a.hp\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action_attack((ox,oy),(x,y))\u001b[10;13H\u001b[33mend_hp\u001b[39;49m = d.hp, a.hp\u001b[K\u001b[12;13H\u001b[31m# Build the animation.                                              \u001b[39;49m\r\n\u001b[13;5H        \u001b[33mt1\u001b[39;49m = start_hp[0]-end_hp[0]\u001b[K\u001b[14;5H        \u001b[33mt2\u001b[39;49m = start_hp[1]-end_hp[1]\u001b[K\u001b[15;5H        \u001b[33ma1\u001b[39;49m = widgets.HPAlert(6,1,d.team.color,start_hp[0],end_hp[0],0)\u001b[K\u001b[16;5H        \u001b[33ma2\u001b[39;49m = widgets.HPAlert(6,1,a.team.color,start_hp[1],end_hp[1],t1)\r\n\t    \u001b[33mx1\u001b[39;49m,\u001b[33my1\u001b[39;49m = x,y\u001b[K\u001b[18;13H\u001b[33mx2\u001b[39;49m,\u001b[33my2\u001b[39;49m = ox,oy\u001b[K\r\n\t    \u001b[33ma1.time\u001b[39;49m = t1+t2+50\r\n\t    \u001b[33ma2.time\u001b[39;49m = t1+t2+50\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts += [(a1,\u001b[32m\"tr\"\u001b[39;49m),(a2,\u001b[32m\"bl\"\u001b[39;49m)]\u001b[22;13H\u001b[33ma.ready\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[23;30H\u001b[7m7% L925\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.pop()\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]\u001b[K\r\n\t\u001b[33mme\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\r\n\t\u001b[33mi\u001b[39;49m = 0\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m me.carrying:\u001b[K\u001b[10;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"%d %s %d%%\"\u001b[39;49m%(i, u.name, u.hp))\u001b[11;13H\u001b[33mi\u001b[39;49m += 1\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Done\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"unload\"\u001b[39;49m)\r\n\u001b[K\n\u001b[K\u001b[16;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_attacking\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[19;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = coord\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m coord \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\n\b\b\b\b\u001b[7m6% L906\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[4@\u001b[3;13H\u001b[4@\u001b[3;29H\u001b[?25lappend(opt)\r\n\t\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"unload drop\"\u001b[39;49m)\r\n\u001b[K\n\u001b[K\n\u001b[K\u001b[8;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_unload_drop\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[K\u001b[11;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]\u001b[K\r\n\t\u001b[33munit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\r\n\t\u001b[33mdropper\u001b[39;49m = \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[-1].split()[0])\u001b[16;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m coord \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[17;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(coord)\u001b[K\r\n\t    \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(*coord)\u001b[K\u001b[19;13H\u001b[33mt.unit\u001b[39;49m = unit.carrying.pop(dropper)\r\n\t    \u001b[33mt.unit.ready\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.pop()\u001b[K\n\u001b[7m4% L887\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\n\t\u001b[?25l\u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]\u001b[K\r\n\tt = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[K\r\n\tunit = t.unit\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Done\"\u001b[39;49m:\u001b[7;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[8;5H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[9;5H        \u001b[33munit.ready\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\u001b[K\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\r\n\t    \u001b[33mu\u001b[39;49m = unit.carrying[\u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(opt.split()[0])]\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (tx,ty) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [(x-1,y),(x,y+1),(x+1,y),(x,y-1)]:\r\n\t        \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(tx,ty)\u001b[17;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.name \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.terrain \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t.unit:\u001b[18;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append((tx,ty))\u001b[19;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices) == 0:\u001b[K\u001b[20;13H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"unload\"\u001b[39;49m)\r\n\t\u001b[4@\u001b[22;13H\u001b[4@\u001b[22;29Happend(opt)\u001b[23;30H\u001b[7m3% L868\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[3;9H\u001b[?25l    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\u001b[K\r\n\u001b[K\n\t\u001b[31m# Wait.                                                                 \u001b[39;49m\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Wait\"\u001b[39;49m:\u001b[K\u001b[8;13H\u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[-1]\u001b[9;13Hunit = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[10;13Hunit.ready = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[12;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Cancel\"\u001b[39;49m:\u001b[K\u001b[15;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start_over()\u001b[K\r\n\u001b[K\u001b[17;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_unload\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[20;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Nope.\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\t\u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]\u001b[K\n\u001b[C\u001b[7m2% L849\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[3;9H\u001b[?25l\u001b[33mx\u001b[39;49m,y = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]\u001b[K\r\n\tt = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\r\n\tunit = t.unit\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Done\"\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[8;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[9;13H\u001b[33munit.ready\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[10;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[13;13H\u001b[33mu\u001b[39;49m = unit.carrying[\u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(opt.split()[0])]\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[15;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m (tx,ty) \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m [(x-1,y),(x,y+1),(x+1,y),(x,y-1)]:\r\n\t\t\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(tx,ty)\u001b[17;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m t.name \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m u.terrain \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m t.unit:\u001b[K\u001b[18;5H                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append((tx,ty))\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices) == 0:\u001b[20;13H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"unload\"\u001b[39;49m)\u001b[21;13H\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[23;30H\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\r\n\t        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"unload drop\"\u001b[39;49m)\r\n\u001b[K\n\u001b[K\n\u001b[K\u001b[8;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[9;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_unload_drop\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]\u001b[K\r\n\t\u001b[33munit\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\r\n\t\u001b[33mdropper\u001b[39;49m = \u001b[1m\u001b[34mint\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[-1].split()[0])\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m coord \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[17;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(coord)\u001b[K\u001b[18;13H\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(*coord)\u001b[K\u001b[19;13H\u001b[33mt.unit\u001b[39;49m = unit.carrying.pop(dropper)\u001b[20;13H\u001b[33mt.unit.ready\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\t\u001b[4P\u001b[22;13H\u001b[4P\t\tpop()\u001b[K\n\u001b[7m4% L867\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[4P\u001b[3;13H\u001b[4P\t\t\u001b[?25lpop()\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]\r\n\t\u001b[33mme\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[8;5H    \u001b[33mi\u001b[39;49m = 0\u001b[K\u001b[9;5H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m me.carrying:\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"%d %s %d%%\"\u001b[39;49m%(i, u.name, u.hp))\u001b[11;13H\u001b[33mi\u001b[39;49m += 1\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"Done\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"unload\"\u001b[39;49m)\r\n\u001b[K\n\u001b[K\u001b[16;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_attacking\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[19;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = coord\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m coord \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\n\b\b\b\b\u001b[7m6% L886\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m coord \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[4;13H\u001b[33mox\u001b[39;49m,\u001b[33moy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[-2]\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append((ox,oy))\r\n\t    \u001b[33ma\u001b[39;49m, \u001b[33md\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(ox,oy), \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\r\n\u001b[K\n\t    \u001b[33mstart_hp\u001b[39;49m = d.hp, a.hp\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action_attack((ox,oy),(x,y))\u001b[10;13H\u001b[33mend_hp\u001b[39;49m = d.hp, a.hp\u001b[K\r\n\u001b[K\n\t    \u001b[31m# Build the animation.                                              \u001b[39;49m\r\n\t    \u001b[33mt1\u001b[39;49m = start_hp[0]-end_hp[0]\u001b[K\u001b[14;13H\u001b[33mt2\u001b[39;49m = start_hp[1]-end_hp[1]\u001b[15;13H\u001b[33ma1\u001b[39;49m = widgets.HPAlert(6,1,d.team.color,start_hp[0],end_hp[0],0)\u001b[16;5H        \u001b[33ma2\u001b[39;49m = widgets.HPAlert(6,1,a.team.color,start_hp[1],end_hp[1],t1)\u001b[K\u001b[17;5H        \u001b[33mx1\u001b[39;49m,\u001b[33my1\u001b[39;49m = x,y\u001b[K\r\n\t    \u001b[33mx2\u001b[39;49m,\u001b[33my2\u001b[39;49m = ox,oy\u001b[K\u001b[19;13H\u001b[33ma1.time\u001b[39;49m = t1+t2+50\u001b[K\r\n\t    \u001b[33ma2.time\u001b[39;49m = t1+t2+50\u001b[21;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts += [(a1,\u001b[32m\"tr\"\u001b[39;49m),(a2,\u001b[32m\"bl\"\u001b[39;49m)]\r\n\t    \u001b[33ma.ready\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\u001b[23;30H\u001b[7m7% L905\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.alerts += [(a1,\u001b[32m\"tr\"\u001b[39;49m),(a2,\u001b[32m\"bl\"\u001b[39;49m)]\r\n\t    \u001b[33ma.ready\u001b[39;49m = \u001b[35mFalse\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[5;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.commit()\u001b[K\r\n\u001b[K\n\n\u001b[K\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.start_over()\r\n\n\u001b[K\u001b[13;5H\u001b[31m# This is the root state for the editor. We put the editor states           \u001b[39;49m\r\n\u001b[14;5H\u001b[31m# in the same system as the rules so that we can take advantage of          \u001b[39;49m\r\n\u001b[15;5H\u001b[31m# the \"make\" constructors.                                                  \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[18;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = coord\u001b[K\r\n\t\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = [(x,y)]\u001b[K\r\n\u001b[K\u001b[23;30H\u001b[7m8% L924\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = [(x,y)]\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Repeat\"\u001b[39;49m,\u001b[32m\"Place Unit\"\u001b[39;49m, \u001b[32m\"Place Terrain\"\u001b[39;49m,\u001b[32m\"Edit Teams\"\u001b[39;49m,\u001b[5;13H            \u001b[32m\"Unit Rules\"\u001b[39;49m, \u001b[32m\"Terrain Rules\"\u001b[39;49m,\u001b[32m\"Save Map\"\u001b[39;49m,\u001b[32m\"Back\"\u001b[39;49m]\r\n\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit menu\"\u001b[39;49m)\u001b[9;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_menu\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m,opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[12;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[13;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[14;5H    \u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\u001b[K\u001b[16;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Repeat\"\u001b[39;49m:\u001b[K\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit:\u001b[K\u001b[18;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[K\r\n\t        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\t    \u001b[33mkind\u001b[39;49m,\u001b[33mthing\u001b[39;49m,team = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m kind == \u001b[32m\"terrain\"\u001b[39;49m:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(thing)\u001b[23;29H\u001b[7m80% L943\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m kind == \u001b[32m\"terrain\"\u001b[39;49m:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(thing)\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m team:\u001b[K\n\b\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(team)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [(x,y)]\r\n\t\u001b[8@\t\t\t\t\u001b[32mdraw terrain\"\u001b[39;49m)\u001b[8;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m kind == \u001b[32m\"unit\"\u001b[39;49m:\u001b[9;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(thing)\u001b[K\u001b[10;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [team]\r\n\t        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_unit_team(team)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Unit\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[15;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[17;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit unit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Terrain\"\u001b[39;49m:\u001b[K\u001b[20;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[K\u001b[21;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\u001b[22;22Hchoices.append(u)\u001b[K\u001b[23;30H\u001b[7m1% L962\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\u001b[3;22Hchoices.append(u)\u001b[K\u001b[4;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit terrain\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Edit Teams\"\u001b[39;49m:\u001b[K\u001b[7;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Red\"\u001b[39;49m,\u001b[32m\"Blue\"\u001b[39;49m,\u001b[32m\"Green\"\u001b[39;49m,\u001b[32m\"Yellow\"\u001b[39;49m,\u001b[32m\"Cyan\"\u001b[39;49m,\u001b[8;13H                \u001b[32m\"Magenta\"\u001b[39;49m,\u001b[32m\"Done\"\u001b[39;49m]\u001b[9;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x,y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles_xy():\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y):\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(x,y)\u001b[K\r\n\t\t\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\r\n\t        \u001b[33mt.team\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[14;18Hgrid.teams = []\u001b[K\u001b[15;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit teams\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Unit Rules\"\u001b[39;49m:\u001b[K\u001b[18;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\u001b[20;13H\u001b[4@\u001b[20;29H.append(u)\u001b[K\u001b[21;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Unit)\"\u001b[39;49m)\u001b[K\u001b[22;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule unit\"\u001b[39;49m)\u001b[23;30H\u001b[7m3% L981\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Unit)\"\u001b[39;49m)\u001b[K\u001b[3;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule unit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Terrain Rules\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[7;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[K\u001b[9;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Terrain)\"\u001b[39;49m)\u001b[10;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule terrain\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Save Map\"\u001b[39;49m:\u001b[K\u001b[13;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams[:]:\u001b[14;13H    kill = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[15;13H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m c \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles():\u001b[K\u001b[16;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c.unit \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m c.unit.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m t: kill = \u001b[35mFalse\u001b[39;49m\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[32m\"hq\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m c.properties: kill = \u001b[35mFalse\u001b[39;49m\u001b[18;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m kill:\u001b[K\u001b[19;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams.remove(t)\u001b[K\u001b[20;13H\u001b[4P\t\t = {\u001b[32m\"Map Name\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m:\u001b[32m\"\"\u001b[39;49m,\u001b[32m\"type\"\u001b[39;49m:\u001b[32m\"str 15\"\u001b[39;49m}}\u001b[21;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"save map\"\u001b[39;49m)\r\n\u001b[K\u001b[23;30H\u001b[7m4% L1000\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"save map\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Back\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\u001b[K\u001b[7;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_teams\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[10;14H\u001b[1m\u001b[36maise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.remove(opt)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Done\"\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams) == 0:\u001b[14;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(opt)\u001b[15;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit teams\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Done\"\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams) > 0:\u001b[K\u001b[17;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\b\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_team({\u001b[32m\"name\"\u001b[39;49m:opt, \u001b[32m\"color\"\u001b[39;49m:opt[0].lower()})\u001b[20;18Hgrid.teams.append(t)\u001b[K\n\b\u001b[32medit teams\"\u001b[39;49m)\u001b[23;30H\u001b[7m6% L1019\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Unit)\"\u001b[39;49m)\u001b[K\u001b[3;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule unit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Terrain Rules\"\u001b[39;49m:\u001b[K\u001b[6;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[7;5H        \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\u001b[K\u001b[8;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Terrain)\"\u001b[39;49m)\u001b[10;14H\u001b[1m\u001b[36meturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule terrain\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Save Map\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams[:]:\u001b[K\u001b[14;13H    kill = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[15;13H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m c \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles():\u001b[K\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c.unit \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m c.unit.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m t: kill = \u001b[35mFalse\u001b[39;49m\u001b[17;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[32m\"hq\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m c.properties: kill = \u001b[35mFalse\u001b[39;49m\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m kill:\u001b[19;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams.remove(t)\u001b[K\u001b[20;18Hchoices = {\u001b[32m\"Map Name\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m:\u001b[32m\"\"\u001b[39;49m,\u001b[32m\"type\"\u001b[39;49m:\u001b[32m\"str 15\"\u001b[39;49m}}\u001b[21;37H\u001b[32msave map\"\u001b[39;49m)\u001b[K\u001b[23;30H\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\u001b[3;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[K\u001b[4;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit terrain\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Edit Teams\"\u001b[39;49m:\u001b[7;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Red\"\u001b[39;49m,\u001b[32m\"Blue\"\u001b[39;49m,\u001b[32m\"Green\"\u001b[39;49m,\u001b[32m\"Yellow\"\u001b[39;49m,\u001b[32m\"Cyan\"\u001b[39;49m,\r\n\t\t            \u001b[32m\"Magenta\"\u001b[39;49m,\u001b[32m\"Done\"\u001b[39;49m]\u001b[9;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x,y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles_xy():\u001b[10;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y):\u001b[K\u001b[11;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(x,y)\r\n\t        \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[13;13H    \u001b[33mt.team\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[14;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams = []\u001b[15;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit teams\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Unit Rules\"\u001b[39;49m:\u001b[K\u001b[18;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[19;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\u001b[20;13H\u001b[4@\u001b[20;29H.append(u)\u001b[K\u001b[21;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Unit)\"\u001b[39;49m)\u001b[K\u001b[22;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule unit\"\u001b[39;49m)\u001b[23;30H\u001b[7m3% L1001\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m kind == \u001b[32m\"terrain\"\u001b[39;49m:\u001b[K\u001b[3;22Haction.append(thing)\u001b[4;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m team:\u001b[K\n\b\b\b\b\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(team)\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [(x,y)]\u001b[7;13H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"draw terrain\"\u001b[39;49m)\u001b[K\u001b[8;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m kind == \u001b[32m\"unit\"\u001b[39;49m:\u001b[K\u001b[9;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(thing)\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [team]\u001b[K\r\n\t\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.process_unit_team(team)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Unit\"\u001b[39;49m:\u001b[14;18Hchoices = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[15;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit unit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Terrain\"\u001b[39;49m:\u001b[K\u001b[20;13H\u001b[4P\t\t = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[21;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\u001b[22;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[K\u001b[23;30H\u001b[7m1% L982 \u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = [(x,y)]\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Repeat\"\u001b[39;49m,\u001b[32m\"Place Unit\"\u001b[39;49m, \u001b[32m\"Place Terrain\"\u001b[39;49m,\u001b[32m\"Edit Teams\"\u001b[39;49m,\u001b[5;21H    \u001b[32m\"Unit Rules\"\u001b[39;49m, \u001b[32m\"Terrain Rules\"\u001b[39;49m,\u001b[32m\"Save Map\"\u001b[39;49m,\u001b[32m\"Back\"\u001b[39;49m]\r\n\u001b[K\n\t\u001b[8P\t\t\t\u001b[32medit menu\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[9;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_menu\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m,opt):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[12;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Repeat\"\u001b[39;49m:\u001b[K\u001b[17;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\r\n\t        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\u001b[20;13H\u001b[33mkind\u001b[39;49m,\u001b[33mthing\u001b[39;49m,team = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit\u001b[21;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m kind == \u001b[32m\"terrain\"\u001b[39;49m:\u001b[K\u001b[22;22Haction.append(thing)\u001b[23;30H\u001b[7m0% L963\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;14H\u001b[?25lchoices = []\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Repeat\"\u001b[39;49m:\u001b[K\u001b[6;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[K\r\n\t\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\u001b[9;5H        \u001b[33mkind\u001b[39;49m,\u001b[33mthing\u001b[39;49m,team = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit\u001b[K\u001b[10;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m kind == \u001b[32m\"terrain\"\u001b[39;49m:\u001b[K\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(thing)\u001b[12;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m team:\u001b[K\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(team)\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [(x,y)]\r\n\t\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"draw terrain\"\u001b[39;49m)\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m kind == \u001b[32m\"unit\"\u001b[39;49m:\u001b[17;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(thing)\u001b[18;22Hchoices = [team]\u001b[19;29Hprocess_unit_team(team)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Unit\"\u001b[39;49m:\u001b[K\u001b[22;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[K\u001b[23;30H\u001b[7m1% L964\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lMark set\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [(x,y)]\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Unit\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[4;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[6;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit unit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Place Terrain\"\u001b[39;49m:\u001b[K\u001b[9;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[K\u001b[10;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\u001b[11;22Hchoices.append(u)\u001b[K\u001b[12;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit terrain\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Edit Teams\"\u001b[39;49m:\u001b[K\u001b[15;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"Red\"\u001b[39;49m,\u001b[32m\"Blue\"\u001b[39;49m,\u001b[32m\"Green\"\u001b[39;49m,\u001b[32m\"Yellow\"\u001b[39;49m,\u001b[32m\"Cyan\"\u001b[39;49m,\u001b[16;13H                \u001b[32m\"Magenta\"\u001b[39;49m,\u001b[32m\"Done\"\u001b[39;49m]\u001b[17;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x,y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles_xy():\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y):\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(x,y)\u001b[K\r\n\t\tt = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\r\n\t        t.team = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[22;18Hgrid.teams = []\u001b[K\n\b\b\b\u001b[7m2% L973\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l        t.team = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[3;18Hgrid.teams = []\u001b[K\u001b[4;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit teams\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Unit Rules\"\u001b[39;49m:\u001b[K\u001b[7;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"units\"\u001b[39;49m]:\u001b[9;13H\u001b[4@\u001b[9;29H.append(u)\u001b[K\u001b[10;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Unit)\"\u001b[39;49m)\u001b[K\u001b[11;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule unit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Terrain Rules\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[15;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data[\u001b[32m\"rules\"\u001b[39;49m][\u001b[32m\"terrain\"\u001b[39;49m]:\u001b[K\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(u)\u001b[K\u001b[17;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(\u001b[32m\"(New Terrain)\"\u001b[39;49m)\u001b[18;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"rule terrain\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Save Map\"\u001b[39;49m:\u001b[K\u001b[21;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams[:]:\u001b[22;13H    kill = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[23;30H\u001b[7m4% L992\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams[:]:\u001b[3;13H    kill = \u001b[35mTrue\u001b[39;49m\u001b[K\u001b[4;13H    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m c \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.all_tiles():\u001b[K\u001b[5;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c.unit \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m c.unit.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m t: kill = \u001b[35mFalse\u001b[39;49m\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c.team \u001b[1m\u001b[36mis\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[32m\"hq\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m c.properties: kill = \u001b[35mFalse\u001b[39;49m\u001b[7;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m kill:\u001b[K\u001b[8;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams.remove(t)\u001b[K\u001b[9;13H\u001b[4P\t\t = {\u001b[32m\"Map Name\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m:\u001b[32m\"\"\u001b[39;49m,\u001b[32m\"type\"\u001b[39;49m:\u001b[32m\"str 15\"\u001b[39;49m}}\u001b[10;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"save map\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Back\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\u001b[K\u001b[15;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_teams\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[18;14H\u001b[1m\u001b[36maise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.remove(opt)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Done\"\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams) == 0:\u001b[22;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(opt)\u001b[23;30H\u001b[7m5% L1011\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Done\"\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams) == 0:\u001b[3;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(opt)\u001b[4;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit teams\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m opt == \u001b[32m\"Done\"\u001b[39;49m \u001b[1m\u001b[36mand\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams) > 0:\u001b[K\u001b[6;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\n\bt = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_team({\u001b[32m\"name\"\u001b[39;49m:opt, \u001b[32m\"color\"\u001b[39;49m:opt[0].lower()})\u001b[9;18Hgrid.teams.append(t)\u001b[K\n\b\u001b[32medit teams\"\u001b[39;49m)\r\n\n\u001b[K\u001b[13;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[15;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[16;5H        \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\t\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"(None)\"\u001b[39;49m:\u001b[K\u001b[23;30H\u001b[7m7% L1030\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;20r\u001b[13;1H\u001b[2L\u001b[1;24r\u001b[2;1H\u001b[K\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"(None)\"\u001b[39;49m:\u001b[K\u001b[4;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\u001b[K\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(x,y)\u001b[K\u001b[6;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\u001b[K\r\n\t    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[31m# Before moving forward, we need to know the team.                      \u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\u001b[12;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(t.name)\r\n        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"unit team\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\n\t\t\u001b[1m\u001b[34munit_team\u001b[0m\u001b[39;49m\u001b[21;9H\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\n\b\b\u001b[7m8% L1049\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t:\u001b[K\n\b\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t.unit:\u001b[K\u001b[7;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(x,y\u001b[8;13H\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_unit({\u001b[32m\"name\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]})\r\n\t    \u001b[33mteam\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m q \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q.name == opt\u001b[12;13H        team = q\u001b[K\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.add_unit(u, team, x, y)\u001b[14;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit = \u001b[32m\"unit\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1],opt\r\n\u001b[K\u001b[16;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\u001b[K\u001b[18;5H\u001b[31m# Editing terrain is slightly different. After picking the type of          \u001b[39;49m\r\n\u001b[19;5H\u001b[31m# terrain you want, you pick another coordinate, and a box is filled        \u001b[39;49m\r\n\u001b[20;5H\u001b[31m# between the two endpoints.                                                \u001b[39;49m\r\n\u001b[21;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_terrain\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[23;29H\u001b[7m90% L1068\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;5H\u001b[?25l\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_edit_terrain\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[4;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\r\n\t\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [(x,y)]\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt == \u001b[32m\"(None)\"\u001b[39;49m:\u001b[K\u001b[12;13H\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"draw terrain\"\u001b[39;49m)\r\n\u001b[K\n\tt = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_cell({\u001b[32m\"name\"\u001b[39;49m:opt})\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"capture\"\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m t.properties:\r\n\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [\u001b[32m\"(None)\"\u001b[39;49m]\u001b[K\u001b[17;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m t \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\u001b[18;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices.append(t.name)\u001b[K\u001b[19;5H        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"terrain team\"\u001b[39;49m)\u001b[K\u001b[20;5H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"draw terrain\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[22;5H\u001b[31m# If the tile in question is capturable, then we need to pick the           \u001b[39;49m\r\n\u001b[23;30H\u001b[7m1% L1087\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m90\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m100\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\u001b[3;5H\u001b[?25l\u001b[31m# If the tile in question is capturable, then we need to pick the           \u001b[39;49m\r\n\u001b[4;5H\u001b[31m# team.                                                                     \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_terrain_team\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[8;14Hchoices = []\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"draw terrain\"\u001b[39;49m)\r\n\u001b[K\u001b[13;5H\u001b[31m# Now, pick the endpoint.                                                   \u001b[39;49m\r\n\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_draw_terrain\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\u001b[15;12H\u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[16;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\r\n\t\u001b[33mex\u001b[39;49m,\u001b[33mey\u001b[39;49m = coord\u001b[K\r\n\t\u001b[33mox\u001b[39;49m,\u001b[33moy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m ex < ox:\u001b[K\u001b[21;13H\u001b[33mex\u001b[39;49m,\u001b[33mox\u001b[39;49m = ox,ex\u001b[22;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m ey < oy:\u001b[K\u001b[23;30H\u001b[7m3% L1106\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;36H\u001b[?25l\u001b[7m10\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;37H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l(]\r\n\tx,y\u001b[8;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx]\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,]\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly]\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[17;9H\u001b[?25lex,ey\r\n\tox,oy\n\n\n\bex,ox\u001b[8;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)]\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m\u001b[A\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[8;30H\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/rules.py...\u001b[8;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/rules.py\u001b[K\u001b[8;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[8;30H\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default grid.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[17;9H\u001b[?25l\u001b[33mex\u001b[39;49m,\u001b[33mey\u001b[39;49m\r\n\t\u001b[33mox\u001b[39;49m,\u001b[33moy\u001b[39;49m\n\n\n\b\u001b[33mex\u001b[39;49m,\u001b[33mox\u001b[39;49m\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25llanding.py\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lshell.py\u001b[K\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25llanding.py\u001b[24;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[2;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor += 1\u001b[3;5H        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\u001b[K\u001b[4;5H        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\u001b[5;5H            \u001b[33mdata\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in):\u001b[7;13H        \u001b[33mi\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor - \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in)\r\n\t            \u001b[33mdata\u001b[39;49m = storage.read(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined[i])\r\n\t        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t            \u001b[33mi\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\r\n\t            \u001b[33mdata\u001b[39;49m = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in[i])\r\n\t\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"edit\"\u001b[39;49m,json.loads(data)\u001b[13;5H    \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[15;5H\u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\r\n\t    draw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[19;13Hdraw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\r\n\u001b[K\u001b[21;13H\u001b[31m# Todo... correctly scroll.                                         \u001b[39;49m\r\n\t    i = 0\u001b[K\u001b[23;4H\u001b[7mU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   34% L38    (Python) -----------\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[12;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m29\u001b[0m\u001b[39;49m\u001b[27m\u001b[3;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[2;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.options = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in = storage.list_datafiles(\u001b[32m\"maps\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined = storage.list_files(\u001b[32m\"maps\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[K\u001b[9;5H\u001b[31m# Here we handle input based on our current state.                          \u001b[39;49m\r\n\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\u001b[12;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\u001b[K\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor += 1\u001b[14;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\u001b[15;5H        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\u001b[16;5H            \u001b[33mdata\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in):\u001b[18;13H        \u001b[33mi\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor - \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in)\u001b[19;13H        \u001b[33mdata\u001b[39;49m = storage.read(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined[i])\r\n\t\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[21;13H        \u001b[33mi\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[K\u001b[22;13H        \u001b[33mdata\u001b[39;49m = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in[i])\u001b[23;29H\u001b[7m16% L27\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m30\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[21d\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\b\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[22;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor += 1\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\r\n\t        \u001b[33mdata\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in):\u001b[7;21H\u001b[33mi\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor - \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in)\u001b[8;21H\u001b[33mdata\u001b[39;49m = storage.read(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined[i])\u001b[9;5H            \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[10;5H                \u001b[33mi\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\r\n\t            \u001b[33mdata\u001b[39;49m = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in[i])\u001b[12;13H    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"edit\"\u001b[39;49m,json.loads(data)\r\n\t\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[15;5H\u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\u001b[18;13Hdraw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[K\u001b[19;13Hdraw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[21;13H\u001b[31m# Todo... correctly scroll.                                         \u001b[39;49m\r\n\u001b[22;13Hi = 0\u001b[K\u001b[23;29H\u001b[7m34% L38\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\u001b[K\n\u001b[K\n\u001b[?25l\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mLanding\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, w, h):\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w = w\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h = h\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"home\"\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.options = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in = storage.list_datafiles(\u001b[32m\"maps\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined = storage.list_files(\u001b[32m\"maps\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = \u001b[35mNone\u001b[39;49m\r\n\u001b[K\n\u001b[K\u001b[17;5H\u001b[31m# Here we handle input based on our current state.                          \u001b[39;49m\r\n\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\u001b[20;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\u001b[21;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor += 1\u001b[K\u001b[22;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\u001b[23;29H\u001b[7m10% L29\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor += 1\u001b[3;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[5;5H            \u001b[33mdata\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in):\r\n\t            \u001b[33mi\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor - \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in)\u001b[8;21H\u001b[33mdata\u001b[39;49m = storage.read(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined[i])\r\n\t        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t            \u001b[33mi\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\r\n\t            \u001b[33mdata\u001b[39;49m = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in[i])\r\n\t        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"edit\"\u001b[39;49m,json.loads(data)\u001b[K\r\n\t\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[15;5H\u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[17;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\u001b[18;5H        draw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\r\n\t    draw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\r\n\u001b[K\u001b[21;13H\u001b[31m# Todo... correctly scroll.                                         \u001b[39;49m\r\n\u001b[22;13Hi = 0\u001b[K\u001b[23;29H\u001b[7m34\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m30\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\u001b[?25ldata)\u001b[K\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25ldata)\u001b[K\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lata)\u001b[K\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25ldata)\u001b[K\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25ldata)\u001b[K\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25ldata)\u001b[K\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25ldata)\u001b[K\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25ldata)\u001b[K\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25ldata)\u001b[K\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25ldata)\u001b[K\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25ldata)\u001b[K\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25ldata)\u001b[K\u001b[23;30H\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32mdata)                                               \u001b[39;49m\r\n\u001b[32m        pass                                                                    \u001b[39;49m\r\n\u001b[12;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32mdata) \u001b[39;49m\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32mdata) \u001b[39;49m\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mata) \u001b[39;49m\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32mdata) \u001b[39;49m\r\t\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25ldata)\u001b[K\r\n        \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\u001b[A\t\t\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\t\u001b[?25lreturndata)\u001b[K\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25ldata)\u001b[K\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25ldata)\u001b[K\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25ldata)\u001b[K\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25ldata)\u001b[K\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25ldata)\u001b[K\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25ldata)\u001b[K\r\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lsdata)\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ledata)\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lldata)\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lfdata)\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.data)\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lmdata)\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ladata)\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lpdata)\r\t\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_data)\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lsdata)\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ledata)\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lldata)\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ledata)\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lcdata)\u001b[23;30H\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[12d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ltdata)\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lidata)\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lodata)\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lndata)\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l data)\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l=data)\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l data)\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;43H\b\u001b[K\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[12;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[12;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[13;1H\u001b[1L\u001b[1;24r\u001b[13;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   34% L39\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lM\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l[)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l])\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32m\"])                                   \u001b[39;49m\r\n\u001b[32m        pass                                                                    \u001b[39;49m\r\n\u001b[13;44H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[32m    # Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[32m    def draw(self, x, y):                                                       \u001b[39;49m\r\n\u001b[32m        if self.state == \"\u001b[39;49mhome\u001b[32m\":                                                \u001b[39;49m\r\n\u001b[32m            draw.string(1,1,\"\u001b[39;49mWelcome to Rules of War!\u001b[32m\")                         \u001b[39;49m\r\n\u001b[32m            draw.string(1,3,\"\u001b[39;49mPlease select a \u001b[1m\u001b[34mmap\u001b[0m\u001b[39;49m!\u001b[32m\")                             \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[32m            # Todo... correctly scroll.                                         \u001b[39;49m\r\n\u001b[13;44H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mP])\u001b[39;49m\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ml])\u001b[39;49m\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ma])\u001b[39;49m\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32my])\u001b[39;49m\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m])\u001b[K\r\n        \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\u001b[13;49H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,])\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"])                            \u001b[39;49m\r\n\u001b[32m        pass                                                                    \u001b[39;49m\r\n\u001b[13;51H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32md])\u001b[39;49m\u001b[23;30H\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m]) \u001b[39;49m\u001b[23;30H\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;51H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mE])\u001b[39;49m\u001b[23;30H\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;52H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32md])\u001b[39;49m\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mi])\u001b[39;49m\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt])\u001b[39;49m\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m])\u001b[K\r\n        \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\u001b[13;56H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,])\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"])                     \u001b[39;49m\r\n\u001b[32m        pass                                                                    \u001b[39;49m\r\n\u001b[13;58H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mB])\u001b[39;49m\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ma])\u001b[39;49m\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mc])\u001b[39;49m\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mk])\u001b[39;49m\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m])\u001b[K\r\n        \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\u001b[13;63H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[13;63H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[13;63H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;63H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;63H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;63H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;57H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;54H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m29\u001b[0m\u001b[39;49m\u001b[27m\u001b[3;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[2;47H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.options = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in = storage.list_datafiles(\u001b[32m\"maps\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined = storage.list_files(\u001b[32m\"maps\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[K\u001b[9;5H\u001b[31m# Here we handle input based on our current state.                          \u001b[39;49m\r\n\u001b[10;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\u001b[12;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\u001b[13;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor += 1\u001b[K\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\r\n                \u001b[33mdata\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in):\u001b[K\r\n                    \u001b[33mi\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor - \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in)\u001b[K\r\n                    \u001b[33mdata\u001b[39;49m = storage.read(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined[i])\u001b[K\r\n                \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n                    \u001b[33mi\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[K\r\n                    \u001b[33mdata\u001b[39;49m = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in[i])\u001b[K\u001b[23;29H\u001b[7m16% L27\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;55H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[11;1H\u001b[1L\u001b[1;24r\u001b[11;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   16% L26\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\t\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[23;30H\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;16H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\n\n\n\n\n\n\t\u001b[?25ldata\n\ni\n\bdata\n\n\b\b\b\bi\u001b[11;16H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\b\b\b\u001b[?25lei\u001b[1@f\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36meli\u001b[0m\u001b[39;49m\u001b[1@\u001b[1m\u001b[36mf\u001b[0m\u001b[39;49m\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;11H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;11H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;11H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;11H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[6;34H\u001b[1;22r\u001b[13;1H\u001b[1L\u001b[1;24r\u001b[9;1H\u001b[K\u001b[10;5H\u001b[?25l\u001b[31m# Here we handle input based on our current state.                          \u001b[39;49m\r\n\u001b[11;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu\u001b[K\r\n        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\u001b[23d\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lN\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[35mNone\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[7;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[7;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lL\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[14;1H\u001b[1L\u001b[1;24r\u001b[13;1H\u001b[K\n\u001b[?25l        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\u001b[23d\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[13;13H\u001b[?25lq\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\u001b[?25l\u001b[33mq\u001b[39;49m =\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[24;1H\u001b[?25lAuto-saving...\u001b[13;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[13;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[13;17H\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[15;1H\u001b[1L\u001b[1;24r\u001b[14;1H\u001b[K\n\u001b[?25l        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\u001b[23d\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[14;13H\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l\u001b[32m\"                                                                \u001b[39;49m\r\n\u001b[32m        elif self.state == \"\u001b[39;49mhome\u001b[32m\":                                              \u001b[39;49m\r\n\u001b[14;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mq\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\u001b[14;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32m\"                                                         \u001b[39;49m\r\n\u001b[32m        elif self.state == \"\u001b[39;49mhome\u001b[32m\":                                              \u001b[39;49m\r\n\u001b[14;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l\u001b[32m            if c == \"\u001b[39;49mup\u001b[32m\": self.cursor -= 1                                      \u001b[39;49m\r\n\u001b[32m            elif c == \"\u001b[39;49mdown\u001b[32m\": self.cursor += 1                                  \u001b[39;49m\r\n\u001b[32m            elif c == \"\u001b[39;49mq\u001b[32m\": return \"\u001b[39;49m\u001b[35mquit\u001b[39;49m\u001b[32m\"                                        \u001b[39;49m\r\n\u001b[32m            elif c == \"\u001b[39;49menter\u001b[32m\":                                                  \u001b[39;49m\r\n\u001b[32m                data = \"\"                                                       \u001b[39;49m\r\n\u001b[32m                if self.cursor >= len(self.built_in):                           \u001b[39;49m\r\n\u001b[32m                    i = self.cursor - len(self.built_in)                        \u001b[39;49m\r\n\u001b[14;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mE\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\u001b[14;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[16;1H\u001b[1L\u001b[1;24r\u001b[15;1H\u001b[K\n\u001b[?25l        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\u001b[23;34H\u001b[7m30\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\t\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l\u001b[32m\"                                                        \u001b[39;49m\r\n\u001b[32m        elif self.state == \"\u001b[39;49mhome\u001b[32m\":                                              \u001b[39;49m\r\n\u001b[15;25H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32md\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mi\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\u001b[15;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor += 1\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\r\n                data = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in):\u001b[K\u001b[15;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l        data = \u001b[32m\"\"\u001b[39;49m\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in):\r\n\t            i = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor - \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in)\r\n\t            data = storage.read(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined[i])\r\n\t        \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t            i = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[8;21Hdata = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in[i])\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = data\u001b[10;5H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = widgets.Menu([\u001b[32m\"Play\"\u001b[39;49m,\u001b[32m\"Edit\"\u001b[39;49m,\u001b[32m\"Back\"\u001b[39;49m])\u001b[K\u001b[11;5H    \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[13;5H\u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\r\n\t    draw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[17;13Hdraw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\r\n\u001b[K\u001b[19;13H\u001b[31m# Todo... correctly scroll.                                         \u001b[39;49m\r\n\u001b[20;13Hi = 0\u001b[K\n\b\b\b\b\bdraw.string(40,1,\u001b[32m\"Built-in Maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[22;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in:\u001b[K\u001b[23;29H\u001b[7m43% L36\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.options = []\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in = storage.list_datafiles(\u001b[32m\"maps\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined = storage.list_files(\u001b[32m\"maps\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = \u001b[35mNone\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[K\u001b[10;5H\u001b[31m# Here we handle input based on our current state.                          \u001b[39;49m\r\n\u001b[11;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu:\u001b[13;5H        \u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\u001b[K\u001b[14;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"q\"\u001b[39;49m == \u001b[32m\"Edit\"\u001b[39;49m:\r\n\t        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"edit\"\u001b[39;49m,\u001b[K\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\u001b[17;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\u001b[K\u001b[18;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor += 1\u001b[19;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\u001b[K\u001b[20;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[21;13H    data = \u001b[32m\"\"\u001b[39;49m\u001b[K\u001b[22;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in):\u001b[23;29H\u001b[7m15\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lMark set\u001b[15;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [(x,y)]\u001b[23;30H\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;69H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[15;68H\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[C\b\b\b\u001b[K\u001b[C\b\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\b\b\b\u001b[?25lsel\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[15;31H\u001b[K\t\t\t\b\b\b\b\b\b\b\b\u001b[23;30H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\u001b[?25lj\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[23;30H\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;41H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[34mmap\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25lmaps\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25l\u001b[1m\u001b[34mmap\u001b[0m\u001b[39;49m\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25lmap_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\r\t\t\t\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[15;61H\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[15;61H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[15;61H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;61H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[16;1H\u001b[1L\u001b[1;24r\u001b[24;1H\u001b[K\u001b[16d\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   14% L31\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\b\b\b\b\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l\u001b[32m\"                                                                \u001b[39;49m\r\n\u001b[32m        elif self.state == \"\u001b[39;49mhome\u001b[32m\":                                              \u001b[39;49m\r\n\u001b[16;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mq\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m'\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\u001b[16;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32m\"                                                         \u001b[39;49m\r\n\u001b[32m        elif self.state == \"\u001b[39;49mhome\u001b[32m\":                                              \u001b[39;49m\r\n\u001b[16;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l\u001b[32m            if c == \"\u001b[39;49mup\u001b[32m\": self.cursor -= 1                                      \u001b[39;49m\r\n\u001b[32m            elif c == \"\u001b[39;49mdown\u001b[32m\": self.cursor += 1                                  \u001b[39;49m\r\n\u001b[32m            elif c == \"\u001b[39;49mq\u001b[32m\": return \"\u001b[39;49m\u001b[35mquit\u001b[39;49m\u001b[32m\"                                        \u001b[39;49m\r\n\u001b[32m            elif c == \"\u001b[39;49menter\u001b[32m\":                                                  \u001b[39;49m\r\n\u001b[32m                data = \"\"                                                       \u001b[39;49m\r\n\u001b[16;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mP\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ml\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32my\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\u001b[16;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor += 1\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\r\n                data = \u001b[32m\"\"\u001b[39;49m\u001b[K\u001b[16;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[15;61H\u001b[23;34H\u001b[?25l\u001b[7m29\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[17;1H\u001b[1L\u001b[1;24r\u001b[15;1H\u001b[K\u001b[16;13H\u001b[?25l    \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"edit\"\u001b[39;49m,json.loads(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection)\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"q\"\u001b[39;49m == \u001b[32m\"Play\"\u001b[39;49m\u001b[K\u001b[23;34H\u001b[7m30\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lN\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[35mNone\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;22r\u001b[17;1H\u001b[1M\u001b[1;24r\u001b[15;17H\u001b[?25l\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"edit\"\u001b[39;49m,json.loads(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection)\u001b[16;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"q\"\u001b[39;49m == \u001b[32m\"Play\"\u001b[39;49m\u001b[K\u001b[22;1H                data = \u001b[32m\"\"\u001b[39;49m\u001b[K\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m29\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[13;42H\u001b[1;22r\u001b[16;1H\u001b[1L\u001b[1;24r\u001b[14;1H\u001b[K\u001b[15;13H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"q\"\u001b[39;49m == \u001b[32m\"Edit\"\u001b[39;49m:\u001b[K\r\n                \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"edit\"\u001b[39;49m,json.loads(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection)\u001b[K\u001b[23;35H\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[14;13H\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\r\u001b[K\u001b[14;13H\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lq\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lN\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[35mNone\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[14;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[14;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;34H\u001b[?25l\u001b[7m30\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23d\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[19;1H\u001b[1L\u001b[1;24r\u001b[18;1H\u001b[K\n\u001b[?25l        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\n\n\n\n\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\t\u001b[?25l\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[24;1H\u001b[?25lAuto-saving...\u001b[18;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[18;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[18;23H\u001b[?25lE\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[18;23H\u001b[?25l\u001b[32mException\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[32m\")                                              \u001b[39;49m\r\n\u001b[32m        elif self.state == \"\u001b[39;49mhome\u001b[32m\":                                              \u001b[39;49m\r\n\u001b[18;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mN)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mo)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m )\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mh)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mr)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m )\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32my)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m.)\u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\u001b[A\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[18;49H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[18;49H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;49H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[18;50H\u001b[1;22r\u001b[19;1H\u001b[1L\u001b[1;24r\u001b[19;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   14% L34\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\b\b\b\b\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25l\u001b[32m\"                                                                \u001b[39;49m\r\n\u001b[32m        elif self.state == \"\u001b[39;49mhome\u001b[32m\":                                              \u001b[39;49m\r\n\u001b[19;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mq\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\u001b[19;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32m\"                                                         \u001b[39;49m\r\n\u001b[32m        elif self.state == \"\u001b[39;49mhome\u001b[32m\":                                              \u001b[39;49m\r\n\u001b[19;24H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mB\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ma\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mc\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mk\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l\u001b[32m            if c == \"\u001b[39;49mup\u001b[32m\": self.cursor -= 1                                      \u001b[39;49m\r\n\u001b[32m            elif c == \"\u001b[39;49mdown\u001b[32m\": self.cursor += 1                                  \u001b[39;49m\r\n\u001b[19;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[?25lAuto-saving...\u001b[19;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[19;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[K\u001b[19;28H\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\u001b[19;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[21;1H\u001b[1L\u001b[1;24r\u001b[20;1H\u001b[K\n\u001b[?25l        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\n\n\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;30H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\u001b[K\u001b[20;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1m\u001b[34mmap\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25lmaps\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25l\u001b[1m\u001b[34mmap\u001b[0m\u001b[39;49m\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25lmap_\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lN\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[35mNone\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\u001b[K\n\t\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\n\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\b\b\b\b\r\t\b\b\b\b\r\t\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\u001b[23;35H\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[20;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[20;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[A\u001b[A\b\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[22;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l    \u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"q\"\u001b[39;49m == \u001b[32m\"Edit\"\u001b[39;49m:\u001b[K\r\n\t        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"edit\"\u001b[39;49m,json.loads(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection)\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"q\"\u001b[39;49m == \u001b[32m\"Play\"\u001b[39;49m:\u001b[K\r\n\t        \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Not there yet.\"\u001b[39;49m)\u001b[8;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"q\"\u001b[39;49m == \u001b[32m\"Back\"\u001b[39;49m:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = \u001b[35mNone\u001b[39;49m\u001b[10;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\u001b[11;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor += 1\u001b[13;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\u001b[K\u001b[14;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\u001b[15;13H    data = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in):\u001b[K\u001b[17;13H        i = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor - \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in)\r\n\t\t    data = storage.read(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined[i])\u001b[19;13H    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t\t    i = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[K\r\n\t            data = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in[i])\u001b[22;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = data\u001b[K\u001b[23;29H\u001b[7m27% L38\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23d\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[9;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py\r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[2d Welcome to Rules of War!\u001b[2;41H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mBuilt-in Maps\u001b[3;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault.json\u001b[4;2H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mPlease select a map!\u001b[4;41Hdefault1.json\u001b[6;41H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mUser-generated maps\u001b[7;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mpotato.json\u001b[8;41Hfoo.json\u001b[3;41Hdefault.json\u001b[4;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\u001b[8;49H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 86, in run\r\n    gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 89, in refresh\r\n    if gfx: return gfx.refresh()\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 104, in refresh\r\n    curses.napms(20)\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n            \u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"q\"\u001b[39;49m == \u001b[32m\"Edit\"\u001b[39;49m:\u001b[K\r\n                \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"edit\"\u001b[39;49m,json.loads(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection)\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"q\"\u001b[39;49m == \u001b[32m\"Play\"\u001b[39;49m:\u001b[K\r\n                \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Not there yet.\"\u001b[39;49m)\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"q\"\u001b[39;49m == \u001b[32m\"Back\"\u001b[39;49m:\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = \u001b[35mNone\u001b[39;49m\u001b[K\r\n        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor += 1\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\r\n                data = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in):\u001b[K\r\n                    i = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor - \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in)\u001b[K\r\n                    data = storage.read(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined[i])\u001b[K\r\n                \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n                    i = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[K\r\n                    data = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in[i])\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = data\u001b[K\r\n\u001b[7m-UUU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   27% L35    (Python) --------------------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[9;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l        data = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in[i])\u001b[3;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = data\u001b[4;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = widgets.Menu([\u001b[32m\"Play\"\u001b[39;49m,\u001b[32m\"Edit\"\u001b[39;49m,\u001b[32m\"Back\"\u001b[39;49m])\r\n\t\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[7;5H\u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\r\n\t    draw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[11;13Hdraw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\r\n\u001b[K\u001b[13;13H\u001b[31m# Todo... correctly scroll.                                         \u001b[39;49m\r\n\u001b[14;13Hi = 0\u001b[K\n\b\b\b\b\bdraw.string(40,1,\u001b[32m\"Built-in Maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[16;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in:\u001b[K\r\n\t\tcol = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\u001b[K\r\n\t\tdraw.string(40,2+i,m,col)\r\n\t\t\u001b[33mi\u001b[39;49m += 1\u001b[K\u001b[21;13Hdraw.string(40,3+i,\u001b[32m\"User-generated maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[K\u001b[22;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined:\u001b[K\u001b[23;29H\u001b[7m60% L47\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25ldraw.string(40,3+i,\u001b[32m\"User-generated maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[K\u001b[3;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined:\u001b[K\r\n\t\t\u001b[33mcol\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\r\n\t\tdraw.string(40,4+i,m,col)\u001b[7;5H            i += 1\u001b[K\r\n\u001b[K\n\u001b[K\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m:\u001b[K\u001b[11;13H\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L66\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l        data = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in[i])\u001b[3;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = data\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = widgets.Menu([\u001b[32m\"Play\"\u001b[39;49m,\u001b[32m\"Edit\"\u001b[39;49m,\u001b[32m\"Back\"\u001b[39;49m])\r\n\t\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[7;5H\u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\r\n\t    draw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[11;13Hdraw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\u001b[13;13H\u001b[31m# Todo... correctly scroll.                                         \u001b[39;49m\r\n\u001b[14;13Hi = 0\n\b\b\b\b\bdraw.string(40,1,\u001b[32m\"Built-in Maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[16;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in:\r\n\t\tcol = \u001b[32m\"\"\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\r\n\t\tdraw.string(40,2+i,m,col)\r\n\t\t\u001b[33mi\u001b[39;49m += 1\u001b[21;13Hdraw.string(40,3+i,\u001b[32m\"User-generated maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[22;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined:\u001b[23;29H\u001b[7m60%\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m59\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[9;1H\u001b[1L\u001b[1;24r\u001b[9;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   60% L54\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;29H\u001b[?25l\u001b[7m59\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[15;13H\u001b[?25l\u001b[33mi\u001b[39;49m\n\n\n\t\u001b[33mcol\u001b[39;49m\n\n\n\b\b\bi\u001b[9;9H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;29H\u001b[?25l\u001b[7m60\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;5H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[1;22r\u001b[10;1H\u001b[1M\u001b[1;24r\u001b[9;9H\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[22;1H            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined:\u001b[K\n\b\b\b\b\b\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25ldraw.string(40,3+i,\u001b[32m\"User-generated maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[K\u001b[3;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined:\u001b[K\r\n\t\tcol = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\r\n\t\tdraw.string(40,4+i,m,col)\u001b[7;5H            i += 1\u001b[K\r\n\u001b[K\n\u001b[K\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m:\u001b[K\u001b[11;13H\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L66\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\b\b\b\b\r\t\b\b\b\b\r\u001b[1;22r\u001b[9;1H\u001b[1M\u001b[1;24r\u001b[7;17H\u001b[?25l\u001b[33mi\u001b[39;49m\u001b[22;1H\u001b[K\u001b[23;35H\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;23H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[12;1H\u001b[1L\u001b[1;24r\u001b[12;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[13;1H\u001b[1L\u001b[1;24r\u001b[13;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;13H\r\t\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[14;1H\u001b[1L\u001b[1;24r\u001b[14;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[13;13H\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l1\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l1\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25l)\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[13;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[13;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py\r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[2d Welcome to Rules of War!\u001b[2;41H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mBuilt-in Maps\u001b[3;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault.json\u001b[4;2H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mPlease select a map!\u001b[4;41Hdefault1.json\u001b[6;41H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mUser-generated maps\u001b[7;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mpotato.json\u001b[8;41Hfoo.json\u001b[3;41Hdefault.json\u001b[4;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\u001b[8;49H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+----+\r\u001b[2d|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlay\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Edit|\r\u001b[4d|Back|\r\u001b[5d+----+\u001b[A\b\r\u001b[2d|Play\r\u001b[3d|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mEdit\u001b[4d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[A|Edit\r\u001b[4d|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mBack\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[2d|Welco\r\u001b[4d|Pleas\u001b[8;49H\u001b[4;41Hdefault1.json\u001b[7;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mpotato.json\u001b[8;49H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7;41Hpotato.json\u001b[8;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mfoo.json\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mpotato.json\u001b[8;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mfoo.json\u001b[4;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\u001b[7;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mpotato.json\u001b[8;49H\u001b[3;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault.json\u001b[4;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\u001b[8;49H\u001b[3;41Hdefault.json\u001b[4;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\u001b[8;49H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n            draw.string(40,3+i,\u001b[32m\"User-generated maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined:\u001b[K\r\n                col = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\u001b[K\r\n                draw.string(40,4+i,m,col)\u001b[K\r\n                \u001b[33mi\u001b[39;49m += 1\u001b[K\r\n\u001b[K\n        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m:\u001b[K\r\n            \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.draw(1,1)\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[7m-UUU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L77    (Python) --------------------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[13;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l        data = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in[i])\u001b[3;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = data\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = widgets.Menu([\u001b[32m\"Play\"\u001b[39;49m,\u001b[32m\"Edit\"\u001b[39;49m,\u001b[32m\"Back\"\u001b[39;49m])\r\n\t\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[7;5H\u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\u001b[10;13Hdraw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[11;13Hdraw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\r\n\u001b[K\u001b[13;13H\u001b[31m# Todo... correctly scroll.                                         \u001b[39;49m\r\n\u001b[14;13H\u001b[33mi\u001b[39;49m = 0\n\b\b\b\b\bdraw.string(40,1,\u001b[32m\"Built-in Maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[16;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in:\r\n\t\t\u001b[33mcol\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\r\n\t\tdraw.string(40,2+i,m,col)\r\n\t\ti += 1\u001b[21;13Hdraw.string(40,3+i,\u001b[32m\"User-generated maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[22;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined:\u001b[23;29H\u001b[7m58% L6\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m59\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;26H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[9;1H\u001b[1L\u001b[1;24r\u001b[9;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   58% L54\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[9;21H\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[9;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[9;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py\r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 73, in run\r\n    self.m.draw(1,1)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/landing.py\", line 54, in draw\r\n    draw.clear()\r\nAttributeError: 'module' object has no attribute 'clear'\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n                    data = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in[i])\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = data\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = widgets.Menu([\u001b[32m\"Play\"\u001b[39;49m,\u001b[32m\"Edit\"\u001b[39;49m,\u001b[32m\"Back\"\u001b[39;49m])\u001b[K\r\n        \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n    \u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n        draw.clear()\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\r\n            draw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[K\r\n            draw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n            \u001b[31m# Todo... correctly scroll.                                         \u001b[39;49m\r\n\u001b[A\n            \u001b[33mi\u001b[39;49m = 0\u001b[K\r\n            draw.string(40,1,\u001b[32m\"Built-in Maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in:\u001b[K\r\n                \u001b[33mcol\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\u001b[K\r\n                draw.string(40,2+i,m,col)\u001b[K\r\n                i += 1\u001b[K\r\n            draw.string(40,3+i,\u001b[32m\"User-generated maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[K\r\n\u001b[7m-UUU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   58% L54    (Python) --------------------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[9;21H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l()\u001b[K\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l()\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l()\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l()\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l()\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le()\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr()\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lAuto-saving...\u001b[9;16H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[9;16H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[9;16H\u001b[?25la()\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls()\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le()\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[9;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[9;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py\r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 73, in run\r\n    self.m.draw(1,1)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/landing.py\", line 54, in draw\r\n    draw.erase()\r\nAttributeError: 'module' object has no attribute 'erase'\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n                    data = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in[i])\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = data\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = widgets.Menu([\u001b[32m\"Play\"\u001b[39;49m,\u001b[32m\"Edit\"\u001b[39;49m,\u001b[32m\"Back\"\u001b[39;49m])\u001b[K\r\n        \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n    \u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n        draw.erase()\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\r\n            draw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[K\r\n            draw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n            \u001b[31m# Todo... correctly scroll.                                         \u001b[39;49m\r\n\u001b[A\n            \u001b[33mi\u001b[39;49m = 0\u001b[K\r\n            draw.string(40,1,\u001b[32m\"Built-in Maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in:\u001b[K\r\n                \u001b[33mcol\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\u001b[K\r\n                draw.string(40,2+i,m,col)\u001b[K\r\n                i += 1\u001b[K\r\n            draw.string(40,3+i,\u001b[32m\"User-generated maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[K\r\n\u001b[7m-UUU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   58% L54    (Python) --------------------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[9;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default rules.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrules.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lshell.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lshell.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ltorage.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l*scratch*\u001b[K\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lstorage.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l*scratch*\u001b[K\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lGNU Emacs*\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lMessages*\u001b[K\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lGNU Emacs*\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lscratch*\u001b[K\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lstorage.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lhell.py\u001b[K\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrules.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[K\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[K\u001b[3;5H\u001b[31m# If the tile in question is capturable, then we need to pick the           \u001b[39;49m\r\n\u001b[4;5H\u001b[31m# team.                                                                     \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_terrain_team\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[7;5H        \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[K\u001b[8;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [(x,y)]\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"draw terrain\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[13;5H\u001b[31m# Now, pick the endpoint.                                                   \u001b[39;49m\r\n\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_draw_terrain\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[16;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\u001b[K\r\n\t\u001b[33mex\u001b[39;49m,\u001b[33mey\u001b[39;49m = coord\u001b[K\r\n\t\u001b[33mox\u001b[39;49m,\u001b[33moy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m ex < ox:\u001b[K\u001b[21;13H\u001b[33mex\u001b[39;49m,\u001b[33mox\u001b[39;49m = ox,ex\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m ey < oy:\u001b[K\u001b[23;4H\u001b[7m-:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mrules.py    \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   93% L1112 Git:master  (Python) \u001b[0m\u001b[39;49m\u001b[27m\u001b[8;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[33mex\u001b[39;49m,\u001b[33mox\u001b[39;49m = ox,ex\u001b[3;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m ey < oy:\u001b[K\u001b[4;5H        \u001b[33mey\u001b[39;49m,\u001b[33moy\u001b[39;49m = oy,ey\u001b[K\r\n\u001b[K\n\t\u001b[31m# Now fill!                                                             \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(ox,ex+1):\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(oy,ey+1):\r\n\t        \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1] == \u001b[32m\"(None)\"\u001b[39;49m:\r\n\t            u = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y\u001b[12;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\u001b[13;5H                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(x,y)\u001b[K\u001b[14;5H                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.grid.pop((x,y),\u001b[35mNone\u001b[39;49m)\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit = \u001b[32m\"terrain\"\u001b[39;49m,\u001b[32m\"(None)\"\u001b[39;49m,\u001b[35mNone\u001b[39;49m\u001b[16;13H    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t            tile = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_cell({\u001b[32m\"name\"\u001b[39;49m:\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]})\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit = \u001b[32m\"terrain\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1],\u001b[35mNone\u001b[39;49m\u001b[19;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action) > 2:\r\n\t                team = \u001b[35mNone\u001b[39;49m\u001b[21;13H            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m q \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\r\n\t                    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q.name == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[2]:\u001b[23;30H\u001b[7m4% L1125\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m q \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\r\n\t                    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q.name == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[2]:\u001b[4;13H                    team = q\r\n\t\t\ttile.team = team\r\n\t                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit=\u001b[32m\"terrain\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1],\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[2]\u001b[K\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t:\u001b[K\u001b[8;13H            tile.unit = t.unit\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.grid[(x,y)] = tile\r\n\u001b[K\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[15;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_save_map\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"Map Name\"\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m opt:\u001b[K\u001b[18;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Not there!\"\u001b[39;49m)\u001b[K\r\n\t\u001b[33mnewname\u001b[39;49m = opt[\u001b[32m\"Map Name\"\u001b[39;49m]\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(newname) > 15:\u001b[K\u001b[21;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Too long.\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[23;30H\u001b[7m6% L1144\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Too long.\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(opt) != 0:\u001b[K\u001b[6;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.name = newname\u001b[K\u001b[7;13H\u001b[33mdata\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.export(\u001b[35mTrue\u001b[39;49m)\u001b[8;13H\u001b[33mnewname\u001b[39;49m = newname.replace(\u001b[32m\" \"\u001b[39;49m,\u001b[32m\"_\"\u001b[39;49m)\u001b[9;13Hstorage.save(data, \u001b[32m\"maps\"\u001b[39;49m,\u001b[32m\"%s.json\"\u001b[39;49m%newname)\r\n\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\u001b[K\u001b[15;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_rule_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\u001b[16;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[K\r\n\u001b[K\n\t\u001b[33mu\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt != \u001b[32m\"(New)\"\u001b[39;49m:\u001b[K\u001b[22;13H\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_unit({\u001b[32m\"name\"\u001b[39;49m:opt})\u001b[23;30H\u001b[7m7% L1163\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt != \u001b[32m\"(New)\"\u001b[39;49m:\u001b[K\u001b[3;13H\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_unit({\u001b[32m\"name\"\u001b[39;49m:opt})\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = { \u001b[32m\"Name\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m: u.name \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m \u001b[32m\"\"\u001b[39;49m,\u001b[6;13H                      \u001b[32m\"type\"\u001b[39;49m: \u001b[32m\"str 12\"\u001b[39;49m,\u001b[7;13H                      \u001b[32m\"ordering\"\u001b[39;49m: 1 },\u001b[8;13H             \u001b[32m\"Move\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m: \u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(u.move) \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m \u001b[32m\"\"\u001b[39;49m,\u001b[9;13H                      \u001b[32m\"type\"\u001b[39;49m: \u001b[32m\"int\"\u001b[39;49m,\u001b[K\u001b[10;35H\u001b[32m\"ordering\"\u001b[39;49m: 2 }\r\n\t               }\n\t\u001b[32mpage unit\"\u001b[39;49m)\r\n\n\n\t\t\u001b[1m\u001b[34mpage_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\u001b[K\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_rule_terrain\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\u001b[23;30H\u001b[7m8% L1182\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\u001b[K\n\u001b[K\u001b[7;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_page_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data):\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\n\n\u001b[K\n\u001b[K\n\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\u001b[23;29H\u001b[7mBot L1201\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt != \u001b[32m\"(New)\"\u001b[39;49m:\u001b[K\r\n\t    \u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_unit({\u001b[32m\"name\"\u001b[39;49m:opt})\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = { \u001b[32m\"Name\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m: u.name \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m \u001b[32m\"\"\u001b[39;49m,\u001b[6;35H\u001b[32m\"type\"\u001b[39;49m: \u001b[32m\"str 12\"\u001b[39;49m,\u001b[7;5H                              \u001b[32m\"ordering\"\u001b[39;49m: 1 },\r\n\t                 \u001b[32m\"Move\"\u001b[39;49m: {\u001b[32m\"data\"\u001b[39;49m: \u001b[1m\u001b[34mstr\u001b[0m\u001b[39;49m(u.move) \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m \u001b[32m\"\"\u001b[39;49m,\u001b[9;35H\u001b[32m\"type\"\u001b[39;49m: \u001b[32m\"int\"\u001b[39;49m,\u001b[10;35H\u001b[32m\"ordering\"\u001b[39;49m: 2 }\r\n\t\t\t\b}\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"page unit\"\u001b[39;49m)\u001b[15;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_page_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, data):\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\u001b[18;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_rule_terrain\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[20;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[23;29H\u001b[7m98%\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Too long.\"\u001b[39;49m)\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(opt) != 0:\u001b[K\u001b[6;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.name = newname\u001b[K\u001b[7;13H\u001b[33mdata\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.export(\u001b[35mTrue\u001b[39;49m)\u001b[K\u001b[8;13H\u001b[33mnewname\u001b[39;49m = newname.replace(\u001b[32m\" \"\u001b[39;49m,\u001b[32m\"_\"\u001b[39;49m)\u001b[K\u001b[9;13Hstorage.save(data, \u001b[32m\"maps\"\u001b[39;49m,\u001b[32m\"%s.json\"\u001b[39;49m%newname)\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\n\t\u001b[32medit\"\u001b[39;49m)\u001b[K\r\n\n\n\t\t\u001b[1m\u001b[34mrule_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\u001b[17;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\u001b[18;5H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[K\r\n\u001b[K\n\t\u001b[33mu\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt != \u001b[32m\"(New)\"\u001b[39;49m:\u001b[K\r\n\t    \u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_unit({\u001b[32m\"name\"\u001b[39;49m:opt})\u001b[23;30H\u001b[7m7% L1183\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m q \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\u001b[3;29H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q.name == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[2]:\r\n\t                        team = q\r\n\t                tile.team = team\u001b[6;13H            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit=\u001b[32m\"terrain\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1],\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[2]\u001b[7;13H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t:\u001b[K\u001b[8;13H            tile.unit = t.unit\u001b[K\u001b[9;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.grid[(x,y)] = tile\u001b[K\r\n\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\u001b[15;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_save_map\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"Map Name\"\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m opt:\u001b[K\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Not there!\"\u001b[39;49m)\r\n\t\u001b[33mnewname\u001b[39;49m = opt[\u001b[32m\"Map Name\"\u001b[39;49m]\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(newname) > 15:\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Too long.\"\u001b[39;49m)\r\n\u001b[K\u001b[23;30H\u001b[7m6% L1164\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[33mex\u001b[39;49m,\u001b[33mox\u001b[39;49m = ox,ex\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m ey < oy:\u001b[K\u001b[4;13H\u001b[33mey\u001b[39;49m,\u001b[33moy\u001b[39;49m = oy,ey\u001b[K\r\n\u001b[K\n\t\u001b[31m# Now fill!                                                             \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(ox,ex+1):\u001b[8;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(oy,ey+1):\u001b[K\r\n\t\t\u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1] == \u001b[32m\"(None)\"\u001b[39;49m:\u001b[11;21Hu = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y)\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\r\n\t                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(x,y)\u001b[14;21H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.grid.pop((x,y),\u001b[35mNone\u001b[39;49m)\u001b[15;5H                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit = \u001b[32m\"terrain\"\u001b[39;49m,\u001b[32m\"(None)\"\u001b[39;49m,\u001b[35mNone\u001b[39;49m\u001b[K\u001b[16;5H            \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t            tile = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_cell({\u001b[32m\"name\"\u001b[39;49m:\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]})\u001b[18;13H        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit = \u001b[32m\"terrain\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1],\u001b[35mNone\u001b[39;49m\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action) > 2:\r\n\t                team = \u001b[35mNone\u001b[39;49m\u001b[21;13H            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m q \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\u001b[22;29H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q.name == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[2]:\u001b[23;30H\u001b[7m4% L1145\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\u001b[3;5H\u001b[?25l\u001b[31m# If the tile in question is capturable, then we need to pick the           \u001b[39;49m\r\n\u001b[4;5H\u001b[31m# team.                                                                     \u001b[39;49m\r\n\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_terrain_team\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = [(x,y)]\u001b[K\r\n\t\u001b[33mx\u001b[39;49m,\u001b[33my\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[K\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"draw terrain\"\u001b[39;49m\r\n\u001b[K\u001b[13;5H\u001b[31m# Now, pick the endpoint.                                                   \u001b[39;49m\r\n\u001b[14;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_draw_terrain\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, coord):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mtype\u001b[0m\u001b[39;49m(coord) \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m (\u001b[1m\u001b[34mtuple\u001b[0m\u001b[39;49m,\u001b[1m\u001b[34mlist\u001b[0m\u001b[39;49m):\u001b[K\u001b[16;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Expected tuple!\"\u001b[39;49m)\r\n\t\u001b[33mex\u001b[39;49m,\u001b[33mey\u001b[39;49m = coord\u001b[K\r\n\t\u001b[33mox\u001b[39;49m,\u001b[33moy\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[0]\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m ex < ox:\u001b[K\u001b[21;13H\u001b[33mex\u001b[39;49m,\u001b[33mox\u001b[39;49m = ox,ex\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m ey < oy:\u001b[K\u001b[23;30H\u001b[7m3% L1126\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[33mex\u001b[39;49m,\u001b[33mox\u001b[39;49m = ox,ex\u001b[3;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m ey < oy:\u001b[K\u001b[4;5H        \u001b[33mey\u001b[39;49m,\u001b[33moy\u001b[39;49m = oy,ey\u001b[K\r\n\u001b[K\n\t\u001b[31m# Now fill!                                                             \u001b[39;49m\r\n\t\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m x \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(ox,ex+1):\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m y \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mrange\u001b[0m\u001b[39;49m(oy,ey+1):\r\n\t        \u001b[33mt\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.tile_at(x,y)\r\n\t        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1] == \u001b[32m\"(None)\"\u001b[39;49m:\r\n\t            u = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.unit_at(x,y\u001b[12;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m u:\u001b[13;5H                    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.remove_unit(x,y)\u001b[K\u001b[14;5H                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.grid.pop((x,y),\u001b[35mNone\u001b[39;49m)\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit = \u001b[32m\"terrain\"\u001b[39;49m,\u001b[32m\"(None)\"\u001b[39;49m,\u001b[35mNone\u001b[39;49m\u001b[16;13H    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t            tile = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_cell({\u001b[32m\"name\"\u001b[39;49m:\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1]})\r\n\t            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit = \u001b[32m\"terrain\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1],\u001b[35mNone\u001b[39;49m\u001b[19;21H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action) > 2:\r\n\t                team = \u001b[35mNone\u001b[39;49m\u001b[21;13H            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m q \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\r\n\t                    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q.name == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[2]:\u001b[23;30H\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m q \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.teams:\r\n\t                    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q.name == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[2]:\u001b[4;13H                    team = q\r\n\t\t\ttile.team = team\r\n\t                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.last_edit=\u001b[32m\"terrain\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[1],\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action[2]\u001b[K\r\n\t            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m t:\u001b[K\u001b[8;13H            tile.unit = t.unit\r\n\t\t    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.grid[(x,y)] = tile\r\n\u001b[K\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[15;5H\u001b[31m#                                                                           \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_save_map\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"Map Name\"\u001b[39;49m \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m opt:\u001b[K\u001b[18;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Not there!\"\u001b[39;49m)\u001b[K\r\n\t\u001b[33mnewname\u001b[39;49m = opt[\u001b[32m\"Map Name\"\u001b[39;49m]\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(newname) > 15:\u001b[K\u001b[21;13H\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Too long.\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[23;30H\u001b[7m6% L1144\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Too long.\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices = []\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(opt) != 0:\u001b[K\u001b[6;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.grid.name = newname\u001b[K\u001b[7;13H\u001b[33mdata\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.export(\u001b[35mTrue\u001b[39;49m)\u001b[8;13H\u001b[33mnewname\u001b[39;49m = newname.replace(\u001b[32m\" \"\u001b[39;49m,\u001b[32m\"_\"\u001b[39;49m)\u001b[9;13Hstorage.save(data, \u001b[32m\"maps\"\u001b[39;49m,\u001b[32m\"%s.json\"\u001b[39;49m%newname)\r\n\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action = []\r\n\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.transition(\u001b[32m\"edit\"\u001b[39;49m)\r\n\u001b[K\u001b[15;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mprocess_rule_unit\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, opt):\u001b[K\u001b[16;5H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt \u001b[1m\u001b[36mnot\u001b[0m\u001b[39;49m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.choices:\u001b[K\r\n\t    \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Invalid option.\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.action.append(opt)\u001b[K\r\n\u001b[K\n\t\u001b[33mu\u001b[39;49m = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m opt != \u001b[32m\"(New)\"\u001b[39;49m:\u001b[K\u001b[22;13H\u001b[33mu\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.make_unit({\u001b[32m\"name\"\u001b[39;49m:opt})\u001b[23;30H\u001b[7m7% L1163\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l\u001b[34mSwitch to buffer (default landing.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25llanding.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\u001b[2;13H        data = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in[i])\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = data\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = widgets.Menu([\u001b[32m\"Play\"\u001b[39;49m,\u001b[32m\"Edit\"\u001b[39;49m,\u001b[32m\"Back\"\u001b[39;49m])\r\n\t\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[7;5H\u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\tdraw.erase()\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\r\n\t    draw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\r\n\t    draw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\u001b[14;13H\u001b[31m# Todo... correctly scroll.                                         \u001b[39;49m\r\n\u001b[15;5H        \u001b[33mi\u001b[39;49m = 0\u001b[K\r\n\t    draw.string(40,1,\u001b[32m\"Built-in Maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[17;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in:\u001b[K\r\n\t        \u001b[33mcol\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\r\n\t        draw.string(40,2+i,m,col)\r\n\t        i += 1\u001b[K\u001b[22;13Hdraw.string(40,3+i,\u001b[32m\"User-generated maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[23;4H\u001b[7mU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   58% L54    (Python) -----------\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;19H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[9;21H\b\b\b\u001b[?25l()\u001b[K\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;18H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l()\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l()\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l()\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l()\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf()\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li()\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll()\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll()\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[C\b\u001b[?25l0)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[9;36H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[9;36H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;36H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py\r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[2d Welcome to Rules of War!\u001b[2;41H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mBuilt-in Maps\u001b[3;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault.json\u001b[4;2H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mPlease select a map!\u001b[4;41Hdefault1.json\u001b[6;41H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mUser-generated maps\u001b[7;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mpotato.json\u001b[8;41Hfoo.json\u001b[3;41Hdefault.json\u001b[4;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\u001b[8;49H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+----+\r\u001b[2d|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlay\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Edit|\r\u001b[4d|Back|\r\u001b[5d+----+\u001b[A\b\r\u001b[2d|Play\r\u001b[3d|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mEdit\u001b[4d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[A|Edit\r\u001b[4d|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mBack\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[K\u001b[2d Welco\u001b[3;40H\u001b[1K\r\u001b[4d Pleas\r\u001b[5d\u001b[K\u001b[8;49H\u001b[3;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault.json\u001b[4;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\u001b[8;49H\u001b[3;41Hdefault.json\u001b[4;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\u001b[8;49H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[4;41Hdefault1.json\u001b[7;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mpotato.json\u001b[8;49H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+----+\r\u001b[2d|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlay\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Edit|\r\u001b[4d|Back|\r\u001b[5d+----+\u001b[A\b\u001b[H\u001b[K\u001b[2d Welco\u001b[3;40H\u001b[1K\r\u001b[4d Pleas\r\u001b[5d\u001b[K\u001b[8;49H\u001b[7;41Hpotato.json\u001b[8;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mfoo.json\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[7;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mpotato.json\u001b[8;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mfoo.json\u001b[H+----+\r\u001b[2d|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlay\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Edit|\r\u001b[4d|Back|\r\u001b[5d+----+\u001b[A\b\r\u001b[2d|Play\r\u001b[3d|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mEdit\u001b[4d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[K\u001b[2d Welco\u001b[3;40H\u001b[1K\r\u001b[4d Pleas\r\u001b[5d\u001b[K\u001b[8;49H\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n                    data = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in[i])\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = data\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = widgets.Menu([\u001b[32m\"Play\"\u001b[39;49m,\u001b[32m\"Edit\"\u001b[39;49m,\u001b[32m\"Back\"\u001b[39;49m])\u001b[K\r\n        \u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n    \u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n        draw.fill(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h)\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\r\n            draw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[K\r\n            draw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n            \u001b[31m# Todo... correctly scroll.                                         \u001b[39;49m\r\n\u001b[A\n            \u001b[33mi\u001b[39;49m = 0\u001b[K\r\n            draw.string(40,1,\u001b[32m\"Built-in Maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in:\u001b[K\r\n                \u001b[33mcol\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\u001b[K\r\n                draw.string(40,2+i,m,col)\u001b[K\r\n                i += 1\u001b[K\r\n            draw.string(40,3+i,\u001b[32m\"User-generated maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[K\r\n\u001b[7m-UUU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   58% L54    (Python) --------------------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[9;36H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\u001b[K\u001b[3;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[4;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"q\"\u001b[39;49m == \u001b[32m\"Edit\"\u001b[39;49m:\u001b[K\r\n\t        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"edit\"\u001b[39;49m,json.loads(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection)\u001b[6;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"q\"\u001b[39;49m == \u001b[32m\"Play\"\u001b[39;49m:\u001b[7;5H            \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Not there yet.\"\u001b[39;49m)\u001b[K\u001b[8;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"q\"\u001b[39;49m == \u001b[32m\"Back\"\u001b[39;49m:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = \u001b[35mNone\u001b[39;49m\r\n\t\u001b[2@\u001b[1m\u001b[36mel\u001b[0m\u001b[39;49m\u001b[11;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\u001b[K\u001b[12;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor += 1\u001b[K\u001b[13;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\u001b[14;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\u001b[15;13H    data = \u001b[32m\"\"\u001b[39;49m\u001b[16;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in):\u001b[17;13H        i = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor - \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in)\r\n\t\t    data = storage.read(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined[i])\r\n\t\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t\t    i = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[K\r\n\t\t    data = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in[i])\u001b[22;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = data\u001b[K\u001b[23;29H\u001b[7m26% L48\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2d\u001b[K\n\u001b[K\n\u001b[?25l\u001b[1m\u001b[36mclass\u001b[0m\u001b[39;49m \u001b[32mLanding\u001b[39;49m(\u001b[1m\u001b[34mobject\u001b[0m\u001b[39;49m):\u001b[K\u001b[5;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34m__init__\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, w, h):\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w = w\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h = h\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"home\"\u001b[39;49m\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.options = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in = storage.list_datafiles(\u001b[32m\"maps\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined = storage.list_files(\u001b[32m\"maps\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = \u001b[35mNone\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[K\u001b[18;5H\u001b[31m# Here we handle input based on our current state.                          \u001b[39;49m\r\n\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu:\u001b[K\u001b[21;13H\u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\u001b[K\u001b[22;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\n\b\b\b\b\b\b\u001b[7m 8% L29\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\u001b[3;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"q\"\u001b[39;49m == \u001b[32m\"Edit\"\u001b[39;49m:\u001b[5;5H            \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"edit\"\u001b[39;49m,json.loads(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection)\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"q\"\u001b[39;49m == \u001b[32m\"Play\"\u001b[39;49m:\r\n\t        \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Not there yet.\"\u001b[39;49m)\u001b[8;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"q\"\u001b[39;49m == \u001b[32m\"Back\"\u001b[39;49m:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = \u001b[35mNone\u001b[39;49m\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor += 1\u001b[K\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\r\n\t        data = \u001b[32m\"\"\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in):\u001b[17;21Hi = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor - \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in)\u001b[18;5H                data = storage.read(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined[i])\u001b[K\u001b[19;5H            \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t            i = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[21;13H        data = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in[i])\u001b[22;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = data\u001b[23;29H\u001b[7m26\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l(No changes need to be saved)\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.options = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in = storage.list_datafiles(\u001b[32m\"maps\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined = storage.list_files(\u001b[32m\"maps\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = \u001b[35mNone\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[K\u001b[10;5H\u001b[31m# Here we handle input based on our current state.                          \u001b[39;49m\r\n\u001b[11;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu:\u001b[K\u001b[13;13H\u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\u001b[14;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[15;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"q\"\u001b[39;49m == \u001b[32m\"Edit\"\u001b[39;49m:\r\n\t\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"edit\"\u001b[39;49m,json.loads(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection)\u001b[17;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"q\"\u001b[39;49m == \u001b[32m\"Play\"\u001b[39;49m:\u001b[K\r\n\t\t\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Not there yet.\"\u001b[39;49m)\u001b[K\u001b[19;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"q\"\u001b[39;49m == \u001b[32m\"Back\"\u001b[39;49m:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = \u001b[35mNone\u001b[39;49m\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\u001b[22;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\u001b[23;29H\u001b[7m13% L27\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m30\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l    \u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"q\"\u001b[39;49m == \u001b[32m\"Edit\"\u001b[39;49m:\u001b[K\r\n\t        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"edit\"\u001b[39;49m,json.loads(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection)\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"q\"\u001b[39;49m == \u001b[32m\"Play\"\u001b[39;49m:\u001b[K\r\n\t        \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Not there yet.\"\u001b[39;49m)\u001b[8;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"q\"\u001b[39;49m == \u001b[32m\"Back\"\u001b[39;49m:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = \u001b[35mNone\u001b[39;49m\u001b[10;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\u001b[11;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor += 1\u001b[13;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\u001b[K\u001b[14;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\u001b[15;13H    data = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in):\u001b[K\u001b[17;13H        i = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor - \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in)\r\n\t\t    data = storage.read(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined[i])\u001b[19;13H    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t\t    i = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[K\r\n\t            data = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in[i])\u001b[22;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = data\u001b[K\u001b[23;29H\u001b[7m26% L38\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m40\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\u001b[K\u001b[3;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\u001b[4;13H    data = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in):\u001b[K\u001b[6;13H        i = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor - \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in)\r\n\t\t    data = storage.read(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined[i])\u001b[8;13H    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t\t    i = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[K\r\n\t            data = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in[i])\u001b[11;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = data\u001b[K\u001b[12;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = widgets.Menu([\u001b[32m\"Play\"\u001b[39;49m,\u001b[32m\"Edit\"\u001b[39;49m,\u001b[32m\"Back\"\u001b[39;49m])\r\n\t\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[15;5H\u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\tdraw.fill(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h)\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\u001b[19;13Hdraw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[20;13Hdraw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\r\n\u001b[K\u001b[22;13H\u001b[31m# Todo... correctly scroll.                                         \u001b[39;49m\r\n\u001b[23;29H\u001b[7m44% L49\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m50\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m49\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m39\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\u001b[3;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[4;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"q\"\u001b[39;49m == \u001b[32m\"Edit\"\u001b[39;49m:\r\n\t\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"edit\"\u001b[39;49m,json.loads(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection)\u001b[6;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"q\"\u001b[39;49m == \u001b[32m\"Play\"\u001b[39;49m:\u001b[K\r\n\t\t\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Not there yet.\"\u001b[39;49m)\u001b[K\u001b[8;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"q\"\u001b[39;49m == \u001b[32m\"Back\"\u001b[39;49m:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = \u001b[35mNone\u001b[39;49m\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\u001b[11;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\u001b[12;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor += 1\u001b[K\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\u001b[14;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[15;5H            data = \u001b[32m\"\"\u001b[39;49m\u001b[K\u001b[16;5H            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in):\r\n\t            i = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor - \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in)\r\n\t            data = storage.read(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined[i])\u001b[19;13H    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\u001b[20;13H        i = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[K\u001b[21;21Hdata = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in[i])\u001b[22;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = data\u001b[K\u001b[23;29H\u001b[7m26% L38\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l        data = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in[i])\u001b[3;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = data\u001b[4;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = widgets.Menu([\u001b[32m\"Play\"\u001b[39;49m,\u001b[32m\"Edit\"\u001b[39;49m,\u001b[32m\"Back\"\u001b[39;49m])\r\n\t\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[7;5H\u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\tdraw.fill(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h)\u001b[K\r\n\t\u001b[2P\u001b[11;13Hdraw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[12;13Hdraw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\r\n\u001b[K\u001b[14;13H\u001b[31m# Todo... correctly scroll.                                         \u001b[39;49m\r\n\u001b[15;13H\u001b[33mi\u001b[39;49m = 0\u001b[K\n\b\b\b\b\bdraw.string(40,1,\u001b[32m\"Built-in Maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[K\u001b[17;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in:\u001b[K\r\n\t\t\u001b[33mcol\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\r\n\t\tdraw.string(40,2+i,m,col)\r\n\t\ti += 1\u001b[K\u001b[22;13Hdraw.string(40,3+i,\u001b[32m\"User-generated maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[23;29H\u001b[7m58% L47\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\u001b[K\u001b[3;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[4;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"q\"\u001b[39;49m == \u001b[32m\"Edit\"\u001b[39;49m:\u001b[K\r\n\t        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"edit\"\u001b[39;49m,json.loads(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection)\u001b[6;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"q\"\u001b[39;49m == \u001b[32m\"Play\"\u001b[39;49m:\u001b[7;5H            \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Not there yet.\"\u001b[39;49m)\u001b[K\u001b[8;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"q\"\u001b[39;49m == \u001b[32m\"Back\"\u001b[39;49m:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = \u001b[35mNone\u001b[39;49m\r\n\t\u001b[2@\u001b[1m\u001b[36mel\u001b[0m\u001b[39;49m\u001b[11;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\u001b[K\u001b[12;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor += 1\u001b[K\u001b[13;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\u001b[14;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\u001b[15;13H    data = \u001b[32m\"\"\u001b[39;49m\u001b[16;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in):\u001b[17;13H        i = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor - \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in)\r\n\t\t    data = storage.read(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined[i])\r\n\t\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t\t    i = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[K\r\n\t\t    data = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in[i])\u001b[22;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = data\u001b[K\u001b[23;29H\u001b[7m26\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\u001b[?25l(No changes need to be saved)\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m39\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py\r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[2d Welcome to Rules of War!\u001b[2;41H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mBuilt-in Maps\u001b[3;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault.json\u001b[4;2H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mPlease select a map!\u001b[4;41Hdefault1.json\u001b[6;41H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mUser-generated maps\u001b[7;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mpotato.json\u001b[8;41Hfoo.json\u001b[3;41Hdefault.json\u001b[4;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\u001b[8;49H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H+----+\r\u001b[2d|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlay\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Edit|\r\u001b[4d|Back|\r\u001b[5d+----+\u001b[A\b\r\u001b[2d|Play\r\u001b[3d|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mEdit\u001b[4d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[K\u001b[2d Welco\u001b[3;40H\u001b[1K\r\u001b[4d Pleas\r\u001b[5d\u001b[K\u001b[8;49H\u001b[H+----+\r\u001b[2d|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlay\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Edit|\r\u001b[4d|Back|\r\u001b[5d+----+\u001b[A\b\u001b[H\u001b[K\u001b[2d Welco\u001b[3;40H\u001b[1K\r\u001b[4d Pleas\r\u001b[5d\u001b[K\u001b[8;49H\u001b[H+----+\r\u001b[2d|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlay\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Edit|\r\u001b[4d|Back|\r\u001b[5d+----+\u001b[A\b\r\u001b[2d|Play\r\u001b[3d|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mEdit\u001b[4d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\r\u001b[A|Edit\r\u001b[4d|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mBack\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[K\u001b[2d Welco\u001b[3;40H\u001b[1K\r\u001b[4d Pleas\r\u001b[5d\u001b[K\u001b[8;49H\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n            \u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"q\"\u001b[39;49m == \u001b[32m\"Edit\"\u001b[39;49m:\u001b[K\r\n                \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"edit\"\u001b[39;49m,json.loads(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection)\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"q\"\u001b[39;49m == \u001b[32m\"Play\"\u001b[39;49m:\u001b[K\r\n                \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Not there yet.\"\u001b[39;49m)\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"q\"\u001b[39;49m == \u001b[32m\"Back\"\u001b[39;49m:\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = \u001b[35mNone\u001b[39;49m\u001b[K\r\n        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor += 1\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\u001b[K\r\n            \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\r\n                data = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in):\u001b[K\r\n                    i = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor - \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in)\u001b[K\r\n                    data = storage.read(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined[i])\u001b[K\r\n                \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n                    i = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[K\r\n                    data = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in[i])\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = data\u001b[K\r\n\u001b[7m-UUU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   26% L38    (Python) --------------------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[12d\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m29\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l(No changes need to be saved)\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[2;13H\u001b[?25l        data = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in[i])\u001b[3;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = data\u001b[4;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = widgets.Menu([\u001b[32m\"Play\"\u001b[39;49m,\u001b[32m\"Edit\"\u001b[39;49m,\u001b[32m\"Back\"\u001b[39;49m])\r\n\t\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[7;5H\u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[8;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\tdraw.fill(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h)\u001b[K\r\n\t\u001b[2P\u001b[11;13Hdraw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[12;13Hdraw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\r\n\u001b[K\u001b[14;13H\u001b[31m# Todo... correctly scroll.                                         \u001b[39;49m\r\n\u001b[15;13H\u001b[33mi\u001b[39;49m = 0\u001b[K\n\b\b\b\b\bdraw.string(40,1,\u001b[32m\"Built-in Maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[K\u001b[17;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in:\u001b[K\r\n\t\t\u001b[33mcol\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\r\n\t\tdraw.string(40,2+i,m,col)\r\n\t\ti += 1\u001b[K\u001b[22;13Hdraw.string(40,3+i,\u001b[32m\"User-generated maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[23;29H\u001b[7m58% L47\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\u001b[K\u001b[3;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[4;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"q\"\u001b[39;49m == \u001b[32m\"Edit\"\u001b[39;49m:\u001b[K\r\n\t        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"edit\"\u001b[39;49m,json.loads(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection)\u001b[6;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"q\"\u001b[39;49m == \u001b[32m\"Play\"\u001b[39;49m:\u001b[7;5H            \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Not there yet.\"\u001b[39;49m)\u001b[K\u001b[8;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"q\"\u001b[39;49m == \u001b[32m\"Back\"\u001b[39;49m:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = \u001b[35mNone\u001b[39;49m\r\n\t\u001b[2@\u001b[1m\u001b[36mel\u001b[0m\u001b[39;49m\u001b[11;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\u001b[K\u001b[12;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor += 1\u001b[K\u001b[13;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\u001b[14;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\u001b[15;13H    data = \u001b[32m\"\"\u001b[39;49m\u001b[16;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in):\u001b[17;13H        i = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor - \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in)\r\n\t\t    data = storage.read(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined[i])\r\n\t\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t\t    i = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[K\r\n\t\t    data = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in[i])\u001b[22;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = data\u001b[K\u001b[23;29H\u001b[7m26\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m39\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m29\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.options = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in = storage.list_datafiles(\u001b[32m\"maps\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined = storage.list_files(\u001b[32m\"maps\"\u001b[39;49m)\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = \u001b[35mNone\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[K\u001b[10;5H\u001b[31m# Here we handle input based on our current state.                          \u001b[39;49m\r\n\u001b[11;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu:\u001b[K\u001b[13;13H\u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\u001b[14;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[15;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"q\"\u001b[39;49m == \u001b[32m\"Edit\"\u001b[39;49m:\r\n\t\t\u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"edit\"\u001b[39;49m,json.loads(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection)\u001b[17;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"q\"\u001b[39;49m == \u001b[32m\"Play\"\u001b[39;49m:\u001b[K\r\n\t\t\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Not there yet.\"\u001b[39;49m)\u001b[K\u001b[19;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"q\"\u001b[39;49m == \u001b[32m\"Back\"\u001b[39;49m:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = \u001b[35mNone\u001b[39;49m\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\u001b[22;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\u001b[23;29H\u001b[7m13% L27\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m30\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l(No changes need to be saved)\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[H\n\t\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor += 1\u001b[K\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\u001b[K\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\r\n\t        data = \u001b[32m\"\"\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in):\u001b[9;21Hi = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor - \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in)\u001b[10;5H                data = storage.read(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined[i])\u001b[K\u001b[11;5H            \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t            i = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[13;13H        data = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in[i])\u001b[14;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = data\u001b[15;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = widgets.Menu([\u001b[32m\"Play\"\u001b[39;49m,\u001b[32m\"Edit\"\u001b[39;49m,\u001b[32m\"Back\"\u001b[39;49m])\r\n\t\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[18;5H\u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[19;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\tdraw.fill(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h)\u001b[K\r\n\t\u001b[2P\u001b[22;13Hdraw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[23;29H\u001b[7m39% L36\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.options = []\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0\u001b[K\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in = storage.list_datafiles(\u001b[32m\"maps\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined = storage.list_files(\u001b[32m\"maps\"\u001b[39;49m)\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = \u001b[35mNone\u001b[39;49m\r\n\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[K\u001b[10;5H\u001b[31m# Here we handle input based on our current state.                          \u001b[39;49m\r\n\u001b[11;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu:\u001b[K\u001b[13;13H\u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\u001b[K\u001b[14;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\u001b[15;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"q\"\u001b[39;49m == \u001b[32m\"Edit\"\u001b[39;49m:\u001b[K\r\n\t        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"edit\"\u001b[39;49m,json.loads(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection)\u001b[17;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"q\"\u001b[39;49m == \u001b[32m\"Play\"\u001b[39;49m:\u001b[18;5H            \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Not there yet.\"\u001b[39;49m)\u001b[K\u001b[19;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"q\"\u001b[39;49m == \u001b[32m\"Back\"\u001b[39;49m:\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = \u001b[35mNone\u001b[39;49m\r\n\t\u001b[2@\u001b[1m\u001b[36mel\u001b[0m\u001b[39;49m\u001b[22;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\u001b[K\u001b[23;29H\u001b[7m13\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\n\u001b[?25l(No changes need to be saved)\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\n\n\n\n\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m29\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[14;35H\u001b[?25l;\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;36H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\b\u001b[K\b\u001b[K\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\u001b[?25l\u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lE\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[14;43H\u001b[?25l\u001b[32mException\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l(\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lq\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l)\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\b\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[14;55H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[14;55H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;55H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py\r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[2d Welcome to Rules of War!\u001b[2;41H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mBuilt-in Maps\u001b[3;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault.json\u001b[4;2H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mPlease select a map!\u001b[4;41Hdefault1.json\u001b[6;41H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mUser-generated maps\u001b[7;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mpotato.json\u001b[8;41Hfoo.json\u001b[H+----+\r\u001b[2d|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlay\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Edit|\r\u001b[4d|Back|\r\u001b[5d+----+\u001b[A\b\r\u001b[2d|Play\r\u001b[3d|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mEdit\u001b[4d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 72, in run\r\n    q = self.m.handle_input(c)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/landing.py\", line 29, in handle_input\r\n    if q: self.menu = None; raise Exception(q)\r\nException: Edit\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.options = []\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in = storage.list_datafiles(\u001b[32m\"maps\"\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined = storage.list_files(\u001b[32m\"maps\"\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = \u001b[35mNone\u001b[39;49m\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[K\n    \u001b[31m# Here we handle input based on our current state.                          \u001b[39;49m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu:\u001b[K\r\n            \u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m; \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(q)\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"q\"\u001b[39;49m == \u001b[32m\"Edit\"\u001b[39;49m:\u001b[K\r\n                \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"edit\"\u001b[39;49m,json.loads(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection)\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"q\"\u001b[39;49m == \u001b[32m\"Play\"\u001b[39;49m:\u001b[K\r\n                \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Not there yet.\"\u001b[39;49m)\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[32m\"q\"\u001b[39;49m == \u001b[32m\"Back\"\u001b[39;49m:\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = \u001b[35mNone\u001b[39;49m\u001b[K\r\n        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\u001b[K\r\n\u001b[7m-UUU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   13% L29    (Python) --------------------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[14;55H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;54H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[14;43H\u001b[?25lExceptio\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[C\b\b\b\b\b\b\u001b[?25lrais\u001b[K\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[C\b\b\u001b[K\u001b[23;34H\u001b[?25l\u001b[7m30\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lAuto-saving...\u001b[15;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[15;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[15;29H\b\b\b\b\b\b\b\b\b\b\b\b\b\u001b[?25lq\u001b[32m\" == \"\u001b[39;49mEdit\u001b[32m\":                                                    \u001b[39;49m\r\n\u001b[32m                return \"\u001b[39;49medit\u001b[32m\",json.loads(self.map_selection)                    \u001b[39;49m\r\n\u001b[15;16H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;16H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;16H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[?25l\u001b[32m            if \u001b[39;49m\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;16H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;16H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lq\u001b[32m\" == \"\u001b[39;49mBack\u001b[32m\":                                                    \u001b[39;49m\r\n\u001b[32m                self.map_selection = None                                       \u001b[39;49m\r\n\u001b[19;16H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l == \u001b[32m\"Back\"\u001b[39;49m:\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = \u001b[35mNone\u001b[39;49m\u001b[K\r\u001b[A\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m == \"\u001b[39;49mPlay\u001b[32m\":                                                     \u001b[39;49m\r\n\u001b[32m                raise Exception(\"\u001b[39;49mNot there yet.\u001b[32m\")                               \u001b[39;49m\r\n\u001b[17;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m0\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l == \u001b[32m\"Edit\"\u001b[39;49m:\u001b[K\r\n                \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"edit\"\u001b[39;49m,json.loads(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection)\u001b[K\r\u001b[A\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q == \u001b[32m\"Play\"\u001b[39;49m:\u001b[K\r\n                \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Not there yet.\"\u001b[39;49m)\u001b[K\u001b[15;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[15;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[15;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py\r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[2d Welcome to Rules of War!\u001b[2;41H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mBuilt-in Maps\u001b[3;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault.json\u001b[4;2H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mPlease select a map!\u001b[4;41Hdefault1.json\u001b[6;41H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mUser-generated maps\u001b[7;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mpotato.json\u001b[8;41Hfoo.json\u001b[3;41Hdefault.json\u001b[4;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\u001b[8;49H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault.json\u001b[4;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mdefault1.json\u001b[8;49H\u001b[H+----+\r\u001b[2d|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlay\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Edit|\r\u001b[4d|Back|\r\u001b[5d+----+\u001b[A\b\r\u001b[2d|Play\r\u001b[3d|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mEdit\u001b[4d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[K\u001b[2d Welco\u001b[3;40H\u001b[1K\r\u001b[4d Pleas\r\u001b[5d\u001b[K\u001b[8;49H\u001b[H+--------------------------------------------------------------+---------------+\u001b[2;1H|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40m.\u001b(B\u001b[0m\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..................\u001b[2;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m             \u001b[2;64H|\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mMap Editing\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m    |\u001b[3;1H|\u001b[32m\u001b[40m.........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[3;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m            \u001b[3;64H|\u001b[35m\u001b[40mMagenta     $0\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m |\u001b[4;1H|#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[4;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m             \u001b[4;64H|\u001b[34m\u001b[40mBlue        $0\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m |\u001b[5;1H|\u001b[32m\u001b[40m......................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[5;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[6;1H|\u001b[32m\u001b[40m.............\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m................\u001b[6;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[23X\u001b[6;64H|\u001b[80G|\u001b[7;1H|\u001b[32m\u001b[40m...........................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b[7;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m           \u001b[7;64H|\u001b[80G|\u001b[8;1H|\u001b[32m\u001b[40m....................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.......\u001b[8;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m        \u001b[8;64H|\u001b[80G|\u001b[9;1H|\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m...........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[9;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m+---------------+\u001b[10;1H|#\u001b[32m\u001b[40m.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m..\u001b[10;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|Grass\u001b[80G|\u001b[11;1H|#\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m...\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.................\u001b[11;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|DEF +1\u001b[80G|\u001b[12;1H|\u001b[32m\u001b[40m...................\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[12;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[13;1H|\u001b[32m\u001b[40m.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......................\u001b[13;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[14;1H|\u001b[32m\u001b[40m.............\u001b(B\u001b[0;1m\u001b[35m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.\u001b(B\u001b[0;1m\u001b[34m\u001b[40mi\u001b(B\u001b[0m\u001b[32m\u001b[40m.......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b[14;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[15;1H|\u001b[32m\u001b[40m..........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#!\u001b[32m\u001b[40m.\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m!\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b[15;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[16;1H|#\u001b[32m\u001b[40m..\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m......\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m........\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m#\u001b[32m\u001b[40m.....\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m##\u001b[32m\u001b[40m...\u001b[16;64H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[80G|\u001b[17;1H|\u001b[17;64H+---------------+\u001b[18;1H|\u001b[18;64H|\u001b[80G|\u001b[19;1H|\u001b[19;64H|\u001b[80G|\u001b[20;1H|\u001b[20;64H|\u001b[80G|\u001b[21;1H|\u001b[21;64H|\u001b[80G|\u001b[22;1H|\u001b[22;64H+---------------+\u001b[23;1H|\u001b[23;64H|\r\u001b[24d+--------------------------------------------------------------+\r\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 70, in run\r\n    self.g.draw(1,1)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/grid.py\", line 355, in draw\r\n    self.cam.draw(x,y)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/widgets.py\", line 295, in draw\r\n    draw.fill(x,y,w,h)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/draw.py\", line 32, in fill\r\n    gfx.draw(i,j,c,col)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx.py\", line 111, in draw\r\n    if gfx: return gfx.draw(x,y,c,col)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/graphics/gfx_ascii.py\", line 149, in draw\r\n    for e in col:\r\nKeyboardInterrupt\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py\r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[2d Welcome to Rules of War!\u001b[2;41H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mBuilt-in Maps\u001b[3;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault.json\u001b[4;2H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mPlease select a map!\u001b[4;41Hdefault1.json\u001b[6;41H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mUser-generated maps\u001b[7;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mpotato.json\u001b[8;41Hfoo.json\u001b[H+----+\r\u001b[2d|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlay\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\r\u001b[3d|Edit|\r\u001b[4d|Back|\r\u001b[5d+----+\u001b[A\b\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>Traceback (most recent call last):\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/shell.py\", line 72, in run\r\n    q = self.m.handle_input(c)\r\n  File \"/home/isharacomix/Documents/rules-of-war/code/core/landing.py\", line 33, in handle_input\r\n    raise Exception(\"Not there yet.\")\r\nException: Not there yet.\r\n\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.options = []\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor = 0\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in = storage.list_datafiles(\u001b[32m\"maps\"\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined = storage.list_files(\u001b[32m\"maps\"\u001b[39;49m)\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = \u001b[35mNone\u001b[39;49m\u001b[K\r\n        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n\u001b[K\n\u001b[K\n    \u001b[31m# Here we handle input based on our current state.                          \u001b[39;49m\r\n\u001b[A\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mhandle_input\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, c):\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu:\u001b[K\r\n            \u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q == \u001b[32m\"Edit\"\u001b[39;49m:\u001b[K\r\n                \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"edit\"\u001b[39;49m,json.loads(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection)\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q == \u001b[32m\"Play\"\u001b[39;49m:\u001b[K\r\n                \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Not there yet.\"\u001b[39;49m)\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q == \u001b[32m\"Back\"\u001b[39;49m:\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = \u001b[35mNone\u001b[39;49m\u001b[K\r\n        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\r\n            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\u001b[K\r\n\u001b[7m-UUU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   13% L30    (Python) --------------------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[15;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[15;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[15;17H\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[15;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[15;17H\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[15;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[17;28H\u001b[1;22r\u001b[18;1H\u001b[1L\u001b[1;24r\u001b[18;1H\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   13% L33\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32m\"                                                  \u001b[39;49m\r\n\u001b[32m                raise Exception(\"\u001b[39;49mNot there yet.\u001b[32m\")                               \u001b[39;49m\r\n\u001b[18;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l\u001b[32m            if q == \"\u001b[39;49mBack\u001b[32m\":                                                     \u001b[39;49m\r\n\u001b[32m                self.map_selection = None                                       \u001b[39;49m\r\n\u001b[32m        elif self.state == \"\u001b[39;49mhome\u001b[32m\":                                              \u001b[39;49m\r\n\u001b[18;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lAuto-saving...\u001b[18;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;15H\u001b[?25ldone\u001b[18;31H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[18;31H\u001b[?25l\u001b[32ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mu\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mp\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n                \u001b[1m\u001b[36mraise\u001b[0m\u001b[39;49m \u001b[32mException\u001b[39;49m(\u001b[32m\"Not there yet.\"\u001b[39;49m)\u001b[K\u001b[18;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[18;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[18;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\u001b[?25l            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q == \u001b[32m\"Back\"\u001b[39;49m:\u001b[K\r\n                \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = \u001b[35mNone\u001b[39;49m\u001b[K\r\n        \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\u001b[19;37H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[23;6H\u001b[?25l\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[19;1H\u001b[1M\u001b[1;24r\u001b[22;1H\u001b[?25l            \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\u001b[K\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\t\u001b[?25l    \u001b[33mq\u001b[39;49m = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.handle_input(c)\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = \u001b[35mNone\u001b[39;49m\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q == \u001b[32m\"Edit\"\u001b[39;49m:\u001b[K\r\n\t        \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"edit\"\u001b[39;49m,json.loads(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection)\r\n\t    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q == \u001b[32m\"Play\"\u001b[39;49m:\u001b[K\r\n\t        \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state = \u001b[32m\"setup\"\u001b[39;49m\u001b[8;13H\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m q == \u001b[32m\"Back\"\u001b[39;49m:\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = \u001b[35mNone\u001b[39;49m\u001b[10;5H    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\u001b[11;5H        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m c == \u001b[32m\"up\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor -= 1\r\n\t    \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"down\"\u001b[39;49m: \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor += 1\u001b[13;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\u001b[K\u001b[14;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\u001b[15;13H    data = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in):\u001b[K\u001b[17;13H        i = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor - \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in)\r\n\t\t    data = storage.read(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined[i])\u001b[19;13H    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t\t    i = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[K\r\n\t            \u001b[33mdata\u001b[39;49m = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in[i])\u001b[22;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = data\u001b[K\u001b[23;29H\u001b[7m26% L38\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m40\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\u001b[K\u001b[3;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[K\u001b[4;13H    data = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in):\u001b[K\u001b[6;13H        i = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor - \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in)\r\n\t\t    data = storage.read(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined[i])\u001b[8;13H    \u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t\t    i = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[K\r\n\t            \u001b[33mdata\u001b[39;49m = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in[i])\u001b[11;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = data\u001b[K\u001b[12;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = widgets.Menu([\u001b[32m\"Play\"\u001b[39;49m,\u001b[32m\"Edit\"\u001b[39;49m,\u001b[32m\"Back\"\u001b[39;49m])\r\n\t\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[15;5H\u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[16;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n\tdraw.fill(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h)\u001b[K\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\u001b[19;13Hdraw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[20;13Hdraw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\r\n\u001b[K\u001b[22;13H\u001b[31m# Todo... correctly scroll.                                         \u001b[39;49m\r\n\u001b[23;29H\u001b[7m44% L49\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[10;21H\u001b[?25ldata\r\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[12;65H\u001b[23;34H\u001b[?25l\u001b[7m50\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;13H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25lpas\u001b[K\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;12H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\r\u001b[K\t\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\r\t\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[23;30H\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;16H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l=\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[32m\"                                                    \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[13;29H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ms\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ml\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mf\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m \u001b[39;49m\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l\u001b[32m    # Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[32m    def draw(self, x, y):                                                       \u001b[39;49m\r\n\u001b[32m        draw.fill(0,0,self.w,self.h)                                            \u001b[39;49m\r\n\u001b[32m        if self.state == \"\u001b[39;49mhome\u001b[32m\":                                                \u001b[39;49m\r\n\u001b[32m            draw.string(1,1,\"\u001b[39;49mWelcome to Rules of War!\u001b[32m\")                         \u001b[39;49m\r\n\u001b[32m            draw.string(1,3,\"\u001b[39;49mPlease select a \u001b[1m\u001b[34mmap\u001b[0m\u001b[39;49m!\u001b[32m\")                             \u001b[39;49m\r\n\u001b[32m                                                                                \u001b[39;49m\r\n\u001b[32m            # Todo... correctly scroll.                                         \u001b[39;49m\r\n\u001b[13;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mu\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mp\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32m\"\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[13;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lCloses \u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[13;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l:\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[15;1H\u001b[1L\u001b[1;24r\u001b[24;1H\u001b[K\u001b[15d\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[14;13H\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\u001b[?25l    \u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n    \u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\u001b[K\r\n        draw.fill(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h)\u001b[K\r\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\r\n            draw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[K\r\n            draw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\u001b[K\r\n\u001b[K\u001b[14;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[14;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[14;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[2;13H\u001b[?25ldraw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\r\n\u001b[K\u001b[4;13H\u001b[31m# Todo... correctly scroll.                                         \u001b[39;49m\r\n\u001b[5;13Hi = 0\u001b[K\n\b\b\b\b\bdraw.string(40,1,\u001b[32m\"Built-in Maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[K\u001b[7;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in:\u001b[K\r\n\t\tcol = \u001b[32m\"\"\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\r\n\t\tdraw.string(40,2+i,m,col)\u001b[K\r\n\t\t\u001b[33mi\u001b[39;49m += 1\u001b[K\u001b[12;13Hdraw.string(40,3+i,\u001b[32m\"User-generated maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined:\u001b[14;13H    \u001b[33mcol\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\u001b[16;5H            draw.string(40,4+i,m,col)\u001b[K\u001b[17;5H            i += 1\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"edit\"\u001b[39;49m:\u001b[20;13H\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu:\u001b[23;29H\u001b[7m73% L58\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m60\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[5;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[7;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[8;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[10;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;34H\u001b[?25l\u001b[7m70\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m1\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;35H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[32m\"\u001b[39;49m:\u001b[K\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m\"\u001b[39;49m:\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m\"\u001b[39;49m:\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l\u001b[32m\"\u001b[39;49m:\u001b[K\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32ms\"\u001b[39;49m:\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32me\"\u001b[39;49m:\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mt\"\u001b[39;49m:\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mu\"\u001b[39;49m:\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[32mp\"\u001b[39;49m:\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[19;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[19;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[19;34H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\n\n\n\n\n\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m4\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[?25l(No changes need to be saved)\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24d\u001b[K\u001b[18d\u001b[24d\u001b[?25l\u001b[34mSwitch to buffer (default rules.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lrules.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lgrid.py\u001b[K\b\b\b\b\b\b\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lshell.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ltorage.py\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l*scratch*\u001b[K\u001b[24;38H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mLisp-Interaction Help\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[K\nYou know what? Let's work on that part. The main menu. I don't want to make\r\na rule editor quite yet.\u001b[K\r\n\u001b[K\nSo the main menu should look as follows:\u001b[K\r\n\u001b[K\u001b[8;4HRULES OF WAR          > Versus Match\r\n\t\t         > Edit Maps/Rules\u001b[K\r\n\t\t         > Quit\u001b[K\r\n\u001b[K\nIn both cases, you are presented with a list of maps. When you click on a map\r\nin 'edit maps/rules', you are taken to the editor. When you click on a map in\r\nversus match, you get to pick the names and colors for each player (as well\r\nas allies).\u001b[K\r\n\u001b[K\nThe challenge is where to put the main menu in the code. The main menu lets\r\nyou essentially create a rules file from a file on the computer and then\r\ninstantiates it.\u001b[K\r\n\u001b[K\n\n\u001b[K\u001b[23;6H\u001b[7m**--F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1m*scratch*   \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   78% L62    (Lisp Interaction) \u001b[0m\u001b[39;49m\u001b[27m\u001b[19;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[21;1H\u001b[1L\u001b[1;24r\u001b[21;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[20;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;30H\u001b[?25l\u001b[7m7% L64\u001b[0m\u001b[39;49m\u001b[27m\u001b[21;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lS\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lW\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[23;30H\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[22;39H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\b\u001b[K\t\b\b\b\u001b[K\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[23;30H\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[22;78H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[H\n\u001b[?25lin 'edit maps/rules', you are taken to the editor. When you click on a map in\r\nversus match, you get to pick the names and colors for each player (as well\r\n\u001b[Cs allies).\u001b[K\r\n\nThe challenge is where to put the main menu in the code. The main menu lets\r\nyou essentially create a rules file from a file on the computer and then\r\ninstantiates it.\u001b[K\r\n\u001b[K\n\u001b[K\nSo that works out pretty well. We find all of the stages we can play on, list\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\n\u001b[K\n\u001b[K\n\u001b[K\n\n\n\u001b[K\u001b[23;29H\u001b[7mBot L66\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\b\u001b[K\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lW\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[14;1H\u001b[1L\u001b[1;24r\u001b[14;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\b\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mFile to save in: \u001b[39;49m~/Documents/rules-of-war/\u001b[1;33H\u001b[7mMinibuf Help         \u001b[0m\u001b[39;49m\u001b[27m\u001b[24;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\u0007\r\u001b[?25lQuit\u001b[K\u001b[1;33H\u001b[7mLisp-Interaction Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[13;71H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[13;72H\b\b\u001b[K\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\u001b[C\b\u001b[1;22r\u001b[15;1H\u001b[1L\u001b[1;24r\u001b[15;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lf\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lx\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lI\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lk\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lb\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;22r\u001b[16;1H\u001b[1L\u001b[1;24r\u001b[16;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[15;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lS\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\t\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l'\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lw\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lu\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lp\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lm\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[K\u001b[C\b\u001b[?25l,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25lc\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll\u001b[?12l\u001b[?25h\u001b[?12;25h\t\b\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25ln\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25li\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\u001b[?25lg\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lh\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lt\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l!\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l\u001b[34mFile to save in: \u001b[39;49m~/Documents/rules-of-war/\u001b[1;33H\u001b[7mMinibuf Help         \u001b[0m\u001b[39;49m\u001b[27m\u001b[24;43H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\u001b[?25l\\\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\u001b[?25l/\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ld\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25la\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ly\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l1\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l9\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[?25lWrote /home/isharacomix/day19\u001b[15;59H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[1;33H\u001b[?25l\u001b[7mLisp-Interaction Help\u001b[0m\u001b[39;49m\u001b[27m\u001b[23;6H\u001b[7m----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mday19    \u001b[0m\u001b[39;49m\u001b[27m\u001b[15;59H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[15;59H\u001b[24;1H\u001b[?25l\u001b[34mSwitch to buffer (default landing.py): \u001b[39;49m\u001b[1;33H\u001b[7mMinibuf Help         \u001b[0m\u001b[39;49m\u001b[27m\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25llanding.py\u001b[24;40H\u001b[?12l\u001b[?25h\u001b[?12;25h\r\u001b[K\u001b[1;33H\u001b[?25l\u001b[7mPython Help \u001b[0m\u001b[39;49m\u001b[27m\r\n            draw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\u001b[K\r\n\u001b[K\n            \u001b[31m# Todo... correctly scroll.                                         \u001b[39;49m\r\n\u001b[5;13Hi = 0\r\n            draw.string(40,1,\u001b[32m\"Built-in Maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in:\u001b[K\r\n                col = \u001b[32m\"\"\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\r\n\t\tdraw.string(40,2+i,m,col)\r\n                \u001b[33mi\u001b[39;49m += 1\u001b[K\r\n            draw.string(40,3+i,\u001b[32m\"User-generated maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[K\r\n            \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined:\u001b[K\r\n                \u001b[33mcol\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\u001b[K\r\n                \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\u001b[K\r\n\t\tdraw.string(40,4+i,m,col)\r\n\t\ti += 1\r\n\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"setup\"\u001b[39;49m:\u001b[20;13H\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\r\n\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu:\u001b[23;14H\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   73% L74    (Python) ----------\u001b[0m\u001b[39;49m\u001b[27m\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m3\u001b[0m\u001b[39;49m\u001b[27m\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m2\u001b[0m\u001b[39;49m\u001b[27m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25l\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"q\"\u001b[39;49m: \u001b[1m\u001b[36mreturn\u001b[0m\u001b[39;49m \u001b[32m\"quit\"\u001b[39;49m\u001b[K\u001b[3;13H\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m c == \u001b[32m\"enter\"\u001b[39;49m:\u001b[4;13H    data = \u001b[32m\"\"\u001b[39;49m\u001b[K\u001b[5;13H    \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor >= \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in):\u001b[6;13H        i = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor - \u001b[1m\u001b[34mlen\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in)\u001b[7;13H        data = storage.read(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined[i])\r\n\t\t\u001b[1m\u001b[36melse\u001b[0m\u001b[39;49m:\u001b[K\r\n\t\t    i = \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor\u001b[K\r\n\t\t    data = storage.read_data(\u001b[32m\"maps\"\u001b[39;49m,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in[i])\r\n\t\t\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.map_selection = data\u001b[12;13H    \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu = widgets.Menu([\u001b[32m\"Play\"\u001b[39;49m,\u001b[32m\"Edit\"\u001b[39;49m,\u001b[32m\"Back\"\u001b[39;49m])\r\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"setup\"\u001b[39;49m:\u001b[K\u001b[14;13H\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\u001b[16;5H\u001b[31m# Here we draw our current state.                                           \u001b[39;49m\r\n\u001b[17;5H\u001b[1m\u001b[36mdef\u001b[0m\u001b[39;49m \u001b[1m\u001b[34mdraw\u001b[0m\u001b[39;49m(\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m, x, y):\r\n\tdraw.fill(0,0,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.w,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.h)\r\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"home\"\u001b[39;49m:\u001b[K\u001b[20;13Hdraw.string(1,1,\u001b[32m\"Welcome to Rules of War!\"\u001b[39;49m)\u001b[21;13Hdraw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\r\n\u001b[K\u001b[23;29H\u001b[7m43% L59\u001b[0m\u001b[39;49m\u001b[27m\r\u001b[A\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[2;13H\u001b[?25ldraw.string(1,3,\u001b[32m\"Please select a map!\"\u001b[39;49m)\r\n\u001b[K\u001b[4;13H\u001b[31m# Todo... correctly scroll.                                         \u001b[39;49m\r\n\u001b[5;13Hi = 0\u001b[K\n\b\b\b\b\bdraw.string(40,1,\u001b[32m\"Built-in Maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[K\u001b[7;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.built_in:\u001b[K\r\n\t\tcol = \u001b[32m\"\"\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\r\n\t\tdraw.string(40,2+i,m,col)\u001b[K\r\n\t\t\u001b[33mi\u001b[39;49m += 1\u001b[K\u001b[12;13Hdraw.string(40,3+i,\u001b[32m\"User-generated maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[K\r\n\t    \u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined:\u001b[14;13H    \u001b[33mcol\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\u001b[16;5H            draw.string(40,4+i,m,col)\u001b[K\u001b[17;5H            i += 1\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"setup\"\u001b[39;49m:\u001b[20;13H\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\u001b[K\r\n\u001b[K\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu:\u001b[23;29H\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[A\u001b[K\n\t\u001b[?25l\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu:\u001b[4;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.draw(1,1)\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\n\u001b[K\n\u001b[K\n\n\u001b[K\u001b[23;29H\u001b[7mBot L77\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\n\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m9\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;1H\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\t\t\b\b\b\u001b[?25l)\u001b[K\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;30H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\u001b[?25l)\u001b[K\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l5)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l0)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l,)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25le)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ll)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\u001b[?25l\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l.)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lc)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lu)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25ls)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lo)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25lr)\b\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[4;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[4;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py\r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[2d Welcome to Rules of War!\u001b[2;41H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mBuilt-in Maps\u001b[3;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault.json\u001b[4;2H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mPlease select a map!\u001b[4;41Hdefault1.json\u001b[6;41H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mUser-generated maps\u001b[7;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mpotato.json\u001b[8;41Hfoo.json\u001b[1;50H|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlay\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[2;50H|Edit|\u001b[3;50H|Back|\u001b[4;50H+----+\u001b[A\b\u001b[1;51HPlay\u001b[2;51H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mEdit\u001b[3d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\b\b\b\bEdit\u001b[3;51H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mBack\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[K\u001b[2;50H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mMaps\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[3;50H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mson\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[4;50Hjson\u001b[K\u001b[8;49H\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n\u001b[K\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.draw(50,\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[7m-UUU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L79    (Python) --------------------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[4;42H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\b\b\b\b\b\b\u001b[?25l3self.cursor)\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\r\t\t\t\t\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[4;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[4;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\r\n[1]+  Stopped                 emacs\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ fg\b\b./rules-of-war.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\b\b./rules-of-war.py\r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?25l\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b[37m\u001b[40m\u001b[H\u001b[2J\u001b[2d Welcome to Rules of War!\u001b[2;41H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mBuilt-in Maps\u001b[3;41H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mdefault.json\u001b[4;2H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mPlease select a map!\u001b[4;41Hdefault1.json\u001b[6;41H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mUser-generated maps\u001b[7;41H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mpotato.json\u001b[8;41Hfoo.json\u001b[3;50H+----+\u001b[4;50H|\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mPlay\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m|\u001b[5;50H|Edit|\u001b[6;50H|Back|\u001b[7;50H+----+\u001b[A\b\u001b[4;51HPlay\u001b[5;51H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mEdit\u001b[6d\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[A\b\b\b\bEdit\u001b[6;51H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mBack\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[3;50H\u001b(B\u001b[0;7m\u001b[39;49m\u001b[37m\u001b[40mson\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40m\u001b[K\u001b[4;50Hjson\u001b[K\r\u001b[5d\u001b[K\u001b[6;50H\u001b(B\u001b[0;1m\u001b[39;49m\u001b[37m\u001b[40mrated \u001b[7;50H\u001b(B\u001b[m\u001b[39;49m\u001b[37m\u001b[40mon\u001b[K\u001b[8;49H\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[39;49m\r\u001b[24d\u001b[K\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ ./rules-of-war.py\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\bfg\u001b[K\r\nemacs\r\n\u001b[?1049h\u001b[?12;25h\u001b[?1h\u001b=\u001b[24;1H\u001b[K\u001b[H\u001b[?25l\u001b[7mFile Edit Options Buffers Tools Python Help                                     \u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\n\u001b[K\n        \u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu:\u001b[K\r\n            \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.draw(50,3+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\u001b[K\r\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[K\n\u001b[7m-UUU:----F1  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m\u001b[1mlanding.py  \u001b[0m\u001b[39;49m\u001b[27m\u001b[7m   Bot L79    (Python) --------------------------------\u001b[0m\u001b[39;49m\u001b[27m\r\n\u001b[A\u001b[4;33H\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\b\b\b\u001b[?25l\u001b[1P\u001b[23;6H\u001b[7m**\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;28H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@4\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[C\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@8\u001b[?12l\u001b[?25h\u001b[?12;25h\b\b\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@8\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@,\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1P\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[?25l\u001b[1@2\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lSaving file /home/isharacomix/Documents/rules-of-war/code/core/landing.py...\u001b[4;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25lWrote /home/isharacomix/Documents/rules-of-war/code/core/landing.py\u001b[K\u001b[4;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;6H\u001b[?25l\u001b[7m--\u001b[0m\u001b[39;49m\u001b[27m\u001b[4;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[23;35H\u001b[?25l\u001b[7m8\u001b[0m\u001b[39;49m\u001b[27m\u001b[3;22H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m7\u001b[0m\u001b[39;49m\u001b[27m\u001b[H\n\u001b[?12l\u001b[?25h\u001b[?12;25h\t\t\u001b[?25ldraw.string(40,2+i,m,col)\r\n\t        \u001b[33mi\u001b[39;49m += 1\u001b[4;13Hdraw.string(40,3+i,\u001b[32m\"User-generated maps\"\u001b[39;49m,\u001b[32m\"!\"\u001b[39;49m)\u001b[5;13H\u001b[1m\u001b[36mfor\u001b[0m\u001b[39;49m m \u001b[1m\u001b[36min\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.user_defined:\r\n\t\t\u001b[33mcol\u001b[39;49m = \u001b[32m\"\"\u001b[39;49m\r\n\t\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m i == \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor: col = \u001b[32m\"?\"\u001b[39;49m\r\n\t\tdraw.string(40,4+i,m,col)\r\n\t\ti += 1\r\n\n\t\u001b[1m\u001b[36melif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.state == \u001b[32m\"setup\"\u001b[39;49m:\u001b[12;13H\u001b[1m\u001b[36mpass\u001b[0m\u001b[39;49m\r\n\n\t\u001b[1m\u001b[36mif\u001b[0m\u001b[39;49m \u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu:\u001b[15;13H\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.menu.draw(48,2+\u001b[1m\u001b[36mself\u001b[0m\u001b[39;49m.cursor)\u001b[23;35H\u001b[7m6\u001b[0m\u001b[39;49m\u001b[27m\u001b[12;17H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[23;35H\u001b[?25l\u001b[7m5\u001b[0m\u001b[39;49m\u001b[27m\u001b[11;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[?25l(No changes need to be saved)\u001b[11;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[11;32H\u001b[24;1H\u001b[?25l(No files need saving)\u001b[11;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[11;32H\u001b[24;1H\u001b[?25l(No files need saving)\u001b[11;32H\u001b[?12l\u001b[?25h\u001b[?12;25h\u001b[24;1H\u001b[K\u001b[?1l\u001b>\u001b[?12l\u001b[?25h\u001b[?1049l\u001b[39;49m\r\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ git add -A .\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ gt\b\u001b[Kit add -A .\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ git commit -a\r\n\u001b[?1049h\u001b[1;24r\u001b(B\u001b[m\u001b[4l\u001b[?7h\u001b[?12l\u001b[?25h\u001b[?1h\u001b=\u001b[?1h\u001b=\u001b[?1h\u001b=\u001b[39;49m\u001b[39;49m\u001b(B\u001b[m\u001b[H\u001b[2J\u001b(B\u001b[0;7m  GNU nano 2.2.6           File: .git/COMMIT_EDITMSG                            \u001b[4;1H\u001b(B\u001b[m# Please enter the commit message for your changes. Lines starting\r\u001b[5d# with '#' will be ignored, and an empty message aborts the commit.\r\u001b[6d# On branch master\r\u001b[7d# Changes to be committed:\r\u001b[8d#   (use \"git reset HEAD <file>...\" to unstage)\r\u001b[9d#\u001b[10d\b#\u001b[9Gmodified:   code/core/grid.py\r\u001b[11d#\u001b[9Gnew file:   code/core/landing.py\r\u001b[12d#\u001b[9Gmodified:   code/core/rules.py\r\u001b[13d#\u001b[9Gmodified:   code/core/shell.py\r\u001b[14d#\u001b[9Gmodified:   code/core/storage.py\r\u001b[15d#\u001b[9Gmodified:   data/maps/default.json\r\u001b[16d#\u001b[22;32H\u001b(B\u001b[0;7m[ Read 14 lines ]\r\u001b[23d^G\u001b(B\u001b[m Get Help  \u001b(B\u001b[0;7m^O\u001b(B\u001b[m WriteOut  \u001b(B\u001b[0;7m^R\u001b(B\u001b[m Read File \u001b(B\u001b[0;7m^Y\u001b(B\u001b[m Prev Page \u001b(B\u001b[0;7m^K\u001b(B\u001b[m Cut Text  \u001b(B\u001b[0;7m^C\u001b(B\u001b[m Cur Pos\r\u001b[24d\u001b(B\u001b[0;7m^X\u001b(B\u001b[m Exit\u001b[14G\u001b(B\u001b[0;7m^J\u001b(B\u001b[m Justify   \u001b(B\u001b[0;7m^W\u001b(B\u001b[m Where Is  \u001b(B\u001b[0;7m^V\u001b(B\u001b[m Next Page \u001b(B\u001b[0;7m^U\u001b(B\u001b[m UnCut Text\u001b(B\u001b[0;7m^T\u001b(B\u001b[m To Spell\r\u001b[3d\u001b[2;21r\u001b[2;1H\u001bM\u001b[1;24r\u001b[1;71H\u001b(B\u001b[0;7mModified\r\u001b[4d\u001b(B\u001b[m\u001b[ACreated the landing:\u001b7\u001b[4;21r\u001b8\r\u001b[4d\u001bM\u001b[1;24r\u001b[4;1H *\r\u001b[22d\u001b[K\u001b[4d * Main menu where s\b \bstage to p\b \bbe played on is selected.\u001b7\u001b[5;22r\u001b8\r\u001b[5d\u001bM\u001b[1;24r\u001b[5;1H *\r\u001b[K \bAlso:\u001b7\u001b[6;22r\u001b8\r\u001b[6d\u001bM\u001b[1;24r\u001b[6;1H \b\u001b[6;22r\u001b[22;1H\n\u001b[1;24r\u001b[5;6H\b \b\b \b\b \b\b \b\b\u001b[KMap eE\b \b\b \bEditor\u001b[A\u001b[A\u001b[3;21H\b :\ba:\bn:\bd:\b :\bw:\bo:\br:\bk:\be:\bd:\b :\bo:\bn:\b :\bm:\ba:\bp:\b :\be:\bd:\bi:\bt:\bo:\br:\b\u001b[4d\u001b[5;11H\r Map Editor\r *Map Editor\r * Map Editor\r * \u001b[5;14H now permits team edito\b \bing and reordering.\u001b7\u001b[6;22r\u001b8\r\u001b[6d\u001bM\u001b[1;24r\u001b[6;1H * Crate\b \b\b \b\b \beated new \"nocover\" prp\b \boprety\b \b\b \b\b \b\b \berty that disal\b \bbles terrain defense bonuses.\u001b7\u001b[7;22r\u001b8\r\u001b[7d\u001bM\u001b[1;24r\u001b[7;1H \b\u001b[7;22r\u001b[22;1H\n\u001b[1;24r\u001b[6;73H\r\u001b[22d\u001b(B\u001b[0;7mSave modified buffer (ANSWERING \"No\" WILL DESTROY CHANGES) ?                    \u001b[23;1H Y\u001b(B\u001b[m Yes\u001b[K\r\u001b[24d\u001b(B\u001b[0;7m N\u001b(B\u001b[m No  \u001b[14G   \u001b(B\u001b[0;7m^C\u001b(B\u001b[m Cancel\u001b[K\u001b[22;62H\r\u001b(B\u001b[0;7mFile Name to Write: .git/COMMIT_EDITMSG                     \r\u001b[23d^G\u001b(B\u001b[m Get Help\u001b[23;21H\u001b(B\u001b[0;7mM-D\u001b(B\u001b[m DOS Format\u001b[41G\u001b(B\u001b[0;7mM-A\u001b(B\u001b[m Append\u001b[23;61H\u001b(B\u001b[0;7mM-B\u001b(B\u001b[m Backup File\r\u001b[24d\u001b(B\u001b[0;7m^C\u001b(B\u001b[m Cancel\u001b[17G    \u001b(B\u001b[0;7mM-M\u001b(B\u001b[m Mac Format\u001b[41G\u001b(B\u001b[0;7mM-P\u001b(B\u001b[m Prepend\u001b[22;40H\r\u001b[23d\u001b[39;49m\u001b(B\u001b[m\u001b[J\u001b[1;71H\u001b(B\u001b[0;7m        \u001b[22;31H\u001b(B\u001b[m\u001b[1K \u001b(B\u001b[0;7m[ Wrote 18 lines ]\u001b(B\u001b[m\u001b[K\u001b[24;80H\u001b[24;1H\u001b[?1049l\r\u001b[?1l\u001b>[master 8d025ef] Created the landing and worked on map editor:  * Main menu where stage to be played on is selected.  * Map Editor now permits team editing and reordering.  * Created new \"nocover\" property that disables terrain defense bonuses.\r\n 6 files changed, 231 insertions(+), 98 deletions(-)\r\n create mode 100644 code/core/landing.py\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ gt\b\u001b[Kit push\r\nCounting objects: 22, done.\r\nDelta compression using up to 2 threads.\r\nCompressing objects:  10% (1/10)   \rCompressing objects:  20% (2/10)   \rCompressing objects:  30% (3/10)   \rCompressing objects:  40% (4/10)   \rCompressing objects:  50% (5/10)   \rCompressing objects:  60% (6/10)   \rCompressing objects:  70% (7/10)   \rCompressing objects:  80% (8/10)   \rCompressing objects:  90% (9/10)   \rCompressing objects: 100% (10/10)   \rCompressing objects: 100% (10/10), done.\r\nWriting objects:   8% (1/12)   \rWriting objects:  16% (2/12)   \rWriting objects:  25% (3/12)   \rWriting objects:  33% (4/12)   \rWriting objects:  41% (5/12)   \rWriting objects:  50% (6/12)   \rWriting objects:  58% (7/12)   \rWriting objects:  66% (8/12)   \rWriting objects:  75% (9/12)   \rWriting objects:  83% (10/12)   \rWriting objects:  91% (11/12)   \rWriting objects: 100% (12/12)   \rWriting objects: 100% (12/12), 3.54 KiB | 0 bytes/s, done.\r\nTotal 12 (delta 6), reused 0 (delta 0)\r\nTo git@github.com:isharacomix/rules-of-war.git\r\n   7565a8d..8d025ef  master -> master\r\n\u001b]0;isharacomix@beatrix: ~/Documents/rules-of-war\u0007isharacomix@beatrix:~/Documents/rules-of-war$ cd ..\r\n\u001b]0;isharacomix@beatrix: ~/Documents\u0007isharacomix@beatrix:~/Documents$ ls\r\n\u001b[0m\u001b[01;34misharacomix.github.io\u001b[0m  \u001b[01;34mpresentations\u001b[0m  \u001b[01;34mresearch\u001b[0m  \u001b[01;34mrules-of-war\u001b[0m  \u001b[01;34mteaching\u001b[0m  \u001b[01;34mtvtgj\u001b[0m\r\n\u001b]0;isharacomix@beatrix: ~/Documents\u0007isharacomix@beatrix:~/Documents$ sheler \b\u001b[K\b\u001b[K\b\u001b[Kr \b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[K\b\u001b[Kexit\r\n\nScript done on Thu 23 Jan 2014 11:42:49 PM EST\n","timing":"0.155516 96\n0.287722 1\n5.503077 1\n0.167792 1\n0.055637 1\n0.136343 1\n0.007552 1\n0.048030 4\n0.432367 4\n0.111899 4\n0.120168 1\n0.087346 1\n0.040551 1\n0.128096 1\n0.383976 4\n0.383942 4\n0.423941 2\n0.218062 24\n0.014317 7\n0.038860 44\n0.000029 24\n0.000613 7\n0.001449 188\n0.008066 63\n0.007436 43\n0.001470 87\n0.000883 43\n0.002323 73\n0.000935 57\n0.004136 106\n0.025739 124\n0.003314 68\n0.000027 276\n0.000330 11\n0.002049 55\n0.000029 104\n0.000817 43\n0.001417 87\n0.000801 5\n0.030230 123\n0.001966 334\n0.000477 138\n0.017307 1693\n0.035964 12\n0.709556 102\n0.250604 29\n0.001274 44\n0.180439 46\n0.504141 48\n0.607913 565\n0.234025 136\n0.615107 63\n0.119418 63\n0.257020 63\n0.118907 28\n1.055937 28\n0.152042 28\n0.103870 28\n0.079814 3\n0.112370 28\n0.103770 28\n0.936415 28\n0.071703 3\n0.112150 28\n0.175939 28\n0.095963 3\n0.224103 28\n0.040082 28\n0.127837 28\n0.055761 1\n0.111949 1\n0.680219 4\n0.144111 4\n0.144136 8\n0.136042 1\n0.127874 28\n0.184039 3\n0.103983 28\n0.047919 28\n0.072136 28\n0.407970 4\n0.359908 28\n0.128342 3\n0.127328 28\n0.096323 28\n0.087911 28\n0.080229 3\n0.103653 28\n0.256243 28\n0.152355 28\n0.151472 28\n0.032151 3\n0.151983 28\n0.207947 28\n0.216167 28\n0.167946 3\n0.048173 28\n0.047784 28\n0.183996 3\n0.064046 28\n0.056348 3\n0.072013 28\n0.191794 28\n0.120150 28\n0.063771 28\n0.232001 1\n0.191968 28\n0.495796 28\n0.096245 28\n0.119955 3\n0.087966 28\n0.098585 28\n0.229734 28\n0.015523 28\n0.328172 3\n0.111833 28\n0.095904 28\n0.136258 3\n0.071623 28\n0.040700 28\n0.111333 28\n0.048256 28\n0.112403 3\n0.063725 28\n0.096143 28\n0.137549 28\n0.119027 3\n53.007393 28\n2.247989 28\n0.224391 28\n0.167621 3\n0.064090 28\n0.079651 28\n0.200344 28\n0.224453 28\n0.039415 28\n0.336093 4\n0.407923 28\n0.080326 28\n0.095675 28\n0.112084 28\n0.231922 63\n0.248282 28\n0.119688 28\n0.208020 28\n0.064013 28\n0.087907 28\n0.055812 3\n0.136129 28\n0.079992 28\n0.040286 28\n0.127838 28\n0.199988 28\n0.087634 28\n0.112406 28\n0.176071 28\n0.159626 2\n0.152375 28\n0.071655 28\n0.168565 4\n0.471594 28\n0.239982 28\n0.024181 28\n0.064303 28\n0.031384 3\n0.103950 28\n0.168271 28\n0.111738 28\n0.088173 28\n0.112084 28\n0.128008 28\n0.168309 28\n0.143830 28\n0.111986 28\n0.232748 28\n0.087435 1\n0.079841 28\n0.063987 28\n0.112198 4\n0.279919 6\n0.135662 1\n0.143994 4\n0.128013 4\n0.128383 3\n0.087653 28\n0.128199 28\n0.063677 3\n0.119973 28\n0.072053 28\n0.088152 28\n0.048737 3\n0.207369 1\n0.536012 4\n0.119931 4\n0.128002 28\n0.215820 28\n0.064273 3\n0.119704 28\n0.080226 28\n0.064669 28\n0.167436 28\n0.007482 28\n0.064036 28\n0.128430 28\n0.128305 28\n0.095154 4\n0.464331 4\n0.127985 4\n0.136101 4\n0.120441 4\n0.111788 28\n0.279706 28\n0.179250 28\n0.124597 28\n0.112208 28\n0.056010 28\n0.056344 2\n0.087292 28\n0.144449 28\n0.095826 3\n0.047873 28\n0.096986 28\n0.079376 28\n0.088154 3\n0.095810 28\n0.095977 28\n0.200093 28\n0.055943 28\n0.064528 4\n0.431433 4\n0.095989 28\n0.159974 4\n0.191978 4\n0.135970 28\n0.136232 28\n0.152002 28\n0.055907 28\n0.088059 28\n0.095582 3\n0.144356 28\n0.055685 28\n0.056257 28\n0.103585 28\n0.080660 3\n0.079816 28\n0.185056 28\n0.071293 28\n0.348086 28\n0.963691 63\n0.967968 28\n0.391455 28\n0.272389 28\n0.167814 3\n0.088901 28\n0.303026 28\n0.079704 28\n0.080150 1\n0.112009 28\n0.072638 28\n0.128239 28\n0.071123 28\n0.080023 28\n0.088145 28\n0.088325 2\n0.119834 28\n0.072215 28\n0.095636 28\n0.213832 28\n0.144240 28\n0.071893 3\n0.128447 28\n0.071705 28\n0.170160 28\n0.127864 28\n0.256162 28\n0.087801 28\n0.167691 3\n0.088166 28\n0.072175 28\n0.136096 28\n0.128418 28\n0.023403 28\n0.072190 28\n0.079849 28\n0.079942 28\n0.087758 28\n0.088035 28\n0.184481 28\n0.303732 1\n0.144061 28\n0.207806 28\n0.232352 28\n0.112514 28\n0.239144 28\n0.200403 28\n0.119680 2\n0.072514 28\n0.063250 28\n0.064132 28\n0.112417 3\n0.079277 28\n0.128705 28\n0.472093 28\n0.213754 2\n55.306288 28\n0.343853 28\n0.256069 28\n0.175593 28\n0.104240 3\n0.103790 28\n0.136342 28\n0.063787 28\n0.136139 28\n0.079669 28\n0.112046 28\n0.032153 28\n0.120840 28\n0.231444 3\n0.087629 28\n0.144377 28\n0.039962 63\n0.288092 28\n0.079657 28\n0.120051 28\n0.247942 28\n0.071642 28\n0.056227 28\n0.128313 28\n0.135943 28\n0.047926 28\n0.080186 3\n0.095349 28\n0.168545 28\n0.208790 3\n0.054428 28\n0.088704 28\n0.080057 28\n0.080078 28\n0.111830 3\n0.103575 28\n0.193306 28\n0.055388 28\n0.208009 3\n42.064041 28\n0.087670 28\n0.363041 28\n0.017151 3\n0.139789 28\n0.039818 28\n0.288320 28\n0.090821 3\n0.213109 1\n0.271839 4\n0.119944 4\n0.128823 28\n0.239267 28\n0.039695 28\n0.080748 2\n0.127803 28\n0.119891 28\n0.160156 28\n0.079902 28\n0.088198 28\n0.103637 3\n0.064276 28\n0.168048 28\n0.151916 1\n0.199847 28\n0.199834 28\n0.192201 28\n0.128517 28\n0.056841 28\n0.174692 28\n0.079777 28\n0.240340 28\n0.047620 28\n0.168262 28\n0.168061 3\n30.752101 28\n0.432058 28\n0.191606 28\n0.064207 28\n0.169809 28\n0.094187 28\n0.248023 3\n0.256262 28\n0.087006 28\n0.088668 3\n0.128177 28\n0.304031 28\n0.399949 28\n0.175717 3\n0.095791 28\n0.104308 3\n0.015929 28\n0.344082 28\n0.087864 28\n0.087964 64\n0.248322 28\n0.079738 28\n0.135934 28\n0.103650 28\n0.152688 28\n0.151648 28\n0.119948 28\n0.047929 28\n0.112323 28\n0.151849 28\n0.135948 3\n0.048247 28\n0.079376 28\n0.080528 28\n0.112222 28\n0.208186 28\n0.111914 3\n0.079523 28\n0.031867 28\n0.048094 28\n0.504183 28\n0.087632 28\n0.160152 28\n0.184130 28\n0.136107 28\n0.072157 28\n0.047743 28\n0.096025 3\n0.071910 28\n0.087927 28\n0.096220 2\n0.080417 28\n0.087409 28\n0.264295 28\n0.135854 28\n0.055982 28\n0.159912 28\n0.065761 65\n0.263935 65\n0.758863 64\n0.111618 28\n59.415990 28\n0.151974 28\n0.167850 28\n0.088227 28\n0.015702 28\n0.031986 28\n0.327991 1\n0.208057 28\n0.640503 28\n0.127637 28\n0.047841 28\n0.087810 28\n0.096237 3\n0.111951 28\n0.055720 28\n0.072681 28\n0.131256 28\n0.173073 3\n0.087163 28\n0.200336 28\n0.095590 28\n0.088244 2\n0.127918 28\n0.023691 28\n0.304291 28\n0.024141 4\n0.328081 4\n0.080312 28\n0.225266 28\n0.030135 28\n0.072317 28\n0.080027 3\n0.103787 28\n0.079803 28\n0.128189 28\n0.112730 28\n0.063300 28\n0.048073 3\n0.128023 28\n0.135970 3\n0.120067 28\n0.039929 28\n0.080206 28\n0.095721 28\n0.088111 3\n0.055677 28\n0.071778 28\n0.096340 3\n0.064664 28\n0.063171 28\n0.064352 1\n0.079678 28\n0.112464 28\n0.080021 3\n0.095849 28\n0.368035 8\n0.311814 28\n0.128206 28\n0.015791 28\n0.119915 4\n0.349868 4\n0.119980 8\n0.112131 28\n0.098404 28\n0.031831 28\n0.125828 2\n0.202292 28\n0.135855 3\n0.008079 28\n0.232072 28\n0.120022 28\n0.063793 28\n0.144101 28\n0.079560 28\n0.032242 28\n0.344051 28\n0.096151 28\n0.007750 4\n0.408428 4\n0.095355 28\n0.248619 3\n0.087858 28\n0.023691 28\n0.104376 28\n0.063560 28\n0.024095 2\n0.120431 28\n0.247997 7\n0.336046 28\n0.191745 28\n0.024454 28\n0.135860 28\n0.079719 28\n0.047949 64\n0.184687 28\n0.239507 28\n0.128058 28\n0.151973 28\n0.047816 28\n0.072216 3\n0.079908 28\n3.640315 28\n0.247911 28\n0.175760 28\n0.111748 28\n0.144339 28\n0.087836 3\n0.111821 28\n0.112293 28\n0.215812 28\n0.055910 28\n0.008418 4\n0.391838 4\n0.096285 4\n0.159470 28\n0.088603 28\n0.157494 28\n0.024119 3\n0.152098 28\n0.985869 28\n0.159892 28\n0.024015 28\n0.144428 28\n0.335616 28\n0.128000 28\n0.056076 3\n0.063425 28\n0.320613 28\n0.111571 28\n0.096187 28\n0.112129 28\n0.048140 1\n0.144005 28\n0.135603 6\n0.416307 28\n0.200055 28\n0.167948 28\n0.135857 28\n0.032662 3\n0.271502 28\n0.152182 28\n0.175965 28\n0.191846 28\n0.200321 28\n0.048165 28\n0.039078 3\n0.128145 28\n0.120651 28\n0.071709 28\n0.112095 28\n0.072122 28\n0.031234 10\n0.274244 23\n0.000060 36\n0.238132 117\n0.417434 29\n0.000582 93\n0.983353 18\n0.437807 108\n0.585958 29\n0.000041 93\n1.104077 18\n0.389856 111\n0.218302 29\n0.000036 28\n0.621880 28\n0.128070 28\n0.095937 47\n0.131545 4\n0.526276 4\n0.132204 4\n0.144612 28\n0.232007 4\n0.289048 28\n0.104236 28\n0.088155 30\n0.082769 28\n0.181405 28\n0.104445 30\n0.057684 28\n0.790158 28\n0.151796 33\n0.098155 1\n0.827554 55\n0.129802 47\n0.009622 146\n0.045114 1411\n0.000648 344\n0.562774 1\n0.000083 229\n0.000055 1\n0.000047 200\n0.000053 1\n0.000063 113\n0.000049 1\n0.000043 58\n0.000059 424\n0.000279 1\n0.000049 76\n0.000053 222\n0.000190 1\n0.000047 113\n0.000060 126\n0.611011 1\n0.000077 54\n0.000052 1\n0.000047 88\n0.000047 1\n0.000066 111\n0.000048 1\n0.000043 54\n0.000044 1\n0.000043 92\n0.000045 1\n0.000044 95\n0.000080 1\n0.000045 108\n0.000048 1\n0.000046 80\n0.000048 1\n0.000055 107\n0.000060 195\n0.000204 1\n0.000058 98\n0.000046 1\n0.000058 46\n0.000059 259\n0.000199 1\n0.000066 141\n0.000052 63\n0.763262 63\n0.497743 63\n0.050630 63\n0.050203 63\n0.050609 63\n0.050717 63\n0.050861 64\n0.049762 64\n0.301420 65\n0.263166 25\n0.246984 148\n0.000042 8\n0.390570 2\n0.445061 28\n0.751455 51\n0.064121 3\n0.151996 227\n0.272179 41\n0.239964 41\n0.192167 41\n0.135865 43\n0.456010 41\n0.336157 41\n0.104076 41\n0.111546 41\n0.120198 41\n0.055930 172\n0.264219 28\n0.172601 4\n0.363334 3\n0.120767 28\n0.111333 51\n0.113527 33\n0.382297 51\n0.264200 1\n0.088066 28\n0.111836 28\n0.144123 28\n0.464049 55\n0.127882 28\n0.087931 28\n0.192238 28\n0.143800 28\n0.080230 28\n0.152139 28\n0.095932 28\n0.089003 28\n0.502994 28\n0.136061 28\n0.088044 28\n0.048510 28\n0.290641 218\n0.270342 8\n0.241298 28\n0.332942 28\n0.056145 28\n0.103372 28\n0.160171 28\n0.047905 28\n0.047922 28\n0.144394 28\n0.119959 28\n0.096257 28\n0.111590 28\n0.088270 28\n0.111993 28\n0.080260 28\n0.383944 30\n0.052463 6\n1.001847 65\n0.427784 1\n0.202604 3\n0.658390 57\n0.159552 244\n0.000032 3\n0.241086 148\n0.192899 207\n0.000030 112\n0.718220 880\n0.000055 110\n0.000026 96\n0.000023 97\n0.000099 359\n0.000469 732\n1.001691 259\n0.000048 826\n0.000615 62\n0.884750 160\n0.502800 72\n0.045878 63\n0.054391 63\n0.049962 63\n0.051170 63\n0.050004 64\n0.050437 64\n0.050724 64\n0.050953 64\n0.049568 64\n0.050137 65\n0.050321 64\n0.049589 64\n0.049846 64\n0.050773 64\n0.050252 64\n0.050612 64\n0.050363 61\n0.050306 5\n0.062226 930\n0.000101 114\n0.000668 232\n0.000067 2\n0.000253 33\n0.000030 303\n0.000477 64\n0.038405 66\n0.050046 64\n0.049833 64\n0.725660 66\n0.159743 64\n0.499842 64\n0.050714 64\n0.050294 63\n0.051444 63\n0.050483 63\n0.050512 63\n0.050206 63\n0.050708 63\n0.050392 63\n0.048968 61\n0.050452 1785\n0.055153 64\n0.046440 64\n0.661793 64\n0.535850 64\n0.224328 65\n0.287827 220\n0.324932 403\n0.919450 318\n0.951779 66\n2.040642 1\n0.338127 66\n0.669126 3\n0.395054 1\n0.399777 212\n0.301572 175\n0.111503 1\n0.283047 45\n0.244765 45\n0.255900 45\n0.056063 45\n0.071974 45\n0.136284 45\n0.127788 45\n0.049050 45\n0.154647 45\n0.060065 45\n0.096525 45\n0.131278 45\n0.084358 45\n0.087826 45\n0.040209 45\n0.112926 45\n0.135349 45\n0.152008 45\n0.103810 45\n0.088048 45\n0.336062 45\n0.055595 45\n0.184457 45\n0.032040 45\n0.192360 45\n0.063894 45\n0.087829 45\n0.175938 45\n0.183888 45\n0.064235 45\n0.184055 45\n0.039697 48\n0.376251 48\n0.111826 45\n0.064114 45\n0.103940 45\n0.064342 45\n0.103440 45\n0.008179 48\n0.376357 48\n0.096212 48\n0.351608 45\n0.377724 45\n0.094406 48\n0.311857 48\n0.095960 45\n0.223952 45\n0.055755 45\n0.103890 45\n0.080683 45\n0.247678 45\n0.056350 48\n0.326165 48\n0.105641 48\n0.120501 45\n0.055307 45\n0.056346 45\n0.133340 45\n0.090212 45\n0.113464 45\n0.105618 45\n0.104582 45\n0.040103 45\n0.112321 116\n2.208644 110\n0.051616 146\n0.015831 42\n0.364007 59\n0.000053 116\n0.280623 110\n0.031213 65\n0.015884 106\n0.319866 742\n0.000041 140\n0.000024 312\n0.000590 3\n0.000338 354\n0.000031 144\n0.485187 784\n0.000055 409\n0.000149 94\n0.000572 201\n0.000037 95\n1.350544 1105\n0.000047 437\n0.000832 621\n0.372794 754\n0.000108 369\n0.000661 686\n0.555274 433\n0.000047 237\n0.000028 891\n0.392775 323\n0.000134 397\n0.461320 547\n0.000051 282\n0.000087 3\n0.000634 254\n0.000031 129\n0.771403 661\n0.000110 421\n0.000031 1\n0.531260 914\n0.000087 503\n0.000745 590\n0.408564 307\n0.000041 401\n0.000511 212\n0.527607 802\n0.000108 280\n0.000035 78\n0.000032 278\n0.351449 813\n0.000049 265\n0.000263 50\n0.581603 875\n0.000050 334\n0.000576 95\n0.792178 886\n0.000148 364\n0.000035 388\n0.000631 143\n0.353900 802\n0.000044 89\n0.000026 70\n0.000031 3\n0.000719 487\n0.000032 141\n0.570973 808\n0.000046 783\n0.000666 4\n0.309539 1\n0.002165 944\n0.000288 1\n0.000027 642\n0.000388 157\n0.170583 875\n0.000047 482\n0.000536 36\n0.332368 716\n0.000104 182\n0.000031 95\n0.345658 862\n0.000049 446\n0.000955 10\n0.351766 1\n0.000615 1539\n0.000069 219\n0.948967 1\n0.000032 39\n0.000020 1\n0.000019 65\n0.000019 1\n0.000130 20\n0.000019 1\n0.000120 64\n0.000024 1\n0.000020 347\n0.000072 1\n0.000052 143\n0.000065 94\n0.000178 2\n0.000125 1\n0.000022 167\n0.000026 1\n0.000058 149\n0.000059 303\n0.704348 629\n0.000089 1\n0.000572 282\n0.000038 212\n0.000206 1\n0.541057 550\n0.000099 1\n0.000052 47\n0.000051 1\n0.000048 175\n0.000053 1\n0.000282 75\n0.000046 1\n0.000059 60\n0.000203 2\n0.000349 1\n0.000057 221\n0.000290 1\n0.000057 57\n0.000050 1\n0.000139 65\n0.000058 1\n0.000138 14\n0.000151 2\n0.000307 1\n0.000056 323\n0.000180 618\n0.575776 92\n0.000802 50\n0.000229 162\n0.000011 2\n0.000192 48\n0.000126 197\n0.000024 88\n0.000127 1\n0.000165 88\n0.000451 392\n0.000016 610\n0.698694 348\n0.000020 462\n0.000011 127\n0.000011 582\n0.000354 137\n2.101228 777\n0.000049 1422\n0.000628 882\n0.832675 1\n0.000538 156\n0.000187 632\n0.000458 2\n0.000437 1\n0.000176 171\n0.000170 1\n0.000197 393\n0.000178 1\n0.943911 1044\n0.000099 1802\n0.000499 174\n0.851040 784\n0.000047 697\n0.000559 1\n2.165182 93\n0.000455 1\n0.000231 87\n0.000176 1\n0.000190 31\n0.000167 1\n0.000187 47\n0.000168 1\n0.000184 109\n0.000167 1\n0.000190 75\n0.000154 1\n0.000174 1\n0.000150 39\n0.000150 1\n0.000168 42\n0.000152 1\n0.000164 55\n0.000188 1\n0.000185 361\n0.000172 2\n0.002272 1\n0.000264 1\n0.000152 92\n0.000150 1\n0.000177 1\n0.000147 47\n0.000149 1\n0.000168 1\n0.000231 44\n0.000171 1\n0.000171 1\n0.000148 1\n0.000147 1\n0.000148 43\n0.000157 86\n0.000396 1\n0.000180 157\n0.000153 1\n0.000178 154\n0.000156 165\n54.398392 759\n0.000057 815\n0.000560 714\n3.125741 598\n0.000173 225\n0.000691 171\n0.408435 812\n0.000046 488\n0.000533 283\n0.554528 1\n0.000508 1\n0.000272 109\n0.000352 507\n0.000048 306\n0.000140 256\n0.000520 5\n0.154004 920\n0.000105 135\n0.000077 74\n0.000523 212\n0.000058 1\n0.000239 89\n0.000268 303\n0.000033 99\n0.152552 892\n0.000053 104\n0.000078 659\n0.000700 5\n0.367873 947\n0.000045 546\n0.000624 169\n0.531382 830\n0.000051 1306\n0.000530 204\n0.000561 316\n0.000037 1046\n0.287740 1520\n0.000598 5\n0.500723 962\n0.000094 1141\n0.000728 5\n0.053341 923\n0.000110 1146\n0.000600 294\n0.040773 645\n0.000041 228\n0.000093 88\n0.000468 459\n0.000064 601\n0.051207 646\n0.000089 15\n0.000529 3\n0.000351 326\n0.000028 8\n0.048070 935\n0.000045 552\n0.000779 212\n0.053232 721\n0.000049 94\n0.000027 311\n0.000517 273\n0.047679 869\n0.000048 368\n0.000853 135\n0.050440 1\n0.000576 170\n0.000246 1\n0.000269 73\n0.000232 1\n0.000254 93\n0.000285 1\n0.000668 80\n0.000250 1\n0.000245 301\n0.000225 1\n0.000261 59\n0.000333 2\n0.000551 1\n0.000313 71\n0.000215 1\n0.000236 63\n0.000219 98\n0.000458 1\n0.000278 334\n0.000237 4\n0.042138 1\n0.000703 34\n0.000207 1\n0.000193 62\n0.000160 1\n0.000262 41\n0.000156 1\n0.000172 30\n0.000156 1\n0.000170 13\n0.000153 1\n0.000173 1\n0.000148 248\n0.000158 1\n0.000188 1\n0.000149 114\n0.000152 1\n0.000176 1\n0.000150 100\n0.000148 1\n0.000173 65\n0.000162 202\n0.000338 87\n0.047908 934\n0.000110 123\n0.000029 96\n0.000026 4\n0.000974 236\n0.000040 150\n0.052647 1447\n0.000670 5\n0.054780 948\n0.000042 786\n0.000569 5\n0.044453 909\n0.000055 74\n0.000025 259\n0.000549 275\n0.050828 670\n0.000039 398\n0.000511 213\n0.050296 789\n0.000049 2\n0.000027 113\n0.000023 237\n0.000671 593\n0.053958 306\n0.000047 399\n0.001144 5\n0.051248 942\n0.000041 501\n0.000699 289\n0.050863 579\n0.000092 88\n0.000477 318\n0.000136 104\n0.051530 839\n0.000045 101\n0.000134 46\n0.000434 317\n0.000442 224\n0.047929 716\n0.000052 165\n0.000078 104\n0.000773 5\n0.050006 825\n0.000039 136\n0.000032 377\n0.000525 748\n0.052624 558\n0.000045 327\n0.000725 498\n0.046529 1\n0.000674 89\n0.000252 1\n0.000431 87\n0.000187 1\n0.000193 230\n0.000564 285\n0.000376 441\n0.000709 4\n0.048396 1\n0.000370 62\n0.000175 1\n0.000196 77\n0.000172 1\n0.000217 246\n0.000172 1\n0.000185 147\n0.000153 1\n0.000174 384\n0.000230 425\n0.000419 291\n0.000353 277\n0.059848 761\n0.000095 1\n0.000500 219\n0.001981 1\n0.000307 102\n0.000259 2\n0.000551 1\n0.000255 90\n0.000248 1\n0.000265 69\n0.000238 1\n0.000243 56\n0.000214 1\n0.000231 137\n0.000218 5\n0.041001 930\n0.000057 809\n0.000653 113\n0.044063 796\n0.000047 743\n0.000566 181\n0.052526 771\n0.000058 726\n0.000578 113\n0.049921 821\n0.000109 410\n0.000534 77\n0.000646 335\n0.000253 806\n0.049678 452\n0.000044 1\n0.040146 27\n0.003057 28\n0.000287 1\n0.046645 1\n0.050333 1\n0.050949 1\n0.049866 1\n0.050766 1\n0.050510 341\n0.207720 1438\n0.001572 127\n0.453818 797\n0.000039 742\n0.000887 196\n0.542454 796\n0.000047 3\n0.000566 300\n0.000032 360\n0.000370 695\n0.439583 410\n0.000085 79\n0.000487 268\n0.000037 3\n0.000392 204\n0.000028 137\n0.000028 93\n0.543293 881\n0.000045 312\n0.000585 3\n0.000363 354\n0.000034 143\n0.997573 785\n0.000047 704\n0.000762 154\n0.574595 796\n0.000040 246\n0.000073 3\n0.000617 407\n0.000074 64\n7.291020 65\n0.366694 25\n0.741658 149\n0.000044 1\n0.151489 28\n0.757387 51\n0.079412 3\n0.104038 214\n3.511893 153\n0.112791 1\n17.788844 43\n0.762780 43\n0.216132 43\n0.128248 43\n0.440052 43\n0.063940 43\n0.143573 43\n0.048011 3\n0.653169 3\n0.299114 28\n0.201070 51\n0.055002 1\n0.060686 28\n0.184086 28\n0.097189 28\n0.119233 55\n0.148715 28\n0.061838 28\n0.208319 28\n0.111877 28\n0.071804 28\n0.144669 28\n0.007592 28\n0.032503 28\n0.168106 28\n0.351748 28\n0.087564 28\n0.032983 28\n1.739282 3\n0.388671 28\n0.207775 28\n0.119921 28\n0.056098 28\n0.119573 28\n0.152118 28\n0.111519 28\n0.056427 3\n0.104115 57\n0.168114 3\n0.032816 28\n0.175096 65\n1.385043 74\n0.005835 1\n1.151901 88\n0.001799 18\n0.292234 116\n0.057260 110\n0.044568 65\n0.012152 18\n23.533728 71\n0.040088 75\n94.708082 65\n10.716990 65\n0.567637 1\n0.263460 1\n0.500020 1\n0.050182 1\n0.050926 1\n0.050933 1\n0.051179 1\n0.050681 1\n0.050118 1\n0.050873 1\n0.050906 1\n0.051294 1\n0.050080 1\n0.050337 1\n0.050430 1\n0.050795 1\n0.050641 1\n79.222306 5\n0.320605 65\n109.971908 65\n2.428377 64\n7.576299 68\n2.479159 13\n6.103551 102\n0.252180 29\n0.000062 44\n0.684015 1011\n0.402105 64\n0.631902 64\n0.127105 28\n0.575514 28\n0.128105 28\n0.071740 3\n0.120523 28\n0.359841 28\n0.063658 28\n0.200268 28\n0.152017 28\n0.127817 28\n0.183751 28\n0.064590 28\n0.096256 28\n0.079773 3\n0.087900 28\n0.055956 28\n0.079917 28\n0.119951 28\n0.224387 3\n0.207619 28\n0.056307 28\n0.159820 28\n0.039586 28\n0.032125 1\n0.128086 28\n1.240588 28\n0.119137 4\n0.264456 6\n0.119888 28\n0.056046 28\n0.111808 28\n0.072105 28\n0.103938 28\n0.392202 28\n0.080358 28\n0.032548 1\n0.135726 1\n0.415172 4\n0.160073 28\n0.215979 28\n0.040107 28\n0.048556 3\n0.095107 28\n0.080176 28\n0.095976 28\n0.088073 28\n0.103891 28\n0.048021 1\n0.064076 28\n0.144788 28\n0.103395 3\n0.104035 28\n0.183979 28\n0.047790 3\n0.168368 28\n0.207858 28\n0.167957 28\n0.199959 28\n0.087932 28\n0.080091 28\n0.144072 28\n0.143966 28\n0.055205 28\n0.040946 1\n0.055745 28\n0.151791 28\n0.104584 3\n0.023369 28\n0.176642 28\n0.119718 28\n0.264253 2\n0.143557 28\n0.175988 28\n0.079827 28\n0.112613 28\n0.055729 3\n0.127666 28\n0.136059 28\n0.064228 28\n0.136027 1\n0.160847 28\n0.375016 3\n0.136330 1\n0.367589 64\n0.224425 28\n0.095791 28\n0.096134 28\n0.143773 28\n0.175918 28\n0.103943 3\n0.072120 28\n0.144331 28\n0.143448 28\n0.152496 28\n0.079765 3\n0.064134 28\n0.384041 28\n0.192197 28\n0.207853 28\n0.119597 28\n0.136324 28\n0.248042 28\n0.128007 28\n0.055867 28\n0.527986 28\n0.152261 28\n0.072137 28\n0.055324 28\n0.144455 28\n0.439895 3\n0.079965 28\n0.088131 28\n0.151734 3\n0.184209 28\n0.143800 28\n0.232650 28\n0.063521 3\n0.032844 28\n0.087483 28\n0.111349 28\n0.031925 3\n0.104444 28\n0.143924 28\n0.064084 28\n0.239814 28\n0.079978 28\n0.056185 4\n0.288275 4\n0.132442 4\n0.093287 28\n0.051708 28\n0.032236 28\n0.136655 28\n0.025579 28\n0.112498 28\n0.126916 3\n63.656633 28\n0.903765 28\n0.183897 28\n0.080216 3\n0.135803 28\n0.079624 28\n0.104142 28\n0.071957 28\n0.088101 28\n0.088386 1\n0.103964 28\n0.136043 28\n0.143723 28\n0.080099 3\n0.080093 28\n0.128496 28\n0.007326 4\n0.512531 8\n0.112089 28\n0.199541 28\n0.088254 2\n0.151807 28\n0.175870 28\n0.087974 28\n0.111923 28\n0.176341 28\n0.047722 3\n0.127980 28\n0.024337 2\n0.087732 28\n0.096015 28\n0.128124 28\n0.111781 64\n0.224225 28\n0.111858 28\n0.103531 28\n0.096232 28\n0.128550 28\n0.167745 3\n3.631929 28\n1.056128 1\n0.095632 28\n0.103940 28\n0.048305 28\n0.256063 28\n0.119731 28\n0.136159 28\n0.048259 28\n0.024183 1\n0.127468 28\n0.080085 28\n0.119659 28\n0.080192 3\n0.120066 28\n0.178921 28\n0.109221 28\n0.152038 28\n0.200232 3\n0.095663 28\n0.031919 28\n0.103727 28\n0.080443 28\n0.239787 28\n0.120348 4\n0.263922 4\n0.111833 28\n0.200175 28\n0.063963 2\n0.128077 28\n0.071817 28\n0.136707 28\n0.031112 28\n0.039835 3\n0.136551 28\n0.143750 28\n0.072163 28\n0.168029 28\n0.143973 28\n0.080214 3\n0.087487 28\n0.177006 28\n0.040815 3\n0.118383 28\n0.087648 28\n0.072556 1\n0.095624 28\n0.320459 28\n0.127851 28\n0.128010 28\n0.071920 3\n0.111828 28\n0.064379 28\n0.119870 28\n0.040727 28\n0.039265 3\n0.119982 28\n0.152052 3\n0.151946 28\n0.055550 28\n0.112715 28\n0.023601 1\n0.120264 28\n0.111872 28\n0.303891 28\n0.104096 28\n0.167963 28\n0.031758 28\n0.232235 28\n0.208097 28\n0.175960 28\n0.055996 28\n0.111748 28\n0.200200 64\n0.248529 28\n0.279336 28\n0.039925 28\n0.200068 28\n0.063979 4\n0.336000 4\n0.063977 28\n0.208086 28\n0.063937 28\n0.120151 3\n0.095748 28\n0.128432 28\n0.063286 3\n0.104733 28\n0.135981 28\n0.103967 3\n0.095924 28\n0.112001 28\n0.072072 28\n0.079536 1\n0.104233 28\n0.063708 28\n0.080310 28\n0.191629 28\n0.080779 3\n0.079638 28\n0.071723 28\n0.128400 4\n0.519968 28\n0.095808 28\n0.120117 28\n0.096113 28\n0.087570 28\n0.072235 3\n0.095906 28\n0.087900 28\n0.064319 28\n0.088011 1\n0.056024 28\n0.144004 28\n0.063636 28\n0.112058 28\n0.080324 28\n0.023848 28\n0.199852 2\n0.151970 28\n0.144335 28\n0.112349 28\n0.072147 3\n0.103311 28\n0.160174 28\n0.047841 28\n0.112803 28\n0.095080 28\n0.088260 28\n0.047502 28\n0.120525 3\n0.071990 28\n0.072090 28\n0.031864 3\n0.135846 28\n0.032421 28\n0.151831 28\n0.015834 28\n0.032136 3\n0.176093 28\n0.271911 28\n0.223991 28\n0.031865 28\n0.264240 28\n0.160009 28\n0.104211 3\n0.095168 28\n0.128256 28\n0.240121 28\n0.136101 28\n0.119893 28\n0.055960 1\n0.351964 28\n0.072328 28\n0.063671 4\n0.408106 6\n0.103953 28\n0.304063 6\n0.295772 28\n0.255768 28\n0.080526 28\n0.056274 28\n0.039700 64\n0.192214 28\n0.127358 28\n0.064081 3\n0.088076 28\n0.160308 28\n0.143976 28\n0.079396 28\n0.088368 1\n0.088106 28\n0.071949 28\n0.176263 28\n0.143926 28\n0.191996 28\n0.127828 28\n0.160150 4\n0.383924 28\n0.104224 28\n0.087898 28\n0.152025 28\n0.136056 28\n0.063723 28\n0.128406 3\n0.111685 28\n0.088230 28\n0.111967 28\n0.071793 28\n0.096456 3\n0.063501 28\n0.096056 28\n0.087998 3\n0.175837 1\n0.328364 4\n0.111684 8\n0.120304 28\n0.063776 28\n0.120202 28\n0.096013 3\n0.087285 28\n0.256827 28\n0.055593 28\n0.248283 28\n0.135954 28\n0.071995 28\n0.088013 28\n0.336039 3\n0.087731 28\n0.184116 8\n0.408149 1\n0.103917 4\n0.120097 28\n0.095736 3\n0.136323 28\n0.071629 28\n0.112164 28\n0.192241 28\n0.095712 28\n0.168161 28\n0.080402 28\n0.103254 28\n0.143876 28\n0.080621 28\n0.128211 28\n0.023701 3\n0.127838 28\n0.080352 28\n0.031712 3\n0.079709 28\n0.175966 28\n0.216284 28\n0.047844 1\n0.040460 28\n0.071873 28\n0.375480 28\n0.208343 28\n0.112152 3\n0.055876 28\n0.048069 28\n0.104112 28\n0.063983 28\n0.111881 3\n0.031722 28\n0.048394 28\n0.079739 28\n0.007568 64\n1.096950 65\n44.953662 65\n0.357349 65\n0.360139 61\n0.215803 50\n0.177901 69\n0.342244 65\n6.816305 65\n0.152337 4\n0.511854 4\n0.160019 8\n0.151913 28\n0.712156 28\n0.247940 28\n0.055947 28\n0.039990 2\n0.151809 28\n0.752320 28\n0.127777 28\n0.087929 28\n0.136469 64\n0.223774 28\n0.055927 28\n0.111740 28\n0.140038 28\n0.092090 28\n0.072585 28\n0.079471 28\n0.039811 28\n0.192345 3\n0.087501 28\n0.184086 28\n0.104379 28\n0.031687 28\n0.136456 28\n0.159758 28\n0.079409 28\n0.080178 3\n0.104499 28\n0.112159 28\n0.087396 28\n0.056143 28\n0.039862 3\n0.120313 28\n0.111991 28\n0.096178 28\n0.103920 28\n0.071936 28\n0.008038 28\n0.184349 28\n0.151645 3\n0.015576 1\n0.400408 3\n0.691345 28\n0.092398 28\n0.080549 28\n0.072319 28\n0.111229 3\n0.039934 28\n0.128294 28\n0.039933 3\n0.071739 28\n0.104131 28\n0.056125 3\n0.095846 28\n0.079915 3\n0.071927 28\n0.136447 28\n0.152020 28\n0.088739 2\n0.151223 28\n0.071953 28\n0.007660 28\n0.104402 28\n0.072015 28\n0.087524 28\n0.072766 4\n0.264192 4\n0.135435 4\n0.143911 4\n0.135694 4\n0.120164 7\n0.128264 28\n0.101715 28\n0.146324 28\n0.063851 28\n0.112174 28\n0.055790 28\n0.199857 65\n0.248349 61\n0.112084 25\n0.121529 120\n0.000034 64\n0.423256 28\n0.206930 28\n0.191961 28\n0.152030 28\n0.111761 28\n0.128298 28\n0.047986 4\n0.319843 4\n0.080157 28\n0.207639 28\n0.064094 28\n0.048457 1\n0.103362 28\n0.032022 28\n0.168465 28\n0.047604 28\n0.119937 28\n0.039959 28\n0.232510 4\n0.335786 4\n0.103850 28\n0.032046 3\n0.104217 28\n0.159941 28\n0.240029 28\n0.096253 3\n0.103516 28\n0.152293 28\n0.136132 28\n0.159729 28\n0.111977 2\n0.120054 28\n0.111803 28\n0.088473 3\n0.087976 28\n0.743995 28\n0.167950 28\n0.119699 28\n0.040452 28\n0.071977 1\n0.103593 28\n0.144336 28\n0.191861 3\n0.136271 28\n0.087674 28\n0.096274 3\n0.079545 28\n0.088414 28\n0.095468 28\n0.096214 3\n0.087798 28\n0.168262 28\n0.071919 28\n0.160056 28\n0.056353 2\n0.079663 28\n0.152020 28\n0.064066 3\n0.079841 175\n0.208425 41\n0.127638 41\n0.111643 41\n0.152607 41\n0.056092 41\n0.063775 41\n0.096792 57\n0.255280 3\n0.096207 28\n0.127899 28\n0.200014 28\n0.143882 28\n0.159821 28\n0.128296 28\n0.151881 28\n0.039838 28\n0.304587 3\n0.703503 28\n0.336313 28\n0.127705 28\n0.064022 28\n0.136059 28\n0.103466 28\n0.144472 28\n0.060208 64\n0.250574 28\n0.151336 28\n0.209763 28\n0.111954 28\n0.040413 3\n0.192005 1\n0.815445 4\n0.500480 4\n0.050374 4\n0.050139 4\n0.050691 65\n0.050293 4\n0.050733 4\n0.050484 4\n0.050438 4\n0.050669 4\n0.050685 4\n0.050657 8\n0.049763 1\n0.051086 4\n3.829895 28\n3.199990 3\n0.167992 28\n0.272022 28\n0.175986 28\n0.144026 28\n0.079934 28\n0.272412 64\n0.344279 28\n0.295216 3\n0.192459 28\n0.511587 28\n0.263892 4\n0.327993 28\n0.200060 28\n0.095904 28\n0.119914 2\n0.120101 28\n0.088322 28\n0.135960 28\n0.063621 28\n0.112235 3\n0.152065 28\n0.511953 28\n0.112222 28\n0.047548 1\n0.095837 28\n0.113013 28\n0.087067 28\n0.048227 3\n0.128303 28\n0.463551 28\n0.063943 28\n0.112225 28\n0.064049 28\n0.096327 3\n0.071764 28\n0.167993 28\n0.031881 28\n0.079895 28\n0.159938 2\n0.040104 28\n0.088276 28\n0.184056 28\n0.191920 28\n0.056013 28\n0.079505 28\n0.216361 3\n0.632171 28\n0.095924 28\n0.087969 3\n0.087828 28\n0.064059 3\n0.064010 28\n0.208020 28\n0.199897 28\n0.087790 28\n0.128454 28\n0.040215 28\n0.047806 3\n0.152332 28\n0.263468 28\n0.071926 28\n0.096564 28\n0.079300 28\n0.088419 1\n0.104365 28\n0.159547 28\n0.055793 28\n0.103862 28\n0.112650 3\n0.247838 28\n0.063870 28\n0.144151 28\n0.231865 28\n0.168071 28\n0.055983 28\n0.088060 28\n0.223577 28\n0.095878 28\n0.072149 28\n0.032119 28\n0.184075 64\n0.360132 28\n0.159628 28\n0.104056 28\n0.071960 3\n0.095939 28\n0.167888 28\n0.064505 28\n0.103999 28\n0.185033 4\n0.318341 28\n0.040654 28\n0.135790 28\n0.045932 28\n0.127940 3\n0.119841 28\n0.114425 28\n0.039237 2\n0.200589 28\n0.064221 28\n0.144044 28\n0.047757 28\n0.031792 3\n0.136378 28\n0.087498 28\n0.104580 28\n0.087651 1\n0.128208 28\n0.151745 28\n0.144167 28\n0.208212 28\n0.111895 3\n0.124338 28\n0.089139 28\n0.128563 28\n0.105777 28\n6.232244 3\n0.408014 28\n3.743852 28\n0.200000 28\n0.103827 3\n0.128138 28\n0.168152 28\n0.143799 28\n0.184875 28\n0.167312 28\n0.119838 28\n0.152298 28\n0.031672 3\n0.119845 28\n0.096305 28\n0.087694 3\n0.048332 28\n0.047994 28\n0.087702 28\n0.081630 3\n0.102655 28\n0.143655 28\n0.104400 28\n0.071800 28\n0.072050 28\n0.048049 28\n0.095826 3\n0.079775 28\n0.072468 28\n0.071989 28\n0.064018 4\n0.352063 4\n0.111903 28\n0.127819 28\n0.120295 28\n0.103404 3\n0.112519 28\n0.111972 28\n0.216543 28\n0.063423 28\n0.128274 28\n0.119825 28\n0.151762 28\n0.024184 3\n0.208052 28\n0.063673 28\n0.168418 28\n0.063848 28\n0.040758 64\n0.231657 28\n0.055521 28\n0.063858 3\n0.144171 28\n0.079852 28\n0.128013 28\n0.192144 28\n0.104362 28\n0.199770 28\n0.063912 4\n0.248128 4\n0.119390 4\n0.112529 28\n0.192023 28\n0.023710 28\n0.032213 28\n0.064389 28\n0.127732 3\n4.111892 28\n0.256038 28\n0.199955 2\n0.079591 28\n0.256277 7\n0.344047 28\n0.183952 28\n0.047863 28\n0.184085 28\n0.080138 3\n0.080018 28\n0.192074 28\n0.079974 28\n0.063775 28\n0.096208 3\n0.087943 28\n0.112401 28\n0.080469 28\n0.159111 28\n0.128216 28\n0.127777 28\n0.056165 1\n0.127921 28\n0.144059 28\n0.151978 28\n0.135911 28\n0.111935 28\n0.056149 3\n0.120256 28\n0.191845 28\n0.136080 28\n0.047756 28\n0.089029 28\n0.054966 28\n0.152097 28\n0.047863 28\n0.056093 2\n0.112059 28\n0.087934 28\n0.159887 28\n0.191910 28\n0.104305 28\n0.063786 28\n0.184573 28\n0.047358 2\n0.096491 141\n0.239658 29\n0.000606 41\n0.431598 41\n0.367611 43\n0.400172 43\n0.128092 18\n0.151898 1\n0.392044 2\n0.311939 170\n0.680213 41\n2.824129 41\n0.063492 41\n0.040284 41\n0.159959 41\n0.224173 41\n0.279913 43\n0.712024 41\n0.127662 41\n0.256175 41\n0.129675 41\n0.155991 41\n0.170444 57\n0.615892 3\n0.119693 28\n0.080449 28\n0.207725 28\n0.080271 28\n0.079938 28\n0.264220 28\n0.063478 28\n0.025063 64\n0.687911 28\n0.143375 28\n0.103886 28\n0.047514 3\n0.160422 28\n0.031780 28\n0.045593 28\n0.098292 28\n0.056106 28\n0.120358 64\n39.521604 64\n0.349311 1\n0.193456 24\n0.001634 28\n0.000544 72\n0.260935 64\n15.312095 64\n0.887678 65\n0.168310 3\n2.320326 28\n0.943997 28\n0.175813 28\n0.136139 28\n0.120107 28\n0.168295 1\n0.079456 28\n0.136229 28\n0.152323 28\n0.231651 4\n0.399898 28\n0.184353 28\n0.079345 3\n0.104543 28\n0.112043 28\n0.063770 1\n0.112262 28\n0.087725 28\n0.040015 28\n0.168168 28\n0.065601 3\n0.126078 28\n0.064313 28\n0.128191 28\n0.063971 28\n0.047538 3\n0.096205 28\n0.072059 28\n0.095735 28\n0.032609 28\n0.039390 2\n0.120155 28\n0.191966 28\n0.072088 28\n0.111957 3\n0.063751 28\n0.080232 28\n0.055978 3\n0.111950 28\n0.056107 28\n0.120196 28\n0.120538 3\n0.086971 28\n0.160504 28\n0.063712 28\n0.136338 28\n0.055623 28\n0.080074 28\n0.096377 4\n0.415572 4\n0.079749 28\n0.096238 1\n0.128034 28\n0.112646 28\n0.039370 28\n0.176597 28\n0.127670 28\n0.047534 28\n0.097129 28\n0.151223 28\n0.087585 28\n0.008124 28\n0.144140 4\n0.376234 28\n0.063743 3\n0.176190 28\n0.184751 28\n0.046898 3\n0.192127 28\n1.040315 28\n0.079849 28\n0.103917 64\n0.168521 28\n0.191628 28\n0.103747 28\n0.072150 28\n0.152042 3\n0.047852 28\n0.176184 28\n0.079991 28\n0.079629 28\n0.144461 28\n0.095652 28\n0.023830 28\n0.168403 28\n0.128079 28\n0.111479 28\n0.032100 1\n0.128460 28\n0.087660 28\n0.079831 28\n0.048365 3\n0.071710 28\n0.144916 28\n0.095408 28\n0.111614 1\n0.128415 28\n0.864056 28\n0.199719 28\n0.032430 28\n0.271706 28\n0.063818 28\n0.071960 28\n0.040099 1\n0.192143 28\n0.152089 28\n0.039743 3\n0.096322 28\n0.207744 28\n0.056065 28\n0.119965 28\n0.031840 28\n0.039782 3\n0.296297 28\n0.071859 28\n0.048187 3\n0.063940 28\n0.079946 28\n0.056021 28\n0.088303 1\n0.111725 28\n0.032242 28\n0.111579 28\n0.200071 28\n0.040925 28\n0.047258 28\n0.120077 2\n0.039970 28\n0.039843 28\n0.104320 28\n0.040258 3\n0.119696 28\n0.231840 8\n2.055993 1\n0.151934 4\n0.168104 4\n0.167833 7\n0.144099 1\n0.151981 4\n0.160033 28\n0.264511 28\n0.119513 28\n0.120000 3\n0.104043 28\n0.079827 28\n0.128218 28\n0.055983 28\n0.135954 28\n0.176060 28\n0.096025 4\n0.303978 4\n0.103762 28\n0.104250 28\n0.136143 28\n0.039770 28\n0.063868 3\n0.296681 28\n0.127625 28\n0.087903 28\n0.120080 28\n0.199997 64\n0.904880 64\n0.111345 64\n0.120337 64\n0.361418 3\n0.925734 1\n0.304264 28\n0.200149 3\n0.079434 28\n0.111791 28\n0.112686 28\n0.223772 28\n0.112129 28\n0.183986 28\n0.079924 28\n0.023759 3\n0.127926 28\n0.136365 28\n0.120014 28\n0.055803 3\n0.112227 28\n0.031666 28\n0.143873 28\n0.072410 28\n0.120044 28\n0.063919 3\n0.135917 28\n0.119854 3\n0.144326 28\n0.047338 28\n0.104967 28\n0.039530 3\n0.128260 28\n0.063762 28\n0.079783 3\n0.096345 28\n0.120160 28\n0.047586 1\n0.152109 28\n0.944857 28\n0.078839 3\n0.176401 28\n0.063720 28\n0.049007 28\n0.119232 2\n0.112252 28\n0.168367 28\n0.087355 28\n0.152214 28\n0.119777 3\n0.159778 28\n0.152367 28\n0.159917 28\n0.143992 28\n0.224403 28\n0.055495 28\n0.055707 28\n0.257155 88\n10.655052 60\n3.581427 18\n1.146053 112\n0.209727 29\n0.000042 43\n0.454517 1791\n0.676190 65\n2.160160 64\n0.496158 64\n0.052924 64\n0.049182 61\n0.049986 950\n0.062622 311\n0.000085 108\n0.000029 251\n0.000033 64\n0.041795 64\n0.055536 98\n6.849821 1099\n0.000048 435\n0.000657 677\n0.556290 311\n0.000037 358\n0.000078 387\n0.000726 785\n1.447126 397\n0.000041 2\n0.000085 227\n0.001062 120\n0.452834 796\n0.000101 43\n0.000938 222\n0.000026 400\n0.360092 547\n0.000050 234\n0.000028 260\n0.000778 110\n0.285947 1040\n0.000064 95\n0.546778 831\n0.000043 577\n0.000663 1\n0.499867 933\n0.000044 292\n0.000609 256\n0.054945 1156\n0.000589 282\n0.055070 737\n0.000043 255\n0.000558 2\n0.044062 924\n0.000057 38\n0.000026 251\n0.000610 95\n0.056539 887\n0.000111 677\n0.000552 110\n0.044450 844\n0.000056 182\n0.000027 485\n0.000572 235\n0.058757 680\n0.000044 614\n0.000808 95\n0.038551 900\n0.000716 98\n0.049284 804\n0.000055 60\n0.000025 355\n0.000621 292\n0.051646 681\n0.000050 142\n0.000080 432\n0.000777 1\n0.057829 300\n0.000092 1\n0.000049 39\n0.000048 1\n0.000047 65\n0.000050 1\n0.000057 20\n0.000045 1\n0.000044 64\n0.000045 1\n0.000044 347\n0.000053 1\n0.000075 143\n0.000063 96\n0.000215 1\n0.000055 228\n0.000055 87\n0.078964 1\n0.000070 87\n0.000049 1\n0.000045 169\n0.000226 1\n0.000045 1\n0.000046 31\n0.000083 1\n0.000157 1\n0.000130 279\n0.000129 1\n0.000137 1\n0.000149 83\n0.000116 1\n0.000106 87\n0.000124 1\n0.000108 117\n0.000134 2\n0.000311 1\n0.000058 56\n0.000142 1\n0.000100 104\n0.000126 1\n0.000109 105\n0.000131 78\n0.000312 1\n0.000056 86\n0.000054 1\n0.000140 113\n0.000134 1\n0.015787 92\n0.000088 1\n0.000049 544\n0.000064 1\n0.000273 47\n0.000048 1\n0.000075 175\n0.000057 1\n0.000147 73\n0.000078 2\n0.000391 1\n0.000056 62\n0.000161 1\n0.000054 221\n0.000056 1\n0.000139 57\n0.000141 1\n0.000103 63\n0.000192 2\n0.000272 1\n0.000055 16\n0.000092 1\n0.000116 225\n0.000132 712\n0.053932 838\n0.000431 1\n0.039191 952\n0.000050 1134\n0.000847 137\n0.059281 777\n0.000116 1454\n0.000693 904\n0.050976 1278\n0.000782 5\n0.051112 1044\n0.000050 1188\n0.001085 524\n0.000054 108\n0.055389 834\n0.000048 367\n0.000618 359\n0.000038 192\n0.423301 855\n0.000048 2\n0.000091 2\n0.000783 143\n0.000027 47\n0.000063 12\n0.000327 119\n0.000425 216\n0.000030 91\n0.408553 919\n0.000051 810\n0.000606 195\n0.562970 840\n0.000091 649\n0.000774 1\n0.352375 216\n0.000088 1\n0.000052 1\n0.000047 371\n0.000061 1\n0.000060 1\n0.000043 90\n0.000046 1\n0.000042 1\n0.000044 230\n0.000065 48\n0.000161 1\n0.000047 1\n0.000047 63\n0.000060 316\n0.000174 565\n0.372745 691\n0.000112 361\n0.000591 324\n0.368760 535\n0.000073 277\n0.000509 1246\n0.508188 371\n0.560505 882\n0.000161 396\n0.207096 746\n0.000058 98\n0.172924 637\n0.000072 195\n0.000510 335\n0.146108 631\n0.000048 230\n0.000033 85\n0.150899 850\n0.000147 73\n0.000773 203\n0.000038 268\n0.176575 897\n0.000095 386\n0.000759 84\n0.161838 817\n0.000051 3\n0.000691 334\n0.000039 71\n0.134914 1001\n0.000114 303\n0.000084 95\n0.867146 944\n0.000063 699\n0.169820 571\n0.000043 418\n0.000612 444\n0.165968 473\n0.000105 130\n0.000028 63\n0.000074 206\n0.000524 269\n0.166380 732\n0.000045 163\n0.000076 180\n0.000576 54\n0.379375 938\n0.000091 530\n0.000728 5\n0.570275 974\n0.000159 61\n0.000380 255\n0.000339 129\n0.000034 140\n0.157945 800\n0.000039 57\n0.000031 13\n0.000838 219\n0.000027 700\n0.160157 518\n0.000042 416\n0.000712 489\n1.091918 588\n0.000115 64\n0.984522 64\n0.496675 64\n0.051369 77\n0.369409 1056\n0.000048 253\n0.000590 99\n0.996869 939\n0.000060 63\n0.497758 63\n0.499879 63\n0.050776 63\n0.050952 63\n0.050416 64\n0.051266 64\n0.049891 64\n0.050733 64\n0.049870 64\n0.050888 64\n0.050120 64\n0.050796 64\n0.050889 64\n0.050708 64\n0.050255 65\n0.050591 64\n0.050630 64\n0.260596 61\n0.184147 409\n3.783413 553\n0.000038 123\n0.000068 189\n0.000495 105\n0.000381 308\n0.000031 444\n0.237820 444\n0.000028 29\n0.000026 130\n0.000515 64\n0.000316 205\n0.000033 5\n0.500269 996\n0.000154 343\n0.001177 2\n0.050082 984\n0.000045 7\n0.000076 529\n0.000670 361\n0.056763 703\n0.000044 325\n0.000696 214\n0.051251 723\n0.000104 143\n0.000026 273\n0.000588 816\n0.051762 661\n0.000578 79\n0.052289 840\n0.000047 859\n0.000642 663\n0.047195 345\n0.000034 530\n0.000514 94\n0.071856 818\n0.000426 3\n0.000395 248\n0.000027 62\n0.000025 2\n0.000250 294\n0.000027 402\n0.035513 657\n0.000049 261\n0.000837 325\n0.045324 697\n0.000040 128\n0.000025 158\n0.000541 3\n0.043373 942\n0.000104 1\n0.043630 24\n0.003530 25\n0.000033 1\n0.047096 1\n0.053107 1\n0.049381 1\n0.076056 1\n0.025240 1\n0.049208 107\n0.349394 829\n0.000058 331\n0.000565 64\n0.494913 64\n0.050251 63\n0.051583 63\n0.050578 63\n0.051314 63\n0.048876 63\n0.050223 63\n0.051843 62\n0.049036 62\n0.051755 50\n0.054603 857\n0.000050 230\n0.000025 233\n0.000583 64\n0.044253 64\n0.050068 63\n0.050021 63\n0.051979 63\n0.050094 63\n0.050475 63\n0.049623 63\n0.050141 63\n0.053062 61\n0.048538 61\n0.054631 902\n0.000044 251\n0.000579 64\n0.045372 64\n0.051256 63\n0.050681 63\n0.050172 63\n0.050837 63\n0.050775 63\n0.050968 64\n0.050860 62\n0.050422 61\n0.051002 1\n0.055459 56\n0.000985 556\n0.000128 54\n0.000519 247\n0.000042 59\n0.000568 298\n0.000032 64\n0.043333 64\n0.050829 63\n0.048994 63\n0.050213 63\n0.051148 63\n0.049677 64\n0.050893 63\n0.050404 62\n0.050725 61\n0.050675 2\n0.054737 938\n0.000055 158\n0.000027 377\n0.000617 64\n0.046084 64\n0.050449 63\n0.050829 63\n0.051529 63\n0.051012 64\n0.050826 63\n0.050309 63\n0.051374 62\n0.050062 61\n0.049067 99\n0.055957 817\n0.000111 380\n0.000031 170\n0.000866 211\n0.000043 64\n0.044842 64\n0.050568 63\n0.049823 63\n0.050836 65\n0.050835 63\n0.050278 63\n0.050634 63\n0.049793 62\n0.049843 61\n0.050097 1488\n0.055381 64\n0.045999 64\n0.051387 63\n0.050462 64\n0.048370 63\n0.050442 63\n0.050119 63\n0.050307 63\n0.050576 62\n0.051268 61\n0.050022 314\n0.055491 667\n0.000041 568\n0.000728 64\n0.045955 64\n0.049965 64\n0.051093 63\n0.049837 63\n0.051854 63\n0.050406 63\n0.049563 63\n0.049387 62\n0.050946 61\n0.051148 257\n0.055252 724\n0.000043 3\n0.000025 199\n0.000026 43\n0.000590 117\n0.000027 152\n0.000064 64\n0.045402 65\n0.049905 63\n0.053133 63\n0.050690 63\n0.050679 63\n0.049784 63\n0.050793 63\n0.055120 62\n0.050773 61\n0.050639 1495\n0.056291 65\n0.045308 64\n0.051415 63\n0.051437 63\n0.050076 63\n0.051273 396\n0.936275 619\n0.000043 2\n0.000792 349\n0.000037 4\n1.021306 1\n0.000077 78\n0.000051 1\n0.000047 62\n0.000049 1\n0.000046 50\n0.000060 1\n0.000280 91\n0.000050 1\n0.000088 197\n0.000151 1\n0.000134 87\n0.000274 1\n0.000103 43\n0.000131 1\n0.000150 145\n0.000189 1\n0.000063 196\n0.000090 433\n0.000610 25\n0.956735 977\n0.000648 216\n0.000035 64\n1.527310 64\n0.493355 64\n0.050258 65\n0.050078 64\n0.050669 64\n0.049753 64\n0.050621 64\n0.050751 64\n0.050938 64\n0.049492 64\n0.051402 64\n0.051261 63\n0.050203 66\n0.050655 63\n0.051190 63\n0.050845 63\n0.050053 63\n0.051554 62\n0.050040 61\n0.050662 5\n0.055006 1372\n0.000533 1316\n0.947504 4\n1.252991 1\n0.000075 1\n0.000050 155\n0.000054 1\n0.000046 266\n0.000290 1\n0.000054 1\n0.000045 152\n0.000054 1\n0.000147 164\n0.000111 1\n0.000119 108\n0.000121 1\n0.000137 130\n0.000172 111\n0.000243 104\n0.000321 1\n0.000057 62\n0.000049 1\n0.000092 102\n0.000130 65\n16.970314 1\n0.159374 1\n0.143936 25\n0.367475 59\n0.000034 48\n0.489487 48\n0.050064 48\n0.050160 48\n0.050901 48\n0.050374 48\n0.050456 48\n0.050242 48\n0.140996 48\n0.151786 48\n0.144138 48\n0.128016 45\n0.512303 45\n0.224074 45\n0.103628 45\n0.164313 45\n0.061067 45\n0.166542 45\n0.175970 45\n0.112154 45\n0.104302 45\n0.079579 65\n17.344310 8\n0.428420 1\n0.343244 1\n0.343988 48\n5.460102 48\n0.160008 48\n0.127945 45\n0.808509 45\n0.136167 45\n0.095204 45\n0.143997 45\n0.064235 45\n0.079884 45\n0.048426 45\n0.127524 45\n0.120569 139\n0.449776 89\n0.798070 18\n0.339288 74\n0.013315 128\n0.000039 209\n0.095255 1\n0.909919 42\n0.005887 89\n0.001815 18\n0.429719 116\n0.075928 110\n0.064447 65\n0.015838 175\n0.593493 737\n0.000050 60\n0.000023 417\n0.000818 359\n0.736830 561\n0.000106 355\n0.000032 291\n0.000617 64\n0.807837 64\n0.493834 64\n0.050958 64\n0.050498 64\n0.050559 64\n0.049993 65\n0.049876 64\n0.051156 64\n0.050374 64\n0.051981 64\n0.141690 64\n0.169128 63\n0.264844 7\n0.206934 1\n0.198567 1\n0.464325 25\n0.220499 58\n0.000060 48\n0.484387 48\n0.050513 48\n0.078098 48\n0.021788 48\n0.050139 48\n0.050051 48\n0.050729 48\n0.051236 48\n0.123216 48\n0.136464 48\n0.119408 45\n0.143791 45\n0.216190 45\n0.087937 45\n0.144117 45\n0.151924 45\n0.224771 45\n0.151246 45\n0.104053 45\n0.112004 45\n0.072008 112\n0.468772 109\n0.053587 64\n0.015545 1459\n0.820831 162\n0.374473 858\n0.000051 271\n0.000084 1\n2.109003 912\n0.000051 212\n0.000082 441\n0.000762 62\n1.854522 63\n0.502864 63\n0.051424 63\n0.049984 63\n0.050303 63\n0.050240 66\n0.050427 64\n0.050006 64\n0.051855 64\n0.050507 64\n0.051097 64\n0.187567 64\n0.168162 25\n0.446013 150\n0.000040 198\n0.132370 64\n0.289960 8\n0.425740 2\n0.307594 4\n0.272366 125\n0.328161 3\n0.247380 99\n1.248548 7\n0.299974 28\n1.307180 28\n0.104165 53\n0.040303 1\n0.144062 49\n0.824108 49\n0.063696 49\n0.160215 49\n0.096134 49\n0.047567 49\n0.216446 49\n0.143734 49\n0.255924 49\n0.152291 49\n0.079840 49\n0.111896 49\n0.529160 49\n0.239150 49\n0.144595 49\n0.040298 49\n0.071779 49\n0.103705 49\n0.135898 28\n1.023920 30\n0.041432 64\n0.675955 1361\n0.945530 9\n1.106292 925\n0.000103 179\n0.000030 221\n0.000632 137\n1.672455 907\n0.000050 284\n0.000879 64\n0.544311 65\n0.337434 1\n0.359533 65\n0.071485 173\n0.360586 8\n0.595424 28\n0.488220 28\n0.204441 28\n0.115582 55\n0.112025 28\n0.128178 28\n0.103607 28\n1.144925 28\n0.232008 28\n0.023641 28\n0.056123 28\n0.072016 28\n0.047890 3\n1.225511 28\n0.118681 3\n0.191780 28\n0.424211 30\n0.061945 3\n0.405865 210\n0.636752 43\n0.178079 43\n0.245140 43\n0.176907 43\n0.311622 45\n0.343384 161\n0.208343 30\n0.240247 204\n0.234739 43\n0.149179 43\n0.184291 43\n0.191786 43\n0.055745 133\n0.510732 161\n0.113421 14\n0.508732 30\n0.059711 197\n0.216892 43\n0.263016 43\n0.199614 43\n0.040191 43\n0.368353 43\n0.143688 156\n0.264194 30\n0.232405 189\n0.255644 133\n0.511410 43\n0.168583 43\n0.176302 43\n0.207916 43\n0.183826 43\n0.137981 157\n0.198029 184\n0.328139 45\n0.120651 43\n0.311716 45\n0.343785 45\n0.103904 43\n0.279926 43\n0.127816 43\n0.096869 161\n0.193616 30\n0.205696 180\n0.192154 43\n0.159746 43\n0.232339 43\n0.097517 43\n0.110658 137\n0.240005 21\n0.000031 30\n0.247883 14\n0.510453 54\n0.001433 47\n0.007289 48\n0.145789 30\n0.263174 173\n0.359589 43\n0.304323 43\n0.263968 43\n0.175932 43\n0.072346 43\n0.159646 43\n0.064101 43\n0.296269 161\n0.312252 30\n0.200079 163\n0.215883 43\n0.128613 46\n0.191386 25\n0.168002 150\n0.000043 43\n0.079542 160\n0.265438 3\n0.868793 4\n0.251639 1\n0.095273 1\n0.502756 1\n0.049945 8\n0.050092 1\n0.049984 1\n0.050606 1\n0.049637 1\n0.050778 1\n0.051580 1\n0.050309 1\n0.051864 1\n0.049941 1\n0.049836 1\n0.050786 1\n0.050469 1\n0.049585 1\n0.129394 112\n0.273835 13\n0.238873 8\n0.180364 8\n0.553526 2\n0.150542 5\n0.000056 8\n0.160746 2\n0.151016 4\n0.000030 8\n0.152048 5\n0.160780 13\n0.254820 113\n1.076693 107\n0.037410 65\n0.015115 72\n0.729599 65\n2.849754 65\n1.407401 5\n0.357863 969\n0.000047 319\n0.001206 65\n0.377971 65\n0.807372 8\n1.703831 25\n0.695604 149\n0.000044 8\n0.394013 28\n0.697786 28\n0.191866 53\n0.071741 1\n0.160238 28\n7.073160 3\n0.279522 28\n0.174989 51\n0.056192 3\n0.099210 28\n0.236942 28\n0.111494 28\n0.144694 55\n0.103913 28\n0.120675 28\n0.072078 28\n0.111604 28\n0.135525 28\n0.072348 28\n0.144146 28\n0.792733 28\n0.167360 53\n0.120348 34\n0.231406 28\n0.144048 28\n0.120116 28\n0.184091 28\n0.008373 28\n0.079890 28\n0.285031 206\n0.203862 2\n0.075130 28\n0.235101 51\n0.176021 3\n0.176135 28\n0.343984 28\n0.488101 28\n0.265122 28\n0.066381 28\n0.132442 28\n0.049504 28\n1.219401 65\n1.876343 8\n0.850838 1\n0.343581 30\n0.956730 30\n0.247678 30\n0.208236 65\n0.584472 65\n0.244064 1\n0.102035 1\n0.501714 1\n0.053624 1\n0.045876 1\n0.050377 1\n0.049841 1\n0.050246 1\n0.050994 1\n0.051357 1\n0.050601 1\n0.051482 1\n0.050072 1\n0.050810 1\n0.050704 1\n0.050443 1\n0.050265 1\n0.049886 1\n0.050289 1\n0.050739 1\n0.050193 1\n0.050920 1\n0.049608 1\n0.051044 1\n0.050490 1\n0.049719 1\n0.050198 32\n0.325518 32\n0.096252 32\n0.679657 32\n0.160004 8\n0.644421 150\n0.812271 2\n0.172500 66\n0.482996 69\n0.335699 66\n0.231978 51\n0.072050 3\n0.175890 28\n3.840387 8\n0.471948 28\n0.047913 28\n0.176068 28\n0.055891 55\n0.120059 28\n0.129841 28\n0.062247 28\n0.047739 28\n0.103970 28\n0.120202 28\n0.111727 28\n0.337202 28\n0.072003 28\n0.111017 28\n0.088229 28\n0.508465 28\n0.187800 28\n0.098716 28\n0.005858 4\n0.479139 28\n0.359776 28\n0.264576 28\n0.863940 28\n0.119976 33\n0.294186 32\n0.240287 150\n0.225599 8\n0.111273 28\n0.368230 28\n0.167772 28\n0.080156 55\n0.112529 28\n0.095545 28\n0.127963 28\n0.048180 28\n0.136015 28\n0.154143 28\n0.197349 28\n0.152472 56\n0.000908 47\n0.002284 46\n0.087472 28\n0.125131 28\n0.136176 28\n0.071922 28\n0.049014 28\n0.921676 28\n0.261593 28\n0.040583 28\n0.151486 28\n0.063914 28\n0.576435 28\n0.247740 28\n0.104005 28\n0.271745 33\n0.302783 3\n1.001865 65\n0.784294 4\n0.959501 4\n0.207837 4\n0.167937 4\n0.167907 4\n0.176060 4\n0.183997 8\n0.471868 28\n1.833892 28\n0.157993 4\n0.415852 8\n0.136247 1\n0.151901 33\n0.144018 5\n0.128000 1\n0.000031 28\n0.096120 3\n0.175685 45\n0.072239 3\n0.095793 28\n0.064355 28\n0.160023 28\n0.064471 55\n0.103625 28\n0.112003 28\n0.064250 28\n0.063962 28\n0.128353 28\n0.095712 28\n0.144008 28\n0.136159 28\n0.103676 28\n0.168188 28\n0.087740 28\n0.328391 28\n0.191849 28\n0.516583 28\n0.227466 28\n0.143584 28\n0.119889 28\n0.265445 33\n0.285494 36\n0.255060 207\n0.402525 8\n0.100798 1\n0.811407 2\n0.000807 66\n1.016158 8\n0.218450 4\n0.268089 66\n0.297438 28\n0.758405 51\n0.048761 3\n0.143149 28\n0.128002 8\n4.696342 1\n0.159795 33\n0.151906 4\n0.111922 1\n0.000081 1\n0.000064 28\n0.168113 4\n0.576763 1\n0.000078 1\n0.000116 28\n0.294943 51\n0.072082 3\n0.119564 28\n0.080340 28\n0.544424 28\n0.119748 28\n0.047992 28\n0.056692 28\n0.071384 4\n0.887842 4\n0.501338 4\n0.049460 4\n0.050671 4\n0.050443 8\n0.050972 1\n0.049659 33\n0.051478 6\n0.116781 28\n0.231201 28\n0.224008 28\n0.175999 28\n0.039722 28\n0.080101 28\n0.064212 2\n0.160619 3\n0.136093 48\n0.000030 3\n0.031361 28\n0.208182 28\n0.152092 28\n0.104019 47\n0.056107 116\n0.684325 110\n0.080267 65\n0.033755 18\n4.107732 68\n0.032460 18\n4.311916 68\n0.048261 15\n8.673210 968\n0.000043 150\n0.000070 245\n0.000712 289\n0.619171 645\n0.000046 6\n0.000070 357\n0.000512 568\n0.593204 475\n0.000140 462\n0.000733 64\n0.208843 64\n0.271730 64\n0.176327 8\n0.231441 25\n0.270961 150\n0.000040 7\n0.152758 28\n0.483458 51\n0.104330 33\n0.368066 11\n0.111329 28\n0.360188 11\n0.416444 1\n0.487381 7\n0.360193 73\n0.511723 64\n0.313920 8\n0.211151 1\n0.287485 30\n0.188260 30\n0.152875 30\n0.095256 57\n0.095659 30\n0.112350 30\n0.072095 30\n0.095816 30\n0.160012 30\n0.472403 3\n0.212272 99\n0.251267 7\n0.164220 64\n0.340773 8\n0.243470 28\n0.728427 256\n0.598118 679\n0.000047 228\n0.000027 400\n0.000830 182\n0.626182 738\n0.000102 150\n0.000038 422\n0.000629 5\n1.706927 934\n0.000044 666\n0.000561 64\n0.546458 64\n0.184246 65\n0.167405 64\n0.120076 65\n0.255256 35\n0.231212 64\n0.000205 2\n0.158426 4\n0.445897 28\n0.161464 28\n0.143603 28\n0.063964 55\n0.104270 28\n0.111826 28\n0.184497 28\n0.183972 28\n0.154772 28\n0.060954 28\n0.144293 28\n0.111806 28\n0.096924 28\n0.079125 28\n0.103895 28\n0.104328 3\n0.167860 28\n0.063535 3\n0.080125 28\n0.136293 30\n0.046539 1\n0.468465 116\n0.065147 110\n0.038278 65\n0.015866 75\n0.575960 64\n3.105675 65\n0.500300 65\n0.050765 65\n0.050322 64\n0.051031 4\n0.066033 1\n0.000075 673\n0.000148 1\n0.000302 221\n0.000059 1\n0.000151 1\n0.000046 43\n0.000075 2\n0.000406 1\n0.000058 181\n0.000171 1\n0.000068 116\n0.000174 65\n0.035688 67\n0.050344 65\n0.048214 65\n0.050565 65\n0.053080 65\n0.051691 65\n0.373880 65\n0.500986 64\n0.050199 65\n0.050344 110\n0.468196 880\n0.000039 183\n0.000068 66\n0.482817 64\n0.231831 65\n0.215785 65\n0.201120 64\n0.182887 64\n0.191557 65\n0.176521 64\n0.231919 63\n1.434407 113\n0.518227 107\n0.042652 63\n0.015293 81\n1.323860 51\n0.060258 3\n0.111919 28\n0.248018 28\n0.048113 28\n0.167746 2\n0.175961 28\n0.128326 51\n0.023889 3\n0.464143 28\n0.127801 28\n0.167978 28\n0.048254 55\n0.112067 28\n0.079816 28\n0.095910 28\n0.120100 28\n0.192328 28\n0.023646 28\n0.023923 28\n0.064053 28\n0.112300 28\n0.373396 64\n0.478367 8\n0.049972 113\n0.486800 107\n0.035053 65\n0.015253 71\n0.284620 371\n0.172685 722\n0.000075 119\n0.000531 65\n0.380162 65\n0.127922 71\n2.023392 35\n0.863189 156\n0.000041 8\n0.376763 1\n0.371876 1\n0.000425 28\n0.126812 28\n0.176824 28\n0.086914 2\n0.072068 52\n0.000054 28\n0.112084 28\n0.088109 28\n0.152360 28\n0.199873 28\n0.007789 28\n0.024715 28\n0.071318 28\n0.040056 28\n0.280269 28\n0.207769 28\n0.056432 28\n0.159755 28\n0.144123 28\n0.040027 28\n0.026030 28\n0.254062 28\n0.376037 4\n0.407965 28\n0.167714 28\n0.039937 28\n0.064116 33\n0.236535 1\n0.727822 116\n0.057399 110\n0.037557 65\n0.014689 35\n4.857568 148\n0.000035 1\n0.312581 65\n0.372345 64\n0.148500 63\n0.904070 3\n0.206867 3\n0.144051 3\n0.159969 3\n0.136883 3\n0.143362 3\n0.168024 35\n0.396486 32\n0.808085 32\n0.151540 78\n0.080008 65\n0.310743 65\n0.498571 65\n0.049631 64\n0.050789 64\n0.050874 64\n0.050850 65\n0.051657 65\n0.051004 65\n0.354317 1\n0.127188 3\n0.647304 47\n0.215049 116\n0.000086 75\n0.359917 62\n0.495865 64\n0.050661 64\n0.050568 64\n0.050802 64\n0.050972 66\n0.050412 65\n0.050783 64\n0.323070 1\n0.294782 65\n0.275129 7\n0.378303 1\n0.286758 163\n0.641482 18\n0.225822 116\n0.058078 110\n0.045889 65\n0.014978 75\n0.357774 25\n3.030292 150\n0.000270 1\n0.486419 115\n0.928238 109\n0.049281 64\n0.015666 17\n12.205485 70\n0.056456 35\n29.159363 148\n0.000051 1\n0.304751 28\n0.818773 51\n0.080325 3\n0.151860 28\n1.816219 28\n0.033867 28\n0.086330 2\n0.143777 162\n3.915456 969\n0.000101 346\n0.000796 964\n3.778809 346\n0.000042 63\n0.934683 63\n0.499171 63\n0.049796 63\n0.050607 63\n0.050809 63\n0.049835 64\n0.050496 64\n0.051600 65\n0.050311 64\n0.250603 64\n0.207887 65\n0.511387 49\n5.436103 40\n0.543893 49\n0.440459 38\n0.111578 3\n0.128072 207\n0.152127 41\n0.360530 389\n0.508895 422\n0.000041 56\n0.001210 47\n0.003355 59\n0.070985 43\n0.183117 43\n0.120121 41\n0.135720 41\n0.304127 41\n0.152344 41\n0.047484 34\n0.240582 21\n0.000031 215\n0.509573 382\n0.000044 3\n1.298404 28\n0.032101 28\n0.175706 53\n0.039940 3\n0.143972 28\n0.728351 28\n0.103440 28\n0.162741 55\n0.141942 28\n0.215741 28\n0.335952 28\n0.176004 28\n0.095704 28\n0.112558 28\n0.151822 28\n0.112535 28\n0.072681 28\n0.022603 28\n0.136076 28\n0.095986 1\n5.723520 1\n0.500240 1\n0.050745 1\n0.050757 1\n0.049980 1\n0.050173 1\n0.050591 1\n0.050068 1\n0.051456 1\n0.050867 1\n0.050804 1\n0.050307 1\n0.051251 1\n0.050425 1\n0.050831 40\n0.638515 32\n0.071981 32\n0.111875 109\n0.208037 2\n0.428163 45\n0.512648 10\n0.273199 23\n0.000059 8\n0.769643 28\n0.216385 28\n0.103576 3\n0.184100 28\n0.144602 28\n0.294340 99\n0.337662 8\n0.131909 28\n1.091546 28\n0.062599 28\n0.184432 55\n0.095861 28\n0.104433 28\n0.071936 28\n0.167758 28\n0.207921 28\n0.023968 28\n0.104658 28\n0.047616 28\n0.055937 28\n0.216520 28\n0.111790 28\n0.111553 28\n0.104235 28\n0.071824 28\n0.112410 28\n0.063966 28\n0.223976 28\n0.216107 28\n0.223720 28\n0.096131 33\n0.221397 99\n0.458935 8\n0.348570 28\n0.986542 28\n0.072010 28\n0.119631 28\n0.104837 28\n0.071802 59\n0.113017 3\n0.082945 28\n0.060331 28\n0.167201 28\n0.097132 55\n0.070992 28\n0.100060 28\n0.092090 28\n0.160454 28\n0.080080 28\n0.099321 28\n0.120243 28\n0.071970 28\n0.128660 28\n0.107528 28\n0.024008 28\n0.160202 28\n0.359375 30\n0.029915 3\n0.374597 190\n0.685145 58\n0.128691 1\n0.234135 45\n0.165014 45\n0.095810 45\n0.183744 45\n0.103788 45\n0.116436 45\n0.075616 45\n0.081395 45\n0.143011 45\n0.175883 48\n0.288500 45\n0.295811 45\n0.079384 116\n0.477117 110\n0.069647 65\n0.015764 18\n0.281614 25\n0.304078 150\n0.000914 8\n0.305700 1\n0.225959 1\n0.000089 28\n1.814503 51\n0.049244 3\n0.142794 28\n0.615943 28\n0.048122 28\n0.063677 2\n0.160047 49\n0.152767 38\n0.112655 3\n0.079067 207\n0.201698 41\n0.158779 43\n0.464408 41\n0.136608 41\n0.375144 41\n0.096175 43\n0.384188 43\n0.114866 41\n0.148425 41\n0.200642 41\n0.095721 31\n0.424265 3\n0.000706 21\n0.000100 3\n0.170412 28\n0.092921 28\n0.071764 53\n0.049053 3\n0.102852 28\n0.168189 28\n0.071861 53\n0.080293 28\n0.216051 28\n0.135949 28\n0.152001 28\n0.063832 55\n0.096040 28\n0.096061 66\n0.072279 28\n0.055857 28\n0.112222 28\n0.095767 28\n0.111858 28\n0.424391 28\n0.064320 28\n0.063997 28\n0.151517 28\n0.064222 10\n0.286430 23\n0.000057 8\n0.161811 28\n0.983665 3\n0.239581 28\n0.168454 28\n0.318244 99\n0.274035 8\n0.139865 28\n0.426221 28\n0.071865 28\n0.104108 28\n0.112155 28\n0.071867 59\n0.104116 3\n0.088175 28\n0.033259 28\n0.126797 28\n0.087736 55\n0.071935 28\n0.096674 28\n0.087677 28\n0.119879 28\n0.080060 28\n0.136096 28\n0.089189 4\n0.335950 4\n0.102978 28\n0.186228 28\n0.085513 28\n0.040101 28\n0.191965 28\n0.144203 28\n0.032634 28\n0.167588 28\n0.392486 190\n0.615623 41\n0.320010 418\n0.509300 56\n0.001280 47\n0.002701 59\n0.032838 41\n0.093891 41\n0.080086 57\n0.216249 36\n0.159178 8\n0.595561 116\n0.065721 110\n0.042889 65\n0.018633 244\n0.509154 15\n0.059402 161\n0.680794 1\n0.000072 311\n0.000059 1\n0.000043 174\n0.000046 1\n0.000043 62\n0.000046 1\n0.000041 239\n0.000062 2\n0.000136 1\n0.000044 112\n0.000050 3\n0.000206 1\n0.000043 379\n0.000057 163\n1.457935 1299\n0.000540 63\n0.390363 63\n0.499815 63\n0.050133 63\n0.050456 63\n0.049921 63\n0.051060 64\n0.050783 64\n0.050186 65\n0.051700 64\n0.050080 64\n0.050698 64\n0.050956 64\n0.050950 64\n0.050782 64\n0.050447 64\n0.050103 64\n0.390734 1\n0.343248 64\n0.422873 64\n0.145818 72\n0.464886 80\n0.140620 65\n0.359632 64\n0.442902 28\n0.395030 28\n0.279820 28\n0.072222 1\n0.023664 53\n0.000122 194\n0.321743 28\n0.006127 35\n0.352747 72\n0.000038 8\n0.133479 115\n0.479811 109\n0.049789 65\n0.015645 17\n5.076352 70\n0.064628 83\n4.288314 28\n0.170128 28\n0.359629 55\n0.143874 37\n0.672255 4\n0.143927 4\n0.143715 12\n0.119893 28\n0.104002 3\n0.160213 45\n0.128214 1\n0.079510 28\n0.352448 28\n0.023768 4\n0.795178 5\n0.116604 1\n0.000059 1\n0.160314 37\n0.151998 1\n0.135860 12\n0.127953 28\n0.039761 28\n0.064252 28\n0.143919 55\n0.167790 28\n0.368481 28\n0.063689 28\n0.128166 28\n0.160162 28\n0.104584 28\n0.135524 28\n0.103977 28\n0.112687 28\n0.007063 28\n0.016135 28\n0.144000 4\n0.360197 4\n0.119912 4\n0.104077 28\n0.079534 28\n0.144565 28\n0.111808 28\n0.103992 28\n0.096233 28\n0.127998 28\n0.112674 28\n0.103047 28\n1.056226 28\n0.056043 28\n0.311620 30\n0.041154 65\n0.548417 25\n0.237231 130\n0.000035 8\n0.113984 28\n0.307882 3\n0.215766 45\n0.488327 1\n0.032094 28\n0.079451 28\n0.072058 28\n0.104029 55\n0.088072 28\n0.104135 28\n0.232351 28\n0.072578 28\n0.119334 28\n0.128196 28\n0.240382 28\n0.143931 28\n0.032174 28\n0.055714 28\n0.081410 28\n0.390957 30\n0.045947 1\n0.454126 115\n0.041387 109\n0.039827 65\n0.016473 171\n0.406687 909\n0.000172 343\n0.000545 183\n0.501004 754\n0.000047 2\n0.000064 303\n0.000494 3\n0.000338 335\n0.000037 87\n0.047653 902\n0.000042 78\n0.000032 300\n0.000705 302\n0.049870 666\n0.000047 6\n0.000024 8\n0.000073 624\n0.000730 380\n0.048457 748\n0.000059 221\n0.049794 798\n0.000043 359\n0.000607 77\n0.052434 916\n0.000052 227\n0.000592 5\n0.050824 982\n0.000053 559\n0.000543 4\n0.048037 1\n0.000439 344\n0.000185 1\n0.000217 201\n0.000174 1\n0.000197 59\n0.000170 1\n0.000186 52\n0.000163 1\n0.000171 15\n0.000147 1\n0.000164 210\n0.000152 1\n0.000172 69\n0.000151 2\n0.000234 1\n0.000157 29\n0.000151 48\n0.000312 1\n0.000179 65\n0.000151 1\n0.000200 47\n0.000165 1\n0.000175 156\n0.000216 4\n0.045331 1217\n0.003715 1058\n0.050684 9\n0.045377 871\n0.000056 237\n0.000034 481\n0.053161 493\n0.000105 245\n0.000040 337\n0.050316 925\n0.006996 4\n0.044332 1\n0.001351 146\n0.000071 1\n0.000068 87\n0.000047 1\n0.000043 104\n0.000047 1\n0.000057 77\n0.000047 1\n0.000058 128\n0.000047 1\n0.000044 154\n0.000047 1\n0.000044 177\n0.000071 238\n0.000242 5\n0.048983 992\n0.000048 600\n0.000688 95\n0.051672 1007\n0.000100 479\n0.000670 234\n0.046908 824\n0.000053 399\n0.000664 5\n0.055543 896\n0.000108 378\n0.000030 395\n0.000802 98\n0.050715 804\n0.000061 768\n0.000577 101\n0.049733 1257\n0.000594 13\n0.057858 997\n0.000051 1234\n0.000538 106\n0.000357 343\n0.000032 749\n0.098362 252\n0.000047 429\n0.000097 381\n0.000545 5\n0.050926 981\n0.000045 716\n0.000534 466\n0.000974 436\n0.045362 808\n0.000192 556\n0.000201 548\n0.050481 506\n0.000048 130\n0.000027 82\n0.000073 354\n0.000492 5\n0.048229 934\n0.000052 3\n0.000082 647\n0.000633 104\n0.064357 814\n0.000115 88\n0.000029 2\n0.000102 333\n0.000531 101\n0.041469 40\n0.001185 615\n0.000069 55\n0.000466 137\n0.000373 101\n0.000493 212\n0.000422 192\n0.000028 44\n0.045347 1\n0.000071 170\n0.000055 1\n0.000044 73\n0.000046 1\n0.000066 93\n0.000046 1\n0.000043 80\n0.000044 1\n0.000046 300\n0.000055 1\n0.000044 61\n0.000044 1\n0.000043 71\n0.000045 1\n0.000043 58\n0.000056 103\n0.000132 1\n0.000178 275\n0.000061 1\n0.000054 98\n0.000051 73\n0.048591 626\n0.000106 367\n0.000716 85\n0.052766 859\n0.000051 503\n0.000590 88\n0.049804 1519\n0.000065 58\n0.051862 903\n0.000123 386\n0.000028 396\n0.000806 97\n0.045436 848\n0.000088 303\n0.000703 272\n0.051743 669\n0.000045 133\n0.000079 71\n0.000495 3\n0.000318 328\n0.000069 144\n0.046622 1\n0.000075 1\n0.000048 297\n0.000057 1\n0.000063 34\n0.000044 1\n0.000041 40\n0.000042 1\n0.000042 38\n0.000042 1\n0.000042 38\n0.000041 1\n0.000042 67\n0.000264 1\n0.000050 54\n0.000056 1\n0.000043 214\n0.000063 2\n0.000171 1\n0.000052 111\n0.000048 1\n0.000056 112\n0.000097 1\n0.000046 54\n0.000061 74\n0.000131 588\n0.050184 396\n0.000039 366\n0.000564 5\n0.050426 987\n0.000039 372\n0.000547 282\n0.052110 1018\n0.000056 143\n0.050628 807\n0.000042 3\n0.000065 451\n0.000464 129\n0.050945 1\n0.000075 87\n0.000047 1\n0.000043 42\n0.000048 1\n0.000045 247\n0.000068 1\n0.000043 61\n0.000045 1\n0.000041 66\n0.000042 1\n0.000041 67\n0.000042 1\n0.000042 1\n0.000040 182\n0.000046 1\n0.000043 40\n0.000054 2\n0.000109 1\n0.000053 58\n0.000048 103\n0.000168 1\n0.000053 46\n0.000042 1\n0.000042 145\n0.000060 4\n0.048515 1\n0.000073 100\n0.000051 1\n0.000044 118\n0.000060 1\n0.000248 54\n0.000109 1\n0.000153 178\n0.000145 1\n0.000136 55\n0.000136 1\n0.000144 86\n0.000136 1\n0.000136 95\n0.000219 1\n0.000325 87\n0.000135 1\n0.000143 47\n0.000136 1\n0.000108 87\n0.000129 1\n0.000321 42\n0.000058 1\n0.000095 55\n0.000130 1\n0.000105 34\n0.000120 1\n0.000108 63\n0.000122 246\n0.000318 566\n0.052981 387\n0.000050 56\n0.000023 240\n0.000081 354\n0.000769 517\n0.041660 699\n0.000040 441\n0.000367 5\n0.053103 912\n0.000045 380\n0.000073 363\n0.000726 102\n0.049906 838\n0.000048 781\n0.000679 227\n0.054794 711\n0.000110 910\n0.000592 415\n0.046018 510\n0.000040 729\n0.000731 100\n0.050463 855\n0.000047 101\n0.000081 202\n0.000027 302\n0.000605 189\n0.050243 773\n0.000050 2\n0.000078 322\n0.000904 177\n0.000074 88\n0.000175 167\n0.000353 768\n0.048619 478\n0.000499 24\n0.045490 209\n0.000030 61\n0.000582 1\n0.044898 27\n0.003060 28\n0.000216 1\n0.051599 1\n0.045586 1\n0.050024 1\n0.050719 1\n0.050147 1\n0.051214 342\n0.203649 603\n0.000038 834\n0.000563 126\n0.414896 1\n0.001246 54\n0.000411 1\n0.000057 88\n0.000048 1\n0.000212 111\n0.000056 1\n0.000144 54\n0.000145 1\n0.000102 92\n0.000131 1\n0.000134 95\n0.000120 1\n0.000134 108\n0.000122 1\n0.000117 80\n0.000122 1\n0.000124 107\n0.000139 195\n0.000428 1\n0.000056 98\n0.000047 1\n0.000145 46\n0.000098 259\n0.000362 1\n0.000056 141\n0.000057 1655\n0.336001 813\n0.531092 180\n0.000088 1\n0.000630 579\n0.000280 85\n0.000064 138\n0.000532 93\n0.454180 881\n0.000078 312\n0.000504 2\n0.000118 1\n0.000023 412\n0.000391 213\n0.565874 782\n0.000038 155\n0.000024 160\n0.000024 340\n0.000666 95\n0.702046 1533\n0.000481 676\n0.463489 1\n0.001219 42\n0.000345 1\n0.000265 43\n0.000232 1\n0.000246 87\n0.000229 1\n0.000253 39\n0.000226 1\n0.000243 96\n0.000239 358\n0.000496 387\n0.000503 784\n0.620134 299\n0.000032 99\n0.000031 229\n0.000500 120\n0.519027 796\n0.000053 2\n0.000112 263\n0.000760 321\n0.415446 626\n0.000096 234\n0.000028 260\n0.000674 161\n1.503210 657\n0.000037 6\n0.000070 325\n0.000518 154\n5.579748 1154\n0.000454 283\n0.501449 672\n0.000114 268\n0.000037 97\n0.050721 818\n0.000046 461\n0.000690 756\n0.050997 390\n0.000089 483\n0.000733 673\n0.048620 950\n0.000048 81\n0.052583 914\n0.000046 322\n0.000081 331\n0.001293 95\n0.051923 822\n0.000047 334\n0.000071 103\n0.000912 416\n0.000997 5\n0.048843 930\n0.000055 809\n0.000946 113\n0.054781 796\n0.000053 2\n0.000025 97\n0.000026 644\n0.000566 182\n0.045942 770\n0.000110 322\n0.000031 404\n0.000548 247\n0.053185 687\n0.000050 822\n0.000847 806\n0.046551 452\n0.000558 1\n0.042113 27\n0.003746 28\n0.001927 1\n0.044642 1\n0.050252 1\n0.050648 1\n0.050513 1\n0.050429 1\n0.050346 342\n0.214321 603\n0.000043 834\n0.000745 270\n0.558318 654\n0.000048 294\n0.000082 448\n0.000768 196\n0.498706 796\n0.000122 303\n0.000030 360\n0.000722 650\n0.051121 341\n0.000035 805\n0.000505 93\n0.049959 881\n0.000085 312\n0.000029 415\n0.000679 213\n0.051193 782\n0.000044 154\n0.000023 161\n0.000024 340\n0.000577 1\n0.046192 93\n0.000455 1\n0.000219 87\n0.000168 1\n0.000195 59\n0.000170 1\n0.000238 332\n0.000194 1\n0.000216 332\n0.000174 285\n0.000500 435\n0.000125 719\n0.048895 269\n0.000041 745\n0.000525 878\n0.050684 304\n0.000041 229\n0.000318 752\n0.589967 207\n0.000099 321\n0.000029 342\n0.000794 667\n0.366042 742\n0.000546 75\n0.156417 1\n0.000791 43\n0.000199 1\n0.000205 62\n0.000178 1\n0.000194 87\n0.000174 1\n0.000193 42\n0.000174 1\n0.000192 60\n0.000172 1\n0.000176 87\n0.000150 1\n0.000172 85\n0.000152 1\n0.000170 64\n0.000150 1\n0.000171 132\n0.000151 1\n0.000172 74\n0.000149 1\n0.000167 53\n0.000206 1\n0.000165 40\n0.000156 2\n0.000353 1\n0.000161 39\n0.000151 1\n0.000164 222\n0.000153 320\n0.170562 627\n0.000100 234\n0.000029 3\n0.000600 161\n0.000057 96\n0.000505 1\n1.879250 90\n0.000071 1\n0.000047 69\n0.000046 1\n0.000060 77\n0.000045 1\n0.000041 139\n0.000044 1\n0.000041 145\n0.000044 1\n0.000042 81\n0.000043 1\n0.000041 38\n0.000044 1\n0.000041 171\n0.000057 6\n0.000171 1\n0.000041 87\n0.000046 1\n0.000044 87\n0.000058 1\n0.000043 148\n0.000048 1504\n1.901416 1\n0.501422 933\n0.000097 292\n0.000537 1\n0.048931 253\n0.000732 1\n0.000213 1\n0.000161 106\n0.000165 1\n0.000177 1\n0.000158 391\n0.000172 1\n0.000277 35\n0.000161 1\n0.000172 51\n0.000159 1\n0.000171 214\n0.000173 2\n0.000317 1\n0.002918 111\n0.000326 1\n0.000191 113\n0.000175 2\n0.000360 1\n0.000164 123\n0.000166 234\n0.047969 1\n0.000510 46\n0.000399 1\n0.000253 46\n0.000216 1\n0.000224 71\n0.000208 1\n0.000233 71\n0.000209 1\n0.000299 78\n0.000216 1\n0.000231 150\n0.000214 1\n0.000238 154\n0.000213 1\n0.000237 87\n0.000220 1\n0.000328 73\n0.000224 2\n0.000362 1\n0.000220 75\n0.000211 1\n0.000231 74\n0.000212 1\n0.000230 101\n0.000240 1\n0.039734 963\n0.000501 102\n0.000403 149\n0.000034 95\n0.049773 887\n0.000046 676\n0.000693 1\n0.049767 108\n0.000421 1\n0.000213 60\n0.000105 1\n0.000108 75\n0.000088 1\n0.000101 90\n0.000088 1\n0.000116 173\n0.000091 1\n0.000116 1\n0.000085 24\n0.000106 1\n0.000113 54\n0.000088 1\n0.000109 285\n0.000106 1\n0.000119 75\n0.000095 6\n0.000208 1\n0.000051 87\n0.000046 1\n0.000043 87\n0.000065 1\n0.000277 72\n0.000057 1\n0.000096 197\n0.000048 1\n0.000044 78\n0.000061 1\n0.000043 135\n0.000050 86\n0.047019 829\n0.000106 51\n0.000025 563\n0.000570 1\n0.049556 93\n0.000082 1\n0.000047 28\n0.000049 1\n0.000046 65\n0.000047 1\n0.000243 41\n0.000049 1\n0.000069 67\n0.000163 1\n0.000146 1\n0.000125 85\n0.000143 1\n0.000114 1\n0.000120 157\n0.000141 1\n0.000111 1\n0.000119 114\n0.000138 1\n0.000116 1\n0.000119 61\n0.000128 1\n0.000178 1\n0.000146 47\n0.000084 1\n0.000098 1\n0.000119 60\n0.000105 11\n0.000274 1\n0.000054 148\n0.000060 98\n0.045713 687\n0.000033 117\n0.000030 2\n0.000022 58\n0.000024 355\n0.000513 1547\n0.050650 1\n0.050968 984\n0.000046 324\n0.000578 176\n0.053480 774\n0.000047 550\n0.000596 94\n0.046741 842\n0.000107 654\n0.000734 712\n0.050923 329\n0.000093 509\n0.000687 1\n0.049534 952\n0.000040 5\n0.000630 547\n0.000028 3\n0.000444 391\n0.000090 188\n0.000033 137\n0.051112 777\n0.000049 1454\n0.002025 904\n0.049729 96\n0.000810 1\n0.000214 684\n0.000258 106\n0.000460 1\n0.000199 171\n0.000170 1\n0.000194 217\n0.000172 2762\n0.061081 107\n0.040590 258\n0.000209 83\n0.000788 268\n0.000069 226\n0.000425 3\n0.000525 148\n0.000072 216\n0.000506 211\n0.000866 148\n0.000041 103\n0.042306 1\n0.000879 87\n0.000067 1\n0.000062 87\n0.000046 1\n0.000043 31\n0.000054 1\n0.000044 47\n0.000046 1\n0.000055 109\n0.000089 1\n0.000042 75\n0.000043 1\n0.000050 1\n0.000041 39\n0.000043 1\n0.000042 42\n0.000044 1\n0.000043 55\n0.000044 1\n0.000042 361\n0.000074 2\n0.000241 1\n0.000054 1\n0.000056 92\n0.000044 1\n0.000042 1\n0.000041 47\n0.000044 1\n0.000049 1\n0.000049 44\n0.000053 1\n0.000043 1\n0.000042 1\n0.000047 1\n0.000044 11\n0.000070 118\n0.000223 1\n0.000053 216\n0.000056 249\n0.047534 761\n0.000043 810\n0.000557 195\n0.050740 764\n0.000038 132\n0.000717 376\n0.000064 32\n0.000291 4\n0.000312 181\n0.000026 218\n0.055253 745\n0.000075 380\n0.000719 500\n0.044061 756\n0.000041 213\n0.000750 148\n0.000025 5\n0.047784 852\n0.000040 3\n0.000686 276\n0.000031 401\n0.049758 529\n0.000032 71\n0.000031 245\n0.000531 370\n0.049945 1\n0.000535 286\n0.000263 1\n0.000226 299\n0.000189 296\n0.000429 157\n0.050997 984\n0.000328 97\n0.048520 1\n0.000522 332\n0.000251 1\n0.000167 1\n0.000165 287\n0.000236 2\n0.000368 1\n0.000173 1\n0.000177 12\n0.000195 1\n0.000173 52\n0.000252 1\n0.000193 1\n0.000168 141\n0.000211 338\n0.047568 628\n0.000037 230\n0.000513 1211\n0.049985 125\n0.051225 144\n0.000833 678\n0.000258 218\n0.000278 166\n0.000237 220\n0.000028 4\n0.050925 1\n0.005343 247\n0.000029 649\n0.000307 3\n0.000457 334\n0.000029 71\n0.042698 953\n0.000109 106\n0.000028 245\n0.000598 95\n0.049630 943\n0.000105 405\n0.052134 551\n0.000036 731\n0.000500 445\n0.051203 602\n0.000042 269\n0.000546 70\n0.050933 967\n0.000048 172\n0.000025 301\n0.000551 71\n0.050891 886\n0.000041 126\n0.000031 377\n0.000562 1\n0.049324 315\n0.000489 1\n0.000235 53\n0.000159 1\n0.000276 297\n0.000211 1\n0.000217 207\n0.000173 46\n0.000414 515\n0.000455 151\n0.000033 1\n0.052665 908\n0.000046 199\n0.000530 24\n0.054988 997\n0.000711 54\n0.048736 950\n0.000108 200\n0.000028 230\n0.000545 57\n0.052944 875\n0.000045 206\n0.000082 112\n0.000498 114\n0.000334 174\n0.000034 126\n0.044904 1355\n0.000459 78\n0.059964 857\n0.000044 685\n0.000655 1\n0.057988 1\n0.000643 69\n0.000261 1\n0.000267 40\n0.000225 1\n0.000252 293\n0.000233 1\n0.000279 193\n0.000290 1\n0.000277 56\n0.005843 1\n0.000511 158\n0.001076 1\n0.000489 43\n0.000265 1\n0.000269 62\n0.000249 56\n0.000487 300\n0.000510 86\n0.021644 1\n0.000457 39\n0.000162 1\n0.000179 321\n0.000162 1\n0.000205 87\n0.000147 1\n0.000176 53\n0.000145 1\n0.000171 39\n0.000146 1\n0.000170 148\n0.000152 1\n0.000184 156\n0.000161 73\n0.000269 395\n0.000453 81\n0.367999 885\n0.000048 307\n0.000670 77\n0.624217 852\n0.000055 691\n0.000830 4\n0.503303 1487\n0.002181 60\n0.232368 932\n0.000040 223\n0.000086 312\n0.000831 1441\n0.557997 99\n0.501566 835\n0.000104 201\n0.000028 383\n0.000600 24\n0.501698 629\n0.000728 24\n0.916383 615\n0.000451 376\n0.000473 24\n0.327060 329\n0.000447 293\n0.000096 5\n0.166773 1156\n0.000178 145\n0.000367 96\n0.000350 112\n0.000031 4\n0.545269 1\n0.000076 282\n0.000060 1\n0.000046 312\n0.000055 1\n0.000059 174\n0.000048 1\n0.000055 62\n0.000044 1\n0.000041 181\n0.000058 60\n0.000180 1\n0.000044 77\n0.000049 41\n0.000195 1\n0.000045 244\n0.000053 5\n0.865050 921\n0.000048 660\n0.001186 4\n0.530411 1107\n0.000535 112\n0.687412 798\n0.000046 2\n0.000063 563\n0.000486 172\n0.000060 64\n0.168642 64\n0.304053 64\n0.193549 64\n0.189997 64\n0.216169 65\n0.455307 1\n0.319536 1\n0.192004 65\n0.062547 1\n0.113253 65\n0.246269 25\n0.323868 150\n0.000038 65\n0.110425 28\n0.779679 28\n0.447022 28\n0.007532 4\n0.528104 28\n0.216050 28\n0.114020 28\n0.142180 4\n0.784154 4\n0.500518 4\n0.050138 4\n0.050957 12\n0.051097 64\n0.187252 4\n0.167796 1\n0.184118 237\n0.192581 65\n0.369862 3\n0.211257 1\n0.119327 30\n0.643284 32\n0.030131 1\n0.302492 193\n0.731687 56\n0.001102 47\n0.002621 63\n0.348425 45\n0.103776 45\n0.103954 45\n0.063941 116\n0.248010 32\n0.376189 68\n1.368468 32\n0.047225 32\n0.089021 32\n2.287508 32\n0.128051 181\n1.616050 45\n0.167619 45\n0.079901 45\n0.128145 45\n0.144238 45\n0.048783 116\n0.463101 32\n0.513997 32\n3.374090 32\n0.040206 32\n0.232085 32\n0.215929 32\n0.256030 35\n0.270691 40\n0.265038 32\n0.368546 32\n0.151635 32\n0.095454 32\n0.024327 32\n0.040160 32\n0.752016 32\n0.007902 34\n0.040483 37\n0.416181 35\n0.127704 35\n0.119854 32\n0.328111 32\n0.047703 35\n0.504611 35\n0.143736 32\n0.624934 34\n0.041618 6\n0.361620 116\n0.057372 110\n0.044492 65\n0.014709 18\n0.668638 65\n0.717430 1\n0.273101 67\n0.907307 116\n0.550123 110\n0.052686 65\n0.024445 18\n3.442009 25\n0.286659 150\n0.003357 8\n0.284307 28\n0.347259 28\n0.088586 28\n0.375545 28\n0.264167 28\n0.111854 59\n0.095957 3\n0.128344 28\n0.047798 28\n0.159937 28\n0.096190 55\n0.088936 28\n0.118966 28\n0.240159 28\n0.152175 28\n0.087950 28\n0.145541 28\n0.102762 28\n0.103600 28\n0.112241 28\n0.144649 28\n0.040171 28\n0.143304 28\n0.361175 30\n0.032873 3\n0.395151 190\n0.674488 199\n0.509637 422\n0.000751 43\n0.122142 43\n0.144120 43\n0.079720 43\n0.104058 43\n0.096729 43\n0.079187 43\n0.047858 43\n0.040265 43\n0.128008 43\n0.063855 58\n0.384002 116\n0.494217 110\n0.037179 65\n0.016189 1449\n0.429175 11\n0.499471 1\n0.000074 1\n0.000050 330\n0.000364 1\n0.000133 205\n0.000259 1\n0.000061 1\n0.000056 303\n0.000227 1\n0.000057 68\n0.000071 211\n0.000401 1\n0.000058 60\n0.000056 254\n0.000409 1\n0.000057 133\n0.000061 279\n0.049095 1\n0.000074 285\n0.000062 1\n0.000050 1\n0.000348 47\n0.000050 1\n0.000199 1\n0.000193 83\n0.000059 1\n0.000120 232\n0.000148 2\n0.000255 1\n0.000059 1\n0.000128 45\n0.000123 1\n0.000126 94\n0.000133 6\n0.000353 1\n0.000054 75\n0.000053 1\n0.000134 1\n0.000132 223\n0.000138 4\n0.042502 1\n0.000073 71\n0.000054 1\n0.000044 51\n0.000061 1\n0.000043 258\n0.000055 1\n0.000042 4\n0.000041 1\n0.000041 1\n0.000042 1\n0.000041 237\n0.000047 1\n0.000042 205\n0.000049 1\n0.000046 43\n0.000049 1\n0.000053 70\n0.000054 6\n0.000134 1\n0.000044 152\n0.000051 2\n0.000186 1\n0.000043 1\n0.000054 39\n0.000048 1\n0.000046 304\n0.000055 4\n0.053488 1\n0.004376 46\n0.000076 1\n0.000047 744\n0.000072 1\n0.000046 161\n0.000063 91\n0.000467 1\n0.000352 42\n0.000183 1\n0.000192 65\n0.000165 1\n0.000194 101\n0.000168 57\n0.038332 932\n0.000111 280\n0.000033 63\n0.050937 842\n0.000050 256\n0.000541 106\n0.000047 106\n0.052183 1\n0.000072 35\n0.000048 1\n0.000042 1\n0.000044 311\n0.000059 1\n0.000307 259\n0.000056 1\n0.000076 72\n0.000149 1\n0.000045 65\n0.000061 1\n0.000138 96\n0.000159 166\n0.000317 2\n0.000290 1\n0.000056 128\n0.000493 1\n0.000056 52\n0.000045 1\n0.000140 87\n0.000056 153\n0.047961 859\n0.000114 332\n0.000031 106\n0.048879 740\n0.000046 368\n0.000562 250\n0.049797 577\n0.000037 124\n0.000066 189\n0.000499 233\n0.048619 1\n0.000872 1\n0.000071 354\n0.000061 1\n0.000055 295\n0.000147 236\n0.000259 427\n0.050150 308\n0.000042 278\n0.000032 201\n0.054240 778\n0.000039 322\n0.000091 4\n0.052528 1\n0.000142 83\n0.000079 1\n0.000045 127\n0.000048 1\n0.000044 153\n0.000048 1\n0.000044 581\n0.000077 2\n0.000181 1\n0.000042 91\n0.000044 1\n0.000042 175\n0.000083 343\n0.044391 1046\n0.000055 354\n0.054192 551\n0.000044 1\n0.000071 471\n0.000797 291\n0.000030 228\n0.046634 691\n0.000053 148\n0.000024 341\n0.000782 464\n0.051717 602\n0.000042 715\n0.000572 122\n0.050121 812\n0.000050 156\n0.000072 657\n0.000825 98\n0.051544 1380\n0.000543 4\n0.049284 1\n0.000165 170\n0.000086 1\n0.000127 163\n0.000092 1\n0.000109 169\n0.000087 1\n0.000124 163\n0.000093 1\n0.000123 273\n0.000111 567\n0.000512 218\n0.000040 78\n0.000024 192\n0.000025 296\n0.060097 764\n0.000099 2080\n0.000646 420\n0.047824 501\n0.000035 1043\n0.000590 23\n0.048989 982\n0.000043 1167\n0.000648 4\n0.047812 1\n0.000377 146\n0.000174 1\n0.000320 164\n0.000261 1\n0.000209 264\n0.000184 1\n0.000293 87\n0.000170 1\n0.000193 87\n0.000164 1\n0.000191 87\n0.000164 1\n0.000244 44\n0.000177 1\n0.000129 177\n0.000133 187\n0.000425 124\n0.000066 205\n0.000201 151\n0.000050 4\n0.043680 1\n0.000080 56\n0.000049 1\n0.000043 105\n0.000114 1\n0.000064 71\n0.000046 1\n0.000041 72\n0.000042 1\n0.000042 259\n0.000076 1\n0.000046 57\n0.000044 1\n0.000045 65\n0.000048 1\n0.000047 16\n0.000058 1\n0.000042 265\n0.000063 94\n0.000205 1\n0.000053 234\n0.000053 6\n0.000192 1\n0.000052 56\n0.000045 1\n0.000045 200\n0.000061 50\n0.048877 947\n0.000047 98\n0.000024 411\n0.000558 200\n0.049206 870\n0.000047 459\n0.000740 414\n0.049212 505\n0.000045 201\n0.000023 39\n0.000029 281\n0.000801 240\n0.047813 1\n0.000082 61\n0.000050 1\n0.000043 71\n0.000045 1\n0.000043 161\n0.000048 1\n0.000058 275\n0.000052 1\n0.000044 39\n0.000042 1\n0.000040 56\n0.000059 2\n0.000229 1\n0.000046 4\n0.000057 1\n0.000042 12\n0.000041 1\n0.000045 86\n0.000054 1\n0.000052 201\n0.000052 169\n0.058392 1\n0.000074 1\n0.000047 113\n0.000046 1\n0.000044 1\n0.000094 99\n0.000550 1\n0.000142 208\n0.000161 1\n0.000155 170\n0.000142 1\n0.000135 73\n0.000122 1\n0.000144 91\n0.000167 2\n0.000371 1\n0.000054 80\n0.000099 1\n0.000138 237\n0.000216 4\n0.046743 1211\n0.001848 6\n0.046666 923\n0.000047 698\n0.000727 121\n0.058231 793\n0.000049 685\n0.000574 103\n0.050843 796\n0.000046 548\n0.000610 121\n1.466193 825\n0.000052 599\n0.000605 3\n0.165691 1\n0.001647 60\n0.000081 1\n0.000373 282\n0.000258 1\n0.000565 81\n0.000068 1\n0.000283 87\n0.000065 1\n0.000257 87\n0.000133 1\n0.000267 72\n0.000063 1\n0.000262 197\n0.000068 1\n0.000268 76\n0.000081 2\n0.000526 1\n0.000056 150\n0.000051 1\n0.000144 233\n0.000050 2\n0.000318 1\n0.000057 1\n0.000095 145\n0.000116 1\n0.000101 1\n0.000128 162\n0.000191 251\n0.144695 671\n0.000045 45\n0.000063 299\n0.000516 2\n0.148173 889\n0.000051 308\n0.000599 155\n0.153016 2\n0.001243 439\n0.000130 181\n0.000454 143\n0.000039 2\n0.000479 88\n0.000315 204\n0.000326 454\n0.181430 572\n0.000080 126\n0.000564 67\n0.000343 227\n0.000034 2\n0.719286 907\n0.000049 528\n0.001011 90\n0.462788 895\n0.000124 98\n0.000033 247\n0.000601 165\n0.000025 54\n0.567553 940\n0.000048 622\n0.000571 1\n0.284143 96\n0.000082 1\n0.000050 49\n0.000048 1\n0.000048 164\n0.000057 1\n0.000278 46\n0.000089 1\n0.000148 64\n0.000060 1\n0.000139 40\n0.000151 1\n0.000146 90\n0.000140 1\n0.000106 87\n0.000137 1\n0.000133 87\n0.000138 1\n0.000116 331\n0.000151 194\n0.000324 1\n0.000056 133\n0.000051 2\n0.000185 1\n0.000048 33\n0.000052 1\n0.000165 166\n0.000120 1\n0.000098 151\n0.000139 99\n0.257849 804\n0.000051 1231\n0.000725 137\n0.647790 2102\n0.000917 62\n0.553516 63\n0.499027 63\n0.050140 63\n0.051099 63\n0.054142 63\n0.050680 63\n0.050697 64\n0.050401 64\n0.051150 65\n0.140524 66\n0.411376 25\n0.208380 149\n0.000036 1\n0.345662 28\n0.307458 28\n0.137867 28\n0.182375 2\n0.089811 52\n0.000031 3\n0.126214 28\n0.071574 28\n0.136285 28\n0.048143 55\n0.144069 28\n0.047516 28\n0.096587 28\n0.176063 28\n0.055829 28\n0.081227 28\n0.046766 1\n0.136136 28\n0.136288 28\n0.111784 3\n0.090247 198\n0.149831 41\n0.349810 41\n0.066090 41\n0.119707 41\n0.097295 3\n0.087285 41\n0.063792 41\n0.065128 41\n0.038471 41\n0.120485 41\n0.063765 57\n0.249970 178\n0.110031 28\n0.007925 18\n0.168539 28\n0.079909 28\n0.072082 28\n0.128101 28\n0.023760 28\n0.128722 59\n0.063569 1\n0.720193 28\n0.287625 28\n0.176049 28\n0.143909 28\n0.032095 28\n0.224047 28\n0.727972 28\n0.223824 28\n0.008709 28\n0.103333 116\n0.910730 110\n0.034470 65\n0.015992 403\n0.265230 575\n0.000094 1844\n0.000572 711\n0.507504 1\n0.000216 273\n0.000118 503\n0.000480 1\n0.000145 166\n0.000097 1\n0.000117 90\n0.000123 1\n0.000137 42\n0.000112 1\n0.000131 63\n0.000110 2\n0.000247 1\n0.000101 65\n0.000106 1\n0.000124 74\n0.000163 1\n0.000129 148\n0.000104 62\n0.302822 65\n0.499291 63\n0.049156 63\n0.050426 63\n0.050413 64\n0.292189 64\n0.285281 7\n0.410953 25\n0.230947 156\n0.000040 1\n0.382693 28\n0.267695 28\n0.071684 28\n0.176784 1\n0.071630 53\n0.000058 3\n0.120075 28\n0.048067 28\n0.207865 28\n0.120229 55\n0.087534 28\n0.120749 28\n0.063650 28\n0.151935 28\n0.071761 28\n0.056301 28\n0.039538 1\n0.148857 28\n0.099776 28\n0.112013 3\n0.063672 197\n0.136532 898\n0.510664 408\n0.000096 41\n0.025162 41\n0.143870 41\n0.095727 41\n0.096874 3\n0.087094 41\n0.064339 41\n0.048721 41\n0.054465 41\n0.097108 41\n0.079517 56\n0.248399 215\n0.128141 28\n0.008446 17\n0.079567 28\n0.127412 28\n0.064428 28\n0.103833 28\n0.079901 28\n0.096239 59\n0.096284 1\n0.087606 28\n0.023792 28\n0.147518 28\n0.116840 55\n0.079869 28\n0.096294 28\n0.183822 28\n0.088882 28\n0.103405 28\n0.128019 28\n0.007761 28\n0.199987 28\n0.120743 4\n0.191465 4\n0.119683 4\n0.144150 4\n0.128126 28\n0.080022 28\n0.040132 28\n0.208567 28\n0.111371 28\n0.207822 28\n0.148148 28\n0.169604 28\n0.258602 28\n0.127535 28\n0.215885 28\n0.280409 28\n0.080452 28\n0.055291 28\n0.304350 28\n0.079624 815\n0.510134 257\n0.000056 28\n0.170833 28\n0.250023 31\n0.395718 7\n0.390389 112\n0.017448 109\n0.048812 64\n0.015253 181\n1.111741 1\n1.669843 1\n0.031752 109\n0.157342 96\n0.003908 1\n0.295048 1\n0.063748 1\n0.216085 15\n0.128709 2\n0.408502 43\n0.401303 2235\n0.019566 760\n0.000268 362\n0.115651 7\n0.808237 52\n0.000018 96\n0.035657 18\n0.338467 23\n0.121434 7\n0.839900 11\n0.520108 20\n0.144128 21\n0.118239 1\n0.311983 1\n0.424084 1\n0.031973 2\n0.136268 2219\n0.018685 410\n0.000154 85\n1.117094 840\n0.000050 103\n0.000074 89\n0.000523 117\n0.000032 3\n0.000375 234\n0.000030 99\n0.000026 65\n0.887604 13\n0.624677 903\n0.000053 618\n0.000637 110\n4.354905 29\n0.000202 28\n1.067560 28\n0.384079 28\n0.087942 32\n0.141102 1\n0.404931 49\n0.041979 1272\n0.000551 178\n1.231441 956\n0.000040 287\n0.000575 71\n0.844414 1\n0.000354 275\n0.000233 603\n0.000041 84\n0.000294 3\n0.000253 296\n0.000030 63\n1.318611 63\n0.499859 63\n0.050616 63\n0.049926 63\n0.051105 63\n0.212074 63\n0.888398 63\n0.499759 63\n0.051542 63\n0.050737 62\n0.050927 62\n0.052039 135\n0.053499 912\n0.000049 2\n0.000079 240\n0.000759 64\n0.045737 64\n0.434637 64\n0.368478 65\n0.175239 1\n0.183309 1\n0.167887 1\n0.128045 1\n0.144405 1\n0.103766 1\n0.168221 29\n0.342780 59\n0.000038 56\n0.126323 56\n0.134907 53\n0.960132 116\n0.557155 110\n0.037056 146\n0.011721 181\n0.183075 2\n0.230168 20\n0.114098 2\n0.134738 36\n0.411044 7\n0.000013 2235\n0.019010 760\n0.000318 171\n0.038541 79\n0.707764 98\n0.149513 83\n0.144280 94\n0.143786 272\n0.295015 87\n0.426338 94\n0.242132 94\n0.150397 7\n0.370812 52\n0.000032 36\n0.002263 115\n0.000033 289\n0.000233 192\n0.000332 4\n0.000025 96\n0.068419 18\n0.964664 23\n0.145381 1650\n1.538902 103\n1.271971 29\n0.000033 43\n0.204711 1667\n0.788816 701\n0.536991 206\n0.000044 940\n0.000631 312\n0.461124 1070\n0.000789 346\n0.060495 621\n0.000045 328\n0.000027 276\n0.000759 1\n0.038182 1380\n0.000902 1\n0.051098 1230\n0.002209 99\n0.054613 767\n0.000047 468\n0.000530 885\n0.044748 244\n0.000111 130\n0.056906 824\n0.000045 246\n0.000035 247\n0.047461 1\n0.000427 1\n0.000191 339\n0.000181 1\n0.000221 1\n0.000164 12\n0.000164 1\n0.000189 78\n0.000164 1\n0.000192 1\n0.000150 180\n0.000159 120\n0.000716 1\n0.000275 1\n0.000161 1\n0.000149 244\n0.000159 3\n0.043192 945\n0.000056 383\n0.000144 309\n0.050263 708\n0.000082 4\n0.000472 462\n0.000030 306\n0.065243 626\n0.000049 587\n0.000345 210\n0.044056 581\n0.000119 206\n0.000026 314\n0.000031 309\n0.044780 770\n0.000048 295\n0.000653 224\n0.056844 535\n0.000044 105\n0.000072 355\n0.000894 96\n0.046921 1426\n0.001833 60\n0.050604 1296\n0.000637 5\n0.053280 916\n0.000043 3\n0.000067 331\n0.000468 192\n0.000029 53\n0.045371 1\n0.000079 341\n0.000066 1\n0.000044 62\n0.000049 1\n0.000047 186\n0.000065 1\n0.000044 1\n0.000042 231\n0.000110 1\n0.000050 58\n0.000055 252\n0.000263 1\n0.000191 1\n0.000053 53\n0.000047 1\n0.000044 253\n0.000051 418\n0.855046 500\n0.000043 62\n0.000023 165\n0.000024 393\n0.000637 257\n1.004407 1\n0.000085 173\n0.000052 1\n0.000043 62\n0.000043 1\n0.000047 241\n0.000052 1\n0.000061 118\n0.000046 1\n0.000042 58\n0.000058 158\n0.000174 3\n0.000231 1\n0.000053 315\n0.000054 422\n0.372497 727\n0.000045 386\n0.000575 62\n0.468623 431\n0.344821 483\n0.000044 158\n0.000026 316\n0.000677 216\n0.809194 706\n0.000048 62\n0.000075 165\n0.000601 387\n0.001070 63\n0.403363 63\n0.500096 64\n0.051206 63\n0.051120 63\n0.050314 63\n0.050936 64\n0.050949 64\n0.237004 64\n0.759971 64\n0.704867 64\n0.383195 494\n0.703307 578\n0.000041 323\n0.000632 91\n0.858115 1084\n0.000106 7\n0.000576 312\n0.000034 64\n0.627868 64\n0.493582 64\n0.050305 64\n0.051249 64\n0.051132 64\n0.050207 64\n0.050541 64\n0.050674 65\n0.050462 65\n0.264283 1\n0.304167 67\n0.772503 32\n0.077569 2\n0.357373 116\n0.050206 110\n0.066189 65\n0.018431 181\n0.122664 2\n0.198164 20\n0.129227 2\n0.135537 36\n0.376474 7\n0.000012 2235\n0.018680 760\n0.000340 171\n0.038220 79\n0.589909 270\n0.386087 86\n0.300853 93\n0.149835 93\n0.148760 838\n0.321126 74\n0.875528 264\n0.340764 76\n0.459943 80\n0.143235 274\n0.432095 76\n0.570990 76\n0.195580 211\n0.389227 76\n0.683265 81\n0.145096 319\n0.290604 170\n0.437588 200\n0.387544 110\n0.733396 74\n0.582850 75\n0.145434 75\n0.147592 75\n0.143481 75\n0.213522 80\n0.070999 80\n0.224163 273\n0.432953 87\n0.705965 678\n0.149441 84\n0.595184 324\n0.098276 79\n0.506499 81\n0.145571 81\n0.218164 81\n0.269223 481\n0.428387 121\n0.440709 75\n0.287247 274\n0.307088 89\n0.783898 614\n0.239021 86\n0.394064 82\n0.366726 328\n0.148548 81\n0.297751 83\n0.220552 83\n0.146528 84\n0.147489 75\n0.547037 483\n0.218868 117\n0.379989 75\n0.218126 76\n0.149583 76\n0.157634 76\n0.144951 88\n0.287763 283\n0.434462 89\n0.449298 585\n0.314062 86\n0.589739 331\n0.176860 81\n0.436194 83\n0.226955 421\n0.363148 117\n0.436038 76\n0.143099 76\n0.144366 81\n16.464801 81\n0.507294 81\n0.039537 81\n0.046715 82\n0.047883 83\n0.049110 83\n0.048667 83\n0.048856 83\n0.048923 77\n0.840248 288\n0.299781 91\n0.532371 98\n0.153697 98\n0.927034 362\n6.725195 89\n0.437240 84\n0.225880 84\n0.275149 269\n0.199302 83\n1.726695 85\n0.229956 396\n0.221481 118\n0.377623 84\n0.143150 288\n0.664048 91\n4.411895 98\n0.304619 98\n0.227890 95\n0.251585 95\n0.449494 98\n0.301604 98\n0.302604 595\n0.227141 79\n0.488201 82\n0.209230 85\n0.144536 82\n0.223396 86\n0.148618 338\n0.355548 79\n0.447970 187\n0.216655 74\n1.084694 220\n0.431929 84\n0.479776 77\n0.242010 288\n0.380261 91\n0.647201 338\n0.176860 89\n0.531485 255\n0.097111 294\n0.770617 118\n0.324107 77\n0.142161 288\n0.299813 91\n0.437771 362\n0.207413 89\n0.577810 221\n0.098610 77\n0.336936 328\n0.193808 118\n0.578490 77\n0.142757 288\n86.742127 91\n0.519240 98\n0.222372 98\n0.219625 95\n0.438932 98\n0.236301 96\n0.223284 397\n1.629197 54\n1.754075 54\n0.073054 54\n0.072656 54\n0.286380 54\n0.072251 54\n0.146229 260\n0.418770 288\n1.059282 77\n0.378646 445\n0.438635 53\n0.451132 96\n0.065412 1\n29.503509 1\n0.055969 1948\n0.181525 4\n0.512659 1\n0.000904 1\n0.000066 41\n0.000070 29\n0.000345 103\n0.749960 29\n0.000278 43\n0.251252 44\n0.392168 46\n0.543884 84\n1.492754 18\n0.434444 112\n0.200968 29\n0.000016 28\n1.744102 28\n0.143829 35\n0.173558 1\n0.341094 49\n0.063458 1262\n0.000676 62\n0.790189 63\n0.499792 63\n0.049470 63\n0.050038 63\n0.049869 63\n0.049949 63\n0.050921 64\n0.050536 65\n0.190769 8\n0.183781 1\n0.119949 1\n0.500469 1\n0.049994 1\n0.050969 1\n0.050076 1\n0.050095 1\n0.050248 1\n0.050447 1\n0.165366 24\n0.277877 59\n0.000103 825\n0.160721 363\n0.000044 62\n0.708851 63\n0.245158 63\n0.168038 63\n0.111948 63\n0.184284 7\n0.215748 1\n0.167202 1\n0.500273 1\n0.050551 1\n0.050820 1\n0.050845 1\n0.051408 1\n0.050076 1\n0.051181 1\n0.194538 45\n0.141692 697\n0.151401 203\n0.000046 50\n0.000938 43\n0.000853 12\n0.584959 112\n0.033313 106\n0.061562 142\n0.020702 179\n0.213850 2\n21.126126 20\n0.161262 23\n0.993176 20\n0.567019 2\n0.223905 36\n0.395149 7\n0.000011 2235\n0.018562 651\n0.000249 171\n0.038122 7\n0.957595 46\n0.000017 96\n0.030998 18\n0.478192 23\n0.137209 33\n0.663721 125\n0.002336 856\n0.000461 194\n0.000165 101\n1.759363 29\n0.000189 43\n0.276948 37\n0.744234 1350\n0.308323 73\n1.027301 38\n0.108589 36\n0.152066 34\n0.151872 32\n0.120222 116\n0.188969 110\n0.031144 65\n0.012033 181\n0.148315 2\n0.174693 20\n0.129160 2\n0.183169 36\n0.397072 7\n0.000012 2235\n0.018804 651\n0.000345 347\n0.118518 82\n0.225898 101\n0.192691 91\n0.193838 77\n0.048828 82\n0.166196 82\n0.144921 82\n0.141563 82\n0.142263 77\n0.144217 83\n0.159130 84\n0.143282 78\n0.142571 100\n0.142139 68\n0.071855 90\n0.142265 100\n0.151507 68\n0.143386 99\n0.070980 85\n0.213396 85\n0.223068 79\n0.145146 376\n0.141654 77\n0.139059 77\n0.139749 154\n0.140380 304\n0.355917 111\n0.147986 461\n0.217880 426\n0.637886 4\n0.075110 4\n0.072238 193\n0.079774 4\n0.069839 4\n0.071246 4\n0.070324 4\n0.070162 4\n0.070673 4\n0.069210 6\n0.070078 4\n0.070831 4\n0.070256 4\n0.080981 131\n0.076210 4\n0.072073 4\n0.071874 77\n0.073894 4\n0.075363 457\n0.223443 18\n0.040690 17\n0.040057 17\n0.047044 17\n0.048749 17\n0.052318 17\n0.074984 116\n0.075558 17\n0.075817 83\n0.074503 446\n0.244989 18\n0.046984 17\n0.046864 17\n0.049793 17\n0.049778 17\n0.061861 17\n0.078041 17\n0.074170 17\n0.074449 17\n0.073840 241\n0.076994 18\n0.074974 358\n0.079621 17\n0.078763 17\n0.055635 17\n0.042244 355\n0.040656 17\n0.051059 17\n0.051025 17\n0.050931 17\n0.051096 431\n0.298794 4\n0.040449 4\n0.051940 4\n0.051033 4\n0.049815 4\n0.049956 188\n0.052171 4\n0.075006 4\n0.079111 4\n0.087571 112\n0.077032 4\n0.076506 77\n0.076691 4\n0.076308 415\n0.233016 17\n0.041630 17\n0.039975 17\n0.047556 17\n0.050498 17\n0.049853 262\n0.051230 17\n0.050089 358\n0.053540 17\n0.051967 17\n0.077394 17\n0.089473 17\n0.077943 17\n0.076550 17\n0.077518 17\n0.078841 18\n0.079119 17\n0.075308 274\n0.073786 17\n0.072159 17\n0.077962 63\n0.112525 17\n0.039946 17\n0.047345 17\n0.049210 17\n0.049210 19\n0.049142 17\n0.049454 17\n0.049058 17\n0.049089 17\n0.049466 17\n0.048652 17\n0.049041 17\n0.049024 188\n0.050350 17\n0.048243 107\n0.099021 75\n0.273695 468\n0.327178 310\n0.337336 312\n0.148502 181\n0.203042 378\n0.154099 188\n0.356512 92\n0.243854 88\n0.959540 199\n0.146791 84\n0.146279 562\n0.347589 85\n0.418051 156\n0.145251 318\n0.204229 113\n0.204326 87\n0.201913 227\n0.099677 151\n0.048794 341\n0.243323 239\n0.394595 60\n0.097277 325\n0.390801 60\n0.048433 58\n0.661098 60\n0.432419 145\n0.646369 58\n0.144028 123\n0.329585 90\n0.495890 154\n0.286981 316\n0.240938 111\n0.200996 85\n0.224081 260\n0.215802 343\n0.141848 86\n0.443579 477\n0.455877 38\n0.076168 38\n0.076271 38\n0.078469 241\n0.072689 38\n0.071668 38\n0.071935 38\n0.071758 129\n0.072265 38\n0.073271 40\n0.072647 38\n0.076957 38\n0.073922 105\n0.069914 38\n0.071316 38\n0.069682 38\n0.069951 229\n0.081272 38\n0.072568 38\n0.073517 40\n0.073074 38\n0.075700 38\n0.077005 121\n0.077142 38\n0.073269 633\n0.225028 51\n0.041084 51\n0.039752 219\n0.046854 51\n0.049636 52\n0.062138 51\n0.074181 51\n0.090253 127\n0.074961 51\n0.073805 51\n0.072911 446\n0.249521 51\n0.044272 107\n0.044134 51\n0.047503 52\n0.052084 51\n0.050744 271\n0.049944 51\n0.050490 51\n0.050438 376\n0.052101 51\n0.051283 51\n0.052067 51\n0.051993 51\n0.052051 324\n0.209819 88\n0.306624 458\n0.160892 38\n0.050749 38\n0.049934 38\n0.058641 38\n0.074837 38\n0.076020 38\n0.076299 38\n0.076048 38\n0.074785 38\n0.075194 191\n0.074379 38\n0.075783 38\n0.073891 38\n0.077521 38\n0.073211 38\n0.072890 38\n0.075618 38\n0.083683 38\n0.072398 38\n0.072162 40\n0.075199 38\n0.073818 38\n0.072275 38\n0.072536 38\n0.071829 364\n0.070589 38\n0.070922 228\n0.072328 38\n0.039260 38\n0.040018 40\n0.049219 38\n0.049342 122\n0.049272 38\n0.049663 38\n0.049202 574\n0.193361 51\n0.044241 51\n0.045730 51\n0.045592 51\n0.049983 53\n0.048037 51\n0.047951 51\n0.049277 51\n0.048330 51\n0.048379 51\n0.048495 219\n0.050295 51\n0.049920 51\n0.050798 127\n0.050171 417\n0.235852 7\n2.500286 52\n0.000028 96\n0.073908 18\n0.335579 23\n0.161359 1632\n0.626908 608\n23.735432 356\n0.000040 285\n0.000485 449\n0.494587 603\n0.000085 75\n0.529690 137\n0.000115 329\n0.610082 382\n0.000043 2\n0.000067 194\n0.000484 908\n0.282748 335\n0.000122 49\n0.473283 953\n0.000049 2\n0.000079 234\n0.000503 671\n0.743100 361\n0.000045 100\n2.056496 29\n0.000041 45\n0.277418 46\n0.471489 1624\n0.837541 459\n0.500572 478\n0.000047 252\n0.000030 2\n0.001193 307\n0.000043 212\n0.843280 1326\n0.000533 431\n0.367460 641\n0.000048 319\n0.000029 64\n0.546936 64\n0.167738 64\n0.175472 64\n0.160862 64\n0.192447 65\n0.302035 25\n0.500112 158\n0.000035 8\n0.755936 116\n0.785332 110\n0.034393 65\n0.016997 25\n0.835264 59\n0.000122 28\n0.147622 53\n0.055701 1\n0.160529 28\n0.599776 3\n0.168184 28\n0.263968 51\n0.032958 3\n0.103284 28\n0.167683 28\n0.025283 28\n0.167003 28\n0.145007 28\n0.111069 4\n0.752053 4\n0.151829 4\n0.143834 4\n0.155997 8\n0.099965 28\n0.056041 28\n0.176024 28\n0.063749 55\n0.088225 28\n0.119928 28\n0.080473 28\n0.080092 28\n0.135767 28\n0.103997 28\n0.208218 28\n0.175912 28\n0.063693 28\n0.168404 28\n0.128141 28\n0.047990 28\n0.196898 257\n0.251354 2\n0.147876 65\n3.502440 65\n0.129928 8\n0.255541 200\n1.075144 8\n0.164325 28\n1.172155 28\n0.082566 28\n0.229006 28\n0.111521 3\n0.992368 51\n0.311947 3\n0.199891 28\n0.167895 30\n0.030599 4\n0.645995 116\n0.049417 110\n0.036261 65\n0.016684 75\n0.431775 65\n0.178755 66\n3.087705 28\n0.331459 4\n0.391794 5\n0.128321 1\n0.000042 25\n14.328138 232\n0.000045 2\n0.803920 4\n0.395854 28\n0.783671 28\n0.127866 53\n0.080539 1\n0.127959 28\n0.199974 3\n0.095646 28\n0.125667 51\n0.034384 3\n0.031847 1\n1.340526 3\n0.723308 25\n0.168811 97\n0.000036 64\n0.666550 64\n0.138459 64\n0.151537 3\n0.667492 265\n0.143551 8\n0.548930 1\n0.286836 30\n0.964369 32\n0.854254 2\n0.374235 1\n0.431134 1\n0.495813 32\n0.572136 1\n0.308818 99\n0.379712 2\n0.275675 116\n0.681294 110\n0.045422 65\n0.015805 25\n0.412363 59\n0.000675 51\n0.079692 3\n0.176024 1\n0.680481 33\n0.143680 5\n0.144185 1\n0.000031 28\n0.186514 28\n0.133076 53\n0.112029 3\n0.144079 28\n2.064092 28\n0.258140 28\n0.141811 28\n0.296077 33\n0.647008 8\n0.145735 28\n0.135595 51\n0.055315 3\n0.068724 28\n0.051581 28\n0.176386 28\n0.079911 55\n0.064367 28\n0.111595 28\n0.832353 28\n0.048254 28\n0.087026 28\n0.112654 28\n0.160005 4\n0.615918 28\n0.855868 28\n0.232313 28\n0.135603 28\n0.184619 28\n0.071760 1\n3.139900 1\n0.500499 1\n0.049881 1\n0.050941 1\n0.050493 1\n0.049530 1\n0.050766 1\n0.049633 1\n0.050996 1\n0.050131 1\n0.050706 1\n0.050786 104\n0.053994 18\n0.046690 1\n0.050547 1\n0.049953 1\n0.050839 1\n0.050432 1\n0.051037 1\n0.050909 1\n0.051278 1\n0.050599 1\n0.145264 31\n0.268168 31\n0.128016 31\n0.152111 31\n0.151836 31\n0.152912 32\n1.119089 4\n0.510950 4\n1.625175 4\n0.103867 4\n0.159983 4\n0.128672 28\n0.127870 28\n0.159391 53\n0.088207 34\n0.360095 28\n0.232537 28\n0.094715 28\n0.169532 28\n0.083795 28\n0.019425 28\n0.943781 30\n0.055163 31\n0.310349 25\n0.354878 74\n0.000049 8\n0.124979 116\n0.488008 110\n0.039229 65\n0.017225 75\n1.621584 65\n0.122045 3\n0.223606 25\n0.255810 150\n0.000042 65\n0.096548 28\n1.226662 28\n0.135868 28\n0.199681 28\n0.088431 3\n0.239913 49\n0.136081 1\n0.128849 1\n0.000406 28\n0.094812 28\n0.159998 28\n0.087722 47\n0.088178 65\n0.378458 65\n0.122278 28\n1.091754 51\n0.055018 2\n0.187127 28\n0.765085 28\n0.199992 28\n0.288056 28\n0.039768 28\n0.160191 28\n0.079867 3\n1.160301 28\n0.111778 28\n0.088115 53\n0.064227 3\n0.119923 28\n0.088061 28\n0.183911 28\n0.224100 28\n0.039772 28\n0.152142 28\n0.095968 28\n0.600215 28\n0.167631 28\n0.064347 28\n0.096502 28\n0.096376 3\n0.463200 28\n1.536226 51\n0.087690 3\n0.148736 28\n0.075104 3\n0.240353 28\n0.896009 51\n0.071468 3\n0.217397 28\n5.311934 28\n0.215356 28\n0.296010 28\n0.095427 28\n0.081346 28\n0.135201 3\n1.472031 28\n0.271869 51\n0.079697 1\n0.152572 28\n0.127730 3\n0.256505 28\n0.111587 28\n0.112033 53\n0.087956 35\n2.304456 4\n0.500594 8\n0.050160 1\n0.077852 6\n0.023998 1\n0.051024 33\n0.051111 8\n0.050120 1\n0.051364 4\n0.050487 4\n0.051092 4\n0.050331 4\n0.051079 4\n0.050714 8\n0.050285 1\n0.050943 33\n0.196296 8\n0.159827 1\n0.176056 28\n1.429089 3\n0.387116 28\n0.528120 28\n0.135768 28\n0.191831 28\n0.088123 3\n0.128315 51\n0.176316 3\n0.191437 28\n0.072126 28\n0.171605 28\n0.356456 28\n0.112972 49\n0.047164 25\n0.272056 74\n0.000039 8\n0.339911 28\n1.555705 51\n0.055989 2\n0.136413 28\n0.119887 28\n0.223652 28\n0.296008 28\n0.096509 28\n0.072509 28\n0.191272 3\n0.247928 28\n0.056235 8\n0.616290 28\n0.239450 51\n0.080071 3\n0.128030 28\n0.087739 3\n0.184112 28\n0.128402 28\n0.079418 53\n0.104131 2\n0.096585 186\n0.438501 227\n0.509143 41\n0.236318 41\n0.135776 41\n0.033939 41\n0.174164 41\n0.071923 57\n0.272060 1\n0.176333 1\n0.002060 28\n0.141948 51\n0.039914 3\n0.119720 195\n0.509330 28\n14.364693 28\n0.158442 28\n0.104083 55\n0.095739 28\n0.129357 4\n1.078926 37\n0.160054 4\n0.151658 4\n0.152428 8\n0.151596 28\n0.136904 28\n0.183368 28\n0.231971 28\n0.156572 28\n0.036730 28\n0.166823 28\n0.135910 28\n0.015286 28\n0.160471 28\n0.072121 28\n0.088095 28\n0.056092 28\n0.268763 1\n0.114933 28\n0.121043 28\n0.151347 28\n0.193107 28\n0.110765 3\n0.080562 51\n0.160356 2\n0.047100 28\n0.272412 28\n0.160769 28\n0.110805 28\n0.064525 49\n0.048000 114\n0.499548 108\n0.053049 65\n0.016829 16\n1.784052 69\n0.088506 73\n21.536816 66\n0.816891 51\n0.095584 3\n0.076520 28\n0.175388 28\n0.135907 28\n0.176481 28\n0.095660 28\n0.236827 66\n0.725429 8\n0.106423 112\n0.582531 106\n0.044797 65\n0.016325 331\n0.768171 600\n0.000051 683\n0.000575 65\n0.426870 71\n0.750688 75\n7.245532 64\n0.188105 7\n0.871424 1\n0.318765 1\n0.499756 1\n0.050599 1\n0.050772 1\n0.051951 1\n0.048396 1\n0.048814 1\n0.050279 1\n0.049453 1\n0.050681 1\n0.049562 1\n0.050035 1\n0.050391 1\n0.050432 69\n1.967386 32\n0.185247 32\n0.599887 199\n0.073223 109\n0.903338 13\n0.132978 7\n0.562015 7\n0.151883 5\n0.159509 1\n0.000027 5\n0.168391 32\n0.831823 32\n0.079623 78\n0.120493 63\n0.463605 79\n15.731575 36\n0.500145 32\n0.051195 32\n0.050676 3\n0.050626 4\n0.000095 8\n0.050130 2\n0.050392 4\n0.000028 8\n0.050711 5\n0.050656 130\n0.051211 221\n0.051995 32\n0.049232 32\n0.050995 32\n0.049554 32\n0.050910 32\n0.050975 32\n0.051113 32\n0.050953 32\n0.050121 32\n0.051171 32\n0.049845 32\n0.077182 32\n0.024373 32\n0.049719 32\n0.050067 32\n0.049682 32\n0.050498 34\n0.051369 32\n0.050108 32\n0.050575 180\n0.051045 63\n0.049491 63\n0.051558 63\n0.488902 63\n0.183761 38\n0.159793 24\n0.000052 923\n0.510467 421\n0.000045 62\n0.873342 36\n0.776653 1\n0.000590 25\n0.000051 62\n0.335927 62\n0.064123 141\n0.327090 32\n0.183877 32\n0.176074 76\n0.056103 32\n0.131403 959\n0.511913 32\n0.008089 32\n0.172610 32\n0.216055 32\n0.183879 32\n0.168071 32\n0.024974 32\n0.239240 32\n0.104186 32\n0.127829 32\n0.159957 32\n0.447951 32\n0.168127 32\n0.055685 32\n0.023990 32\n0.176327 32\n0.104142 32\n0.080131 32\n0.063680 115\n0.572437 109\n0.038884 64\n0.018154 17\n0.918893 65\n0.268483 65\n1.026686 66\n0.489096 28\n0.163096 28\n0.192105 4\n0.319596 28\n0.255136 55\n0.097427 28\n0.088477 28\n0.174998 28\n0.098257 28\n0.011454 4\n0.410649 28\n0.303833 4\n0.304219 28\n0.183752 28\n0.087907 28\n0.136384 28\n0.119639 28\n0.056210 28\n0.040007 28\n0.224021 4\n0.337431 28\n0.206520 28\n0.072195 28\n0.143833 28\n0.616052 4\n0.320945 28\n0.223283 28\n0.056296 28\n0.064337 28\n0.186420 28\n0.060654 28\n0.016026 28\n0.280311 28\n1.009946 31\n0.308699 4\n0.619846 116\n0.049656 110\n0.040515 65\n0.017792 181\n4.804953 2\n0.334365 20\n0.129548 2\n0.229132 43\n0.365049 2048\n0.019554 187\n0.000014 651\n0.000245 347\n0.113310 82\n0.530546 101\n0.221077 7\n0.679361 12\n0.000032 40\n0.000029 96\n0.083415 18\n0.252502 23\n0.145398 2207\n0.269117 103\n0.664203 29\n0.000111 43\n0.201871 1171\n0.492085 758\n0.715110 1\n0.000077 87\n0.000052 1\n0.000064 87\n0.000063 98\n0.000360 2\n0.000251 1\n0.000047 176\n0.000089 527\n0.504795 1\n0.000074 80\n0.000117 1\n0.000270 115\n0.000052 1\n0.000046 66\n0.000085 1\n0.000156 54\n0.000281 1\n0.000066 78\n0.000062 39\n0.000303 2\n0.000670 1\n0.000061 51\n0.000163 1\n0.000116 230\n0.000131 449\n1.017391 603\n0.000049 556\n1.122709 424\n0.000075 261\n0.000522 48\n0.154923 1\n0.009073 528\n0.000097 1\n0.000053 40\n0.000267 1\n0.000076 60\n0.000054 1\n0.000146 55\n0.000048 1\n0.000149 87\n0.000063 1\n0.000149 87\n0.000967 91\n0.000334 2\n0.004954 1\n0.000079 42\n0.000253 1\n0.000056 190\n0.000099 672\n0.816630 360\n0.000038 64\n0.849707 61\n0.242561 781\n0.172187 299\n0.000045 119\n0.000088 152\n0.000971 65\n0.466370 64\n0.168535 64\n0.343815 65\n0.183036 25\n0.279430 148\n0.000039 8\n0.471036 2\n0.438330 28\n0.958572 51\n0.096702 3\n0.103057 214\n0.264611 41\n0.351878 41\n0.111875 41\n0.192051 41\n0.055947 41\n0.096128 41\n0.144064 41\n0.232010 722\n0.534954 409\n0.000051 43\n0.136413 57\n0.208191 3\n0.144245 28\n0.152342 51\n0.055305 2\n0.064640 28\n0.144170 28\n0.095649 28\n0.231955 28\n0.063866 28\n0.299383 100\n0.268863 8\n0.090894 511\n0.508362 182\n0.000116 28\n0.048504 28\n0.167769 28\n0.048004 55\n0.112498 28\n0.079529 28\n0.104097 28\n0.120418 28\n0.119407 28\n0.088165 3\n0.144917 28\n0.062820 1\n0.135829 28\n0.088482 28\n0.151920 28\n0.176398 4\n0.343523 28\n0.368159 4\n0.319955 28\n0.487986 64\n0.008204 28\n0.095659 66\n0.529153 1\n0.275091 68\n0.875961 176\n0.232432 3\n0.223330 254\n0.217116 346\n0.487630 803\n0.000088 193\n0.000847 44\n0.510095 63\n0.009532 62\n0.452592 135\n0.270078 852\n0.000041 2\n0.000066 44\n0.000439 196\n0.000029 64\n0.416717 65\n0.183978 64\n0.167954 64\n0.313405 65\n0.166889 64\n0.263623 64\n0.255903 65\n0.501717 53\n0.001161 46\n0.001419 72\n0.047002 64\n0.129219 65\n0.500457 64\n0.050221 64\n0.050297 65\n0.285960 1\n0.200048 30\n0.659486 30\n0.071636 30\n0.440191 30\n0.087757 30\n0.152207 30\n0.144412 33\n0.287405 33\n0.112507 33\n0.130113 33\n0.135006 194\n0.206931 687\n0.509882 422\n0.000198 43\n0.273761 43\n0.128028 43\n0.099740 43\n0.020252 43\n0.119311 43\n0.104715 117\n0.208081 30\n0.248157 30\n0.095767 53\n0.040019 67\n0.072294 30\n0.191812 30\n0.071719 30\n0.440405 30\n0.063603 362\n0.510859 227\n0.000056 116\n0.111066 110\n0.028742 65\n0.011404 181\n1.479620 2\n0.358154 20\n0.137600 1\n0.966486 1\n0.135760 1\n0.191889 1\n0.031793 1\n0.176284 1\n0.127955 2\n0.160926 36\n0.366307 7\n0.000013 2235\n0.019773 651\n0.000246 171\n0.039988 79\n0.646898 98\n0.450523 88\n0.073268 79\n0.073310 79\n0.073240 79\n0.084486 275\n0.151898 86\n0.381872 94\n0.154012 95\n0.137568 95\n0.822243 94\n0.208259 94\n0.410779 95\n4.461619 92\n0.238484 92\n0.231603 768\n0.228290 230\n0.766485 78\n0.235028 218\n0.373826 80\n0.224250 79\n0.138961 227\n0.303671 72\n0.810962 303\n0.237138 79\n0.373791 99\n0.148471 71\n0.146539 88\n0.133752 76\n0.128615 76\n0.146406 82\n0.149092 278\n0.251079 89\n0.619964 96\n0.199626 433\n0.142285 83\n0.609103 79\n0.202200 80\n0.149923 369\n0.199642 82\n0.593596 79\n0.200385 74\n0.703811 266\n0.258141 76\n0.304793 76\n0.222025 76\n0.158885 83\n0.954393 83\n0.222623 83\n0.148773 130\n0.812320 112\n0.795124 76\n0.197752 76\n0.166555 76\n0.145587 76\n0.148313 288\n1.194530 91\n0.706751 453\n0.401043 89\n0.675585 285\n0.310945 352\n0.519191 118\n0.451948 77\n0.148751 288\n0.221464 77\n0.307146 78\n0.152784 593\n0.344284 54\n1.474539 54\n0.074082 54\n0.146741 313\n0.332412 7\n8.072378 46\n0.000038 96\n0.066033 24\n0.580118 29\n0.393632 1684\n0.506676 103\n0.887995 29\n0.000036 43\n0.220399 45\n0.904395 47\n0.727807 1268\n0.722601 25\n0.870501 74\n0.000117 25\n0.143910 75\n0.000054 70\n0.136607 61\n0.150936 64\n0.306381 28\n0.894105 28\n0.159552 28\n0.151826 28\n0.160017 28\n0.071985 28\n0.144185 28\n0.160098 28\n0.167515 28\n0.048226 28\n0.175995 28\n0.199870 28\n0.104049 28\n0.095683 28\n0.071966 28\n0.056424 1\n0.135894 28\n0.095989 28\n0.096071 3\n0.079933 28\n0.087767 28\n0.112590 28\n0.055783 28\n0.271656 66\n0.352892 450\n0.128895 70\n0.000234 64\n0.364496 3\n0.143556 28\n0.578193 3\n0.063735 28\n0.480329 28\n0.199971 28\n0.112354 28\n0.103379 28\n0.208193 28\n0.088039 28\n0.111936 28\n0.088366 3\n0.079450 28\n0.072097 28\n0.072060 2\n0.080099 28\n0.055839 28\n0.112254 28\n0.136127 3\n0.103752 28\n0.280002 28\n0.079973 28\n0.080036 2\n0.057521 28\n0.190572 28\n0.039887 28\n0.151731 28\n0.080536 28\n0.088431 3\n0.064094 28\n1.127337 28\n0.120032 28\n0.048417 3\n0.111463 28\n0.064281 28\n0.127797 28\n0.071915 28\n0.143934 28\n0.015765 28\n0.168564 1\n0.167674 28\n0.104127 28\n0.087595 28\n0.304618 28\n0.103635 3\n0.096029 28\n0.088114 28\n0.071811 28\n0.192253 28\n0.087827 28\n0.072475 3\n0.103481 28\n1.672374 28\n0.063726 3\n0.160402 28\n0.087615 28\n0.120010 28\n0.073478 3\n0.310695 28\n0.104018 28\n0.383863 4\n0.295832 28\n0.063870 28\n0.135998 28\n0.064233 28\n0.096052 28\n0.055759 28\n0.200482 99\n0.264235 3\n0.231319 28\n0.768007 3\n0.080052 28\n2.400272 8\n0.375871 28\n0.095795 28\n0.152066 28\n0.080154 2\n0.079902 28\n0.088331 28\n0.174308 28\n0.105423 28\n0.183949 3\n0.064278 28\n0.111894 28\n0.023975 28\n0.256249 28\n0.039627 3\n0.135956 28\n0.168297 28\n0.088419 28\n0.119380 28\n0.072155 3\n0.136047 28\n0.479896 28\n0.143932 28\n0.104166 28\n0.055755 28\n0.063808 3\n0.112265 28\n2.167953 28\n0.120057 28\n0.095741 28\n0.096359 28\n0.047845 28\n0.024459 3\n0.143629 28\n0.352669 28\n0.183265 28\n0.104200 4\n0.671578 4\n0.168130 28\n0.232288 28\n0.120009 28\n0.071985 28\n0.055950 3\n0.111998 28\n0.112037 28\n0.040038 28\n0.063862 3\n0.104121 28\n0.175793 28\n0.059728 28\n0.164648 28\n0.288553 4\n0.302859 28\n0.128082 28\n0.152167 28\n0.200216 28\n0.071844 28\n0.040114 3\n0.095810 28\n0.184373 28\n0.071480 3\n0.119964 28\n0.120223 28\n0.096288 28\n0.071456 28\n0.031883 28\n0.104418 2\n0.048051 28\n0.143906 28\n0.104201 3\n0.079463 28\n0.320052 28\n0.104267 3\n0.104101 28\n0.304010 28\n0.111988 1\n1.896154 28\n0.039814 28\n0.120101 28\n0.063687 99\n0.240618 3\n0.071540 3\n0.128207 3\n0.151694 3\n0.160038 1\n0.375813 28\n0.064025 28\n0.144890 28\n0.008605 28\n0.118545 1\n0.112160 28\n0.120103 28\n0.168048 28\n0.135955 28\n0.056075 28\n0.232463 3\n0.239363 1\n0.687723 99\n0.304849 3\n0.303419 28\n0.768330 3\n29.375906 28\n2.071870 28\n0.151581 28\n0.103993 28\n0.376355 28\n0.095942 3\n0.144222 216\n0.296317 41\n0.287705 41\n0.184064 41\n0.071672 41\n0.344320 41\n0.079828 41\n0.096079 41\n0.063850 57\n0.215904 3\n0.128189 28\n0.111938 28\n0.120403 28\n0.095822 28\n0.168156 28\n0.039573 28\n0.072687 28\n0.159330 28\n0.208081 3\n0.143932 28\n3.464119 28\n0.120020 28\n0.071726 1\n0.136254 28\n0.352181 28\n0.031713 28\n0.168242 28\n0.039907 28\n0.063671 28\n2.064457 2\n0.103674 28\n0.760271 28\n0.183902 3\n0.135589 1\n0.344235 4\n0.159974 7\n0.159884 1\n0.152051 65\n1.113657 65\n0.150239 65\n0.167965 65\n0.144006 63\n0.191788 1\n1.576793 24\n0.002186 27\n0.000223 72\n0.461734 64\n0.263023 64\n0.500665 64\n0.050419 64\n0.052539 64\n0.050700 64\n0.050791 64\n0.050343 64\n0.050778 65\n0.146534 65\n0.345363 64\n0.150018 64\n0.152087 53\n0.893507 1\n0.050241 1\n0.050172 1\n0.049988 1\n0.051495 1\n0.047796 1\n0.050246 1\n0.051941 41\n0.626940 28\n0.200016 28\n0.159979 28\n0.128218 28\n0.143560 28\n0.120056 2\n0.119793 28\n0.131643 3\n0.044608 28\n0.087862 28\n0.104175 28\n0.135643 28\n0.184358 28\n0.072033 2\n0.112049 28\n0.103798 28\n0.031575 28\n0.103826 28\n0.104678 28\n0.087924 3\n0.088011 28\n0.104140 28\n0.136008 1\n0.071809 28\n0.087975 28\n0.071848 28\n0.056145 3\n0.128303 28\n0.047877 28\n0.095973 28\n0.184033 28\n0.104311 3\n0.087799 28\n0.279740 28\n0.047862 28\n0.192390 28\n0.151952 28\n0.127857 28\n0.175849 28\n0.160109 28\n0.136204 28\n0.135603 28\n0.104538 28\n0.263655 3\n0.112104 41\n0.888554 41\n0.191663 41\n0.183860 117\n5.505266 29\n0.000122 93\n1.119254 71\n1.504655 58\n0.000089 64\n0.126867 28\n0.183709 28\n0.127962 28\n0.152090 28\n0.119828 28\n0.080130 3\n0.096020 28\n0.335708 28\n0.192255 28\n0.136064 28\n0.055966 28\n0.191955 28\n0.047969 28\n0.055895 3\n0.120209 28\n0.143921 28\n0.112063 3\n0.072012 28\n0.046958 28\n0.056561 28\n0.048209 28\n0.080265 3\n0.087778 28\n0.112300 28\n0.184232 28\n0.071369 4\n0.288488 4\n0.111788 8\n0.144017 1\n0.143714 4\n0.120317 3\n0.120051 28\n0.023399 28\n0.136487 28\n0.192020 28\n0.079800 3\n0.072223 28\n0.087705 28\n0.096892 28\n0.159417 28\n0.087825 28\n0.088504 28\n0.055444 28\n0.511911 3\n0.095735 28\n0.664351 28\n0.048278 28\n0.119923 3\n0.079806 28\n0.136145 28\n0.071878 28\n0.200193 3\n0.103721 28\n0.064032 28\n0.136109 4\n0.343878 8\n0.128094 1\n0.112060 28\n0.072141 3\n0.175812 28\n0.288376 28\n0.063240 28\n0.312309 28\n0.064175 28\n0.071788 3\n0.128238 28\n0.031929 28\n0.136036 3\n0.055653 28\n0.056238 28\n0.103990 933\n0.661968 396\n0.000042 796\n6.286566 75\n0.000047 63\n0.723999 63\n0.499188 63\n0.050676 63\n0.050338 63\n0.050988 64\n0.050885 64\n0.049393 64\n0.053167 64\n0.047160 64\n0.051194 64\n0.050168 64\n0.050772 64\n0.050524 64\n0.051547 64\n0.050093 64\n0.322684 64\n0.274123 8\n0.149727 2\n0.448861 28\n0.295944 28\n0.127931 3\n0.055987 28\n0.511883 28\n0.048208 28\n0.128032 3\n0.079575 28\n0.176399 28\n0.079815 28\n0.064061 28\n0.064111 3\n0.112593 28\n0.095209 28\n0.096457 28\n0.080254 28\n0.055756 28\n0.423981 3\n0.215929 1\n0.543974 4\n0.111656 1\n0.280347 28\n0.031714 28\n0.144129 28\n0.072156 28\n0.071898 28\n0.088110 65\n0.096280 28\n0.199443 28\n0.216323 28\n0.055918 3\n0.064067 28\n0.039865 28\n0.143846 28\n0.160242 4\n0.375929 28\n0.120098 28\n0.055797 28\n0.096237 28\n0.103949 4\n0.335744 4\n0.112352 4\n0.128274 4\n0.127636 28\n0.127707 28\n0.064302 28\n0.344091 4\n0.327540 28\n0.032474 28\n0.181180 3\n0.034583 28\n0.160183 28\n0.215944 28\n0.056138 28\n0.071952 28\n0.279838 28\n0.087687 4\n0.280343 4\n0.119817 1\n0.064264 28\n0.111697 28\n0.095917 28\n0.056289 28\n0.279693 3\n0.096247 1\n0.224070 4\n0.111826 28\n0.072029 3\n0.135895 28\n0.088226 28\n0.072007 28\n0.079986 3\n0.079698 28\n1.272604 28\n0.199495 28\n0.056276 28\n1.648195 3\n0.111772 28\n0.104608 28\n0.223544 28\n0.063862 28\n0.056252 3\n0.168189 28\n0.087594 28\n0.200725 28\n0.116661 4\n0.329853 28\n0.054860 4\n0.225864 4\n0.112131 28\n0.111837 28\n0.031787 28\n0.112454 28\n0.087735 28\n0.103973 3\n17.968386 28\n0.271758 28\n0.224001 28\n0.168053 28\n0.127963 28\n0.048269 28\n0.191551 28\n0.112141 28\n0.216096 28\n0.279857 3\n0.071915 28\n0.696033 28\n0.175963 28\n0.023991 28\n0.055901 28\n0.216121 3\n0.151744 28\n0.104445 28\n0.055804 4\n0.256094 8\n0.111895 1\n0.144299 4\n0.103718 3\n0.144147 28\n0.087929 3\n0.200135 28\n0.111809 28\n0.128208 28\n0.063725 2\n0.072050 28\n0.079787 28\n0.128240 28\n0.023955 28\n0.048023 3\n0.144373 28\n0.079720 28\n0.112206 28\n0.135816 28\n0.039977 3\n0.127814 28\n0.048255 28\n0.103978 28\n0.031761 64\n0.232540 28\n0.095496 28\n0.104090 28\n0.071491 3\n0.120535 28\n0.023848 28\n0.112004 28\n0.183973 28\n0.088090 3\n0.072120 28\n0.095854 28\n0.071886 28\n0.168062 28\n0.023908 28\n0.152156 28\n0.008029 1\n0.320122 28\n0.111832 28\n0.128305 28\n0.136026 28\n0.071758 28\n0.144151 3\n0.103965 28\n0.063621 28\n0.056209 28\n0.103892 28\n0.144737 28\n0.111641 3\n0.039936 28\n0.167920 28\n0.015593 28\n0.048209 28\n0.096350 3\n0.063596 28\n0.176276 28\n0.128133 28\n0.047786 28\n0.080085 28\n0.264206 28\n0.095503 28\n0.112278 28\n0.071870 28\n0.055905 3\n0.120288 28\n0.071928 3\n0.056056 28\n0.295895 28\n0.192022 28\n0.041658 28\n0.091914 28\n0.079957 3\n0.088542 28\n0.665943 28\n0.032184 28\n0.199836 28\n0.063668 28\n0.136404 28\n0.031952 28\n0.071715 4\n0.424159 28\n0.063532 28\n0.008693 41\n0.136393 41\n0.071509 4\n0.288540 4\n0.079213 28\n0.168018 28\n0.096098 3\n0.112063 28\n0.296152 28\n0.143599 28\n0.048227 28\n0.143893 28\n0.031775 28\n0.187616 4\n0.221007 4\n0.103731 28\n0.184200 4\n0.167875 4\n0.096044 28\n0.136013 28\n0.127948 28\n0.056304 28\n0.127429 3\n0.088200 28\n0.087603 28\n0.080293 3\n0.071708 28\n0.071900 28\n0.088136 28\n0.116792 64\n0.163996 28\n0.047655 28\n0.063740 28\n0.088700 28\n0.095175 28\n0.096049 3\n0.112449 28\n0.095717 28\n0.127787 3\n0.080329 28\n0.095925 28\n0.087675 28\n0.136097 28\n0.200263 28\n0.071825 2\n0.104227 28\n0.176124 28\n0.055574 28\n0.072227 28\n0.064779 3\n0.063325 28\n0.183825 28\n0.136167 28\n0.079865 28\n0.096188 3\n0.168155 28\n0.255647 28\n0.119978 28\n0.128161 28\n0.039862 28\n0.200093 28\n0.688174 1\n0.079798 28\n0.151820 28\n0.007867 28\n0.176137 3\n0.127965 28\n0.264199 28\n0.087783 28\n0.200173 28\n0.200174 28\n0.104789 3\n0.095302 28\n0.095654 28\n0.063823 3\n0.104241 28\n0.112069 28\n0.112019 4\n0.336048 8\n0.095937 41\n0.248416 41\n0.215692 41\n0.047840 41\n0.168110 41\n0.080158 41\n0.248191 3\n0.199794 28\n0.063792 28\n0.047960 28\n0.063753 1\n0.096425 41\n0.223981 41\n0.176154 41\n0.160014 41\n0.103920 41\n0.095986 41\n0.072007 41\n0.143923 41\n0.128087 41\n0.055315 41\n0.264276 3\n0.184420 28\n0.087747 28\n0.008781 28\n0.215540 2\n0.120126 28\n0.223656 28\n0.048417 28\n0.119671 3\n0.215681 1\n0.280666 61\n0.207655 28\n0.232177 28\n0.063699 28\n0.055900 28\n0.080131 28\n0.071453 28\n0.184512 28\n0.064086 1\n0.151846 28\n0.095759 28\n0.152394 28\n0.151992 3\n0.152037 28\n0.191772 28\n0.176312 28\n0.095783 28\n0.160382 28\n0.151836 28\n0.103741 28\n0.008161 28\n0.103987 28\n0.703794 1\n1.258012 22\n0.002624 29\n0.000384 1\n0.332322 574\n0.328946 74\n0.000057 64\n0.149996 64\n0.136078 64\n0.280889 64\n3.623514 65\n0.103355 3\n0.376025 28\n0.183719 28\n0.184282 3\n0.120128 28\n0.095896 28\n0.400108 28\n0.095885 3\n0.136159 28\n0.168169 28\n0.063431 28\n0.112384 28\n0.087522 3\n0.096436 28\n0.143861 28\n0.064072 28\n0.111903 28\n0.048087 2\n0.240941 28\n0.094844 28\n0.079823 28\n0.080484 3\n0.079655 28\n0.160253 28\n0.136153 28\n0.095535 28\n0.152088 1\n0.040248 28\n0.087791 28\n0.040498 28\n0.103536 28\n0.152068 28\n0.024053 28\n0.111987 28\n0.048013 1\n0.080160 28\n0.184436 28\n0.287346 28\n0.127875 28\n0.080331 28\n0.023701 3\n0.088047 28\n0.184399 28\n0.063724 28\n0.256540 4\n0.327155 28\n0.184132 28\n0.087977 28\n0.064261 28\n0.112010 3\n0.040231 28\n0.191709 28\n0.112280 28\n0.079655 28\n0.031923 28\n0.103812 28\n0.096368 28\n0.232367 28\n0.247571 64\n9.336527 28\n0.247372 28\n0.211024 28\n0.045097 28\n0.031917 3\n0.128127 28\n0.047735 28\n0.152212 28\n0.159853 28\n0.144292 28\n0.183789 28\n0.079775 3\n0.104245 28\n0.087710 28\n0.064117 2\n0.096008 28\n0.224282 28\n0.095517 28\n0.128419 28\n0.015917 28\n0.199779 28\n0.184675 3\n0.095478 28\n0.152064 28\n0.079716 28\n0.169037 28\n0.191299 28\n0.143887 28\n0.096187 28\n0.031780 28\n0.135999 28\n0.048190 28\n0.480041 64\n0.552151 64\n0.136167 28\n0.183029 28\n0.176624 28\n0.400002 28\n0.095684 28\n0.064454 4\n0.400096 28\n0.103889 28\n0.311766 28\n0.319791 1\n0.120077 1\n1.992294 4\n0.499715 4\n0.050487 4\n0.050712 4\n0.050917 4\n0.115736 4\n0.159976 4\n0.128346 28\n0.255820 28\n0.200005 28\n0.055950 3\n0.088051 28\n0.072003 28\n0.095964 28\n0.127943 28\n0.096328 3\n0.111924 28\n0.071575 28\n0.152004 28\n0.056071 28\n0.056372 28\n0.264009 2\n0.127889 28\n0.200106 28\n0.157485 28\n0.031916 28\n0.082275 28\n0.104002 3\n0.080504 28\n0.111627 28\n0.079668 28\n0.048173 28\n0.103969 3\n0.088021 28\n0.112443 28\n0.135953 3\n0.031904 28\n0.055618 28\n0.112520 28\n0.023490 28\n0.048398 3\n0.119828 28\n0.160089 28\n0.079931 28\n0.048288 28\n0.127933 28\n0.120289 1\n0.087583 28\n0.112017 28\n0.095608 28\n0.088200 3\n0.072264 28\n0.159978 28\n0.079655 28\n0.072262 28\n0.063902 3\n0.064217 28\n0.127859 28\n0.045686 28\n0.090105 28\n0.057135 28\n0.262912 2\n0.360080 28\n0.217018 3\n0.087073 28\n0.072092 28\n0.048266 28\n0.111497 28\n0.176093 28\n0.055787 2\n0.128457 28\n0.151934 28\n0.031632 28\n0.152469 28\n0.127859 3\n0.063341 28\n0.072602 28\n0.079911 2\n0.040069 28\n0.136049 28\n0.039928 28\n0.128208 28\n0.031757 64\n0.288844 28\n0.095205 3\n0.120077 28\n0.071862 28\n0.112054 28\n0.192538 28\n0.079310 2\n0.071971 28\n0.080303 28\n0.096007 28\n0.119658 28\n0.080073 28\n0.096143 28\n0.063797 3\n0.120397 28\n0.224065 28\n0.087710 28\n0.168330 28\n0.063497 28\n0.040134 3\n0.071875 28\n0.144313 28\n0.080093 28\n0.032526 28\n0.151446 64\n1.952103 64\n0.136093 28\n0.119671 28\n0.168043 3\n0.112037 28\n0.047989 28\n0.095861 28\n0.087925 2\n0.080292 28\n0.167969 28\n0.088221 28\n0.087343 28\n0.048149 3\n0.091430 28\n0.101870 28\n0.070437 28\n0.088188 28\n0.056073 3\n0.144360 28\n0.103657 28\n0.128020 28\n0.151992 28\n0.135957 28\n0.160851 28\n0.086869 1\n0.064230 28\n0.196205 28\n0.116003 28\n0.120201 28\n0.055880 3\n0.447838 28\n0.135750 28\n0.032028 1\n0.128517 28\n0.151857 28\n0.216126 28\n0.159896 28\n0.111461 28\n0.136333 28\n0.047896 28\n0.176319 28\n0.336108 65\n0.336164 64\n0.128179 64\n0.127772 64\n0.128019 61\n0.191779 200\n0.313115 58\n0.000047 64\n0.366697 64\n0.135610 63\n0.136085 63\n0.143651 3\n1.184869 3\n0.159940 3\n0.367897 28\n0.544098 28\n0.167751 28\n0.199865 28\n0.120111 28\n0.040010 3\n0.120182 28\n0.224051 28\n0.095952 3\n0.087834 28\n0.104205 28\n0.056320 28\n0.111609 1\n0.431771 3\n0.500157 3\n0.049904 3\n0.049866 3\n0.050501 3\n0.051428 3\n0.050596 2\n0.050759 1\n0.051250 3\n0.050879 28\n0.766638 3\n9.360307 28\n3.535765 28\n0.240090 28\n0.024293 28\n0.199933 28\n0.207914 28\n0.087407 3\n0.144687 1\n1.144019 4\n0.591886 4\n0.760058 4\n0.167772 28\n0.584262 28\n0.111916 28\n0.071636 3\n0.144532 28\n1.000291 28\n0.263061 28\n0.488624 28\n0.199839 28\n0.111322 98\n0.345157 3\n0.415516 3\n0.500253 3\n0.051161 3\n0.050358 3\n0.050035 3\n0.051023 2\n0.049621 1\n0.050721 3\n0.051242 3\n0.050916 3\n0.051115 3\n0.050363 3\n0.050144 3\n0.051923 2\n0.050248 1\n0.050856 3\n0.050864 3\n0.050380 3\n0.050040 3\n0.050887 3\n0.051579 3\n0.050693 2\n0.050844 1\n0.051472 3\n0.279057 28\n0.272381 3\n0.103648 28\n0.120347 28\n0.384070 28\n0.159820 28\n0.087781 1\n0.104871 28\n0.183282 28\n0.128195 28\n0.087843 28\n0.096046 28\n2.032160 28\n0.319421 28\n0.192586 28\n0.207833 28\n0.048097 28\n0.039846 99\n3.617034 3\n0.126676 3\n0.500755 3\n0.050557 3\n0.050960 3\n0.050965 3\n0.051034 2\n0.050385 1\n0.050318 3\n0.051201 3\n0.051418 3\n0.050646 3\n0.051437 3\n0.050367 3\n0.051019 2\n0.050027 1\n0.051233 3\n0.052981 3\n0.048135 3\n0.051403 3\n0.050906 3\n0.049903 3\n0.051524 2\n0.049714 1\n0.049522 3\n0.056051 28\n0.375438 3\n0.199976 28\n0.568162 28\n0.255929 28\n0.023988 28\n0.063654 99\n0.744669 115\n0.752630 29\n0.000032 92\n1.063718 72\n1.168285 5\n0.758711 99\n2.592799 99\n0.160042 28\n0.527762 28\n0.231676 28\n0.135510 28\n0.096194 28\n0.109217 28\n0.674971 28\n0.040139 28\n0.119859 3\n0.080147 28\n0.151803 28\n0.104309 3\n0.103927 28\n0.463782 28\n0.112234 28\n0.063788 28\n0.111901 28\n0.160245 28\n0.071398 3\n0.126369 28\n0.178150 28\n0.072028 28\n0.128024 28\n0.176219 28\n0.087175 3\n0.112960 28\n0.039846 28\n0.055691 28\n0.176271 28\n0.119966 3\n0.039609 28\n0.104348 28\n0.183792 28\n0.112967 28\n0.071128 28\n0.095979 3\n0.503620 28\n0.080137 28\n0.224366 28\n0.064332 1\n0.063446 28\n0.064015 28\n0.072216 3\n0.055738 28\n0.184297 28\n0.071843 28\n0.103564 4\n14.272612 4\n0.500177 8\n0.051290 1\n0.050410 4\n0.049994 6\n0.050104 1\n0.050809 4\n0.050123 4\n0.050879 8\n0.049985 1\n0.050939 4\n0.049875 4\n0.050173 4\n0.050691 4\n0.050588 8\n0.053085 1\n0.048431 4\n0.049878 4\n0.049935 4\n0.051123 8\n0.051538 1\n0.049479 4\n0.050119 4\n0.050957 4\n0.050078 4\n0.050840 8\n0.050101 1\n0.050728 4\n0.050545 4\n0.050511 4\n0.050553 4\n0.050616 4\n0.049927 8\n0.050733 1\n0.050045 4\n0.049999 8\n0.050488 1\n0.050637 4\n0.050159 4\n0.049901 4\n0.050219 4\n0.133156 4\n0.159795 4\n0.128117 4\n0.135851 4\n0.136090 28\n0.312402 28\n0.175635 3\n0.071820 28\n0.136477 28\n0.071668 28\n0.112457 28\n0.103696 1\n0.096220 28\n0.063936 28\n0.039695 28\n0.129213 28\n0.062767 28\n0.080195 28\n0.215797 28\n0.248139 1\n0.007847 28\n0.296138 6\n0.264041 1\n0.104024 4\n0.119985 2\n0.071895 28\n0.192068 28\n0.311946 28\n0.136010 3\n0.063914 28\n0.031741 28\n0.104386 28\n0.056415 2\n0.095542 28\n0.178408 28\n0.037408 28\n0.032075 28\n0.152192 28\n0.152138 28\n0.079805 28\n0.096202 28\n0.103678 28\n0.352405 3\n0.104529 28\n0.087350 28\n0.128241 28\n0.023558 28\n0.095819 3\n0.072997 28\n0.047458 1\n0.103711 28\n0.184054 28\n0.136189 28\n0.047995 28\n0.023924 3\n0.120197 28\n0.135740 28\n0.063950 1\n0.104221 28\n1.192055 28\n0.111550 28\n0.104532 28\n0.119492 3\n0.216420 28\n0.096040 28\n0.127793 28\n0.031905 3\n0.135931 1\n1.992097 4\n0.160028 4\n0.160174 8\n0.136007 1\n0.127888 3\n0.336254 1\n0.287864 28\n0.231536 3\n0.120204 28\n0.191891 28\n0.224500 28\n0.103888 28\n0.088392 3\n0.063256 28\n0.096470 28\n0.215591 28\n0.040084 2\n0.040092 28\n0.079936 28\n0.096602 28\n0.127300 28\n0.071778 28\n0.096291 3\n0.095949 28\n0.096035 28\n0.144138 1\n0.077030 28\n0.042783 3\n0.072105 28\n0.183830 28\n0.104505 28\n0.095499 99\n0.184632 28\n0.263698 28\n0.039724 3\n0.079938 28\n0.768561 28\n0.223678 28\n0.072025 28\n0.135936 28\n0.112104 3\n0.072052 28\n0.167741 28\n0.063676 28\n0.112289 28\n0.088253 28\n0.152281 28\n0.200051 28\n0.127493 28\n0.176741 28\n0.031828 28\n0.055510 206\n0.159766 3\n0.144313 1\n0.224114 17\n0.113128 28\n0.150788 3\n0.120296 28\n0.087766 28\n0.239701 1\n0.217307 1\n0.414724 4\n0.112009 8\n0.127843 1\n0.125912 28\n0.218343 3\n0.135888 28\n0.144303 28\n0.191485 28\n0.048311 3\n0.088016 28\n0.015922 28\n0.079761 28\n0.056369 3\n0.064070 28\n0.119725 28\n0.136130 28\n0.080348 28\n0.095863 28\n0.039675 3\n0.104273 28\n0.071688 28\n0.007564 2\n0.096816 28\n0.087916 28\n0.031618 28\n0.080189 28\n0.248070 4\n0.535958 3\n0.167976 28\n0.023894 28\n0.160142 28\n0.056788 28\n0.103166 28\n0.496101 28\n0.079590 28\n0.112349 3\n0.063820 28\n0.112068 28\n0.071910 28\n0.120536 28\n0.039529 1\n0.088418 28\n0.064020 6\n0.280007 1\n0.119757 4\n0.144682 4\n0.127028 4\n0.112379 28\n0.183882 28\n0.071897 28\n0.080121 1\n0.080198 28\n0.079615 28\n0.184261 28\n0.047784 3\n0.047704 28\n0.104454 28\n0.047775 28\n0.128381 28\n0.119704 28\n0.040705 3\n0.175356 28\n0.743966 28\n0.192071 3\n0.079528 28\n0.088567 2\n0.015837 28\n0.216053 28\n0.176112 28\n0.119952 3\n0.192300 28\n0.495845 28\n0.111753 99\n0.330279 28\n0.821593 28\n0.127932 28\n0.048244 28\n0.168181 28\n0.103760 28\n0.079829 2\n0.120099 28\n0.160577 28\n0.063574 28\n0.136383 28\n0.215763 28\n0.047646 28\n0.216598 3\n0.119727 28\n0.087650 28\n0.200263 28\n0.063674 3\n0.080316 28\n0.175789 28\n0.104070 28\n0.055997 3\n0.096387 28\n0.055712 28\n0.112006 3\n0.072260 28\n0.111951 28\n0.151936 28\n0.055999 28\n0.119725 3\n0.080125 28\n0.048009 28\n0.056150 28\n0.088375 3\n0.079559 28\n0.127862 28\n0.071704 28\n0.128138 28\n0.024197 28\n0.031416 1\n0.113016 28\n0.087785 6\n0.487919 28\n0.080128 28\n0.087745 28\n0.056004 3\n0.087840 28\n0.096233 28\n0.072037 28\n0.149174 28\n0.122651 28\n0.040059 28\n0.063918 3\n0.087971 28\n0.080329 28\n0.087712 28\n0.088147 2\n0.056014 28\n0.263766 28\n0.136175 28\n0.144037 4\n0.304066 28\n0.047784 28\n0.143954 3\n0.096185 28\n0.087684 28\n0.144234 28\n0.039950 28\n0.208251 28\n0.103874 28\n0.047806 3\n4.624500 28\n0.711925 28\n0.191891 28\n0.055663 2\n0.176337 28\n0.097586 28\n0.038386 28\n0.264054 28\n0.007611 4\n0.600056 4\n0.128105 28\n0.152029 28\n0.143962 99\n0.320332 28\n0.096243 28\n0.063400 3\n0.095777 28\n0.128180 28\n0.119811 28\n0.097655 28\n0.166511 28\n0.040023 28\n0.032366 66\n0.265444 74\n0.542500 99\n7.144163 100\n0.136204 28\n0.199863 28\n0.111412 28\n0.088404 3\n0.087583 28\n0.111740 28\n0.088520 28\n0.103638 28\n0.088027 28\n0.104190 28\n0.143776 28\n0.007976 28\n0.136348 3\n0.047959 28\n0.023709 28\n0.208185 4\n0.296237 8\n0.112469 1\n0.119258 3\n0.183937 1\n0.392123 28\n0.080073 3\n0.087507 28\n0.128181 28\n0.071748 3\n0.168489 28\n0.217079 28\n0.031225 28\n0.119466 28\n0.063946 28\n0.088297 2\n0.096125 1\n0.216066 4\n0.127936 4\n0.135962 4\n0.144296 4\n0.121141 8\n0.174139 28\n0.128443 28\n0.159911 28\n0.056014 28\n0.063835 28\n0.095883 2\n0.040369 28\n0.103509 28\n0.088275 3\n0.080077 28\n0.071945 28\n0.167928 28\n0.096052 3\n0.071891 28\n0.071813 28\n0.096337 28\n0.056029 3\n0.128004 28\n9.088072 28\n0.047978 28\n0.095891 28\n0.064186 2\n0.071812 28\n0.128129 28\n0.079746 28\n0.128359 28\n0.047795 3\n0.135981 28\n0.183993 28\n0.120289 2\n0.071859 28\n0.055915 28\n0.064110 3\n0.183794 28\n0.080444 28\n0.143931 4\n0.223581 8\n0.088170 1\n0.128007 28\n0.056061 3\n0.152145 28\n0.063801 28\n0.104001 28\n0.096189 28\n0.056074 28\n0.063098 3\n0.168855 28\n0.143953 28\n0.119658 28\n0.055898 3\n0.120463 28\n0.055736 28\n0.104044 4\n0.624652 28\n0.135121 28\n0.127941 28\n0.296840 4\n0.455365 4\n0.128059 4\n0.159960 8\n0.128024 28\n0.223932 28\n0.071887 28\n0.097606 28\n0.038493 3\n0.072034 28\n0.120363 28\n0.111629 28\n0.071842 28\n0.048418 2\n0.128000 28\n0.896015 28\n0.063946 28\n0.088019 28\n0.095634 105\n0.193010 28\n0.239292 28\n0.192082 28\n0.055866 3\n0.063818 28\n0.040235 28\n0.191866 28\n0.520233 28\n0.200037 28\n0.087907 28\n0.095988 28\n0.119972 28\n0.088224 28\n0.119956 28\n0.095817 28\n0.216557 66\n0.055260 28\n0.096208 28\n0.223972 28\n0.071950 28\n0.055950 28\n0.071972 28\n0.047914 2\n0.232185 28\n0.208262 3\n0.135759 28\n0.136087 28\n0.111949 28\n0.184333 28\n0.023772 28\n0.048124 2\n0.112070 28\n0.149101 28\n0.378680 28\n0.176002 28\n0.128029 3\n1.127770 28\n0.120170 28\n0.176132 28\n0.119799 28\n0.064837 3\n0.127111 28\n0.384457 3\n0.103657 28\n0.327921 28\n0.095433 28\n0.160463 28\n0.104109 1\n0.072031 28\n0.128800 28\n0.127270 3\n0.063904 28\n0.063931 66\n0.072271 28\n0.095935 2\n0.079461 28\n0.280664 28\n0.127987 28\n0.064078 28\n0.159945 28\n0.175896 28\n0.048334 28\n0.103597 28\n0.048042 1\n0.079577 28\n0.088553 28\n0.071203 28\n0.080313 3\n0.080412 28\n0.079692 28\n0.072313 28\n0.079874 28\n0.079560 3\n0.112039 28\n0.064026 28\n0.075716 4\n0.956556 8\n0.135989 1\n0.151953 25\n0.264471 74\n0.000039 28\n0.183385 28\n0.080047 28\n0.023875 28\n0.063857 28\n0.104488 28\n0.103761 28\n0.096164 28\n0.079806 28\n0.104089 28\n0.103997 28\n0.072026 28\n0.095898 3\n0.129448 28\n0.150930 28\n0.047644 28\n0.184265 116\n1.369508 29\n0.000194 93\n1.159554 17\n10.670017 87\n1.000835 184\n2.038887 43\n0.784158 1440\n0.244125 616\n1.710125 1\n0.000084 54\n0.000053 1\n0.000044 143\n0.000064 2\n0.000166 1\n0.000061 214\n0.000054 780\n0.601468 352\n0.000043 2\n0.000076 269\n0.000511 64\n0.915911 64\n0.500893 64\n0.050595 64\n0.051460 64\n0.050640 64\n0.049651 64\n0.050796 64\n0.050948 64\n0.050593 62\n0.050427 105\n0.054296 1195\n0.000488 64\n4.688033 64\n0.500323 64\n0.049806 64\n0.049987 64\n0.050130 64\n0.049911 64\n0.050560 64\n0.050681 65\n0.049987 61\n0.524086 153\n0.439175 876\n0.000056 211\n0.000037 64\n0.304832 64\n0.184045 64\n0.167737 63\n0.159797 63\n0.128359 63\n0.152035 66\n2.484562 168\n0.165718 66\n0.144053 124\n0.135843 32\n0.515053 27\n0.000048 5\n0.361439 1099\n0.000147 62\n1.185556 63\n0.500035 63\n0.050060 63\n0.050774 63\n0.050380 63\n0.050767 63\n0.049883 163\n0.052767 73\n0.048839 64\n0.050423 64\n0.051683 64\n0.787818 8\n0.263093 1\n0.239942 1\n0.471708 1\n0.501041 1\n0.050338 1\n0.050272 1\n0.050754 1\n0.051050 1\n0.050065 1\n0.278806 32\n0.178739 70\n0.600424 18\n0.111685 23\n0.000055 32\n0.255909 32\n0.376247 32\n0.111825 32\n0.064128 32\n0.039746 32\n0.864212 32\n1.136134 71\n0.308920 21\n0.003847 63\n0.000032 44\n0.506059 15\n0.053353 43\n0.000029 32\n0.111739 28\n0.506195 29\n0.000137 15\n0.045129 30\n0.000027 32\n0.208305 32\n0.224357 32\n0.135792 32\n0.208079 32\n0.103911 32\n0.191748 32\n0.048178 29\n0.267091 29\n0.000043 21\n0.468558 23\n0.000052 21\n0.499928 21\n0.000051 19\n0.050737 22\n0.000054 40\n0.049562 38\n0.135521 36\n0.160237 34\n0.152659 32\n0.143515 3\n0.119881 116\n0.427815 110\n0.047369 65\n0.034950 75\n0.586219 1\n0.188552 1\n0.500448 1\n0.051563 1\n0.050351 1\n0.050516 1\n0.050193 1\n0.051623 1\n0.050296 1\n0.050927 1\n0.050036 1\n0.051058 1\n0.049963 1\n0.051078 1\n0.213728 138\n0.181889 31\n0.498167 31\n0.051056 31\n0.050776 31\n0.050673 207\n0.052033 80\n0.049421 189\n0.050758 31\n0.050743 35\n0.051033 31\n0.164767 31\n0.159638 31\n0.151661 116\n0.446940 110\n0.038150 65\n0.010374 117\n0.646468 890\n0.000048 183\n0.000030 270\n0.491941 760\n0.000082 207\n0.000782 156\n0.000037 110\n1.403373 899\n0.000045 3\n0.000025 169\n0.000027 24\n1.428906 108\n0.000042 65\n0.125931 24\n0.152069 199\n0.000037 3\n0.151454 24\n0.136264 81\n0.000036 24\n0.128936 136\n0.000036 24\n0.360801 259\n0.000043 111\n0.220105 105\n0.042961 62\n0.011297 45\n0.514646 71\n0.775590 63\n0.499523 63\n0.050469 63\n0.050478 63\n0.050698 63\n0.050667 65\n0.050151 64\n0.050741 64\n0.051242 64\n0.049437 64\n0.050205 64\n0.050453 64\n0.049626 64\n0.050516 64\n0.050512 64\n0.050114 65\n0.051273 64\n0.051024 61\n0.050130 242\n0.052524 553\n0.000037 118\n0.000066 149\n0.000498 64\n0.047237 64\n0.050192 64\n1.347372 64\n0.500322 64\n0.051058 64\n0.051896 65\n0.049737 64\n0.053618 64\n0.051158 61\n0.417804 131\n0.428114 609\n0.000038 92\n0.000030 64\n0.300185 64\n0.500841 63\n0.050418 63\n0.050722 64\n0.051595 63\n0.051183 63\n0.049781 63\n0.049875 62\n0.050999 61\n0.050221 169\n0.053803 583\n0.000048 97\n0.000025 135\n0.000032 64\n3.800348 64\n0.343894 64\n5.672286 4\n0.399324 65\n0.602460 65\n0.499101 65\n0.050019 65\n0.050815 65\n0.049853 66\n0.050702 65\n0.050125 65\n0.050953 65\n0.050353 65\n0.594086 65\n0.500565 65\n0.050198 66\n0.050062 65\n0.051126 65\n0.050548 65\n0.050591 65\n0.050219 65\n0.196864 136\n7.944657 1\n0.000082 89\n0.000128 1\n0.000054 60\n0.000118 1\n0.000263 52\n0.000048 1\n0.000183 87\n0.000144 1\n0.000118 479\n0.000157 89\n0.000350 1\n0.000061 195\n0.000062 255\n0.000365 173\n0.539765 912\n0.000508 63\n0.449345 227\n0.615747 770\n0.000039 196\n0.000035 256\n0.000581 422\n0.443363 625\n0.000045 361\n0.000327 64\n1.049848 64\n0.494701 64\n0.050381 64\n0.050671 64\n0.050143 65\n0.051156 64\n0.050187 64\n0.051402 64\n0.050671 64\n0.052061 64\n0.048953 64\n0.259499 63\n0.152364 63\n0.911366 28\n0.500393 28\n0.175570 28\n0.104313 91\n0.080202 28\n0.191583 28\n0.158205 2\n0.161705 28\n0.112103 3\n0.087771 28\n0.208350 28\n0.160216 28\n0.104000 47\n0.079793 115\n0.428221 109\n0.040896 64\n0.010066 464\n0.474911 695\n0.000070 338\n0.000595 172\n0.317608 917\n0.000065 62\n1.231570 63\n0.496711 63\n0.049839 63\n0.052676 63\n0.049504 63\n0.051688 64\n0.049946 64\n0.050286 64\n0.049244 64\n0.051358 64\n0.050728 64\n0.050765 64\n0.777814 4\n0.430513 65\n1.122713 65\n5.678157 1\n0.390831 1\n0.501227 1\n0.049816 1\n0.051406 1\n0.050416 1\n0.050290 65\n0.564287 8\n0.269344 65\n1.738908 62\n0.498000 65\n0.050322 62\n0.051123 61\n0.051033 60\n0.050345 132\n0.053216 609\n0.000088 1\n0.000746 90\n0.000435 65\n0.046914 64\n0.322787 62\n0.502266 65\n0.049082 61\n0.050895 64\n0.049937 62\n0.050718 64\n0.050608 61\n0.050831 64\n0.050635 61\n0.050848 64\n0.051205 169\n0.053185 583\n0.000046 97\n0.000074 136\n0.000456 65\n0.046581 65\n0.462885 65\n0.247825 62\n0.216063 65\n0.208166 62\n0.247904 65\n0.832051 62\n0.263819 65\n0.224223 62\n0.215693 61\n0.280119 60\n0.520105 171\n0.530735 661\n0.000084 62\n0.213200 65\n0.168246 61\n0.303920 64\n0.167727 62\n0.160281 1\n0.255197 61\n0.162269 1\n0.117449 69\n0.549373 33\n0.158281 33\n0.148117 33\n0.131368 30\n0.168073 33\n0.696573 30\n0.191340 64\n0.327332 64\n0.126657 1\n0.462586 1\n0.505619 1\n0.047137 1\n0.050205 1\n0.049700 1\n0.051307 1\n0.050193 1\n0.049996 1\n0.050659 5\n0.861378 1\n0.000032 64\n0.461781 64\n0.183137 64\n0.175788 65\n0.176634 64\n0.135625 3\n0.198032 145\n0.307868 111\n0.872102 15\n0.653375 7\n0.461058 1\n0.000052 64\n1.309266 4\n6.999610 1\n0.000092 1\n0.000053 1\n0.000061 77\n0.271639 1\n0.000082 1\n0.000048 67\n0.000062 5\n1.926442 64\n1.082242 1\n0.389155 64\n0.274656 3\n8.608857 169\n0.486456 3\n0.376548 78\n0.312229 64\n0.000057 12\n0.647223 12\n0.500201 12\n0.050988 12\n0.050898 12\n0.050758 12\n0.049258 12\n0.050178 3\n0.050048 7\n0.000046 12\n0.050899 12\n0.049662 12\n0.050013 12\n0.050425 12\n0.050954 12\n0.049894 12\n0.051678 9\n0.050468 4\n0.050283 6\n0.000028 12\n0.050062 12\n0.051470 12\n0.050775 12\n0.050887 12\n0.050621 12\n0.050431 3\n0.077655 5\n0.000065 2\n0.023396 7\n0.000052 12\n0.051341 12\n0.049730 12\n0.140451 64\n0.696339 63\n0.166738 3\n0.736412 63\n0.385320 52\n0.001179 45\n0.000766 72\n0.124548 36\n0.265028 152\n0.000113 64\n0.207982 123\n0.584409 75\n0.595600 64\n0.146368 1\n0.279592 3\n0.672993 7\n1.107654 3\n0.557099 28\n0.455711 28\n0.271899 28\n0.080789 55\n0.031334 100\n0.665066 28\n0.003693 296\n3.167471 644\n0.000092 226\n0.000892 326\n0.508547 779\n0.000113 453\n0.000096 64\n0.515117 64\n0.494463 64\n0.049608 64\n0.050193 64\n0.051043 64\n0.051625 370\n2.888411 580\n0.000043 278\n0.000589 152\n0.555745 513\n0.000047 90\n0.767450 583\n0.000047 139\n0.000081 226\n0.809405 768\n0.000042 196\n0.000034 253\n0.000909 288\n0.844982 125\n0.003279 538\n0.000052 43\n0.000810 2\n0.000411 238\n0.000034 64\n0.216690 113\n1.552737 107\n0.037841 64\n0.012229 13\n3.684368 68\n0.080633 72\n0.340249 64\n0.496816 64\n0.050392 65\n0.050800 64\n0.049620 64\n0.051352 64\n0.049732 64\n0.050930 61\n0.050991 150\n0.053888 730\n0.000119 64\n0.047035 64\n0.436838 64\n0.500558 65\n0.050270 64\n0.264695 64\n0.199867 3\n1.131671 186\n0.000124 52\n0.133378 106\n0.000036 113\n0.792632 107\n0.038574 64\n0.010880 73\n0.308684 36\n0.316125 239\n0.000080 113\n0.221029 107\n0.043545 64\n0.010808 73\n4.016773 64\n1.282687 65\n0.580987 65\n4.096574 66\n0.271643 65\n0.336290 65\n6.367740 66\n0.183740 65\n0.192101 71\n3.575453 18\n6.159815 71\n0.056444 18\n51.551857 1\n0.143640 3\n0.559982 3\n0.388152 72\n0.000095 33\n0.117339 30\n0.647993 57\n0.063908 3\n0.814784 25\n1.521403 74\n0.000037 162\n0.848544 4\n0.343591 3\n0.095942 28\n0.048488 28\n0.175479 28\n0.087956 55\n0.144168 28\n0.095722 28\n0.184296 101\n0.321292 28\n0.003892 35\n0.323585 72\n0.000102 8\n0.114655 66\n0.300561 28\n0.167465 28\n0.135903 34\n0.136324 21\n0.000046 28\n0.143906 28\n0.511893 28\n0.560260 28\n0.463859 28\n0.088062 28\n0.104037 28\n0.104411 28\n0.111620 28\n0.085338 28\n0.272731 28\n0.279681 28\n0.032029 28\n0.208130 28\n0.202879 28\n0.079050 28\n0.288629 28\n0.136356 31\n0.171491 8\n1.001855 25\n0.066256 74\n0.000073 65\n0.139045 28\n0.220533 28\n0.183857 28\n0.079969 55\n0.103858 28\n0.088247 28\n0.194830 28\n0.197116 28\n0.135911 28\n0.183961 28\n0.047969 28\n0.040127 28\n0.312368 28\n0.207868 28\n0.136957 4\n0.391317 28\n0.207864 28\n0.047766 33\n0.235797 8\n0.642301 115\n0.057534 109\n0.039931 65\n0.011430 74\n0.287727 64\n2.596330 1\n0.326948 1\n0.501443 1\n0.050010 1\n0.050518 1\n0.051333 1\n0.051203 1\n0.049084 1\n0.051230 1\n0.048765 1\n0.049842 1\n0.049944 65\n0.123311 3\n0.371442 71\n3.505522 1058\n0.000086 73\n0.000722 110\n0.000034 64\n1.030819 64\n0.468476 64\n0.050577 64\n0.050008 64\n0.050275 64\n0.050390 64\n0.050090 65\n0.050070 64\n0.051444 64\n0.051121 64\n0.051139 64\n0.050271 63\n0.050498 63\n0.051151 63\n0.050370 63\n0.051651 63\n0.050301 64\n0.050490 62\n0.050714 61\n0.051555 25\n0.055194 947\n0.000913 64\n0.522999 64\n0.576341 64\n0.239816 65\n0.479748 66\n0.223632 25\n0.287691 148\n0.000033 1\n1.271716 28\n0.284192 28\n0.159690 28\n0.103902 1\n0.136727 1\n0.000029 52\n0.000591 28\n0.087102 28\n0.191767 2\n0.232044 28\n0.248187 3\n0.063698 28\n0.296676 28\n0.631923 28\n0.167957 47\n0.071956 116\n0.557104 110\n0.038475 65\n0.012347 476\n0.419635 453\n0.000036 310\n0.000609 44\n0.511933 188\n0.352164 541\n0.000076 81\n0.000675 62\n0.727911 63\n0.499998 63\n0.051133 63\n0.050527 63\n0.051612 64\n0.050082 63\n0.050164 64\n0.050161 64\n0.051070 64\n0.049972 65\n1.014760 65\n0.163327 65\n0.388928 1\n0.223035 1\n0.500023 1\n0.051148 1\n0.050992 1\n0.051049 1\n0.051817 1\n0.051768 1\n0.050552 1\n0.051427 1\n0.050516 1\n0.050956 1\n0.049431 1\n0.051648 1\n0.049599 1\n0.051667 1\n0.050216 1\n0.051092 1\n0.050302 1\n0.050514 1\n0.050758 1\n0.050876 1\n0.050300 74\n0.399557 82\n0.198596 49\n0.224083 32\n0.064000 65\n0.471865 8\n0.493611 99\n1.217732 105\n0.327566 8\n0.139387 28\n0.700495 90\n0.079749 2\n0.120414 64\n2.153773 65\n0.365535 64\n2.295940 65\n0.200220 65\n0.160069 1\n0.222774 1\n0.192170 32\n0.418735 45\n1.352132 45\n0.136102 45\n0.087531 45\n0.072033 40\n0.119628 68\n1.849492 45\n0.177027 45\n0.078863 80\n0.160807 51\n1.063609 32\n0.151842 32\n0.199742 45\n0.111797 45\n0.079693 45\n0.080465 383\n0.373539 653\n0.000034 127\n0.000045 241\n0.581319 692\n0.000114 228\n0.000030 355\n0.000756 509\n1.130062 395\n0.000043 146\n0.000069 162\n0.000642 188\n0.141037 645\n0.000037 74\n0.000043 62\n0.482134 63\n0.499624 63\n0.049978 63\n0.050626 63\n0.050981 64\n0.049615 63\n0.049982 64\n0.050261 383\n0.286677 780\n0.000054 328\n0.163908 607\n0.000084 581\n0.000738 382\n2.653713 1\n0.000720 127\n0.000428 394\n0.000045 2\n0.000023 110\n0.000023 34\n0.000024 162\n0.000495 187\n0.136539 1\n0.000063 436\n0.000136 1\n0.000066 41\n0.000044 1\n0.000041 23\n0.000042 1\n0.000041 45\n0.000055 60\n0.000173 1\n0.000044 35\n0.000058 1\n0.000042 74\n0.000047 62\n0.378208 63\n0.500583 63\n0.050986 63\n0.050911 63\n0.050642 64\n0.050067 63\n0.050308 64\n0.050476 64\n0.050853 64\n0.049758 64\n0.050024 64\n0.612999 4\n0.351582 64\n1.419051 65\n0.135149 65\n0.238756 1\n0.302442 3\n0.152452 32\n1.491329 32\n0.135866 32\n0.160031 32\n0.188340 32\n0.115733 65\n0.423105 64\n0.190208 65\n0.183946 2\n0.215351 28\n0.329542 28\n0.039898 28\n0.136217 28\n0.080462 28\n0.411485 99\n0.284158 65\n0.139421 65\n0.902242 64\n0.117053 65\n0.160341 65\n0.152113 70\n0.306591 32\n0.127690 32\n0.144137 32\n0.127563 45\n0.128160 65\n0.184017 64\n0.157805 65\n0.127856 3\n0.271016 2\n0.184153 38\n0.289801 36\n0.136034 34\n0.135777 32\n0.127950 30\n0.063796 3\n0.230845 99\n0.257320 65\n0.139683 28\n0.660242 28\n0.104184 28\n0.080306 28\n0.039652 28\n0.120146 28\n0.095704 28\n0.072463 28\n0.152659 28\n0.030840 3\n0.296272 1\n0.113931 1\n0.000078 1\n0.000053 1\n0.000659 64\n0.000087 3\n0.094599 28\n0.295927 99\n0.464176 65\n0.362301 383\n3.971911 637\n0.000102 140\n0.000035 328\n0.515776 1188\n0.000901 64\n1.416767 64\n0.494935 64\n0.049752 163\n0.053527 72\n0.047917 64\n0.050613 65\n0.050102 64\n0.050634 64\n0.051236 3\n0.208394 3\n0.500088 3\n0.051038 3\n0.050519 3\n0.050381 3\n0.050492 2\n0.049924 1\n0.151607 5\n0.531590 466\n0.428743 437\n0.000079 310\n0.000685 188\n0.187917 709\n0.000055 62\n0.388343 63\n0.500140 63\n0.051053 63\n0.051146 63\n0.050022 64\n0.050937 63\n0.050770 64\n0.051094 64\n0.050597 64\n0.050463 64\n0.050635 64\n0.050095 64\n0.176335 64\n0.208265 3\n0.038966 169\n4.275174 18\n1.116922 3\n1.560306 65\n5.283535 181\n0.384084 65\n0.282270 116\n1.011196 110\n0.056358 65\n0.012750 25\n2.830736 59\n0.000036 3\n0.269270 45\n0.232639 3\n0.144931 773\n0.431488 287\n0.000036 95\n0.000043 329\n0.420108 776\n0.000045 355\n0.000082 64\n1.022645 64\n0.495144 64\n0.050249 64\n0.051154 64\n0.051017 64\n0.050254 65\n0.050558 64\n0.049988 64\n0.051201 64\n0.272994 3\n1.226451 466\n0.460406 579\n0.000046 166\n0.000911 187\n0.176747 761\n0.001137 154\n0.526473 1\n0.000163 76\n0.000049 1\n0.000044 178\n0.000051 1\n0.000042 177\n0.000047 1\n0.000043 1\n0.000043 37\n0.000082 1\n0.000072 1\n0.000044 52\n0.000060 52\n0.000219 1\n0.000056 1\n0.000045 43\n0.000045 1\n0.000047 203\n0.000056 65\n0.006746 146\n0.720234 1198\n0.000514 470\n1.086776 618\n0.000044 364\n0.000548 257\n0.368072 781\n0.000107 2\n0.000031 323\n0.000504 154\n0.131881 1\n0.001274 27\n0.000072 1\n0.000285 51\n0.000238 1\n0.000061 33\n0.000141 1\n0.000091 108\n0.000212 1\n0.000056 257\n0.000153 1\n0.000099 107\n0.000236 319\n0.000493 208\n0.131004 470\n0.000052 62\n0.636615 63\n0.175851 63\n0.183992 63\n0.135427 63\n0.136459 63\n0.192184 7\n1.007470 1\n0.570996 37\n0.175441 1\n0.135920 6\n0.120385 1\n0.000082 164\n0.634086 14\n0.586750 2\n0.292108 8\n0.000053 12\n0.501138 12\n0.050238 12\n0.051239 12\n0.050208 12\n0.050721 12\n0.078157 8\n0.024151 7\n0.446452 1\n0.567276 1\n0.499932 1\n0.050155 1\n0.051303 1\n0.051413 1\n0.050311 1\n0.049985 1\n0.049315 1\n0.050157 1\n0.050422 32\n0.934219 32\n0.167481 32\n0.143848 32\n0.152239 32\n0.168788 32\n0.150811 176\n0.135815 150\n0.304678 32\n1.919426 32\n0.191410 32\n0.080109 32\n0.071953 67\n0.416143 32\n0.217505 32\n0.112169 66\n0.110894 169\n0.144283 57\n0.393187 57\n0.086556 57\n0.152607 55\n0.000952 46\n0.000894 74\n0.101999 164\n0.248302 66\n0.488015 44\n0.135854 42\n0.159819 40\n0.160376 38\n0.143925 36\n0.168001 34\n0.143868 32\n0.135736 115\n0.284778 109\n0.033340 64\n0.010888 74\n0.508878 64\n1.230459 1\n0.423536 1\n0.501475 1\n0.048555 1\n0.049868 1\n0.050676 1\n0.050305 1\n0.051438 1\n0.049828 1\n0.051603 1\n0.050921 1\n0.050910 1\n0.050238 1\n0.050548 1\n0.050691 1\n0.050522 1\n0.050893 69\n0.342271 32\n0.133957 32\n0.151886 32\n0.152010 32\n0.135530 32\n0.120368 32\n0.079884 32\n0.143761 32\n0.088167 115\n0.572531 109\n0.031447 64\n0.010537 74\n1.983051 7\n0.173984 25\n0.316354 148\n0.000032 3\n0.080863 28\n0.268004 28\n0.183961 28\n0.112010 55\n0.137184 28\n0.062450 28\n0.208464 2\n0.119826 28\n0.169120 3\n0.071652 28\n0.280132 28\n0.167844 28\n0.120023 47\n0.048257 116\n0.478978 110\n0.066697 65\n0.010399 18\n14.369148 71\n0.048427 75\n0.723053 64\n0.213427 64\n0.168060 64\n0.184290 63\n0.183500 64\n0.176543 64\n0.167961 64\n0.176132 50\n0.155330 644\n0.000110 146\n0.000031 112\n0.000030 71\n2.579706 75\n1.170930 66\n0.165988 61\n0.159546 64\n0.159895 64\n0.152284 7\n0.447323 1\n0.159171 64\n2.202579 61\n0.498449 65\n0.050225 66\n0.053691 65\n0.051088 65\n0.050893 65\n0.051157 65\n0.050250 64\n0.050958 65\n0.293876 1\n0.799007 64\n0.836260 25\n0.609079 148\n0.000033 65\n0.181311 28\n0.688004 51\n0.104180 1\n0.071434 1\n0.000030 28\n0.104411 3\n0.328034 45\n0.176918 34\n0.111667 3\n0.143711 197\n0.248841 41\n0.337001 41\n0.198554 41\n0.040169 41\n0.328215 103\n0.240122 28\n0.191655 35\n0.688303 114\n0.000033 66\n0.146974 28\n0.436240 28\n0.096300 28\n0.111965 28\n0.055425 28\n0.168687 21\n0.000041 3\n0.055407 28\n0.256559 8\n0.376269 1\n0.119865 3\n0.121202 35\n0.000054 3\n0.085290 50\n0.153394 2\n0.112075 28\n0.071410 28\n0.176833 28\n0.079254 26\n0.104457 21\n0.000046 63\n0.648836 1\n0.275740 1\n0.159659 1\n0.288100 1\n0.152187 1\n0.119960 38\n0.268141 61\n0.383827 115\n0.629616 109\n0.032762 65\n0.012065 74\n0.597959 65\n1.301157 64\n0.500186 65\n0.049845 65\n0.051099 65\n0.050515 65\n0.050526 65\n0.050097 66\n0.050126 64\n0.051569 64\n0.051609 64\n0.050154 64\n0.050626 64\n0.050059 64\n0.052052 63\n0.050124 24\n0.709606 146\n0.000037 7\n0.369027 61\n0.511014 2\n0.036941 28\n0.352423 28\n0.103558 28\n0.119983 28\n0.072024 1\n0.232020 46\n0.000759 3\n0.063420 1\n0.360505 2\n0.127799 34\n0.000080 3\n0.111355 2\n0.096506 46\n0.000030 2\n0.120945 28\n0.102772 28\n0.176301 28\n0.135732 28\n0.064268 49\n0.023847 64\n0.342486 64\n0.167208 64\n0.152105 64\n0.143982 3\n0.247079 3\n0.159959 40\n0.587890 32\n0.048834 32\n0.103105 32\n0.056203 31\n0.199830 31\n0.500818 31\n0.050460 31\n0.049621 31\n0.051258 31\n0.050994 31\n0.050584 31\n0.050428 31\n0.050572 31\n0.092690 31\n0.008985 31\n0.049897 45\n0.050989 44\n0.050760 42\n0.051279 42\n0.128566 38\n0.151703 36\n0.152025 34\n0.128188 32\n0.135953 115\n0.198128 109\n0.037326 64\n0.010973 74\n4.737374 65\n0.497975 66\n0.050841 65\n0.050306 65\n0.050773 65\n0.051402 65\n0.050385 65\n0.050888 64\n0.050268 65\n0.050778 65\n0.051333 65\n0.050197 66\n1.192445 65\n0.296030 62\n0.405535 629\n0.000105 179\n0.000033 65\n0.586109 65\n0.271913 65\n3.480400 65\n0.500452 65\n0.050231 65\n0.050674 65\n0.050776 64\n0.052909 64\n0.051073 63\n0.050946 64\n0.051318 64\n0.050542 64\n0.050830 64\n0.050431 93\n0.054075 581\n0.000048 123\n0.000074 132\n0.000789 65\n0.045794 66\n0.051080 66\n0.429982 65\n0.500915 65\n0.050169 65\n0.050693 65\n0.050588 65\n0.050341 64\n0.049998 65\n0.327948 65\n0.199372 65\n0.168015 65\n0.191992 8\n0.351399 65\n0.786964 1\n0.132374 1\n0.500076 1\n0.050714 1\n0.050186 1\n0.051010 1\n0.050208 1\n0.050704 1\n0.050407 1\n0.050735 1\n0.050758 1\n0.048832 1\n0.050691 1\n0.050035 1\n0.050898 1\n0.050855 1\n0.051656 74\n0.822737 82\n0.149720 40\n0.352151 61\n0.119763 65\n0.486893 8\n0.133770 173\n0.530878 173\n0.136019 8\n0.219337 28\n0.564837 89\n0.071919 2\n0.185818 28\n0.302707 28\n0.159599 28\n0.055523 55\n0.120173 28\n0.088794 28\n0.087163 1\n2.364604 64\n0.315444 94\n0.680459 145\n0.000055 67\n0.135436 273\n0.145582 113\n0.420678 107\n0.045885 64\n0.004512 72\n1.719486 64\n0.165692 64\n0.152108 65\n0.160073 63\n0.159912 24\n0.797137 151\n0.000070 112\n0.290983 106\n0.044170 63\n0.011184 71\n1.145925 63\n0.382155 63\n1.624311 135\n1.109255 220\n0.109108 112\n0.269560 106\n0.040813 63\n0.010644 71\n0.644986 63\n0.500105 63\n0.049779 64\n0.051424 65\n0.049953 64\n0.050361 64\n0.281877 64\n0.399836 64\n0.499930 64\n0.050867 64\n0.050006 64\n0.051178 64\n0.051128 64\n0.050564 64\n0.050410 64\n0.308341 65\n0.727495 61\n0.500000 280\n0.052794 486\n0.000561 64\n0.047834 64\n0.050844 64\n0.052248 64\n0.408056 64\n0.499186 64\n0.050245 64\n0.049982 64\n0.050369 64\n0.050109 63\n0.050137 63\n0.050636 63\n0.050318 63\n0.050999 63\n0.050478 62\n0.050493 61\n0.051599 50\n0.054062 678\n0.000043 274\n0.000584 64\n0.046765 65\n0.051394 63\n0.053817 64\n1.258303 65\n0.500440 64\n0.050750 64\n0.050128 64\n0.051208 64\n0.050646 64\n0.049734 64\n0.049958 64\n0.051222 64\n0.050215 64\n0.050377 65\n0.050808 61\n0.050893 132\n0.370705 634\n0.000552 68\n0.556096 72\n0.675820 64\n0.497501 64\n0.050523 63\n0.051141 63\n0.050635 63\n0.051152 63\n0.051452 63\n0.049847 62\n0.050879 61\n0.051010 90\n0.054403 638\n0.000045 32\n0.000076 69\n0.000860 173\n0.000032 64\n0.444904 64\n0.500860 64\n0.050618 64\n0.050123 64\n0.050518 64\n0.051114 64\n0.051001 64\n0.050768 65\n0.475826 61\n0.767198 64\n0.456242 65\n0.200643 64\n0.151253 64\n0.143918 64\n0.264566 62\n0.252582 62\n0.462166 25\n0.337655 168\n0.000039 66\n0.154341 28\n0.258654 28\n0.176128 28\n0.183688 28\n0.120296 4\n0.416170 4\n0.112005 28\n0.143570 34\n0.127825 21\n0.000787 28\n0.119459 28\n0.248416 2\n0.151803 28\n0.192143 3\n0.096169 28\n0.168033 28\n0.144139 28\n0.127879 26\n0.063759 21\n0.000043 139\n0.474519 33\n0.508137 1\n0.000084 1\n0.000476 44\n0.000404 89\n0.264676 18\n0.460135 116\n0.073942 110\n0.040780 65\n0.010902 75\n0.391432 65\n0.204063 65\n0.200331 62\n0.183806 318\n0.283367 421\n0.000048 126\n0.000028 65\n0.524746 65\n0.215896 25\n0.260240 148\n0.000038 65\n0.344292 4\n0.356773 65\n0.313492 28\n0.206095 28\n0.471875 66\n0.192068 55\n0.080021 3\n0.143797 28\n0.048122 28\n0.168053 28\n0.080005 55\n0.119975 28\n0.111813 28\n2.096263 3\n0.095775 28\n0.568197 51\n0.088030 2\n0.080183 28\n0.159944 28\n0.287911 28\n0.152098 47\n0.080081 28\n0.252212 99\n0.276155 65\n0.115892 116\n0.611198 110\n0.035578 65\n0.010515 25\n0.109370 59\n0.000037 28\n0.148375 28\n0.072356 55\n0.120012 28\n0.095695 28\n0.192075 3\n0.168739 28\n0.152408 3\n0.111693 28\n0.968584 28\n0.095590 28\n0.123696 28\n0.085313 28\n0.094601 28\n0.056351 28\n0.055985 28\n0.191800 28\n0.176467 28\n0.159634 28\n0.087855 28\n0.152051 28\n0.128226 28\n0.032757 28\n0.079492 28\n0.320021 30\n0.036190 3\n0.705154 30\n1.226929 30\n0.135814 30\n0.616019 30\n0.128000 30\n0.128073 116\n0.806493 110\n0.035432 65\n0.011310 75\n1.491928 1\n1.379747 25\n0.452514 12\n0.000099 74\n0.000037 55\n0.125485 101\n0.000034 113\n0.207214 107\n0.042177 64\n0.011114 72\n0.445361 8\n0.220378 25\n0.214242 148\n0.001335 113\n0.249428 107\n0.033439 64\n0.010850 72\n0.759567 64\n0.495775 64\n0.049967 64\n0.050062 64\n0.050100 64\n0.050147 63\n0.050539 63\n0.050267 63\n0.050420 63\n0.050824 63\n0.050237 62\n0.050242 61\n0.050759 50\n0.053196 989\n0.000433 68\n1.080535 72\n0.463387 64\n0.497419 110\n1.150290 29\n0.000033 28\n0.900522 28\n0.079574 28\n0.120367 34\n0.116692 1\n0.273325 88\n0.001412 280\n0.036782 32\n0.501340 57\n0.000038 41\n0.254815 41\n0.048319 41\n0.176014 41\n0.079298 41\n0.088460 41\n0.192223 41\n0.055779 41\n0.096242 41\n0.079947 41\n0.079517 41\n0.048514 41\n0.055728 41\n0.104389 41\n0.128148 41\n0.055527 41\n0.080210 41\n0.080072 41\n0.079568 41\n0.039939 41\n0.118152 41\n0.242579 41\n0.216335 41\n0.095924 41\n0.239603 41\n0.039687 41\n0.104540 41\n0.119997 41\n0.087800 41\n0.064085 41\n0.064109 41\n0.287865 41\n0.111785 41\n0.040293 41\n0.119995 41\n0.103352 41\n0.080361 41\n0.152138 41\n0.096555 41\n0.095622 41\n0.096259 41\n0.063921 41\n0.079797 41\n0.087886 41\n0.120184 41\n0.152039 41\n0.655641 41\n0.136462 41\n0.031677 41\n0.096105 41\n0.063998 41\n0.183995 41\n0.191942 41\n0.079940 41\n0.063665 41\n0.024737 41\n0.103942 41\n0.039611 41\n0.120343 41\n0.047879 41\n0.160097 41\n0.079820 41\n0.080421 41\n0.087448 41\n0.072121 41\n0.095843 41\n0.096388 41\n0.055826 41\n0.176261 41\n0.167703 4\n0.319868 41\n0.104063 41\n0.031942 41\n0.080321 41\n0.144020 28\n0.152126 56\n0.000039 41\n0.295221 41\n0.111762 41\n0.136474 41\n0.063938 41\n0.109733 41\n0.154102 4\n0.264243 41\n0.079939 41\n0.136174 41\n0.072244 41\n0.079624 41\n0.143911 41\n0.064245 41\n0.167693 41\n0.111890 4\n0.280241 59\n0.129134 46\n0.000036 20\n0.134997 4\n0.127674 41\n0.071875 41\n0.076093 41\n0.051452 41\n0.184593 41\n0.040199 41\n0.056035 4\n0.280041 4\n0.111782 4\n0.112293 41\n0.095894 41\n0.111812 41\n0.024011 41\n0.176130 41\n0.183939 41\n0.127996 41\n0.063785 41\n0.168329 41\n0.160007 41\n0.055778 41\n0.023695 41\n0.240609 117\n1.016500 246\n0.074901 17\n4.842957 99\n0.361652 29\n0.000037 82\n1.368084 17\n0.534335 112\n0.697760 29\n0.000037 188\n1.020594 456\n0.000017 28\n0.650291 28\n0.159824 28\n0.216332 28\n0.055598 28\n0.055964 4\n0.407981 4\n0.500803 4\n0.050932 4\n0.050306 4\n0.051021 4\n0.050880 4\n0.050162 4\n0.050755 4\n0.048664 4\n0.050819 4\n0.050230 4\n0.054011 4\n0.050383 4\n0.051230 4\n0.178623 28\n0.383367 28\n0.071967 32\n0.258549 1\n1.035404 49\n0.043045 1720\n0.000498 441\n0.610198 1\n0.000461 86\n0.000238 1\n0.000208 38\n0.000170 1\n0.000191 352\n0.000182 229\n0.000336 373\n0.000400 358\n0.489490 616\n0.000044 162\n0.000075 552\n0.000708 86\n0.104779 819\n0.000047 578\n0.001067 56\n0.013208 1013\n0.000088 453\n0.000642 163\n0.037184 964\n0.000048 280\n0.000587 1\n0.049587 495\n0.000583 1\n0.000330 71\n0.000238 1\n0.000261 43\n0.000228 1\n0.000237 243\n0.000216 1\n0.000315 42\n0.000219 1\n0.000234 1\n0.000210 32\n0.000219 102\n0.000405 202\n0.000395 1\n0.000263 101\n0.000216 306\n0.065167 623\n0.000042 268\n0.000706 490\n0.037573 644\n0.000051 373\n0.000657 1\n0.043911 1152\n0.000163 540\n0.000950 182\n0.048433 635\n0.000041 97\n0.000034 537\n0.000528 123\n0.053691 737\n0.000053 399\n0.000036 205\n0.047043 786\n0.000103 196\n0.000077 236\n0.000641 1\n0.051116 1093\n0.000044 226\n0.000715 62\n0.046200 1299\n0.000468 69\n0.061286 897\n0.000103 241\n0.000029 209\n0.046413 719\n0.000049 50\n0.000075 3\n0.000643 345\n0.000030 98\n0.048924 879\n0.000046 570\n0.000695 1\n0.052256 462\n0.000126 1\n0.000048 160\n0.000049 1\n0.000108 44\n0.000052 1\n0.000114 79\n0.000053 1\n0.000044 78\n0.000157 1\n0.000063 77\n0.000057 2\n0.000166 1\n0.000043 89\n0.000045 1\n0.000041 77\n0.000045 1\n0.000208 1\n0.000053 87\n0.000044 1\n0.000041 87\n0.000042 1\n0.000053 256\n0.000050 1\n0.040240 950\n0.000037 275\n0.000578 1\n0.044934 24\n0.002914 25\n0.000272 1\n0.050181 1\n0.048568 1\n0.051318 1\n0.050532 1\n0.050449 1\n0.050762 1\n0.050958 59\n0.717235 878\n0.000054 358\n0.000585 64\n0.250578 194\n0.681020 1\n0.000074 90\n0.000049 1\n0.000500 90\n0.000059 1\n0.000042 57\n0.000044 1\n0.000045 176\n0.000283 1\n0.000054 105\n0.000103 1\n0.000305 1\n0.000050 14\n0.000042 1\n0.000053 71\n0.000048 1\n0.000258 32\n0.000063 1\n0.000259 151\n0.000072 535\n0.002577 100\n1.036622 29\n0.000038 45\n0.490600 46\n0.810005 1210\n0.387894 4\n0.517814 905\n0.000671 86\n0.000726 77\n0.000028 3\n0.000300 238\n0.000031 4\n0.503124 1\n0.000072 63\n0.000050 1\n0.000045 379\n0.000060 1\n0.000055 87\n0.000043 1\n0.000041 89\n0.000118 1\n0.000046 43\n0.000077 1\n0.000042 236\n0.000062 38\n0.000148 1\n0.000054 53\n0.000045 2\n0.000166 1\n0.000054 49\n0.000057 1\n0.000043 87\n0.000044 1\n0.000042 148\n0.000060 870\n0.046615 232\n0.000035 24\n0.047257 308\n0.000038 69\n0.000029 1\n0.045481 27\n0.003679 28\n0.000071 1\n0.046490 1\n0.049960 1\n0.051085 1\n0.050560 1\n0.050542 1\n0.051074 69\n0.294025 65\n0.497097 64\n0.049528 64\n0.050744 64\n0.049742 64\n0.050936 64\n0.050239 64\n0.050776 64\n0.050193 64\n0.050477 64\n0.050628 65\n0.226737 64\n0.185796 65\n0.817992 3\n0.018929 28\n0.110436 28\n0.112222 28\n0.112279 28\n0.088040 28\n0.103968 28\n0.039897 28\n0.159995 115\n0.621562 109\n0.052104 64\n0.010602 17\n0.263593 102\n0.291147 29\n0.000033 41\n0.365209 45\n0.327850 450\n0.353868 136\n0.712734 63\n0.134397 28\n0.559762 28\n0.049245 28\n0.150727 28\n0.128123 28\n0.023852 55\n0.048244 2\n0.135802 116\n3.789949 171\n0.036362 73\n33.271329 36\n0.134730 4\n0.135648 4\n0.135818 4\n0.152158 4\n0.152088 4\n0.135905 28\n0.263943 28\n0.031722 28\n0.184461 53\n0.056083 3\n0.143608 28\n0.736002 28\n0.160313 28\n0.048177 28\n0.111971 28\n0.207922 28\n0.047847 28\n0.007759 28\n0.032233 3\n0.192171 1\n0.343729 4\n0.136198 4\n0.135986 4\n0.119980 28\n0.215984 28\n0.039761 28\n0.056119 3\n0.096110 28\n0.144799 28\n0.055236 28\n0.135844 28\n0.160285 28\n0.072231 4\n0.407772 4\n0.120029 28\n0.207890 28\n0.079736 59\n0.040415 3\n0.112078 28\n0.111890 8\n0.408215 28\n0.080081 28\n0.143929 28\n0.039672 28\n0.055908 63\n0.536288 63\n0.367860 28\n0.519815 28\n0.143827 28\n0.152049 53\n0.039992 3\n0.111935 28\n0.152214 2\n0.088213 28\n0.165560 28\n0.009970 28\n0.192593 28\n0.128014 28\n0.071614 57\n0.048272 3\n0.103806 117\n0.952667 175\n0.069438 24\n1.419605 58\n0.000160 28\n0.094600 28\n0.223585 28\n0.047899 28\n0.023965 28\n0.104086 3\n0.096073 28\n0.120083 28\n0.064010 28\n0.072085 28\n0.120077 117\n0.488090 175\n0.051260 146\n0.398022 63\n0.126206 64\n0.120064 65\n0.120372 65\n0.320322 115\n0.222742 173\n0.034499 71\n1.623229 64\n0.672372 28\n0.053948 28\n0.160561 28\n0.127940 28\n0.095813 55\n0.040098 2\n0.079867 28\n0.168131 28\n0.135893 28\n0.072361 28\n0.127725 99\n0.264443 100\n0.143719 115\n0.192260 173\n0.050492 146\n0.406653 115\n0.486852 173\n0.040185 72\n1.456232 65\n0.175163 63\n0.143603 63\n0.128173 64\n0.223910 65\n0.673927 3\n0.078591 28\n0.031996 28\n0.063804 28\n0.080441 28\n0.113414 28\n0.022209 28\n0.144242 28\n0.040132 63\n0.392374 64\n0.499779 64\n0.050060 65\n0.050728 64\n0.052245 64\n0.050305 64\n0.050826 64\n0.051075 64\n0.274321 64\n0.119705 64\n0.143972 28\n0.359865 28\n0.416047 28\n0.112405 4\n0.231768 4\n0.080057 28\n0.208149 28\n0.047768 4\n0.232017 4\n0.095942 28\n0.144047 28\n0.096110 28\n0.015900 3\n0.255735 1\n0.296154 54\n0.088075 3\n0.104178 41\n0.159870 41\n0.168080 41\n0.040003 41\n0.160163 41\n0.063782 41\n0.039926 41\n0.064279 28\n0.335912 30\n0.033740 3\n0.629517 30\n0.697182 30\n0.087887 30\n0.111791 30\n0.072184 30\n0.063999 61\n0.167779 3\n0.263535 99\n0.241430 65\n0.518837 28\n0.576347 4\n0.319928 28\n0.561348 64\n0.415685 7\n0.319845 28\n0.422869 28\n0.088066 53\n0.071826 1\n0.288225 49\n0.152080 49\n0.104264 49\n0.271715 49\n0.023879 49\n0.088358 49\n0.063848 49\n0.248087 49\n0.104040 49\n0.375989 4\n0.312192 28\n0.327736 28\n0.231959 28\n0.135993 28\n0.071997 55\n0.096116 28\n0.063847 2\n0.136130 28\n0.208017 28\n0.095847 3\n0.096144 28\n0.135971 10\n0.226011 21\n0.000029 36\n0.215215 99\n0.366609 1\n0.113391 117\n0.471087 175\n0.070347 24\n1.163288 59\n0.000052 28\n0.166226 28\n0.023134 28\n0.160469 28\n0.047845 4\n0.368826 4\n0.119059 4\n0.112359 4\n0.111984 28\n0.111719 28\n0.088317 54\n0.087882 28\n0.095565 28\n0.088551 2\n0.472206 28\n0.079758 3\n0.087604 28\n0.800426 99\n0.176378 1\n0.152897 28\n0.190340 28\n0.272186 28\n0.327765 54\n0.152488 28\n0.055913 28\n0.263849 2\n0.152194 28\n0.175813 3\n0.344287 28\n0.097102 118\n0.959154 177\n0.054035 18\n5.672127 71\n0.032376 148\n33.451131 99\n0.117929 99\n0.135960 99\n0.143776 1\n0.193711 28\n0.430904 28\n0.151707 28\n0.127490 54\n0.072716 28\n0.127635 28\n0.144815 28\n0.173114 28\n0.079602 28\n0.152385 4\n0.554119 28\n0.063886 28\n0.064254 3\n0.079754 28\n0.095580 3\n0.232493 204\n0.248425 133\n0.502366 41\n1.597756 41\n0.139846 41\n0.007443 41\n0.040534 41\n0.095528 43\n0.272239 43\n0.112631 43\n0.127576 41\n0.183815 41\n0.056097 57\n0.176282 14\n0.502369 117\n0.073459 176\n0.045054 147\n0.302542 70\n0.132340 61\n0.127851 194\n0.128697 148\n0.000049 1\n0.223927 4\n0.238972 28\n0.176165 28\n0.071712 53\n0.088190 1\n0.152069 49\n0.320004 49\n0.072067 49\n0.096149 49\n0.087728 49\n0.736264 4\n0.327817 49\n0.123368 49\n0.116823 49\n0.208026 49\n0.239627 49\n0.040314 49\n0.079864 4\n0.624191 49\n0.152253 49\n0.215849 49\n0.063788 28\n0.232025 28\n1.496241 4\n0.712315 28\n0.223456 28\n0.152061 28\n0.024014 55\n0.112097 28\n0.111954 3\n0.095885 28\n0.071569 36\n0.450142 36\n0.367937 64\n0.311235 1\n0.336584 4\n0.230860 125\n0.271876 3\n0.127963 41\n0.224438 41\n0.135917 41\n0.111622 41\n0.096109 3\n0.103974 41\n0.112115 41\n0.319951 3\n0.119924 41\n0.136240 41\n0.064045 41\n0.120001 41\n0.063611 41\n0.120287 41\n0.085228 3\n0.064094 41\n0.162681 41\n0.047953 41\n0.184044 41\n0.167854 41\n0.063545 3\n0.088629 41\n0.121291 41\n0.086623 41\n0.064176 41\n0.192127 41\n0.159561 3\n0.056094 41\n0.152242 41\n0.119879 3\n0.039839 41\n0.120129 41\n0.160099 41\n0.055923 1\n0.104077 41\n0.087928 41\n0.063856 41\n0.128273 41\n0.111928 41\n0.071748 41\n0.072529 41\n0.088036 1\n0.080146 41\n0.112347 41\n0.079401 41\n0.095744 41\n0.056275 41\n0.056248 41\n0.223555 65\n1.360464 65\n0.542969 65\n0.679729 64\n0.216144 64\n0.199668 64\n0.376589 64\n0.255151 64\n0.176599 53\n0.201374 72\n0.543019 1\n0.369440 4\n0.262399 28\n0.159493 28\n0.103958 53\n0.056473 1\n0.143880 49\n0.104060 49\n0.160451 49\n0.023519 49\n0.072436 4\n0.575509 4\n0.112182 4\n0.119801 49\n0.079976 49\n0.048219 49\n0.055665 28\n0.280186 28\n0.200068 28\n0.151815 28\n0.016045 55\n0.160498 28\n0.055670 3\n0.541515 28\n0.120078 28\n0.074443 3\n0.119968 28\n0.847972 36\n0.297578 2\n0.200339 28\n0.000031 64\n0.478295 64\n0.377249 64\n0.158075 1\n0.354332 4\n0.289851 97\n0.316605 28\n0.000048 3\n0.199939 41\n0.199997 41\n0.152087 41\n0.063772 41\n0.080262 3\n0.080245 41\n0.087436 41\n0.056144 3\n0.144148 41\n0.271763 41\n0.151982 41\n0.048044 41\n0.048105 3\n0.176129 41\n0.167899 41\n0.159831 41\n0.039977 2\n0.112290 41\n0.128206 41\n0.039624 41\n0.328764 41\n0.135443 41\n0.096115 41\n0.095665 41\n0.072001 2\n0.080155 41\n0.127999 41\n0.215770 41\n0.074983 41\n0.069335 21\n0.279892 22\n0.000043 21\n0.120074 22\n0.000044 21\n0.128027 22\n0.000050 41\n0.063536 41\n0.095836 41\n0.064144 41\n0.056323 41\n0.176983 118\n1.039005 112\n0.034119 65\n0.000800 74\n0.286476 64\n0.165912 65\n0.152343 65\n0.167849 64\n0.160155 64\n0.135239 63\n0.411945 28\n0.284774 28\n0.160123 28\n0.113929 1\n0.086060 1\n0.000075 52\n0.000066 28\n0.256106 28\n2.240092 28\n0.039482 28\n0.063974 28\n0.144091 28\n0.040023 28\n0.152086 28\n0.080484 3\n0.175899 28\n0.103995 2\n0.080016 1\n1.272067 8\n0.911949 1\n0.500197 4\n0.051159 4\n0.050672 4\n0.051357 4\n0.050296 4\n0.050943 4\n0.050787 4\n0.049956 4\n0.050071 1\n0.050627 34\n0.000877 4\n0.049378 4\n0.050068 5\n0.160068 4\n0.152577 1\n0.166769 25\n0.264432 74\n0.000037 117\n0.799253 175\n0.066023 35\n1.592148 145\n0.000534 1\n0.511100 28\n0.246226 28\n0.192315 28\n0.055851 54\n0.120318 28\n0.079486 28\n0.136117 28\n0.071927 28\n0.128214 28\n0.063716 28\n0.112005 28\n0.096379 55\n0.000975 46\n0.000864 45\n0.070050 28\n0.040039 28\n0.936001 28\n1.640214 28\n0.232546 4\n0.303652 4\n0.135757 30\n0.993839 64\n0.670856 7\n0.246305 145\n0.233713 1\n0.072818 28\n0.174471 28\n0.183623 28\n0.064356 2\n0.200046 52\n0.000027 28\n0.007662 28\n0.632230 28\n0.048003 28\n0.088147 28\n0.103721 4\n0.608184 28\n0.279955 28\n0.048152 28\n0.152001 28\n0.087641 3\n0.200492 28\n0.103864 2\n0.079953 63\n0.186477 28\n0.000036 21\n0.381894 1\n0.000029 28\n0.199754 30\n0.033855 148\n0.758328 1\n0.153650 28\n0.208504 28\n0.141140 28\n0.056313 2\n0.128026 52\n0.000029 28\n0.079361 28\n2.120638 28\n0.119578 28\n0.128153 28\n0.368001 28\n0.120173 28\n0.048141 3\n0.184118 28\n0.151852 3\n0.024006 118\n1.031686 177\n0.048700 25\n1.641983 59\n0.000055 118\n0.390650 112\n0.059265 65\n0.001349 75\n0.139428 64\n0.150536 63\n0.143422 63\n0.127786 24\n0.459321 73\n0.000072 111\n0.134344 35\n0.000034 114\n0.385135 171\n0.031583 71\n0.343021 63\n0.499644 63\n0.049912 65\n0.050438 25\n0.378049 148\n0.000096 64\n0.221796 64\n0.182630 64\n0.159923 64\n0.144032 64\n0.336108 64\n0.151931 64\n0.143996 64\n0.568344 64\n0.257872 64\n0.149910 64\n0.152136 64\n0.143776 64\n0.159978 115\n0.248956 109\n0.043750 64\n0.001893 72\n7.899759 64\n0.126164 64\n0.159670 25\n0.315241 74\n0.000038 293\n0.934266 64\n0.352238 64\n0.158447 115\n1.584265 109\n0.044686 64\n0.000211 72\n0.415033 117\n0.524491 175\n0.044132 74\n1.644902 64\n0.197762 64\n0.368281 64\n0.167875 64\n0.480040 64\n0.183937 64\n0.167912 64\n0.176205 64\n0.175965 53\n0.449267 72\n0.262676 64\n1.156811 117\n0.707995 175\n0.036340 140\n1.926182 17\n0.003602 86\n1.001411 132\n0.417791 17\n0.460691 70\n0.064681 17\n0.647768 103\n0.258189 29\n0.000041 43\n0.462013 44\n0.360017 1\n0.842502 49\n0.002444 104\n0.000710 1\n0.000329 90\n0.000176 1\n0.000198 181\n0.000169 1\n0.000205 54\n0.000165 1\n0.000194 176\n0.000173 1\n0.000180 102\n0.000143 1\n0.000176 1\n0.000135 14\n0.000134 1\n0.000156 1\n0.000133 256\n0.000144 1\n0.000283 292\n0.000156 2\n0.000306 1\n0.000154 301\n0.000160 50\n0.606662 898\n0.000042 423\n0.000568 98\n0.220563 618\n0.000058 1\n0.496657 24\n0.002396 25\n0.000168 86\n0.252586 831\n0.000047 360\n0.000574 64\n0.495215 64\n0.050362 63\n0.049686 63\n0.051231 63\n0.050571 63\n0.051443 63\n0.051397 63\n0.050332 62\n0.050086 62\n0.050226 122\n0.055011 1284\n0.000422 64\n0.046526 64\n0.502961 63\n0.500512 63\n0.050167 63\n0.050679 63\n0.049818 63\n0.050188 63\n0.050638 63\n0.050583 61\n0.051048 65\n1.529020 70\n1.593332 64\n0.471581 63\n0.216583 63\n0.254971 63\n0.183837 63\n0.184223 63\n0.192137 64\n0.248276 64\n0.175735 103\n0.826515 29\n0.000109 45\n0.300520 895\n0.706931 70\n40.077146 74\n3.203096 64\n0.149667 64\n0.151583 64\n0.168435 64\n0.144095 64\n0.151941 64\n0.144051 64\n0.127825 25\n0.362773 148\n0.000033 99\n0.125341 99\n1.560420 25\n0.128761 74\n0.000041 25\n0.143159 75\n0.000052 117\n0.296288 111\n0.043620 64\n0.003016 17\n4.655433 102\n0.250420 29\n0.000039 41\n0.412598 43\n0.447930 44\n2.353655 46\n0.487576 45\n0.360232 986\n0.450618 328\n0.772478 1\n0.000657 735\n0.000048 64\n0.184600 64\n0.232399 63\n0.500516 63\n0.050079 63\n0.050179 63\n0.050792 63\n0.050650 63\n0.050626 63\n0.049825 61\n0.050634 99\n0.055607 980\n0.000092 64\n0.044052 64\n0.050231 63\n0.050411 63\n0.050764 63\n0.050053 63\n0.050534 63\n0.051296 64\n0.050762 62\n0.051139 61\n0.050659 900\n0.058382 543\n0.000044 64\n0.043578 64\n0.050419 63\n0.051255 63\n0.049988 63\n0.050874 63\n0.051436 64\n0.051721 64\n0.271549 63\n0.500213 63\n0.050686 63\n0.050586 64\n0.051072 64\n0.049790 64\n0.050148 64\n0.049982 64\n0.049718 64\n0.050858 65\n0.051250 64\n0.050111 64\n0.050333 505\n1.030776 390\n0.000044 340\n0.000031 62\n0.634707 63\n0.499771 63\n0.050383 63\n0.050241 64\n0.050930 63\n0.050769 63\n0.050017 64\n0.050863 64\n0.051010 64\n0.050987 64\n0.050621 64\n0.195731 310\n0.563872 222\n0.000041 62\n0.444489 1150\n0.358387 64\n0.501321 64\n0.496899 64\n0.050519 64\n0.050153 64\n0.050959 65\n0.050756 64\n0.051204 64\n0.301289 64\n3.128226 595\n1.313082 428\n0.000045 393\n0.000087 64\n1.203783 64\n0.495901 64\n0.051178 64\n0.050606 64\n0.049797 64\n0.050920 65\n0.050575 64\n0.049427 64\n0.049938 64\n0.048463 64\n0.050050 64\n0.052525 63\n0.051639 63\n0.049636 63\n0.050515 63\n0.050191 64\n0.050549 505\n1.219670 730\n0.000857 62\n0.804074 63\n0.499166 63\n0.050496 63\n0.050034 64\n0.050381 63\n0.050431 63\n0.050563 64\n0.050391 64\n0.049459 64\n0.050363 64\n0.050068 64\n0.050583 64\n0.215678 64\n0.501071 785\n0.736703 238\n0.000040 393\n0.000123 64\n0.387705 64\n0.435150 64\n0.160212 64\n0.136042 64\n0.143809 25\n0.230009 148\n0.000038 25\n0.125054 173\n0.000038 25\n0.112075 173\n0.000039 64\n0.215914 28\n0.230484 28\n0.056066 52\n0.352071 3\n0.200108 28\n0.512227 28\n0.175575 28\n0.048185 28\n0.031676 4\n0.552191 4\n0.152397 4\n0.143694 8\n0.119971 49\n0.272300 49\n0.191834 49\n0.040228 49\n0.040957 49\n0.374736 49\n0.263979 49\n0.112116 49\n0.152261 49\n0.111797 49\n0.024030 28\n0.559858 28\n0.848060 28\n0.112367 28\n0.063509 28\n0.144685 28\n0.047428 35\n0.276212 36\n0.215071 64\n0.327249 101\n0.350306 27\n0.000047 3\n0.281713 41\n0.069777 41\n0.232148 41\n0.015349 41\n0.048090 21\n0.392264 22\n0.000033 21\n0.408125 22\n0.000043 21\n0.135884 22\n0.000054 41\n0.255766 41\n0.032970 41\n0.086968 1\n0.152010 1\n0.000720 41\n0.095392 41\n0.033382 41\n0.150691 41\n0.087735 41\n0.087766 41\n0.096426 41\n0.096030 41\n0.160138 1\n0.039786 41\n0.224255 21\n0.296055 22\n0.000045 1\n0.111916 21\n0.119998 22\n0.000084 2\n0.122369 41\n0.006805 3\n0.110621 41\n0.151857 41\n0.136291 41\n0.047663 41\n0.040167 3\n0.080008 41\n0.144231 41\n0.103891 3\n0.080057 41\n0.055326 41\n0.128753 41\n0.503777 41\n0.104932 41\n0.383433 41\n0.095727 41\n0.104246 41\n0.055857 41\n0.040066 3\n0.359677 41\n0.479915 41\n0.056320 41\n0.040431 41\n0.127710 41\n0.064148 3\n0.079864 41\n0.671999 41\n0.135997 41\n0.071761 3\n0.152030 41\n0.752254 41\n0.071614 41\n0.120422 41\n0.079747 41\n0.144346 41\n0.095676 41\n0.464103 41\n0.096278 3\n0.200437 41\n0.183174 41\n0.136211 41\n0.052071 41\n0.055935 41\n0.499915 41\n0.135978 41\n0.048328 41\n0.184007 41\n0.016136 21\n0.375547 22\n0.000054 21\n0.120284 22\n0.000054 21\n0.119688 22\n0.000055 41\n0.159781 41\n0.160277 21\n0.364956 22\n0.000061 43\n0.107172 43\n0.135733 41\n0.072215 41\n0.175763 41\n0.087767 41\n0.128424 41\n0.271976 118\n0.677774 112\n0.047318 65\n0.014240 74\n1.157790 65\n0.496669 66\n0.050248 65\n0.049905 65\n0.051304 65\n0.050213 65\n0.050957 64\n0.050189 64\n0.050366 64\n0.051024 61\n0.175959 64\n0.199560 1\n0.278416 66\n3.030187 265\n0.150080 3\n0.159022 306\n0.161157 3\n0.158859 213\n0.160224 66\n0.132154 470\n0.854118 74\n0.533826 65\n0.497497 65\n0.050423 65\n0.050696 65\n0.051063 65\n0.050142 66\n0.050028 64\n0.050059 65\n0.051268 65\n0.050211 3\n0.416014 25\n0.227797 74\n0.000036 46\n0.681662 572\n0.004610 481\n0.000074 138\n0.000902 121\n0.000025 18\n0.512395 118\n0.045474 112\n0.044600 65\n0.011040 75\n5.778667 65\n0.157030 64\n0.175982 64\n0.184659 64\n0.207604 6\n0.263650 64\n0.641532 64\n0.422662 65\n0.183961 65\n0.255922 62\n0.255907 75\n2.213942 4\n0.132486 4\n0.127953 136\n0.336047 123\n0.823709 21\n1.016934 1\n0.000580 1\n0.000191 1\n0.150581 2\n0.553267 28\n0.302755 30\n0.027580 4\n0.168969 118\n0.073788 112\n0.044453 65\n0.011605 35\n54.284533 146\n0.000042 1\n0.503640 4\n0.413072 125\n7.624299 58\n0.000052 8\n1.002017 64\n3.779275 65\n0.500639 3\n0.049385 3\n0.050001 3\n0.050280 3\n0.050281 3\n0.050172 3\n0.050385 2\n0.050255 1\n0.050481 65\n0.189429 64\n0.413723 3\n0.230618 3\n0.501183 3\n0.048423 3\n0.051623 3\n0.050580 3\n0.088144 2\n0.013456 1\n0.310363 3\n0.152068 32\n0.899341 32\n0.120200 32\n0.128058 3\n0.404489 3\n0.500452 2\n0.050466 1\n0.051207 3\n0.050871 3\n0.051185 3\n0.050124 3\n0.050746 3\n0.050340 3\n0.050422 2\n0.049669 1\n0.050413 3\n0.050141 3\n0.050888 3\n0.050794 3\n0.050484 3\n0.050369 3\n0.050364 2\n0.050290 32\n0.852228 32\n0.055901 32\n0.159941 1\n6.980314 3\n0.519909 3\n0.216051 3\n0.368167 3\n0.208065 32\n3.387532 32\n0.047737 32\n0.152336 32\n0.726823 32\n0.065043 84\n0.136313 32\n0.015933 118\n0.845892 112\n0.039682 65\n0.011156 18\n4.804627 1\n0.231004 1\n0.500595 1\n0.050676 1\n0.050464 1\n0.050710 1\n0.050218 1\n0.050091 1\n0.050807 1\n0.051286 1\n0.049930 1\n0.050529 1\n0.050521 1\n0.050679 1\n0.050804 1\n0.180587 1\n0.184032 1\n0.200021 70\n1.190958 32\n0.116803 32\n0.151909 118\n0.549953 112\n0.055714 65\n0.015118 18\n1.407739 1\n0.424161 1\n1.671798 1\n0.567630 1\n0.501099 1\n0.050331 1\n0.050520 1\n0.050504 1\n0.050601 1\n0.049574 1\n0.051439 1\n0.049370 1\n0.050451 1\n0.051068 1\n0.049993 1\n0.050318 1\n0.050462 1\n0.222785 70\n0.342271 32\n0.165510 32\n0.159896 32\n0.152203 32\n0.151788 32\n0.143496 32\n0.168309 32\n0.071860 32\n0.360285 32\n0.215935 32\n0.128318 32\n0.055455 8\n0.717395 1\n0.246965 1\n0.192345 1\n0.327808 1\n0.159809 1\n0.128021 1\n0.136058 1\n0.305006 3\n0.351188 43\n0.283881 43\n0.151831 43\n0.151906 43\n0.160097 43\n0.144398 43\n0.143544 40\n0.128989 40\n0.118923 40\n0.055879 40\n0.209087 40\n0.118913 40\n0.048055 118\n0.725458 112\n0.049620 65\n0.010643 75\n0.470715 65\n0.148994 62\n0.111793 64\n0.168367 64\n0.175875 1\n0.366533 63\n1.538610 135\n0.975316 271\n0.099509 3\n0.150598 303\n0.153144 66\n0.150104 222\n0.152782 66\n0.143245 205\n0.161332 66\n0.142587 318\n0.145454 3\n0.151348 264\n0.135833 66\n0.439438 46\n0.695262 717\n0.005836 18\n0.287778 115\n0.057710 112\n0.037088 65\n0.010970 100\n0.362749 791\n0.000053 265\n0.000035 138\n0.928210 234\n0.000045 62\n0.332265 63\n0.499488 63\n0.051053 63\n0.049946 64\n0.051380 63\n0.049588 52\n0.051802 1\n0.050246 145\n0.213767 46\n0.695868 406\n0.007478 1\n0.004183 193\n0.000044 59\n0.000531 75\n0.493529 65\n0.140886 62\n0.160333 65\n0.168365 65\n0.159635 64\n0.151810 1\n0.301202 1\n0.501961 1\n0.050636 1\n0.050338 1\n0.050528 1\n0.050903 1\n0.050279 1\n0.050000 1\n0.050908 1\n0.242086 31\n0.156914 28\n0.000085 58\n0.287053 58\n0.072540 58\n0.079488 58\n0.143896 63\n0.358899 64\n0.498794 65\n0.050736 64\n0.051171 64\n0.050915 64\n0.050874 64\n0.051762 2\n0.053786 840\n0.000048 332\n0.000079 65\n0.046940 65\n0.050515 61\n0.050768 64\n0.049953 65\n0.625149 1\n0.333445 66\n1.198760 237\n0.168022 66\n0.198206 277\n0.144780 46\n0.804880 394\n0.010298 72\n0.678475 64\n0.498434 64\n0.050551 64\n0.050522 64\n0.050221 64\n0.052350 64\n0.050772 64\n0.051246 65\n0.051685 64\n0.049247 64\n0.050298 64\n0.050639 61\n0.050260 951\n0.056812 64\n0.277415 261\n0.355631 64\n0.181721 47\n0.643331 371\n0.002510 204\n1.117094 36\n0.000048 3\n0.188383 167\n0.392825 36\n0.000121 8\n0.487898 56\n0.001213 47\n0.000968 18\n0.138859 1\n0.500626 1\n0.050446 1\n0.050281 1\n0.050908 1\n0.050022 1\n0.050377 1\n0.207129 47\n0.363210 47\n0.135993 47\n0.135897 47\n0.136133 44\n0.135705 44\n0.120213 44\n0.055971 47\n0.304425 47\n0.128528 47\n0.144264 44\n0.078589 44\n0.072160 44\n0.120039 44\n0.047694 139\n0.585749 89\n0.781802 18\n0.325555 118\n0.057899 112\n0.046251 65\n0.015471 18\n2.768615 105\n0.218790 29\n0.000041 45\n0.205064 1\n0.754271 49\n0.000255 96\n0.000374 1\n0.000059 36\n0.000047 1\n0.000048 101\n0.000061 1\n0.000055 40\n0.000047 1\n0.000046 488\n0.000067 158\n0.000141 25\n2.752450 148\n0.000264 99\n0.133736 99\n0.168399 1\n0.353274 4\n0.189799 28\n0.344060 28\n0.071560 53\n0.096431 1\n0.255919 49\n0.312094 49\n0.112135 49\n0.119778 49\n0.088151 49\n0.055557 49\n0.144486 49\n0.023890 49\n0.111966 64\n1.401309 64\n0.150377 65\n0.144432 1\n0.350544 3\n0.825480 39\n0.151554 92\n0.145420 35\n0.000072 96\n0.159093 33\n0.000046 3\n0.159753 129\n0.168464 33\n0.003378 199\n0.829865 64\n0.350953 64\n0.498960 64\n0.050817 64\n0.049831 64\n0.051208 64\n0.051237 8\n0.359967 64\n0.417518 64\n0.143650 64\n0.340126 1\n0.325801 28\n0.885578 51\n0.064076 3\n0.128007 28\n0.176550 28\n0.088154 28\n0.079516 55\n0.119640 28\n0.120570 28\n0.847710 28\n0.128191 28\n0.104062 28\n0.063910 28\n0.056102 3\n1.320253 28\n0.215912 28\n0.112051 3\n0.103904 200\n0.183852 41\n0.256250 41\n0.167849 41\n0.048331 41\n0.056003 57\n0.247829 28\n0.155094 25\n0.484780 74\n0.000141 99\n0.144207 100\n0.135361 70\n0.127977 8\n0.154503 2\n0.397713 28\n0.247796 28\n0.136046 28\n0.199925 54\n0.103765 3\n0.120242 28\n0.120073 28\n0.160093 66\n0.055479 55\n0.088393 28\n0.119840 28\n0.063939 28\n0.184436 28\n0.071541 28\n0.048298 28\n0.064094 1\n0.192219 28\n0.159513 28\n0.112227 3\n0.112250 198\n0.152055 41\n1.096211 41\n0.055654 43\n0.440312 43\n0.144320 41\n0.623646 41\n0.007809 43\n0.440326 41\n0.367754 41\n0.087698 41\n0.104028 87\n0.264188 28\n0.419033 115\n0.812893 174\n0.054023 71\n4.089516 65\n0.336003 64\n0.167642 65\n0.168781 65\n0.151781 65\n0.479931 64\n0.187751 65\n0.592559 118\n0.812407 177\n0.089766 25\n0.960643 59\n0.000033 28\n0.149141 28\n0.063927 28\n0.023645 66\n0.178375 28\n0.126132 28\n0.191945 32\n0.160194 21\n0.000043 34\n0.136580 28\n0.055395 28\n0.111622 28\n0.816507 30\n0.018917 1\n0.467013 30\n1.026165 30\n0.151878 30\n0.087790 30\n0.799898 197\n0.251548 336\n0.501147 21\n0.319871 22\n0.000052 21\n0.159904 22\n0.000083 21\n0.095967 22\n0.000052 21\n0.095829 22\n0.000047 21\n0.103721 59\n0.000091 43\n0.041833 21\n0.061916 22\n0.000053 21\n0.104187 22\n0.000058 21\n0.080345 22\n0.000087 21\n0.104347 22\n0.000057 21\n0.079400 22\n0.000053 21\n0.135954 22\n0.000051 21\n0.159625 22\n0.000054 21\n0.192495 22\n0.000045 43\n0.024146 21\n0.047264 22\n0.000046 21\n0.095733 22\n0.000047 21\n0.128935 22\n0.000045 21\n0.032246 22\n0.000688 21\n0.143126 22\n0.000116 21\n0.095641 22\n0.000041 21\n0.151536 22\n0.000044 21\n0.040245 22\n0.000048 21\n0.247981 22\n0.000040 24\n0.607769 34\n0.000643 139\n0.502932 64\n0.202619 65\n0.333087 65\n0.159899 65\n0.152085 65\n0.152802 64\n0.151212 64\n0.167794 66\n0.705649 28\n0.063170 28\n0.064018 2\n0.096110 52\n0.000035 118\n0.455339 177\n0.046995 74\n0.243030 65\n0.497591 65\n0.050464 65\n0.050663 65\n0.050751 64\n0.050019 65\n0.289679 65\n1.719850 8\n0.223718 135\n0.236230 8\n0.127199 52\n0.000972 3\n0.000856 41\n0.000025 42\n0.259571 28\n0.095843 28\n0.048303 55\n0.119669 114\n0.360872 108\n0.040556 40\n0.002796 22\n0.000034 177\n0.164141 2\n0.382180 26\n0.129516 2\n0.525196 36\n0.202686 7\n0.000013 33\n0.000425 29\n0.020730 59\n2.444278 412\n0.040148 96\n0.044255 24\n0.512608 29\n0.153572 33\n0.735740 125\n0.003170 958\n0.000208 302\n0.000575 22\n0.000038 67\n1.531720 326\n0.358786 293\n0.000046 65\n0.497497 65\n0.500695 63\n0.050553 64\n0.050400 64\n0.050786 64\n0.049771 64\n0.050685 64\n0.051240 62\n0.050148 64\n0.051565 103\n0.053889 784\n0.000115 184\n0.000035 65\n0.047097 65\n1.801540 65\n0.500279 64\n0.050574 65\n0.051040 65\n0.050938 65\n0.050490 65\n0.050224 6\n0.405887 9\n0.332807 219\n0.000031 25\n0.348460 75\n0.001129 8\n0.097357 28\n0.452987 28\n0.223863 28\n0.039904 28\n0.032119 28\n0.232092 28\n0.120334 28\n0.159661 53\n0.120244 34\n0.111548 67\n0.040311 28\n0.079878 28\n0.415996 28\n0.536480 28\n0.159674 28\n0.575897 28\n1.391680 197\n1.128389 41\n0.248095 41\n0.120146 41\n0.072090 41\n0.151813 41\n0.031787 41\n0.056834 3\n0.135278 41\n0.056264 41\n0.184109 41\n0.048061 41\n0.119755 41\n0.087977 41\n0.176186 3\n0.183949 41\n0.047941 3\n0.079994 41\n0.176071 79\n0.088022 41\n0.112087 41\n0.183932 57\n0.192173 10\n0.868526 1\n0.000032 22\n0.000626 8\n0.344690 116\n0.025374 110\n0.041379 65\n0.004490 72\n0.349634 61\n0.187950 320\n0.306550 318\n0.000104 1\n1.268813 64\n1.338160 64\n0.150166 63\n0.842401 64\n0.498053 63\n0.051331 63\n0.051432 63\n0.050373 63\n0.052230 62\n0.050115 61\n0.050883 184\n0.054196 807\n0.000086 64\n0.047494 64\n0.049663 64\n0.297842 64\n0.500701 64\n0.050744 64\n0.050199 64\n0.050666 64\n0.050887 64\n0.050716 64\n0.050498 64\n0.051057 65\n0.050709 64\n0.051316 66\n0.682251 70\n0.372872 65\n0.495634 64\n0.050318 64\n0.051985 64\n0.049118 64\n0.876651 64\n0.500361 64\n0.050470 65\n0.050008 64\n0.049946 61\n0.357070 239\n0.202278 398\n0.000101 64\n0.293587 64\n0.191598 68\n0.392314 13\n4.110890 68\n0.048962 13\n1.543451 68\n0.056480 71\n2.066925 64\n0.189650 24\n0.194432 73\n0.000039 7\n0.388968 99\n0.497677 99\n0.135573 8\n0.361817 118\n0.540396 177\n0.043648 25\n0.640130 59\n0.000057 28\n0.253601 53\n0.055819 1\n0.152367 28\n0.463749 3\n0.135879 28\n0.144414 51\n0.039827 3\n0.160224 28\n0.887784 28\n0.192255 28\n0.087810 4\n0.312224 4\n0.120055 28\n0.415681 28\n0.127863 28\n0.080117 28\n0.063808 28\n0.128055 28\n0.039978 28\n0.112226 28\n0.192302 28\n0.159898 28\n0.047987 55\n0.047838 36\n1.448687 28\n0.167742 28\n0.111624 28\n0.160069 28\n0.063906 56\n0.001458 47\n0.001312 46\n0.046008 28\n0.311641 30\n0.042810 4\n0.499018 118\n0.042104 177\n0.034873 18\n0.947423 63\n0.656610 74\n0.354019 103\n0.911619 29\n0.000040 45\n0.181769 44\n0.568333 45\n0.231817 1101\n0.163195 65\n0.696043 65\n0.149741 65\n0.135688 64\n0.160362 1\n0.054865 1\n0.500854 1\n0.049855 1\n0.050584 1\n0.050647 1\n0.050064 1\n0.050031 1\n0.050908 1\n0.050685 1\n0.051549 1\n0.050733 1\n0.050830 1\n0.050316 1\n0.051433 1\n0.050349 1\n0.051691 1\n0.050001 1\n0.049941 1\n0.050468 1\n0.051182 65\n0.094079 1\n0.213789 32\n0.175703 59\n0.000101 53\n0.101135 53\n0.063971 53\n0.096084 118\n0.508401 112\n0.038821 65\n0.011144 18\n1.180098 105\n0.226866 29\n0.000038 45\n0.251637 1\n0.427963 49\n0.001259 2\n0.000480 1\n0.000066 311\n0.000173 1\n0.000138 364\n0.000159 158\n0.000308 65\n1.476079 66\n1.548868 1\n0.442430 1\n0.167907 1\n1.304076 1\n0.199902 1\n0.175984 1\n0.159957 1\n0.272037 1\n0.152124 44\n0.165545 44\n0.124168 44\n0.072553 44\n0.095187 4\n0.223580 1\n0.142669 1\n0.256200 181\n0.666331 45\n0.272021 45\n0.088246 45\n0.111659 45\n0.072007 59\n0.184158 118\n0.623181 177\n0.047894 18\n0.735075 9\n1.260501 252\n0.000041 2\n0.262796 118\n0.581505 177\n0.044208 75\n0.229320 63\n0.149678 25\n0.339931 148\n0.000039 8\n0.095972 28\n0.557762 3\n0.184472 45\n0.119856 1\n0.079537 28\n0.192447 65\n0.584294 65\n0.213767 65\n0.584024 65\n0.168353 1\n0.166803 1\n0.500981 1\n0.050290 1\n0.051549 39\n0.743897 49\n0.136078 65\n0.439708 65\n0.262081 1\n0.191567 118\n0.497421 112\n0.041646 65\n0.003793 18\n19.640630 71\n0.064708 18\n3.431444 71\n0.056801 25\n4.170962 59\n0.000093 28\n0.333996 28\n0.079956 28\n0.048100 28\n0.703905 28\n0.168096 28\n0.063926 53\n0.136071 34\n0.184163 28\n0.055530 28\n0.088228 28\n0.704097 30\n0.027084 3\n0.442960 30\n4.042181 30\n0.104595 30\n1.583265 30\n0.824023 30\n0.792295 30\n0.239771 30\n0.343978 30\n2.703903 3\n1.006357 99\n2.138047 2\n0.306108 28\n0.701211 3\n0.111865 28\n0.192187 47\n0.240038 3\n0.224082 28\n0.112004 118\n0.632005 112\n0.040642 65\n0.002425 75\n0.238718 65\n0.133337 8\n0.239847 8\n1.108357 304\n0.000070 2\n0.175513 28\n0.805647 51\n0.079969 3\n0.160247 28\n0.895514 3\n0.191859 45\n0.416555 34\n0.127945 1\n0.087947 28\n0.103910 28\n0.072025 28\n0.088039 55\n0.111903 28\n0.095997 28\n0.120139 28\n0.167829 28\n0.112021 28\n0.072130 28\n0.150338 28\n0.209425 28\n2.722656 3\n0.181692 28\n0.072005 28\n0.160004 28\n0.144118 3\n0.183874 28\n0.184144 3\n0.119899 182\n0.712248 41\n0.184000 94\n0.160106 56\n0.000975 47\n0.000771 75\n1.391454 8\n0.204632 204\n0.251259 2\n0.097735 28\n0.213018 28\n0.231904 28\n0.192299 3\n0.087736 1\n0.376670 47\n0.001004 3\n0.139112 216\n0.130416 157\n0.121873 64\n0.429047 64\n0.170842 64\n0.213978 5\n0.318589 65\n0.307983 8\n0.204510 1\n0.103497 30\n0.715040 30\n0.167242 30\n0.120189 30\n0.506182 118\n0.476821 177\n0.046155 181\n4.177656 2\n0.214291 26\n0.113077 2\n0.333560 36\n0.300486 7\n0.000013 33\n0.000303 578\n0.027082 96\n0.012147 24\n0.925357 29\n0.145503 1362\n1.249734 105\n7.511948 29\n0.000036 45\n0.269336 44\n0.448072 45\n0.904180 1128\n0.282874 65\n0.535221 65\n0.498762 65\n0.050554 65\n0.050782 65\n0.050324 65\n0.049736 65\n0.258146 66\n0.240222 8\n1.383550 1\n0.143359 1\n0.500133 1\n0.050259 1\n0.050926 1\n0.051371 1\n0.049669 1\n0.049961 1\n0.051284 1\n0.050492 1\n0.052081 1\n0.048102 1\n0.051050 1\n0.051698 1\n0.049572 1\n0.050242 1\n0.053137 1\n0.050956 1\n0.050731 1\n0.050209 1\n0.049700 1\n0.049764 1\n0.049929 1\n0.051063 1\n0.050707 1\n0.050042 1\n0.050022 1\n0.351056 70\n0.436161 32\n0.269512 32\n0.032818 37\n0.143460 29\n0.000039 38\n0.272172 29\n0.000141 2\n0.613966 1\n0.498983 3\n0.050155 3\n0.050286 3\n0.051649 3\n0.050254 3\n0.050918 3\n0.052594 2\n0.049938 26\n0.803376 29\n0.000088 29\n0.215852 29\n0.000098 27\n0.103043 29\n0.000049 27\n0.040698 29\n0.000049 27\n0.160085 29\n0.000054 1\n0.797939 1\n0.500154 1\n0.051511 1\n0.049768 1\n0.050613 1\n0.050969 1\n0.050413 1\n0.050886 1\n0.050321 1\n0.050785 1\n0.050732 1\n0.050494 1\n0.050603 1\n0.051251 1\n0.050551 1\n0.050574 1\n0.050089 1\n0.050187 1\n0.049974 1\n0.049793 1\n0.049859 1\n0.049848 1\n0.050680 1\n0.050519 1\n0.050019 76\n0.389524 59\n0.000087 7\n0.327339 7\n0.500815 7\n0.049924 7\n0.050226 7\n0.050932 7\n0.050490 6\n0.050641 5\n0.050412 7\n0.051398 7\n0.050022 7\n0.051167 7\n0.308093 7\n0.159714 66\n0.642243 89\n2.166123 1\n0.000079 149\n0.000057 1\n0.000047 14\n0.000048 1\n0.000045 618\n0.000077 2\n0.000191 1\n0.000043 147\n0.000052 1\n0.000258 86\n0.000053 100\n0.862631 1018\n0.000116 281\n0.000073 50\n0.001210 46\n0.000879 69\n0.586125 64\n0.495249 64\n0.050597 64\n0.051048 64\n0.049237 64\n0.051321 64\n0.050508 65\n0.049651 64\n0.051300 64\n0.154767 64\n0.262933 3\n0.198980 3\n0.500524 3\n0.050125 3\n0.050864 3\n0.050934 3\n0.050781 2\n0.050604 1\n0.050892 3\n0.050232 3\n0.050411 3\n0.051203 3\n0.050335 3\n0.050031 3\n0.050572 2\n0.051062 1\n0.050678 3\n0.050452 3\n0.050321 3\n0.049861 3\n0.050130 3\n0.049843 3\n0.050556 2\n0.051294 1\n0.051240 3\n0.050553 3\n0.051422 3\n0.389371 32\n1.563784 32\n0.112054 32\n0.033832 147\n0.125617 87\n0.304548 22\n0.000056 7\n0.533487 1\n0.199023 1\n0.500746 8\n0.050246 1\n0.050606 1\n0.050326 1\n0.049448 1\n0.049933 1\n0.050663 1\n0.050293 1\n0.050687 1\n0.049438 1\n0.051515 1\n0.050379 1\n0.050335 1\n0.050187 1\n0.050715 1\n0.050141 1\n0.049912 1\n0.050441 1\n0.051968 1\n0.048374 1\n0.049870 1\n0.050603 1\n0.050926 1\n0.049871 1\n0.050077 1\n0.050740 64\n0.669021 67\n0.063610 65\n0.040033 65\n0.128333 65\n0.264102 1\n0.340203 1\n0.500575 1\n0.050659 1\n0.050982 1\n0.090122 1\n0.012774 1\n0.049217 1\n0.051347 1\n0.050103 1\n0.050123 1\n0.050142 1\n0.050412 129\n0.341498 7\n0.287812 7\n0.499904 7\n0.051362 7\n0.050283 7\n0.051062 7\n0.051325 6\n0.050180 5\n0.050944 7\n0.049777 7\n0.050579 7\n0.049495 7\n0.276825 118\n0.829417 112\n0.052563 65\n0.010121 181\n0.585640 2\n0.518155 26\n0.137078 2\n0.257474 43\n0.273522 33\n0.000234 140\n0.020997 471\n4.197370 96\n0.060440 24\n0.228505 29\n0.137458 9\n0.542699 24\n0.002684 125\n0.000746 1081\n0.000374 497\n0.000321 105\n1.743807 29\n0.000050 45\n0.189280 1173\n0.738994 1\n0.836103 1\n0.501102 1\n0.050076 1\n0.049967 1\n0.051337 1\n0.050647 1\n0.050595 1\n0.051172 1\n0.049436 1\n0.051353 1\n0.050032 1\n0.051036 1\n0.049866 1\n0.050504 1\n0.049437 1\n0.050308 1\n0.049655 1\n0.050260 65\n4.201209 65\n0.309516 2\n0.190530 1\n0.500980 3\n0.049875 3\n0.051058 3\n0.050041 3\n0.050982 3\n0.049989 70\n0.876417 32\n0.156745 118\n0.703546 177\n0.045610 75\n0.940943 65\n0.497761 65\n0.050445 65\n0.050551 63\n0.050379 65\n0.051538 64\n0.050158 64\n0.050525 64\n0.050648 64\n0.050596 62\n0.050624 64\n0.050333 102\n0.053636 83\n0.000873 712\n0.000050 252\n0.000544 65\n0.466436 65\n0.480394 3\n0.215279 25\n0.287799 148\n0.000943 1\n0.125373 28\n0.349325 51\n0.087911 3\n0.119977 28\n0.367781 28\n0.176905 28\n0.063306 55\n0.095998 28\n0.103830 28\n0.040046 28\n0.176250 28\n0.063577 28\n0.080561 28\n0.063682 3\n0.184252 28\n0.159618 28\n0.112342 65\n0.120943 200\n0.159395 402\n0.505038 456\n0.000045 41\n0.279142 41\n0.152039 41\n0.055416 41\n0.107131 90\n0.301189 28\n0.387650 136\n0.396262 8\n0.202447 28\n0.228801 28\n0.168227 28\n0.048196 55\n0.112170 28\n0.079545 28\n0.120375 28\n0.152076 28\n0.103762 28\n0.335991 28\n0.152004 28\n0.047989 1\n0.192057 199\n0.505105 268\n0.000134 1\n0.782965 4\n0.500582 4\n0.050325 4\n0.050016 4\n0.050232 4\n0.050280 4\n0.051090 4\n0.050382 37\n0.050328 4\n0.051333 4\n0.143817 12\n0.279937 28\n0.215640 51\n0.151958 2\n0.099495 28\n0.324425 3\n0.311778 45\n0.464517 34\n0.143778 3\n0.120082 205\n0.168466 41\n0.287805 41\n0.007783 43\n0.500802 43\n0.060166 294\n0.504898 469\n0.000045 41\n0.118162 41\n0.216270 87\n0.223964 28\n0.379036 3\n0.317399 28\n0.071717 28\n0.231247 28\n0.113481 55\n0.086833 28\n0.112216 28\n0.256724 28\n0.111812 28\n0.120760 28\n0.158974 28\n0.151889 28\n0.056124 3\n0.160145 199\n0.505449 268\n0.000210 66\n0.006586 28\n0.071081 3\n0.176564 28\n0.103553 136\n0.480707 8\n0.098158 28\n0.236461 28\n0.160309 28\n0.184036 55\n0.079599 3\n0.096177 28\n0.088168 3\n0.256736 45\n0.095662 34\n0.128263 3\n0.567781 203\n0.171723 41\n0.157232 41\n0.135694 41\n0.087342 41\n0.136159 90\n0.320118 134\n0.168051 101\n0.001058 6\n0.007912 30\n0.000033 15\n0.898209 125\n0.153575 1\n0.000658 24\n0.620345 7\n0.158173 7\n0.152592 7\n0.151498 8\n0.243981 3\n0.595981 28\n0.111999 28\n0.160133 28\n0.063762 55\n0.112178 28\n0.095748 28\n0.087886 28\n0.192452 28\n0.104109 28\n0.095915 28\n0.184095 28\n0.055503 3\n0.192382 28\n0.263592 28\n0.208412 3\n0.095667 28\n0.096175 136\n0.680230 66\n0.140874 28\n0.794514 28\n0.138907 28\n0.124486 55\n0.056255 3\n0.143929 28\n0.120479 3\n0.311715 45\n0.128394 34\n0.112201 3\n0.088094 203\n0.895659 41\n0.200049 90\n0.368138 138\n0.240065 124\n0.001486 1\n0.009758 1\n0.000074 19\n0.000063 21\n0.000387 18\n0.116269 28\n0.095931 28\n0.119713 28\n0.920316 28\n0.287940 28\n0.087552 59\n0.112884 3\n0.103518 195\n0.192745 41\n0.191548 41\n0.144272 41\n0.040001 41\n0.064328 90\n0.295716 1\n0.354784 9\n0.229340 15\n0.160897 19\n0.135404 19\n0.129343 117\n0.762343 111\n0.044225 64\n0.001182 46\n0.424705 135\n0.001797 2\n0.214227 26\n0.121261 2\n0.185255 43\n0.221299 33\n0.000242 152\n0.021081 59\n0.505400 96\n0.067367 24\n0.325992 2\n0.281887 36\n0.306532 7\n0.000012 33\n0.000325 152\n0.021003 90\n0.589926 20\n0.570947 71\n0.615625 90\n0.176480 90\n0.395385 90\n0.242131 59\n0.446455 96\n0.037015 24\n0.188334 29\n0.121453 33\n0.257187 125\n0.002843 972\n0.000415 43\n0.000028 538\n0.000305 95\n0.625446 64\n0.003054 492\n0.000049 78\n0.000386 207\n1.076305 917\n0.000084 217\n0.000682 68\n2.432436 72\n0.572432 64\n0.268616 64\n0.775811 64\n0.500539 64\n0.049936 64\n0.050531 64\n0.051647 64\n0.051075 64\n0.090129 62\n7.133836 5\n0.314836 754\n0.000056 64\n0.908979 65\n0.500561 63\n0.051071 63\n0.051370 63\n0.050818 63\n0.050502 63\n0.050285 63\n0.051429 62\n0.051006 61\n0.050597 207\n0.056523 917\n0.000047 217\n0.001574 65\n0.043155 64\n0.049738 63\n0.050720 63\n0.050437 63\n0.050312 63\n0.051622 63\n0.049474 63\n0.050861 62\n0.049774 61\n0.050475 1196\n0.056806 64\n0.045223 64\n0.050188 63\n0.050222 64\n0.311681 64\n0.207918 64\n0.208095 65\n0.239820 65\n0.351342 25\n0.615909 156\n0.000037 99\n0.131579 64\n0.452279 4\n0.340045 28\n0.168426 28\n0.096155 53\n0.095019 1\n0.168573 49\n0.408760 49\n0.199300 49\n0.039774 49\n0.064116 49\n0.215942 49\n0.257516 49\n0.166769 49\n0.023871 49\n0.176072 28\n0.359881 28\n0.216058 28\n0.167923 28\n0.023775 55\n0.128167 28\n0.112615 28\n0.191721 36\n0.332405 1\n0.503020 1\n0.160052 32\n0.132880 118\n0.676584 112\n0.076667 65\n0.002355 18\n0.272380 66\n0.776428 1\n0.390464 67\n0.764483 163\n0.180399 359\n0.101147 3\n0.111262 60\n1.211734 438\n1.405163 74\n0.527089 65\n0.180744 1\n0.222253 67\n0.644389 163\n0.113024 115\n0.227792 109\n0.084092 64\n0.004159 143\n0.767254 653\n0.000050 106\n0.000036 65\n0.551748 70\n0.424899 64\n0.223221 63\n0.400671 63\n0.500686 63\n0.050443 63\n0.051111 63\n0.050811 64\n0.050947 64\n0.050277 64\n0.052807 64\n0.050693 65\n0.163419 164\n0.501184 595\n0.000056 290\n0.000036 64\n0.651699 64\n0.201894 4\n0.438322 520\n0.000583 116\n0.000613 148\n0.000039 106\n0.000420 62\n0.488119 64\n0.499826 63\n0.050902 63\n0.051284 63\n0.050578 63\n0.050175 63\n0.050864 64\n0.049446 64\n0.051164 64\n0.051326 64\n2.478218 64\n0.183237 63\n0.384235 59\n1.691112 66\n0.000182 1\n0.986966 220\n0.000396 1\n0.000065 317\n0.000204 1\n0.000160 1\n0.000143 23\n0.000135 1\n0.000120 1\n0.000129 87\n0.000127 1\n0.000107 1\n0.000132 27\n0.000110 1\n0.000108 1\n0.000123 10\n0.000105 1\n0.000106 81\n0.000137 57\n0.000274 64\n0.631780 64\n0.500141 64\n0.049823 64\n0.050270 64\n0.051315 64\n0.050435 64\n0.051123 65\n0.051450 64\n0.050608 64\n0.050973 64\n0.049953 64\n0.571737 65\n0.239183 25\n0.877710 33\n0.004181 132\n0.000039 4\n0.504592 50\n0.000072 3\n0.144175 3\n0.501027 3\n0.050071 3\n0.050116 3\n0.049576 3\n0.050794 2\n0.051344 1\n0.050346 3\n0.050387 3\n0.050661 3\n0.050093 3\n0.050266 3\n0.049996 1\n0.434345 3\n0.551360 3\n0.500374 3\n0.050251 3\n0.050939 3\n0.050148 3\n0.050382 2\n0.050777 1\n0.050024 3\n0.050661 3\n0.050212 3\n0.050597 3\n0.341432 28\n3.304007 28\n0.215947 28\n0.039986 28\n0.039868 28\n0.340500 28\n0.085300 28\n0.158836 53\n0.119820 34\n0.113663 28\n0.037981 28\n0.080960 28\n0.471259 30\n0.051240 1\n0.433073 30\n1.052107 30\n0.775844 30\n1.032036 30\n4.255997 30\n0.463806 30\n0.296289 33\n1.176040 30\n0.983804 224\n0.312062 70\n0.264089 2\n1.271699 4\n0.000028 72\n0.192131 5\n0.171830 224\n0.204494 33\n2.704198 33\n0.127612 65\n0.399032 65\n0.189711 66\n0.173770 66\n0.288136 66\n0.322614 65\n0.199870 3\n0.270813 3\n0.159845 2\n0.112169 55\n0.266869 32\n0.071341 4\n0.504414 33\n0.000057 118\n0.167356 177\n0.055546 75\n0.426475 66\n0.173169 65\n0.167991 8\n0.359439 71\n2.727934 75\n4.779279 1\n0.292086 67\n0.774769 209\n0.205384 592\n0.504885 422\n0.000117 43\n2.047636 43\n0.215422 43\n0.048012 43\n0.159814 43\n0.128035 43\n0.192106 43\n0.247953 43\n0.032515 43\n0.199841 43\n0.264214 43\n0.159666 43\n0.088176 43\n0.087505 165\n0.280290 250\n0.504781 173\n0.000113 30\n0.535235 193\n0.275581 43\n0.229223 164\n0.103570 118\n0.644614 112\n0.036776 65\n0.001246 181\n0.577666 2\n0.422228 26\n0.137387 2\n0.199316 36\n0.308796 7\n0.000012 33\n0.000264 192\n0.021170 90\n0.687472 90\n0.355953 90\n0.354822 59\n0.517726 96\n0.035887 24\n0.253545 29\n0.128859 9\n0.359615 24\n0.002056 125\n0.002149 905\n0.000414 36\n0.000038 326\n0.000146 65\n0.654705 65\n0.269117 65\n0.360695 1\n0.270505 68\n1.440423 72\n1.667292 65\n0.181032 64\n0.184352 8\n0.367240 65\n0.508119 3\n0.624965 275\n0.000042 65\n0.303654 4\n0.420869 28\n0.295508 28\n0.264071 28\n0.032575 28\n0.024297 28\n0.415342 28\n0.087854 28\n0.144044 53\n0.168186 34\n0.103919 28\n0.057149 28\n0.046917 28\n0.311781 28\n1.760311 28\n0.159887 28\n0.816110 28\n5.809166 28\n0.726895 28\n0.320354 28\n0.591248 194\n0.209184 431\n0.503258 41\n0.672285 79\n0.167986 41\n0.159951 41\n0.047434 41\n0.264806 41\n0.232387 41\n0.135398 41\n0.103795 41\n0.063792 41\n0.048450 41\n0.095981 41\n0.087580 41\n0.032500 41\n0.185014 2\n0.103212 41\n0.295888 43\n0.367844 41\n0.215905 41\n0.088071 41\n0.096417 41\n0.071673 57\n0.312292 181\n0.503320 28\n0.176607 172\n0.264336 41\n0.112222 57\n0.223957 66\n0.439982 69\n0.575888 66\n0.214179 8\n0.606757 118\n0.057348 177\n0.046786 181\n0.169069 2\n0.190396 26\n0.113185 2\n0.143833 36\n0.297836 7\n0.000013 33\n0.000275 269\n0.021211 97\n0.513286 97\n0.632836 97\n0.632404 27\n0.180098 78\n0.336542 97\n0.157627 59\n0.185519 96\n0.036588 24\n0.292723 29\n0.137570 33\n0.217225 125\n0.001569 905\n0.000116 133\n0.000467 326\n0.000292 66\n1.746874 25\n0.307525 74\n0.000124 8\n0.162323 1\n1.980725 1\n0.000081 1\n0.000067 4\n0.167961 2\n0.160139 4\n0.175427 1\n0.184276 100\n0.193160 4\n0.223887 25\n0.343991 74\n0.000035 8\n0.193988 28\n0.420254 28\n0.192274 32\n0.072619 21\n0.000103 1\n0.151327 28\n0.167862 3\n0.128150 28\n0.133241 30\n0.045803 21\n0.000016 3\n0.109095 28\n0.079135 28\n0.736792 67\n0.127679 28\n0.256407 28\n0.087520 28\n0.112433 28\n0.047919 28\n0.184064 28\n0.287642 28\n0.176481 28\n0.039502 55\n0.032567 36\n0.512142 28\n0.167761 28\n0.096120 28\n0.159945 28\n0.039855 28\n0.064897 28\n0.223476 61\n0.232210 124\n0.000097 41\n0.375763 21\n0.312297 22\n0.000077 41\n0.183582 41\n0.072021 41\n0.152000 41\n0.168099 23\n0.328061 34\n0.000048 36\n0.261366 31\n0.238589 25\n0.588810 79\n0.000039 2\n0.106372 117\n0.523661 176\n0.039188 74\n0.861624 65\n0.146510 65\n0.160318 65\n0.151864 65\n0.144076 66\n0.128103 1\n0.231903 136\n0.654551 128\n0.141184 103\n0.000032 68\n0.150598 126\n0.153101 67\n0.151077 207\n0.144626 3\n0.351253 47\n0.639268 399\n0.005101 75\n0.796805 65\n0.156261 65\n0.159896 1\n2.335359 2\n0.592014 4\n0.546039 2\n0.296015 4\n0.191916 1\n0.144075 291\n0.723293 10\n0.901643 809\n0.001682 65\n0.300071 118\n0.456873 112\n0.032403 65\n0.002235 75\n0.311523 64\n0.237146 65\n0.391714 8\n0.335663 1\n0.311573 1\n0.271620 1\n0.200070 1\n0.176389 1\n0.183668 71\n0.840415 18\n0.512137 1\n0.151511 1\n10.872297 1\n0.239759 15\n0.669452 73\n0.000043 32\n0.213190 118\n0.735224 177\n0.048513 18\n16.885467 71\n0.072604 181\n0.288978 2\n0.213978 26\n0.433355 2\n0.145548 43\n0.295596 33\n0.000386 7\n0.021208 51\n0.000013 143\n0.000289 339\n0.000015 2\n0.000010 96\n0.020621 24\n0.619011 29\n0.146252 1189\n1.577049 105\n1.463953 29\n0.000184 45\n0.309845 1535\n0.571520 65\n2.727113 6\n0.325117 1\n0.103583 1\n0.500159 1\n0.050385 1\n0.051428 1\n0.050550 1\n0.050812 1\n0.050885 1\n0.050942 1\n0.050398 1\n0.053381 1\n0.050509 1\n0.050849 1\n0.050309 1\n0.050304 1\n0.049629 1\n0.050741 1\n0.050132 1\n0.050935 1\n0.051097 1\n0.050596 69\n0.353317 31\n0.165176 31\n0.167526 31\n0.159880 31\n0.488147 118\n0.341280 112\n0.048795 65\n0.012024 75\n0.269618 3\n0.164299 3\n0.499840 3\n0.050546 2\n0.051451 1\n0.174184 3\n0.391975 73\n0.450787 32\n0.184698 32\n0.127995 32\n0.119702 32\n0.128478 118\n0.686066 112\n0.054710 65\n0.012871 181\n1.507867 2\n0.317999 26\n0.129499 2\n0.199699 36\n0.264047 7\n0.000012 33\n0.000261 284\n0.021354 97\n0.561540 86\n0.251744 86\n0.735714 97\n0.137313 97\n0.368870 86\n0.159641 86\n0.550985 97\n0.159873 97\n0.595164 86\n0.160117 86\n0.387600 97\n0.596747 97\n0.502603 59\n0.823993 96\n0.052145 24\n0.340988 29\n0.145681 33\n0.577328 125\n0.001155 914\n0.000498 167\n0.000029 497\n0.000491 71\n0.955866 18\n3.799621 71\n0.048327 18\n0.695741 105\n0.267339 29\n0.000036 45\n0.220773 996\n0.866996 64\n2.064225 64\n0.189814 64\n0.176254 64\n0.207698 64\n0.223792 64\n0.184310 64\n0.208043 65\n0.192077 230\n0.388298 770\n0.000044 244\n0.000620 65\n4.314545 47\n1.045209 266\n0.000113 230\n0.683577 746\n0.000112 159\n0.000099 80\n0.000565 201\n4.378920 866\n0.000561 64\n0.864727 661\n0.474621 213\n0.000047 64\n0.523267 65\n0.496578 64\n0.051470 64\n0.050293 64\n0.051826 64\n0.050460 64\n0.050767 64\n0.051307 64\n0.051151 64\n0.049923 64\n0.049240 65\n0.051632 63\n0.048269 63\n0.151696 61\n0.208268 65\n0.797349 3\n0.084584 28\n0.043547 28\n0.164644 28\n0.063814 28\n0.232702 28\n0.079555 28\n0.088025 28\n0.127866 117\n0.493681 175\n0.038570 219\n0.448339 1\n0.001887 579\n0.000032 142\n0.000033 67\n0.000523 25\n0.000022 3\n0.000324 212\n0.000060 146\n0.000308 40\n0.517157 197\n1.311403 869\n0.000576 68\n1.415758 73\n9.699318 64\n0.165159 64\n0.152036 64\n0.144391 64\n0.135624 65\n0.223580 25\n0.352236 148\n0.000036 1\n0.168423 28\n0.644510 51\n0.079705 3\n0.088133 28\n0.079827 28\n0.160341 28\n0.031939 55\n0.144071 28\n0.112478 4\n0.599249 28\n0.216362 4\n0.424052 28\n0.263854 28\n0.183637 28\n0.072168 4\n0.401056 4\n0.103430 28\n0.176845 28\n0.150795 28\n0.040325 66\n0.031822 28\n0.363540 35\n0.316499 155\n0.000773 8\n0.147246 28\n1.003685 3\n0.112165 2\n0.239913 1\n0.256647 24\n0.103705 21\n0.000046 1\n0.103873 28\n0.056393 28\n0.168102 28\n0.055465 55\n0.140247 28\n0.051371 28\n0.200349 28\n0.103942 28\n0.087904 28\n0.040454 28\n0.391788 28\n3.008874 28\n0.055364 28\n0.103813 28\n0.071903 28\n0.112120 28\n0.087981 28\n0.232117 28\n0.264079 28\n0.039725 28\n0.352702 28\n0.223632 28\n0.056251 28\n0.223886 28\n0.215971 31\n0.133078 4\n0.676928 118\n0.057295 112\n0.038730 65\n0.004952 75\n0.568357 71\n2.002710 18\n14.711790 71\n0.073514 15\n17.702589 67\n0.368787 104\n0.161606 1\n0.000265 151\n0.000115 67\n0.082034 25\n0.943205 74\n0.000037 64\n0.920271 186\n0.801675 243\n0.120062 3\n0.119566 47\n0.968366 293\n0.000853 73\n0.430539 64\n0.339373 186\n0.692771 120\n0.112323 123\n0.000034 115\n0.211536 173\n0.038015 143\n0.506203 837\n0.000112 186\n0.000121 67\n0.000506 40\n0.509084 43\n0.221543 253\n0.000037 196\n0.607766 683\n0.000533 64\n0.411648 64\n0.500701 63\n0.050729 63\n0.050695 63\n0.050792 63\n0.051772 64\n0.049934 63\n0.052955 62\n0.049862 61\n0.050955 1376\n0.057504 64\n0.044008 64\n0.398430 64\n0.499950 64\n0.050457 64\n0.050645 64\n0.051987 65\n0.051183 64\n0.050015 64\n0.050113 64\n0.049681 64\n0.051682 61\n0.050302 194\n0.326566 1\n0.000074 31\n0.000050 1\n0.000360 1\n0.000065 160\n0.000164 1\n0.000058 228\n0.000055 1\n0.000168 1\n0.000211 153\n0.000066 1\n0.000141 120\n0.000224 81\n0.000301 64\n0.744989 64\n0.503227 63\n0.050948 63\n0.049890 63\n0.051076 63\n0.051947 64\n0.050250 63\n0.051687 62\n0.050821 61\n0.050471 306\n0.055936 780\n0.000044 290\n0.000534 64\n0.611196 64\n0.431325 25\n0.553401 50\n0.000031 132\n0.000030 4\n0.507029 1\n0.000081 1\n0.000053 22\n0.000340 28\n0.000264 65\n0.532848 3\n0.787068 117\n0.696374 12\n0.344098 64\n0.174258 122\n0.074231 65\n0.144092 65\n0.367471 4\n0.312171 1\n0.000233 65\n0.131601 118\n0.420408 3\n0.255548 41\n0.056216 41\n0.232125 41\n0.111665 41\n0.040037 41\n0.272048 41\n0.142135 41\n0.105997 3\n0.056014 41\n0.071890 41\n0.127938 41\n0.120174 41\n0.135900 41\n0.080444 41\n0.119667 41\n0.176074 41\n0.014929 41\n0.233379 1\n0.103570 41\n0.072236 41\n0.111721 41\n0.184330 41\n0.139909 41\n0.124551 41\n0.103584 41\n0.352011 118\n0.459337 177\n0.040389 301\n2.034891 326\n0.000044 437\n0.000892 64\n0.592902 64\n0.154779 64\n0.151897 64\n0.127597 64\n0.143527 64\n0.144290 65\n0.231276 64\n1.151718 28\n0.323698 28\n0.184288 28\n0.127706 2\n0.127934 52\n0.000053 28\n0.168648 28\n0.976434 28\n0.070708 53\n0.104247 34\n0.176289 58\n0.328180 35\n0.143765 4\n0.143885 4\n0.120308 28\n1.391836 28\n0.143863 28\n0.056240 28\n0.176242 28\n0.071583 28\n0.512102 28\n0.247966 28\n0.048179 3\n1.239744 28\n0.176325 100\n0.328220 1\n0.218539 28\n0.228033 28\n0.120941 28\n0.047960 54\n0.136192 28\n0.072015 28\n0.463961 28\n0.119449 28\n0.184208 28\n0.048168 28\n0.447956 28\n0.168397 28\n0.111978 28\n0.032161 28\n0.167827 28\n0.032536 28\n0.071302 28\n0.016664 3\n0.200688 28\n0.086337 3\n0.080752 620\n0.394992 499\n0.000093 35\n0.000559 154\n0.000349 157\n0.000034 40\n0.510337 62\n0.682746 63\n0.499665 63\n0.050626 63\n0.050421 64\n0.050651 63\n0.050822 63\n0.050463 64\n0.051100 64\n0.050722 64\n0.051032 64\n0.048934 64\n0.050379 64\n0.050978 64\n0.054205 65\n0.177090 3\n0.111213 3\n0.500760 3\n0.050195 3\n0.050090 3\n0.050594 3\n0.048293 2\n0.051228 1\n0.050541 3\n0.049358 3\n0.049928 3\n0.050212 3\n0.050740 3\n0.052716 3\n0.049063 2\n0.051487 1\n0.050286 3\n0.050980 3\n0.050943 3\n0.050794 3\n0.050662 3\n0.181363 69\n0.687661 28\n0.272038 28\n0.184096 28\n0.095643 55\n0.145925 28\n0.078515 66\n0.104190 28\n0.191937 28\n0.039657 28\n0.176939 28\n0.079109 28\n0.416839 28\n0.350091 28\n0.011906 28\n0.281703 408\n0.403116 233\n0.000094 436\n0.000037 64\n0.432693 64\n0.492945 64\n0.052150 64\n0.049924 64\n0.051297 64\n0.324519 66\n0.214777 50\n0.681143 50\n0.007262 21\n0.000108 18\n0.816022 3\n0.669155 1\n0.298420 3\n0.288342 3\n0.511062 3\n0.041601 3\n0.050992 3\n0.050731 3\n0.050721 2\n0.050222 1\n0.049669 3\n0.051460 3\n0.050177 3\n0.050411 3\n0.050412 3\n0.049990 3\n0.050511 2\n0.050281 1\n0.050657 3\n0.050610 3\n0.050543 3\n0.049856 3\n0.050565 3\n0.050621 3\n0.050091 105\n0.052518 50\n0.305671 66\n0.422317 8\n0.212424 50\n0.761663 71\n0.004451 18\n0.537562 1\n0.500769 1\n0.049832 1\n0.050735 1\n0.050192 1\n0.050806 1\n0.121451 1\n0.223988 1\n0.143944 1\n0.160036 1\n0.191964 1\n0.119999 1\n0.136210 1\n0.143895 32\n0.461174 32\n0.143647 32\n0.168421 32\n0.191913 620\n0.435102 298\n0.000081 541\n0.000687 40\n0.514066 62\n0.282544 63\n0.496004 63\n0.049474 63\n0.050778 64\n0.050165 63\n0.050241 63\n0.050881 64\n0.051495 64\n0.050645 64\n0.050835 64\n0.050903 64\n0.050378 64\n0.050687 64\n0.050426 65\n0.050470 64\n0.051278 64\n0.050530 64\n0.050052 64\n0.051189 61\n0.050744 190\n0.054941 652\n0.000045 195\n0.000071 65\n0.852522 1\n0.391556 65\n0.259664 1\n0.092240 33\n0.373341 181\n0.499978 45\n0.053748 45\n0.047077 45\n0.050500 45\n0.050467 56\n0.049978 1\n0.000538 1\n0.000192 21\n0.000080 13\n0.049311 1\n0.000073 1\n0.000045 45\n0.000060 33\n0.049773 33\n0.054653 33\n0.051103 33\n0.050244 33\n0.051142 62\n0.087261 39\n0.013965 33\n0.050496 33\n0.050117 33\n0.105911 30\n0.640014 30\n0.071698 30\n0.136197 30\n0.023889 30\n0.431822 30\n0.280493 30\n0.111942 30\n0.063980 30\n0.192210 30\n0.055727 30\n0.056120 30\n0.016151 118\n0.685151 177\n0.070522 181\n0.769428 2\n0.261918 26\n0.137335 2\n0.167573 36\n0.280848 168\n0.000015 236\n0.000262 38\n0.000120 96\n0.016376 24\n0.821718 29\n0.153306 33\n0.713400 125\n0.001067 925\n0.000620 36\n0.000028 326\n0.000453 93\n0.458406 1055\n0.000052 3\n0.000748 272\n0.000041 64\n0.455523 64\n0.494974 64\n0.049920 64\n0.049624 64\n0.050725 64\n0.049860 64\n0.050874 65\n0.050264 64\n0.066514 64\n0.035844 64\n0.051588 64\n0.049752 63\n0.050896 63\n0.050804 63\n0.050520 63\n0.051336 64\n0.365972 68\n0.320420 117\n0.312432 111\n0.045119 64\n0.002949 181\n0.167934 2\n0.190246 26\n0.089025 2\n0.217519 43\n0.295144 33\n0.000308 7\n0.021130 51\n0.000013 123\n0.000261 215\n0.000086 96\n0.020453 24\n0.787983 29\n0.465081 33\n1.241489 125\n0.002355 1656\n0.000505 9\n0.986055 852\n0.000050 1\n0.000027 188\n0.000029 90\n1.308468 1053\n0.000130 274\n0.000041 8\n0.845379 1\n0.000871 289\n0.000033 404\n0.000029 159\n0.000272 2\n0.000326 183\n0.000030 62\n0.526635 63\n0.500680 63\n0.050052 64\n0.054038 63\n0.050887 63\n0.050706 63\n0.050906 64\n0.049456 64\n0.050131 64\n0.574842 3\n0.054833 3\n0.500199 3\n0.050660 3\n0.050871 3\n0.051242 3\n0.051254 2\n0.050245 1\n0.050666 3\n0.050701 3\n0.051702 3\n0.050410 3\n0.052153 3\n0.049504 3\n0.051036 2\n0.050395 1\n0.051586 3\n0.050321 3\n0.051934 3\n0.050508 3\n0.051092 3\n0.263820 34\n0.168508 59\n0.000015 32\n0.079027 32\n0.428591 32\n0.096555 61\n0.086700 31\n0.344439 31\n0.136451 31\n0.135916 31\n0.143257 31\n0.152594 31\n0.127979 31\n0.135610 31\n0.112007 118\n0.205040 112\n0.033277 65\n0.001173 46\n0.172560 135\n0.001773 2\n0.269754 26\n0.305513 2\n0.135462 36\n0.323377 7\n0.000012 33\n0.000260 284\n0.021399 97\n0.638108 86\n0.178069 86\n0.444043 97\n0.133358 97\n0.378490 86\n0.199498 86\n0.333341 59\n0.495797 96\n0.033603 24\n0.219297 29\n0.129682 1476\n0.210378 52\n6.866679 1370\n0.000582 64\n0.728872 64\n0.494244 64\n0.050633 64\n0.051248 64\n0.049859 64\n0.050524 64\n0.049776 66\n0.454700 65\n0.357366 4\n0.203614 25\n0.383743 156\n0.000037 65\n0.255273 28\n0.308233 28\n0.135981 28\n0.192918 55\n0.047399 3\n0.240796 28\n0.054984 3\n0.272112 45\n0.080131 34\n0.128231 3\n0.088547 203\n0.159650 41\n0.408130 41\n0.311823 41\n0.207844 41\n0.105146 41\n0.055226 90\n0.296207 145\n0.343979 124\n0.001204 42\n0.012401 15\n1.048281 125\n0.278322 1\n0.000687 24\n0.490928 7\n0.152299 7\n0.143584 7\n0.136248 5\n0.147634 137\n2.028266 2\n0.267473 118\n0.664720 177\n0.040088 18\n4.126033 105\n0.724478 29\n0.000038 84\n1.056591 18\n1.018815 71\n0.088540 18\n18.023364 71\n0.032573 25\n8.256636 59\n0.000084 51\n0.491554 3\n0.136021 28\n0.096042 28\n0.168075 28\n0.048094 55\n0.112107 28\n0.079869 28\n0.112458 28\n0.151781 28\n0.175806 28\n0.072360 28\n0.119538 28\n0.177071 2\n0.175356 28\n0.231925 28\n0.487870 3\n0.176081 28\n0.183836 8\n1.088211 28\n0.199801 28\n0.088065 53\n0.095953 28\n0.248148 28\n0.160138 28\n0.160334 28\n0.079952 55\n0.087569 28\n0.103843 28\n0.345316 28\n0.239437 28\n0.031535 28\n0.208233 28\n0.104061 28\n0.531672 28\n0.372511 28\n0.031479 36\n0.304240 8\n1.002130 118\n0.082019 112\n0.060831 65\n0.003326 25\n4.729117 59\n0.000122 118\n2.726821 177\n0.049467 76\n3.919787 65\n0.142868 65\n0.152013 65\n0.152279 65\n0.143820 64\n0.144161 64\n0.135860 63\n0.143031 63\n0.128193 64\n0.272663 74\n0.242351 904\n0.000046 192\n0.000324 184\n0.831268 71\n0.000050 1\n0.364073 877\n0.000075 187\n0.000487 54\n0.134322 857\n0.000151 257\n0.000579 94\n0.000402 263\n0.000036 64\n0.576395 64\n0.493348 64\n0.051082 64\n0.050310 64\n0.049967 64\n0.051488 64\n0.050814 65\n0.050202 64\n0.050962 64\n0.050634 64\n0.050923 64\n0.051148 63\n0.049726 63\n0.051109 63\n0.049809 63\n0.049888 63\n0.050144 65\n0.269099 65\n0.329240 24\n0.319027 146\n0.000038 64\n0.178436 28\n0.464332 28\n0.184058 28\n0.695987 2\n0.096213 52\n0.000030 28\n0.087428 28\n0.632523 4\n0.639972 28\n0.239962 28\n0.079992 53\n0.232288 55\n0.001517 46\n0.001474 48\n0.580782 28\n0.223952 28\n0.144194 28\n0.200027 28\n0.072235 28\n0.079499 28\n0.144431 28\n0.071795 28\n0.047841 28\n0.152328 3\n0.567860 3\n0.176280 1\n0.416248 28\n0.127592 3\n0.096142 28\n0.215799 28\n0.160287 28\n0.112188 47\n0.087436 117\n0.437137 175\n0.049571 73\n0.176144 63\n0.498431 64\n0.049787 65\n0.050966 65\n0.050803 65\n0.050923 65\n0.050805 65\n0.050553 63\n0.219721 65\n0.239763 8\n0.344293 25\n0.507313 148\n0.000283 8\n0.210784 28\n0.477189 28\n0.184195 28\n0.055509 55\n0.120288 28\n0.064014 28\n0.224440 28\n0.104486 53\n0.111414 34\n0.587195 28\n0.452894 28\n0.240246 28\n0.416595 28\n0.110677 28\n0.072342 28\n0.160161 28\n0.200106 28\n0.007827 28\n0.216203 2\n0.144827 28\n0.175210 3\n0.096148 184\n3.736142 431\n0.508050 41\n2.596313 41\n0.119470 41\n0.040529 41\n0.039693 90\n0.312209 320\n0.507835 28\n1.555787 28\n0.976379 28\n0.184415 28\n0.040199 55\n0.136095 28\n0.194431 28\n1.308822 28\n0.087940 28\n0.200204 28\n0.023803 28\n0.400111 28\n0.191929 28\n0.104322 28\n0.217554 66\n0.110428 28\n0.048245 28\n0.055889 28\n0.056458 28\n0.431505 28\n0.839970 28\n0.176572 28\n0.079402 55\n0.079735 28\n0.111961 28\n0.096152 28\n0.200064 28\n0.377996 28\n0.198612 28\n0.087800 28\n0.095308 65\n0.482076 256\n0.295238 8\n0.099402 28\n0.723702 3\n0.087961 45\n0.168982 1\n0.070055 28\n0.107352 28\n0.254103 28\n0.144114 55\n0.095816 28\n0.112210 28\n0.087837 28\n0.136173 28\n0.088436 28\n0.079558 28\n0.087972 28\n0.072071 3\n0.144885 28\n0.303548 3\n0.327744 28\n0.327769 28\n0.064017 53\n0.128844 28\n0.223184 28\n0.140520 28\n0.132571 28\n0.079081 55\n0.088036 28\n0.096609 28\n0.384838 28\n0.073181 28\n0.613624 28\n0.159971 28\n0.079684 28\n0.216898 4\n0.362965 28\n0.235378 28\n0.314721 28\n0.056289 36\n0.332930 65\n0.760914 8\n0.226032 4\n0.296313 4\n0.197287 4\n0.119913 4\n0.135857 4\n0.144041 4\n0.135913 4\n0.128390 37\n0.135967 4\n0.143465 4\n0.144591 4\n0.143446 28\n0.736080 31\n0.238808 8\n0.698957 118\n0.065206 112\n0.042499 65\n0.004729 181\n7.290062 8\n0.406988 2\n0.443505 1\n0.000031 28\n0.703882 28\n0.135820 28\n0.152293 55\n0.063655 117\n0.668763 111\n0.042759 65\n0.000665 88\n8.948615 4\n0.139566 28\n0.175964 55\n0.063480 169\n1.057040 28\n0.006166 35\n0.561593 109\n0.000037 65\n0.107903 28\n1.211771 3\n0.071908 45\n0.352611 1\n0.160161 28\n0.103513 28\n0.160026 28\n0.073380 55\n0.094984 28\n0.103646 28\n0.144023 28\n0.120054 28\n0.119974 28\n0.183965 28\n0.216065 4\n0.416169 28\n0.175892 28\n0.079514 3\n0.288383 116\n1.291914 175\n0.056277 73\n3.128326 61\n0.733938 62\n0.153451 1\n0.286235 67\n0.701697 47\n0.424742 176\n0.001141 75\n0.568376 62\n0.161323 7\n0.405016 89\n0.000034 183\n1.293238 15\n0.780595 115\n0.057448 109\n0.045107 65\n0.003312 69\n11.187454 61\n0.115989 65\n0.216155 65\n0.168459 65\n1.591407 1\n0.351237 1\n0.500073 1\n0.050640 1\n0.051277 1\n0.050781 1\n0.050263 1\n0.051717 1\n0.049483 1\n0.050120 1\n0.050635 1\n0.050906 1\n0.051781 1\n0.051078 1\n0.050434 1\n0.050692 1\n0.051569 1\n0.050778 1\n0.049640 1\n0.051226 1\n0.050716 65\n1.290196 65\n0.393011 1\n0.238516 64\n0.767747 7\n0.272820 25\n0.589024 148\n0.000042 47\n0.856545 176\n0.001774 15\n0.944403 67\n0.653697 142\n0.144652 101\n0.000089 3\n0.110524 8\n0.451802 28\n2.436084 28\n0.095982 28\n0.048056 4\n0.516126 4\n0.124092 12\n0.135823 28\n0.303597 28\n0.088498 28\n0.087721 28\n0.416323 3\n0.256036 30\n0.144271 21\n0.000044 3\n0.143665 28\n3.713033 28\n0.015093 28\n0.424050 34\n0.095837 21\n0.002130 37\n1.262564 4\n0.160140 4\n0.135286 8\n0.165784 28\n0.090345 28\n0.063582 28\n0.216429 28\n0.103729 28\n0.087557 28\n0.088421 28\n0.048263 28\n0.135695 28\n1.513255 28\n0.167260 28\n0.055742 28\n0.064202 28\n1.240634 44\n0.511414 28\n2.223790 28\n0.168343 28\n0.392082 34\n0.127726 21\n0.001246 28\n0.887804 4\n0.903331 37\n0.128030 4\n0.143929 4\n0.136009 4\n0.119809 61\n0.184886 124\n0.000096 41\n0.271339 41\n0.096031 41\n0.135913 41\n0.215731 23\n0.240510 76\n0.001172 28\n0.239524 54\n0.378527 124\n0.000123 336\n0.511811 1\n0.438790 1\n0.500607 1\n0.050337 1\n0.051007 1\n0.050486 1\n0.050875 1\n0.050673 1\n0.050096 1\n0.227751 43\n0.254519 29\n0.000070 43\n0.134988 29\n0.000041 43\n0.144530 29\n0.000059 43\n0.135618 29\n0.000074 42\n0.128087 29\n0.000107 42\n0.031889 29\n0.000087 42\n0.111803 29\n0.000096 42\n0.071871 29\n0.000098 118\n0.635409 177\n0.043299 18\n0.883142 105\n0.228663 29\n0.000136 45\n0.251475 1550\n0.387942 24\n1.564017 1006\n0.000771 100\n0.961744 29\n0.000727 45\n0.262552 1963\n0.627464 2\n1.043543 116\n1.145451 263\n0.511664 28\n0.108137 28\n0.159994 28\n0.183875 4\n0.584355 28\n0.311847 34\n0.097438 21\n0.000048 28\n0.126396 28\n0.936231 28\n0.152190 28\n0.152961 28\n0.046652 28\n0.361098 28\n0.199254 28\n0.103726 28\n0.405436 28\n0.126305 28\n0.044241 28\n0.080215 28\n0.032511 28\n0.303503 28\n0.272039 31\n0.326919 44\n0.383760 8\n1.001906 118\n0.130235 177\n0.035095 75\n0.435022 62\n0.209427 61\n0.264295 57\n0.510592 62\n0.369644 61\n0.152090 65\n0.127788 1\n0.222712 67\n0.690111 47\n0.952043 109\n0.005132 21\n0.000104 75\n0.815973 62\n0.313433 61\n0.192218 4\n0.581868 4\n0.500342 4\n0.051123 4\n0.049404 4\n0.051142 4\n0.051327 4\n0.048924 4\n0.051097 4\n0.050562 4\n0.050560 4\n0.049916 4\n0.050057 4\n0.050863 4\n0.051072 4\n0.049835 4\n0.050407 37\n0.086796 4\n0.013436 4\n0.050394 4\n0.050846 4\n0.051000 180\n0.050367 43\n0.050026 43\n0.050568 43\n0.050434 43\n0.050548 78\n0.049952 1\n0.050651 7\n0.052129 1\n0.049110 4\n0.051244 4\n0.050388 4\n0.050256 4\n0.050482 4\n0.050487 4\n0.050519 4\n0.050907 4\n0.049750 4\n0.050884 58\n0.050753 35\n0.051105 4\n0.050704 4\n0.051474 4\n0.050824 37\n0.050935 4\n0.051468 4\n0.193322 12\n0.168674 2\n0.167432 1\n0.000028 4\n0.176530 2\n0.183564 4\n0.287958 1\n0.359463 45\n0.713123 130\n0.004105 15\n0.325536 115\n0.073833 174\n0.038686 15\n0.351828 1\n0.500432 1\n0.050786 1\n0.051277 1\n0.050345 1\n0.051747 1\n0.049869 1\n0.050962 1\n0.050293 1\n0.050317 1\n0.051147 1\n0.050541 1\n0.050578 1\n0.049990 1\n0.050386 1\n0.050444 1\n0.050634 1\n0.050621 1\n0.050202 1\n0.050547 1\n0.050716 1\n0.050017 1\n0.050181 1\n0.050330 1\n0.050439 1\n0.049315 1\n0.051326 1\n0.049626 1\n0.338778 70\n0.419218 32\n0.155915 32\n0.071661 32\n0.161068 32\n0.047014 32\n0.786651 32\n0.061375 3\n0.353320 3\n0.288012 2\n0.175992 1\n0.152058 3\n0.183741 3\n0.184091 3\n0.128137 3\n0.216157 3\n0.167959 3\n0.151426 2\n0.144462 1\n0.144057 3\n0.151955 31\n1.281235 31\n0.133509 31\n0.151515 31\n0.160566 31\n0.152867 31\n0.152366 31\n0.143201 46\n0.151004 44\n0.160124 42\n0.147908 40\n0.140475 38\n0.135700 36\n0.463737 36\n0.320360 36\n0.031859 36\n0.192147 36\n0.087910 36\n0.280144 36\n0.264122 36\n0.031725 115\n0.434756 109\n0.040836 65\n0.004283 69\n5.706354 61\n0.160207 62\n0.679685 61\n0.592438 65\n0.129451 65\n0.159263 65\n0.144249 65\n0.151693 25\n0.369641 148\n0.000476 2\n0.046518 28\n0.241983 28\n0.063938 28\n0.160282 28\n0.071654 65\n0.168113 56\n0.001917 47\n0.002326 64\n0.228291 2\n0.112706 202\n0.383332 194\n0.120142 65\n0.552803 65\n0.155208 65\n0.143640 65\n0.143958 65\n0.151834 65\n0.143905 107\n0.220589 794\n0.000105 231\n0.000030 206\n0.000028 262\n0.000299 65\n0.307472 8\n0.271709 136\n0.263050 8\n0.186104 3\n0.315804 44\n0.509250 118\n0.070318 112\n0.039895 65\n0.005452 75\n0.407133 65\n0.495725 64\n0.050200 64\n0.050939 64\n0.050560 64\n0.050553 64\n0.050042 64\n0.050929 65\n0.050835 40\n0.051041 1\n0.000075 1\n0.000047 21\n0.000054 51\n0.060149 854\n0.000042 770\n0.000665 65\n0.040539 65\n0.050057 65\n0.214609 65\n0.500246 65\n0.050874 65\n0.050024 66\n0.051746 65\n0.049752 65\n0.050007 65\n0.050504 65\n0.051034 65\n0.249821 65\n0.183907 63\n0.183981 4\n0.222081 1\n0.000074 101\n0.000102 1\n0.000047 102\n0.000049 1\n0.000045 61\n0.000063 1\n0.000043 48\n0.000043 1\n0.000042 471\n0.000056 1\n0.000042 108\n0.000054 6\n0.000205 1\n0.000053 224\n0.000048 1\n0.000043 149\n0.000047 240\n0.000178 71\n0.984350 18\n3.671513 71\n0.032966 18\n1.423003 71\n0.048433 25\n7.249149 59\n0.000035 28\n0.195883 28\n0.095924 55\n0.103989 28\n0.992473 4\n1.255880 1\n0.167844 1\n0.000076 1\n0.000052 33\n0.000062 4\n0.151751 4\n0.144111 4\n0.136008 2\n0.000971 28\n1.271019 28\n0.039640 28\n0.569211 28\n0.102968 28\n0.396424 3\n0.107505 54\n0.000081 2\n0.104044 28\n0.319999 28\n0.087867 28\n0.136298 28\n0.151824 28\n0.232054 118\n1.619975 177\n0.047552 18\n0.759122 105\n0.292617 29\n0.000035 45\n0.458359 44\n1.072961 43\n0.416055 1372\n0.403681 976\n0.676251 309\n0.000043 103\n1.875935 29\n0.000037 45\n0.307872 1686\n1.864249 66\n1.289799 28\n0.131445 28\n0.073552 28\n0.063041 28\n0.071568 28\n0.351953 1\n1.306638 1\n0.501115 1\n0.049773 1\n0.050697 1\n0.050394 1\n0.050484 1\n0.050112 1\n0.051065 1\n0.050574 1\n0.051315 1\n0.050431 232\n0.729752 60\n0.128174 60\n0.063855 60\n0.136095 60\n0.112083 101\n0.224315 32\n0.185302 8\n0.560860 28\n0.941562 28\n0.063819 28\n0.184541 28\n0.055694 34\n0.359577 3\n0.610013 118\n0.049583 112\n0.039848 65\n0.004974 181\n2.898781 2\n0.382093 26\n0.129488 2\n0.281635 36\n0.310839 7\n0.000013 33\n0.000262 284\n0.021429 97\n0.550576 2235\n0.596551 867\n0.000404 465\n2.647688 96\n0.025017 24\n0.306786 2\n0.274473 36\n0.294078 7\n0.000013 33\n0.000303 284\n0.021454 97\n0.527086 86\n0.133271 2235\n0.564916 865\n0.000384 7\n1.513385 46\n0.000030 772\n0.019122 96\n0.071996 24\n0.596784 2\n0.291863 36\n0.282638 7\n0.000013 33\n0.000305 284\n0.021455 97\n0.529053 86\n0.177211 2048\n0.451016 187\n0.000037 865\n0.000262 79\n2.446490 98\n0.443581 88\n0.072347 79\n0.072627 79\n0.072710 79\n0.071904 79\n0.073530 99\n0.074488 71\n0.072543 95\n0.225571 75\n0.435393 76\n0.145061 95\n0.214507 85\n1.011117 76\n0.214971 76\n0.151804 76\n0.143269 146\n0.144890 118\n0.978035 77\n0.157863 7\n17.311487 12\n0.000126 34\n0.000147 34\n0.001927 2\n0.000068 85\n0.000061 2\n0.000067 20\n0.000054 2\n0.000045 86\n0.000056 2\n0.000045 36\n0.000077 2\n0.000049 89\n0.000131 2\n0.000046 35\n0.000056 2\n0.000044 89\n0.000061 2\n0.000072 23\n0.000056 2\n0.000047 89\n0.000062 2\n0.000057 38\n0.000055 2\n0.000045 95\n0.000072 2\n0.000065 33\n0.000055 2\n0.000045 17\n0.000053 2\n0.000055 2\n0.000088 96\n0.069081 24\n0.839221 29\n0.297713 33\n0.649078 125\n0.002612 984\n0.000401 484\n0.000156 377\n0.000201 103\n0.863201 29\n0.000035 43\n0.299368 47\n0.528227 44\n0.415942 44\n0.503768 46\n0.455980 50\n0.454174 107\n0.001260 868\n0.000046 3\n0.000547 361\n0.000032 110\n0.000464 410\n0.000103 150\n0.653103 755\n0.000051 326\n0.000028 216\n0.000792 119\n0.000026 25\n0.457581 885\n0.000410 93\n0.000318 94\n0.046075 858\n0.000051 364\n0.000631 607\n0.056261 440\n0.000089 566\n0.000782 597\n0.049648 1\n0.000491 113\n0.000168 1\n0.000205 110\n0.000169 1\n0.000203 72\n0.000171 1\n0.000196 44\n0.000179 2\n0.000364 1\n0.000159 449\n0.000165 91\n0.000354 1\n0.000189 44\n0.000140 1\n0.000161 139\n0.000240 85\n0.040913 888\n0.000098 115\n0.000030 456\n0.000484 1\n0.076347 228\n0.000078 1\n0.000058 162\n0.001008 1\n0.000063 140\n0.000053 1\n0.000149 1\n0.000046 1\n0.000045 31\n0.000060 1\n0.000056 151\n0.000174 1\n0.000058 94\n0.000061 1\n0.000201 1\n0.000044 63\n0.000046 1\n0.000045 38\n0.000070 2\n0.000309 1\n0.000058 191\n0.000176 104\n0.000867 1\n0.000065 193\n0.000052 1\n0.000174 113\n0.000071 94\n0.037046 1\n0.000077 56\n0.000050 1\n0.000047 157\n0.000270 1\n0.000048 43\n0.000159 1\n0.000127 358\n0.000300 1\n0.000059 39\n0.000048 1\n0.000141 196\n0.000067 127\n0.000360 1\n0.000056 87\n0.000050 1\n0.000140 114\n0.000152 101\n0.044650 824\n0.000044 374\n0.000014 316\n0.023446 482\n0.000018 1\n0.048697 24\n0.001327 25\n0.000016 1\n0.051297 1\n0.051234 1\n0.052997 1\n0.049246 1\n0.050760 1\n0.050869 77\n0.260302 1281\n0.000751 101\n2.815395 29\n0.000035 45\n0.331825 46\n0.503986 45\n1.216503 44\n31.799579 1529\n0.639620 224\n0.734194 660\n0.000062 327\n0.626887 1064\n0.000595 472\n0.163554 540\n0.000037 105\n0.000096 151\n0.000039 440\n0.000097 4\n0.178968 1\n0.000074 108\n0.000057 1\n0.000049 1\n0.000046 31\n0.000288 1\n0.000080 1\n0.000157 211\n0.000135 1\n0.000113 1\n0.000126 128\n0.000161 1\n0.000063 206\n0.000058 1\n0.000193 1\n0.000158 48\n0.000127 1\n0.000119 1\n0.000174 90\n0.000091 1\n0.000111 1\n0.000122 77\n0.000115 6\n0.000253 1\n0.000053 171\n0.000060 299\n0.000419 1\n0.000056 183\n0.000051 143\n0.491902 808\n0.000053 90\n0.000023 60\n0.000022 191\n0.000503 182\n0.049493 770\n0.000121 62\n0.000036 284\n0.000450 333\n0.049648 598\n0.000039 3\n0.000071 391\n0.000664 517\n0.049484 493\n0.000043 446\n0.000033 941\n0.050197 464\n0.000078 958\n0.052806 330\n0.000037 810\n0.049132 493\n0.000087 353\n0.000813 245\n0.052126 668\n0.000109 209\n0.000027 2\n0.000074 1\n0.001571 294\n0.000034 5\n0.050230 986\n0.000047 387\n0.000747 65\n0.046354 831\n0.000041 76\n0.000279 152\n0.000800 98\n0.049231 1046\n0.000161 378\n0.000420 272\n0.054633 910\n0.000050 323\n0.000326 345\n0.050150 570\n0.000041 108\n0.000064 466\n0.000564 4\n0.048910 1\n0.000071 93\n0.000111 1\n0.000056 87\n0.000046 1\n0.000042 87\n0.000046 1\n0.000044 87\n0.000054 1\n0.000042 87\n0.000043 1\n0.000041 87\n0.000044 1\n0.000040 87\n0.000043 1\n0.000042 185\n0.000045 1\n0.000043 1\n0.000043 1\n0.000041 1\n0.000057 150\n0.000056 2\n0.000230 1\n0.000120 44\n0.000046 1\n0.000046 86\n0.000048 1\n0.000054 70\n0.000044 1\n0.000041 79\n0.000045 1\n0.000043 90\n0.000057 1\n0.000043 77\n0.000046 2\n0.000189 1\n0.000052 366\n0.000059 5\n0.045398 839\n0.000051 60\n0.000024 102\n0.000024 331\n0.000585 1631\n0.053484 24\n0.043607 384\n0.000046 61\n0.000027 1\n0.045487 27\n0.003215 28\n0.000292 1\n0.045964 1\n0.054255 1\n0.047343 1\n0.050563 1\n0.051101 1\n0.050897 533\n0.155525 621\n0.000039 370\n0.000618 449\n0.246938 690\n0.000090 261\n0.000783 291\n0.000104 1483\n0.456245 62\n0.802184 59\n0.429981 1013\n0.000085 453\n0.000769 62\n1.337106 63\n0.499780 64\n0.050771 63\n0.049192 63\n0.050902 63\n0.052169 63\n0.050528 64\n0.294034 64\n0.767141 65\n2.060040 65\n0.497996 65\n0.049824 62\n0.051142 65\n0.051320 66\n0.050140 62\n0.050164 65\n0.049810 65\n0.050631 65\n0.051213 65\n0.049783 65\n0.050821 61\n0.051258 5\n0.203346 947\n0.000051 174\n0.000026 331\n0.000665 65\n0.762833 65\n0.904212 64\n0.499974 64\n0.050483 64\n0.050792 64\n0.051331 64\n0.050287 64\n0.049880 65\n0.050408 61\n0.050052 59\n0.056402 862\n0.000048 3\n0.000023 191\n0.000024 3\n0.000724 413\n0.000111 62\n0.649416 65\n2.471552 66\n0.247919 62\n0.256140 25\n1.111387 155\n0.000034 13\n0.643244 33\n0.394745 22\n0.000111 33\n1.100503 7\n0.320314 8\n0.191815 5\n0.303954 206\n0.302133 3\n0.471556 147\n0.290910 8\n0.211021 28\n0.292258 28\n0.063848 28\n0.120599 28\n0.111651 28\n0.616048 208\n0.215845 41\n0.216093 41\n0.048167 41\n0.056087 41\n0.073738 96\n0.350401 10\n0.318207 21\n0.000029 4\n0.441702 75\n0.920081 3\n0.104013 28\n0.432233 8\n1.135764 28\n1.216247 28\n0.055722 28\n2.199975 28\n0.592426 28\n0.039429 28\n0.063923 28\n0.096543 115\n0.654083 109\n0.043764 146\n0.025341 46\n5.000789 135\n0.001780 2\n0.461676 26\n0.121542 2\n1.009489 36\n0.336881 7\n0.000014 33\n0.000277 284\n0.021208 97\n0.549743 86\n0.178665 2235\n0.650135 865\n0.000385 79\n0.476441 98\n0.194401 88\n0.198832 74\n0.115593 75\n0.215264 80\n0.071720 80\n0.221990 80\n0.140091 80\n0.077905 81\n0.143537 82\n0.169626 82\n0.144327 95\n0.235638 278\n0.218498 89\n0.587128 96\n0.520505 433\n0.761888 83\n0.626466 82\n0.209957 80\n0.200421 374\n0.199170 82\n0.445080 72\n0.147556 253\n0.197041 95\n0.440782 129\n1.156903 92\n0.294459 143\n0.388266 89\n0.148116 76\n1.214329 83\n0.341127 82\n0.435965 148\n0.254322 112\n0.360271 278\n1.955400 89\n0.399562 96\n0.229159 433\n1.134650 83\n0.803367 82\n0.150064 80\n0.444818 408\n0.146100 82\n0.429263 287\n0.156028 129\n1.966450 95\n0.215408 129\n0.834272 95\n0.194867 130\n0.654954 112\n0.503026 76\n0.210710 278\n2.103756 91\n0.388055 98\n0.151490 98\n0.150732 95\n0.159308 98\n0.151182 96\n0.150252 520\n0.383175 54\n0.892362 54\n0.224216 54\n0.072451 54\n0.144940 54\n0.146004 54\n0.066100 54\n0.039579 7\n0.319360 12\n0.000129 40\n0.000159 121\n0.023593 1617\n0.000574 2\n0.000029 96\n0.071468 24\n3.028848 29\n0.171882 9\n1.974634 1944\n0.005380 62\n2.257259 65\n0.402884 64\n0.207940 59\n0.208807 3\n0.590172 3\n0.152011 3\n0.184031 3\n0.143961 2\n0.327930 64\n1.672768 65\n0.152689 64\n0.192123 65\n0.183587 1\n0.231157 1\n0.191750 1\n0.184255 1\n0.144310 1\n0.135548 1\n0.151791 1\n0.104136 73\n0.221446 42\n0.565833 42\n0.128525 42\n0.104055 46\n0.103907 23\n0.000054 42\n0.168140 42\n0.151995 42\n0.033460 42\n0.414383 42\n0.128022 42\n0.248005 42\n0.319990 19\n0.048047 22\n0.000063 42\n0.040163 42\n0.096193 42\n0.400292 42\n0.183520 5\n0.507039 39\n0.000032 8\n0.129805 36\n0.754633 8\n0.388357 115\n0.023843 109\n0.043989 65\n0.014541 5\n0.507483 52\n0.000032 18\n2.873768 103\n0.308936 29\n0.000273 43\n0.300055 45\n0.669444 1732\n0.095032 102\n0.967261 29\n0.000051 41\n0.179552 43\n0.472918 1\n0.377068 49\n0.002957 2\n0.000598 1\n0.000064 53\n0.000386 1\n0.000082 39\n0.000048 1\n0.000144 147\n0.000181 1\n0.000067 161\n0.000055 1\n0.000296 1\n0.000084 274\n0.000162 1\n0.000112 1\n0.000124 60\n0.000120 1\n0.000102 56\n0.000121 1\n0.000108 1\n0.000122 1\n0.000108 106\n0.000115 116\n0.001902 2\n0.000264 1\n0.000238 199\n0.000119 1\n0.000108 269\n0.000138 4\n0.775356 1\n0.000076 88\n0.000056 1\n0.000067 53\n0.000046 1\n0.000044 65\n0.000047 1\n0.000043 85\n0.000079 1\n0.000052 40\n0.000050 1\n0.000045 367\n0.000124 1\n0.000059 38\n0.000045 1\n0.000057 26\n0.000055 1\n0.000054 1\n0.000044 66\n0.000059 2\n0.000198 1\n0.000056 328\n0.000068 240\n1.133895 884\n0.000050 105\n0.000159 300\n0.000860 5\n0.691377 84\n0.000034 1439\n0.001214 5\n0.638906 934\n0.000128 476\n0.000031 276\n0.000580 842\n0.896319 364\n0.000041 387\n0.000845 396\n0.540694 601\n0.000047 356\n0.000390 4\n0.583785 1\n0.000375 78\n0.000170 1\n0.000282 62\n0.000176 1\n0.000196 50\n0.000171 1\n0.000194 91\n0.000168 1\n0.000197 197\n0.000170 1\n0.000195 87\n0.000615 1\n0.000892 43\n0.000175 1\n0.000175 145\n0.000155 1\n0.000184 196\n0.000216 108\n0.000447 1\n0.000189 324\n0.000163 25\n1.207106 99\n0.000817 1\n0.000630 54\n0.000195 1\n0.000130 146\n0.000099 1\n0.000115 149\n0.000090 1\n0.000128 239\n0.000099 1\n0.000124 149\n0.000089 1\n0.000123 55\n0.000089 1\n0.000114 95\n0.000110 11\n0.000208 1\n0.000054 1\n0.000045 30\n0.000052 216\n0.000177 111\n1.124270 657\n0.008596 227\n0.000045 38\n0.000672 257\n0.000094 110\n0.000330 308\n0.000064 145\n0.654633 985\n0.000048 65\n0.000657 241\n0.000490 4\n0.533565 1\n0.000081 1\n0.000163 53\n0.000051 1\n0.000045 1\n0.000043 83\n0.000049 1\n0.000047 232\n0.000052 1\n0.000056 1\n0.000044 45\n0.000045 1\n0.000042 100\n0.000047 1\n0.000043 75\n0.000045 1\n0.000044 1\n0.000044 321\n0.000071 6\n0.000212 1\n0.000057 204\n0.000053 2\n0.000181 1\n0.000055 1\n0.000044 362\n0.000057 112\n0.397189 1\n0.000092 204\n0.000143 1\n0.000065 43\n0.000046 1\n0.000044 76\n0.000045 1\n0.000044 153\n0.000046 1\n0.000043 1\n0.000044 39\n0.000045 1\n0.000044 274\n0.000130 96\n0.000185 1\n0.000046 159\n0.000053 128\n0.000186 1\n0.000045 1\n0.000047 47\n0.000057 1\n0.000044 1\n0.000043 138\n0.000051 64\n2.317708 65\n0.194384 64\n0.248025 64\n1.447846 161\n3.096408 1026\n0.000052 365\n0.000706 113\n1.305198 795\n0.000054 256\n0.000029 129\n0.000575 185\n0.000061 66\n1.147868 67\n1.454098 81\n1.239489 900\n0.000046 387\n0.000618 63\n15.590556 1023\n0.000114 3\n0.000667 335\n0.000038 72\n9.580884 922\n0.000107 360\n0.000857 68\n1.368290 135\n0.081491 87\n2.702816 45\n0.295095 32\n0.239901 135\n0.026192 1\n0.803671 87\n1.499430 45\n0.318713 111\n0.390675 105\n0.046894 62\n0.015776 44\n0.522150 2\n0.000033 37\n0.000657 96\n0.000994 2\n0.187084 26\n0.145304 2\n0.153359 36\n0.294923 7\n0.000012 33\n0.000293 284\n0.021435 97\n0.627082 86\n0.177852 2235\n0.537474 865\n0.000407 79\n0.478690 98\n0.242741 83\n0.144568 80\n0.142879 80\n0.214014 80\n0.144124 80\n0.221515 80\n0.144051 75\n0.215069 81\n0.143349 82\n0.113882 82\n0.182015 95\n0.097524 278\n0.389782 89\n0.537884 96\n0.307589 433\n0.224035 83\n0.521602 82\n0.220834 80\n0.456038 80\n0.219266 80\n0.293441 80\n0.149297 80\n0.369914 374\n0.148821 82\n0.541366 72\n0.197249 253\n0.198667 92\n0.928452 143\n0.362996 89\n0.144754 88\n0.144833 87\n0.147626 87\n0.144401 275\n0.290744 700\n0.677121 75\n1.453789 47\n0.074346 75\n0.142735 56\n0.503017 93\n0.790073 82\n0.142372 80\n2.603333 80\n0.144949 81\n0.215104 56\n0.234190 47\n0.816817 56\n0.639534 88\n0.575562 87\n0.143717 47\n0.083131 87\n0.071795 136\n0.498899 116\n0.372627 80\n0.143771 277\n1.300412 88\n0.303826 96\n0.151641 96\n0.151331 93\n0.200917 96\n0.151300 94\n0.101341 644\n0.302147 54\n1.203780 54\n0.147222 54\n0.074095 54\n0.090103 54\n0.073404 54\n0.735443 7\n0.167989 52\n0.000030 36\n0.002032 209\n0.000030 33\n0.000025 92\n0.000029 168\n0.000066 330\n0.000425 2\n0.000025 96\n0.068323 24\n1.048705 29\n0.369765 1898\n1.307655 103\n3.495860 29\n0.000036 45\n0.187700 44\n0.447821 1627\n0.389488 65\n1.233707 65\n0.290226 62\n0.599404 25\n1.582980 148\n0.000543 8\n0.134838 28\n0.644497 12\n0.472473 28\n0.240302 51\n0.103259 2\n0.136228 28\n0.135952 28\n0.160027 28\n0.159741 28\n0.120140 28\n0.081631 28\n0.070646 28\n0.111593 28\n0.292132 65\n0.358262 1\n0.209698 13\n0.167938 115\n0.593455 109\n0.030896 65\n0.012920 181\n0.228105 2\n0.238826 26\n0.120831 2\n0.223739 36\n0.298765 7\n0.000012 33\n0.000293 284\n0.021399 97\n0.566617 86\n0.177668 2048\n0.605157 187\n0.000036 865\n0.000256 79\n0.464043 98\n0.143180 83\n0.144524 80\n0.218157 80\n0.140411 80\n0.279362 80\n0.149622 80\n0.149396 81\n0.143681 82\n0.143433 82\n0.142887 76\n0.149752 82\n0.147629 89\n0.352745 95\n0.219073 278\n0.218782 89\n0.439738 96\n0.548209 433\n0.170924 83\n0.459485 82\n0.194003 80\n0.243249 374\n0.149890 82\n0.613242 72\n0.148367 253\n0.283430 95\n0.366808 89\n0.141025 88\n0.215576 81\n3.266505 82\n0.146788 129\n0.139479 95\n1.279320 129\n0.495183 92\n0.441793 112\n0.365356 76\n0.143165 278\n1.070349 89\n0.294689 96\n0.228810 96\n0.152982 93\n0.146493 96\n0.291569 94\n0.298119 519\n0.292183 54\n1.215789 54\n0.197921 54\n0.049346 54\n0.123544 54\n0.074400 54\n0.071328 416\n0.475145 7\n3.418290 12\n0.000180 34\n0.000155 34\n0.001835 2\n0.000071 85\n0.000071 2\n0.000204 20\n0.000165 2\n0.000159 86\n0.005104 2\n0.000130 38\n0.000080 2\n0.000259 89\n0.000199 2\n0.000057 35\n0.000057 2\n0.000048 89\n0.000165 2\n0.000113 23\n0.000130 2\n0.000110 89\n0.000185 2\n0.000062 38\n0.000061 2\n0.000049 17\n0.000058 2\n0.000145 2\n0.000357 96\n0.067395 24\n0.375665 4\n0.904362 4\n0.135622 4\n0.136262 4\n0.143755 4\n0.143929 4\n0.111867 4\n0.160006 2\n0.289143 36\n0.276519 7\n0.000012 33\n0.000301 302\n0.021412 97\n1.311042 96\n0.179881 84\n0.134931 84\n0.314303 2235\n0.418112 885\n0.000359 79\n0.753824 98\n0.146279 465\n1.048974 96\n0.024811 17\n0.472446 7\n0.160124 29\n0.753298 33\n0.457407 125\n0.002700 945\n0.000750 324\n0.000525 499\n0.000465 103\n1.053888 29\n0.000042 43\n0.179475 1546\n0.501304 62\n1.093355 1355\n0.000543 5\n0.609578 1000\n0.000047 224\n0.000604 409\n0.757938 628\n0.000086 238\n0.000590 4\n0.457503 1\n0.000077 34\n0.000052 1\n0.000047 51\n0.000047 1\n0.000355 43\n0.000081 1\n0.000157 72\n0.000222 1\n0.000065 63\n0.000049 1\n0.000141 23\n0.000057 1\n0.000138 188\n0.000162 1\n0.000091 66\n0.000142 1\n0.000056 301\n0.000063 1\n0.000136 161\n0.000155 91\n0.000336 1\n0.000057 46\n0.000046 1\n0.000094 146\n0.000134 46\n0.987726 1287\n0.000470 8\n1.120217 1\n0.000574 65\n0.000243 1\n0.000321 52\n0.000242 1\n0.000254 15\n0.000225 1\n0.000307 220\n0.000237 1\n0.000270 71\n0.000213 1\n0.000239 77\n0.000211 1\n0.000236 78\n0.000210 1\n0.000235 47\n0.000209 1\n0.000235 97\n0.000212 1\n0.000241 231\n0.000255 65\n0.000357 201\n0.000401 1\n0.000263 96\n0.000219 62\n0.544189 1\n0.000696 75\n0.000073 1\n0.000049 87\n0.000048 1\n0.000164 217\n0.000050 1\n0.000044 127\n0.000045 1\n0.000045 339\n0.000066 205\n0.000477 115\n0.000091 72\n0.322618 1294\n0.000496 96\n0.157892 814\n0.000107 225\n0.000031 196\n0.000348 18\n0.135690 952\n0.000047 288\n0.000539 4\n0.143615 1\n0.000399 173\n0.000178 1\n0.000377 1083\n0.003015 236\n0.466977 973\n0.000176 1\n0.433276 58\n0.003131 889\n0.000051 75\n0.000727 144\n0.000029 98\n0.000382 150\n0.000027 108\n0.000028 70\n0.668535 920\n0.000052 365\n0.000735 611\n0.431887 530\n0.000042 403\n0.000597 250\n0.508623 853\n0.000100 220\n0.000505 79\n0.000354 273\n0.000038 162\n0.652556 755\n0.000052 102\n0.000081 246\n0.000581 30\n0.000030 238\n0.000334 187\n1.251229 802\n0.000050 317\n0.000030 37\n0.000025 281\n0.000595 510\n0.841495 580\n0.000072 512\n0.000726 194\n2.808875 795\n0.000108 366\n0.000035 63\n2.058888 985\n0.000046 38\n0.000034 3\n0.000906 335\n0.000040 105\n2.443484 912\n0.000103 38\n0.000579 194\n0.000039 64\n0.837158 64\n0.383911 67\n1.146248 119\n1.080991 81\n0.860607 965\n0.000113 246\n0.000032 60\n0.000080 2\n0.000523 170\n0.000034 62\n1.712228 63\n0.239185 63\n0.208308 63\n0.224931 4\n1.499067 1\n0.000841 175\n0.000063 1\n0.000047 107\n0.000050 1\n0.000062 343\n0.000060 1\n0.000044 62\n0.000042 1\n0.000043 186\n0.000048 1\n0.000043 1\n0.000043 46\n0.000058 179\n0.000190 6\n0.000193 1\n0.000044 257\n0.000056 675\n0.672269 565\n0.000037 206\n0.000036 314\n0.000775 1521\n1.021813 25\n0.619616 734\n0.000637 171\n0.000036 70\n1.139573 879\n0.000052 305\n0.000681 174\n0.000097 427\n1.384039 488\n0.000087 1\n0.000895 232\n0.000249 383\n0.000403 62\n4.729188 63\n0.499381 64\n0.050486 63\n0.051016 63\n0.050786 63\n0.050241 63\n0.050099 64\n0.050027 64\n0.050526 64\n0.050363 64\n0.050786 64\n0.050115 66\n0.050656 428\n18.476926 535\n0.000050 236\n0.000082 315\n0.000716 62\n1.484050 63\n0.500408 63\n0.049671 64\n0.050190 63\n0.050982 63\n0.050920 63\n0.050684 64\n0.051398 64\n0.306837 65\n0.639412 64\n0.523555 64\n0.429394 1\n0.182614 11\n1.084928 31\n0.000028 30\n0.152185 30\n0.127841 30\n0.448366 26\n0.523761 37\n0.000116 11\n0.176137 55\n0.000115 7\n0.358395 115\n0.017482 109\n0.040683 64\n0.006961 17\n0.438515 102\n0.228491 29\n0.000033 41\n0.340370 78\n0.518528 64\n0.000073 45\n0.537261 46\n0.551606 45\n0.312289 1745\n0.221180 71\n8.786881 75\n16.990040 62\n0.494966 64\n0.049819 64\n0.050354 64\n0.049810 64\n0.050617 64\n0.050291 64\n0.050416 65\n0.050902 64\n0.051501 52\n0.056679 856\n0.000055 384\n0.000595 115\n0.000313 271\n0.000037 65\n0.318380 65\n0.500326 66\n0.050434 65\n0.050318 65\n0.051337 65\n0.050699 65\n0.050887 65\n0.050234 62\n0.050261 60\n0.050728 106\n0.180814 795\n0.000050 79\n0.000615 374\n0.000031 240\n0.000300 1\n2.007565 1\n0.500298 1\n0.050378 1\n0.050018 65\n0.269712 231\n0.600201 615\n0.000049 3\n0.000068 440\n0.000542 329\n0.683815 1\n0.007262 131\n0.000071 1\n0.000045 228\n0.000053 1\n0.000043 39\n0.000045 1\n0.000042 63\n0.000044 1\n0.000043 108\n0.000059 2\n0.000328 1\n0.000056 77\n0.000048 1\n0.000043 386\n0.000060 2\n0.000196 1\n0.000058 225\n0.000053 64\n0.247641 63\n0.498163 63\n0.049898 63\n0.050700 63\n0.050431 63\n0.050920 64\n0.049325 64\n0.050545 64\n0.050508 64\n0.163683 65\n0.287640 1\n0.239157 1\n0.168951 1\n0.159315 1\n0.133923 1\n0.129859 74\n0.323216 41\n0.496737 39\n0.049853 41\n0.051116 41\n0.050435 41\n0.050887 41\n0.049993 41\n0.050159 41\n0.050789 41\n0.049316 41\n0.049896 74\n0.051351 198\n0.049941 53\n0.049970 53\n0.051739 51\n0.051075 28\n0.050500 23\n0.000101 58\n0.050283 22\n0.000086 1\n0.171275 1\n0.000106 1\n0.000049 46\n0.000061 41\n0.150953 41\n0.151677 41\n0.160171 41\n0.144047 41\n0.119921 17\n0.128028 22\n0.000057 38\n0.112535 38\n0.167355 38\n0.103518 38\n0.120411 1\n0.839850 1\n0.000077 1\n0.000051 63\n0.000071 38\n0.207760 38\n0.072136 13\n0.096526 24\n0.002508 38\n0.297701 38\n0.131183 38\n0.192239 38\n0.111941 38\n0.079653 68\n0.064385 38\n0.168104 38\n0.096157 38\n0.032259 38\n0.176020 38\n1.024719 38\n0.103155 38\n0.088001 8\n0.338444 4\n0.277941 118\n0.474954 112\n0.042138 65\n0.004448 75\n0.533678 65\n0.539447 25\n0.520571 148\n0.000045 2\n0.184277 28\n0.555251 28\n0.152212 28\n0.055659 55\n0.120245 28\n0.063816 28\n0.224054 28\n0.095775 28\n0.128132 28\n0.072413 3\n0.232898 28\n0.127484 3\n0.088246 28\n0.327721 28\n0.153222 28\n0.102601 28\n0.312210 28\n0.135595 28\n0.056353 28\n0.096836 28\n0.195413 28\n0.163785 28\n0.232073 28\n0.231928 28\n0.304559 28\n0.783128 30\n0.038945 3\n0.427561 30\n0.767125 32\n0.020733 3\n0.316050 183\n0.862504 402\n0.511606 456\n0.000041 45\n1.248518 45\n0.199820 45\n0.087901 45\n0.168946 92\n1.047967 32\n0.280335 176\n0.287530 81\n1.759911 82\n0.463975 81\n0.096174 45\n0.167677 45\n0.104031 45\n0.088199 92\n0.232243 32\n0.216189 169\n0.216626 45\n0.267793 45\n0.155655 45\n0.079722 45\n0.049174 92\n0.266498 118\n0.542411 177\n0.039940 75\n0.373385 65\n0.494515 62\n0.050284 64\n0.050574 64\n0.050108 64\n0.051057 64\n0.051380 64\n0.050506 64\n0.049853 65\n0.050464 64\n0.050992 51\n0.055924 857\n0.000046 831\n0.001220 65\n0.044645 65\n0.471427 64\n0.287625 65\n0.303996 25\n0.200349 148\n0.000080 1\n0.103224 28\n0.404222 5\n0.335750 28\n0.184050 51\n0.071784 3\n0.112498 28\n0.055621 28\n0.160086 28\n0.031842 93\n0.128154 28\n0.104130 28\n0.279925 4\n0.328415 4\n0.096848 7\n0.513923 55\n0.000031 28\n0.501068 28\n0.223728 28\n0.119781 28\n0.095994 28\n0.048419 65\n0.502928 1\n0.003662 1\n0.231977 1\n0.500712 1\n0.050367 1\n0.050396 1\n0.050219 1\n0.050879 1\n0.050236 1\n0.050819 1\n0.050723 1\n0.050800 1\n0.050948 36\n0.457485 80\n0.183679 65\n0.311472 65\n0.497276 64\n0.050925 63\n0.051019 63\n0.050024 64\n0.051429 7\n0.554798 236\n0.201917 206\n0.001388 1\n0.088251 28\n0.180521 28\n0.247987 28\n0.144131 2\n0.111923 52\n0.000033 28\n0.104020 28\n0.239987 28\n0.280391 28\n0.127781 28\n0.111984 3\n0.128211 28\n0.207968 3\n0.103982 28\n0.127834 28\n0.152199 28\n0.104165 47\n0.071688 117\n0.452870 111\n0.044747 64\n0.003013 73\n0.306136 63\n0.205471 65\n0.157708 65\n0.152051 65\n0.316178 66\n0.658630 4\n0.338993 28\n0.201563 189\n0.267869 8\n0.139783 28\n0.211885 3\n0.191906 45\n0.232309 1\n0.152027 56\n0.000980 47\n0.000939 46\n0.094124 28\n0.199580 28\n0.016336 55\n0.111705 28\n0.104336 28\n0.191736 28\n0.072264 28\n0.104251 28\n0.060700 28\n0.299371 28\n2.408179 28\n0.080530 28\n0.087246 28\n0.087784 28\n0.087865 28\n0.112428 28\n0.288121 28\n0.296077 28\n0.033661 28\n0.134298 28\n0.192606 4\n0.503430 4\n0.136054 28\n0.064585 28\n0.303295 28\n0.095641 28\n0.232942 28\n0.191381 31\n0.143182 189\n0.441079 8\n0.311479 28\n0.087588 51\n0.183983 2\n0.104183 223\n0.600053 41\n0.208284 146\n0.488200 3\n0.200422 28\n0.079455 28\n0.104101 3\n0.111960 216\n1.008206 359\n0.511976 422\n0.000126 41\n0.120142 41\n0.351472 41\n0.127938 41\n0.128784 146\n0.255682 28\n0.187745 193\n0.415643 2\n0.087562 28\n0.239224 28\n0.244880 28\n0.080010 28\n0.176315 28\n0.120207 57\n0.136024 1\n0.023990 1\n0.000246 215\n0.193540 41\n0.198242 41\n0.072000 41\n0.127684 41\n0.091859 146\n0.212756 28\n0.328104 215\n0.512320 396\n0.000041 175\n0.352308 808\n0.000166 83\n0.000372 125\n0.000313 334\n0.000351 89\n0.998056 858\n0.000054 193\n0.000024 396\n0.000646 64\n0.641041 64\n0.121883 64\n0.159576 64\n0.160023 64\n0.136074 65\n0.190642 50\n1.149783 113\n0.004484 21\n1.044605 4\n0.491976 4\n0.050280 4\n0.050934 4\n0.049561 4\n0.051282 8\n0.049879 1\n0.050680 8\n0.050019 1\n0.051273 4\n0.050738 4\n0.051832 4\n0.050637 4\n0.050378 4\n0.086438 4\n0.014133 4\n0.050683 4\n0.049950 37\n0.050895 4\n0.049976 4\n0.055954 11\n0.044508 2\n0.001142 3\n0.000042 1\n0.049085 1\n0.051788 1\n0.052106 1\n0.047381 1\n0.050577 1\n0.049458 65\n0.050462 1\n0.051266 1\n0.051668 1\n0.050941 1\n0.050378 1\n0.050223 1\n0.050946 1\n0.175821 1\n0.143553 1\n0.136010 28\n0.632084 28\n0.071436 28\n0.144659 28\n0.096459 28\n0.223440 28\n0.152179 28\n0.176742 28\n0.087223 28\n0.079611 66\n0.064500 28\n1.327940 28\n0.257332 28\n0.126736 28\n0.176137 55\n0.224143 28\n0.135773 28\n0.242027 28\n0.086510 53\n0.144136 34\n0.295564 58\n0.352161 34\n0.183838 28\n0.175918 28\n0.169309 28\n0.086220 28\n0.088622 28\n0.047923 28\n0.184782 28\n0.159346 28\n0.031905 28\n0.202732 8\n0.187505 26\n0.000050 8\n0.530907 118\n0.049607 177\n0.043589 35\n0.453878 146\n0.000099 2\n0.423477 4\n0.379769 28\n0.439513 51\n0.080381 2\n0.103840 223\n0.256391 41\n0.167777 41\n0.408125 43\n0.312001 146\n0.184047 3\n0.151648 28\n0.152242 28\n0.104887 3\n0.087019 216\n0.176452 117\n0.517743 474\n0.000249 41\n0.057928 41\n0.201614 41\n0.094553 41\n0.151946 146\n0.384778 109\n0.512249 360\n0.000049 65\n0.023241 8\n0.274020 66\n0.669976 291\n0.816920 1\n0.378076 1\n0.000087 28\n0.308661 28\n0.175723 28\n0.192309 4\n0.327707 28\n0.208038 55\n0.103892 28\n0.120630 28\n0.567542 28\n0.160114 28\n0.063639 28\n0.048683 3\n0.200361 28\n0.216404 3\n0.166849 28\n1.952548 28\n0.175776 28\n0.144743 47\n0.063428 65\n0.558467 65\n0.387848 65\n0.664564 65\n0.167645 1\n0.478262 3\n1.150318 288\n0.440997 65\n0.703031 64\n0.163247 8\n0.535276 294\n3.134788 8\n0.139689 28\n0.342298 28\n0.134992 4\n1.006148 12\n0.121195 28\n0.342778 51\n0.110262 1\n0.172506 1\n0.000022 28\n0.351442 28\n0.553924 3\n0.347742 28\n0.056237 28\n0.150596 28\n0.031494 28\n0.202097 4\n0.343597 4\n0.111897 4\n0.120487 28\n0.103681 28\n0.087678 28\n0.280409 28\n0.120140 4\n0.255787 4\n0.096108 55\n0.117816 28\n0.618428 28\n0.231626 28\n0.104557 28\n0.079449 28\n0.063961 3\n0.184045 28\n0.136973 3\n0.079265 28\n0.159833 28\n0.129078 28\n0.121904 47\n0.069538 118\n0.458155 177\n0.051721 76\n0.408511 65\n0.171586 62\n0.183832 66\n0.621293 35\n0.280766 153\n0.001378 2\n0.105756 28\n1.467904 28\n0.112134 28\n0.207954 28\n0.055901 4\n0.343788 4\n0.096282 28\n0.238319 28\n0.065805 3\n0.063583 53\n0.000134 3\n0.135961 56\n0.001023 47\n0.000902 25\n0.334397 21\n0.000044 28\n0.551605 28\n0.087998 28\n0.152885 28\n0.081024 28\n0.134909 28\n0.103140 28\n0.034898 36\n0.149469 21\n0.000090 28\n0.304143 30\n0.043905 1\n0.325741 69\n0.574864 137\n0.000040 21\n0.279663 22\n0.000115 21\n0.176101 22\n0.000484 21\n0.087408 22\n0.000045 21\n0.103953 22\n0.000046 43\n0.079666 43\n0.129153 21\n0.054885 22\n0.000123 43\n0.050224 21\n0.072734 22\n0.000033 21\n0.061986 22\n0.000056 21\n0.247043 22\n0.000112 21\n0.120291 22\n0.000099 43\n0.100984 21\n0.210539 22\n0.001194 24\n0.231124 120\n0.000040 118\n0.506607 112\n0.043856 65\n0.003249 18\n0.200365 25\n0.242130 148\n0.000042 2\n0.135943 4\n0.938992 28\n0.215869 51\n0.104211 1\n0.119775 1\n0.000734 223\n0.199408 41\n0.232701 146\n0.375505 3\n0.201449 28\n0.118687 28\n0.104044 3\n0.063671 216\n0.185091 41\n0.255541 41\n0.223921 41\n0.051067 41\n0.076633 254\n0.512798 102\n0.004777 163\n0.019055 28\n0.190150 25\n0.338398 161\n0.000038 65\n0.116224 138\n0.511843 28\n0.035220 28\n0.159543 28\n0.047850 55\n0.184973 28\n0.054832 28\n0.232426 28\n0.111879 53\n0.141093 34\n0.387341 58\n0.263983 34\n0.183727 28\n0.256050 28\n0.311901 28\n0.279826 28\n0.111983 28\n0.056074 28\n0.175998 28\n0.136464 28\n0.008049 28\n0.599690 3\n0.224405 28\n0.143736 3\n0.064021 28\n0.187451 28\n0.148494 28\n0.135721 47\n0.064577 7\n0.295890 141\n0.000031 2\n0.168688 4\n3.426523 2\n0.276405 4\n0.200482 1\n0.182958 91\n0.281505 148\n0.000050 116\n0.329801 175\n0.042584 72\n0.421526 59\n1.015357 5\n0.391036 931\n0.000048 540\n0.000547 312\n0.000096 65\n0.761445 65\n0.159674 61\n0.160049 70\n0.342436 181\n2.568759 2\n0.269962 19\n0.129768 2\n0.375309 43\n0.312820 33\n0.000289 302\n0.021366 97\n0.615893 7\n2.457776 52\n0.000031 36\n0.000981 106\n0.000031 125\n0.000066 143\n0.000236 2\n0.000036 96\n0.050655 17\n0.339015 22\n0.705317 33\n0.489886 125\n0.003385 913\n0.000870 1169\n0.000494 509\n0.878127 603\n0.000040 299\n0.000824 189\n0.358419 1\n0.000994 1\n0.000363 39\n0.000255 1\n0.000267 95\n0.000239 1\n0.000269 1\n0.000235 62\n0.000236 1\n0.000261 146\n0.000250 77\n0.000402 165\n0.393746 806\n0.000099 111\n0.000035 2\n0.000069 31\n0.000485 256\n0.000035 64\n0.492357 64\n0.496890 64\n0.051019 64\n0.049701 64\n0.051111 64\n0.050635 65\n0.049872 64\n0.050746 64\n0.050161 64\n0.050844 64\n0.050050 63\n0.050520 64\n0.495285 24\n1.393110 146\n0.000082 64\n0.179722 48\n0.510941 34\n0.000116 64\n1.276753 1\n0.199892 284\n0.216573 191\n0.790611 410\n0.000049 62\n0.490024 63\n0.499703 63\n0.050108 64\n0.051164 63\n0.049514 63\n0.180176 63\n0.520227 63\n0.223495 2\n2.541625 4\n2.068708 2\n0.232053 4\n0.207992 1\n0.183901 51\n0.170170 68\n0.000038 63\n0.454320 64\n0.157351 65\n0.160217 99\n0.353093 99\n0.151437 8\n0.411942 2\n0.196759 28\n0.487326 51\n0.088209 3\n0.135477 28\n0.047953 28\n0.160177 28\n0.024216 55\n0.160269 28\n0.023406 28\n0.464194 28\n0.080452 28\n0.104226 28\n0.044743 28\n2.178643 30\n0.026815 3\n0.467942 1\n0.672000 32\n0.233160 3\n0.128052 28\n0.636118 99\n0.204420 8\n0.139335 28\n1.523982 28\n0.216125 28\n0.087735 55\n0.088288 28\n0.095391 28\n0.176800 28\n0.104025 28\n0.071955 28\n0.047987 28\n0.263971 28\n0.112034 28\n0.197742 28\n0.066412 28\n0.032527 28\n0.335181 28\n0.904494 28\n0.127601 28\n0.104509 28\n0.207504 4\n0.488724 33\n0.202229 2\n0.411560 118\n0.033500 177\n0.111366 46\n0.214801 135\n0.001764 2\n0.173881 19\n0.129517 2\n0.137398 36\n0.303071 7\n0.000012 33\n0.000253 302\n0.021665 97\n1.108709 108\n0.248384 75\n0.626897 70\n0.140339 29\n0.390784 96\n0.736857 84\n0.268173 84\n0.356926 96\n0.160706 97\n1.609898 97\n2.207725 7\n2.561255 52\n0.000032 96\n0.047178 17\n0.287983 22\n0.129661 1074\n0.209544 165\n0.634698 867\n0.000094 85\n0.000500 3\n0.000403 273\n0.000038 64\n0.433447 64\n0.494095 64\n0.050835 64\n0.051645 64\n0.050497 64\n0.050913 64\n0.050871 65\n0.050675 64\n0.050528 64\n0.050494 64\n0.053540 64\n0.051281 63\n0.236825 64\n0.231218 24\n0.355190 146\n0.000031 1\n0.361370 28\n0.595780 28\n0.175513 28\n0.055759 28\n0.024040 28\n0.176187 28\n0.079875 28\n0.143881 28\n0.095836 28\n0.012606 28\n0.043697 28\n0.025236 4\n0.550882 4\n0.112459 4\n0.143682 28\n0.119718 28\n0.057683 28\n0.222198 30\n0.084736 7\n0.522617 117\n0.049666 175\n0.046168 46\n0.199943 135\n0.001785 2\n0.134043 19\n0.145374 2\n0.137342 36\n0.206774 7\n0.000013 33\n0.000292 7\n0.020484 51\n0.000014 36\n0.000340 277\n0.000087 96\n0.019436 17\n0.677808 22\n0.137559 1779\n0.357013 1\n1.502015 1\n0.148002 70\n0.332130 35\n0.124646 35\n0.174772 35\n0.104925 35\n0.136472 32\n0.168474 32\n0.063575 101\n0.003202 49\n0.124523 32\n0.040435 32\n0.039191 117\n0.521128 111\n0.036471 64\n0.002139 181\n0.168910 2\n0.414405 19\n0.345310 2\n0.153507 36\n0.220844 7\n0.000013 33\n0.000289 7\n0.020461 51\n0.000012 36\n0.000292 199\n0.000014 74\n0.000013 2\n0.000010 2\n0.000009 96\n0.019473 17\n0.527456 22\n0.123389 9\n0.149131 1770\n0.004870 103\n1.968257 29\n0.000625 43\n0.315004 44\n0.486013 43\n0.777885 44\n0.615674 43\n0.288310 47\n0.184128 47\n0.191820 45\n0.568098 47\n0.167902 48\n0.176291 50\n0.151731 48\n0.367968 49\n0.175762 45\n0.160242 48\n0.167846 44\n0.160205 43\n0.167816 3\n0.328120 1710\n0.885294 247\n1.303307 885\n0.000172 528\n0.000651 115\n0.595741 889\n0.000751 87\n0.000066 3\n0.000677 276\n0.000035 141\n0.453927 856\n0.000044 251\n0.000610 155\n0.535227 872\n0.000112 117\n0.000072 238\n0.000713 54\n0.587883 446\n0.000042 65\n0.717630 1006\n0.000048 206\n0.000741 145\n0.000033 5\n0.602980 895\n0.000048 6\n0.000087 244\n0.000846 228\n0.935329 859\n0.000046 269\n0.000577 148\n0.486534 789\n0.000048 50\n0.000071 637\n0.000726 431\n0.766768 567\n0.000044 568\n0.000649 248\n0.803826 768\n0.000091 638\n0.000841 115\n0.789054 1\n0.000147 127\n0.000048 1\n0.000044 1\n0.000041 1\n0.000040 18\n0.000042 1\n0.000041 151\n0.000046 1\n0.000041 80\n0.000042 1\n0.000041 1\n0.000041 63\n0.000043 1\n0.000041 40\n0.000041 1\n0.000041 295\n0.000052 1\n0.000041 104\n0.000058 87\n0.000128 2\n0.000172 1\n0.000043 56\n0.000045 1\n0.000105 219\n0.000073 97\n0.710799 853\n0.000119 54\n0.000083 39\n0.000562 205\n0.000038 103\n0.730545 29\n0.000997 45\n0.186853 1489\n0.676828 7\n1.043747 1\n0.391307 1\n0.159910 70\n0.619845 35\n0.141143 35\n0.160066 35\n0.144078 35\n0.144089 32\n0.175833 32\n0.456114 32\n0.207845 32\n0.112637 6\n0.406871 1\n0.215624 30\n1.065473 30\n0.295682 30\n0.236705 30\n0.062921 30\n0.397369 30\n0.167162 30\n0.047887 57\n0.143887 30\n0.103858 30\n0.200727 30\n0.223203 30\n0.172371 30\n0.148365 30\n0.071736 57\n0.120784 30\n0.087393 30\n0.263786 117\n0.408318 175\n0.048362 46\n0.165643 135\n0.001773 2\n0.310141 19\n0.249504 2\n0.174898 36\n0.279712 7\n0.000011 33\n0.000269 302\n0.031321 97\n0.540420 108\n0.216806 75\n0.351915 70\n0.199246 53\n0.264697 97\n1.997217 97\n0.348533 96\n0.767390 108\n0.562980 53\n0.769262 84\n0.724009 84\n0.404582 108\n0.185456 75\n0.279760 53\n0.289507 7\n0.668888 52\n0.000060 96\n0.047523 17\n0.206355 22\n0.153204 33\n0.175608 125\n0.003757 958\n0.000477 272\n0.000289 449\n0.000041 243\n0.859006 757\n0.000109 435\n0.000030 293\n0.000639 234\n0.326798 575\n0.000046 99\n0.001759 280\n0.000044 429\n0.449170 504\n0.000047 2\n0.000076 852\n0.000721 66\n1.572737 69\n6.474634 51\n0.196256 924\n0.000052 77\n0.000028 85\n0.000026 379\n0.000734 64\n0.650103 64\n0.230925 65\n0.500440 64\n0.051050 64\n0.051141 64\n0.054252 64\n0.051157 64\n0.049668 64\n0.049800 61\n0.256828 164\n0.206362 772\n0.000048 210\n0.000660 330\n0.000030 45\n0.000372 266\n0.000035 64\n0.176134 65\n2.008149 64\n3.223790 64\n0.499889 64\n0.050002 64\n0.050365 64\n0.050847 64\n0.051288 64\n0.050173 61\n0.050750 214\n0.056467 694\n0.000049 3\n0.000082 227\n0.000487 443\n0.000546 65\n0.043699 65\n0.504694 64\n0.499118 64\n0.050995 63\n0.050855 63\n0.051000 63\n0.051279 63\n0.051124 63\n0.050072 63\n0.050476 62\n0.051193 62\n0.051243 410\n0.057378 499\n0.000045 870\n0.000874 64\n0.043249 64\n0.050308 63\n0.049845 63\n0.051150 584\n6.645280 464\n0.000085 4\n0.000026 117\n0.000072 150\n0.000596 672\n1.332043 1054\n0.000912 66\n0.560830 70\n0.537229 64\n0.191915 64\n0.159931 64\n0.176007 64\n0.200551 64\n0.167116 64\n0.160282 65\n0.168675 64\n0.143471 179\n0.423738 2\n0.381851 19\n0.145508 2\n0.473577 36\n0.302295 7\n0.000012 33\n0.000289 302\n0.031921 97\n0.431480 108\n0.319312 75\n0.679252 53\n0.152953 108\n0.977870 53\n0.318497 108\n0.410152 75\n0.275285 70\n0.190668 53\n0.032245 59\n0.449612 96\n0.049637 17\n0.231804 22\n0.120942 33\n0.145614 125\n0.003196 913\n0.000478 704\n0.000368 463\n0.000199 64\n0.633261 64\n0.494839 63\n0.049872 63\n0.050894 63\n0.050006 63\n0.053183 63\n0.050273 63\n0.050401 63\n0.051119 66\n1.734260 516\n1.168741 540\n0.000040 271\n0.000603 242\n0.732278 1\n0.000077 359\n0.000062 1\n0.000048 69\n0.000063 1\n0.000045 327\n0.000068 347\n0.000293 1\n0.000050 1\n0.000046 86\n0.000060 2\n0.000182 1\n0.000066 1\n0.000057 31\n0.000054 1\n0.000045 1\n0.000044 45\n0.000046 1\n0.000052 1\n0.000048 207\n0.000062 64\n0.610461 64\n0.492217 64\n0.049854 64\n0.050798 64\n0.051793 64\n0.048183 64\n0.050282 65\n0.050384 64\n0.051517 64\n0.050844 64\n0.051148 63\n0.049737 63\n0.050363 63\n0.050317 63\n0.050146 63\n0.050930 63\n0.050108 63\n0.049907 61\n0.048485 93\n0.051868 960\n0.000034 84\n0.000202 76\n0.000140 303\n0.000015 64\n0.048208 64\n0.287390 64\n0.501281 64\n0.050553 65\n0.051364 64\n0.050369 64\n0.049792 64\n0.050945 64\n0.051479 68\n0.481573 13\n15.908137 917\n0.000055 713\n0.000650 51\n4.568420 934\n0.000043 508\n0.000564 64\n1.034995 67\n0.679310 71\n0.384208 64\n0.153754 64\n0.160087 64\n0.159154 64\n0.160345 66\n0.598003 1\n0.584220 1\n0.500109 1\n0.049749 1\n0.050654 1\n0.050392 1\n0.049713 1\n0.050452 1\n0.050419 1\n0.050331 1\n0.051109 1\n0.050884 1\n0.050564 1\n0.050567 1\n0.050622 1\n0.050234 1\n0.050753 1\n0.049804 8\n0.392130 66\n0.843384 3\n0.284001 28\n1.009917 28\n0.148353 28\n0.473577 4\n0.688258 28\n0.239526 28\n0.048720 3\n0.143612 1\n0.240271 4\n0.120312 4\n0.119343 28\n0.207669 28\n0.112365 57\n0.040451 3\n0.127520 28\n0.167922 28\n0.191917 28\n0.111928 28\n0.104629 28\n0.087608 28\n0.112376 28\n0.095421 28\n0.024198 57\n0.213237 28\n0.211011 28\n0.247984 31\n0.278191 3\n0.537919 118\n0.089115 177\n0.050017 46\n0.179977 135\n0.001712 2\n0.246057 19\n0.121397 2\n0.119768 36\n0.289020 7\n0.000013 33\n0.000267 302\n0.031738 108\n0.811138 75\n0.356902 7\n0.174823 12\n0.000116 40\n0.000355 34\n0.000950 2\n0.000068 85\n0.000067 2\n0.000229 30\n0.000063 2\n0.000143 96\n0.000178 2\n0.000088 46\n0.000152 2\n0.000119 15\n0.000134 2\n0.000085 2\n0.000254 96\n0.063833 17\n0.756171 22\n0.169393 9\n0.598355 24\n0.002992 125\n0.002791 921\n0.000678 383\n0.000519 540\n0.000485 69\n2.957895 4\n0.496904 4\n0.049875 46\n0.050816 4\n0.050606 4\n0.050050 4\n0.050696 4\n0.051425 4\n0.050613 4\n0.050174 4\n0.054452 8\n0.047425 1\n0.050038 39\n0.051404 4\n0.050195 4\n0.088659 4\n0.012012 8\n0.051061 1\n0.097234 4\n0.147777 66\n0.329936 56\n0.001095 47\n0.000954 18\n0.240534 1\n0.500118 1\n0.050600 1\n0.051346 1\n0.050757 1\n0.051499 1\n0.050236 1\n0.050642 1\n0.050528 1\n0.051363 1\n0.050620 1\n0.050670 1\n0.049542 1\n0.050936 236\n0.314964 65\n0.213442 65\n0.147205 60\n0.223899 65\n0.309483 65\n0.154713 223\n0.135048 1\n0.272108 119\n0.142621 21\n0.000029 65\n0.184798 65\n0.145440 206\n0.182033 29\n0.000056 65\n0.159526 65\n0.146674 158\n0.150013 22\n0.000052 203\n0.510856 118\n0.060780 177\n0.051102 46\n0.153678 135\n0.001754 2\n0.142062 19\n0.121792 2\n0.167384 36\n0.296525 7\n0.000012 33\n0.000270 302\n0.031616 97\n0.383749 97\n0.466172 108\n0.158216 75\n0.312475 53\n0.550282 2235\n0.039282 885\n0.000288 7\n1.975474 46\n0.000030 36\n0.001774 197\n0.000032 113\n0.000029 26\n0.000059 361\n0.000254 21\n0.000039 2\n0.000025 96\n0.066841 17\n0.131114 2\n0.242871 36\n0.257883 7\n0.000012 33\n0.000392 302\n0.031835 108\n0.502997 7\n0.326793 12\n0.000031 40\n0.000575 36\n0.000416 119\n0.000029 166\n0.000294 96\n0.045603 17\n0.454569 22\n0.121027 33\n0.297637 125\n0.003065 933\n0.000545 287\n0.000034 525\n0.000613 71\n0.762179 18\n16.271443 71\n0.064622 18\n7.311281 71\n0.032385 75\n0.437176 65\n0.259496 65\n1.879694 65\n1.192400 8\n0.215815 25\n0.362093 148\n0.000040 2\n0.479522 28\n0.283345 28\n0.200203 28\n0.087997 55\n0.144041 28\n0.039869 28\n0.184152 28\n0.192184 28\n0.058419 28\n0.061962 28\n0.080054 3\n0.479470 28\n0.216088 3\n0.056172 72\n0.824307 137\n0.000133 349\n0.510015 56\n0.001035 47\n0.000781 38\n3.032085 21\n0.000110 41\n0.183935 41\n0.071809 41\n0.175870 41\n1.056272 23\n0.376867 130\n0.000042 118\n0.449582 177\n0.046855 75\n0.318963 275\n0.510404 1\n0.106407 67\n1.097452 25\n0.157351 141\n0.000040 115\n0.258919 173\n0.042924 72\n0.293030 64\n0.492003 61\n0.050347 5\n0.067683 967\n0.000049 104\n0.000668 329\n0.000031 45\n0.000384 279\n0.000036 64\n0.035117 65\n0.047918 64\n0.345131 64\n0.500259 64\n0.050812 64\n0.051252 64\n0.050559 64\n0.050127 64\n0.050359 61\n0.050784 454\n0.056819 467\n0.000044 3\n0.000026 303\n0.000076 367\n0.003708 42\n0.513055 64\n0.118305 64\n0.319944 8\n0.279940 66\n0.188126 2\n0.404841 71\n0.000030 4\n0.126512 4\n0.150128 5\n0.128041 28\n0.111704 28\n0.200034 28\n0.191913 1\n0.087879 1\n0.000769 52\n0.000045 3\n0.143451 28\n0.079747 66\n0.196876 28\n0.050739 55\n0.105189 28\n0.103434 28\n0.088148 28\n0.176226 28\n0.055426 28\n0.080240 28\n0.056628 1\n0.143584 28\n0.144011 28\n0.136165 3\n0.192055 198\n0.144475 41\n0.328111 41\n0.169522 41\n0.110078 41\n0.104515 43\n0.312027 43\n0.119994 41\n0.135917 402\n0.505961 456\n0.000040 41\n0.613591 41\n0.192347 57\n0.271986 130\n0.153237 28\n0.006053 107\n0.377018 8\n0.123286 28\n0.235108 28\n0.074037 28\n0.048293 55\n0.125811 278\n0.506217 268\n0.000116 118\n0.120394 112\n0.032929 65\n0.003439 380\n0.542683 781\n0.000503 62\n0.517144 64\n0.499189 63\n0.050250 63\n0.050618 63\n0.051438 63\n0.051010 63\n0.050288 64\n0.050578 64\n0.050438 64\n0.050857 64\n0.050358 65\n0.050814 64\n0.049786 64\n0.050644 64\n0.050482 64\n0.049024 64\n0.049574 64\n0.159505 65\n0.239437 1\n0.191661 1\n0.151964 84\n0.247004 48\n0.140756 48\n0.144133 48\n0.127751 45\n0.111676 45\n0.069782 45\n0.018372 45\n0.256158 45\n0.271711 117\n0.262525 111\n0.048558 65\n0.001784 73\n0.625336 68\n0.866870 13\n0.271465 101\n0.219603 29\n0.000033 43\n0.196692 44\n0.511843 43\n0.767981 47\n0.976379 47\n0.648208 917\n0.490865 25\n0.597847 74\n0.000033 69\n0.112191 61\n0.135491 28\n0.615923 28\n0.247732 3\n0.128087 28\n0.104199 28\n0.103847 28\n0.031797 28\n0.041443 1\n0.166855 28\n0.095881 28\n0.184345 28\n0.079647 28\n0.087971 28\n0.071656 3\n0.104289 28\n0.144131 28\n0.160136 28\n0.079684 3\n0.096164 28\n0.160274 28\n0.039663 28\n0.047732 28\n0.120374 28\n0.111807 28\n0.095973 3\n0.087975 28\n0.040159 28\n0.047970 28\n0.088206 28\n0.104064 28\n0.167964 2\n0.063831 28\n0.079978 28\n0.168220 3\n0.151709 28\n0.199841 28\n0.072053 28\n0.056138 66\n0.079958 2\n0.112433 28\n0.143900 28\n0.071933 28\n0.112142 3\n0.103622 28\n0.040187 28\n0.024009 28\n0.184038 2\n0.007602 28\n0.184582 28\n0.007308 4\n0.336450 7\n0.104007 1\n0.127865 4\n0.120118 3\n0.096152 28\n0.031560 28\n0.087736 28\n0.104509 3\n0.071686 28\n0.128386 28\n0.135932 28\n0.063811 28\n0.064679 28\n0.087460 28\n0.071966 4\n0.312055 4\n0.095765 4\n0.136233 28\n0.039881 28\n0.055891 28\n0.040165 3\n0.119871 28\n0.143975 28\n0.008497 3\n0.512095 28\n0.071399 28\n0.032304 28\n0.096048 1\n0.088102 28\n0.111725 28\n0.256725 4\n0.351462 28\n0.119849 28\n0.160320 28\n0.127955 3\n0.104205 28\n0.103502 28\n0.119914 28\n0.408215 3\n0.065314 28\n0.142979 28\n0.167821 28\n0.047777 66\n0.039787 468\n0.225692 74\n0.000166 28\n0.118629 28\n0.103843 28\n0.079996 28\n0.103967 28\n0.183698 3\n0.088571 28\n0.063984 28\n0.085111 28\n0.058720 3\n0.088571 28\n0.119627 28\n0.047738 28\n0.103881 4\n0.472412 4\n0.103777 8\n0.136005 28\n0.135966 28\n0.047544 28\n0.048342 3\n0.088411 28\n0.079329 28\n0.096496 28\n0.079686 3\n0.096178 28\n0.325750 28\n0.122481 28\n0.095491 28\n0.160494 28\n0.087876 28\n0.023928 3\n0.135935 28\n0.288319 28\n0.184087 28\n0.063646 28\n0.096251 3\n0.103925 28\n0.152082 8\n0.535925 28\n2.512102 28\n0.127848 28\n0.559973 28\n0.040087 3\n0.223732 28\n0.088066 28\n0.135979 28\n0.048079 28\n0.088046 28\n0.272652 28\n0.079173 3\n0.144086 28\n0.216220 28\n0.167846 28\n0.152138 28\n0.079463 2\n0.105143 28\n0.047172 28\n0.111752 3\n0.072142 28\n0.400676 28\n0.087216 28\n0.232479 3\n1.383999 28\n2.072444 28\n0.167627 28\n0.063748 28\n0.137715 3\n0.062351 28\n0.087949 28\n0.055764 28\n0.096235 28\n0.096508 1\n0.183587 28\n0.159921 28\n0.149643 28\n0.146214 28\n0.056318 3\n0.119961 28\n0.087773 28\n0.136815 28\n0.046907 28\n0.208544 28\n0.231974 99\n0.240407 28\n0.159402 28\n0.126981 28\n0.056878 28\n0.048138 3\n0.088069 28\n0.087997 28\n0.103527 1\n0.096489 28\n0.023913 28\n0.079602 3\n0.136480 28\n0.295979 3\n0.152244 1\n0.351734 28\n0.191957 28\n0.128136 28\n0.047606 28\n0.151837 28\n0.019025 28\n0.069891 3\n0.127506 28\n0.159780 28\n0.079940 28\n0.136715 28\n0.079703 1\n0.368013 28\n0.079751 28\n0.087619 28\n0.063968 28\n0.032254 3\n0.088170 28\n0.152671 28\n0.062911 28\n0.048226 28\n0.176188 3\n0.111981 28\n0.064095 28\n0.127745 28\n0.064181 28\n0.120013 2\n0.095894 28\n3.792382 28\n0.103966 28\n0.079965 28\n0.127550 28\n0.032014 28\n0.064336 3\n0.104112 28\n0.071926 28\n0.095708 28\n0.095920 3\n0.104190 28\n0.136199 28\n0.455702 28\n0.112684 28\n0.120017 2\n0.111445 28\n0.127527 28\n0.088563 28\n0.136045 28\n0.088056 28\n0.081368 28\n0.086618 28\n0.119946 28\n0.056338 28\n0.087430 28\n0.111987 28\n0.056458 28\n0.031349 28\n0.176568 28\n0.151685 28\n0.280400 117\n0.753304 29\n0.000052 93\n1.247218 18\n0.543633 1\n0.103284 4\n0.136428 3\n0.169990 28\n0.021403 28\n0.112662 28\n0.072124 3\n0.103760 28\n0.079538 8\n0.416280 1\n0.119830 99\n0.192547 28\n0.071521 28\n0.160047 28\n0.056019 28\n0.103963 28\n0.207842 28\n0.088184 2\n0.127960 28\n0.039925 28\n0.104058 28\n0.063961 3\n0.136136 28\n0.015702 28\n0.400210 28\n0.024234 28\n0.136047 28\n0.119730 28\n0.175672 28\n0.056445 3\n0.104055 28\n0.079971 28\n0.088024 28\n0.144052 28\n0.128004 28\n0.023901 28\n0.047615 28\n0.152478 3\n0.168139 28\n0.151504 28\n0.184430 28\n0.111993 28\n0.119499 1\n0.072046 28\n0.064366 28\n0.063760 28\n0.079802 28\n0.096456 3\n0.080073 28\n0.087777 28\n0.112646 1\n0.055228 28\n0.056141 28\n0.055764 28\n0.064104 28\n0.048501 3\n0.087773 28\n0.215911 28\n0.071640 28\n0.174042 28\n0.138437 3\n0.015754 28\n0.143960 28\n0.048264 28\n0.056045 28\n0.047452 28\n0.152385 1\n0.080092 28\n0.135998 28\n0.192140 28\n0.303847 3\n0.152102 28\n0.167861 28\n0.135987 28\n0.168176 28\n0.063516 3\n0.072283 28\n0.151668 28\n0.088339 3\n0.079859 28\n0.056479 28\n0.111831 28\n0.080167 4\n0.319660 4\n0.104046 28\n0.231905 2\n0.183888 28\n0.135947 28\n0.105372 3\n0.102766 28\n0.480882 28\n0.039655 28\n0.175485 99\n0.112643 28\n0.191199 28\n0.128357 28\n0.063893 28\n0.183757 3\n0.288078 28\n0.375905 28\n0.096013 1\n0.144051 28\n0.087876 28\n0.088248 28\n0.136038 28\n0.191833 28\n0.112875 3\n0.079006 28\n0.088100 28\n0.063893 28\n0.136303 28\n0.071788 4\n0.464718 4\n0.103133 28\n0.136023 28\n0.048501 3\n0.120743 28\n0.063300 28\n0.079917 28\n0.079487 28\n0.120487 28\n0.072221 28\n0.055974 3\n0.063471 28\n0.137415 28\n0.182832 28\n0.119837 3\n0.096039 28\n0.151961 28\n0.040191 28\n0.136404 28\n0.135553 28\n0.023859 28\n0.144113 3\n0.088068 28\n0.167893 8\n0.248259 1\n0.112517 28\n0.189169 3\n0.002729 28\n0.055148 28\n0.112593 28\n0.047577 3\n0.136689 28\n0.103575 28\n0.041116 28\n0.054129 28\n0.104575 2\n0.079974 28\n0.096032 28\n0.072351 3\n0.095820 28\n0.096301 3\n0.015465 28\n0.176005 28\n0.112318 28\n0.159987 28\n0.071573 4\n0.351961 4\n0.095967 28\n0.071761 28\n0.128433 28\n0.039724 28\n0.249350 117\n0.593115 29\n0.000045 4\n1.877012 28\n0.047793 4\n0.424044 4\n0.500647 4\n0.050764 4\n0.051457 4\n0.050841 4\n0.051002 4\n0.050625 4\n0.051142 4\n0.050521 4\n0.050489 4\n0.050545 4\n0.050534 4\n0.050410 4\n0.050396 4\n0.050943 4\n0.051065 4\n0.051084 4\n0.050980 4\n0.050625 4\n0.050328 4\n0.050582 4\n0.050318 4\n0.052281 4\n0.160282 28\n0.744287 28\n0.096040 28\n0.031787 28\n0.272672 28\n0.176255 28\n0.094785 1\n0.354401 218\n0.051197 18\n1.090692 114\n0.258073 29\n0.000610 45\n0.229730 1312\n0.940004 64\n2.121103 64\n0.179402 632\n0.933356 925\n0.000693 347\n0.523598 557\n0.000041 6\n0.000481 237\n0.000064 8\n0.712695 239\n0.000039 62\n0.645293 63\n0.327553 5\n0.415447 1\n0.271671 69\n5.052748 33\n0.133963 33\n0.143604 30\n0.903976 30\n0.167889 30\n0.456881 30\n0.311338 30\n0.151885 30\n0.071926 57\n0.160028 30\n0.096093 30\n0.175638 30\n0.208499 30\n0.088261 30\n0.128479 30\n0.071088 30\n0.111927 117\n1.623988 175\n0.059669 46\n2.018001 135\n0.001772 2\n0.518113 19\n0.145328 2\n0.816315 36\n0.269436 7\n0.000012 33\n0.000267 302\n0.032007 107\n0.805366 77\n0.620302 73\n0.154814 156\n0.252881 7\n0.865159 52\n0.000033 96\n0.048752 17\n0.300800 22\n0.122076 572\n0.240332 1\n0.726289 1\n0.501191 1\n0.049958 1\n0.050668 1\n0.050868 1\n0.051057 1\n0.050235 1\n0.051475 1\n0.049962 1\n0.051165 1\n0.051085 77\n0.350008 66\n0.446725 117\n0.543605 175\n0.056992 181\n0.150276 2\n0.246498 19\n0.097942 22\n0.135406 19\n0.416096 2\n0.157218 36\n0.314769 7\n0.000012 33\n0.000262 302\n0.031803 120\n0.469086 77\n1.475425 73\n0.152818 169\n0.520569 7\n0.474606 12\n0.000139 40\n0.000429 96\n0.063456 17\n0.129892 22\n0.153602 574\n0.208612 1\n0.710203 1\n0.184438 1\n0.167577 1\n0.167935 69\n0.602534 32\n0.742791 3\n0.214799 31\n0.377449 32\n0.071472 1\n0.718956 1\n0.175961 31\n0.193680 31\n0.127864 32\n0.175858 32\n0.904530 31\n0.351610 32\n0.095808 117\n0.664214 175\n0.039672 74\n0.864424 61\n0.159434 2\n0.186770 662\n0.000084 59\n0.000550 65\n0.188736 71\n0.639306 18\n1.215975 64\n0.266674 18\n1.676865 110\n0.158376 96\n0.000849 1\n1.014947 1\n0.161309 1\n0.119974 1\n0.032209 1\n0.287441 1\n0.176370 1\n0.151746 1\n0.208077 1\n0.144046 1\n0.159751 1\n0.144376 1\n0.128161 2\n0.169240 96\n0.022664 1\n0.560533 1\n0.207568 4\n0.599913 11\n6.591997 2\n0.384951 96\n0.007441 1\n0.559404 1\n0.191970 1\n0.056027 1\n0.152196 1\n0.352042 1\n0.135905 1\n0.169244 1\n0.134778 1\n0.071852 1\n0.135993 1\n0.015734 1\n0.240235 1\n0.111950 2\n0.167128 42\n0.057509 7\n0.000516 14\n0.002707 1012\n0.005170 57\n0.665594 3\n0.469587 1\n2.271987 1\n0.360171 1\n0.419577 1\n0.171876 1\n0.056329 1\n0.064976 1\n0.181695 1\n0.055911 1\n0.256486 1\n0.031808 1\n0.129415 1\n0.071739 1\n0.207946 1\n0.087917 1\n0.088129 1\n0.168078 1\n0.135840 1\n0.056076 1\n0.447956 1\n0.687854 31\n0.426447 1\n0.102103 16\n0.703528 1\n0.079769 1\n0.152603 1\n0.168053 1\n0.063999 1\n0.055484 1\n0.072145 1\n0.136354 1\n0.096281 1\n0.071658 1\n0.047906 1\n0.136083 1\n0.063952 1\n0.104384 1\n0.079669 1\n0.063764 1\n0.088195 1\n0.063806 1\n0.136162 3\n0.470663 1\n0.489537 1\n0.191753 1\n0.071673 1\n0.264182 1\n0.080020 1\n0.112474 1\n0.055923 1\n0.111664 1\n0.048003 1\n0.143925 3\n0.272470 1\n0.047329 1\n0.040275 1\n0.128070 1\n0.127901 1\n0.144006 1\n0.040025 1\n0.160453 1\n0.063524 1\n0.048164 1\n0.079935 1\n0.143858 1\n0.112053 1\n0.096236 1\n0.088140 1\n0.079775 1\n0.127886 1\n0.096377 1\n0.167773 1\n0.096190 1\n0.048095 1\n0.111530 1\n0.168431 1\n0.071844 1\n0.144245 1\n0.087260 31\n0.410684 1\n0.141479 1\n0.264212 5\n0.303873 1\n0.103817 1\n0.928075 1\n1.000259 1\n0.111957 1\n0.063654 1\n0.552378 31\n0.219226 1\n0.084861 1\n0.759573 28\n0.146919 3\n0.149565 3\n0.135433 3\n0.136456 3\n0.127749 4\n0.119906 1\n0.232152 1\n0.247785 1\n0.096047 1\n0.080476 1\n0.111816 1\n0.200041 3\n0.359775 3\n0.112229 1\n0.031465 1\n0.168465 1\n0.103678 1\n0.120428 1\n0.600186 1\n0.134342 3\n0.457650 3\n0.168137 7\n0.263368 1\n0.232440 3\n0.160074 3\n0.063662 3\n0.184324 3\n0.063826 3\n0.135918 3\n0.048052 3\n0.143823 3\n0.023941 3\n0.192363 3\n0.336024 3\n0.055847 3\n0.080221 3\n0.143988 3\n0.127854 3\n0.103940 3\n0.072150 3\n0.208077 3\n0.119436 3\n0.128593 3\n0.039747 3\n0.216171 3\n0.111970 3\n0.087932 3\n0.071818 3\n0.096002 4\n0.304029 7\n0.480109 1\n0.159962 13\n0.224156 14\n0.687742 15\n0.095964 7\n0.712263 1\n0.591848 1\n0.136122 1\n0.159737 1\n0.112042 1\n0.071622 1\n0.152188 1\n0.080103 1\n0.040036 1\n0.112145 1\n0.048094 1\n0.080082 1\n0.344473 1\n0.143531 1\n0.112520 1\n0.074419 1\n0.204636 1\n0.120340 1\n0.176140 1\n0.119579 1\n0.224057 1\n0.127825 1\n0.072410 1\n0.095822 3\n0.327820 1\n0.207134 1\n0.008081 1\n0.047876 1\n0.136142 1\n0.047681 1\n0.128249 1\n0.111885 1\n0.113443 1\n0.111937 1\n0.055954 1\n0.160054 1\n0.816136 1\n0.175855 1\n0.111846 1\n0.039908 1\n0.095972 1\n0.011500 1\n0.092360 1\n0.152378 31\n0.391397 1\n0.176410 1\n0.840185 1\n0.071786 1\n1.256043 1\n0.216048 1\n0.127713 1\n0.072389 1\n0.055977 3\n0.536154 3\n0.128059 3\n0.119805 1\n0.039656 1\n0.047963 1\n0.064255 1\n0.088151 1\n0.143779 1\n0.088025 1\n0.127891 1\n0.087992 1\n0.047726 1\n0.095842 1\n0.928386 1\n0.224065 1\n0.143837 1\n0.216276 1\n0.079965 1\n0.112220 1\n0.104603 1\n0.055004 1\n0.208418 1\n0.127799 1\n0.095567 1\n0.744305 1\n0.376312 3\n0.383499 1\n0.192520 1\n0.055687 1\n0.064311 1\n0.096066 1\n0.119563 1\n0.192114 3\n0.287929 3\n0.136207 3\n0.127766 3\n0.128333 1\n0.095636 1\n0.030677 1\n0.153227 1\n0.072236 1\n0.120207 1\n0.047924 1\n0.080618 1\n0.047531 1\n0.039863 1\n0.128070 1\n0.112070 1\n0.119982 1\n0.056435 1\n0.111442 1\n0.303956 3\n0.264390 1\n0.407835 1\n0.199777 1\n0.024262 1\n0.071752 1\n0.248296 1\n0.111960 1\n0.111949 1\n0.224133 1\n0.239974 1\n0.111993 1\n0.095670 1\n0.031707 1\n0.136522 1\n0.015794 1\n0.080329 1\n0.151941 1\n0.304020 1\n0.167727 1\n0.096060 1\n0.096260 1\n0.127604 1\n0.128069 1\n0.104006 1\n0.143850 1\n0.120192 1\n0.070624 1\n0.129391 1\n0.063801 1\n0.184260 31\n3.938918 1\n0.316761 1\n1.223946 29\n0.147648 188\n0.533147 305\n0.768195 110\n0.378376 23\n0.000031 246\n0.015507 54\n0.006708 42\n0.000032 96\n0.002591 1\n0.171793 1\n0.200216 4\n0.360020 1\n0.168001 1\n0.055387 1\n0.096195 1\n0.168168 1\n0.176201 1\n0.095664 1\n0.064114 2\n0.217457 29\n0.569850 42\n0.001207 36\n0.000359 36\n0.002861 36\n0.001013 36\n0.000666 36\n0.001137 36\n0.000725 36\n0.003184 279\n0.006455 32\n0.000034 32\n0.000928 32\n0.000481 32\n0.000628 32\n0.000529 33\n0.000423 33\n0.000393 33\n0.000577 60\n0.000856 40\n0.000027 46\n0.594795 2\n0.000082 21\n0.000269 16\n0.000074 2\n0.000058 96\n0.003566 1\n5.615619 1\n0.071854 1\n0.103283 1\n0.064506 1\n0.136290 2\n0.304981 70\n0.001081 1\n0.229755 1\n0.071861 2\n0.121655 153\n0.003820 2\n0.000026 70\n0.001828 1\n9.313070 1\n0.320823 1\n0.294832 1\n0.096081 1\n0.119861 1\n0.072382 1\n0.279967 4\n0.263963 4\n0.119788 4\n0.112289 1\n0.111789 1\n0.176165 4\n0.775498 4\n0.499768 4\n0.050575 4\n0.050061 4\n0.051283 4\n0.051028 6\n","recorded_at":"1390532591","xdg_current_desktop":"XFCE","uname":"Linux beatrix 3.11.0-15-generic #23-Ubuntu SMP Mon Dec 9 18:16:27 UTC 2013 i686 athlon i686 GNU/Linux\n","title":"Rules of War 19","tags":"emacs, gamedev, python","term":"xterm","description":"Day 19 of Rules of War development","rows":24,"shell":"/bin/bash","columns":80}
